function qT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(r,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const y of u.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&r(y)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var T1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QT(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var xv={exports:{}},l1={};var F4;function JT(){if(F4)return l1;F4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var y=null;if(u!==void 0&&(y=""+u),o.key!==void 0&&(y=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:r,key:y,ref:o!==void 0?o:null,props:u}}return l1.Fragment=t,l1.jsx=n,l1.jsxs=n,l1}var P4;function $T(){return P4||(P4=1,xv.exports=JT()),xv.exports}var te=$T(),bv={exports:{}},ci={};var z4;function e9(){if(z4)return ci;z4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),y=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function m(le){return le===null||typeof le!="object"?null:(le=g&&le[g]||le["@@iterator"],typeof le=="function"?le:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function O(le,ae,V){this.props=le,this.context=ae,this.refs=S,this.updater=V||C}O.prototype.isReactComponent={},O.prototype.setState=function(le,ae){if(typeof le!="object"&&typeof le!="function"&&le!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,le,ae,"setState")},O.prototype.forceUpdate=function(le){this.updater.enqueueForceUpdate(this,le,"forceUpdate")};function N(){}N.prototype=O.prototype;function U(le,ae,V){this.props=le,this.context=ae,this.refs=S,this.updater=V||C}var W=U.prototype=new N;W.constructor=U,k(W,O.prototype),W.isPureReactComponent=!0;var q=Array.isArray;function J(){}var ne={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Se(le,ae,V){var me=V.ref;return{$$typeof:e,type:le,key:ae,ref:me!==void 0?me:null,props:V}}function Fe(le,ae){return Se(le.type,ae,le.props)}function Ue(le){return typeof le=="object"&&le!==null&&le.$$typeof===e}function Ze(le){var ae={"=":"=0",":":"=2"};return"$"+le.replace(/[=:]/g,function(V){return ae[V]})}var mt=/\/+/g;function ct(le,ae){return typeof le=="object"&&le!==null&&le.key!=null?Ze(""+le.key):ae.toString(36)}function ge(le){switch(le.status){case"fulfilled":return le.value;case"rejected":throw le.reason;default:switch(typeof le.status=="string"?le.then(J,J):(le.status="pending",le.then(function(ae){le.status==="pending"&&(le.status="fulfilled",le.value=ae)},function(ae){le.status==="pending"&&(le.status="rejected",le.reason=ae)})),le.status){case"fulfilled":return le.value;case"rejected":throw le.reason}}throw le}function ye(le,ae,V,me,Ae){var Ne=typeof le;(Ne==="undefined"||Ne==="boolean")&&(le=null);var ut=!1;if(le===null)ut=!0;else switch(Ne){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(le.$$typeof){case e:case t:ut=!0;break;case v:return ut=le._init,ye(ut(le._payload),ae,V,me,Ae)}}if(ut)return Ae=Ae(le),ut=me===""?"."+ct(le,0):me,q(Ae)?(V="",ut!=null&&(V=ut.replace(mt,"$&/")+"/"),ye(Ae,ae,V,"",function(Wt){return Wt})):Ae!=null&&(Ue(Ae)&&(Ae=Fe(Ae,V+(Ae.key==null||le&&le.key===Ae.key?"":(""+Ae.key).replace(mt,"$&/")+"/")+ut)),ae.push(Ae)),1;ut=0;var xt=me===""?".":me+":";if(q(le))for(var et=0;et<le.length;et++)me=le[et],Ne=xt+ct(me,et),ut+=ye(me,ae,V,Ne,Ae);else if(et=m(le),typeof et=="function")for(le=et.call(le),et=0;!(me=le.next()).done;)me=me.value,Ne=xt+ct(me,et++),ut+=ye(me,ae,V,Ne,Ae);else if(Ne==="object"){if(typeof le.then=="function")return ye(ge(le),ae,V,me,Ae);throw ae=String(le),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(le).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ut}function Re(le,ae,V){if(le==null)return le;var me=[],Ae=0;return ye(le,me,"","",function(Ne){return ae.call(V,Ne,Ae++)}),me}function ft(le){if(le._status===-1){var ae=le._result;ae=ae(),ae.then(function(V){(le._status===0||le._status===-1)&&(le._status=1,le._result=V)},function(V){(le._status===0||le._status===-1)&&(le._status=2,le._result=V)}),le._status===-1&&(le._status=0,le._result=ae)}if(le._status===1)return le._result.default;throw le._result}var Me=typeof reportError=="function"?reportError:function(le){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof le=="object"&&le!==null&&typeof le.message=="string"?String(le.message):String(le),error:le});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",le);return}console.error(le)},ce={map:Re,forEach:function(le,ae,V){Re(le,function(){ae.apply(this,arguments)},V)},count:function(le){var ae=0;return Re(le,function(){ae++}),ae},toArray:function(le){return Re(le,function(ae){return ae})||[]},only:function(le){if(!Ue(le))throw Error("React.Children.only expected to receive a single React element child.");return le}};return ci.Activity=f,ci.Children=ce,ci.Component=O,ci.Fragment=n,ci.Profiler=o,ci.PureComponent=U,ci.StrictMode=r,ci.Suspense=a,ci.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ci.__COMPILER_RUNTIME={__proto__:null,c:function(le){return ne.H.useMemoCache(le)}},ci.cache=function(le){return function(){return le.apply(null,arguments)}},ci.cacheSignal=function(){return null},ci.cloneElement=function(le,ae,V){if(le==null)throw Error("The argument must be a React element, but you passed "+le+".");var me=k({},le.props),Ae=le.key;if(ae!=null)for(Ne in ae.key!==void 0&&(Ae=""+ae.key),ae)!ve.call(ae,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ae.ref===void 0||(me[Ne]=ae[Ne]);var Ne=arguments.length-2;if(Ne===1)me.children=V;else if(1<Ne){for(var ut=Array(Ne),xt=0;xt<Ne;xt++)ut[xt]=arguments[xt+2];me.children=ut}return Se(le.type,Ae,me)},ci.createContext=function(le){return le={$$typeof:y,_currentValue:le,_currentValue2:le,_threadCount:0,Provider:null,Consumer:null},le.Provider=le,le.Consumer={$$typeof:u,_context:le},le},ci.createElement=function(le,ae,V){var me,Ae={},Ne=null;if(ae!=null)for(me in ae.key!==void 0&&(Ne=""+ae.key),ae)ve.call(ae,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ae[me]=ae[me]);var ut=arguments.length-2;if(ut===1)Ae.children=V;else if(1<ut){for(var xt=Array(ut),et=0;et<ut;et++)xt[et]=arguments[et+2];Ae.children=xt}if(le&&le.defaultProps)for(me in ut=le.defaultProps,ut)Ae[me]===void 0&&(Ae[me]=ut[me]);return Se(le,Ne,Ae)},ci.createRef=function(){return{current:null}},ci.forwardRef=function(le){return{$$typeof:d,render:le}},ci.isValidElement=Ue,ci.lazy=function(le){return{$$typeof:v,_payload:{_status:-1,_result:le},_init:ft}},ci.memo=function(le,ae){return{$$typeof:c,type:le,compare:ae===void 0?null:ae}},ci.startTransition=function(le){var ae=ne.T,V={};ne.T=V;try{var me=le(),Ae=ne.S;Ae!==null&&Ae(V,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(J,Me)}catch(Ne){Me(Ne)}finally{ae!==null&&V.types!==null&&(ae.types=V.types),ne.T=ae}},ci.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ci.use=function(le){return ne.H.use(le)},ci.useActionState=function(le,ae,V){return ne.H.useActionState(le,ae,V)},ci.useCallback=function(le,ae){return ne.H.useCallback(le,ae)},ci.useContext=function(le){return ne.H.useContext(le)},ci.useDebugValue=function(){},ci.useDeferredValue=function(le,ae){return ne.H.useDeferredValue(le,ae)},ci.useEffect=function(le,ae){return ne.H.useEffect(le,ae)},ci.useEffectEvent=function(le){return ne.H.useEffectEvent(le)},ci.useId=function(){return ne.H.useId()},ci.useImperativeHandle=function(le,ae,V){return ne.H.useImperativeHandle(le,ae,V)},ci.useInsertionEffect=function(le,ae){return ne.H.useInsertionEffect(le,ae)},ci.useLayoutEffect=function(le,ae){return ne.H.useLayoutEffect(le,ae)},ci.useMemo=function(le,ae){return ne.H.useMemo(le,ae)},ci.useOptimistic=function(le,ae){return ne.H.useOptimistic(le,ae)},ci.useReducer=function(le,ae,V){return ne.H.useReducer(le,ae,V)},ci.useRef=function(le){return ne.H.useRef(le)},ci.useState=function(le){return ne.H.useState(le)},ci.useSyncExternalStore=function(le,ae,V){return ne.H.useSyncExternalStore(le,ae,V)},ci.useTransition=function(){return ne.H.useTransition()},ci.version="19.2.3",ci}var H4;function Nd(){return H4||(H4=1,bv.exports=e9()),bv.exports}var Ie=Nd();const kn=P0(Ie);var wv={exports:{}},u1={},Cv={exports:{}},Sv={};var U4;function t9(){return U4||(U4=1,(function(e){function t(ye,Re){var ft=ye.length;ye.push(Re);e:for(;0<ft;){var Me=ft-1>>>1,ce=ye[Me];if(0<o(ce,Re))ye[Me]=Re,ye[ft]=ce,ft=Me;else break e}}function n(ye){return ye.length===0?null:ye[0]}function r(ye){if(ye.length===0)return null;var Re=ye[0],ft=ye.pop();if(ft!==Re){ye[0]=ft;e:for(var Me=0,ce=ye.length,le=ce>>>1;Me<le;){var ae=2*(Me+1)-1,V=ye[ae],me=ae+1,Ae=ye[me];if(0>o(V,ft))me<ce&&0>o(Ae,V)?(ye[Me]=Ae,ye[me]=ft,Me=me):(ye[Me]=V,ye[ae]=ft,Me=ae);else if(me<ce&&0>o(Ae,ft))ye[Me]=Ae,ye[me]=ft,Me=me;else break e}}return Re}function o(ye,Re){var ft=ye.sortIndex-Re.sortIndex;return ft!==0?ft:ye.id-Re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var y=Date,d=y.now();e.unstable_now=function(){return y.now()-d}}var a=[],c=[],v=1,f=null,g=3,m=!1,C=!1,k=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function W(ye){for(var Re=n(c);Re!==null;){if(Re.callback===null)r(c);else if(Re.startTime<=ye)r(c),Re.sortIndex=Re.expirationTime,t(a,Re);else break;Re=n(c)}}function q(ye){if(k=!1,W(ye),!C)if(n(a)!==null)C=!0,J||(J=!0,Ze());else{var Re=n(c);Re!==null&&ge(q,Re.startTime-ye)}}var J=!1,ne=-1,ve=5,Se=-1;function Fe(){return S?!0:!(e.unstable_now()-Se<ve)}function Ue(){if(S=!1,J){var ye=e.unstable_now();Se=ye;var Re=!0;try{e:{C=!1,k&&(k=!1,N(ne),ne=-1),m=!0;var ft=g;try{t:{for(W(ye),f=n(a);f!==null&&!(f.expirationTime>ye&&Fe());){var Me=f.callback;if(typeof Me=="function"){f.callback=null,g=f.priorityLevel;var ce=Me(f.expirationTime<=ye);if(ye=e.unstable_now(),typeof ce=="function"){f.callback=ce,W(ye),Re=!0;break t}f===n(a)&&r(a),W(ye)}else r(a);f=n(a)}if(f!==null)Re=!0;else{var le=n(c);le!==null&&ge(q,le.startTime-ye),Re=!1}}break e}finally{f=null,g=ft,m=!1}Re=void 0}}finally{Re?Ze():J=!1}}}var Ze;if(typeof U=="function")Ze=function(){U(Ue)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,ct=mt.port2;mt.port1.onmessage=Ue,Ze=function(){ct.postMessage(null)}}else Ze=function(){O(Ue,0)};function ge(ye,Re){ne=O(function(){ye(e.unstable_now())},Re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ye){ye.callback=null},e.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<ye?Math.floor(1e3/ye):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ye){switch(g){case 1:case 2:case 3:var Re=3;break;default:Re=g}var ft=g;g=Re;try{return ye()}finally{g=ft}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(ye,Re){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var ft=g;g=ye;try{return Re()}finally{g=ft}},e.unstable_scheduleCallback=function(ye,Re,ft){var Me=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Me+ft:Me):ft=Me,ye){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ft+ce,ye={id:v++,callback:Re,priorityLevel:ye,startTime:ft,expirationTime:ce,sortIndex:-1},ft>Me?(ye.sortIndex=ft,t(c,ye),n(a)===null&&ye===n(c)&&(k?(N(ne),ne=-1):k=!0,ge(q,ft-Me))):(ye.sortIndex=ce,t(a,ye),C||m||(C=!0,J||(J=!0,Ze()))),ye},e.unstable_shouldYield=Fe,e.unstable_wrapCallback=function(ye){var Re=g;return function(){var ft=g;g=Re;try{return ye.apply(this,arguments)}finally{g=ft}}}})(Sv)),Sv}var j4;function n9(){return j4||(j4=1,Cv.exports=t9()),Cv.exports}var Ev={exports:{}},eu={};var W4;function r9(){if(W4)return eu;W4=1;var e=Nd();function t(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)c+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(a,c,v){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:a,containerInfo:c,implementation:v}}var y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(a,c){if(a==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return eu.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,eu.createPortal=function(a,c){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return u(a,c,null,v)},eu.flushSync=function(a){var c=y.T,v=r.p;try{if(y.T=null,r.p=2,a)return a()}finally{y.T=c,r.p=v,r.d.f()}},eu.preconnect=function(a,c){typeof a=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(a,c))},eu.prefetchDNS=function(a){typeof a=="string"&&r.d.D(a)},eu.preinit=function(a,c){if(typeof a=="string"&&c&&typeof c.as=="string"){var v=c.as,f=d(v,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;v==="style"?r.d.S(a,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):v==="script"&&r.d.X(a,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},eu.preinitModule=function(a,c){if(typeof a=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var v=d(c.as,c.crossOrigin);r.d.M(a,{crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(a)},eu.preload=function(a,c){if(typeof a=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var v=c.as,f=d(v,c.crossOrigin);r.d.L(a,v,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},eu.preloadModule=function(a,c){if(typeof a=="string")if(c){var v=d(c.as,c.crossOrigin);r.d.m(a,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(a)},eu.requestFormReset=function(a){r.d.r(a)},eu.unstable_batchedUpdates=function(a,c){return a(c)},eu.useFormState=function(a,c,v){return y.H.useFormState(a,c,v)},eu.useFormStatus=function(){return y.H.useHostTransitionStatus()},eu.version="19.2.3",eu}var G4;function im(){if(G4)return Ev.exports;G4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ev.exports=r9(),Ev.exports}var Y4;function i9(){if(Y4)return u1;Y4=1;var e=n9(),t=Nd(),n=im();function r(i){var h="https://react.dev/errors/"+i;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)h+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+i+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var h=i,E=i;if(i.alternate)for(;h.return;)h=h.return;else{i=h;do h=i,(h.flags&4098)!==0&&(E=h.return),i=h.return;while(i)}return h.tag===3?E:null}function y(i){if(i.tag===13){var h=i.memoizedState;if(h===null&&(i=i.alternate,i!==null&&(h=i.memoizedState)),h!==null)return h.dehydrated}return null}function d(i){if(i.tag===31){var h=i.memoizedState;if(h===null&&(i=i.alternate,i!==null&&(h=i.memoizedState)),h!==null)return h.dehydrated}return null}function a(i){if(u(i)!==i)throw Error(r(188))}function c(i){var h=i.alternate;if(!h){if(h=u(i),h===null)throw Error(r(188));return h!==i?null:i}for(var E=i,I=h;;){var G=E.return;if(G===null)break;var Z=G.alternate;if(Z===null){if(I=G.return,I!==null){E=I;continue}break}if(G.child===Z.child){for(Z=G.child;Z;){if(Z===E)return a(G),i;if(Z===I)return a(G),h;Z=Z.sibling}throw Error(r(188))}if(E.return!==I.return)E=G,I=Z;else{for(var Ce=!1,je=G.child;je;){if(je===E){Ce=!0,E=G,I=Z;break}if(je===I){Ce=!0,I=G,E=Z;break}je=je.sibling}if(!Ce){for(je=Z.child;je;){if(je===E){Ce=!0,E=Z,I=G;break}if(je===I){Ce=!0,I=Z,E=G;break}je=je.sibling}if(!Ce)throw Error(r(189))}}if(E.alternate!==I)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?i:h}function v(i){var h=i.tag;if(h===5||h===26||h===27||h===6)return i;for(i=i.child;i!==null;){if(h=v(i),h!==null)return h;i=i.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),Fe=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function Ze(i){return i===null||typeof i!="object"?null:(i=Ue&&i[Ue]||i["@@iterator"],typeof i=="function"?i:null)}var mt=Symbol.for("react.client.reference");function ct(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===mt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case O:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case Se:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case U:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case W:var h=i.render;return i=i.displayName,i||(i=h.displayName||h.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ne:return h=i.displayName||null,h!==null?h:ct(i.type)||"Memo";case ve:h=i._payload,i=i._init;try{return ct(i(h))}catch{}}return null}var ge=Array.isArray,ye=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Me=[],ce=-1;function le(i){return{current:i}}function ae(i){0>ce||(i.current=Me[ce],Me[ce]=null,ce--)}function V(i,h){ce++,Me[ce]=i.current,i.current=h}var me=le(null),Ae=le(null),Ne=le(null),ut=le(null);function xt(i,h){switch(V(Ne,h),V(Ae,i),V(me,null),h.nodeType){case 9:case 11:i=(i=h.documentElement)&&(i=i.namespaceURI)?o4(i):0;break;default:if(i=h.tagName,h=h.namespaceURI)h=o4(h),i=s4(h,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(me),V(me,i)}function et(){ae(me),ae(Ae),ae(Ne)}function Wt(i){i.memoizedState!==null&&V(ut,i);var h=me.current,E=s4(h,i.type);h!==E&&(V(Ae,i),V(me,E))}function _t(i){Ae.current===i&&(ae(me),ae(Ae)),ut.current===i&&(ae(ut),i1._currentValue=ft)}var Ft,st;function At(i){if(Ft===void 0)try{throw Error()}catch(E){var h=E.stack.trim().match(/\n( *(at )?)/);Ft=h&&h[1]||"",st=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+i+st}var St=!1;function Kt(i,h){if(!i||St)return"";St=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(h){var bn=function(){throw Error()};if(Object.defineProperty(bn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bn,[])}catch(ln){var rn=ln}Reflect.construct(i,[],bn)}else{try{bn.call()}catch(ln){rn=ln}i.call(bn.prototype)}}else{try{throw Error()}catch(ln){rn=ln}(bn=i())&&typeof bn.catch=="function"&&bn.catch(function(){})}}catch(ln){if(ln&&rn&&typeof ln.stack=="string")return[ln.stack,rn.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=I.DetermineComponentFrameRoot(),Ce=Z[0],je=Z[1];if(Ce&&je){var Dt=Ce.split(`
`),tn=je.split(`
`);for(G=I=0;I<Dt.length&&!Dt[I].includes("DetermineComponentFrameRoot");)I++;for(;G<tn.length&&!tn[G].includes("DetermineComponentFrameRoot");)G++;if(I===Dt.length||G===tn.length)for(I=Dt.length-1,G=tn.length-1;1<=I&&0<=G&&Dt[I]!==tn[G];)G--;for(;1<=I&&0<=G;I--,G--)if(Dt[I]!==tn[G]){if(I!==1||G!==1)do if(I--,G--,0>G||Dt[I]!==tn[G]){var fn=`
`+Dt[I].replace(" at new "," at ");return i.displayName&&fn.includes("<anonymous>")&&(fn=fn.replace("<anonymous>",i.displayName)),fn}while(1<=I&&0<=G);break}}}finally{St=!1,Error.prepareStackTrace=E}return(E=i?i.displayName||i.name:"")?At(E):""}function zt(i,h){switch(i.tag){case 26:case 27:case 5:return At(i.type);case 16:return At("Lazy");case 13:return i.child!==h&&h!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return Kt(i.type,!1);case 11:return Kt(i.type.render,!1);case 1:return Kt(i.type,!0);case 31:return At("Activity");default:return""}}function Ut(i){try{var h="",E=null;do h+=zt(i,E),E=i,i=i.return;while(i);return h}catch(I){return`
Error generating stack: `+I.message+`
`+I.stack}}var Vt=Object.prototype.hasOwnProperty,un=e.unstable_scheduleCallback,Xt=e.unstable_cancelCallback,qt=e.unstable_shouldYield,Bn=e.unstable_requestPaint,gt=e.unstable_now,dt=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,be=e.unstable_UserBlockingPriority,Ee=e.unstable_NormalPriority,qe=e.unstable_LowPriority,re=e.unstable_IdlePriority,we=e.log,Ve=e.unstable_setDisableYieldValue,it=null,We=null;function Et(i){if(typeof we=="function"&&Ve(i),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(it,i)}catch{}}var Ye=Math.clz32?Math.clz32:yt,at=Math.log,Tt=Math.LN2;function yt(i){return i>>>=0,i===0?32:31-(at(i)/Tt|0)|0}var Pt=256,pn=262144,Cn=4194304;function vn(i){var h=i&42;if(h!==0)return h;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $n(i,h,E){var I=i.pendingLanes;if(I===0)return 0;var G=0,Z=i.suspendedLanes,Ce=i.pingedLanes;i=i.warmLanes;var je=I&134217727;return je!==0?(I=je&~Z,I!==0?G=vn(I):(Ce&=je,Ce!==0?G=vn(Ce):E||(E=je&~i,E!==0&&(G=vn(E))))):(je=I&~Z,je!==0?G=vn(je):Ce!==0?G=vn(Ce):E||(E=I&~i,E!==0&&(G=vn(E)))),G===0?0:h!==0&&h!==G&&(h&Z)===0&&(Z=G&-G,E=h&-h,Z>=E||Z===32&&(E&4194048)!==0)?h:G}function Yn(i,h){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&h)===0}function er(i,h){switch(i){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var i=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),i}function xr(i){for(var h=[],E=0;31>E;E++)h.push(i);return h}function Br(i,h){i.pendingLanes|=h,h!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mr(i,h,E,I,G,Z){var Ce=i.pendingLanes;i.pendingLanes=E,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=E,i.entangledLanes&=E,i.errorRecoveryDisabledLanes&=E,i.shellSuspendCounter=0;var je=i.entanglements,Dt=i.expirationTimes,tn=i.hiddenUpdates;for(E=Ce&~E;0<E;){var fn=31-Ye(E),bn=1<<fn;je[fn]=0,Dt[fn]=-1;var rn=tn[fn];if(rn!==null)for(tn[fn]=null,fn=0;fn<rn.length;fn++){var ln=rn[fn];ln!==null&&(ln.lane&=-536870913)}E&=~bn}I!==0&&Oi(i,I,0),Z!==0&&G===0&&i.tag!==0&&(i.suspendedLanes|=Z&~(Ce&~h))}function Oi(i,h,E){i.pendingLanes|=h,i.suspendedLanes&=~h;var I=31-Ye(h);i.entangledLanes|=h,i.entanglements[I]=i.entanglements[I]|1073741824|E&261930}function Jn(i,h){var E=i.entangledLanes|=h;for(i=i.entanglements;E;){var I=31-Ye(E),G=1<<I;G&h|i[I]&h&&(i[I]|=h),E&=~G}}function Fr(i,h){var E=h&-h;return E=(E&42)!==0?1:si(E),(E&(i.suspendedLanes|h))!==0?0:E}function si(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vi(){var i=Re.p;return i!==0?i:(i=window.event,i===void 0?32:M4(i.type))}function Sn(i,h){var E=Re.p;try{return Re.p=i,h()}finally{Re.p=E}}var vr=Math.random().toString(36).slice(2),Pr="__reactFiber$"+vr,ar="__reactProps$"+vr,fi="__reactContainer$"+vr,yi="__reactEvents$"+vr,xi="__reactListeners$"+vr,Tr="__reactHandles$"+vr,zr="__reactResources$"+vr,gr="__reactMarker$"+vr;function oa(i){delete i[Pr],delete i[ar],delete i[yi],delete i[xi],delete i[Tr]}function Hr(i){var h=i[Pr];if(h)return h;for(var E=i.parentNode;E;){if(h=E[fi]||E[Pr]){if(E=h.alternate,h.child!==null||E!==null&&E.child!==null)for(i=g4(i);i!==null;){if(E=i[Pr])return E;i=g4(i)}return h}i=E,E=i.parentNode}return null}function or(i){if(i=i[Pr]||i[fi]){var h=i.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return i}return null}function co(i){var h=i.tag;if(h===5||h===26||h===27||h===6)return i.stateNode;throw Error(r(33))}function bi(i){var h=i[zr];return h||(h=i[zr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ni(i){i[gr]=!0}var hn=new Set,wi={};function mn(i,h){Zi(i,h),Zi(i+"Capture",h)}function Zi(i,h){for(wi[i]=h,i=0;i<h.length;i++)hn.add(h[i])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},Xn={};function fr(i){return Vt.call(Xn,i)?!0:Vt.call(br,i)?!1:Bo.test(i)?Xn[i]=!0:(br[i]=!0,!1)}function Or(i,h,E){if(fr(h))if(E===null)i.removeAttribute(h);else{switch(typeof E){case"undefined":case"function":case"symbol":i.removeAttribute(h);return;case"boolean":var I=h.toLowerCase().slice(0,5);if(I!=="data-"&&I!=="aria-"){i.removeAttribute(h);return}}i.setAttribute(h,""+E)}}function fo(i,h,E){if(E===null)i.removeAttribute(h);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttribute(h,""+E)}}function cn(i,h,E,I){if(I===null)i.removeAttribute(E);else{switch(typeof I){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(E);return}i.setAttributeNS(h,E,""+I)}}function On(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qi(i){var h=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function hl(i,h,E){var I=Object.getOwnPropertyDescriptor(i.constructor.prototype,h);if(!i.hasOwnProperty(h)&&typeof I<"u"&&typeof I.get=="function"&&typeof I.set=="function"){var G=I.get,Z=I.set;return Object.defineProperty(i,h,{configurable:!0,get:function(){return G.call(this)},set:function(Ce){E=""+Ce,Z.call(this,Ce)}}),Object.defineProperty(i,h,{enumerable:I.enumerable}),{getValue:function(){return E},setValue:function(Ce){E=""+Ce},stopTracking:function(){i._valueTracker=null,delete i[h]}}}}function Ai(i){if(!i._valueTracker){var h=qi(i)?"checked":"value";i._valueTracker=hl(i,h,""+i[h])}}function _a(i){if(!i)return!1;var h=i._valueTracker;if(!h)return!0;var E=h.getValue(),I="";return i&&(I=qi(i)?i.checked?"true":"false":i.value),i=I,i!==E?(h.setValue(i),!0):!1}function pr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zn=/[\n"\\]/g;function Ir(i){return i.replace(Zn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Ti(i,h,E,I,G,Z,Ce,je){i.name="",Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?i.type=Ce:i.removeAttribute("type"),h!=null?Ce==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+On(h)):i.value!==""+On(h)&&(i.value=""+On(h)):Ce!=="submit"&&Ce!=="reset"||i.removeAttribute("value"),h!=null?Qe(i,Ce,On(h)):E!=null?Qe(i,Ce,On(E)):I!=null&&i.removeAttribute("value"),G==null&&Z!=null&&(i.defaultChecked=!!Z),G!=null&&(i.checked=G&&typeof G!="function"&&typeof G!="symbol"),je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"?i.name=""+On(je):i.removeAttribute("name")}function jt(i,h,E,I,G,Z,Ce,je){if(Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(i.type=Z),h!=null||E!=null){if(!(Z!=="submit"&&Z!=="reset"||h!=null)){Ai(i);return}E=E!=null?""+On(E):"",h=h!=null?""+On(h):E,je||h===i.value||(i.value=h),i.defaultValue=h}I=I??G,I=typeof I!="function"&&typeof I!="symbol"&&!!I,i.checked=je?i.checked:!!I,i.defaultChecked=!!I,Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"&&(i.name=Ce),Ai(i)}function Qe(i,h,E){h==="number"&&pr(i.ownerDocument)===i||i.defaultValue===""+E||(i.defaultValue=""+E)}function Gn(i,h,E,I){if(i=i.options,h){h={};for(var G=0;G<E.length;G++)h["$"+E[G]]=!0;for(E=0;E<i.length;E++)G=h.hasOwnProperty("$"+i[E].value),i[E].selected!==G&&(i[E].selected=G),G&&I&&(i[E].defaultSelected=!0)}else{for(E=""+On(E),h=null,G=0;G<i.length;G++){if(i[G].value===E){i[G].selected=!0,I&&(i[G].defaultSelected=!0);return}h!==null||i[G].disabled||(h=i[G])}h!==null&&(h.selected=!0)}}function ki(i,h,E){if(h!=null&&(h=""+On(h),h!==i.value&&(i.value=h),E==null)){i.defaultValue!==h&&(i.defaultValue=h);return}i.defaultValue=E!=null?""+On(E):""}function ma(i,h,E,I){if(h==null){if(I!=null){if(E!=null)throw Error(r(92));if(ge(I)){if(1<I.length)throw Error(r(93));I=I[0]}E=I}E==null&&(E=""),h=E}E=On(h),i.defaultValue=E,I=i.textContent,I===E&&I!==""&&I!==null&&(i.value=I),Ai(i)}function rt(i,h){if(h){var E=i.firstChild;if(E&&E===i.lastChild&&E.nodeType===3){E.nodeValue=h;return}}i.textContent=h}var Gt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(i,h,E){var I=h.indexOf("--")===0;E==null||typeof E=="boolean"||E===""?I?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="":I?i.setProperty(h,E):typeof E!="number"||E===0||Gt.has(h)?h==="float"?i.cssFloat=E:i[h]=(""+E).trim():i[h]=E+"px"}function nn(i,h,E){if(h!=null&&typeof h!="object")throw Error(r(62));if(i=i.style,E!=null){for(var I in E)!E.hasOwnProperty(I)||h!=null&&h.hasOwnProperty(I)||(I.indexOf("--")===0?i.setProperty(I,""):I==="float"?i.cssFloat="":i[I]="");for(var G in h)I=h[G],h.hasOwnProperty(G)&&E[G]!==I&&It(i,G,I)}else for(var Z in h)h.hasOwnProperty(Z)&&It(i,Z,h[Z])}function xn(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),En=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(i){return En.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $r(){}var Rr=null;function ei(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ur=null,Jr=null;function Dr(i){var h=or(i);if(h&&(i=h.stateNode)){var E=i[ar]||null;e:switch(i=h.stateNode,h.type){case"input":if(Ti(i,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name),h=E.name,E.type==="radio"&&h!=null){for(E=i;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll('input[name="'+Ir(""+h)+'"][type="radio"]'),h=0;h<E.length;h++){var I=E[h];if(I!==i&&I.form===i.form){var G=I[ar]||null;if(!G)throw Error(r(90));Ti(I,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name)}}for(h=0;h<E.length;h++)I=E[h],I.form===i.form&&_a(I)}break e;case"textarea":ki(i,E.value,E.defaultValue);break e;case"select":h=E.value,h!=null&&Gn(i,!!E.multiple,h,!1)}}}var Vn=!1;function ba(i,h,E){if(Vn)return i(h,E);Vn=!0;try{var I=i(h);return I}finally{if(Vn=!1,(Ur!==null||Jr!==null)&&(vg(),Ur&&(h=Ur,i=Jr,Jr=Ur=null,Dr(h),i)))for(h=0;h<i.length;h++)Dr(i[h])}}function tr(i,h){var E=i.stateNode;if(E===null)return null;var I=E[ar]||null;if(I===null)return null;E=I[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(i=i.type,I=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!I;break e;default:i=!1}if(i)return null;if(E&&typeof E!="function")throw Error(r(231,h,typeof E));return E}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hi=!1;if(Zr)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{hi=!1}var wo=null,Fo=null,As=null;function Co(){if(As)return As;var i,h=Fo,E=h.length,I,G="value"in wo?wo.value:wo.textContent,Z=G.length;for(i=0;i<E&&h[i]===G[i];i++);var Ce=E-i;for(I=1;I<=Ce&&h[E-I]===G[Z-I];I++);return As=G.slice(i,1<I?1-I:void 0)}function ho(i){var h=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&h===13&&(i=13)):i=h,i===10&&(i=13),32<=i||i===13?i:0}function io(){return!0}function us(){return!1}function Qi(i){function h(E,I,G,Z,Ce){this._reactName=E,this._targetInst=G,this.type=I,this.nativeEvent=Z,this.target=Ce,this.currentTarget=null;for(var je in i)i.hasOwnProperty(je)&&(E=i[je],this[je]=E?E(Z):Z[je]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?io:us,this.isPropagationStopped=us,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),h}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Qi(Ma),Ts=f({},Ma,{view:0,detail:0}),ks=Qi(Ts),Oa,yu,jl,Dl=f({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jl&&(jl&&i.type==="mousemove"?(Oa=i.screenX-jl.screenX,yu=i.screenY-jl.screenY):yu=Oa=0,jl=i),Oa)},movementY:function(i){return"movementY"in i?i.movementY:yu}}),gi=Qi(Dl),Ds=f({},Dl,{dataTransfer:0}),_l=Qi(Ds),Pa=f({},Ts,{relatedTarget:0}),_s=Qi(Pa),Jt=f({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Qi(Jt),Ka=f({},Ma,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cs=Qi(Ka),xu=f({},Ma,{data:0}),Wl=Qi(xu),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ia={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ji(i){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(i):(i=Ia[i])?!!h[i]:!1}function Fs(){return Ji}var Li=f({},Ts,{key:function(i){if(i.key){var h=ru[i.key]||i.key;if(h!=="Unidentified")return h}return i.type==="keypress"?(i=ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(i){return i.type==="keypress"?ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dl=Qi(Li),gl=f({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Qi(gl),jn=f({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),Vo=Qi(jn),di=f({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),fs=Qi(di),qs=f({},Dl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=Qi(qs),oi=f({},Ma,{newState:0,oldState:0}),pl=Qi(oi),Ps=[9,13,27,32],$i=Zr&&"CompositionEvent"in window,zo=null;Zr&&"documentMode"in document&&(zo=document.documentMode);var Bi=Zr&&"TextEvent"in window&&!zo,Ko=Zr&&(!$i||zo&&8<zo&&11>=zo),Zo=" ",Qs=!1;function bu(i,h){switch(i){case"keyup":return Ps.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ml(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Js=!1;function qo(i,h){switch(i){case"compositionend":return ml(h);case"keypress":return h.which!==32?null:(Qs=!0,Zo);case"textInput":return i=h.data,i===Zo&&Qs?null:i;default:return null}}function Ml(i,h){if(Js)return i==="compositionend"||!$i&&bu(i,h)?(i=Co(),As=Fo=wo=null,Js=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Ko&&h.locale!=="ko"?null:h.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function So(i){var h=i&&i.nodeName&&i.nodeName.toLowerCase();return h==="input"?!!Fi[i.type]:h==="textarea"}function Za(i,h,E,I){Ur?Jr?Jr.push(I):Jr=[I]:Ur=I,h=Eg(h,"onChange"),0<h.length&&(E=new Aa("onChange","change",null,E,I),i.push({event:E,listeners:h}))}var hs=null,Ms=null;function Qo(i){e4(i,0)}function Ho(i){var h=co(i);if(_a(h))return i}function za(i,h){if(i==="change")return h}var ji=!1;if(Zr){var ea;if(Zr){var go="oninput"in document;if(!go){var Er=document.createElement("div");Er.setAttribute("oninput","return;"),go=typeof Er.oninput=="function"}ea=go}else ea=!1;ji=ea&&(!document.documentMode||9<document.documentMode)}function $s(){hs&&(hs.detachEvent("onpropertychange",_e),Ms=hs=null)}function _e(i){if(i.propertyName==="value"&&Ho(Ms)){var h=[];Za(h,Ms,i,ei(i)),ba(Qo,h)}}function s(i,h,E){i==="focusin"?($s(),hs=h,Ms=E,hs.attachEvent("onpropertychange",_e)):i==="focusout"&&$s()}function p(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ho(Ms)}function w(i,h){if(i==="click")return Ho(h)}function A(i,h){if(i==="input"||i==="change")return Ho(h)}function D(i,h){return i===h&&(i!==0||1/i===1/h)||i!==i&&h!==h}var L=typeof Object.is=="function"?Object.is:D;function b(i,h){if(L(i,h))return!0;if(typeof i!="object"||i===null||typeof h!="object"||h===null)return!1;var E=Object.keys(i),I=Object.keys(h);if(E.length!==I.length)return!1;for(I=0;I<E.length;I++){var G=E[I];if(!Vt.call(h,G)||!L(i[G],h[G]))return!1}return!0}function T(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function B(i,h){var E=T(i);i=0;for(var I;E;){if(E.nodeType===3){if(I=i+E.textContent.length,i<=h&&I>=h)return{node:E,offset:h-i};i=I}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=T(E)}}function j(i,h){return i&&h?i===h?!0:i&&i.nodeType===3?!1:h&&h.nodeType===3?j(i,h.parentNode):"contains"in i?i.contains(h):i.compareDocumentPosition?!!(i.compareDocumentPosition(h)&16):!1:!1}function K(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var h=pr(i.document);h instanceof i.HTMLIFrameElement;){try{var E=typeof h.contentWindow.location.href=="string"}catch{E=!1}if(E)i=h.contentWindow;else break;h=pr(i.document)}return h}function ee(i){var h=i&&i.nodeName&&i.nodeName.toLowerCase();return h&&(h==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||h==="textarea"||i.contentEditable==="true")}var he=Zr&&"documentMode"in document&&11>=document.documentMode,Te=null,Oe=null,Be=null,Xe=!1;function Ke(i,h,E){var I=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Xe||Te==null||Te!==pr(I)||(I=Te,"selectionStart"in I&&ee(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),Be&&b(Be,I)||(Be=I,I=Eg(Oe,"onSelect"),0<I.length&&(h=new Aa("onSelect","select",null,h,E),i.push({event:h,listeners:I}),h.target=Te)))}function ot(i,h){var E={};return E[i.toLowerCase()]=h.toLowerCase(),E["Webkit"+i]="webkit"+h,E["Moz"+i]="moz"+h,E}var Je={animationend:ot("Animation","AnimationEnd"),animationiteration:ot("Animation","AnimationIteration"),animationstart:ot("Animation","AnimationStart"),transitionrun:ot("Transition","TransitionRun"),transitionstart:ot("Transition","TransitionStart"),transitioncancel:ot("Transition","TransitionCancel"),transitionend:ot("Transition","TransitionEnd")},Ct={},R={};Zr&&(R=document.createElement("div").style,"AnimationEvent"in window||(delete Je.animationend.animation,delete Je.animationiteration.animation,delete Je.animationstart.animation),"TransitionEvent"in window||delete Je.transitionend.transition);function P(i){if(Ct[i])return Ct[i];if(!Je[i])return i;var h=Je[i],E;for(E in h)if(h.hasOwnProperty(E)&&E in R)return Ct[i]=h[E];return i}var Y=P("animationend"),$=P("animationiteration"),oe=P("animationstart"),ke=P("transitionrun"),ze=P("transitionstart"),vt=P("transitioncancel"),nt=P("transitionend"),bt=new Map,Rt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rt.push("scrollEnd");function kt(i,h){bt.set(i,h),mn(h,[i])}var Zt=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},dn=[],Nn=0,In=0;function rr(){for(var i=Nn,h=In=Nn=0;h<i;){var E=dn[h];dn[h++]=null;var I=dn[h];dn[h++]=null;var G=dn[h];dn[h++]=null;var Z=dn[h];if(dn[h++]=null,I!==null&&G!==null){var Ce=I.pending;Ce===null?G.next=G:(G.next=Ce.next,Ce.next=G),I.pending=G}Z!==0&&ta(E,G,Z)}}function Rn(i,h,E,I){dn[Nn++]=i,dn[Nn++]=h,dn[Nn++]=E,dn[Nn++]=I,In|=I,i.lanes|=I,i=i.alternate,i!==null&&(i.lanes|=I)}function sr(i,h,E,I){return Rn(i,h,E,I),wr(i)}function _r(i,h){return Rn(i,null,null,h),wr(i)}function ta(i,h,E){i.lanes|=E;var I=i.alternate;I!==null&&(I.lanes|=E);for(var G=!1,Z=i.return;Z!==null;)Z.childLanes|=E,I=Z.alternate,I!==null&&(I.childLanes|=E),Z.tag===22&&(i=Z.stateNode,i===null||i._visibility&1||(G=!0)),i=Z,Z=Z.return;return i.tag===3?(Z=i.stateNode,G&&h!==null&&(G=31-Ye(E),i=Z.hiddenUpdates,I=i[G],I===null?i[G]=[h]:I.push(h),h.lane=E|536870912),Z):null}function wr(i){if(50<Qd)throw Qd=0,Wm=null,Error(r(185));for(var h=i.return;h!==null;)i=h,h=i.return;return i.tag===3?i.stateNode:null}var jr={};function ui(i,h,E,I){this.tag=i,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(i,h,E,I){return new ui(i,h,E,I)}function pi(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ha(i,h){var E=i.alternate;return E===null?(E=ca(i.tag,h,i.key,i.mode),E.elementType=i.elementType,E.type=i.type,E.stateNode=i.stateNode,E.alternate=i,i.alternate=E):(E.pendingProps=h,E.type=i.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=i.flags&65011712,E.childLanes=i.childLanes,E.lanes=i.lanes,E.child=i.child,E.memoizedProps=i.memoizedProps,E.memoizedState=i.memoizedState,E.updateQueue=i.updateQueue,h=i.dependencies,E.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},E.sibling=i.sibling,E.index=i.index,E.ref=i.ref,E.refCleanup=i.refCleanup,E}function Pi(i,h){i.flags&=65011714;var E=i.alternate;return E===null?(i.childLanes=0,i.lanes=h,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=E.childLanes,i.lanes=E.lanes,i.child=E.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=E.memoizedProps,i.memoizedState=E.memoizedState,i.updateQueue=E.updateQueue,i.type=E.type,h=E.dependencies,i.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),i}function fa(i,h,E,I,G,Z){var Ce=0;if(I=i,typeof i=="function")pi(i)&&(Ce=1);else if(typeof i=="string")Ce=PT(i,E,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Se:return i=ca(31,E,h,G),i.elementType=Se,i.lanes=Z,i;case k:return ha(E.children,G,Z,h);case S:Ce=8,G|=24;break;case O:return i=ca(12,E,h,G|2),i.elementType=O,i.lanes=Z,i;case q:return i=ca(13,E,h,G),i.elementType=q,i.lanes=Z,i;case J:return i=ca(19,E,h,G),i.elementType=J,i.lanes=Z,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:Ce=10;break e;case N:Ce=9;break e;case W:Ce=11;break e;case ne:Ce=14;break e;case ve:Ce=16,I=null;break e}Ce=29,E=Error(r(130,i===null?"null":typeof i,"")),I=null}return h=ca(Ce,E,h,G),h.elementType=i,h.type=I,h.lanes=Z,h}function ha(i,h,E,I){return i=ca(7,i,I,h),i.lanes=E,i}function va(i,h,E){return i=ca(6,i,null,h),i.lanes=E,i}function Eo(i){var h=ca(18,null,null,0);return h.stateNode=i,h}function iu(i,h,E){return h=ca(4,i.children!==null?i.children:[],i.key,h),h.lanes=E,h.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},h}var zs=new WeakMap;function ds(i,h){if(typeof i=="object"&&i!==null){var E=zs.get(i);return E!==void 0?E:(h={value:i,source:h,stack:Ut(h)},zs.set(i,h),h)}return{value:i,source:h,stack:Ut(h)}}var el=[],Ua=0,po=null,Ao=0,qa=[],ja=0,gs=null,Wi=1,Jo="";function To(i,h){el[Ua++]=Ao,el[Ua++]=po,po=i,Ao=h}function wu(i,h,E){qa[ja++]=Wi,qa[ja++]=Jo,qa[ja++]=gs,gs=i;var I=Wi;i=Jo;var G=32-Ye(I)-1;I&=~(1<<G),E+=1;var Z=32-Ye(h)+G;if(30<Z){var Ce=G-G%5;Z=(I&(1<<Ce)-1).toString(32),I>>=Ce,G-=Ce,Wi=1<<32-Ye(h)+G|E<<G|I,Jo=Z+i}else Wi=1<<Z|E<<G|I,Jo=i}function Ol(i){i.return!==null&&(To(i,1),wu(i,1,0))}function Cu(i){for(;i===po;)po=el[--Ua],el[Ua]=null,Ao=el[--Ua],el[Ua]=null;for(;i===gs;)gs=qa[--ja],qa[ja]=null,Jo=qa[--ja],qa[ja]=null,Wi=qa[--ja],qa[ja]=null}function au(i,h){qa[ja++]=Wi,qa[ja++]=Jo,qa[ja++]=gs,Wi=h.id,Jo=h.overflow,gs=i}var Qa=null,ya=null,ri=!1,$o=null,Ra=!1,vl=Error(r(519));function Os(i){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ja(ds(h,i)),vl}function hf(i){var h=i.stateNode,E=i.type,I=i.memoizedProps;switch(h[Pr]=i,h[ar]=I,E){case"dialog":Xi("cancel",h),Xi("close",h);break;case"iframe":case"object":case"embed":Xi("load",h);break;case"video":case"audio":for(E=0;E<$d.length;E++)Xi($d[E],h);break;case"source":Xi("error",h);break;case"img":case"image":case"link":Xi("error",h),Xi("load",h);break;case"details":Xi("toggle",h);break;case"input":Xi("invalid",h),jt(h,I.value,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name,!0);break;case"select":Xi("invalid",h);break;case"textarea":Xi("invalid",h),ma(h,I.value,I.defaultValue,I.children)}E=I.children,typeof E!="string"&&typeof E!="number"&&typeof E!="bigint"||h.textContent===""+E||I.suppressHydrationWarning===!0||i4(h.textContent,E)?(I.popover!=null&&(Xi("beforetoggle",h),Xi("toggle",h)),I.onScroll!=null&&Xi("scroll",h),I.onScrollEnd!=null&&Xi("scrollend",h),I.onClick!=null&&(h.onclick=$r),h=!0):h=!1,h||Os(i,!0)}function tl(i){for(Qa=i.return;Qa;)switch(Qa.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:Qa=Qa.return}}function Gl(i){if(i!==Qa)return!1;if(!ri)return tl(i),ri=!0,!1;var h=i.tag,E;if((E=h!==3&&h!==27)&&((E=h===5)&&(E=i.type,E=!(E!=="form"&&E!=="button")||iv(i.type,i.memoizedProps)),E=!E),E&&ya&&Os(i),tl(i),h===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ya=d4(i)}else if(h===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ya=d4(i)}else h===27?(h=ya,Nh(i.type)?(i=uv,uv=null,ya=i):ya=h):ya=Qa?Mc(i.stateNode.nextSibling):null;return!0}function yl(){ya=Qa=null,ri=!1}function Su(){var i=$o;return i!==null&&(Pu===null?Pu=i:Pu.push.apply(Pu,i),$o=null),i}function Ja(i){$o===null?$o=[i]:$o.push(i)}var sa=le(null),Na=null,qr=null;function ko(i,h,E){V(sa,h._currentValue),h._currentValue=E}function Hs(i){i._currentValue=sa.current,ae(sa)}function nl(i,h,E){for(;i!==null;){var I=i.alternate;if((i.childLanes&h)!==h?(i.childLanes|=h,I!==null&&(I.childLanes|=h)):I!==null&&(I.childLanes&h)!==h&&(I.childLanes|=h),i===E)break;i=i.return}}function bc(i,h,E,I){var G=i.child;for(G!==null&&(G.return=i);G!==null;){var Z=G.dependencies;if(Z!==null){var Ce=G.child;Z=Z.firstContext;e:for(;Z!==null;){var je=Z;Z=G;for(var Dt=0;Dt<h.length;Dt++)if(je.context===h[Dt]){Z.lanes|=E,je=Z.alternate,je!==null&&(je.lanes|=E),nl(Z.return,E,i),I||(Ce=null);break e}Z=je.next}}else if(G.tag===18){if(Ce=G.return,Ce===null)throw Error(r(341));Ce.lanes|=E,Z=Ce.alternate,Z!==null&&(Z.lanes|=E),nl(Ce,E,i),Ce=null}else Ce=G.child;if(Ce!==null)Ce.return=G;else for(Ce=G;Ce!==null;){if(Ce===i){Ce=null;break}if(G=Ce.sibling,G!==null){G.return=Ce.return,Ce=G;break}Ce=Ce.return}G=Ce}}function es(i,h,E,I){i=null;for(var G=h,Z=!1;G!==null;){if(!Z){if((G.flags&524288)!==0)Z=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var Ce=G.alternate;if(Ce===null)throw Error(r(387));if(Ce=Ce.memoizedProps,Ce!==null){var je=G.type;L(G.pendingProps.value,Ce.value)||(i!==null?i.push(je):i=[je])}}else if(G===ut.current){if(Ce=G.alternate,Ce===null)throw Error(r(387));Ce.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(i!==null?i.push(i1):i=[i1])}G=G.return}i!==null&&bc(h,i,E,I),h.flags|=262144}function Il(i){for(i=i.firstContext;i!==null;){if(!L(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Is(i){Na=i,qr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function la(i){return Xu(Na,i)}function $a(i,h){return Na===null&&Is(i),Xu(i,h)}function Xu(i,h){var E=h._currentValue;if(h={context:h,memoizedValue:E,next:null},qr===null){if(i===null)throw Error(r(308));qr=h,i.dependencies={lanes:0,firstContext:h},i.flags|=524288}else qr=qr.next=h;return E}var Uo=typeof AbortController<"u"?AbortController:function(){var i=[],h=this.signal={aborted:!1,addEventListener:function(E,I){i.push(I)}};this.abort=function(){h.aborted=!0,i.forEach(function(E){return E()})}},Uc=e.unstable_scheduleCallback,wc=e.unstable_NormalPriority,Ta={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new Uo,data:new Map,refCount:0}}function Vu(i){i.refCount--,i.refCount===0&&Uc(wc,function(){i.controller.abort()})}var ts=null,ou=0,ps=0,na=null;function Ku(i,h){if(ts===null){var E=ts=[];ou=0,ps=Zm(),na={status:"pending",value:void 0,then:function(I){E.push(I)}}}return ou++,h.then(Zu,Zu),h}function Zu(){if(--ou===0&&ts!==null){na!==null&&(na.status="fulfilled");var i=ts;ts=null,ps=0,na=null;for(var h=0;h<i.length;h++)(0,i[h])()}}function jc(i,h){var E=[],I={status:"pending",value:null,reason:null,then:function(G){E.push(G)}};return i.then(function(){I.status="fulfilled",I.value=h;for(var G=0;G<E.length;G++)(0,E[G])(h)},function(G){for(I.status="rejected",I.reason=G,G=0;G<E.length;G++)(0,E[G])(void 0)}),I}var ns=ye.S;ye.S=function(i,h){Db=gt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Ku(i,h),ns!==null&&ns(i,h)};var li=le(null);function ms(){var i=li.current;return i!==null?i:so.pooledCache}function rl(i,h){h===null?V(li,li.current):V(li,h.pool)}function ua(){var i=ms();return i===null?null:{parent:Ta._currentValue,pool:i}}var Yl=Error(r(460)),Xl=Error(r(474)),Vl=Error(r(542)),Eu={then:function(){}};function qu(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kl(i,h,E){switch(E=i[E],E===void 0?i.push(h):E!==h&&(h.then($r,$r),h=E),h.status){case"fulfilled":return h.value;case"rejected":throw i=h.reason,Wc(i),i;default:if(typeof h.status=="string")h.then($r,$r);else{if(i=so,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=h,i.status="pending",i.then(function(I){if(h.status==="pending"){var G=h;G.status="fulfilled",G.value=I}},function(I){if(h.status==="pending"){var G=h;G.status="rejected",G.reason=I}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw i=h.reason,Wc(i),i}throw rs=h,Yl}}function xl(i){try{var h=i._init;return h(i._payload)}catch(E){throw E!==null&&typeof E=="object"&&typeof E.then=="function"?(rs=E,Yl):E}}var rs=null;function ao(){if(rs===null)throw Error(r(459));var i=rs;return rs=null,i}function Wc(i){if(i===Yl||i===Vl)throw Error(r(483))}var Us=null,Qu=0;function Rs(i){var h=Qu;return Qu+=1,Us===null&&(Us=[]),Kl(Us,i,h)}function il(i,h){h=h.props.ref,i.ref=h!==void 0?h:null}function al(i,h){throw h.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(h),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":i)))}function Ju(i){function h(Yt,Lt){if(i){var $t=Yt.deletions;$t===null?(Yt.deletions=[Lt],Yt.flags|=16):$t.push(Lt)}}function E(Yt,Lt){if(!i)return null;for(;Lt!==null;)h(Yt,Lt),Lt=Lt.sibling;return null}function I(Yt){for(var Lt=new Map;Yt!==null;)Yt.key!==null?Lt.set(Yt.key,Yt):Lt.set(Yt.index,Yt),Yt=Yt.sibling;return Lt}function G(Yt,Lt){return Yt=Ha(Yt,Lt),Yt.index=0,Yt.sibling=null,Yt}function Z(Yt,Lt,$t){return Yt.index=$t,i?($t=Yt.alternate,$t!==null?($t=$t.index,$t<Lt?(Yt.flags|=67108866,Lt):$t):(Yt.flags|=67108866,Lt)):(Yt.flags|=1048576,Lt)}function Ce(Yt){return i&&Yt.alternate===null&&(Yt.flags|=67108866),Yt}function je(Yt,Lt,$t,yn){return Lt===null||Lt.tag!==6?(Lt=va($t,Yt.mode,yn),Lt.return=Yt,Lt):(Lt=G(Lt,$t),Lt.return=Yt,Lt)}function Dt(Yt,Lt,$t,yn){var Lr=$t.type;return Lr===k?fn(Yt,Lt,$t.props.children,yn,$t.key):Lt!==null&&(Lt.elementType===Lr||typeof Lr=="object"&&Lr!==null&&Lr.$$typeof===ve&&xl(Lr)===Lt.type)?(Lt=G(Lt,$t.props),il(Lt,$t),Lt.return=Yt,Lt):(Lt=fa($t.type,$t.key,$t.props,null,Yt.mode,yn),il(Lt,$t),Lt.return=Yt,Lt)}function tn(Yt,Lt,$t,yn){return Lt===null||Lt.tag!==4||Lt.stateNode.containerInfo!==$t.containerInfo||Lt.stateNode.implementation!==$t.implementation?(Lt=iu($t,Yt.mode,yn),Lt.return=Yt,Lt):(Lt=G(Lt,$t.children||[]),Lt.return=Yt,Lt)}function fn(Yt,Lt,$t,yn,Lr){return Lt===null||Lt.tag!==7?(Lt=ha($t,Yt.mode,yn,Lr),Lt.return=Yt,Lt):(Lt=G(Lt,$t),Lt.return=Yt,Lt)}function bn(Yt,Lt,$t){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return Lt=va(""+Lt,Yt.mode,$t),Lt.return=Yt,Lt;if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case m:return $t=fa(Lt.type,Lt.key,Lt.props,null,Yt.mode,$t),il($t,Lt),$t.return=Yt,$t;case C:return Lt=iu(Lt,Yt.mode,$t),Lt.return=Yt,Lt;case ve:return Lt=xl(Lt),bn(Yt,Lt,$t)}if(ge(Lt)||Ze(Lt))return Lt=ha(Lt,Yt.mode,$t,null),Lt.return=Yt,Lt;if(typeof Lt.then=="function")return bn(Yt,Rs(Lt),$t);if(Lt.$$typeof===U)return bn(Yt,$a(Yt,Lt),$t);al(Yt,Lt)}return null}function rn(Yt,Lt,$t,yn){var Lr=Lt!==null?Lt.key:null;if(typeof $t=="string"&&$t!==""||typeof $t=="number"||typeof $t=="bigint")return Lr!==null?null:je(Yt,Lt,""+$t,yn);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case m:return $t.key===Lr?Dt(Yt,Lt,$t,yn):null;case C:return $t.key===Lr?tn(Yt,Lt,$t,yn):null;case ve:return $t=xl($t),rn(Yt,Lt,$t,yn)}if(ge($t)||Ze($t))return Lr!==null?null:fn(Yt,Lt,$t,yn,null);if(typeof $t.then=="function")return rn(Yt,Lt,Rs($t),yn);if($t.$$typeof===U)return rn(Yt,Lt,$a(Yt,$t),yn);al(Yt,$t)}return null}function ln(Yt,Lt,$t,yn,Lr){if(typeof yn=="string"&&yn!==""||typeof yn=="number"||typeof yn=="bigint")return Yt=Yt.get($t)||null,je(Lt,Yt,""+yn,Lr);if(typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case m:return Yt=Yt.get(yn.key===null?$t:yn.key)||null,Dt(Lt,Yt,yn,Lr);case C:return Yt=Yt.get(yn.key===null?$t:yn.key)||null,tn(Lt,Yt,yn,Lr);case ve:return yn=xl(yn),ln(Yt,Lt,$t,yn,Lr)}if(ge(yn)||Ze(yn))return Yt=Yt.get($t)||null,fn(Lt,Yt,yn,Lr,null);if(typeof yn.then=="function")return ln(Yt,Lt,$t,Rs(yn),Lr);if(yn.$$typeof===U)return ln(Yt,Lt,$t,$a(Lt,yn),Lr);al(Lt,yn)}return null}function ur(Yt,Lt,$t,yn){for(var Lr=null,Ca=null,yr=Lt,Ci=Lt=0,aa=null;yr!==null&&Ci<$t.length;Ci++){yr.index>Ci?(aa=yr,yr=null):aa=yr.sibling;var Sa=rn(Yt,yr,$t[Ci],yn);if(Sa===null){yr===null&&(yr=aa);break}i&&yr&&Sa.alternate===null&&h(Yt,yr),Lt=Z(Sa,Lt,Ci),Ca===null?Lr=Sa:Ca.sibling=Sa,Ca=Sa,yr=aa}if(Ci===$t.length)return E(Yt,yr),ri&&To(Yt,Ci),Lr;if(yr===null){for(;Ci<$t.length;Ci++)yr=bn(Yt,$t[Ci],yn),yr!==null&&(Lt=Z(yr,Lt,Ci),Ca===null?Lr=yr:Ca.sibling=yr,Ca=yr);return ri&&To(Yt,Ci),Lr}for(yr=I(yr);Ci<$t.length;Ci++)aa=ln(yr,Yt,Ci,$t[Ci],yn),aa!==null&&(i&&aa.alternate!==null&&yr.delete(aa.key===null?Ci:aa.key),Lt=Z(aa,Lt,Ci),Ca===null?Lr=aa:Ca.sibling=aa,Ca=aa);return i&&yr.forEach(function(zh){return h(Yt,zh)}),ri&&To(Yt,Ci),Lr}function Qr(Yt,Lt,$t,yn){if($t==null)throw Error(r(151));for(var Lr=null,Ca=null,yr=Lt,Ci=Lt=0,aa=null,Sa=$t.next();yr!==null&&!Sa.done;Ci++,Sa=$t.next()){yr.index>Ci?(aa=yr,yr=null):aa=yr.sibling;var zh=rn(Yt,yr,Sa.value,yn);if(zh===null){yr===null&&(yr=aa);break}i&&yr&&zh.alternate===null&&h(Yt,yr),Lt=Z(zh,Lt,Ci),Ca===null?Lr=zh:Ca.sibling=zh,Ca=zh,yr=aa}if(Sa.done)return E(Yt,yr),ri&&To(Yt,Ci),Lr;if(yr===null){for(;!Sa.done;Ci++,Sa=$t.next())Sa=bn(Yt,Sa.value,yn),Sa!==null&&(Lt=Z(Sa,Lt,Ci),Ca===null?Lr=Sa:Ca.sibling=Sa,Ca=Sa);return ri&&To(Yt,Ci),Lr}for(yr=I(yr);!Sa.done;Ci++,Sa=$t.next())Sa=ln(yr,Yt,Ci,Sa.value,yn),Sa!==null&&(i&&Sa.alternate!==null&&yr.delete(Sa.key===null?Ci:Sa.key),Lt=Z(Sa,Lt,Ci),Ca===null?Lr=Sa:Ca.sibling=Sa,Ca=Sa);return i&&yr.forEach(function(ZT){return h(Yt,ZT)}),ri&&To(Yt,Ci),Lr}function ro(Yt,Lt,$t,yn){if(typeof $t=="object"&&$t!==null&&$t.type===k&&$t.key===null&&($t=$t.props.children),typeof $t=="object"&&$t!==null){switch($t.$$typeof){case m:e:{for(var Lr=$t.key;Lt!==null;){if(Lt.key===Lr){if(Lr=$t.type,Lr===k){if(Lt.tag===7){E(Yt,Lt.sibling),yn=G(Lt,$t.props.children),yn.return=Yt,Yt=yn;break e}}else if(Lt.elementType===Lr||typeof Lr=="object"&&Lr!==null&&Lr.$$typeof===ve&&xl(Lr)===Lt.type){E(Yt,Lt.sibling),yn=G(Lt,$t.props),il(yn,$t),yn.return=Yt,Yt=yn;break e}E(Yt,Lt);break}else h(Yt,Lt);Lt=Lt.sibling}$t.type===k?(yn=ha($t.props.children,Yt.mode,yn,$t.key),yn.return=Yt,Yt=yn):(yn=fa($t.type,$t.key,$t.props,null,Yt.mode,yn),il(yn,$t),yn.return=Yt,Yt=yn)}return Ce(Yt);case C:e:{for(Lr=$t.key;Lt!==null;){if(Lt.key===Lr)if(Lt.tag===4&&Lt.stateNode.containerInfo===$t.containerInfo&&Lt.stateNode.implementation===$t.implementation){E(Yt,Lt.sibling),yn=G(Lt,$t.children||[]),yn.return=Yt,Yt=yn;break e}else{E(Yt,Lt);break}else h(Yt,Lt);Lt=Lt.sibling}yn=iu($t,Yt.mode,yn),yn.return=Yt,Yt=yn}return Ce(Yt);case ve:return $t=xl($t),ro(Yt,Lt,$t,yn)}if(ge($t))return ur(Yt,Lt,$t,yn);if(Ze($t)){if(Lr=Ze($t),typeof Lr!="function")throw Error(r(150));return $t=Lr.call($t),Qr(Yt,Lt,$t,yn)}if(typeof $t.then=="function")return ro(Yt,Lt,Rs($t),yn);if($t.$$typeof===U)return ro(Yt,Lt,$a(Yt,$t),yn);al(Yt,$t)}return typeof $t=="string"&&$t!==""||typeof $t=="number"||typeof $t=="bigint"?($t=""+$t,Lt!==null&&Lt.tag===6?(E(Yt,Lt.sibling),yn=G(Lt,$t),yn.return=Yt,Yt=yn):(E(Yt,Lt),yn=va($t,Yt.mode,yn),yn.return=Yt,Yt=yn),Ce(Yt)):E(Yt,Lt)}return function(Yt,Lt,$t,yn){try{Qu=0;var Lr=ro(Yt,Lt,$t,yn);return Us=null,Lr}catch(yr){if(yr===Yl||yr===Vl)throw yr;var Ca=ca(29,yr,null,Yt.mode);return Ca.lanes=yn,Ca.return=Yt,Ca}}}var vs=Ju(!0),df=Ju(!1),Zl=!1;function js(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(i,h){i=i.updateQueue,h.updateQueue===i&&(h.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ys(i,h,E){var I=i.updateQueue;if(I===null)return null;if(I=I.shared,(Da&2)!==0){var G=I.pending;return G===null?h.next=h:(h.next=G.next,G.next=h),I.pending=h,h=wr(i),ta(i,null,E),h}return Rn(i,I,h,E),wr(i)}function ol(i,h,E){if(h=h.updateQueue,h!==null&&(h=h.shared,(E&4194048)!==0)){var I=h.lanes;I&=i.pendingLanes,E|=I,h.lanes=E,Jn(i,E)}}function Do(i,h){var E=i.updateQueue,I=i.alternate;if(I!==null&&(I=I.updateQueue,E===I)){var G=null,Z=null;if(E=E.firstBaseUpdate,E!==null){do{var Ce={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};Z===null?G=Z=Ce:Z=Z.next=Ce,E=E.next}while(E!==null);Z===null?G=Z=h:Z=Z.next=h}else G=Z=h;E={baseState:I.baseState,firstBaseUpdate:G,lastBaseUpdate:Z,shared:I.shared,callbacks:I.callbacks},i.updateQueue=E;return}i=E.lastBaseUpdate,i===null?E.firstBaseUpdate=h:i.next=h,E.lastBaseUpdate=h}var Tu=!1;function ql(){if(Tu){var i=na;if(i!==null)throw i}}function Rl(i,h,E,I){Tu=!1;var G=i.updateQueue;Zl=!1;var Z=G.firstBaseUpdate,Ce=G.lastBaseUpdate,je=G.shared.pending;if(je!==null){G.shared.pending=null;var Dt=je,tn=Dt.next;Dt.next=null,Ce===null?Z=tn:Ce.next=tn,Ce=Dt;var fn=i.alternate;fn!==null&&(fn=fn.updateQueue,je=fn.lastBaseUpdate,je!==Ce&&(je===null?fn.firstBaseUpdate=tn:je.next=tn,fn.lastBaseUpdate=Dt))}if(Z!==null){var bn=G.baseState;Ce=0,fn=tn=Dt=null,je=Z;do{var rn=je.lane&-536870913,ln=rn!==je.lane;if(ln?(ia&rn)===rn:(I&rn)===rn){rn!==0&&rn===ps&&(Tu=!0),fn!==null&&(fn=fn.next={lane:0,tag:je.tag,payload:je.payload,callback:null,next:null});e:{var ur=i,Qr=je;rn=h;var ro=E;switch(Qr.tag){case 1:if(ur=Qr.payload,typeof ur=="function"){bn=ur.call(ro,bn,rn);break e}bn=ur;break e;case 3:ur.flags=ur.flags&-65537|128;case 0:if(ur=Qr.payload,rn=typeof ur=="function"?ur.call(ro,bn,rn):ur,rn==null)break e;bn=f({},bn,rn);break e;case 2:Zl=!0}}rn=je.callback,rn!==null&&(i.flags|=64,ln&&(i.flags|=8192),ln=G.callbacks,ln===null?G.callbacks=[rn]:ln.push(rn))}else ln={lane:rn,tag:je.tag,payload:je.payload,callback:je.callback,next:null},fn===null?(tn=fn=ln,Dt=bn):fn=fn.next=ln,Ce|=rn;if(je=je.next,je===null){if(je=G.shared.pending,je===null)break;ln=je,je=ln.next,ln.next=null,G.lastBaseUpdate=ln,G.shared.pending=null}}while(!0);fn===null&&(Dt=bn),G.baseState=Dt,G.firstBaseUpdate=tn,G.lastBaseUpdate=fn,Z===null&&(G.shared.lanes=0),_h|=Ce,i.lanes=Ce,i.memoizedState=bn}}function z(i,h){if(typeof i!="function")throw Error(r(191,i));i.call(h)}function H(i,h){var E=i.callbacks;if(E!==null)for(i.callbacks=null,i=0;i<E.length;i++)z(E[i],h)}var Q=le(null),ue=le(0);function de(i,h){i=nh,V(ue,i),V(Q,h),nh=i|h.baseLanes}function He(){V(ue,nh),V(Q,Q.current)}function $e(){nh=ue.current,ae(Q),ae(ue)}var Ot=le(null),ht=null;function Nt(i){var h=i.alternate;V(lr,lr.current&1),V(Ot,i),ht===null&&(h===null||Q.current!==null||h.memoizedState!==null)&&(ht=i)}function Qt(i){V(lr,lr.current),V(Ot,i),ht===null&&(ht=i)}function on(i){i.tag===22?(V(lr,lr.current),V(Ot,i),ht===null&&(ht=i)):Dn()}function Dn(){V(lr,lr.current),V(Ot,Ot.current)}function _n(i){ae(Ot),ht===i&&(ht=null),ae(lr)}var lr=le(0);function ti(i){for(var h=i;h!==null;){if(h.tag===13){var E=h.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||sv(E)||lv(E)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break;for(;h.sibling===null;){if(h.return===null||h.return===i)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Wr=0,qn=null,cr=null,mi=null,eo=!1,jo=!1,Ar=!1,mo=0,ra=0,La=null,sl=0;function Gr(){throw Error(r(321))}function Nl(i,h){if(h===null)return!1;for(var E=0;E<h.length&&E<i.length;E++)if(!L(i[E],h[E]))return!1;return!0}function bl(i,h,E,I,G,Z){return Wr=Z,qn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ye.H=i===null||i.memoizedState===null?Cf:Fl,Ar=!1,Z=E(I,G),Ar=!1,jo&&(Z=vo(h,E,I,G)),_o(i),Z}function _o(i){ye.H=Zf;var h=cr!==null&&cr.next!==null;if(Wr=0,mi=cr=qn=null,eo=!1,ra=0,La=null,h)throw Error(r(300));i===null||Oo||(i=i.dependencies,i!==null&&Il(i)&&(Oo=!0))}function vo(i,h,E,I){qn=i;var G=0;do{if(jo&&(La=null),ra=0,jo=!1,25<=G)throw Error(r(301));if(G+=1,mi=cr=null,i.updateQueue!=null){var Z=i.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}ye.H=g0,Z=h(E,I)}while(jo);return Z}function Ql(){var i=ye.H,h=i.useState()[0];return h=typeof h.then=="function"?Mo(h):h,i=i.useState()[0],(cr!==null?cr.memoizedState:null)!==i&&(qn.flags|=1024),h}function Ll(){var i=mo!==0;return mo=0,i}function su(i,h,E){h.updateQueue=i.updateQueue,h.flags&=-2053,i.lanes&=~E}function ku(i){if(eo){for(i=i.memoizedState;i!==null;){var h=i.queue;h!==null&&(h.pending=null),i=i.next}eo=!1}Wr=0,mi=cr=qn=null,jo=!1,ra=mo=0,La=null}function is(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?qn.memoizedState=mi=i:mi=mi.next=i,mi}function da(){if(cr===null){var i=qn.alternate;i=i!==null?i.memoizedState:null}else i=cr.next;var h=mi===null?qn.memoizedState:mi.next;if(h!==null)mi=h,cr=i;else{if(i===null)throw qn.alternate===null?Error(r(467)):Error(r(310));cr=i,i={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},mi===null?qn.memoizedState=mi=i:mi=mi.next=i}return mi}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var h=ra;return ra+=1,La===null&&(La=[]),i=Kl(La,i,h),h=qn,(mi===null?h.memoizedState:mi.next)===null&&(h=h.alternate,ye.H=h===null||h.memoizedState===null?Cf:Fl),i}function Gc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===U)return la(i)}throw Error(r(438,String(i)))}function Yc(i){var h=null,E=qn.updateQueue;if(E!==null&&(h=E.memoCache),h==null){var I=qn.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(h={data:I.data.map(function(G){return G.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),E===null&&(E=lu(),qn.updateQueue=E),E.memoCache=h,E=h.data[h.index],E===void 0)for(E=h.data[h.index]=Array(i),I=0;I<i;I++)E[I]=Fe;return h.index++,E}function as(i,h){return typeof h=="function"?h(i):h}function jf(i){var h=da();return Sc(h,cr,i)}function Sc(i,h,E){var I=i.queue;if(I===null)throw Error(r(311));I.lastRenderedReducer=E;var G=i.baseQueue,Z=I.pending;if(Z!==null){if(G!==null){var Ce=G.next;G.next=Z.next,Z.next=Ce}h.baseQueue=G=Z,I.pending=null}if(Z=i.baseState,G===null)i.memoizedState=Z;else{h=G.next;var je=Ce=null,Dt=null,tn=h,fn=!1;do{var bn=tn.lane&-536870913;if(bn!==tn.lane?(ia&bn)===bn:(Wr&bn)===bn){var rn=tn.revertLane;if(rn===0)Dt!==null&&(Dt=Dt.next={lane:0,revertLane:0,gesture:null,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null}),bn===ps&&(fn=!0);else if((Wr&rn)===rn){tn=tn.next,rn===ps&&(fn=!0);continue}else bn={lane:0,revertLane:tn.revertLane,gesture:null,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null},Dt===null?(je=Dt=bn,Ce=Z):Dt=Dt.next=bn,qn.lanes|=rn,_h|=rn;bn=tn.action,Ar&&E(Z,bn),Z=tn.hasEagerState?tn.eagerState:E(Z,bn)}else rn={lane:bn,revertLane:tn.revertLane,gesture:tn.gesture,action:tn.action,hasEagerState:tn.hasEagerState,eagerState:tn.eagerState,next:null},Dt===null?(je=Dt=rn,Ce=Z):Dt=Dt.next=rn,qn.lanes|=bn,_h|=bn;tn=tn.next}while(tn!==null&&tn!==h);if(Dt===null?Ce=Z:Dt.next=je,!L(Z,i.memoizedState)&&(Oo=!0,fn&&(E=na,E!==null)))throw E;i.memoizedState=Z,i.baseState=Ce,i.baseQueue=Dt,I.lastRenderedState=Z}return G===null&&(I.lanes=0),[i.memoizedState,I.dispatch]}function Wf(i){var h=da(),E=h.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=i;var I=E.dispatch,G=E.pending,Z=h.memoizedState;if(G!==null){E.pending=null;var Ce=G=G.next;do Z=i(Z,Ce.action),Ce=Ce.next;while(Ce!==G);L(Z,h.memoizedState)||(Oo=!0),h.memoizedState=Z,h.baseQueue===null&&(h.baseState=Z),E.lastRenderedState=Z}return[Z,I]}function xh(i,h,E){var I=qn,G=da(),Z=ri;if(Z){if(E===void 0)throw Error(r(407));E=E()}else E=h();var Ce=!L((cr||G).memoizedState,E);if(Ce&&(G.memoizedState=E,Oo=!0),G=G.queue,Iu(l0.bind(null,I,G,i),[i]),G.getSnapshot!==h||Ce||mi!==null&&mi.memoizedState.tag&1){if(I.flags|=2048,Zc(9,{destroy:void 0},s0.bind(null,I,G,E,h),null),so===null)throw Error(r(349));Z||(Wr&127)!==0||o0(I,h,E)}return E}function o0(i,h,E){i.flags|=16384,i={getSnapshot:h,value:E},h=qn.updateQueue,h===null?(h=lu(),qn.updateQueue=h,h.stores=[i]):(E=h.stores,E===null?h.stores=[i]:E.push(i))}function s0(i,h,E,I){h.value=E,h.getSnapshot=I,Du(h)&&_u(i)}function l0(i,h,E){return E(function(){Du(h)&&_u(i)})}function Du(i){var h=i.getSnapshot;i=i.value;try{var E=h();return!L(i,E)}catch{return!0}}function _u(i){var h=_r(i,2);h!==null&&zu(h,i,2)}function wl(i){var h=is();if(typeof i=="function"){var E=i;if(i=E(),Ar){Et(!0);try{E()}finally{Et(!1)}}}return h.memoizedState=h.baseState=i,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:i},h}function Xc(i,h,E,I){return i.baseState=E,Sc(i,cr,typeof I=="function"?I:as)}function Mu(i,h,E,I,G){if(Qc(i))throw Error(r(485));if(i=h.action,i!==null){var Z={payload:G,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ce){Z.listeners.push(Ce)}};ye.T!==null?E(!0):Z.isTransition=!1,I(Z),E=h.pending,E===null?(Z.next=h.pending=Z,gf(h,Z)):(Z.next=E.next,h.pending=E.next=Z)}}function gf(i,h){var E=h.action,I=h.payload,G=i.state;if(h.isTransition){var Z=ye.T,Ce={};ye.T=Ce;try{var je=E(G,I),Dt=ye.S;Dt!==null&&Dt(Ce,je),u0(i,h,je)}catch(tn){Ec(i,h,tn)}finally{Z!==null&&Ce.types!==null&&(Z.types=Ce.types),ye.T=Z}}else try{Z=E(G,I),u0(i,h,Z)}catch(tn){Ec(i,h,tn)}}function u0(i,h,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(I){Bl(i,h,I)},function(I){return Ec(i,h,I)}):Bl(i,h,E)}function Bl(i,h,E){h.status="fulfilled",h.value=E,Vc(h),i.state=E,h=i.pending,h!==null&&(E=h.next,E===h?i.pending=null:(E=E.next,h.next=E,gf(i,E)))}function Ec(i,h,E){var I=i.pending;if(i.pending=null,I!==null){I=I.next;do h.status="rejected",h.reason=E,Vc(h),h=h.next;while(h!==I)}i.action=null}function Vc(i){i=i.listeners;for(var h=0;h<i.length;h++)(0,i[h])()}function Kc(i,h){return h}function $u(i,h){if(ri){var E=so.formState;if(E!==null){e:{var I=qn;if(ri){if(ya){t:{for(var G=ya,Z=Ra;G.nodeType!==8;){if(!Z){G=null;break t}if(G=Mc(G.nextSibling),G===null){G=null;break t}}Z=G.data,G=Z==="F!"||Z==="F"?G:null}if(G){ya=Mc(G.nextSibling),I=G.data==="F!";break e}}Os(I)}I=!1}I&&(h=E[0])}}return E=is(),E.memoizedState=E.baseState=h,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:h},E.queue=I,E=xf.bind(null,qn,I),I.dispatch=E,I=wl(!1),Z=wf.bind(null,qn,!1,I.queue),I=is(),G={state:h,dispatch:null,action:i,pending:null},I.queue=G,E=Mu.bind(null,qn,G,Z,E),G.dispatch=E,I.memoizedState=i,[h,E,!1]}function Cl(i){var h=da();return pf(h,cr,i)}function pf(i,h,E){if(h=Sc(i,h,Kc)[0],i=jf(as)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var I=Mo(h)}catch(Ce){throw Ce===Yl?Vl:Ce}else I=h;h=da();var G=h.queue,Z=G.dispatch;return E!==h.memoizedState&&(qn.flags|=2048,Zc(9,{destroy:void 0},Gf.bind(null,G,E),null)),[I,Z,i]}function Gf(i,h){i.action=h}function Ou(i){var h=da(),E=cr;if(E!==null)return pf(h,E,i);da(),h=h.memoizedState,E=da();var I=E.queue.dispatch;return E.memoizedState=i,[h,I,!1]}function Zc(i,h,E,I){return i={tag:i,create:E,deps:I,inst:h,next:null},h=qn.updateQueue,h===null&&(h=lu(),qn.updateQueue=h),E=h.lastEffect,E===null?h.lastEffect=i.next=i:(I=E.next,E.next=i,i.next=I,h.lastEffect=i),i}function ec(){return da().memoizedState}function mf(i,h,E,I){var G=is();qn.flags|=i,G.memoizedState=Zc(1|h,{destroy:void 0},E,I===void 0?null:I)}function Ac(i,h,E,I){var G=da();I=I===void 0?null:I;var Z=G.memoizedState.inst;cr!==null&&I!==null&&Nl(I,cr.memoizedState.deps)?G.memoizedState=Zc(h,Z,E,I):(qn.flags|=i,G.memoizedState=Zc(1|h,Z,E,I))}function bh(i,h){mf(8390656,8,i,h)}function Iu(i,h){Ac(2048,8,i,h)}function Yf(i){qn.flags|=4;var h=qn.updateQueue;if(h===null)h=lu(),qn.updateQueue=h,h.events=[i];else{var E=h.events;E===null?h.events=[i]:E.push(i)}}function c0(i){var h=da().memoizedState;return Yf({ref:h,nextImpl:i}),function(){if((Da&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function qc(i,h){return Ac(4,2,i,h)}function f0(i,h){return Ac(4,4,i,h)}function h0(i,h){if(typeof h=="function"){i=i();var E=h(i);return function(){typeof E=="function"?E():h(null)}}if(h!=null)return i=i(),h.current=i,function(){h.current=null}}function wh(i,h,E){E=E!=null?E.concat([i]):null,Ac(4,4,h0.bind(null,h,i),E)}function Xf(){}function d0(i,h){var E=da();h=h===void 0?null:h;var I=E.memoizedState;return h!==null&&Nl(h,I[1])?I[0]:(E.memoizedState=[i,h],i)}function W0(i,h){var E=da();h=h===void 0?null:h;var I=E.memoizedState;if(h!==null&&Nl(h,I[1]))return I[0];if(I=i(),Ar){Et(!0);try{i()}finally{Et(!1)}}return E.memoizedState=[I,h],I}function uu(i,h,E){return E===void 0||(Wr&1073741824)!==0&&(ia&261930)===0?i.memoizedState=h:(i.memoizedState=E,i=Mb(),qn.lanes|=i,_h|=i,E)}function vf(i,h,E,I){return L(E,h)?E:Q.current!==null?(i=uu(i,E,I),L(i,h)||(Oo=!0),i):(Wr&42)===0||(Wr&1073741824)!==0&&(ia&261930)===0?(Oo=!0,i.memoizedState=E):(i=Mb(),qn.lanes|=i,_h|=i,h)}function yf(i,h,E,I,G){var Z=Re.p;Re.p=Z!==0&&8>Z?Z:8;var Ce=ye.T,je={};ye.T=je,wf(i,!1,h,E);try{var Dt=G(),tn=ye.S;if(tn!==null&&tn(je,Dt),Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var fn=jc(Dt,I);bf(i,h,fn,ac(i))}else bf(i,h,I,ac(i))}catch(bn){bf(i,h,{then:function(){},status:"rejected",reason:bn},ac())}finally{Re.p=Z,Ce!==null&&je.types!==null&&(Ce.types=je.types),ye.T=Ce}}function Tc(){}function Ru(i,h,E,I){if(i.tag!==5)throw Error(r(476));var G=tc(i).queue;yf(i,G,h,ft,E===null?Tc:function(){return Ch(i),E(I)})}function tc(i){var h=i.memoizedState;if(h!==null)return h;h={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ft},next:null};var E={};return h.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:E},next:null},i.memoizedState=h,i=i.alternate,i!==null&&(i.memoizedState=h),h}function Ch(i){var h=tc(i);h.next===null&&(h=i.alternate.memoizedState),bf(i,h.next.queue,{},ac())}function Vf(){return la(i1)}function G0(){return da().memoizedState}function Sh(){return da().memoizedState}function Y0(i){for(var h=i.return;h!==null;){switch(h.tag){case 24:case 3:var E=ac();i=Ws(E);var I=ys(h,i,E);I!==null&&(zu(I,h,E),ol(I,h,E)),h={cache:Cc()},i.payload=h;return}h=h.return}}function Eh(i,h,E){var I=ac();E={lane:I,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},Qc(i)?Kf(h,E):(E=sr(i,h,E,I),E!==null&&(zu(E,i,I),Ah(E,h,I)))}function xf(i,h,E){var I=ac();bf(i,h,E,I)}function bf(i,h,E,I){var G={lane:I,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null};if(Qc(i))Kf(h,G);else{var Z=i.alternate;if(i.lanes===0&&(Z===null||Z.lanes===0)&&(Z=h.lastRenderedReducer,Z!==null))try{var Ce=h.lastRenderedState,je=Z(Ce,E);if(G.hasEagerState=!0,G.eagerState=je,L(je,Ce))return Rn(i,h,G,0),so===null&&rr(),!1}catch{}if(E=sr(i,h,G,I),E!==null)return zu(E,i,I),Ah(E,h,I),!0}return!1}function wf(i,h,E,I){if(I={lane:2,revertLane:Zm(),gesture:null,action:I,hasEagerState:!1,eagerState:null,next:null},Qc(i)){if(h)throw Error(r(479))}else h=sr(i,E,I,2),h!==null&&zu(h,i,2)}function Qc(i){var h=i.alternate;return i===qn||h!==null&&h===qn}function Kf(i,h){jo=eo=!0;var E=i.pending;E===null?h.next=h:(h.next=E.next,E.next=h),i.pending=h}function Ah(i,h,E){if((E&4194048)!==0){var I=h.lanes;I&=i.pendingLanes,E|=I,h.lanes=E,Jn(i,E)}}var Zf={readContext:la,use:Gc,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr};Zf.useEffectEvent=Gr;var Cf={readContext:la,use:Gc,useCallback:function(i,h){return is().memoizedState=[i,h===void 0?null:h],i},useContext:la,useEffect:bh,useImperativeHandle:function(i,h,E){E=E!=null?E.concat([i]):null,mf(4194308,4,h0.bind(null,h,i),E)},useLayoutEffect:function(i,h){return mf(4194308,4,i,h)},useInsertionEffect:function(i,h){mf(4,2,i,h)},useMemo:function(i,h){var E=is();h=h===void 0?null:h;var I=i();if(Ar){Et(!0);try{i()}finally{Et(!1)}}return E.memoizedState=[I,h],I},useReducer:function(i,h,E){var I=is();if(E!==void 0){var G=E(h);if(Ar){Et(!0);try{E(h)}finally{Et(!1)}}}else G=h;return I.memoizedState=I.baseState=G,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:G},I.queue=i,i=i.dispatch=Eh.bind(null,qn,i),[I.memoizedState,i]},useRef:function(i){var h=is();return i={current:i},h.memoizedState=i},useState:function(i){i=wl(i);var h=i.queue,E=xf.bind(null,qn,h);return h.dispatch=E,[i.memoizedState,E]},useDebugValue:Xf,useDeferredValue:function(i,h){var E=is();return uu(E,i,h)},useTransition:function(){var i=wl(!1);return i=yf.bind(null,qn,i.queue,!0,!1),is().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,h,E){var I=qn,G=is();if(ri){if(E===void 0)throw Error(r(407));E=E()}else{if(E=h(),so===null)throw Error(r(349));(ia&127)!==0||o0(I,h,E)}G.memoizedState=E;var Z={value:E,getSnapshot:h};return G.queue=Z,bh(l0.bind(null,I,Z,i),[i]),I.flags|=2048,Zc(9,{destroy:void 0},s0.bind(null,I,Z,E,h),null),E},useId:function(){var i=is(),h=so.identifierPrefix;if(ri){var E=Jo,I=Wi;E=(I&~(1<<32-Ye(I)-1)).toString(32)+E,h="_"+h+"R_"+E,E=mo++,0<E&&(h+="H"+E.toString(32)),h+="_"}else E=sl++,h="_"+h+"r_"+E.toString(32)+"_";return i.memoizedState=h},useHostTransitionStatus:Vf,useFormState:$u,useActionState:$u,useOptimistic:function(i){var h=is();h.memoizedState=h.baseState=i;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=E,h=wf.bind(null,qn,!0,E),E.dispatch=h,[i,h]},useMemoCache:Yc,useCacheRefresh:function(){return is().memoizedState=Y0.bind(null,qn)},useEffectEvent:function(i){var h=is(),E={impl:i};return h.memoizedState=E,function(){if((Da&2)!==0)throw Error(r(440));return E.impl.apply(void 0,arguments)}}},Fl={readContext:la,use:Gc,useCallback:d0,useContext:la,useEffect:Iu,useImperativeHandle:wh,useInsertionEffect:qc,useLayoutEffect:f0,useMemo:W0,useReducer:jf,useRef:ec,useState:function(){return jf(as)},useDebugValue:Xf,useDeferredValue:function(i,h){var E=da();return vf(E,cr.memoizedState,i,h)},useTransition:function(){var i=jf(as)[0],h=da().memoizedState;return[typeof i=="boolean"?i:Mo(i),h]},useSyncExternalStore:xh,useId:G0,useHostTransitionStatus:Vf,useFormState:Cl,useActionState:Cl,useOptimistic:function(i,h){var E=da();return Xc(E,cr,i,h)},useMemoCache:Yc,useCacheRefresh:Sh};Fl.useEffectEvent=c0;var g0={readContext:la,use:Gc,useCallback:d0,useContext:la,useEffect:Iu,useImperativeHandle:wh,useInsertionEffect:qc,useLayoutEffect:f0,useMemo:W0,useReducer:Wf,useRef:ec,useState:function(){return Wf(as)},useDebugValue:Xf,useDeferredValue:function(i,h){var E=da();return cr===null?uu(E,i,h):vf(E,cr.memoizedState,i,h)},useTransition:function(){var i=Wf(as)[0],h=da().memoizedState;return[typeof i=="boolean"?i:Mo(i),h]},useSyncExternalStore:xh,useId:G0,useHostTransitionStatus:Vf,useFormState:Ou,useActionState:Ou,useOptimistic:function(i,h){var E=da();return cr!==null?Xc(E,cr,i,h):(E.baseState=i,[i,E.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Sh};g0.useEffectEvent=c0;function cu(i,h,E,I){h=i.memoizedState,E=E(I,h),E=E==null?h:f({},h,E),i.memoizedState=E,i.lanes===0&&(i.updateQueue.baseState=E)}var Th={enqueueSetState:function(i,h,E){i=i._reactInternals;var I=ac(),G=Ws(I);G.payload=h,E!=null&&(G.callback=E),h=ys(i,G,I),h!==null&&(zu(h,i,I),ol(h,i,I))},enqueueReplaceState:function(i,h,E){i=i._reactInternals;var I=ac(),G=Ws(I);G.tag=1,G.payload=h,E!=null&&(G.callback=E),h=ys(i,G,I),h!==null&&(zu(h,i,I),ol(h,i,I))},enqueueForceUpdate:function(i,h){i=i._reactInternals;var E=ac(),I=Ws(E);I.tag=2,h!=null&&(I.callback=h),h=ys(i,I,E),h!==null&&(zu(h,i,E),ol(h,i,E))}};function Sf(i,h,E,I,G,Z,Ce){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(I,Z,Ce):h.prototype&&h.prototype.isPureReactComponent?!b(E,I)||!b(G,Z):!0}function qf(i,h,E,I){i=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(E,I),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(E,I),h.state!==i&&Th.enqueueReplaceState(h,h.state,null)}function Ii(i,h){var E=h;if("ref"in h){E={};for(var I in h)I!=="ref"&&(E[I]=h[I])}if(i=i.defaultProps){E===h&&(E=f({},E));for(var G in i)E[G]===void 0&&(E[G]=i[G])}return E}function p0(i){Zt(i)}function Nu(i){console.error(i)}function Jc(i){Zt(i)}function ll(i,h){try{var E=i.onUncaughtError;E(h.value,{componentStack:h.stack})}catch(I){setTimeout(function(){throw I})}}function Lu(i,h,E){try{var I=i.onCaughtError;I(E.value,{componentStack:E.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function Ef(i,h,E){return E=Ws(E),E.tag=3,E.payload={element:null},E.callback=function(){ll(i,h)},E}function Af(i){return i=Ws(i),i.tag=3,i}function Qf(i,h,E,I){var G=E.type.getDerivedStateFromError;if(typeof G=="function"){var Z=I.value;i.payload=function(){return G(Z)},i.callback=function(){Lu(h,E,I)}}var Ce=E.stateNode;Ce!==null&&typeof Ce.componentDidCatch=="function"&&(i.callback=function(){Lu(h,E,I),typeof G!="function"&&(Mh===null?Mh=new Set([this]):Mh.add(this));var je=I.stack;this.componentDidCatch(I.value,{componentStack:je!==null?je:""})})}function Tf(i,h,E,I,G){if(E.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(h=E.alternate,h!==null&&es(h,E,G,!0),E=Ot.current,E!==null){switch(E.tag){case 31:case 13:return ht===null?yg():E.alternate===null&&ws===0&&(ws=3),E.flags&=-257,E.flags|=65536,E.lanes=G,I===Eu?E.flags|=16384:(h=E.updateQueue,h===null?E.updateQueue=new Set([I]):h.add(I),Xm(i,I,G)),!1;case 22:return E.flags|=65536,I===Eu?E.flags|=16384:(h=E.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([I])},E.updateQueue=h):(E=h.retryQueue,E===null?h.retryQueue=new Set([I]):E.add(I)),Xm(i,I,G)),!1}throw Error(r(435,E.tag))}return Xm(i,I,G),yg(),!1}if(ri)return h=Ot.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=G,I!==vl&&(i=Error(r(422),{cause:I}),Ja(ds(i,E)))):(I!==vl&&(h=Error(r(423),{cause:I}),Ja(ds(h,E))),i=i.current.alternate,i.flags|=65536,G&=-G,i.lanes|=G,I=ds(I,E),G=Ef(i.stateNode,I,G),Do(i,G),ws!==4&&(ws=2)),!1;var Z=Error(r(520),{cause:I});if(Z=ds(Z,E),qd===null?qd=[Z]:qd.push(Z),ws!==4&&(ws=2),h===null)return!0;I=ds(I,E),E=h;do{switch(E.tag){case 3:return E.flags|=65536,i=G&-G,E.lanes|=i,i=Ef(E.stateNode,I,i),Do(E,i),!1;case 1:if(h=E.type,Z=E.stateNode,(E.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Mh===null||!Mh.has(Z))))return E.flags|=65536,G&=-G,E.lanes|=G,G=Af(G),Qf(G,i,E,I),Do(E,G),!1}E=E.return}while(E!==null);return!1}var Jf=Error(r(461)),Oo=!1;function xs(i,h,E,I){h.child=i===null?df(h,null,E,I):vs(h,i.child,E,I)}function kc(i,h,E,I,G){E=E.render;var Z=h.ref;if("ref"in I){var Ce={};for(var je in I)je!=="ref"&&(Ce[je]=I[je])}else Ce=I;return Is(h),I=bl(i,h,E,Ce,Z,G),je=Ll(),i!==null&&!Oo?(su(i,h,G),tt(i,h,G)):(ri&&je&&Ol(h),h.flags|=1,xs(i,h,I,G),h.child)}function $c(i,h,E,I,G){if(i===null){var Z=E.type;return typeof Z=="function"&&!pi(Z)&&Z.defaultProps===void 0&&E.compare===null?(h.tag=15,h.type=Z,Ri(i,h,Z,I,G)):(i=fa(E.type,null,I,h,h.mode,G),i.ref=h.ref,i.return=h,h.child=i)}if(Z=i.child,!lt(i,G)){var Ce=Z.memoizedProps;if(E=E.compare,E=E!==null?E:b,E(Ce,I)&&i.ref===h.ref)return tt(i,h,G)}return h.flags|=1,i=Ha(Z,I),i.ref=h.ref,i.return=h,h.child=i}function Ri(i,h,E,I,G){if(i!==null){var Z=i.memoizedProps;if(b(Z,I)&&i.ref===h.ref)if(Oo=!1,h.pendingProps=I=Z,lt(i,G))(i.flags&131072)!==0&&(Oo=!0);else return h.lanes=i.lanes,tt(i,h,G)}return $f(i,h,E,I,G)}function kf(i,h,E,I){var G=I.children,Z=i!==null?i.memoizedState:null;if(i===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),I.mode==="hidden"){if((h.flags&128)!==0){if(Z=Z!==null?Z.baseLanes|E:E,i!==null){for(I=h.child=i.child,G=0;I!==null;)G=G|I.lanes|I.childLanes,I=I.sibling;I=G&~Z}else I=0,h.child=null;return ef(i,h,Z,E,I)}if((E&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},i!==null&&rl(h,Z!==null?Z.cachePool:null),Z!==null?de(h,Z):He(),on(h);else return I=h.lanes=536870912,ef(i,h,Z!==null?Z.baseLanes|E:E,E,I)}else Z!==null?(rl(h,Z.cachePool),de(h,Z),Dn(),h.memoizedState=null):(i!==null&&rl(h,null),He(),Dn());return xs(i,h,G,E),h.child}function fu(i,h){return i!==null&&i.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function ef(i,h,E,I,G){var Z=ms();return Z=Z===null?null:{parent:Ta._currentValue,pool:Z},h.memoizedState={baseLanes:E,cachePool:Z},i!==null&&rl(h,null),He(),on(h),i!==null&&es(i,h,I,!0),h.childLanes=G,null}function os(i,h){return h=X({mode:h.mode,children:h.children},i.mode),h.ref=i.ref,i.child=h,h.return=i,h}function Io(i,h,E){return vs(h,i.child,null,E),i=os(h,h.pendingProps),i.flags|=2,_n(h),h.memoizedState=null,i}function X0(i,h,E){var I=h.pendingProps,G=(h.flags&128)!==0;if(h.flags&=-129,i===null){if(ri){if(I.mode==="hidden")return i=os(h,I),h.lanes=536870912,fu(null,i);if(Qt(h),(i=ya)?(i=h4(i,Ra),i=i!==null&&i.data==="&"?i:null,i!==null&&(h.memoizedState={dehydrated:i,treeContext:gs!==null?{id:Wi,overflow:Jo}:null,retryLane:536870912,hydrationErrors:null},E=Eo(i),E.return=h,h.child=E,Qa=h,ya=null)):i=null,i===null)throw Os(h);return h.lanes=536870912,null}return os(h,I)}var Z=i.memoizedState;if(Z!==null){var Ce=Z.dehydrated;if(Qt(h),G)if(h.flags&256)h.flags&=-257,h=Io(i,h,E);else if(h.memoizedState!==null)h.child=i.child,h.flags|=128,h=null;else throw Error(r(558));else if(Oo||es(i,h,E,!1),G=(E&i.childLanes)!==0,Oo||G){if(I=so,I!==null&&(Ce=Fr(I,E),Ce!==0&&Ce!==Z.retryLane))throw Z.retryLane=Ce,_r(i,Ce),zu(I,i,Ce),Jf;yg(),h=Io(i,h,E)}else i=Z.treeContext,ya=Mc(Ce.nextSibling),Qa=h,ri=!0,$o=null,Ra=!1,i!==null&&au(h,i),h=os(h,I),h.flags|=4096;return h}return i=Ha(i.child,{mode:I.mode,children:I.children}),i.ref=h.ref,h.child=i,i.return=h,i}function ga(i,h){var E=h.ref;if(E===null)i!==null&&i.ref!==null&&(h.flags|=4194816);else{if(typeof E!="function"&&typeof E!="object")throw Error(r(284));(i===null||i.ref!==E)&&(h.flags|=4194816)}}function $f(i,h,E,I,G){return Is(h),E=bl(i,h,E,I,void 0,G),I=Ll(),i!==null&&!Oo?(su(i,h,G),tt(i,h,G)):(ri&&I&&Ol(h),h.flags|=1,xs(i,h,E,G),h.child)}function Dc(i,h,E,I,G,Z){return Is(h),h.updateQueue=null,E=vo(h,I,E,G),_o(i),I=Ll(),i!==null&&!Oo?(su(i,h,Z),tt(i,h,Z)):(ri&&I&&Ol(h),h.flags|=1,xs(i,h,E,Z),h.child)}function kh(i,h,E,I,G){if(Is(h),h.stateNode===null){var Z=jr,Ce=E.contextType;typeof Ce=="object"&&Ce!==null&&(Z=la(Ce)),Z=new E(I,Z),h.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=Th,h.stateNode=Z,Z._reactInternals=h,Z=h.stateNode,Z.props=I,Z.state=h.memoizedState,Z.refs={},js(h),Ce=E.contextType,Z.context=typeof Ce=="object"&&Ce!==null?la(Ce):jr,Z.state=h.memoizedState,Ce=E.getDerivedStateFromProps,typeof Ce=="function"&&(cu(h,E,Ce,I),Z.state=h.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(Ce=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),Ce!==Z.state&&Th.enqueueReplaceState(Z,Z.state,null),Rl(h,I,Z,G),ql(),Z.state=h.memoizedState),typeof Z.componentDidMount=="function"&&(h.flags|=4194308),I=!0}else if(i===null){Z=h.stateNode;var je=h.memoizedProps,Dt=Ii(E,je);Z.props=Dt;var tn=Z.context,fn=E.contextType;Ce=jr,typeof fn=="object"&&fn!==null&&(Ce=la(fn));var bn=E.getDerivedStateFromProps;fn=typeof bn=="function"||typeof Z.getSnapshotBeforeUpdate=="function",je=h.pendingProps!==je,fn||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(je||tn!==Ce)&&qf(h,Z,I,Ce),Zl=!1;var rn=h.memoizedState;Z.state=rn,Rl(h,I,Z,G),ql(),tn=h.memoizedState,je||rn!==tn||Zl?(typeof bn=="function"&&(cu(h,E,bn,I),tn=h.memoizedState),(Dt=Zl||Sf(h,E,Dt,I,rn,tn,Ce))?(fn||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(h.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=I,h.memoizedState=tn),Z.props=I,Z.state=tn,Z.context=Ce,I=Dt):(typeof Z.componentDidMount=="function"&&(h.flags|=4194308),I=!1)}else{Z=h.stateNode,Au(i,h),Ce=h.memoizedProps,fn=Ii(E,Ce),Z.props=fn,bn=h.pendingProps,rn=Z.context,tn=E.contextType,Dt=jr,typeof tn=="object"&&tn!==null&&(Dt=la(tn)),je=E.getDerivedStateFromProps,(tn=typeof je=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Ce!==bn||rn!==Dt)&&qf(h,Z,I,Dt),Zl=!1,rn=h.memoizedState,Z.state=rn,Rl(h,I,Z,G),ql();var ln=h.memoizedState;Ce!==bn||rn!==ln||Zl||i!==null&&i.dependencies!==null&&Il(i.dependencies)?(typeof je=="function"&&(cu(h,E,je,I),ln=h.memoizedState),(fn=Zl||Sf(h,E,fn,I,rn,ln,Dt)||i!==null&&i.dependencies!==null&&Il(i.dependencies))?(tn||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(I,ln,Dt),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(I,ln,Dt)),typeof Z.componentDidUpdate=="function"&&(h.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof Z.componentDidUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=1024),h.memoizedProps=I,h.memoizedState=ln),Z.props=I,Z.state=ln,Z.context=Dt,I=fn):(typeof Z.componentDidUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=1024),I=!1)}return Z=I,ga(i,h),I=(h.flags&128)!==0,Z||I?(Z=h.stateNode,E=I&&typeof E.getDerivedStateFromError!="function"?null:Z.render(),h.flags|=1,i!==null&&I?(h.child=vs(h,i.child,null,G),h.child=vs(h,null,E,G)):xs(i,h,E,G),h.memoizedState=Z.state,i=h.child):i=tt(i,h,G),i}function Df(i,h,E,I){return yl(),h.flags|=256,xs(i,h,E,I),h.child}var l={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function x(i){return{baseLanes:i,cachePool:ua()}}function M(i,h,E){return i=i!==null?i.childLanes&~E:0,h&&(i|=ic),i}function _(i,h,E){var I=h.pendingProps,G=!1,Z=(h.flags&128)!==0,Ce;if((Ce=Z)||(Ce=i!==null&&i.memoizedState===null?!1:(lr.current&2)!==0),Ce&&(G=!0,h.flags&=-129),Ce=(h.flags&32)!==0,h.flags&=-33,i===null){if(ri){if(G?Nt(h):Dn(),(i=ya)?(i=h4(i,Ra),i=i!==null&&i.data!=="&"?i:null,i!==null&&(h.memoizedState={dehydrated:i,treeContext:gs!==null?{id:Wi,overflow:Jo}:null,retryLane:536870912,hydrationErrors:null},E=Eo(i),E.return=h,h.child=E,Qa=h,ya=null)):i=null,i===null)throw Os(h);return lv(i)?h.lanes=32:h.lanes=536870912,null}var je=I.children;return I=I.fallback,G?(Dn(),G=h.mode,je=X({mode:"hidden",children:je},G),I=ha(I,G,E,null),je.return=h,I.return=h,je.sibling=I,h.child=je,I=h.child,I.memoizedState=x(E),I.childLanes=M(i,Ce,E),h.memoizedState=l,fu(null,I)):(Nt(h),F(h,je))}var Dt=i.memoizedState;if(Dt!==null&&(je=Dt.dehydrated,je!==null)){if(Z)h.flags&256?(Nt(h),h.flags&=-257,h=ie(i,h,E)):h.memoizedState!==null?(Dn(),h.child=i.child,h.flags|=128,h=null):(Dn(),je=I.fallback,G=h.mode,I=X({mode:"visible",children:I.children},G),je=ha(je,G,E,null),je.flags|=2,I.return=h,je.return=h,I.sibling=je,h.child=I,vs(h,i.child,null,E),I=h.child,I.memoizedState=x(E),I.childLanes=M(i,Ce,E),h.memoizedState=l,h=fu(null,I));else if(Nt(h),lv(je)){if(Ce=je.nextSibling&&je.nextSibling.dataset,Ce)var tn=Ce.dgst;Ce=tn,I=Error(r(419)),I.stack="",I.digest=Ce,Ja({value:I,source:null,stack:null}),h=ie(i,h,E)}else if(Oo||es(i,h,E,!1),Ce=(E&i.childLanes)!==0,Oo||Ce){if(Ce=so,Ce!==null&&(I=Fr(Ce,E),I!==0&&I!==Dt.retryLane))throw Dt.retryLane=I,_r(i,I),zu(Ce,i,I),Jf;sv(je)||yg(),h=ie(i,h,E)}else sv(je)?(h.flags|=192,h.child=i.child,h=null):(i=Dt.treeContext,ya=Mc(je.nextSibling),Qa=h,ri=!0,$o=null,Ra=!1,i!==null&&au(h,i),h=F(h,I.children),h.flags|=4096);return h}return G?(Dn(),je=I.fallback,G=h.mode,Dt=i.child,tn=Dt.sibling,I=Ha(Dt,{mode:"hidden",children:I.children}),I.subtreeFlags=Dt.subtreeFlags&65011712,tn!==null?je=Ha(tn,je):(je=ha(je,G,E,null),je.flags|=2),je.return=h,I.return=h,I.sibling=je,h.child=I,fu(null,I),I=h.child,je=i.child.memoizedState,je===null?je=x(E):(G=je.cachePool,G!==null?(Dt=Ta._currentValue,G=G.parent!==Dt?{parent:Dt,pool:Dt}:G):G=ua(),je={baseLanes:je.baseLanes|E,cachePool:G}),I.memoizedState=je,I.childLanes=M(i,Ce,E),h.memoizedState=l,fu(i.child,I)):(Nt(h),E=i.child,i=E.sibling,E=Ha(E,{mode:"visible",children:I.children}),E.return=h,E.sibling=null,i!==null&&(Ce=h.deletions,Ce===null?(h.deletions=[i],h.flags|=16):Ce.push(i)),h.child=E,h.memoizedState=null,E)}function F(i,h){return h=X({mode:"visible",children:h},i.mode),h.return=i,i.child=h}function X(i,h){return i=ca(22,i,null,h),i.lanes=0,i}function ie(i,h,E){return vs(h,i.child,null,E),i=F(h,h.pendingProps.children),i.flags|=2,h.memoizedState=null,i}function fe(i,h,E){i.lanes|=h;var I=i.alternate;I!==null&&(I.lanes|=h),nl(i.return,h,E)}function xe(i,h,E,I,G,Z){var Ce=i.memoizedState;Ce===null?i.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:I,tail:E,tailMode:G,treeForkCount:Z}:(Ce.isBackwards=h,Ce.rendering=null,Ce.renderingStartTime=0,Ce.last=I,Ce.tail=E,Ce.tailMode=G,Ce.treeForkCount=Z)}function De(i,h,E){var I=h.pendingProps,G=I.revealOrder,Z=I.tail;I=I.children;var Ce=lr.current,je=(Ce&2)!==0;if(je?(Ce=Ce&1|2,h.flags|=128):Ce&=1,V(lr,Ce),xs(i,h,I,E),I=ri?Ao:0,!je&&i!==null&&(i.flags&128)!==0)e:for(i=h.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&fe(i,E,h);else if(i.tag===19)fe(i,E,h);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===h)break e;for(;i.sibling===null;){if(i.return===null||i.return===h)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(G){case"forwards":for(E=h.child,G=null;E!==null;)i=E.alternate,i!==null&&ti(i)===null&&(G=E),E=E.sibling;E=G,E===null?(G=h.child,h.child=null):(G=E.sibling,E.sibling=null),xe(h,!1,G,E,Z,I);break;case"backwards":case"unstable_legacy-backwards":for(E=null,G=h.child,h.child=null;G!==null;){if(i=G.alternate,i!==null&&ti(i)===null){h.child=G;break}i=G.sibling,G.sibling=E,E=G,G=i}xe(h,!0,E,null,Z,I);break;case"together":xe(h,!1,null,null,void 0,I);break;default:h.memoizedState=null}return h.child}function tt(i,h,E){if(i!==null&&(h.dependencies=i.dependencies),_h|=h.lanes,(E&h.childLanes)===0)if(i!==null){if(es(i,h,E,!1),(E&h.childLanes)===0)return null}else return null;if(i!==null&&h.child!==i.child)throw Error(r(153));if(h.child!==null){for(i=h.child,E=Ha(i,i.pendingProps),h.child=E,E.return=h;i.sibling!==null;)i=i.sibling,E=E.sibling=Ha(i,i.pendingProps),E.return=h;E.sibling=null}return h.child}function lt(i,h){return(i.lanes&h)!==0?!0:(i=i.dependencies,!!(i!==null&&Il(i)))}function Ht(i,h,E){switch(h.tag){case 3:xt(h,h.stateNode.containerInfo),ko(h,Ta,i.memoizedState.cache),yl();break;case 27:case 5:Wt(h);break;case 4:xt(h,h.stateNode.containerInfo);break;case 10:ko(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Qt(h),null;break;case 13:var I=h.memoizedState;if(I!==null)return I.dehydrated!==null?(Nt(h),h.flags|=128,null):(E&h.child.childLanes)!==0?_(i,h,E):(Nt(h),i=tt(i,h,E),i!==null?i.sibling:null);Nt(h);break;case 19:var G=(i.flags&128)!==0;if(I=(E&h.childLanes)!==0,I||(es(i,h,E,!1),I=(E&h.childLanes)!==0),G){if(I)return De(i,h,E);h.flags|=128}if(G=h.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),V(lr,lr.current),I)break;return null;case 22:return h.lanes=0,kf(i,h,E,h.pendingProps);case 24:ko(h,Ta,i.memoizedState.cache)}return tt(i,h,E)}function Mt(i,h,E){if(i!==null)if(i.memoizedProps!==h.pendingProps)Oo=!0;else{if(!lt(i,E)&&(h.flags&128)===0)return Oo=!1,Ht(i,h,E);Oo=(i.flags&131072)!==0}else Oo=!1,ri&&(h.flags&1048576)!==0&&wu(h,Ao,h.index);switch(h.lanes=0,h.tag){case 16:e:{var I=h.pendingProps;if(i=xl(h.elementType),h.type=i,typeof i=="function")pi(i)?(I=Ii(i,I),h.tag=1,h=kh(null,h,i,I,E)):(h.tag=0,h=$f(null,h,i,I,E));else{if(i!=null){var G=i.$$typeof;if(G===W){h.tag=11,h=kc(null,h,i,I,E);break e}else if(G===ne){h.tag=14,h=$c(null,h,i,I,E);break e}}throw h=ct(i)||i,Error(r(306,h,""))}}return h;case 0:return $f(i,h,h.type,h.pendingProps,E);case 1:return I=h.type,G=Ii(I,h.pendingProps),kh(i,h,I,G,E);case 3:e:{if(xt(h,h.stateNode.containerInfo),i===null)throw Error(r(387));I=h.pendingProps;var Z=h.memoizedState;G=Z.element,Au(i,h),Rl(h,I,null,E);var Ce=h.memoizedState;if(I=Ce.cache,ko(h,Ta,I),I!==Z.cache&&bc(h,[Ta],E,!0),ql(),I=Ce.element,Z.isDehydrated)if(Z={element:I,isDehydrated:!1,cache:Ce.cache},h.updateQueue.baseState=Z,h.memoizedState=Z,h.flags&256){h=Df(i,h,I,E);break e}else if(I!==G){G=ds(Error(r(424)),h),Ja(G),h=Df(i,h,I,E);break e}else for(i=h.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ya=Mc(i.firstChild),Qa=h,ri=!0,$o=null,Ra=!0,E=df(h,null,I,E),h.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(yl(),I===G){h=tt(i,h,E);break e}xs(i,h,I,E)}h=h.child}return h;case 26:return ga(i,h),i===null?(E=y4(h.type,null,h.pendingProps,null))?h.memoizedState=E:ri||(E=h.type,i=h.pendingProps,I=Ag(Ne.current).createElement(E),I[Pr]=h,I[ar]=i,Pl(I,E,i),Ni(I),h.stateNode=I):h.memoizedState=y4(h.type,i.memoizedProps,h.pendingProps,i.memoizedState),null;case 27:return Wt(h),i===null&&ri&&(I=h.stateNode=p4(h.type,h.pendingProps,Ne.current),Qa=h,Ra=!0,G=ya,Nh(h.type)?(uv=G,ya=Mc(I.firstChild)):ya=G),xs(i,h,h.pendingProps.children,E),ga(i,h),i===null&&(h.flags|=4194304),h.child;case 5:return i===null&&ri&&((G=I=ya)&&(I=AT(I,h.type,h.pendingProps,Ra),I!==null?(h.stateNode=I,Qa=h,ya=Mc(I.firstChild),Ra=!1,G=!0):G=!1),G||Os(h)),Wt(h),G=h.type,Z=h.pendingProps,Ce=i!==null?i.memoizedProps:null,I=Z.children,iv(G,Z)?I=null:Ce!==null&&iv(G,Ce)&&(h.flags|=32),h.memoizedState!==null&&(G=bl(i,h,Ql,null,null,E),i1._currentValue=G),ga(i,h),xs(i,h,I,E),h.child;case 6:return i===null&&ri&&((i=E=ya)&&(E=TT(E,h.pendingProps,Ra),E!==null?(h.stateNode=E,Qa=h,ya=null,i=!0):i=!1),i||Os(h)),null;case 13:return _(i,h,E);case 4:return xt(h,h.stateNode.containerInfo),I=h.pendingProps,i===null?h.child=vs(h,null,I,E):xs(i,h,I,E),h.child;case 11:return kc(i,h,h.type,h.pendingProps,E);case 7:return xs(i,h,h.pendingProps,E),h.child;case 8:return xs(i,h,h.pendingProps.children,E),h.child;case 12:return xs(i,h,h.pendingProps.children,E),h.child;case 10:return I=h.pendingProps,ko(h,h.type,I.value),xs(i,h,I.children,E),h.child;case 9:return G=h.type._context,I=h.pendingProps.children,Is(h),G=la(G),I=I(G),h.flags|=1,xs(i,h,I,E),h.child;case 14:return $c(i,h,h.type,h.pendingProps,E);case 15:return Ri(i,h,h.type,h.pendingProps,E);case 19:return De(i,h,E);case 31:return X0(i,h,E);case 22:return kf(i,h,E,h.pendingProps);case 24:return Is(h),I=la(Ta),i===null?(G=ms(),G===null&&(G=so,Z=Cc(),G.pooledCache=Z,Z.refCount++,Z!==null&&(G.pooledCacheLanes|=E),G=Z),h.memoizedState={parent:I,cache:G},js(h),ko(h,Ta,G)):((i.lanes&E)!==0&&(Au(i,h),Rl(h,null,null,E),ql()),G=i.memoizedState,Z=h.memoizedState,G.parent!==I?(G={parent:I,cache:I},h.memoizedState=G,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=G),ko(h,Ta,I)):(I=Z.cache,ko(h,Ta,I),I!==G.cache&&bc(h,[Ta],E,!0))),xs(i,h,h.pendingProps.children,E),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function an(i){i.flags|=4}function gn(i,h,E,I,G){if((h=(i.mode&32)!==0)&&(h=!1),h){if(i.flags|=16777216,(G&335544128)===G)if(i.stateNode.complete)i.flags|=8192;else if(Nb())i.flags|=8192;else throw rs=Eu,Xl}else i.flags&=-16777217}function Tn(i,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!S4(h))if(Nb())i.flags|=8192;else throw rs=Eu,Xl}function Fn(i,h){h!==null&&(i.flags|=4),i.flags&16384&&(h=i.tag!==22?Hn():536870912,i.lanes|=h,Q0|=h)}function zn(i,h){if(!ri)switch(i.tailMode){case"hidden":h=i.tail;for(var E=null;h!==null;)h.alternate!==null&&(E=h),h=h.sibling;E===null?i.tail=null:E.sibling=null;break;case"collapsed":E=i.tail;for(var I=null;E!==null;)E.alternate!==null&&(I=E),E=E.sibling;I===null?h||i.tail===null?i.tail=null:i.tail.sibling=null:I.sibling=null}}function wn(i){var h=i.alternate!==null&&i.alternate.child===i.child,E=0,I=0;if(h)for(var G=i.child;G!==null;)E|=G.lanes|G.childLanes,I|=G.subtreeFlags&65011712,I|=G.flags&65011712,G.return=i,G=G.sibling;else for(G=i.child;G!==null;)E|=G.lanes|G.childLanes,I|=G.subtreeFlags,I|=G.flags,G.return=i,G=G.sibling;return i.subtreeFlags|=I,i.childLanes=E,h}function Kn(i,h,E){var I=h.pendingProps;switch(Cu(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(h),null;case 1:return wn(h),null;case 3:return E=h.stateNode,I=null,i!==null&&(I=i.memoizedState.cache),h.memoizedState.cache!==I&&(h.flags|=2048),Hs(Ta),et(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(i===null||i.child===null)&&(Gl(h)?an(h):i===null||i.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Su())),wn(h),null;case 26:var G=h.type,Z=h.memoizedState;return i===null?(an(h),Z!==null?(wn(h),Tn(h,Z)):(wn(h),gn(h,G,null,I,E))):Z?Z!==i.memoizedState?(an(h),wn(h),Tn(h,Z)):(wn(h),h.flags&=-16777217):(i=i.memoizedProps,i!==I&&an(h),wn(h),gn(h,G,i,I,E)),null;case 27:if(_t(h),E=Ne.current,G=h.type,i!==null&&h.stateNode!=null)i.memoizedProps!==I&&an(h);else{if(!I){if(h.stateNode===null)throw Error(r(166));return wn(h),null}i=me.current,Gl(h)?hf(h):(i=p4(G,I,E),h.stateNode=i,an(h))}return wn(h),null;case 5:if(_t(h),G=h.type,i!==null&&h.stateNode!=null)i.memoizedProps!==I&&an(h);else{if(!I){if(h.stateNode===null)throw Error(r(166));return wn(h),null}if(Z=me.current,Gl(h))hf(h);else{var Ce=Ag(Ne.current);switch(Z){case 1:Z=Ce.createElementNS("http://www.w3.org/2000/svg",G);break;case 2:Z=Ce.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;default:switch(G){case"svg":Z=Ce.createElementNS("http://www.w3.org/2000/svg",G);break;case"math":Z=Ce.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;case"script":Z=Ce.createElement("div"),Z.innerHTML="<script><\/script>",Z=Z.removeChild(Z.firstChild);break;case"select":Z=typeof I.is=="string"?Ce.createElement("select",{is:I.is}):Ce.createElement("select"),I.multiple?Z.multiple=!0:I.size&&(Z.size=I.size);break;default:Z=typeof I.is=="string"?Ce.createElement(G,{is:I.is}):Ce.createElement(G)}}Z[Pr]=h,Z[ar]=I;e:for(Ce=h.child;Ce!==null;){if(Ce.tag===5||Ce.tag===6)Z.appendChild(Ce.stateNode);else if(Ce.tag!==4&&Ce.tag!==27&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===h)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===h)break e;Ce=Ce.return}Ce.sibling.return=Ce.return,Ce=Ce.sibling}h.stateNode=Z;e:switch(Pl(Z,G,I),G){case"button":case"input":case"select":case"textarea":I=!!I.autoFocus;break e;case"img":I=!0;break e;default:I=!1}I&&an(h)}}return wn(h),gn(h,h.type,i===null?null:i.memoizedProps,h.pendingProps,E),null;case 6:if(i&&h.stateNode!=null)i.memoizedProps!==I&&an(h);else{if(typeof I!="string"&&h.stateNode===null)throw Error(r(166));if(i=Ne.current,Gl(h)){if(i=h.stateNode,E=h.memoizedProps,I=null,G=Qa,G!==null)switch(G.tag){case 27:case 5:I=G.memoizedProps}i[Pr]=h,i=!!(i.nodeValue===E||I!==null&&I.suppressHydrationWarning===!0||i4(i.nodeValue,E)),i||Os(h,!0)}else i=Ag(i).createTextNode(I),i[Pr]=h,h.stateNode=i}return wn(h),null;case 31:if(E=h.memoizedState,i===null||i.memoizedState!==null){if(I=Gl(h),E!==null){if(i===null){if(!I)throw Error(r(318));if(i=h.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Pr]=h}else yl(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;wn(h),i=!1}else E=Su(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=E),i=!0;if(!i)return h.flags&256?(_n(h),h):(_n(h),null);if((h.flags&128)!==0)throw Error(r(558))}return wn(h),null;case 13:if(I=h.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(G=Gl(h),I!==null&&I.dehydrated!==null){if(i===null){if(!G)throw Error(r(318));if(G=h.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(r(317));G[Pr]=h}else yl(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;wn(h),G=!1}else G=Su(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=G),G=!0;if(!G)return h.flags&256?(_n(h),h):(_n(h),null)}return _n(h),(h.flags&128)!==0?(h.lanes=E,h):(E=I!==null,i=i!==null&&i.memoizedState!==null,E&&(I=h.child,G=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(G=I.alternate.memoizedState.cachePool.pool),Z=null,I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(Z=I.memoizedState.cachePool.pool),Z!==G&&(I.flags|=2048)),E!==i&&E&&(h.child.flags|=8192),Fn(h,h.updateQueue),wn(h),null);case 4:return et(),i===null&&$m(h.stateNode.containerInfo),wn(h),null;case 10:return Hs(h.type),wn(h),null;case 19:if(ae(lr),I=h.memoizedState,I===null)return wn(h),null;if(G=(h.flags&128)!==0,Z=I.rendering,Z===null)if(G)zn(I,!1);else{if(ws!==0||i!==null&&(i.flags&128)!==0)for(i=h.child;i!==null;){if(Z=ti(i),Z!==null){for(h.flags|=128,zn(I,!1),i=Z.updateQueue,h.updateQueue=i,Fn(h,i),h.subtreeFlags=0,i=E,E=h.child;E!==null;)Pi(E,i),E=E.sibling;return V(lr,lr.current&1|2),ri&&To(h,I.treeForkCount),h.child}i=i.sibling}I.tail!==null&&gt()>pg&&(h.flags|=128,G=!0,zn(I,!1),h.lanes=4194304)}else{if(!G)if(i=ti(Z),i!==null){if(h.flags|=128,G=!0,i=i.updateQueue,h.updateQueue=i,Fn(h,i),zn(I,!0),I.tail===null&&I.tailMode==="hidden"&&!Z.alternate&&!ri)return wn(h),null}else 2*gt()-I.renderingStartTime>pg&&E!==536870912&&(h.flags|=128,G=!0,zn(I,!1),h.lanes=4194304);I.isBackwards?(Z.sibling=h.child,h.child=Z):(i=I.last,i!==null?i.sibling=Z:h.child=Z,I.last=Z)}return I.tail!==null?(i=I.tail,I.rendering=i,I.tail=i.sibling,I.renderingStartTime=gt(),i.sibling=null,E=lr.current,V(lr,G?E&1|2:E&1),ri&&To(h,I.treeForkCount),i):(wn(h),null);case 22:case 23:return _n(h),$e(),I=h.memoizedState!==null,i!==null?i.memoizedState!==null!==I&&(h.flags|=8192):I&&(h.flags|=8192),I?(E&536870912)!==0&&(h.flags&128)===0&&(wn(h),h.subtreeFlags&6&&(h.flags|=8192)):wn(h),E=h.updateQueue,E!==null&&Fn(h,E.retryQueue),E=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(E=i.memoizedState.cachePool.pool),I=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(I=h.memoizedState.cachePool.pool),I!==E&&(h.flags|=2048),i!==null&&ae(li),null;case 24:return E=null,i!==null&&(E=i.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),Hs(Ta),wn(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Cr(i,h){switch(Cu(h),h.tag){case 1:return i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 3:return Hs(Ta),et(),i=h.flags,(i&65536)!==0&&(i&128)===0?(h.flags=i&-65537|128,h):null;case 26:case 27:case 5:return _t(h),null;case 31:if(h.memoizedState!==null){if(_n(h),h.alternate===null)throw Error(r(340));yl()}return i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 13:if(_n(h),i=h.memoizedState,i!==null&&i.dehydrated!==null){if(h.alternate===null)throw Error(r(340));yl()}return i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 19:return ae(lr),null;case 4:return et(),null;case 10:return Hs(h.type),null;case 22:case 23:return _n(h),$e(),i!==null&&ae(li),i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 24:return Hs(Ta),null;case 25:return null;default:return null}}function dr(i,h){switch(Cu(h),h.tag){case 3:Hs(Ta),et();break;case 26:case 27:case 5:_t(h);break;case 4:et();break;case 31:h.memoizedState!==null&&_n(h);break;case 13:_n(h);break;case 19:ae(lr);break;case 10:Hs(h.type);break;case 22:case 23:_n(h),$e(),i!==null&&ae(li);break;case 24:Hs(Ta)}}function ii(i,h){try{var E=h.updateQueue,I=E!==null?E.lastEffect:null;if(I!==null){var G=I.next;E=G;do{if((E.tag&i)===i){I=void 0;var Z=E.create,Ce=E.inst;I=Z(),Ce.destroy=I}E=E.next}while(E!==G)}}catch(je){Ya(h,h.return,je)}}function Gi(i,h,E){try{var I=h.updateQueue,G=I!==null?I.lastEffect:null;if(G!==null){var Z=G.next;I=Z;do{if((I.tag&i)===i){var Ce=I.inst,je=Ce.destroy;if(je!==void 0){Ce.destroy=void 0,G=h;var Dt=E,tn=je;try{tn()}catch(fn){Ya(G,Dt,fn)}}}I=I.next}while(I!==Z)}}catch(fn){Ya(h,h.return,fn)}}function bs(i){var h=i.updateQueue;if(h!==null){var E=i.stateNode;try{H(h,E)}catch(I){Ya(i,i.return,I)}}}function oo(i,h,E){E.props=Ii(i.type,i.memoizedProps),E.state=i.memoizedState;try{E.componentWillUnmount()}catch(I){Ya(i,h,I)}}function Gs(i,h){try{var E=i.ref;if(E!==null){switch(i.tag){case 26:case 27:case 5:var I=i.stateNode;break;case 30:I=i.stateNode;break;default:I=i.stateNode}typeof E=="function"?i.refCleanup=E(I):E.current=I}}catch(G){Ya(i,h,G)}}function yo(i,h){var E=i.ref,I=i.refCleanup;if(E!==null)if(typeof I=="function")try{I()}catch(G){Ya(i,h,G)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(G){Ya(i,h,G)}else E.current=null}function Wo(i){var h=i.type,E=i.memoizedProps,I=i.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":E.autoFocus&&I.focus();break e;case"img":E.src?I.src=E.src:E.srcSet&&(I.srcset=E.srcSet)}}catch(G){Ya(i,i.return,G)}}function ul(i,h,E){try{var I=i.stateNode;xT(I,i.type,E,h),I[ar]=h}catch(G){Ya(i,i.return,G)}}function Ns(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Nh(i.type)||i.tag===4}function Go(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ns(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Nh(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ro(i,h,E){var I=i.tag;if(I===5||I===6)i=i.stateNode,h?(E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E).insertBefore(i,h):(h=E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E,h.appendChild(i),E=E._reactRootContainer,E!=null||h.onclick!==null||(h.onclick=$r));else if(I!==4&&(I===27&&Nh(i.type)&&(E=i.stateNode,h=null),i=i.child,i!==null))for(Ro(i,h,E),i=i.sibling;i!==null;)Ro(i,h,E),i=i.sibling}function to(i,h,E){var I=i.tag;if(I===5||I===6)i=i.stateNode,h?E.insertBefore(i,h):E.appendChild(i);else if(I!==4&&(I===27&&Nh(i.type)&&(E=i.stateNode),i=i.child,i!==null))for(to(i,h,E),i=i.sibling;i!==null;)to(i,h,E),i=i.sibling}function Sl(i){var h=i.stateNode,E=i.memoizedProps;try{for(var I=i.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);Pl(h,I,E),h[Pr]=i,h[ar]=E}catch(Z){Ya(i,i.return,Z)}}var Jl=!1,Wa=!1,Ls=!1,nc=typeof WeakSet=="function"?WeakSet:Set,zi=null;function Xd(i,h){if(i=i.containerInfo,nv=Ig,i=K(i),ee(i)){if("selectionStart"in i)var E={start:i.selectionStart,end:i.selectionEnd};else e:{E=(E=i.ownerDocument)&&E.defaultView||window;var I=E.getSelection&&E.getSelection();if(I&&I.rangeCount!==0){E=I.anchorNode;var G=I.anchorOffset,Z=I.focusNode;I=I.focusOffset;try{E.nodeType,Z.nodeType}catch{E=null;break e}var Ce=0,je=-1,Dt=-1,tn=0,fn=0,bn=i,rn=null;t:for(;;){for(var ln;bn!==E||G!==0&&bn.nodeType!==3||(je=Ce+G),bn!==Z||I!==0&&bn.nodeType!==3||(Dt=Ce+I),bn.nodeType===3&&(Ce+=bn.nodeValue.length),(ln=bn.firstChild)!==null;)rn=bn,bn=ln;for(;;){if(bn===i)break t;if(rn===E&&++tn===G&&(je=Ce),rn===Z&&++fn===I&&(Dt=Ce),(ln=bn.nextSibling)!==null)break;bn=rn,rn=bn.parentNode}bn=ln}E=je===-1||Dt===-1?null:{start:je,end:Dt}}else E=null}E=E||{start:0,end:0}}else E=null;for(rv={focusedElem:i,selectionRange:E},Ig=!1,zi=h;zi!==null;)if(h=zi,i=h.child,(h.subtreeFlags&1028)!==0&&i!==null)i.return=h,zi=i;else for(;zi!==null;){switch(h=zi,Z=h.alternate,i=h.flags,h.tag){case 0:if((i&4)!==0&&(i=h.updateQueue,i=i!==null?i.events:null,i!==null))for(E=0;E<i.length;E++)G=i[E],G.ref.impl=G.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&Z!==null){i=void 0,E=h,G=Z.memoizedProps,Z=Z.memoizedState,I=E.stateNode;try{var ur=Ii(E.type,G);i=I.getSnapshotBeforeUpdate(ur,Z),I.__reactInternalSnapshotBeforeUpdate=i}catch(Qr){Ya(E,E.return,Qr)}}break;case 3:if((i&1024)!==0){if(i=h.stateNode.containerInfo,E=i.nodeType,E===9)ov(i);else if(E===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ov(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=h.sibling,i!==null){i.return=h.return,zi=i;break}zi=h.return}}function _c(i,h,E){var I=E.flags;switch(E.tag){case 0:case 11:case 15:eh(i,E),I&4&&ii(5,E);break;case 1:if(eh(i,E),I&4)if(i=E.stateNode,h===null)try{i.componentDidMount()}catch(Ce){Ya(E,E.return,Ce)}else{var G=Ii(E.type,h.memoizedProps);h=h.memoizedState;try{i.componentDidUpdate(G,h,i.__reactInternalSnapshotBeforeUpdate)}catch(Ce){Ya(E,E.return,Ce)}}I&64&&bs(E),I&512&&Gs(E,E.return);break;case 3:if(eh(i,E),I&64&&(i=E.updateQueue,i!==null)){if(h=null,E.child!==null)switch(E.child.tag){case 27:case 5:h=E.child.stateNode;break;case 1:h=E.child.stateNode}try{H(i,h)}catch(Ce){Ya(E,E.return,Ce)}}break;case 27:h===null&&I&4&&Sl(E);case 26:case 5:eh(i,E),h===null&&I&4&&Wo(E),I&512&&Gs(E,E.return);break;case 12:eh(i,E);break;case 31:eh(i,E),I&4&&xb(i,E);break;case 13:eh(i,E),I&4&&bb(i,E),I&64&&(i=E.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(E=sT.bind(null,E),kT(i,E))));break;case 22:if(I=E.memoizedState!==null||Jl,!I){h=h!==null&&h.memoizedState!==null||Wa,G=Jl;var Z=Wa;Jl=I,(Wa=h)&&!Z?th(i,E,(E.subtreeFlags&8772)!==0):eh(i,E),Jl=G,Wa=Z}break;case 30:break;default:eh(i,E)}}function _f(i){var h=i.alternate;h!==null&&(i.alternate=null,_f(h)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(h=i.stateNode,h!==null&&oa(h)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var wa=null,ka=!1;function $l(i,h,E){for(E=E.child;E!==null;)V0(i,h,E),E=E.sibling}function V0(i,h,E){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(it,E)}catch{}switch(E.tag){case 26:Wa||yo(E,h),$l(i,h,E),E.memoizedState?E.memoizedState.count--:E.stateNode&&(E=E.stateNode,E.parentNode.removeChild(E));break;case 27:Wa||yo(E,h);var I=wa,G=ka;Nh(E.type)&&(wa=E.stateNode,ka=!1),$l(i,h,E),t1(E.stateNode),wa=I,ka=G;break;case 5:Wa||yo(E,h);case 6:if(I=wa,G=ka,wa=null,$l(i,h,E),wa=I,ka=G,wa!==null)if(ka)try{(wa.nodeType===9?wa.body:wa.nodeName==="HTML"?wa.ownerDocument.body:wa).removeChild(E.stateNode)}catch(Z){Ya(E,h,Z)}else try{wa.removeChild(E.stateNode)}catch(Z){Ya(E,h,Z)}break;case 18:wa!==null&&(ka?(i=wa,c4(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,E.stateNode),ad(i)):c4(wa,E.stateNode));break;case 4:I=wa,G=ka,wa=E.stateNode.containerInfo,ka=!0,$l(i,h,E),wa=I,ka=G;break;case 0:case 11:case 14:case 15:Gi(2,E,h),Wa||Gi(4,E,h),$l(i,h,E);break;case 1:Wa||(yo(E,h),I=E.stateNode,typeof I.componentWillUnmount=="function"&&oo(E,h,I)),$l(i,h,E);break;case 21:$l(i,h,E);break;case 22:Wa=(I=Wa)||E.memoizedState!==null,$l(i,h,E),Wa=I;break;default:$l(i,h,E)}}function xb(i,h){if(h.memoizedState===null&&(i=h.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ad(i)}catch(E){Ya(h,h.return,E)}}}function bb(i,h){if(h.memoizedState===null&&(i=h.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ad(i)}catch(E){Ya(h,h.return,E)}}function $A(i){switch(i.tag){case 31:case 13:case 19:var h=i.stateNode;return h===null&&(h=i.stateNode=new nc),h;case 22:return i=i.stateNode,h=i._retryCache,h===null&&(h=i._retryCache=new nc),h;default:throw Error(r(435,i.tag))}}function hg(i,h){var E=$A(i);h.forEach(function(I){if(!E.has(I)){E.add(I);var G=lT.bind(null,i,I);I.then(G,G)}})}function Bu(i,h){var E=h.deletions;if(E!==null)for(var I=0;I<E.length;I++){var G=E[I],Z=i,Ce=h,je=Ce;e:for(;je!==null;){switch(je.tag){case 27:if(Nh(je.type)){wa=je.stateNode,ka=!1;break e}break;case 5:wa=je.stateNode,ka=!1;break e;case 3:case 4:wa=je.stateNode.containerInfo,ka=!0;break e}je=je.return}if(wa===null)throw Error(r(160));V0(Z,Ce,G),wa=null,ka=!1,Z=G.alternate,Z!==null&&(Z.return=null),G.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)wb(h,i),h=h.sibling}var tf=null;function wb(i,h){var E=i.alternate,I=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bu(h,i),Fu(i),I&4&&(Gi(3,i,i.return),ii(3,i),Gi(5,i,i.return));break;case 1:Bu(h,i),Fu(i),I&512&&(Wa||E===null||yo(E,E.return)),I&64&&Jl&&(i=i.updateQueue,i!==null&&(I=i.callbacks,I!==null&&(E=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=E===null?I:E.concat(I))));break;case 26:var G=tf;if(Bu(h,i),Fu(i),I&512&&(Wa||E===null||yo(E,E.return)),I&4){var Z=E!==null?E.memoizedState:null;if(I=i.memoizedState,E===null)if(I===null)if(i.stateNode===null){e:{I=i.type,E=i.memoizedProps,G=G.ownerDocument||G;t:switch(I){case"title":Z=G.getElementsByTagName("title")[0],(!Z||Z[gr]||Z[Pr]||Z.namespaceURI==="http://www.w3.org/2000/svg"||Z.hasAttribute("itemprop"))&&(Z=G.createElement(I),G.head.insertBefore(Z,G.querySelector("head > title"))),Pl(Z,I,E),Z[Pr]=i,Ni(Z),I=Z;break e;case"link":var Ce=w4("link","href",G).get(I+(E.href||""));if(Ce){for(var je=0;je<Ce.length;je++)if(Z=Ce[je],Z.getAttribute("href")===(E.href==null||E.href===""?null:E.href)&&Z.getAttribute("rel")===(E.rel==null?null:E.rel)&&Z.getAttribute("title")===(E.title==null?null:E.title)&&Z.getAttribute("crossorigin")===(E.crossOrigin==null?null:E.crossOrigin)){Ce.splice(je,1);break t}}Z=G.createElement(I),Pl(Z,I,E),G.head.appendChild(Z);break;case"meta":if(Ce=w4("meta","content",G).get(I+(E.content||""))){for(je=0;je<Ce.length;je++)if(Z=Ce[je],Z.getAttribute("content")===(E.content==null?null:""+E.content)&&Z.getAttribute("name")===(E.name==null?null:E.name)&&Z.getAttribute("property")===(E.property==null?null:E.property)&&Z.getAttribute("http-equiv")===(E.httpEquiv==null?null:E.httpEquiv)&&Z.getAttribute("charset")===(E.charSet==null?null:E.charSet)){Ce.splice(je,1);break t}}Z=G.createElement(I),Pl(Z,I,E),G.head.appendChild(Z);break;default:throw Error(r(468,I))}Z[Pr]=i,Ni(Z),I=Z}i.stateNode=I}else C4(G,i.type,i.stateNode);else i.stateNode=b4(G,I,i.memoizedProps);else Z!==I?(Z===null?E.stateNode!==null&&(E=E.stateNode,E.parentNode.removeChild(E)):Z.count--,I===null?C4(G,i.type,i.stateNode):b4(G,I,i.memoizedProps)):I===null&&i.stateNode!==null&&ul(i,i.memoizedProps,E.memoizedProps)}break;case 27:Bu(h,i),Fu(i),I&512&&(Wa||E===null||yo(E,E.return)),E!==null&&I&4&&ul(i,i.memoizedProps,E.memoizedProps);break;case 5:if(Bu(h,i),Fu(i),I&512&&(Wa||E===null||yo(E,E.return)),i.flags&32){G=i.stateNode;try{rt(G,"")}catch(ur){Ya(i,i.return,ur)}}I&4&&i.stateNode!=null&&(G=i.memoizedProps,ul(i,G,E!==null?E.memoizedProps:G)),I&1024&&(Ls=!0);break;case 6:if(Bu(h,i),Fu(i),I&4){if(i.stateNode===null)throw Error(r(162));I=i.memoizedProps,E=i.stateNode;try{E.nodeValue=I}catch(ur){Ya(i,i.return,ur)}}break;case 3:if(Dg=null,G=tf,tf=Tg(h.containerInfo),Bu(h,i),tf=G,Fu(i),I&4&&E!==null&&E.memoizedState.isDehydrated)try{ad(h.containerInfo)}catch(ur){Ya(i,i.return,ur)}Ls&&(Ls=!1,Cb(i));break;case 4:I=tf,tf=Tg(i.stateNode.containerInfo),Bu(h,i),Fu(i),tf=I;break;case 12:Bu(h,i),Fu(i);break;case 31:Bu(h,i),Fu(i),I&4&&(I=i.updateQueue,I!==null&&(i.updateQueue=null,hg(i,I)));break;case 13:Bu(h,i),Fu(i),i.child.flags&8192&&i.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(gg=gt()),I&4&&(I=i.updateQueue,I!==null&&(i.updateQueue=null,hg(i,I)));break;case 22:G=i.memoizedState!==null;var Dt=E!==null&&E.memoizedState!==null,tn=Jl,fn=Wa;if(Jl=tn||G,Wa=fn||Dt,Bu(h,i),Wa=fn,Jl=tn,Fu(i),I&8192)e:for(h=i.stateNode,h._visibility=G?h._visibility&-2:h._visibility|1,G&&(E===null||Dt||Jl||Wa||m0(i)),E=null,h=i;;){if(h.tag===5||h.tag===26){if(E===null){Dt=E=h;try{if(Z=Dt.stateNode,G)Ce=Z.style,typeof Ce.setProperty=="function"?Ce.setProperty("display","none","important"):Ce.display="none";else{je=Dt.stateNode;var bn=Dt.memoizedProps.style,rn=bn!=null&&bn.hasOwnProperty("display")?bn.display:null;je.style.display=rn==null||typeof rn=="boolean"?"":(""+rn).trim()}}catch(ur){Ya(Dt,Dt.return,ur)}}}else if(h.tag===6){if(E===null){Dt=h;try{Dt.stateNode.nodeValue=G?"":Dt.memoizedProps}catch(ur){Ya(Dt,Dt.return,ur)}}}else if(h.tag===18){if(E===null){Dt=h;try{var ln=Dt.stateNode;G?f4(ln,!0):f4(Dt.stateNode,!1)}catch(ur){Ya(Dt,Dt.return,ur)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===i)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;E===h&&(E=null),h=h.return}E===h&&(E=null),h.sibling.return=h.return,h=h.sibling}I&4&&(I=i.updateQueue,I!==null&&(E=I.retryQueue,E!==null&&(I.retryQueue=null,hg(i,E))));break;case 19:Bu(h,i),Fu(i),I&4&&(I=i.updateQueue,I!==null&&(i.updateQueue=null,hg(i,I)));break;case 30:break;case 21:break;default:Bu(h,i),Fu(i)}}function Fu(i){var h=i.flags;if(h&2){try{for(var E,I=i.return;I!==null;){if(Ns(I)){E=I;break}I=I.return}if(E==null)throw Error(r(160));switch(E.tag){case 27:var G=E.stateNode,Z=Go(i);to(i,Z,G);break;case 5:var Ce=E.stateNode;E.flags&32&&(rt(Ce,""),E.flags&=-33);var je=Go(i);to(i,je,Ce);break;case 3:case 4:var Dt=E.stateNode.containerInfo,tn=Go(i);Ro(i,tn,Dt);break;default:throw Error(r(161))}}catch(fn){Ya(i,i.return,fn)}i.flags&=-3}h&4096&&(i.flags&=-4097)}function Cb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var h=i;Cb(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),i=i.sibling}}function eh(i,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)_c(i,h.alternate,h),h=h.sibling}function m0(i){for(i=i.child;i!==null;){var h=i;switch(h.tag){case 0:case 11:case 14:case 15:Gi(4,h,h.return),m0(h);break;case 1:yo(h,h.return);var E=h.stateNode;typeof E.componentWillUnmount=="function"&&oo(h,h.return,E),m0(h);break;case 27:t1(h.stateNode);case 26:case 5:yo(h,h.return),m0(h);break;case 22:h.memoizedState===null&&m0(h);break;case 30:m0(h);break;default:m0(h)}i=i.sibling}}function th(i,h,E){for(E=E&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var I=h.alternate,G=i,Z=h,Ce=Z.flags;switch(Z.tag){case 0:case 11:case 15:th(G,Z,E),ii(4,Z);break;case 1:if(th(G,Z,E),I=Z,G=I.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(tn){Ya(I,I.return,tn)}if(I=Z,G=I.updateQueue,G!==null){var je=I.stateNode;try{var Dt=G.shared.hiddenCallbacks;if(Dt!==null)for(G.shared.hiddenCallbacks=null,G=0;G<Dt.length;G++)z(Dt[G],je)}catch(tn){Ya(I,I.return,tn)}}E&&Ce&64&&bs(Z),Gs(Z,Z.return);break;case 27:Sl(Z);case 26:case 5:th(G,Z,E),E&&I===null&&Ce&4&&Wo(Z),Gs(Z,Z.return);break;case 12:th(G,Z,E);break;case 31:th(G,Z,E),E&&Ce&4&&xb(G,Z);break;case 13:th(G,Z,E),E&&Ce&4&&bb(G,Z);break;case 22:Z.memoizedState===null&&th(G,Z,E),Gs(Z,Z.return);break;case 30:break;default:th(G,Z,E)}h=h.sibling}}function Bm(i,h){var E=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(E=i.memoizedState.cachePool.pool),i=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(i=h.memoizedState.cachePool.pool),i!==E&&(i!=null&&i.refCount++,E!=null&&Vu(E))}function Fm(i,h){i=null,h.alternate!==null&&(i=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==i&&(h.refCount++,i!=null&&Vu(i))}function nf(i,h,E,I){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Sb(i,h,E,I),h=h.sibling}function Sb(i,h,E,I){var G=h.flags;switch(h.tag){case 0:case 11:case 15:nf(i,h,E,I),G&2048&&ii(9,h);break;case 1:nf(i,h,E,I);break;case 3:nf(i,h,E,I),G&2048&&(i=null,h.alternate!==null&&(i=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==i&&(h.refCount++,i!=null&&Vu(i)));break;case 12:if(G&2048){nf(i,h,E,I),i=h.stateNode;try{var Z=h.memoizedProps,Ce=Z.id,je=Z.onPostCommit;typeof je=="function"&&je(Ce,h.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Dt){Ya(h,h.return,Dt)}}else nf(i,h,E,I);break;case 31:nf(i,h,E,I);break;case 13:nf(i,h,E,I);break;case 23:break;case 22:Z=h.stateNode,Ce=h.alternate,h.memoizedState!==null?Z._visibility&2?nf(i,h,E,I):Vd(i,h):Z._visibility&2?nf(i,h,E,I):(Z._visibility|=2,K0(i,h,E,I,(h.subtreeFlags&10256)!==0||!1)),G&2048&&Bm(Ce,h);break;case 24:nf(i,h,E,I),G&2048&&Fm(h.alternate,h);break;default:nf(i,h,E,I)}}function K0(i,h,E,I,G){for(G=G&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var Z=i,Ce=h,je=E,Dt=I,tn=Ce.flags;switch(Ce.tag){case 0:case 11:case 15:K0(Z,Ce,je,Dt,G),ii(8,Ce);break;case 23:break;case 22:var fn=Ce.stateNode;Ce.memoizedState!==null?fn._visibility&2?K0(Z,Ce,je,Dt,G):Vd(Z,Ce):(fn._visibility|=2,K0(Z,Ce,je,Dt,G)),G&&tn&2048&&Bm(Ce.alternate,Ce);break;case 24:K0(Z,Ce,je,Dt,G),G&&tn&2048&&Fm(Ce.alternate,Ce);break;default:K0(Z,Ce,je,Dt,G)}h=h.sibling}}function Vd(i,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var E=i,I=h,G=I.flags;switch(I.tag){case 22:Vd(E,I),G&2048&&Bm(I.alternate,I);break;case 24:Vd(E,I),G&2048&&Fm(I.alternate,I);break;default:Vd(E,I)}h=h.sibling}}var Kd=8192;function Z0(i,h,E){if(i.subtreeFlags&Kd)for(i=i.child;i!==null;)Eb(i,h,E),i=i.sibling}function Eb(i,h,E){switch(i.tag){case 26:Z0(i,h,E),i.flags&Kd&&i.memoizedState!==null&&zT(E,tf,i.memoizedState,i.memoizedProps);break;case 5:Z0(i,h,E);break;case 3:case 4:var I=tf;tf=Tg(i.stateNode.containerInfo),Z0(i,h,E),tf=I;break;case 22:i.memoizedState===null&&(I=i.alternate,I!==null&&I.memoizedState!==null?(I=Kd,Kd=16777216,Z0(i,h,E),Kd=I):Z0(i,h,E));break;default:Z0(i,h,E)}}function Ab(i){var h=i.alternate;if(h!==null&&(i=h.child,i!==null)){h.child=null;do h=i.sibling,i.sibling=null,i=h;while(i!==null)}}function Zd(i){var h=i.deletions;if((i.flags&16)!==0){if(h!==null)for(var E=0;E<h.length;E++){var I=h[E];zi=I,kb(I,i)}Ab(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tb(i),i=i.sibling}function Tb(i){switch(i.tag){case 0:case 11:case 15:Zd(i),i.flags&2048&&Gi(9,i,i.return);break;case 3:Zd(i);break;case 12:Zd(i);break;case 22:var h=i.stateNode;i.memoizedState!==null&&h._visibility&2&&(i.return===null||i.return.tag!==13)?(h._visibility&=-3,dg(i)):Zd(i);break;default:Zd(i)}}function dg(i){var h=i.deletions;if((i.flags&16)!==0){if(h!==null)for(var E=0;E<h.length;E++){var I=h[E];zi=I,kb(I,i)}Ab(i)}for(i=i.child;i!==null;){switch(h=i,h.tag){case 0:case 11:case 15:Gi(8,h,h.return),dg(h);break;case 22:E=h.stateNode,E._visibility&2&&(E._visibility&=-3,dg(h));break;default:dg(h)}i=i.sibling}}function kb(i,h){for(;zi!==null;){var E=zi;switch(E.tag){case 0:case 11:case 15:Gi(8,E,h);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var I=E.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:Vu(E.memoizedState.cache)}if(I=E.child,I!==null)I.return=E,zi=I;else e:for(E=i;zi!==null;){I=zi;var G=I.sibling,Z=I.return;if(_f(I),I===E){zi=null;break e}if(G!==null){G.return=Z,zi=G;break e}zi=Z}}}var eT={getCacheForType:function(i){var h=la(Ta),E=h.data.get(i);return E===void 0&&(E=i(),h.data.set(i,E)),E},cacheSignal:function(){return la(Ta).controller.signal}},tT=typeof WeakMap=="function"?WeakMap:Map,Da=0,so=null,Yi=null,ia=0,Ga=0,rc=null,Dh=!1,q0=!1,Pm=!1,nh=0,ws=0,_h=0,v0=0,zm=0,ic=0,Q0=0,qd=null,Pu=null,Hm=!1,gg=0,Db=0,pg=1/0,mg=null,Mh=null,cl=0,Oh=null,J0=null,rh=0,Um=0,jm=null,_b=null,Qd=0,Wm=null;function ac(){return(Da&2)!==0&&ia!==0?ia&-ia:ye.T!==null?Zm():vi()}function Mb(){if(ic===0)if((ia&536870912)===0||ri){var i=pn;pn<<=1,(pn&3932160)===0&&(pn=262144),ic=i}else ic=536870912;return i=Ot.current,i!==null&&(i.flags|=32),ic}function zu(i,h,E){(i===so&&(Ga===2||Ga===9)||i.cancelPendingCommit!==null)&&($0(i,0),Ih(i,ia,ic,!1)),Br(i,E),((Da&2)===0||i!==so)&&(i===so&&((Da&2)===0&&(v0|=E),ws===4&&Ih(i,ia,ic,!1)),Mf(i))}function Ob(i,h,E){if((Da&6)!==0)throw Error(r(327));var I=!E&&(h&127)===0&&(h&i.expiredLanes)===0||Yn(i,h),G=I?iT(i,h):Ym(i,h,!0),Z=I;do{if(G===0){q0&&!I&&Ih(i,h,0,!1);break}else{if(E=i.current.alternate,Z&&!nT(E)){G=Ym(i,h,!1),Z=!1;continue}if(G===2){if(Z=h,i.errorRecoveryDisabledLanes&Z)var Ce=0;else Ce=i.pendingLanes&-536870913,Ce=Ce!==0?Ce:Ce&536870912?536870912:0;if(Ce!==0){h=Ce;e:{var je=i;G=qd;var Dt=je.current.memoizedState.isDehydrated;if(Dt&&($0(je,Ce).flags|=256),Ce=Ym(je,Ce,!1),Ce!==2){if(Pm&&!Dt){je.errorRecoveryDisabledLanes|=Z,v0|=Z,G=4;break e}Z=Pu,Pu=G,Z!==null&&(Pu===null?Pu=Z:Pu.push.apply(Pu,Z))}G=Ce}if(Z=!1,G!==2)continue}}if(G===1){$0(i,0),Ih(i,h,0,!0);break}e:{switch(I=i,Z=G,Z){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Ih(I,h,ic,!Dh);break e;case 2:Pu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(G=gg+300-gt(),10<G)){if(Ih(I,h,ic,!Dh),$n(I,0,!0)!==0)break e;rh=h,I.timeoutHandle=l4(Ib.bind(null,I,E,Pu,mg,Hm,h,ic,v0,Q0,Dh,Z,"Throttled",-0,0),G);break e}Ib(I,E,Pu,mg,Hm,h,ic,v0,Q0,Dh,Z,null,-0,0)}}break}while(!0);Mf(i)}function Ib(i,h,E,I,G,Z,Ce,je,Dt,tn,fn,bn,rn,ln){if(i.timeoutHandle=-1,bn=h.subtreeFlags,bn&8192||(bn&16785408)===16785408){bn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$r},Eb(h,Z,bn);var ur=(Z&62914560)===Z?gg-gt():(Z&4194048)===Z?Db-gt():0;if(ur=HT(bn,ur),ur!==null){rh=Z,i.cancelPendingCommit=ur(Hb.bind(null,i,h,Z,E,I,G,Ce,je,Dt,fn,bn,null,rn,ln)),Ih(i,Z,Ce,!tn);return}}Hb(i,h,Z,E,I,G,Ce,je,Dt)}function nT(i){for(var h=i;;){var E=h.tag;if((E===0||E===11||E===15)&&h.flags&16384&&(E=h.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var I=0;I<E.length;I++){var G=E[I],Z=G.getSnapshot;G=G.value;try{if(!L(Z(),G))return!1}catch{return!1}}if(E=h.child,h.subtreeFlags&16384&&E!==null)E.return=h,h=E;else{if(h===i)break;for(;h.sibling===null;){if(h.return===null||h.return===i)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Ih(i,h,E,I){h&=~zm,h&=~v0,i.suspendedLanes|=h,i.pingedLanes&=~h,I&&(i.warmLanes|=h),I=i.expirationTimes;for(var G=h;0<G;){var Z=31-Ye(G),Ce=1<<Z;I[Z]=-1,G&=~Ce}E!==0&&Oi(i,E,h)}function vg(){return(Da&6)===0?(Jd(0),!1):!0}function Gm(){if(Yi!==null){if(Ga===0)var i=Yi.return;else i=Yi,qr=Na=null,ku(i),Us=null,Qu=0,i=Yi;for(;i!==null;)dr(i.alternate,i),i=i.return;Yi=null}}function $0(i,h){var E=i.timeoutHandle;E!==-1&&(i.timeoutHandle=-1,CT(E)),E=i.cancelPendingCommit,E!==null&&(i.cancelPendingCommit=null,E()),rh=0,Gm(),so=i,Yi=E=Ha(i.current,null),ia=h,Ga=0,rc=null,Dh=!1,q0=Yn(i,h),Pm=!1,Q0=ic=zm=v0=_h=ws=0,Pu=qd=null,Hm=!1,(h&8)!==0&&(h|=h&32);var I=i.entangledLanes;if(I!==0)for(i=i.entanglements,I&=h;0<I;){var G=31-Ye(I),Z=1<<G;h|=i[G],I&=~Z}return nh=h,rr(),E}function Rb(i,h){qn=null,ye.H=Zf,h===Yl||h===Vl?(h=ao(),Ga=3):h===Xl?(h=ao(),Ga=4):Ga=h===Jf?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,rc=h,Yi===null&&(ws=1,ll(i,ds(h,i.current)))}function Nb(){var i=Ot.current;return i===null?!0:(ia&4194048)===ia?ht===null:(ia&62914560)===ia||(ia&536870912)!==0?i===ht:!1}function Lb(){var i=ye.H;return ye.H=Zf,i===null?Zf:i}function Bb(){var i=ye.A;return ye.A=eT,i}function yg(){ws=4,Dh||(ia&4194048)!==ia&&Ot.current!==null||(q0=!0),(_h&134217727)===0&&(v0&134217727)===0||so===null||Ih(so,ia,ic,!1)}function Ym(i,h,E){var I=Da;Da|=2;var G=Lb(),Z=Bb();(so!==i||ia!==h)&&(mg=null,$0(i,h)),h=!1;var Ce=ws;e:do try{if(Ga!==0&&Yi!==null){var je=Yi,Dt=rc;switch(Ga){case 8:Gm(),Ce=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(h=!0);var tn=Ga;if(Ga=0,rc=null,ed(i,je,Dt,tn),E&&q0){Ce=0;break e}break;default:tn=Ga,Ga=0,rc=null,ed(i,je,Dt,tn)}}rT(),Ce=ws;break}catch(fn){Rb(i,fn)}while(!0);return h&&i.shellSuspendCounter++,qr=Na=null,Da=I,ye.H=G,ye.A=Z,Yi===null&&(so=null,ia=0,rr()),Ce}function rT(){for(;Yi!==null;)Fb(Yi)}function iT(i,h){var E=Da;Da|=2;var I=Lb(),G=Bb();so!==i||ia!==h?(mg=null,pg=gt()+500,$0(i,h)):q0=Yn(i,h);e:do try{if(Ga!==0&&Yi!==null){h=Yi;var Z=rc;t:switch(Ga){case 1:Ga=0,rc=null,ed(i,h,Z,1);break;case 2:case 9:if(qu(Z)){Ga=0,rc=null,Pb(h);break}h=function(){Ga!==2&&Ga!==9||so!==i||(Ga=7),Mf(i)},Z.then(h,h);break e;case 3:Ga=7;break e;case 4:Ga=5;break e;case 7:qu(Z)?(Ga=0,rc=null,Pb(h)):(Ga=0,rc=null,ed(i,h,Z,7));break;case 5:var Ce=null;switch(Yi.tag){case 26:Ce=Yi.memoizedState;case 5:case 27:var je=Yi;if(Ce?S4(Ce):je.stateNode.complete){Ga=0,rc=null;var Dt=je.sibling;if(Dt!==null)Yi=Dt;else{var tn=je.return;tn!==null?(Yi=tn,xg(tn)):Yi=null}break t}}Ga=0,rc=null,ed(i,h,Z,5);break;case 6:Ga=0,rc=null,ed(i,h,Z,6);break;case 8:Gm(),ws=6;break e;default:throw Error(r(462))}}aT();break}catch(fn){Rb(i,fn)}while(!0);return qr=Na=null,ye.H=I,ye.A=G,Da=E,Yi!==null?0:(so=null,ia=0,rr(),ws)}function aT(){for(;Yi!==null&&!qt();)Fb(Yi)}function Fb(i){var h=Mt(i.alternate,i,nh);i.memoizedProps=i.pendingProps,h===null?xg(i):Yi=h}function Pb(i){var h=i,E=h.alternate;switch(h.tag){case 15:case 0:h=Dc(E,h,h.pendingProps,h.type,void 0,ia);break;case 11:h=Dc(E,h,h.pendingProps,h.type.render,h.ref,ia);break;case 5:ku(h);default:dr(E,h),h=Yi=Pi(h,nh),h=Mt(E,h,nh)}i.memoizedProps=i.pendingProps,h===null?xg(i):Yi=h}function ed(i,h,E,I){qr=Na=null,ku(h),Us=null,Qu=0;var G=h.return;try{if(Tf(i,G,h,E,ia)){ws=1,ll(i,ds(E,i.current)),Yi=null;return}}catch(Z){if(G!==null)throw Yi=G,Z;ws=1,ll(i,ds(E,i.current)),Yi=null;return}h.flags&32768?(ri||I===1?i=!0:q0||(ia&536870912)!==0?i=!1:(Dh=i=!0,(I===2||I===9||I===3||I===6)&&(I=Ot.current,I!==null&&I.tag===13&&(I.flags|=16384))),zb(h,i)):xg(h)}function xg(i){var h=i;do{if((h.flags&32768)!==0){zb(h,Dh);return}i=h.return;var E=Kn(h.alternate,h,nh);if(E!==null){Yi=E;return}if(h=h.sibling,h!==null){Yi=h;return}Yi=h=i}while(h!==null);ws===0&&(ws=5)}function zb(i,h){do{var E=Cr(i.alternate,i);if(E!==null){E.flags&=32767,Yi=E;return}if(E=i.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!h&&(i=i.sibling,i!==null)){Yi=i;return}Yi=i=E}while(i!==null);ws=6,Yi=null}function Hb(i,h,E,I,G,Z,Ce,je,Dt){i.cancelPendingCommit=null;do bg();while(cl!==0);if((Da&6)!==0)throw Error(r(327));if(h!==null){if(h===i.current)throw Error(r(177));if(Z=h.lanes|h.childLanes,Z|=In,mr(i,E,Z,Ce,je,Dt),i===so&&(Yi=so=null,ia=0),J0=h,Oh=i,rh=E,Um=Z,jm=G,_b=I,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,uT(Ee,function(){return Yb(),null})):(i.callbackNode=null,i.callbackPriority=0),I=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||I){I=ye.T,ye.T=null,G=Re.p,Re.p=2,Ce=Da,Da|=4;try{Xd(i,h,E)}finally{Da=Ce,Re.p=G,ye.T=I}}cl=1,Ub(),jb(),Wb()}}function Ub(){if(cl===1){cl=0;var i=Oh,h=J0,E=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||E){E=ye.T,ye.T=null;var I=Re.p;Re.p=2;var G=Da;Da|=4;try{wb(h,i);var Z=rv,Ce=K(i.containerInfo),je=Z.focusedElem,Dt=Z.selectionRange;if(Ce!==je&&je&&je.ownerDocument&&j(je.ownerDocument.documentElement,je)){if(Dt!==null&&ee(je)){var tn=Dt.start,fn=Dt.end;if(fn===void 0&&(fn=tn),"selectionStart"in je)je.selectionStart=tn,je.selectionEnd=Math.min(fn,je.value.length);else{var bn=je.ownerDocument||document,rn=bn&&bn.defaultView||window;if(rn.getSelection){var ln=rn.getSelection(),ur=je.textContent.length,Qr=Math.min(Dt.start,ur),ro=Dt.end===void 0?Qr:Math.min(Dt.end,ur);!ln.extend&&Qr>ro&&(Ce=ro,ro=Qr,Qr=Ce);var Yt=B(je,Qr),Lt=B(je,ro);if(Yt&&Lt&&(ln.rangeCount!==1||ln.anchorNode!==Yt.node||ln.anchorOffset!==Yt.offset||ln.focusNode!==Lt.node||ln.focusOffset!==Lt.offset)){var $t=bn.createRange();$t.setStart(Yt.node,Yt.offset),ln.removeAllRanges(),Qr>ro?(ln.addRange($t),ln.extend(Lt.node,Lt.offset)):($t.setEnd(Lt.node,Lt.offset),ln.addRange($t))}}}}for(bn=[],ln=je;ln=ln.parentNode;)ln.nodeType===1&&bn.push({element:ln,left:ln.scrollLeft,top:ln.scrollTop});for(typeof je.focus=="function"&&je.focus(),je=0;je<bn.length;je++){var yn=bn[je];yn.element.scrollLeft=yn.left,yn.element.scrollTop=yn.top}}Ig=!!nv,rv=nv=null}finally{Da=G,Re.p=I,ye.T=E}}i.current=h,cl=2}}function jb(){if(cl===2){cl=0;var i=Oh,h=J0,E=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||E){E=ye.T,ye.T=null;var I=Re.p;Re.p=2;var G=Da;Da|=4;try{_c(i,h.alternate,h)}finally{Da=G,Re.p=I,ye.T=E}}cl=3}}function Wb(){if(cl===4||cl===3){cl=0,Bn();var i=Oh,h=J0,E=rh,I=_b;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?cl=5:(cl=0,J0=Oh=null,Gb(i,i.pendingLanes));var G=i.pendingLanes;if(G===0&&(Mh=null),Yr(E),h=h.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(it,h,void 0,(h.current.flags&128)===128)}catch{}if(I!==null){h=ye.T,G=Re.p,Re.p=2,ye.T=null;try{for(var Z=i.onRecoverableError,Ce=0;Ce<I.length;Ce++){var je=I[Ce];Z(je.value,{componentStack:je.stack})}}finally{ye.T=h,Re.p=G}}(rh&3)!==0&&bg(),Mf(i),G=i.pendingLanes,(E&261930)!==0&&(G&42)!==0?i===Wm?Qd++:(Qd=0,Wm=i):Qd=0,Jd(0)}}function Gb(i,h){(i.pooledCacheLanes&=h)===0&&(h=i.pooledCache,h!=null&&(i.pooledCache=null,Vu(h)))}function bg(){return Ub(),jb(),Wb(),Yb()}function Yb(){if(cl!==5)return!1;var i=Oh,h=Um;Um=0;var E=Yr(rh),I=ye.T,G=Re.p;try{Re.p=32>E?32:E,ye.T=null,E=jm,jm=null;var Z=Oh,Ce=rh;if(cl=0,J0=Oh=null,rh=0,(Da&6)!==0)throw Error(r(331));var je=Da;if(Da|=4,Tb(Z.current),Sb(Z,Z.current,Ce,E),Da=je,Jd(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(it,Z)}catch{}return!0}finally{Re.p=G,ye.T=I,Gb(i,h)}}function Xb(i,h,E){h=ds(E,h),h=Ef(i.stateNode,h,2),i=ys(i,h,2),i!==null&&(Br(i,2),Mf(i))}function Ya(i,h,E){if(i.tag===3)Xb(i,i,E);else for(;h!==null;){if(h.tag===3){Xb(h,i,E);break}else if(h.tag===1){var I=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Mh===null||!Mh.has(I))){i=ds(E,i),E=Af(2),I=ys(h,E,2),I!==null&&(Qf(E,I,h,i),Br(I,2),Mf(I));break}}h=h.return}}function Xm(i,h,E){var I=i.pingCache;if(I===null){I=i.pingCache=new tT;var G=new Set;I.set(h,G)}else G=I.get(h),G===void 0&&(G=new Set,I.set(h,G));G.has(E)||(Pm=!0,G.add(E),i=oT.bind(null,i,h,E),h.then(i,i))}function oT(i,h,E){var I=i.pingCache;I!==null&&I.delete(h),i.pingedLanes|=i.suspendedLanes&E,i.warmLanes&=~E,so===i&&(ia&E)===E&&(ws===4||ws===3&&(ia&62914560)===ia&&300>gt()-gg?(Da&2)===0&&$0(i,0):zm|=E,Q0===ia&&(Q0=0)),Mf(i)}function Vb(i,h){h===0&&(h=Hn()),i=_r(i,h),i!==null&&(Br(i,h),Mf(i))}function sT(i){var h=i.memoizedState,E=0;h!==null&&(E=h.retryLane),Vb(i,E)}function lT(i,h){var E=0;switch(i.tag){case 31:case 13:var I=i.stateNode,G=i.memoizedState;G!==null&&(E=G.retryLane);break;case 19:I=i.stateNode;break;case 22:I=i.stateNode._retryCache;break;default:throw Error(r(314))}I!==null&&I.delete(h),Vb(i,E)}function uT(i,h){return un(i,h)}var wg=null,td=null,Vm=!1,Cg=!1,Km=!1,Rh=0;function Mf(i){i!==td&&i.next===null&&(td===null?wg=td=i:td=td.next=i),Cg=!0,Vm||(Vm=!0,fT())}function Jd(i,h){if(!Km&&Cg){Km=!0;do for(var E=!1,I=wg;I!==null;){if(i!==0){var G=I.pendingLanes;if(G===0)var Z=0;else{var Ce=I.suspendedLanes,je=I.pingedLanes;Z=(1<<31-Ye(42|i)+1)-1,Z&=G&~(Ce&~je),Z=Z&201326741?Z&201326741|1:Z?Z|2:0}Z!==0&&(E=!0,Qb(I,Z))}else Z=ia,Z=$n(I,I===so?Z:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),(Z&3)===0||Yn(I,Z)||(E=!0,Qb(I,Z));I=I.next}while(E);Km=!1}}function cT(){Kb()}function Kb(){Cg=Vm=!1;var i=0;Rh!==0&&wT()&&(i=Rh);for(var h=gt(),E=null,I=wg;I!==null;){var G=I.next,Z=Zb(I,h);Z===0?(I.next=null,E===null?wg=G:E.next=G,G===null&&(td=E)):(E=I,(i!==0||(Z&3)!==0)&&(Cg=!0)),I=G}cl!==0&&cl!==5||Jd(i),Rh!==0&&(Rh=0)}function Zb(i,h){for(var E=i.suspendedLanes,I=i.pingedLanes,G=i.expirationTimes,Z=i.pendingLanes&-62914561;0<Z;){var Ce=31-Ye(Z),je=1<<Ce,Dt=G[Ce];Dt===-1?((je&E)===0||(je&I)!==0)&&(G[Ce]=er(je,h)):Dt<=h&&(i.expiredLanes|=je),Z&=~je}if(h=so,E=ia,E=$n(i,i===h?E:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),I=i.callbackNode,E===0||i===h&&(Ga===2||Ga===9)||i.cancelPendingCommit!==null)return I!==null&&I!==null&&Xt(I),i.callbackNode=null,i.callbackPriority=0;if((E&3)===0||Yn(i,E)){if(h=E&-E,h===i.callbackPriority)return h;switch(I!==null&&Xt(I),Yr(E)){case 2:case 8:E=be;break;case 32:E=Ee;break;case 268435456:E=re;break;default:E=Ee}return I=qb.bind(null,i),E=un(E,I),i.callbackPriority=h,i.callbackNode=E,h}return I!==null&&I!==null&&Xt(I),i.callbackPriority=2,i.callbackNode=null,2}function qb(i,h){if(cl!==0&&cl!==5)return i.callbackNode=null,i.callbackPriority=0,null;var E=i.callbackNode;if(bg()&&i.callbackNode!==E)return null;var I=ia;return I=$n(i,i===so?I:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),I===0?null:(Ob(i,I,h),Zb(i,gt()),i.callbackNode!=null&&i.callbackNode===E?qb.bind(null,i):null)}function Qb(i,h){if(bg())return null;Ob(i,h,!0)}function fT(){ST(function(){(Da&6)!==0?un(Pe,cT):Kb()})}function Zm(){if(Rh===0){var i=ps;i===0&&(i=Pt,Pt<<=1,(Pt&261888)===0&&(Pt=256)),Rh=i}return Rh}function Jb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:kr(""+i)}function $b(i,h){var E=h.ownerDocument.createElement("input");return E.name=h.name,E.value=h.value,i.id&&E.setAttribute("form",i.id),h.parentNode.insertBefore(E,h),i=new FormData(i),E.parentNode.removeChild(E),i}function hT(i,h,E,I,G){if(h==="submit"&&E&&E.stateNode===G){var Z=Jb((G[ar]||null).action),Ce=I.submitter;Ce&&(h=(h=Ce[ar]||null)?Jb(h.formAction):Ce.getAttribute("formAction"),h!==null&&(Z=h,Ce=null));var je=new Aa("action","action",null,I,G);i.push({event:je,listeners:[{instance:null,listener:function(){if(I.defaultPrevented){if(Rh!==0){var Dt=Ce?$b(G,Ce):new FormData(G);Ru(E,{pending:!0,data:Dt,method:G.method,action:Z},null,Dt)}}else typeof Z=="function"&&(je.preventDefault(),Dt=Ce?$b(G,Ce):new FormData(G),Ru(E,{pending:!0,data:Dt,method:G.method,action:Z},Z,Dt))},currentTarget:G}]})}}for(var qm=0;qm<Rt.length;qm++){var Qm=Rt[qm],dT=Qm.toLowerCase(),gT=Qm[0].toUpperCase()+Qm.slice(1);kt(dT,"on"+gT)}kt(Y,"onAnimationEnd"),kt($,"onAnimationIteration"),kt(oe,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(ke,"onTransitionRun"),kt(ze,"onTransitionStart"),kt(vt,"onTransitionCancel"),kt(nt,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($d));function e4(i,h){h=(h&4)!==0;for(var E=0;E<i.length;E++){var I=i[E],G=I.event;I=I.listeners;e:{var Z=void 0;if(h)for(var Ce=I.length-1;0<=Ce;Ce--){var je=I[Ce],Dt=je.instance,tn=je.currentTarget;if(je=je.listener,Dt!==Z&&G.isPropagationStopped())break e;Z=je,G.currentTarget=tn;try{Z(G)}catch(fn){Zt(fn)}G.currentTarget=null,Z=Dt}else for(Ce=0;Ce<I.length;Ce++){if(je=I[Ce],Dt=je.instance,tn=je.currentTarget,je=je.listener,Dt!==Z&&G.isPropagationStopped())break e;Z=je,G.currentTarget=tn;try{Z(G)}catch(fn){Zt(fn)}G.currentTarget=null,Z=Dt}}}}function Xi(i,h){var E=h[yi];E===void 0&&(E=h[yi]=new Set);var I=i+"__bubble";E.has(I)||(t4(h,i,2,!1),E.add(I))}function Jm(i,h,E){var I=0;h&&(I|=4),t4(E,i,I,h)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function $m(i){if(!i[Sg]){i[Sg]=!0,hn.forEach(function(E){E!=="selectionchange"&&(pT.has(E)||Jm(E,!1,i),Jm(E,!0,i))});var h=i.nodeType===9?i:i.ownerDocument;h===null||h[Sg]||(h[Sg]=!0,Jm("selectionchange",!1,h))}}function t4(i,h,E,I){switch(M4(h)){case 2:var G=WT;break;case 8:G=GT;break;default:G=gv}E=G.bind(null,h,E,i),G=void 0,!hi||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(G=!0),I?G!==void 0?i.addEventListener(h,E,{capture:!0,passive:G}):i.addEventListener(h,E,!0):G!==void 0?i.addEventListener(h,E,{passive:G}):i.addEventListener(h,E,!1)}function ev(i,h,E,I,G){var Z=I;if((h&1)===0&&(h&2)===0&&I!==null)e:for(;;){if(I===null)return;var Ce=I.tag;if(Ce===3||Ce===4){var je=I.stateNode.containerInfo;if(je===G)break;if(Ce===4)for(Ce=I.return;Ce!==null;){var Dt=Ce.tag;if((Dt===3||Dt===4)&&Ce.stateNode.containerInfo===G)return;Ce=Ce.return}for(;je!==null;){if(Ce=Hr(je),Ce===null)return;if(Dt=Ce.tag,Dt===5||Dt===6||Dt===26||Dt===27){I=Z=Ce;continue e}je=je.parentNode}}I=I.return}ba(function(){var tn=Z,fn=ei(E),bn=[];e:{var rn=bt.get(i);if(rn!==void 0){var ln=Aa,ur=i;switch(i){case"keypress":if(ho(E)===0)break e;case"keydown":case"keyup":ln=dl;break;case"focusin":ur="focus",ln=_s;break;case"focusout":ur="blur",ln=_s;break;case"beforeblur":case"afterblur":ln=_s;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ln=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ln=_l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ln=Vo;break;case Y:case $:case oe:ln=Nr;break;case nt:ln=fs;break;case"scroll":case"scrollend":ln=ks;break;case"wheel":ln=Po;break;case"copy":case"cut":case"paste":ln=cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ln=Di;break;case"toggle":case"beforetoggle":ln=pl}var Qr=(h&4)!==0,ro=!Qr&&(i==="scroll"||i==="scrollend"),Yt=Qr?rn!==null?rn+"Capture":null:rn;Qr=[];for(var Lt=tn,$t;Lt!==null;){var yn=Lt;if($t=yn.stateNode,yn=yn.tag,yn!==5&&yn!==26&&yn!==27||$t===null||Yt===null||(yn=tr(Lt,Yt),yn!=null&&Qr.push(e1(Lt,yn,$t))),ro)break;Lt=Lt.return}0<Qr.length&&(rn=new ln(rn,ur,null,E,fn),bn.push({event:rn,listeners:Qr}))}}if((h&7)===0){e:{if(rn=i==="mouseover"||i==="pointerover",ln=i==="mouseout"||i==="pointerout",rn&&E!==Rr&&(ur=E.relatedTarget||E.fromElement)&&(Hr(ur)||ur[fi]))break e;if((ln||rn)&&(rn=fn.window===fn?fn:(rn=fn.ownerDocument)?rn.defaultView||rn.parentWindow:window,ln?(ur=E.relatedTarget||E.toElement,ln=tn,ur=ur?Hr(ur):null,ur!==null&&(ro=u(ur),Qr=ur.tag,ur!==ro||Qr!==5&&Qr!==27&&Qr!==6)&&(ur=null)):(ln=null,ur=tn),ln!==ur)){if(Qr=gi,yn="onMouseLeave",Yt="onMouseEnter",Lt="mouse",(i==="pointerout"||i==="pointerover")&&(Qr=Di,yn="onPointerLeave",Yt="onPointerEnter",Lt="pointer"),ro=ln==null?rn:co(ln),$t=ur==null?rn:co(ur),rn=new Qr(yn,Lt+"leave",ln,E,fn),rn.target=ro,rn.relatedTarget=$t,yn=null,Hr(fn)===tn&&(Qr=new Qr(Yt,Lt+"enter",ur,E,fn),Qr.target=$t,Qr.relatedTarget=ro,yn=Qr),ro=yn,ln&&ur)t:{for(Qr=mT,Yt=ln,Lt=ur,$t=0,yn=Yt;yn;yn=Qr(yn))$t++;yn=0;for(var Lr=Lt;Lr;Lr=Qr(Lr))yn++;for(;0<$t-yn;)Yt=Qr(Yt),$t--;for(;0<yn-$t;)Lt=Qr(Lt),yn--;for(;$t--;){if(Yt===Lt||Lt!==null&&Yt===Lt.alternate){Qr=Yt;break t}Yt=Qr(Yt),Lt=Qr(Lt)}Qr=null}else Qr=null;ln!==null&&n4(bn,rn,ln,Qr,!1),ur!==null&&ro!==null&&n4(bn,ro,ur,Qr,!0)}}e:{if(rn=tn?co(tn):window,ln=rn.nodeName&&rn.nodeName.toLowerCase(),ln==="select"||ln==="input"&&rn.type==="file")var Ca=za;else if(So(rn))if(ji)Ca=A;else{Ca=p;var yr=s}else ln=rn.nodeName,!ln||ln.toLowerCase()!=="input"||rn.type!=="checkbox"&&rn.type!=="radio"?tn&&xn(tn.elementType)&&(Ca=za):Ca=w;if(Ca&&(Ca=Ca(i,tn))){Za(bn,Ca,E,fn);break e}yr&&yr(i,rn,tn),i==="focusout"&&tn&&rn.type==="number"&&tn.memoizedProps.value!=null&&Qe(rn,"number",rn.value)}switch(yr=tn?co(tn):window,i){case"focusin":(So(yr)||yr.contentEditable==="true")&&(Te=yr,Oe=tn,Be=null);break;case"focusout":Be=Oe=Te=null;break;case"mousedown":Xe=!0;break;case"contextmenu":case"mouseup":case"dragend":Xe=!1,Ke(bn,E,fn);break;case"selectionchange":if(he)break;case"keydown":case"keyup":Ke(bn,E,fn)}var Ci;if($i)e:{switch(i){case"compositionstart":var aa="onCompositionStart";break e;case"compositionend":aa="onCompositionEnd";break e;case"compositionupdate":aa="onCompositionUpdate";break e}aa=void 0}else Js?bu(i,E)&&(aa="onCompositionEnd"):i==="keydown"&&E.keyCode===229&&(aa="onCompositionStart");aa&&(Ko&&E.locale!=="ko"&&(Js||aa!=="onCompositionStart"?aa==="onCompositionEnd"&&Js&&(Ci=Co()):(wo=fn,Fo="value"in wo?wo.value:wo.textContent,Js=!0)),yr=Eg(tn,aa),0<yr.length&&(aa=new Wl(aa,i,null,E,fn),bn.push({event:aa,listeners:yr}),Ci?aa.data=Ci:(Ci=ml(E),Ci!==null&&(aa.data=Ci)))),(Ci=Bi?qo(i,E):Ml(i,E))&&(aa=Eg(tn,"onBeforeInput"),0<aa.length&&(yr=new Wl("onBeforeInput","beforeinput",null,E,fn),bn.push({event:yr,listeners:aa}),yr.data=Ci)),hT(bn,i,tn,E,fn)}e4(bn,h)})}function e1(i,h,E){return{instance:i,listener:h,currentTarget:E}}function Eg(i,h){for(var E=h+"Capture",I=[];i!==null;){var G=i,Z=G.stateNode;if(G=G.tag,G!==5&&G!==26&&G!==27||Z===null||(G=tr(i,E),G!=null&&I.unshift(e1(i,G,Z)),G=tr(i,h),G!=null&&I.push(e1(i,G,Z))),i.tag===3)return I;i=i.return}return[]}function mT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function n4(i,h,E,I,G){for(var Z=h._reactName,Ce=[];E!==null&&E!==I;){var je=E,Dt=je.alternate,tn=je.stateNode;if(je=je.tag,Dt!==null&&Dt===I)break;je!==5&&je!==26&&je!==27||tn===null||(Dt=tn,G?(tn=tr(E,Z),tn!=null&&Ce.unshift(e1(E,tn,Dt))):G||(tn=tr(E,Z),tn!=null&&Ce.push(e1(E,tn,Dt)))),E=E.return}Ce.length!==0&&i.push({event:h,listeners:Ce})}var vT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function r4(i){return(typeof i=="string"?i:""+i).replace(vT,`
`).replace(yT,"")}function i4(i,h){return h=r4(h),r4(i)===h}function no(i,h,E,I,G,Z){switch(E){case"children":typeof I=="string"?h==="body"||h==="textarea"&&I===""||rt(i,I):(typeof I=="number"||typeof I=="bigint")&&h!=="body"&&rt(i,""+I);break;case"className":fo(i,"class",I);break;case"tabIndex":fo(i,"tabindex",I);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(i,E,I);break;case"style":nn(i,I,Z);break;case"data":if(h!=="object"){fo(i,"data",I);break}case"src":case"href":if(I===""&&(h!=="a"||E!=="href")){i.removeAttribute(E);break}if(I==null||typeof I=="function"||typeof I=="symbol"||typeof I=="boolean"){i.removeAttribute(E);break}I=kr(""+I),i.setAttribute(E,I);break;case"action":case"formAction":if(typeof I=="function"){i.setAttribute(E,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Z=="function"&&(E==="formAction"?(h!=="input"&&no(i,h,"name",G.name,G,null),no(i,h,"formEncType",G.formEncType,G,null),no(i,h,"formMethod",G.formMethod,G,null),no(i,h,"formTarget",G.formTarget,G,null)):(no(i,h,"encType",G.encType,G,null),no(i,h,"method",G.method,G,null),no(i,h,"target",G.target,G,null)));if(I==null||typeof I=="symbol"||typeof I=="boolean"){i.removeAttribute(E);break}I=kr(""+I),i.setAttribute(E,I);break;case"onClick":I!=null&&(i.onclick=$r);break;case"onScroll":I!=null&&Xi("scroll",i);break;case"onScrollEnd":I!=null&&Xi("scrollend",i);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(r(61));if(E=I.__html,E!=null){if(G.children!=null)throw Error(r(60));i.innerHTML=E}}break;case"multiple":i.multiple=I&&typeof I!="function"&&typeof I!="symbol";break;case"muted":i.muted=I&&typeof I!="function"&&typeof I!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(I==null||typeof I=="function"||typeof I=="boolean"||typeof I=="symbol"){i.removeAttribute("xlink:href");break}E=kr(""+I),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",E);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":I!=null&&typeof I!="function"&&typeof I!="symbol"?i.setAttribute(E,""+I):i.removeAttribute(E);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":I&&typeof I!="function"&&typeof I!="symbol"?i.setAttribute(E,""):i.removeAttribute(E);break;case"capture":case"download":I===!0?i.setAttribute(E,""):I!==!1&&I!=null&&typeof I!="function"&&typeof I!="symbol"?i.setAttribute(E,I):i.removeAttribute(E);break;case"cols":case"rows":case"size":case"span":I!=null&&typeof I!="function"&&typeof I!="symbol"&&!isNaN(I)&&1<=I?i.setAttribute(E,I):i.removeAttribute(E);break;case"rowSpan":case"start":I==null||typeof I=="function"||typeof I=="symbol"||isNaN(I)?i.removeAttribute(E):i.setAttribute(E,I);break;case"popover":Xi("beforetoggle",i),Xi("toggle",i),Or(i,"popover",I);break;case"xlinkActuate":cn(i,"http://www.w3.org/1999/xlink","xlink:actuate",I);break;case"xlinkArcrole":cn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",I);break;case"xlinkRole":cn(i,"http://www.w3.org/1999/xlink","xlink:role",I);break;case"xlinkShow":cn(i,"http://www.w3.org/1999/xlink","xlink:show",I);break;case"xlinkTitle":cn(i,"http://www.w3.org/1999/xlink","xlink:title",I);break;case"xlinkType":cn(i,"http://www.w3.org/1999/xlink","xlink:type",I);break;case"xmlBase":cn(i,"http://www.w3.org/XML/1998/namespace","xml:base",I);break;case"xmlLang":cn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",I);break;case"xmlSpace":cn(i,"http://www.w3.org/XML/1998/namespace","xml:space",I);break;case"is":Or(i,"is",I);break;case"innerText":case"textContent":break;default:(!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(E=hr.get(E)||E,Or(i,E,I))}}function tv(i,h,E,I,G,Z){switch(E){case"style":nn(i,I,Z);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(r(61));if(E=I.__html,E!=null){if(G.children!=null)throw Error(r(60));i.innerHTML=E}}break;case"children":typeof I=="string"?rt(i,I):(typeof I=="number"||typeof I=="bigint")&&rt(i,""+I);break;case"onScroll":I!=null&&Xi("scroll",i);break;case"onScrollEnd":I!=null&&Xi("scrollend",i);break;case"onClick":I!=null&&(i.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wi.hasOwnProperty(E))e:{if(E[0]==="o"&&E[1]==="n"&&(G=E.endsWith("Capture"),h=E.slice(2,G?E.length-7:void 0),Z=i[ar]||null,Z=Z!=null?Z[E]:null,typeof Z=="function"&&i.removeEventListener(h,Z,G),typeof I=="function")){typeof Z!="function"&&Z!==null&&(E in i?i[E]=null:i.hasAttribute(E)&&i.removeAttribute(E)),i.addEventListener(h,I,G);break e}E in i?i[E]=I:I===!0?i.setAttribute(E,""):Or(i,E,I)}}}function Pl(i,h,E){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xi("error",i),Xi("load",i);var I=!1,G=!1,Z;for(Z in E)if(E.hasOwnProperty(Z)){var Ce=E[Z];if(Ce!=null)switch(Z){case"src":I=!0;break;case"srcSet":G=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:no(i,h,Z,Ce,E,null)}}G&&no(i,h,"srcSet",E.srcSet,E,null),I&&no(i,h,"src",E.src,E,null);return;case"input":Xi("invalid",i);var je=Z=Ce=G=null,Dt=null,tn=null;for(I in E)if(E.hasOwnProperty(I)){var fn=E[I];if(fn!=null)switch(I){case"name":G=fn;break;case"type":Ce=fn;break;case"checked":Dt=fn;break;case"defaultChecked":tn=fn;break;case"value":Z=fn;break;case"defaultValue":je=fn;break;case"children":case"dangerouslySetInnerHTML":if(fn!=null)throw Error(r(137,h));break;default:no(i,h,I,fn,E,null)}}jt(i,Z,je,Dt,tn,Ce,G,!1);return;case"select":Xi("invalid",i),I=Ce=Z=null;for(G in E)if(E.hasOwnProperty(G)&&(je=E[G],je!=null))switch(G){case"value":Z=je;break;case"defaultValue":Ce=je;break;case"multiple":I=je;default:no(i,h,G,je,E,null)}h=Z,E=Ce,i.multiple=!!I,h!=null?Gn(i,!!I,h,!1):E!=null&&Gn(i,!!I,E,!0);return;case"textarea":Xi("invalid",i),Z=G=I=null;for(Ce in E)if(E.hasOwnProperty(Ce)&&(je=E[Ce],je!=null))switch(Ce){case"value":I=je;break;case"defaultValue":G=je;break;case"children":Z=je;break;case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(91));break;default:no(i,h,Ce,je,E,null)}ma(i,I,G,Z);return;case"option":for(Dt in E)E.hasOwnProperty(Dt)&&(I=E[Dt],I!=null)&&(Dt==="selected"?i.selected=I&&typeof I!="function"&&typeof I!="symbol":no(i,h,Dt,I,E,null));return;case"dialog":Xi("beforetoggle",i),Xi("toggle",i),Xi("cancel",i),Xi("close",i);break;case"iframe":case"object":Xi("load",i);break;case"video":case"audio":for(I=0;I<$d.length;I++)Xi($d[I],i);break;case"image":Xi("error",i),Xi("load",i);break;case"details":Xi("toggle",i);break;case"embed":case"source":case"link":Xi("error",i),Xi("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tn in E)if(E.hasOwnProperty(tn)&&(I=E[tn],I!=null))switch(tn){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:no(i,h,tn,I,E,null)}return;default:if(xn(h)){for(fn in E)E.hasOwnProperty(fn)&&(I=E[fn],I!==void 0&&tv(i,h,fn,I,E,void 0));return}}for(je in E)E.hasOwnProperty(je)&&(I=E[je],I!=null&&no(i,h,je,I,E,null))}function xT(i,h,E,I){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var G=null,Z=null,Ce=null,je=null,Dt=null,tn=null,fn=null;for(ln in E){var bn=E[ln];if(E.hasOwnProperty(ln)&&bn!=null)switch(ln){case"checked":break;case"value":break;case"defaultValue":Dt=bn;default:I.hasOwnProperty(ln)||no(i,h,ln,null,I,bn)}}for(var rn in I){var ln=I[rn];if(bn=E[rn],I.hasOwnProperty(rn)&&(ln!=null||bn!=null))switch(rn){case"type":Z=ln;break;case"name":G=ln;break;case"checked":tn=ln;break;case"defaultChecked":fn=ln;break;case"value":Ce=ln;break;case"defaultValue":je=ln;break;case"children":case"dangerouslySetInnerHTML":if(ln!=null)throw Error(r(137,h));break;default:ln!==bn&&no(i,h,rn,ln,I,bn)}}Ti(i,Ce,je,Dt,tn,fn,Z,G);return;case"select":ln=Ce=je=rn=null;for(Z in E)if(Dt=E[Z],E.hasOwnProperty(Z)&&Dt!=null)switch(Z){case"value":break;case"multiple":ln=Dt;default:I.hasOwnProperty(Z)||no(i,h,Z,null,I,Dt)}for(G in I)if(Z=I[G],Dt=E[G],I.hasOwnProperty(G)&&(Z!=null||Dt!=null))switch(G){case"value":rn=Z;break;case"defaultValue":je=Z;break;case"multiple":Ce=Z;default:Z!==Dt&&no(i,h,G,Z,I,Dt)}h=je,E=Ce,I=ln,rn!=null?Gn(i,!!E,rn,!1):!!I!=!!E&&(h!=null?Gn(i,!!E,h,!0):Gn(i,!!E,E?[]:"",!1));return;case"textarea":ln=rn=null;for(je in E)if(G=E[je],E.hasOwnProperty(je)&&G!=null&&!I.hasOwnProperty(je))switch(je){case"value":break;case"children":break;default:no(i,h,je,null,I,G)}for(Ce in I)if(G=I[Ce],Z=E[Ce],I.hasOwnProperty(Ce)&&(G!=null||Z!=null))switch(Ce){case"value":rn=G;break;case"defaultValue":ln=G;break;case"children":break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:G!==Z&&no(i,h,Ce,G,I,Z)}ki(i,rn,ln);return;case"option":for(var ur in E)rn=E[ur],E.hasOwnProperty(ur)&&rn!=null&&!I.hasOwnProperty(ur)&&(ur==="selected"?i.selected=!1:no(i,h,ur,null,I,rn));for(Dt in I)rn=I[Dt],ln=E[Dt],I.hasOwnProperty(Dt)&&rn!==ln&&(rn!=null||ln!=null)&&(Dt==="selected"?i.selected=rn&&typeof rn!="function"&&typeof rn!="symbol":no(i,h,Dt,rn,I,ln));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qr in E)rn=E[Qr],E.hasOwnProperty(Qr)&&rn!=null&&!I.hasOwnProperty(Qr)&&no(i,h,Qr,null,I,rn);for(tn in I)if(rn=I[tn],ln=E[tn],I.hasOwnProperty(tn)&&rn!==ln&&(rn!=null||ln!=null))switch(tn){case"children":case"dangerouslySetInnerHTML":if(rn!=null)throw Error(r(137,h));break;default:no(i,h,tn,rn,I,ln)}return;default:if(xn(h)){for(var ro in E)rn=E[ro],E.hasOwnProperty(ro)&&rn!==void 0&&!I.hasOwnProperty(ro)&&tv(i,h,ro,void 0,I,rn);for(fn in I)rn=I[fn],ln=E[fn],!I.hasOwnProperty(fn)||rn===ln||rn===void 0&&ln===void 0||tv(i,h,fn,rn,I,ln);return}}for(var Yt in E)rn=E[Yt],E.hasOwnProperty(Yt)&&rn!=null&&!I.hasOwnProperty(Yt)&&no(i,h,Yt,null,I,rn);for(bn in I)rn=I[bn],ln=E[bn],!I.hasOwnProperty(bn)||rn===ln||rn==null&&ln==null||no(i,h,bn,rn,I,ln)}function a4(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,h=0,E=performance.getEntriesByType("resource"),I=0;I<E.length;I++){var G=E[I],Z=G.transferSize,Ce=G.initiatorType,je=G.duration;if(Z&&je&&a4(Ce)){for(Ce=0,je=G.responseEnd,I+=1;I<E.length;I++){var Dt=E[I],tn=Dt.startTime;if(tn>je)break;var fn=Dt.transferSize,bn=Dt.initiatorType;fn&&a4(bn)&&(Dt=Dt.responseEnd,Ce+=fn*(Dt<je?1:(je-tn)/(Dt-tn)))}if(--I,h+=8*(Z+Ce)/(G.duration/1e3),i++,10<i)break}}if(0<i)return h/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var nv=null,rv=null;function Ag(i){return i.nodeType===9?i:i.ownerDocument}function o4(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s4(i,h){if(i===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&h==="foreignObject"?0:i}function iv(i,h){return i==="textarea"||i==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var av=null;function wT(){var i=window.event;return i&&i.type==="popstate"?i===av?!1:(av=i,!0):(av=null,!1)}var l4=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,u4=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof u4<"u"?function(i){return u4.resolve(null).then(i).catch(ET)}:l4;function ET(i){setTimeout(function(){throw i})}function Nh(i){return i==="head"}function c4(i,h){var E=h,I=0;do{var G=E.nextSibling;if(i.removeChild(E),G&&G.nodeType===8)if(E=G.data,E==="/$"||E==="/&"){if(I===0){i.removeChild(G),ad(h);return}I--}else if(E==="$"||E==="$?"||E==="$~"||E==="$!"||E==="&")I++;else if(E==="html")t1(i.ownerDocument.documentElement);else if(E==="head"){E=i.ownerDocument.head,t1(E);for(var Z=E.firstChild;Z;){var Ce=Z.nextSibling,je=Z.nodeName;Z[gr]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||E.removeChild(Z),Z=Ce}}else E==="body"&&t1(i.ownerDocument.body);E=G}while(E);ad(h)}function f4(i,h){var E=i;i=0;do{var I=E.nextSibling;if(E.nodeType===1?h?(E._stashedDisplay=E.style.display,E.style.display="none"):(E.style.display=E._stashedDisplay||"",E.getAttribute("style")===""&&E.removeAttribute("style")):E.nodeType===3&&(h?(E._stashedText=E.nodeValue,E.nodeValue=""):E.nodeValue=E._stashedText||""),I&&I.nodeType===8)if(E=I.data,E==="/$"){if(i===0)break;i--}else E!=="$"&&E!=="$?"&&E!=="$~"&&E!=="$!"||i++;E=I}while(E)}function ov(i){var h=i.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var E=h;switch(h=h.nextSibling,E.nodeName){case"HTML":case"HEAD":case"BODY":ov(E),oa(E);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(E.rel.toLowerCase()==="stylesheet")continue}i.removeChild(E)}}function AT(i,h,E,I){for(;i.nodeType===1;){var G=E;if(i.nodeName.toLowerCase()!==h.toLowerCase()){if(!I&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(I){if(!i[gr])switch(h){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(Z=i.getAttribute("rel"),Z==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(Z!==G.rel||i.getAttribute("href")!==(G.href==null||G.href===""?null:G.href)||i.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin)||i.getAttribute("title")!==(G.title==null?null:G.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(Z=i.getAttribute("src"),(Z!==(G.src==null?null:G.src)||i.getAttribute("type")!==(G.type==null?null:G.type)||i.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin))&&Z&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(h==="input"&&i.type==="hidden"){var Z=G.name==null?null:""+G.name;if(G.type==="hidden"&&i.getAttribute("name")===Z)return i}else return i;if(i=Mc(i.nextSibling),i===null)break}return null}function TT(i,h,E){if(h==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!E||(i=Mc(i.nextSibling),i===null))return null;return i}function h4(i,h){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=Mc(i.nextSibling),i===null))return null;return i}function sv(i){return i.data==="$?"||i.data==="$~"}function lv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function kT(i,h){var E=i.ownerDocument;if(i.data==="$~")i._reactRetry=h;else if(i.data!=="$?"||E.readyState!=="loading")h();else{var I=function(){h(),E.removeEventListener("DOMContentLoaded",I)};E.addEventListener("DOMContentLoaded",I),i._reactRetry=I}}function Mc(i){for(;i!=null;i=i.nextSibling){var h=i.nodeType;if(h===1||h===3)break;if(h===8){if(h=i.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return i}var uv=null;function d4(i){i=i.nextSibling;for(var h=0;i;){if(i.nodeType===8){var E=i.data;if(E==="/$"||E==="/&"){if(h===0)return Mc(i.nextSibling);h--}else E!=="$"&&E!=="$!"&&E!=="$?"&&E!=="$~"&&E!=="&"||h++}i=i.nextSibling}return null}function g4(i){i=i.previousSibling;for(var h=0;i;){if(i.nodeType===8){var E=i.data;if(E==="$"||E==="$!"||E==="$?"||E==="$~"||E==="&"){if(h===0)return i;h--}else E!=="/$"&&E!=="/&"||h++}i=i.previousSibling}return null}function p4(i,h,E){switch(h=Ag(E),i){case"html":if(i=h.documentElement,!i)throw Error(r(452));return i;case"head":if(i=h.head,!i)throw Error(r(453));return i;case"body":if(i=h.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function t1(i){for(var h=i.attributes;h.length;)i.removeAttributeNode(h[0]);oa(i)}var Oc=new Map,m4=new Set;function Tg(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ih=Re.d;Re.d={f:DT,r:_T,D:MT,C:OT,L:IT,m:RT,X:LT,S:NT,M:BT};function DT(){var i=ih.f(),h=vg();return i||h}function _T(i){var h=or(i);h!==null&&h.tag===5&&h.type==="form"?Ch(h):ih.r(i)}var nd=typeof document>"u"?null:document;function v4(i,h,E){var I=nd;if(I&&typeof h=="string"&&h){var G=Ir(h);G='link[rel="'+i+'"][href="'+G+'"]',typeof E=="string"&&(G+='[crossorigin="'+E+'"]'),m4.has(G)||(m4.add(G),i={rel:i,crossOrigin:E,href:h},I.querySelector(G)===null&&(h=I.createElement("link"),Pl(h,"link",i),Ni(h),I.head.appendChild(h)))}}function MT(i){ih.D(i),v4("dns-prefetch",i,null)}function OT(i,h){ih.C(i,h),v4("preconnect",i,h)}function IT(i,h,E){ih.L(i,h,E);var I=nd;if(I&&i&&h){var G='link[rel="preload"][as="'+Ir(h)+'"]';h==="image"&&E&&E.imageSrcSet?(G+='[imagesrcset="'+Ir(E.imageSrcSet)+'"]',typeof E.imageSizes=="string"&&(G+='[imagesizes="'+Ir(E.imageSizes)+'"]')):G+='[href="'+Ir(i)+'"]';var Z=G;switch(h){case"style":Z=rd(i);break;case"script":Z=id(i)}Oc.has(Z)||(i=f({rel:"preload",href:h==="image"&&E&&E.imageSrcSet?void 0:i,as:h},E),Oc.set(Z,i),I.querySelector(G)!==null||h==="style"&&I.querySelector(n1(Z))||h==="script"&&I.querySelector(r1(Z))||(h=I.createElement("link"),Pl(h,"link",i),Ni(h),I.head.appendChild(h)))}}function RT(i,h){ih.m(i,h);var E=nd;if(E&&i){var I=h&&typeof h.as=="string"?h.as:"script",G='link[rel="modulepreload"][as="'+Ir(I)+'"][href="'+Ir(i)+'"]',Z=G;switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Z=id(i)}if(!Oc.has(Z)&&(i=f({rel:"modulepreload",href:i},h),Oc.set(Z,i),E.querySelector(G)===null)){switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(E.querySelector(r1(Z)))return}I=E.createElement("link"),Pl(I,"link",i),Ni(I),E.head.appendChild(I)}}}function NT(i,h,E){ih.S(i,h,E);var I=nd;if(I&&i){var G=bi(I).hoistableStyles,Z=rd(i);h=h||"default";var Ce=G.get(Z);if(!Ce){var je={loading:0,preload:null};if(Ce=I.querySelector(n1(Z)))je.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":h},E),(E=Oc.get(Z))&&cv(i,E);var Dt=Ce=I.createElement("link");Ni(Dt),Pl(Dt,"link",i),Dt._p=new Promise(function(tn,fn){Dt.onload=tn,Dt.onerror=fn}),Dt.addEventListener("load",function(){je.loading|=1}),Dt.addEventListener("error",function(){je.loading|=2}),je.loading|=4,kg(Ce,h,I)}Ce={type:"stylesheet",instance:Ce,count:1,state:je},G.set(Z,Ce)}}}function LT(i,h){ih.X(i,h);var E=nd;if(E&&i){var I=bi(E).hoistableScripts,G=id(i),Z=I.get(G);Z||(Z=E.querySelector(r1(G)),Z||(i=f({src:i,async:!0},h),(h=Oc.get(G))&&fv(i,h),Z=E.createElement("script"),Ni(Z),Pl(Z,"link",i),E.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},I.set(G,Z))}}function BT(i,h){ih.M(i,h);var E=nd;if(E&&i){var I=bi(E).hoistableScripts,G=id(i),Z=I.get(G);Z||(Z=E.querySelector(r1(G)),Z||(i=f({src:i,async:!0,type:"module"},h),(h=Oc.get(G))&&fv(i,h),Z=E.createElement("script"),Ni(Z),Pl(Z,"link",i),E.head.appendChild(Z)),Z={type:"script",instance:Z,count:1,state:null},I.set(G,Z))}}function y4(i,h,E,I){var G=(G=Ne.current)?Tg(G):null;if(!G)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof E.precedence=="string"&&typeof E.href=="string"?(h=rd(E.href),E=bi(G).hoistableStyles,I=E.get(h),I||(I={type:"style",instance:null,count:0,state:null},E.set(h,I)),I):{type:"void",instance:null,count:0,state:null};case"link":if(E.rel==="stylesheet"&&typeof E.href=="string"&&typeof E.precedence=="string"){i=rd(E.href);var Z=bi(G).hoistableStyles,Ce=Z.get(i);if(Ce||(G=G.ownerDocument||G,Ce={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Z.set(i,Ce),(Z=G.querySelector(n1(i)))&&!Z._p&&(Ce.instance=Z,Ce.state.loading=5),Oc.has(i)||(E={rel:"preload",as:"style",href:E.href,crossOrigin:E.crossOrigin,integrity:E.integrity,media:E.media,hrefLang:E.hrefLang,referrerPolicy:E.referrerPolicy},Oc.set(i,E),Z||FT(G,i,E,Ce.state))),h&&I===null)throw Error(r(528,""));return Ce}if(h&&I!==null)throw Error(r(529,""));return null;case"script":return h=E.async,E=E.src,typeof E=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=id(E),E=bi(G).hoistableScripts,I=E.get(h),I||(I={type:"script",instance:null,count:0,state:null},E.set(h,I)),I):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function rd(i){return'href="'+Ir(i)+'"'}function n1(i){return'link[rel="stylesheet"]['+i+"]"}function x4(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function FT(i,h,E,I){i.querySelector('link[rel="preload"][as="style"]['+h+"]")?I.loading=1:(h=i.createElement("link"),I.preload=h,h.addEventListener("load",function(){return I.loading|=1}),h.addEventListener("error",function(){return I.loading|=2}),Pl(h,"link",E),Ni(h),i.head.appendChild(h))}function id(i){return'[src="'+Ir(i)+'"]'}function r1(i){return"script[async]"+i}function b4(i,h,E){if(h.count++,h.instance===null)switch(h.type){case"style":var I=i.querySelector('style[data-href~="'+Ir(E.href)+'"]');if(I)return h.instance=I,Ni(I),I;var G=f({},E,{"data-href":E.href,"data-precedence":E.precedence,href:null,precedence:null});return I=(i.ownerDocument||i).createElement("style"),Ni(I),Pl(I,"style",G),kg(I,E.precedence,i),h.instance=I;case"stylesheet":G=rd(E.href);var Z=i.querySelector(n1(G));if(Z)return h.state.loading|=4,h.instance=Z,Ni(Z),Z;I=x4(E),(G=Oc.get(G))&&cv(I,G),Z=(i.ownerDocument||i).createElement("link"),Ni(Z);var Ce=Z;return Ce._p=new Promise(function(je,Dt){Ce.onload=je,Ce.onerror=Dt}),Pl(Z,"link",I),h.state.loading|=4,kg(Z,E.precedence,i),h.instance=Z;case"script":return Z=id(E.src),(G=i.querySelector(r1(Z)))?(h.instance=G,Ni(G),G):(I=E,(G=Oc.get(Z))&&(I=f({},E),fv(I,G)),i=i.ownerDocument||i,G=i.createElement("script"),Ni(G),Pl(G,"link",I),i.head.appendChild(G),h.instance=G);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(I=h.instance,h.state.loading|=4,kg(I,E.precedence,i));return h.instance}function kg(i,h,E){for(var I=E.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),G=I.length?I[I.length-1]:null,Z=G,Ce=0;Ce<I.length;Ce++){var je=I[Ce];if(je.dataset.precedence===h)Z=je;else if(Z!==G)break}Z?Z.parentNode.insertBefore(i,Z.nextSibling):(h=E.nodeType===9?E.head:E,h.insertBefore(i,h.firstChild))}function cv(i,h){i.crossOrigin==null&&(i.crossOrigin=h.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=h.referrerPolicy),i.title==null&&(i.title=h.title)}function fv(i,h){i.crossOrigin==null&&(i.crossOrigin=h.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=h.referrerPolicy),i.integrity==null&&(i.integrity=h.integrity)}var Dg=null;function w4(i,h,E){if(Dg===null){var I=new Map,G=Dg=new Map;G.set(E,I)}else G=Dg,I=G.get(E),I||(I=new Map,G.set(E,I));if(I.has(i))return I;for(I.set(i,null),E=E.getElementsByTagName(i),G=0;G<E.length;G++){var Z=E[G];if(!(Z[gr]||Z[Pr]||i==="link"&&Z.getAttribute("rel")==="stylesheet")&&Z.namespaceURI!=="http://www.w3.org/2000/svg"){var Ce=Z.getAttribute(h)||"";Ce=i+Ce;var je=I.get(Ce);je?je.push(Z):I.set(Ce,[Z])}}return I}function C4(i,h,E){i=i.ownerDocument||i,i.head.insertBefore(E,h==="title"?i.querySelector("head > title"):null)}function PT(i,h,E){if(E===1||h.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;return h.rel==="stylesheet"?(i=h.disabled,typeof h.precedence=="string"&&i==null):!0;case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function S4(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function zT(i,h,E,I){if(E.type==="stylesheet"&&(typeof I.media!="string"||matchMedia(I.media).matches!==!1)&&(E.state.loading&4)===0){if(E.instance===null){var G=rd(I.href),Z=h.querySelector(n1(G));if(Z){h=Z._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(i.count++,i=_g.bind(i),h.then(i,i)),E.state.loading|=4,E.instance=Z,Ni(Z);return}Z=h.ownerDocument||h,I=x4(I),(G=Oc.get(G))&&cv(I,G),Z=Z.createElement("link"),Ni(Z);var Ce=Z;Ce._p=new Promise(function(je,Dt){Ce.onload=je,Ce.onerror=Dt}),Pl(Z,"link",I),E.instance=Z}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(E,h),(h=E.state.preload)&&(E.state.loading&3)===0&&(i.count++,E=_g.bind(i),h.addEventListener("load",E),h.addEventListener("error",E))}}var hv=0;function HT(i,h){return i.stylesheets&&i.count===0&&Og(i,i.stylesheets),0<i.count||0<i.imgCount?function(E){var I=setTimeout(function(){if(i.stylesheets&&Og(i,i.stylesheets),i.unsuspend){var Z=i.unsuspend;i.unsuspend=null,Z()}},6e4+h);0<i.imgBytes&&hv===0&&(hv=62500*bT());var G=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Og(i,i.stylesheets),i.unsuspend)){var Z=i.unsuspend;i.unsuspend=null,Z()}},(i.imgBytes>hv?50:800)+h);return i.unsuspend=E,function(){i.unsuspend=null,clearTimeout(I),clearTimeout(G)}}:null}function _g(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Mg=null;function Og(i,h){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Mg=new Map,h.forEach(UT,i),Mg=null,_g.call(i))}function UT(i,h){if(!(h.state.loading&4)){var E=Mg.get(i);if(E)var I=E.get(null);else{E=new Map,Mg.set(i,E);for(var G=i.querySelectorAll("link[data-precedence],style[data-precedence]"),Z=0;Z<G.length;Z++){var Ce=G[Z];(Ce.nodeName==="LINK"||Ce.getAttribute("media")!=="not all")&&(E.set(Ce.dataset.precedence,Ce),I=Ce)}I&&E.set(null,I)}G=h.instance,Ce=G.getAttribute("data-precedence"),Z=E.get(Ce)||I,Z===I&&E.set(null,G),E.set(Ce,G),this.count++,I=_g.bind(this),G.addEventListener("load",I),G.addEventListener("error",I),Z?Z.parentNode.insertBefore(G,Z.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(G,i.firstChild)),h.state.loading|=4}}var i1={$$typeof:U,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function jT(i,h,E,I,G,Z,Ce,je,Dt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=I,this.onUncaughtError=G,this.onCaughtError=Z,this.onRecoverableError=Ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Dt,this.incompleteTransitions=new Map}function E4(i,h,E,I,G,Z,Ce,je,Dt,tn,fn,bn){return i=new jT(i,h,E,Ce,Dt,tn,fn,bn,je),h=1,Z===!0&&(h|=24),Z=ca(3,null,null,h),i.current=Z,Z.stateNode=i,h=Cc(),h.refCount++,i.pooledCache=h,h.refCount++,Z.memoizedState={element:I,isDehydrated:E,cache:h},js(Z),i}function A4(i){return i?(i=jr,i):jr}function T4(i,h,E,I,G,Z){G=A4(G),I.context===null?I.context=G:I.pendingContext=G,I=Ws(h),I.payload={element:E},Z=Z===void 0?null:Z,Z!==null&&(I.callback=Z),E=ys(i,I,h),E!==null&&(zu(E,i,h),ol(E,i,h))}function k4(i,h){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var E=i.retryLane;i.retryLane=E!==0&&E<h?E:h}}function dv(i,h){k4(i,h),(i=i.alternate)&&k4(i,h)}function D4(i){if(i.tag===13||i.tag===31){var h=_r(i,67108864);h!==null&&zu(h,i,67108864),dv(i,67108864)}}function _4(i){if(i.tag===13||i.tag===31){var h=ac();h=si(h);var E=_r(i,h);E!==null&&zu(E,i,h),dv(i,h)}}var Ig=!0;function WT(i,h,E,I){var G=ye.T;ye.T=null;var Z=Re.p;try{Re.p=2,gv(i,h,E,I)}finally{Re.p=Z,ye.T=G}}function GT(i,h,E,I){var G=ye.T;ye.T=null;var Z=Re.p;try{Re.p=8,gv(i,h,E,I)}finally{Re.p=Z,ye.T=G}}function gv(i,h,E,I){if(Ig){var G=pv(I);if(G===null)ev(i,h,I,Rg,E),O4(i,I);else if(XT(G,i,h,E,I))I.stopPropagation();else if(O4(i,I),h&4&&-1<YT.indexOf(i)){for(;G!==null;){var Z=or(G);if(Z!==null)switch(Z.tag){case 3:if(Z=Z.stateNode,Z.current.memoizedState.isDehydrated){var Ce=vn(Z.pendingLanes);if(Ce!==0){var je=Z;for(je.pendingLanes|=2,je.entangledLanes|=2;Ce;){var Dt=1<<31-Ye(Ce);je.entanglements[1]|=Dt,Ce&=~Dt}Mf(Z),(Da&6)===0&&(pg=gt()+500,Jd(0))}}break;case 31:case 13:je=_r(Z,2),je!==null&&zu(je,Z,2),vg(),dv(Z,2)}if(Z=pv(I),Z===null&&ev(i,h,I,Rg,E),Z===G)break;G=Z}G!==null&&I.stopPropagation()}else ev(i,h,I,null,E)}}function pv(i){return i=ei(i),mv(i)}var Rg=null;function mv(i){if(Rg=null,i=Hr(i),i!==null){var h=u(i);if(h===null)i=null;else{var E=h.tag;if(E===13){if(i=y(h),i!==null)return i;i=null}else if(E===31){if(i=d(h),i!==null)return i;i=null}else if(E===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;i=null}else h!==i&&(i=null)}}return Rg=i,null}function M4(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Pe:return 2;case be:return 8;case Ee:case qe:return 32;case re:return 268435456;default:return 32}default:return 32}}var vv=!1,Lh=null,Bh=null,Fh=null,a1=new Map,o1=new Map,Ph=[],YT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O4(i,h){switch(i){case"focusin":case"focusout":Lh=null;break;case"dragenter":case"dragleave":Bh=null;break;case"mouseover":case"mouseout":Fh=null;break;case"pointerover":case"pointerout":a1.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":o1.delete(h.pointerId)}}function s1(i,h,E,I,G,Z){return i===null||i.nativeEvent!==Z?(i={blockedOn:h,domEventName:E,eventSystemFlags:I,nativeEvent:Z,targetContainers:[G]},h!==null&&(h=or(h),h!==null&&D4(h)),i):(i.eventSystemFlags|=I,h=i.targetContainers,G!==null&&h.indexOf(G)===-1&&h.push(G),i)}function XT(i,h,E,I,G){switch(h){case"focusin":return Lh=s1(Lh,i,h,E,I,G),!0;case"dragenter":return Bh=s1(Bh,i,h,E,I,G),!0;case"mouseover":return Fh=s1(Fh,i,h,E,I,G),!0;case"pointerover":var Z=G.pointerId;return a1.set(Z,s1(a1.get(Z)||null,i,h,E,I,G)),!0;case"gotpointercapture":return Z=G.pointerId,o1.set(Z,s1(o1.get(Z)||null,i,h,E,I,G)),!0}return!1}function I4(i){var h=Hr(i.target);if(h!==null){var E=u(h);if(E!==null){if(h=E.tag,h===13){if(h=y(E),h!==null){i.blockedOn=h,Sn(i.priority,function(){_4(E)});return}}else if(h===31){if(h=d(E),h!==null){i.blockedOn=h,Sn(i.priority,function(){_4(E)});return}}else if(h===3&&E.stateNode.current.memoizedState.isDehydrated){i.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ng(i){if(i.blockedOn!==null)return!1;for(var h=i.targetContainers;0<h.length;){var E=pv(i.nativeEvent);if(E===null){E=i.nativeEvent;var I=new E.constructor(E.type,E);Rr=I,E.target.dispatchEvent(I),Rr=null}else return h=or(E),h!==null&&D4(h),i.blockedOn=E,!1;h.shift()}return!0}function R4(i,h,E){Ng(i)&&E.delete(h)}function VT(){vv=!1,Lh!==null&&Ng(Lh)&&(Lh=null),Bh!==null&&Ng(Bh)&&(Bh=null),Fh!==null&&Ng(Fh)&&(Fh=null),a1.forEach(R4),o1.forEach(R4)}function Lg(i,h){i.blockedOn===h&&(i.blockedOn=null,vv||(vv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,VT)))}var Bg=null;function N4(i){Bg!==i&&(Bg=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bg===i&&(Bg=null);for(var h=0;h<i.length;h+=3){var E=i[h],I=i[h+1],G=i[h+2];if(typeof I!="function"){if(mv(I||E)===null)continue;break}var Z=or(E);Z!==null&&(i.splice(h,3),h-=3,Ru(Z,{pending:!0,data:G,method:E.method,action:I},I,G))}}))}function ad(i){function h(Dt){return Lg(Dt,i)}Lh!==null&&Lg(Lh,i),Bh!==null&&Lg(Bh,i),Fh!==null&&Lg(Fh,i),a1.forEach(h),o1.forEach(h);for(var E=0;E<Ph.length;E++){var I=Ph[E];I.blockedOn===i&&(I.blockedOn=null)}for(;0<Ph.length&&(E=Ph[0],E.blockedOn===null);)I4(E),E.blockedOn===null&&Ph.shift();if(E=(i.ownerDocument||i).$$reactFormReplay,E!=null)for(I=0;I<E.length;I+=3){var G=E[I],Z=E[I+1],Ce=G[ar]||null;if(typeof Z=="function")Ce||N4(E);else if(Ce){var je=null;if(Z&&Z.hasAttribute("formAction")){if(G=Z,Ce=Z[ar]||null)je=Ce.formAction;else if(mv(G)!==null)continue}else je=Ce.action;typeof je=="function"?E[I+1]=je:(E.splice(I,3),I-=3),N4(E)}}}function L4(){function i(Z){Z.canIntercept&&Z.info==="react-transition"&&Z.intercept({handler:function(){return new Promise(function(Ce){return G=Ce})},focusReset:"manual",scroll:"manual"})}function h(){G!==null&&(G(),G=null),I||setTimeout(E,20)}function E(){if(!I&&!navigation.transition){var Z=navigation.currentEntry;Z&&Z.url!=null&&navigation.navigate(Z.url,{state:Z.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var I=!1,G=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(E,100),function(){I=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),G!==null&&(G(),G=null)}}}function yv(i){this._internalRoot=i}Fg.prototype.render=yv.prototype.render=function(i){var h=this._internalRoot;if(h===null)throw Error(r(409));var E=h.current,I=ac();T4(E,I,i,h,null,null)},Fg.prototype.unmount=yv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var h=i.containerInfo;T4(i.current,2,null,i,null,null),vg(),h[fi]=null}};function Fg(i){this._internalRoot=i}Fg.prototype.unstable_scheduleHydration=function(i){if(i){var h=vi();i={blockedOn:null,target:i,priority:h};for(var E=0;E<Ph.length&&h!==0&&h<Ph[E].priority;E++);Ph.splice(E,0,i),E===0&&I4(i)}};var B4=t.version;if(B4!=="19.2.3")throw Error(r(527,B4,"19.2.3"));Re.findDOMNode=function(i){var h=i._reactInternals;if(h===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=c(h),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var KT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ye,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{it=Pg.inject(KT),We=Pg}catch{}}return u1.createRoot=function(i,h){if(!o(i))throw Error(r(299));var E=!1,I="",G=p0,Z=Nu,Ce=Jc;return h!=null&&(h.unstable_strictMode===!0&&(E=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onUncaughtError!==void 0&&(G=h.onUncaughtError),h.onCaughtError!==void 0&&(Z=h.onCaughtError),h.onRecoverableError!==void 0&&(Ce=h.onRecoverableError)),h=E4(i,1,!1,null,null,E,I,null,G,Z,Ce,L4),i[fi]=h.current,$m(i),new yv(h)},u1.hydrateRoot=function(i,h,E){if(!o(i))throw Error(r(299));var I=!1,G="",Z=p0,Ce=Nu,je=Jc,Dt=null;return E!=null&&(E.unstable_strictMode===!0&&(I=!0),E.identifierPrefix!==void 0&&(G=E.identifierPrefix),E.onUncaughtError!==void 0&&(Z=E.onUncaughtError),E.onCaughtError!==void 0&&(Ce=E.onCaughtError),E.onRecoverableError!==void 0&&(je=E.onRecoverableError),E.formState!==void 0&&(Dt=E.formState)),h=E4(i,1,!0,h,E??null,I,G,Dt,Z,Ce,je,L4),h.context=A4(null),E=h.current,I=ac(),I=si(I),G=Ws(I),G.callback=null,ys(E,G,I),E=I,h.current.lanes=E,Br(h,E),Mf(h),i[fi]=h.current,$m(i),new Fg(h)},u1.version="19.2.3",u1}var X4;function a9(){if(X4)return wv.exports;X4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wv.exports=i9(),wv.exports}var o9=a9();var V4="popstate";function s9(e={}){function t(o,u){let{pathname:y="/",search:d="",hash:a=""}=z0(o.location.hash.substring(1));return!y.startsWith("/")&&!y.startsWith(".")&&(y="/"+y),U2("",{pathname:y,search:d,hash:a},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let y=o.document.querySelector("base"),d="";if(y&&y.getAttribute("href")){let a=o.location.href,c=a.indexOf("#");d=c===-1?a:a.slice(0,c)}return d+"#"+(typeof u=="string"?u:P1(u))}function r(o,u){Wu(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return u9(t,n,r,e)}function Yo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l9(){return Math.random().toString(36).substring(2,10)}function K4(e,t){return{usr:e.state,key:e.key,idx:t}}function U2(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?z0(t):t,state:n,key:t&&t.key||r||l9()}}function P1({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function z0(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function u9(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,y=o.history,d="POP",a=null,c=v();c==null&&(c=0,y.replaceState({...y.state,idx:c},""));function v(){return(y.state||{idx:null}).idx}function f(){d="POP";let S=v(),O=S==null?null:S-c;c=S,a&&a({action:d,location:k.location,delta:O})}function g(S,O){d="PUSH";let N=U2(k.location,S,O);n&&n(N,S),c=v()+1;let U=K4(N,c),W=k.createHref(N);try{y.pushState(U,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(W)}u&&a&&a({action:d,location:k.location,delta:1})}function m(S,O){d="REPLACE";let N=U2(k.location,S,O);n&&n(N,S),c=v();let U=K4(N,c),W=k.createHref(N);y.replaceState(U,"",W),u&&a&&a({action:d,location:k.location,delta:0})}function C(S){return c9(S)}let k={get action(){return d},get location(){return e(o,y)},listen(S){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(V4,f),a=S,()=>{o.removeEventListener(V4,f),a=null}},createHref(S){return t(o,S)},createURL:C,encodeLocation(S){let O=C(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:g,replace:m,go(S){return y.go(S)}};return k}function c9(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yo(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:P1(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function TC(e,t,n="/"){return f9(e,t,n,!1)}function f9(e,t,n,r){let o=typeof t=="string"?z0(t):t,u=dh(o.pathname||"/",n);if(u==null)return null;let y=kC(e);h9(y);let d=null;for(let a=0;d==null&&a<y.length;++a){let c=S9(u);d=w9(y[a],c,r)}return d}function kC(e,t=[],n=[],r="",o=!1){let u=(y,d,a=o,c)=>{let v={relativePath:c===void 0?y.path||"":c,caseSensitive:y.caseSensitive===!0,childrenIndex:d,route:y};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&a)return;Yo(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let f=ch([r,v.relativePath]),g=n.concat(v);y.children&&y.children.length>0&&(Yo(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),kC(y.children,t,g,f,a)),!(y.path==null&&!y.index)&&t.push({path:f,score:x9(f,y.index),routesMeta:g})};return e.forEach((y,d)=>{if(y.path===""||!y.path?.includes("?"))u(y,d);else for(let a of DC(y.path))u(y,d,!0,a)}),t}function DC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let y=DC(r.join("/")),d=[];return d.push(...y.map(a=>a===""?u:[u,a].join("/"))),o&&d.push(...y),d.map(a=>e.startsWith("/")&&a===""?"/":a)}function h9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:b9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var d9=/^:[\w-]+$/,g9=3,p9=2,m9=1,v9=10,y9=-2,Z4=e=>e==="*";function x9(e,t){let n=e.split("/"),r=n.length;return n.some(Z4)&&(r+=y9),t&&(r+=p9),n.filter(o=>!Z4(o)).reduce((o,u)=>o+(d9.test(u)?g9:u===""?m9:v9),r)}function b9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function w9(e,t,n=!1){let{routesMeta:r}=e,o={},u="/",y=[];for(let d=0;d<r.length;++d){let a=r[d],c=d===r.length-1,v=u==="/"?t:t.slice(u.length)||"/",f=Tp({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},v),g=a.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Tp({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},v)),!f)return null;Object.assign(o,f.params),y.push({params:o,pathname:ch([u,f.pathname]),pathnameBase:k9(ch([u,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(u=ch([u,f.pathnameBase]))}return y}function Tp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=C9(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],y=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((c,{paramName:v,isOptional:f},g)=>{if(v==="*"){let C=d[g]||"";y=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const m=d[g];return f&&!m?c[v]=void 0:c[v]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:u,pathnameBase:y,pattern:e}}function C9(e,t=!1,n=!0){Wu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,d,a)=>(r.push({paramName:d,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function S9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wu(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function dh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var _C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E9=e=>_C.test(e);function A9(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?z0(e):e,u;if(n)if(E9(n))u=n;else{if(n.includes("//")){let y=n;n=n.replace(/\/\/+/g,"/"),Wu(!1,`Pathnames cannot have embedded double slashes - normalizing ${y} -> ${n}`)}n.startsWith("/")?u=q4(n.substring(1),"/"):u=q4(n,t)}else u=t;return{pathname:u,search:D9(r),hash:_9(o)}}function q4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Av(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jy(e){let t=T9(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Wy(e,t,n,r=!1){let o;typeof e=="string"?o=z0(e):(o={...e},Yo(!o.pathname||!o.pathname.includes("?"),Av("?","pathname","search",o)),Yo(!o.pathname||!o.pathname.includes("#"),Av("#","pathname","hash",o)),Yo(!o.search||!o.search.includes("#"),Av("#","search","hash",o)));let u=e===""||o.pathname==="",y=u?"/":o.pathname,d;if(y==null)d=n;else{let f=t.length-1;if(!r&&y.startsWith("..")){let g=y.split("/");for(;g[0]==="..";)g.shift(),f-=1;o.pathname=g.join("/")}d=f>=0?t[f]:"/"}let a=A9(o,d),c=y&&y!=="/"&&y.endsWith("/"),v=(u||y===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||v)&&(a.pathname+="/"),a}var ch=e=>e.join("/").replace(/\/\/+/g,"/"),k9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,M9=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function O9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function I9(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OC(e,t){let n=e;if(typeof n!="string"||!_C.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(MC)try{let u=new URL(window.location.href),y=n.startsWith("//")?new URL(u.protocol+n):new URL(n),d=dh(y.pathname,t);y.origin===u.origin&&d!=null?n=d+y.search+y.hash:o=!0}catch{Wu(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IC=["POST","PUT","PATCH","DELETE"];new Set(IC);var R9=["GET",...IC];new Set(R9);var Ld=Ie.createContext(null);Ld.displayName="DataRouter";var am=Ie.createContext(null);am.displayName="DataRouterState";var N9=Ie.createContext(!1),RC=Ie.createContext({isTransitioning:!1});RC.displayName="ViewTransition";var L9=Ie.createContext(new Map);L9.displayName="Fetchers";var B9=Ie.createContext(null);B9.displayName="Await";var vc=Ie.createContext(null);vc.displayName="Navigation";var eg=Ie.createContext(null);eg.displayName="Location";var Hc=Ie.createContext({outlet:null,matches:[],isDataRoute:!1});Hc.displayName="Route";var Gy=Ie.createContext(null);Gy.displayName="RouteError";var NC="REACT_ROUTER_ERROR",F9="REDIRECT",P9="ROUTE_ERROR_RESPONSE";function z9(e){if(e.startsWith(`${NC}:${F9}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function H9(e){if(e.startsWith(`${NC}:${P9}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new M9(t.status,t.statusText,t.data)}catch{}}function U9(e,{relative:t}={}){Yo(Bd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Ie.useContext(vc),{hash:o,pathname:u,search:y}=tg(e,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:ch([n,u])),r.createHref({pathname:d,search:y,hash:o})}function Bd(){return Ie.useContext(eg)!=null}function uf(){return Yo(Bd(),"useLocation() may be used only in the context of a <Router> component."),Ie.useContext(eg).location}var LC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BC(e){Ie.useContext(vc).static||Ie.useLayoutEffect(e)}function Fd(){let{isDataRoute:e}=Ie.useContext(Hc);return e?rk():j9()}function j9(){Yo(Bd(),"useNavigate() may be used only in the context of a <Router> component.");let e=Ie.useContext(Ld),{basename:t,navigator:n}=Ie.useContext(vc),{matches:r}=Ie.useContext(Hc),{pathname:o}=uf(),u=JSON.stringify(jy(r)),y=Ie.useRef(!1);return BC(()=>{y.current=!0}),Ie.useCallback((a,c={})=>{if(Wu(y.current,LC),!y.current)return;if(typeof a=="number"){n.go(a);return}let v=Wy(a,JSON.parse(u),o,c.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ch([t,v.pathname])),(c.replace?n.replace:n.push)(v,c.state,c)},[t,n,u,o,e])}var W9=Ie.createContext(null);function G9(e){let t=Ie.useContext(Hc).outlet;return Ie.useMemo(()=>t&&Ie.createElement(W9.Provider,{value:e},t),[t,e])}function Y9(){let{matches:e}=Ie.useContext(Hc),t=e[e.length-1];return t?t.params:{}}function tg(e,{relative:t}={}){let{matches:n}=Ie.useContext(Hc),{pathname:r}=uf(),o=JSON.stringify(jy(n));return Ie.useMemo(()=>Wy(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function X9(e,t){return FC(e,t)}function FC(e,t,n,r,o){Yo(Bd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Ie.useContext(vc),{matches:y}=Ie.useContext(Hc),d=y[y.length-1],a=d?d.params:{},c=d?d.pathname:"/",v=d?d.pathnameBase:"/",f=d&&d.route;{let N=f&&f.path||"";zC(c,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=uf(),m;if(t){let N=typeof t=="string"?z0(t):t;Yo(v==="/"||N.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=g;let C=m.pathname||"/",k=C;if(v!=="/"){let N=v.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=TC(e,{pathname:k});Wu(f||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wu(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Q9(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:ch([v,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:ch([v,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),y,n,r,o);return t&&O?Ie.createElement(eg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},O):O}function V9(){let e=nk(),t=O9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},y=null;return console.error("Error handled by React Router default ErrorBoundary:",e),y=Ie.createElement(Ie.Fragment,null,Ie.createElement("p",null," Hey developer "),Ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ie.createElement("code",{style:u},"ErrorBoundary")," or"," ",Ie.createElement("code",{style:u},"errorElement")," prop on your route.")),Ie.createElement(Ie.Fragment,null,Ie.createElement("h2",null,"Unexpected Application Error!"),Ie.createElement("h3",{style:{fontStyle:"italic"}},t),n?Ie.createElement("pre",{style:o},n):null,y)}var K9=Ie.createElement(V9,null),PC=class extends Ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=H9(e.digest);n&&(e=n)}let t=e!==void 0?Ie.createElement(Hc.Provider,{value:this.props.routeContext},Ie.createElement(Gy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?Ie.createElement(Z9,{error:e},t):t}};PC.contextType=N9;var Tv=new WeakMap;function Z9({children:e,error:t}){let{basename:n}=Ie.useContext(vc);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=z9(t.digest);if(r){let o=Tv.get(t);if(o)throw o;let u=OC(r.location,n);if(MC&&!Tv.get(t))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const y=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Tv.set(t,y),y}return Ie.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function q9({routeContext:e,match:t,children:n}){let r=Ie.useContext(Ld);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Ie.createElement(Hc.Provider,{value:e},n)}function Q9(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,y=n?.errors;if(y!=null){let v=u.findIndex(f=>f.route.id&&y?.[f.route.id]!==void 0);Yo(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let d=!1,a=-1;if(n)for(let v=0;v<u.length;v++){let f=u[v];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(a=v),f.route.id){let{loaderData:g,errors:m}=n,C=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||C){d=!0,a>=0?u=u.slice(0,a+1):u=[u[0]];break}}}let c=n&&r?(v,f)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:I9(n.matches),errorInfo:f})}:void 0;return u.reduceRight((v,f,g)=>{let m,C=!1,k=null,S=null;n&&(m=y&&f.route.id?y[f.route.id]:void 0,k=f.route.errorElement||K9,d&&(a<0&&g===0?(zC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,S=null):a===g&&(C=!0,S=f.route.hydrateFallbackElement||null)));let O=t.concat(u.slice(0,g+1)),N=()=>{let U;return m?U=k:C?U=S:f.route.Component?U=Ie.createElement(f.route.Component,null):f.route.element?U=f.route.element:U=v,Ie.createElement(q9,{match:f,routeContext:{outlet:v,matches:O,isDataRoute:n!=null},children:U})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?Ie.createElement(PC,{location:n.location,revalidation:n.revalidation,component:k,error:m,children:N(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:c}):N()},null)}function Yy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J9(e){let t=Ie.useContext(Ld);return Yo(t,Yy(e)),t}function $9(e){let t=Ie.useContext(am);return Yo(t,Yy(e)),t}function ek(e){let t=Ie.useContext(Hc);return Yo(t,Yy(e)),t}function Xy(e){let t=ek(e),n=t.matches[t.matches.length-1];return Yo(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function tk(){return Xy("useRouteId")}function nk(){let e=Ie.useContext(Gy),t=$9("useRouteError"),n=Xy("useRouteError");return e!==void 0?e:t.errors?.[n]}function rk(){let{router:e}=J9("useNavigate"),t=Xy("useNavigate"),n=Ie.useRef(!1);return BC(()=>{n.current=!0}),Ie.useCallback(async(o,u={})=>{Wu(n.current,LC),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var Q4={};function zC(e,t,n){!t&&!Q4[e]&&(Q4[e]=!0,Wu(!1,n))}Ie.memo(ik);function ik({routes:e,future:t,state:n,onError:r}){return FC(e,void 0,n,r,t)}function ak({to:e,replace:t,state:n,relative:r}){Yo(Bd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Ie.useContext(vc);Wu(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Ie.useContext(Hc),{pathname:y}=uf(),d=Fd(),a=Wy(e,jy(u),y,r==="path"),c=JSON.stringify(a);return Ie.useEffect(()=>{d(JSON.parse(c),{replace:t,state:n,relative:r})},[d,c,r,t,n]),null}function ok(e){return G9(e.context)}function T0(e){Yo(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sk({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:y}){Yo(!Bd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),a=Ie.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:y,future:{}}),[d,o,u,y]);typeof n=="string"&&(n=z0(n));let{pathname:c="/",search:v="",hash:f="",state:g=null,key:m="default"}=n,C=Ie.useMemo(()=>{let k=dh(c,d);return k==null?null:{location:{pathname:k,search:v,hash:f,state:g,key:m},navigationType:r}},[d,c,v,f,g,m,r]);return Wu(C!=null,`<Router basename="${d}"> is not able to match the URL "${c}${v}${f}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:Ie.createElement(vc.Provider,{value:a},Ie.createElement(eg.Provider,{children:t,value:C}))}function lk({children:e,location:t}){return X9(j2(e),t)}function j2(e,t=[]){let n=[];return Ie.Children.forEach(e,(r,o)=>{if(!Ie.isValidElement(r))return;let u=[...t,o];if(r.type===Ie.Fragment){n.push.apply(n,j2(r.props.children,u));return}Yo(r.type===T0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yo(!r.props.index||!r.props.children,"An index route cannot have child routes.");let y={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(y.children=j2(r.props.children,u)),n.push(y)}),n}var cp="get",fp="application/x-www-form-urlencoded";function om(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function uk(e){return om(e)&&e.tagName.toLowerCase()==="button"}function ck(e){return om(e)&&e.tagName.toLowerCase()==="form"}function fk(e){return om(e)&&e.tagName.toLowerCase()==="input"}function hk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dk(e,t){return e.button===0&&(!t||t==="_self")&&!hk(e)}function W2(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function gk(e,t){let n=W2(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var zg=null;function pk(){if(zg===null)try{new FormData(document.createElement("form"),0),zg=!1}catch{zg=!0}return zg}var mk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kv(e){return e!=null&&!mk.has(e)?(Wu(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fp}"`),null):e}function vk(e,t){let n,r,o,u,y;if(ck(e)){let d=e.getAttribute("action");r=d?dh(d,t):null,n=e.getAttribute("method")||cp,o=kv(e.getAttribute("enctype"))||fp,u=new FormData(e)}else if(uk(e)||fk(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||d.getAttribute("action");if(r=a?dh(a,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||cp,o=kv(e.getAttribute("formenctype"))||kv(d.getAttribute("enctype"))||fp,u=new FormData(d,e),!pk()){let{name:c,type:v,value:f}=e;if(v==="image"){let g=c?`${c}.`:"";u.append(`${g}x`,"0"),u.append(`${g}y`,"0")}else c&&u.append(c,f)}}else{if(om(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cp,r=null,o=fp,y=e}return u&&o==="text/plain"&&(y=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yk(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&dh(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function xk(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wk(e,t,n){let r=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let y=await xk(u,n);return y.links?y.links():[]}return[]}));return Ak(r.flat(1).filter(bk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function J4(e,t,n,r,o,u){let y=(a,c)=>n[c]?a.route.id!==n[c].route.id:!0,d=(a,c)=>n[c].pathname!==a.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==a.params["*"];return u==="assets"?t.filter((a,c)=>y(a,c)||d(a,c)):u==="data"?t.filter((a,c)=>{let v=r.routes[a.route.id];if(!v||!v.hasLoader)return!1;if(y(a,c)||d(a,c))return!0;if(a.route.shouldRevalidate){let f=a.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Ck(e,t,{includeHydrateFallback:n}={}){return Sk(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Sk(e){return[...new Set(e)]}function Ek(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Ak(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let u=JSON.stringify(Ek(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function HC(){let e=Ie.useContext(Ld);return Vy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Tk(){let e=Ie.useContext(am);return Vy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ky=Ie.createContext(void 0);Ky.displayName="FrameworkContext";function UC(){let e=Ie.useContext(Ky);return Vy(e,"You must render this element inside a <HydratedRouter> element"),e}function kk(e,t){let n=Ie.useContext(Ky),[r,o]=Ie.useState(!1),[u,y]=Ie.useState(!1),{onFocus:d,onBlur:a,onMouseEnter:c,onMouseLeave:v,onTouchStart:f}=t,g=Ie.useRef(null);Ie.useEffect(()=>{if(e==="render"&&y(!0),e==="viewport"){let k=O=>{O.forEach(N=>{y(N.isIntersecting)})},S=new IntersectionObserver(k,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),Ie.useEffect(()=>{if(r){let k=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(k)}}},[r]);let m=()=>{o(!0)},C=()=>{o(!1),y(!1)};return n?e!=="intent"?[u,g,{}]:[u,g,{onFocus:c1(d,m),onBlur:c1(a,C),onMouseEnter:c1(c,m),onMouseLeave:c1(v,C),onTouchStart:c1(f,m)}]:[!1,g,{}]}function c1(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Dk({page:e,...t}){let{router:n}=HC(),r=Ie.useMemo(()=>TC(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?Ie.createElement(Mk,{page:e,matches:r,...t}):null}function _k(e){let{manifest:t,routeModules:n}=UC(),[r,o]=Ie.useState([]);return Ie.useEffect(()=>{let u=!1;return wk(e,t,n).then(y=>{u||o(y)}),()=>{u=!0}},[e,t,n]),r}function Mk({page:e,matches:t,...n}){let r=uf(),{manifest:o,routeModules:u}=UC(),{basename:y}=HC(),{loaderData:d,matches:a}=Tk(),c=Ie.useMemo(()=>J4(e,t,a,o,r,"data"),[e,t,a,o,r]),v=Ie.useMemo(()=>J4(e,t,a,o,r,"assets"),[e,t,a,o,r]),f=Ie.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(t.forEach(O=>{let N=o.routes[O.route.id];!N||!N.hasLoader||(!c.some(U=>U.route.id===O.route.id)&&O.route.id in d&&u[O.route.id]?.shouldRevalidate||N.hasClientLoader?k=!0:C.add(O.route.id))}),C.size===0)return[];let S=yk(e,y,"data");return k&&C.size>0&&S.searchParams.set("_routes",t.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[y,d,r,o,c,t,e,u]),g=Ie.useMemo(()=>Ck(v,o),[v,o]),m=_k(v);return Ie.createElement(Ie.Fragment,null,f.map(C=>Ie.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),g.map(C=>Ie.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),m.map(({key:C,link:k})=>Ie.createElement("link",{key:C,nonce:n.nonce,...k})))}function Ok(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ik&&(window.__reactRouterVersion="7.11.0")}catch{}function Rk({basename:e,children:t,unstable_useTransitions:n,window:r}){let o=Ie.useRef();o.current==null&&(o.current=s9({window:r,v5Compat:!0}));let u=o.current,[y,d]=Ie.useState({action:u.action,location:u.location}),a=Ie.useCallback(c=>{n===!1?d(c):Ie.startTransition(()=>d(c))},[n]);return Ie.useLayoutEffect(()=>u.listen(a),[u,a]),Ie.createElement(sk,{basename:e,children:t,location:y.location,navigationType:y.action,navigator:u,unstable_useTransitions:n})}var jC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zy=Ie.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:y,state:d,target:a,to:c,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g,...m},C){let{basename:k,unstable_useTransitions:S}=Ie.useContext(vc),O=typeof c=="string"&&jC.test(c),N=OC(c,k);c=N.to;let U=U9(c,{relative:o}),[W,q,J]=kk(r,m),ne=Fk(c,{replace:y,state:d,target:a,preventScrollReset:v,relative:o,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:S});function ve(Fe){t&&t(Fe),Fe.defaultPrevented||ne(Fe)}let Se=Ie.createElement("a",{...m,...J,href:N.absoluteURL||U,onClick:N.isExternal||u?t:ve,ref:Ok(C,q),target:a,"data-discover":!O&&n==="render"?"true":void 0});return W&&!O?Ie.createElement(Ie.Fragment,null,Se,Ie.createElement(Dk,{page:U})):Se});Zy.displayName="Link";var Nk=Ie.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:y,viewTransition:d,children:a,...c},v){let f=tg(y,{relative:c.relative}),g=uf(),m=Ie.useContext(am),{navigator:C,basename:k}=Ie.useContext(vc),S=m!=null&&Wk(f)&&d===!0,O=C.encodeLocation?C.encodeLocation(f).pathname:f.pathname,N=g.pathname,U=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(N=N.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&k&&(U=dh(U,k)||U);const W=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let q=N===O||!o&&N.startsWith(O)&&N.charAt(W)==="/",J=U!=null&&(U===O||!o&&U.startsWith(O)&&U.charAt(O.length)==="/"),ne={isActive:q,isPending:J,isTransitioning:S},ve=q?t:void 0,Se;typeof r=="function"?Se=r(ne):Se=[r,q?"active":null,J?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Fe=typeof u=="function"?u(ne):u;return Ie.createElement(Zy,{...c,"aria-current":ve,className:Se,ref:v,style:Fe,to:y,viewTransition:d},typeof a=="function"?a(ne):a)});Nk.displayName="NavLink";var Lk=Ie.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:u,method:y=cp,action:d,onSubmit:a,relative:c,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g,...m},C)=>{let{unstable_useTransitions:k}=Ie.useContext(vc),S=Uk(),O=jk(d,{relative:c}),N=y.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&jC.test(d),W=q=>{if(a&&a(q),q.defaultPrevented)return;q.preventDefault();let J=q.nativeEvent.submitter,ne=J?.getAttribute("formmethod")||y,ve=()=>S(J||q.currentTarget,{fetcherKey:t,method:ne,navigate:n,replace:o,state:u,relative:c,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g});k&&n!==!1?Ie.startTransition(()=>ve()):ve()};return Ie.createElement("form",{ref:C,method:N,action:O,onSubmit:r?a:W,...m,"data-discover":!U&&e==="render"?"true":void 0})});Lk.displayName="Form";function Bk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WC(e){let t=Ie.useContext(Ld);return Yo(t,Bk(e)),t}function Fk(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:y,unstable_defaultShouldRevalidate:d,unstable_useTransitions:a}={}){let c=Fd(),v=uf(),f=tg(e,{relative:u});return Ie.useCallback(g=>{if(dk(g,t)){g.preventDefault();let m=n!==void 0?n:P1(v)===P1(f),C=()=>c(e,{replace:m,state:r,preventScrollReset:o,relative:u,viewTransition:y,unstable_defaultShouldRevalidate:d});a?Ie.startTransition(()=>C()):C()}},[v,c,f,n,r,t,e,o,u,y,d,a])}function Pk(e){Wu(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=Ie.useRef(W2(e)),n=Ie.useRef(!1),r=uf(),o=Ie.useMemo(()=>gk(r.search,n.current?null:t.current),[r.search]),u=Fd(),y=Ie.useCallback((d,a)=>{const c=W2(typeof d=="function"?d(new URLSearchParams(o)):d);n.current=!0,u("?"+c,a)},[u,o]);return[o,y]}var zk=0,Hk=()=>`__${String(++zk)}__`;function Uk(){let{router:e}=WC("useSubmit"),{basename:t}=Ie.useContext(vc),n=tk(),r=e.fetch,o=e.navigate;return Ie.useCallback(async(u,y={})=>{let{action:d,method:a,encType:c,formData:v,body:f}=vk(u,t);if(y.navigate===!1){let g=y.fetcherKey||Hk();await r(g,n,y.action||d,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:v,body:f,formMethod:y.method||a,formEncType:y.encType||c,flushSync:y.flushSync})}else await o(y.action||d,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:v,body:f,formMethod:y.method||a,formEncType:y.encType||c,replace:y.replace,state:y.state,fromRouteId:n,flushSync:y.flushSync,viewTransition:y.viewTransition})},[r,o,t,n])}function jk(e,{relative:t}={}){let{basename:n}=Ie.useContext(vc),r=Ie.useContext(Hc);Yo(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...tg(e||".",{relative:t})},y=uf();if(e==null){u.search=y.search;let d=new URLSearchParams(u.search),a=d.getAll("index");if(a.some(v=>v==="")){d.delete("index"),a.filter(f=>f).forEach(f=>d.append("index",f));let v=d.toString();u.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ch([n,u.pathname])),P1(u)}function Wk(e,{relative:t}={}){let n=Ie.useContext(RC);Yo(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WC("useViewTransitionState"),o=tg(e,{relative:t});if(!n.isTransitioning)return!1;let u=dh(n.currentLocation.pathname,r)||n.currentLocation.pathname,y=dh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tp(o.pathname,y)!=null||Tp(o.pathname,u)!=null}var sm=im();const Gk=P0(sm);var Al=function(){return Al=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Al.apply(this,arguments)};function Cd(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,u;r<o;r++)(u||!(r in t))&&(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return e.concat(u||Array.prototype.slice.call(t))}var No="-ms-",M1="-moz-",Ba="-webkit-",GC="comm",lm="rule",qy="decl",Yk="@import",YC="@keyframes",Xk="@layer",XC=Math.abs,Qy=String.fromCharCode,G2=Object.assign;function Vk(e,t){return El(e,0)^45?(((t<<2^El(e,0))<<2^El(e,1))<<2^El(e,2))<<2^El(e,3):0}function VC(e){return e.trim()}function sh(e,t){return(e=t.exec(e))?e[0]:e}function _i(e,t,n){return e.replace(t,n)}function hp(e,t,n){return e.indexOf(t,n)}function El(e,t){return e.charCodeAt(t)|0}function Sd(e,t,n){return e.slice(t,n)}function Nf(e){return e.length}function KC(e){return e.length}function k1(e,t){return t.push(e),e}function Kk(e,t){return e.map(t).join("")}function $4(e,t){return e.filter(function(n){return!sh(n,t)})}var um=1,Ed=1,ZC=0,Fc=0,Vs=0,Pd="";function cm(e,t,n,r,o,u,y,d){return{value:e,root:t,parent:n,type:r,props:o,children:u,line:um,column:Ed,length:y,return:"",siblings:d}}function Yh(e,t){return G2(cm("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function od(e){for(;e.root;)e=Yh(e.root,{children:[e]});k1(e,e.siblings)}function Zk(){return Vs}function qk(){return Vs=Fc>0?El(Pd,--Fc):0,Ed--,Vs===10&&(Ed=1,um--),Vs}function sf(){return Vs=Fc<ZC?El(Pd,Fc++):0,Ed++,Vs===10&&(Ed=1,um++),Vs}function I0(){return El(Pd,Fc)}function dp(){return Fc}function fm(e,t){return Sd(Pd,e,t)}function Y2(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Qk(e){return um=Ed=1,ZC=Nf(Pd=e),Fc=0,[]}function Jk(e){return Pd="",e}function Dv(e){return VC(fm(Fc-1,X2(e===91?e+2:e===40?e+1:e)))}function $k(e){for(;(Vs=I0())&&Vs<33;)sf();return Y2(e)>2||Y2(Vs)>3?"":" "}function eD(e,t){for(;--t&&sf()&&!(Vs<48||Vs>102||Vs>57&&Vs<65||Vs>70&&Vs<97););return fm(e,dp()+(t<6&&I0()==32&&sf()==32))}function X2(e){for(;sf();)switch(Vs){case e:return Fc;case 34:case 39:e!==34&&e!==39&&X2(Vs);break;case 40:e===41&&X2(e);break;case 92:sf();break}return Fc}function tD(e,t){for(;sf()&&e+Vs!==57;)if(e+Vs===84&&I0()===47)break;return"/*"+fm(t,Fc-1)+"*"+Qy(e===47?e:sf())}function nD(e){for(;!Y2(I0());)sf();return fm(e,Fc)}function rD(e){return Jk(gp("",null,null,null,[""],e=Qk(e),0,[0],e))}function gp(e,t,n,r,o,u,y,d,a){for(var c=0,v=0,f=y,g=0,m=0,C=0,k=1,S=1,O=1,N=0,U="",W=o,q=u,J=r,ne=U;S;)switch(C=N,N=sf()){case 40:if(C!=108&&El(ne,f-1)==58){hp(ne+=_i(Dv(N),"&","&\f"),"&\f",XC(c?d[c-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:ne+=Dv(N);break;case 9:case 10:case 13:case 32:ne+=$k(C);break;case 92:ne+=eD(dp()-1,7);continue;case 47:switch(I0()){case 42:case 47:k1(iD(tD(sf(),dp()),t,n,a),a);break;default:ne+="/"}break;case 123*k:d[c++]=Nf(ne)*O;case 125*k:case 59:case 0:switch(N){case 0:case 125:S=0;case 59+v:O==-1&&(ne=_i(ne,/\f/g,"")),m>0&&Nf(ne)-f&&k1(m>32?t3(ne+";",r,n,f-1,a):t3(_i(ne," ","")+";",r,n,f-2,a),a);break;case 59:ne+=";";default:if(k1(J=e3(ne,t,n,c,v,o,d,U,W=[],q=[],f,u),u),N===123)if(v===0)gp(ne,t,J,J,W,u,f,d,q);else switch(g===99&&El(ne,3)===110?100:g){case 100:case 108:case 109:case 115:gp(e,J,J,r&&k1(e3(e,J,J,0,0,o,d,U,o,W=[],f,q),q),o,q,f,d,r?W:q);break;default:gp(ne,J,J,J,[""],q,0,d,q)}}c=v=m=0,k=O=1,U=ne="",f=y;break;case 58:f=1+Nf(ne),m=C;default:if(k<1){if(N==123)--k;else if(N==125&&k++==0&&qk()==125)continue}switch(ne+=Qy(N),N*k){case 38:O=v>0?1:(ne+="\f",-1);break;case 44:d[c++]=(Nf(ne)-1)*O,O=1;break;case 64:I0()===45&&(ne+=Dv(sf())),g=I0(),v=f=Nf(U=ne+=nD(dp())),N++;break;case 45:C===45&&Nf(ne)==2&&(k=0)}}return u}function e3(e,t,n,r,o,u,y,d,a,c,v,f){for(var g=o-1,m=o===0?u:[""],C=KC(m),k=0,S=0,O=0;k<r;++k)for(var N=0,U=Sd(e,g+1,g=XC(S=y[k])),W=e;N<C;++N)(W=VC(S>0?m[N]+" "+U:_i(U,/&\f/g,m[N])))&&(a[O++]=W);return cm(e,t,n,o===0?lm:d,a,c,v,f)}function iD(e,t,n,r){return cm(e,t,n,GC,Qy(Zk()),Sd(e,2,-2),0,r)}function t3(e,t,n,r,o){return cm(e,t,n,qy,Sd(e,0,r),Sd(e,r+1,-1),r,o)}function qC(e,t,n){switch(Vk(e,t)){case 5103:return Ba+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ba+e+e;case 4789:return M1+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ba+e+M1+e+No+e+e;case 5936:switch(El(e,t+11)){case 114:return Ba+e+No+_i(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ba+e+No+_i(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ba+e+No+_i(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Ba+e+No+e+e;case 6165:return Ba+e+No+"flex-"+e+e;case 5187:return Ba+e+_i(e,/(\w+).+(:[^]+)/,Ba+"box-$1$2"+No+"flex-$1$2")+e;case 5443:return Ba+e+No+"flex-item-"+_i(e,/flex-|-self/g,"")+(sh(e,/flex-|baseline/)?"":No+"grid-row-"+_i(e,/flex-|-self/g,""))+e;case 4675:return Ba+e+No+"flex-line-pack"+_i(e,/align-content|flex-|-self/g,"")+e;case 5548:return Ba+e+No+_i(e,"shrink","negative")+e;case 5292:return Ba+e+No+_i(e,"basis","preferred-size")+e;case 6060:return Ba+"box-"+_i(e,"-grow","")+Ba+e+No+_i(e,"grow","positive")+e;case 4554:return Ba+_i(e,/([^-])(transform)/g,"$1"+Ba+"$2")+e;case 6187:return _i(_i(_i(e,/(zoom-|grab)/,Ba+"$1"),/(image-set)/,Ba+"$1"),e,"")+e;case 5495:case 3959:return _i(e,/(image-set\([^]*)/,Ba+"$1$`$1");case 4968:return _i(_i(e,/(.+:)(flex-)?(.*)/,Ba+"box-pack:$3"+No+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ba+e+e;case 4200:if(!sh(e,/flex-|baseline/))return No+"grid-column-align"+Sd(e,t)+e;break;case 2592:case 3360:return No+_i(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,sh(r.props,/grid-\w+-end/)})?~hp(e+(n=n[t].value),"span",0)?e:No+_i(e,"-start","")+e+No+"grid-row-span:"+(~hp(n,"span",0)?sh(n,/\d+/):+sh(n,/\d+/)-+sh(e,/\d+/))+";":No+_i(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return sh(r.props,/grid-\w+-start/)})?e:No+_i(_i(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return _i(e,/(.+)-inline(.+)/,Ba+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nf(e)-1-t>6)switch(El(e,t+1)){case 109:if(El(e,t+4)!==45)break;case 102:return _i(e,/(.+:)(.+)-([^]+)/,"$1"+Ba+"$2-$3$1"+M1+(El(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~hp(e,"stretch",0)?qC(_i(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return _i(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,u,y,d,a,c){return No+o+":"+u+c+(y?No+o+"-span:"+(d?a:+a-+u)+c:"")+e});case 4949:if(El(e,t+6)===121)return _i(e,":",":"+Ba)+e;break;case 6444:switch(El(e,El(e,14)===45?18:11)){case 120:return _i(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ba+(El(e,14)===45?"inline-":"")+"box$3$1"+Ba+"$2$3$1"+No+"$2box$3")+e;case 100:return _i(e,":",":"+No)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return _i(e,"scroll-","scroll-snap-")+e}return e}function kp(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function aD(e,t,n,r){switch(e.type){case Xk:if(e.children.length)break;case Yk:case qy:return e.return=e.return||e.value;case GC:return"";case YC:return e.return=e.value+"{"+kp(e.children,r)+"}";case lm:if(!Nf(e.value=e.props.join(",")))return""}return Nf(n=kp(e.children,r))?e.return=e.value+"{"+n+"}":""}function oD(e){var t=KC(e);return function(n,r,o,u){for(var y="",d=0;d<t;d++)y+=e[d](n,r,o,u)||"";return y}}function sD(e){return function(t){t.root||(t=t.return)&&e(t)}}function lD(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case qy:e.return=qC(e.value,e.length,n);return;case YC:return kp([Yh(e,{value:_i(e.value,"@","@"+Ba)})],r);case lm:if(e.length)return Kk(n=e.props,function(o){switch(sh(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":od(Yh(e,{props:[_i(o,/:(read-\w+)/,":"+M1+"$1")]})),od(Yh(e,{props:[o]})),G2(e,{props:$4(n,r)});break;case"::placeholder":od(Yh(e,{props:[_i(o,/:(plac\w+)/,":"+Ba+"input-$1")]})),od(Yh(e,{props:[_i(o,/:(plac\w+)/,":"+M1+"$1")]})),od(Yh(e,{props:[_i(o,/:(plac\w+)/,No+"input-$1")]})),od(Yh(e,{props:[o]})),G2(e,{props:$4(n,r)});break}return""})}}var uD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uc={},Ad=typeof process<"u"&&uc!==void 0&&(uc.REACT_APP_SC_ATTR||uc.SC_ATTR)||"data-styled",QC="active",JC="data-styled-version",hm="6.1.19",Jy=`/*!sc*/
`,Dp=typeof window<"u"&&typeof document<"u",cD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&uc!==void 0&&uc.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&uc.REACT_APP_SC_DISABLE_SPEEDY!==""?uc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&uc.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&uc!==void 0&&uc.SC_DISABLE_SPEEDY!==void 0&&uc.SC_DISABLE_SPEEDY!==""&&uc.SC_DISABLE_SPEEDY!=="false"&&uc.SC_DISABLE_SPEEDY),fD={},dm=Object.freeze([]),Td=Object.freeze({});function $C(e,t,n){return n===void 0&&(n=Td),e.theme!==n.theme&&e.theme||t||n.theme}var eS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),hD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dD=/(^-|-$)/g;function n3(e){return e.replace(hD,"-").replace(dD,"")}var gD=/(a)(d)/gi,Hg=52,r3=function(e){return String.fromCharCode(e+(e>25?39:97))};function V2(e){var t,n="";for(t=Math.abs(e);t>Hg;t=t/Hg|0)n=r3(t%Hg)+n;return(r3(t%Hg)+n).replace(gD,"$1-$2")}var _v,tS=5381,vd=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},nS=function(e){return vd(tS,e)};function $y(e){return V2(nS(e)>>>0)}function pD(e){return e.displayName||e.name||"Component"}function Mv(e){return typeof e=="string"&&!0}var rS=typeof Symbol=="function"&&Symbol.for,iS=rS?Symbol.for("react.memo"):60115,mD=rS?Symbol.for("react.forward_ref"):60112,vD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xD=((_v={})[mD]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_v[iS]=aS,_v);function i3(e){return("type"in(t=e)&&t.type.$$typeof)===iS?aS:"$$typeof"in e?xD[e.$$typeof]:vD;var t}var bD=Object.defineProperty,wD=Object.getOwnPropertyNames,a3=Object.getOwnPropertySymbols,CD=Object.getOwnPropertyDescriptor,SD=Object.getPrototypeOf,o3=Object.prototype;function oS(e,t,n){if(typeof t!="string"){if(o3){var r=SD(t);r&&r!==o3&&oS(e,r,n)}var o=wD(t);a3&&(o=o.concat(a3(t)));for(var u=i3(e),y=i3(t),d=0;d<o.length;++d){var a=o[d];if(!(a in yD||n&&n[a]||y&&a in y||u&&a in u)){var c=CD(t,a);try{bD(e,a,c)}catch{}}}}return e}function N0(e){return typeof e=="function"}function ex(e){return typeof e=="object"&&"styledComponentId"in e}function O0(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function _p(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function z1(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function K2(e,t,n){if(n===void 0&&(n=!1),!n&&!z1(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=K2(e[r],t[r]);else if(z1(t))for(var r in t)e[r]=K2(e[r],t[r]);return e}function tx(e,t){Object.defineProperty(e,"toString",{value:t})}function qh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ED=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,u=o;t>=u;)if((u<<=1)<0)throw qh(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(r),this.length=u;for(var y=o;y<u;y++)this.groupSizes[y]=0}for(var d=this.indexOfGroup(t+1),a=(y=0,n.length);y<a;y++)this.tag.insertRule(d,n[y])&&(this.groupSizes[t]++,d++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var u=r;u<o;u++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),u=o+r,y=o;y<u;y++)n+="".concat(this.tag.getRule(y)).concat(Jy);return n},e})(),pp=new Map,Mp=new Map,mp=1,Ug=function(e){if(pp.has(e))return pp.get(e);for(;Mp.has(mp);)mp++;var t=mp++;return pp.set(e,t),Mp.set(t,e),t},AD=function(e,t){mp=t+1,pp.set(e,t),Mp.set(t,e)},TD="style[".concat(Ad,"][").concat(JC,'="').concat(hm,'"]'),kD=new RegExp("^".concat(Ad,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),DD=function(e,t,n){for(var r,o=n.split(","),u=0,y=o.length;u<y;u++)(r=o[u])&&e.registerName(t,r)},_D=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Jy),o=[],u=0,y=r.length;u<y;u++){var d=r[u].trim();if(d){var a=d.match(kD);if(a){var c=0|parseInt(a[1],10),v=a[2];c!==0&&(AD(v,c),DD(e,v,a[3]),e.getTag().insertRules(c,o)),o.length=0}else o.push(d)}}},s3=function(e){for(var t=document.querySelectorAll(TD),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(Ad)!==QC&&(_D(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function MD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var sS=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=(function(d){var a=Array.from(d.querySelectorAll("style[".concat(Ad,"]")));return a[a.length-1]})(n),u=o!==void 0?o.nextSibling:null;r.setAttribute(Ad,QC),r.setAttribute(JC,hm);var y=MD();return y&&r.setAttribute("nonce",y),n.insertBefore(r,u),r},OD=(function(){function e(t){this.element=sS(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,u=r.length;o<u;o++){var y=r[o];if(y.ownerNode===n)return y}throw qh(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e})(),ID=(function(){function e(t){this.element=sS(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),RD=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),l3=Dp,ND={isServer:!Dp,useCSSOMInjection:!cD},Op=(function(){function e(t,n,r){t===void 0&&(t=Td),n===void 0&&(n={});var o=this;this.options=Al(Al({},ND),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Dp&&l3&&(l3=!1,s3(this)),tx(this,function(){return(function(u){for(var y=u.getTag(),d=y.length,a="",c=function(f){var g=(function(O){return Mp.get(O)})(f);if(g===void 0)return"continue";var m=u.names.get(g),C=y.getGroup(f);if(m===void 0||!m.size||C.length===0)return"continue";var k="".concat(Ad,".g").concat(f,'[id="').concat(g,'"]'),S="";m!==void 0&&m.forEach(function(O){O.length>0&&(S+="".concat(O,","))}),a+="".concat(C).concat(k,'{content:"').concat(S,'"}').concat(Jy)},v=0;v<d;v++)c(v);return a})(o)})}return e.registerId=function(t){return Ug(t)},e.prototype.rehydrate=function(){!this.server&&Dp&&s3(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Al(Al({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new RD(o):r?new OD(o):new ID(o)})(this.options),new ED(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Ug(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Ug(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Ug(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),LD=/&/g,BD=/^\s*\/\/.*$/gm;function lS(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=lS(n.children,t)),n})}function FD(e){var t,n,r,o=Td,u=o.options,y=u===void 0?Td:u,d=o.plugins,a=d===void 0?dm:d,c=function(g,m,C){return C.startsWith(n)&&C.endsWith(n)&&C.replaceAll(n,"").length>0?".".concat(t):g},v=a.slice();v.push(function(g){g.type===lm&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(LD,n).replace(r,c))}),y.prefix&&v.push(lD),v.push(aD);var f=function(g,m,C,k){m===void 0&&(m=""),C===void 0&&(C=""),k===void 0&&(k="&"),t=k,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var S=g.replace(BD,""),O=rD(C||m?"".concat(C," ").concat(m," { ").concat(S," }"):S);y.namespace&&(O=lS(O,y.namespace));var N=[];return kp(O,oD(v.concat(sD(function(U){return N.push(U)})))),N};return f.hash=a.length?a.reduce(function(g,m){return m.name||qh(15),vd(g,m.name)},tS).toString():"",f}var PD=new Op,Z2=FD(),uS=kn.createContext({shouldForwardProp:void 0,styleSheet:PD,stylis:Z2});uS.Consumer;kn.createContext(void 0);function q2(){return Ie.useContext(uS)}var cS=(function(){function e(t,n){var r=this;this.inject=function(o,u){u===void 0&&(u=Z2);var y=r.name+u.hash;o.hasNameForId(r.id,y)||o.insertRules(r.id,y,u(r.rules,y,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,tx(this,function(){throw qh(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Z2),this.name+t.hash},e})(),zD=function(e){return e>="A"&&e<="Z"};function u3(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;zD(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var fS=function(e){return e==null||e===!1||e===""},hS=function(e){var t,n,r=[];for(var o in e){var u=e[o];e.hasOwnProperty(o)&&!fS(u)&&(Array.isArray(u)&&u.isCss||N0(u)?r.push("".concat(u3(o),":"),u,";"):z1(u)?r.push.apply(r,Cd(Cd(["".concat(o," {")],hS(u),!1),["}"],!1)):r.push("".concat(u3(o),": ").concat((t=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in uD||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Vh(e,t,n,r){if(fS(e))return[];if(ex(e))return[".".concat(e.styledComponentId)];if(N0(e)){if(!N0(u=e)||u.prototype&&u.prototype.isReactComponent||!t)return[e];var o=e(t);return Vh(o,t,n,r)}var u;return e instanceof cS?n?(e.inject(n,r),[e.getName(r)]):[e]:z1(e)?hS(e):Array.isArray(e)?Array.prototype.concat.apply(dm,e.map(function(y){return Vh(y,t,n,r)})):[e.toString()]}function dS(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(N0(n)&&!ex(n))return!1}return!0}var HD=nS(hm),UD=(function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&dS(t),this.componentId=n,this.baseHash=vd(HD,n),this.baseStyle=r,Op.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=O0(o,this.staticRulesId);else{var u=_p(Vh(this.rules,t,n,r)),y=V2(vd(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,y)){var d=r(u,".".concat(y),void 0,this.componentId);n.insertRules(this.componentId,y,d)}o=O0(o,y),this.staticRulesId=y}else{for(var a=vd(this.baseHash,r.hash),c="",v=0;v<this.rules.length;v++){var f=this.rules[v];if(typeof f=="string")c+=f;else if(f){var g=_p(Vh(f,t,n,r));a=vd(a,g+v),c+=g}}if(c){var m=V2(a>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),o=O0(o,m)}}return o},e})(),kd=kn.createContext(void 0);kd.Consumer;function gS(){var e=Ie.useContext(kd);if(!e)throw qh(18);return e}function jD(e){var t=kn.useContext(kd),n=Ie.useMemo(function(){return(function(r,o){if(!r)throw qh(14);if(N0(r)){var u=r(o);return u}if(Array.isArray(r)||typeof r!="object")throw qh(8);return o?Al(Al({},o),r):r})(e.theme,t)},[e.theme,t]);return e.children?kn.createElement(kd.Provider,{value:n},e.children):null}var Ov={};function WD(e,t,n){var r=ex(e),o=e,u=!Mv(e),y=t.attrs,d=y===void 0?dm:y,a=t.componentId,c=a===void 0?(function(W,q){var J=typeof W!="string"?"sc":n3(W);Ov[J]=(Ov[J]||0)+1;var ne="".concat(J,"-").concat($y(hm+J+Ov[J]));return q?"".concat(q,"-").concat(ne):ne})(t.displayName,t.parentComponentId):a,v=t.displayName,f=v===void 0?(function(W){return Mv(W)?"styled.".concat(W):"Styled(".concat(pD(W),")")})(e):v,g=t.displayName&&t.componentId?"".concat(n3(t.displayName),"-").concat(t.componentId):t.componentId||c,m=r&&o.attrs?o.attrs.concat(d).filter(Boolean):d,C=t.shouldForwardProp;if(r&&o.shouldForwardProp){var k=o.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;C=function(W,q){return k(W,q)&&S(W,q)}}else C=k}var O=new UD(n,g,r?o.componentStyle:void 0);function N(W,q){return(function(J,ne,ve){var Se=J.attrs,Fe=J.componentStyle,Ue=J.defaultProps,Ze=J.foldedComponentIds,mt=J.styledComponentId,ct=J.target,ge=kn.useContext(kd),ye=q2(),Re=J.shouldForwardProp||ye.shouldForwardProp,ft=$C(ne,ge,Ue)||Td,Me=(function(Ae,Ne,ut){for(var xt,et=Al(Al({},Ne),{className:void 0,theme:ut}),Wt=0;Wt<Ae.length;Wt+=1){var _t=N0(xt=Ae[Wt])?xt(et):xt;for(var Ft in _t)et[Ft]=Ft==="className"?O0(et[Ft],_t[Ft]):Ft==="style"?Al(Al({},et[Ft]),_t[Ft]):_t[Ft]}return Ne.className&&(et.className=O0(et.className,Ne.className)),et})(Se,ne,ft),ce=Me.as||ct,le={};for(var ae in Me)Me[ae]===void 0||ae[0]==="$"||ae==="as"||ae==="theme"&&Me.theme===ft||(ae==="forwardedAs"?le.as=Me.forwardedAs:Re&&!Re(ae,ce)||(le[ae]=Me[ae]));var V=(function(Ae,Ne){var ut=q2(),xt=Ae.generateAndInjectStyles(Ne,ut.styleSheet,ut.stylis);return xt})(Fe,Me),me=O0(Ze,mt);return V&&(me+=" "+V),Me.className&&(me+=" "+Me.className),le[Mv(ce)&&!eS.has(ce)?"class":"className"]=me,ve&&(le.ref=ve),Ie.createElement(ce,le)})(U,W,q)}N.displayName=f;var U=kn.forwardRef(N);return U.attrs=m,U.componentStyle=O,U.displayName=f,U.shouldForwardProp=C,U.foldedComponentIds=r?O0(o.foldedComponentIds,o.styledComponentId):"",U.styledComponentId=g,U.target=r?o.target:e,Object.defineProperty(U,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(W){this._foldedDefaultProps=r?(function(q){for(var J=[],ne=1;ne<arguments.length;ne++)J[ne-1]=arguments[ne];for(var ve=0,Se=J;ve<Se.length;ve++)K2(q,Se[ve],!0);return q})({},o.defaultProps,W):W}}),tx(U,function(){return".".concat(U.styledComponentId)}),u&&oS(U,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),U}function c3(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var f3=function(e){return Object.assign(e,{isCss:!0})};function nx(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(N0(e)||z1(e))return f3(Vh(c3(dm,Cd([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Vh(r):f3(Vh(c3(r,t)))}function Q2(e,t,n){if(n===void 0&&(n=Td),!t)throw qh(1,t);var r=function(o){for(var u=[],y=1;y<arguments.length;y++)u[y-1]=arguments[y];return e(t,n,nx.apply(void 0,Cd([o],u,!1)))};return r.attrs=function(o){return Q2(e,t,Al(Al({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Q2(e,t,Al(Al({},n),o))},r}var pS=function(e){return Q2(WD,e)},sn=pS;eS.forEach(function(e){sn[e]=pS(e)});var GD=(function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=dS(t),Op.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var u=o(_p(Vh(this.rules,n,r,o)),""),y=this.componentId+t;r.insertRules(y,y,u)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&Op.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e})();function YD(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=nx.apply(void 0,Cd([e],t,!1)),o="sc-global-".concat($y(JSON.stringify(r))),u=new GD(r,o),y=function(a){var c=q2(),v=kn.useContext(kd),f=kn.useRef(c.styleSheet.allocateGSInstance(o)).current;return c.styleSheet.server&&d(f,a,c.styleSheet,v,c.stylis),kn.useLayoutEffect(function(){if(!c.styleSheet.server)return d(f,a,c.styleSheet,v,c.stylis),function(){return u.removeStyles(f,c.styleSheet)}},[f,a,c.styleSheet,v,c.stylis]),null};function d(a,c,v,f,g){if(u.isStatic)u.renderStyles(a,fD,v,g);else{var m=Al(Al({},c),{theme:$C(c,f,y.defaultProps)});u.renderStyles(a,m,v,g)}}return kn.memo(y)}function mS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=_p(nx.apply(void 0,Cd([e],t,!1))),o=$y(r);return new cS(o,r)}const _0={Classic:{mode:"light",background:"#f0f2f5",surface:"#ffffff",border:"#d1d5db",text:"#111827",textSecondary:"#4b5563",primary:"#3b82f6",primaryHover:"#2563eb",danger:"#ef4444",success:"#10b981"},Cream:{mode:"light",background:"#fdf6e3",surface:"#eee8d5",border:"#dccf8e",text:"#657b83",textSecondary:"#93a1a1",primary:"#b58900",primaryHover:"#a57900",danger:"#dc322f",success:"#859900"},Rose:{mode:"light",background:"#fff1f2",surface:"#ffe4e6",border:"#fecdd3",text:"#881337",textSecondary:"#be123c",primary:"#e11d48",primaryHover:"#be123c",danger:"#ef4444",success:"#10b981"},Sky:{mode:"light",background:"#f0f9ff",surface:"#e0f2fe",border:"#bae6fd",text:"#0c4a6e",textSecondary:"#0369a1",primary:"#0ea5e9",primaryHover:"#0284c7",danger:"#ef4444",success:"#10b981"},Mint:{mode:"light",background:"#f0fdf4",surface:"#dcfce7",border:"#bbf7d0",text:"#064e3b",textSecondary:"#047857",primary:"#10b981",primaryHover:"#059669",danger:"#ef4444",success:"#10b981"},Lavender:{mode:"light",background:"#f5f3ff",surface:"#ede9fe",border:"#ddd6fe",text:"#4c1d95",textSecondary:"#6d28d9",primary:"#8b5cf6",primaryHover:"#7c3aed",danger:"#ef4444",success:"#10b981"},Peach:{mode:"light",background:"#fff7ed",surface:"#ffedd5",border:"#fed7aa",text:"#7c2d12",textSecondary:"#9a3412",primary:"#f97316",primaryHover:"#ea580c",danger:"#ef4444",success:"#10b981"},Sand:{mode:"light",background:"#fafaf9",surface:"#f5f5f4",border:"#e7e5e4",text:"#44403c",textSecondary:"#78716c",primary:"#78350f",primaryHover:"#92400e",danger:"#ef4444",success:"#10b981"},Indigo:{mode:"light",background:"#f8fafc",surface:"#f1f5f9",border:"#e2e8f0",text:"#1e1b4b",textSecondary:"#312e81",primary:"#4f46e5",primaryHover:"#4338ca",danger:"#ef4444",success:"#10b981"},Grey:{mode:"light",background:"#f9fafb",surface:"#f3f4f6",border:"#e5e7eb",text:"#1f2937",textSecondary:"#4b5563",primary:"#374151",primaryHover:"#111827",danger:"#ef4444",success:"#10b981"},Sakura:{mode:"light",background:"#fff5f7",surface:"#ffe4e9",border:"#ffc1cc",text:"#702431",textSecondary:"#a54256",primary:"#ff8fa3",primaryHover:"#ff5d7d",danger:"#ef4444",success:"#10b981"},Sunshine:{mode:"light",background:"#fffbeb",surface:"#fef3c7",border:"#fde68a",text:"#78350f",textSecondary:"#92400e",primary:"#fbbf24",primaryHover:"#f59e0b",danger:"#ef4444",success:"#10b981"},Emerald:{mode:"light",background:"#ecfdf5",surface:"#d1fae5",border:"#a7f3d0",text:"#064e3b",textSecondary:"#065f46",primary:"#10b981",primaryHover:"#059669",danger:"#ef4444",success:"#10b981"},Nordic:{mode:"light",background:"#f8fafc",surface:"#f1f5f9",border:"#e2e8f0",text:"#334155",textSecondary:"#64748b",primary:"#64748b",primaryHover:"#475569",danger:"#ef4444",success:"#10b981"},Apricot:{mode:"light",background:"#fffaf0",surface:"#ffedd5",border:"#fed7aa",text:"#7c2d12",textSecondary:"#9a3412",primary:"#fb923c",primaryHover:"#f97316",danger:"#ef4444",success:"#10b981"},Lilac:{mode:"light",background:"#faf5ff",surface:"#f3e8ff",border:"#e9d5ff",text:"#581c87",textSecondary:"#7e22ce",primary:"#a855f7",primaryHover:"#9333ea",danger:"#ef4444",success:"#10b981"},Sage:{mode:"light",background:"#f0f4f0",surface:"#e0e8e0",border:"#c8d8c8",text:"#2d3d2d",textSecondary:"#4d5d4d",primary:"#6b8e23",primaryHover:"#556b2f",danger:"#ef4444",success:"#10b981"},Coffee:{mode:"light",background:"#faf7f2",surface:"#f0ebe3",border:"#e6ddd0",text:"#463f3a",textSecondary:"#8a817c",primary:"#8b5e34",primaryHover:"#6f4e37",danger:"#ef4444",success:"#10b981"},Glacier:{mode:"light",background:"#f0faff",surface:"#e1f5fe",border:"#b3e5fc",text:"#01579b",textSecondary:"#0288d1",primary:"#03a9f4",primaryHover:"#039be5",danger:"#ef4444",success:"#10b981"},Clay:{mode:"light",background:"#f7f3f0",surface:"#eee4dc",border:"#dfcdc0",text:"#4e342e",textSecondary:"#6d4c41",primary:"#a1887f",primaryHover:"#8d6e63",danger:"#ef4444",success:"#10b981"},Dark:{mode:"dark",background:"#2b2d31",surface:"#383a40",border:"#4b4d52",text:"#e8eaed",textSecondary:"#aab0b6",primary:"#60a5fa",primaryHover:"#3b82f6",danger:"#f87171",success:"#34d399"},Midnight:{mode:"dark",background:"#1a1625",surface:"#241e33",border:"#3c3252",text:"#e9e7ed",textSecondary:"#a6a0b3",primary:"#c084fc",primaryHover:"#a855f7",danger:"#f87171",success:"#34d399"},Forest:{mode:"dark",background:"#1a2421",surface:"#24332e",border:"#2d4d44",text:"#e1ede8",textSecondary:"#8da69c",primary:"#10b981",primaryHover:"#059669",danger:"#fb7185",success:"#34d399"},Earth:{mode:"dark",background:"#1c1917",surface:"#292524",border:"#44403c",text:"#f5f5f4",textSecondary:"#a8a29e",primary:"#f59e0b",primaryHover:"#d97706",danger:"#ef4444",success:"#10b981"},Wine:{mode:"dark",background:"#1a0f0f",surface:"#2d1a1a",border:"#452a2a",text:"#fcecec",textSecondary:"#b08b8b",primary:"#f472b6",primaryHover:"#e879f9",danger:"#ef4444",success:"#10b981"},Slate:{mode:"dark",background:"#0f172a",surface:"#1e293b",border:"#334155",text:"#f1f5f9",textSecondary:"#94a3b8",primary:"#38bdf8",primaryHover:"#0ea5e9",danger:"#f43f5e",success:"#22c55e"},OLED:{mode:"dark",background:"#000000",surface:"#0f0f0f",border:"#2e2e2e",text:"#ffffff",textSecondary:"#999999",primary:"#3291ff",primaryHover:"#0070f3",danger:"#ff4444",success:"#00ff00"},Ocean:{mode:"dark",background:"#081b29",surface:"#112d42",border:"#1a3f5c",text:"#d1e8ff",textSecondary:"#7ab7ff",primary:"#00a8ff",primaryHover:"#0084cc",danger:"#ff4d4d",success:"#4dff88"},Neon:{mode:"dark",background:"#0d0221",surface:"#190e4f",border:"#2a1b82",text:"#e5e0ff",textSecondary:"#8a2be2",primary:"#ff00ff",primaryHover:"#cc00cc",danger:"#ff3131",success:"#00ff9f"},Dracula:{mode:"dark",background:"#282a36",surface:"#44475a",border:"#6272a4",text:"#f8f8f2",textSecondary:"#bd93f9",primary:"#ff79c6",primaryHover:"#bd93f9",danger:"#ff5555",success:"#50fa7b"},Ghost:{mode:"dark",background:"#121212",surface:"#1e1e1e",border:"#2c2c2c",text:"#e0e0e0",textSecondary:"#9e9e9e",primary:"#90caf9",primaryHover:"#64b5f6",danger:"#ef4444",success:"#10b981"},Abyss:{mode:"dark",background:"#010409",surface:"#0d1117",border:"#21262d",text:"#c9d1d9",textSecondary:"#8b949e",primary:"#58a6ff",primaryHover:"#1f6feb",danger:"#f85149",success:"#3fb950"},Void:{mode:"dark",background:"#050505",surface:"#0a0a0a",border:"#1a1a1a",text:"#d4d4d4",textSecondary:"#888888",primary:"#ffffff",primaryHover:"#f0f0f0",danger:"#ef4444",success:"#10b981"},Mars:{mode:"dark",background:"#1a0a0a",surface:"#2a1212",border:"#3a1a1a",text:"#fcecec",textSecondary:"#b08b8b",primary:"#ef4444",primaryHover:"#dc2626",danger:"#ff4d4d",success:"#10b981"},Cyber:{mode:"dark",background:"#0c001c",surface:"#160033",border:"#2d0066",text:"#e0e0ff",textSecondary:"#8a2be2",primary:"#00ffcc",primaryHover:"#00cca3",danger:"#ff0033",success:"#00ff99"},Steel:{mode:"dark",background:"#1a1c1e",surface:"#26292c",border:"#3a3f44",text:"#e2e2e2",textSecondary:"#949494",primary:"#b0c4de",primaryHover:"#a1b4cc",danger:"#ef4444",success:"#10b981"},Moss:{mode:"dark",background:"#11140c",surface:"#1a1f12",border:"#2a331d",text:"#e3e6d5",textSecondary:"#a3a88c",primary:"#a3b18a",primaryHover:"#588157",danger:"#ef4444",success:"#10b981"},CoffeeDark:{mode:"dark",background:"#1b1715",surface:"#26201d",border:"#362e2a",text:"#ede0d4",textSecondary:"#a98467",primary:"#7f5539",primaryHover:"#6c4a30",danger:"#ef4444",success:"#10b981"},Grape:{mode:"dark",background:"#140d1a",surface:"#211529",border:"#332140",text:"#f3e8ff",textSecondary:"#9d76c1",primary:"#9d4edd",primaryHover:"#7b2cbf",danger:"#ef4444",success:"#10b981"},Twilight:{mode:"dark",background:"#0f1020",surface:"#181a30",border:"#262a4a",text:"#e0e0f0",textSecondary:"#8080a0",primary:"#ff7eb9",primaryHover:"#ff5c9d",danger:"#ef4444",success:"#10b981"}},XD=YD`
  html {
    font-size: ${({theme:e})=>e.fontSize}px;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background-color: ${({theme:e})=>e.colors.background};
    color: ${({theme:e})=>e.colors.text};
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  * {
    box-sizing: border-box;
  }

  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
    &:hover {
      text-decoration: underline;
    }
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: ${({theme:e})=>e.colors.border};
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>e.colors.textSecondary};
  }
`,vS=Ie.createContext(void 0),rx=()=>{const e=Ie.useContext(vS);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},VD=({children:e})=>{const[t,n]=Ie.useState(()=>localStorage.getItem("themeName")||"Classic"),[r,o]=Ie.useState(()=>localStorage.getItem("lastLightTheme")||"Classic"),[u,y]=Ie.useState(()=>localStorage.getItem("lastDarkTheme")||"Dark"),[d,a]=Ie.useState(()=>{const S=localStorage.getItem("theme");return!S&&!localStorage.getItem("themeName")?"light":S||_0[t]?.mode||"light"}),[c,v]=Ie.useState(()=>{const S=localStorage.getItem("fontSize");return S?Number(S):16});Ie.useEffect(()=>{localStorage.setItem("theme",d)},[d]),Ie.useEffect(()=>{localStorage.setItem("themeName",t);const S=_0[t];S&&(S.mode==="light"?(o(t),localStorage.setItem("lastLightTheme",t)):(y(t),localStorage.setItem("lastDarkTheme",t)))},[t]),Ie.useEffect(()=>{localStorage.setItem("fontSize",c.toString())},[c]);const f=()=>{d==="light"?(a("dark"),n(u)):(a("light"),n(r))},g=()=>{v(S=>Math.min(S+1,24))},m=()=>{v(S=>Math.max(S-1,12))},C=S=>{n(S);const O=_0[S];O&&a(O.mode)},k={mode:d,fontSize:c,themeName:t,colors:_0[t]||_0.Classic};return te.jsx(vS.Provider,{value:{mode:d,toggleTheme:f,fontSize:c,increaseFontSize:g,decreaseFontSize:m,theme:k,setThemeByName:C},children:te.jsxs(jD,{theme:k,children:[te.jsx(XD,{}),e]})})},yS=Ie.createContext(void 0),xS=()=>{const e=Ie.useContext(yS);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},KD=({children:e})=>{const[t,n]=Ie.useState("");return te.jsx(yS.Provider,{value:{searchQuery:t,setSearchQuery:n},children:e})},ZD={en:{sidebar:{new:"New Memo",add_memo:"Add Memo",search:"Search... (tag: for tags)",decrease_font:"Decrease Font Size",increase_font:"Increase Font Size",sync_data:"Sync Data",install_update:"Install Update",check_updates:"Check for Updates",switch_dark:"Switch to Dark Mode",switch_light:"Switch to Light Mode",settings:"Settings",newest:"Date (Newest)",oldest:"Date (Oldest)",last_memoed:"Last Memoed",last_commented:"Last Commented",untitled:"Untitled",update_found:"Update found! Click again to install.",up_to_date:"You are up to date!",check_failed:"Check failed. Try again.",pwa_not_supported:"PWA not supported",collapse:"Collapse",more_memos:"{count} more",drop_to_extract:"Drop to Extract"},settings:{title:"Settings",data_management:"Data Management",export_backup:"Export / Backup",import_restore:"Import / Restore",import_note:"Data is safely merged with existing entries.",language:"Language",english:"English",korean:"Korean",theme_selection:"Theme Appearance",theme_desc:"Choose your favorite color palette",export_data:"Export Data",export_mode:"Export Mode",all_data:"All Data (Default)",select_memos:"Select Memos",filename_optional:"Filename (optional):",enter_filename:"Enter filename...",no_memos_found:"No memos found.",cancel:"Cancel",export:"Export",import_confirm:"Import data? This will merge with existing data.",import_success:"Import successful!",import_failed:"Import failed: ",help:"Help",help_title:"Help & About",help_desc:"HandMemo is a powerful tool for taking and organizing your notes.",help_local_db:"Local Database: All data is stored in your browser using IndexedDB. No server required.",help_offline:"Offline Access: Works offline as a PWA.",help_sync:"Synchronization: Sync data between devices using AES-encrypted Relay Sync.",help_share_memo:"Sharing: Share specific memos with others via QR code.",help_backup:"Import/Export: Backup your data as JSON files anytime.",help_markdown:"Markdown Support: Rich memo editing with full Markdown support.",help_tags:"Tags: Organize memos with searchable tags.",help_comments:"Comments: Leave personal notes on each memo.",help_threads:"Grouping: Memos can be grouped by threads.",help_math:"Math formula editing support.",help_close:"Close",share_app:"Share with Friends",share_desc:"Love HandMemo? Share it with your friends!",share_success:"Link copied to clipboard!",disclaimer_title:"Legal Disclaimer",disclaimer_text:"HandMemo is provided 'as is' without warranty. Data is stored locally on your device; you are responsible for maintaining your own backups. The developers are not liable for any data loss.",factory_reset:"Factory Reset",reset_confirm:"Are you sure? This will delete ALL data including books, memos, settings. This action CANNOT be undone.",reset_success:"All data has been reset."},memo_detail:{loading:"Loading...",title_placeholder:"Memo Title",tags_placeholder:"Tags (comma separated)",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",delete_confirm:"Are you sure you want to delete this memo?",delete_thread_entire:"Delete Entire Thread",delete_memo_only:"Delete Only This Memo",delete_thread_confirm:"This memo is part of a thread. What would you like to delete?",add_thread:"Add Thread",untitled:"Untitled",share_memo:"Share",empty_state_title:"Create a new memo from sidebar"},comments:{title:"Comments",add_comment:"Add a comment...",save_comment:"Save Comment",post:"Post",delete_confirm:"Delete this comment?",cancel:"Cancel",add_button:"Add Comment"},sync:{title:"Relay Sync (AES Encrypted)",host_mode:"Create Sync Session",host_desc:"Create a session to sync with another device. Your data is encrypted locally using the Room ID as a key.",start_host:"Open Session",scan_mode:"Connect to Session",scan_desc:"Scan the QR code or enter the Room ID from the other device to start a bidirectional sync.",scanning:"Scanning QR...",stop_scanning:"Stop Scanning",room_id:"Room ID:",status:"Status:",copy:"Copy",close:"Close",host_session:"Create Session",join_session:"Connect",your_room_id:"Session Room ID",enter_custom_id:"Enter custom session ID",copied:"Copied!",copy_id:"Copy ID",regenerate_id:"New ID",connecting:"Connecting to relay...",restart_hosting:"Restart Session",connected_to_peer:"Linked with device",scan_hint:"Scan this code on your other device to start secure sync.",scan_qr:"Scan QR Code",or:"OR",manual_entry:"Manual Connection",enter_room_id:"Enter Room ID",connect:"Connect & Sync",ready_to_share:"Session active. Waiting for connection...",connected:"Linked",data_synced_reload:"Sync Completed! Reloading in 3 seconds..."},drawing:{title:"Drawing",insert:"Insert Drawing",cancel:"Cancel",placeholder:"Drawing Object (Click to Edit)",clear:"Clear",undo:"Undo",pen:"Pen",eraser:"Eraser",ok:"OK",reset:"Reset",enter_filename:"Enter filename:",head_size:"Arrow Head Size",opacity:"Opacity",palm_rejection:"Palm Rejection (Pen Only)",cancel_confirm:"Are you sure you want to discard your changes?"},android:{exit_warning:"Press back again to exit."}},ko:{sidebar:{new:"  ",add_memo:" ",search:"... ( tag:)",decrease_font:"  ",increase_font:"  ",sync_data:" ",install_update:" ",check_updates:" ",switch_dark:"  ",switch_light:"  ",settings:"",newest:" ()",oldest:" ()",last_memoed:" ",last_commented:" ",untitled:" ",update_found:" !   .",up_to_date:" !",check_failed:" .  .",pwa_not_supported:"PWA  .",collapse:"",more_memos:"{count} ",drop_to_extract:"  "},settings:{title:"",data_management:" ",export_backup:" / ",import_restore:" / ",import_note:"   .",language:"",english:"English",korean:"",theme_selection:" ",theme_desc:"   ",export_data:" ",export_mode:" ",all_data:"  ()",select_memos:" ",filename_optional:" ( ):",enter_filename:" ...",no_memos_found:"   .",cancel:"",export:"",import_confirm:" ?   .",import_success:" !",import_failed:" : ",help:"",help_title:"  ",help_desc:"HandMemo      .",help_local_db:" :   IndexedDB   .   .",help_offline:" : PWA    .",help_sync:": AES         .",help_share_memo:": QR       .",help_backup:"/:   JSON    .",help_markdown:" :      .",help_tags:":      .",help_comments:":        .",help_threads:":      .",help_math:" :        .",help_close:"",share_app:" ",share_desc:"HandMemo  ?  !",share_success:"  !",disclaimer_title:" ",disclaimer_text:"HandMemo   ' ' .      ,        .        .",factory_reset:"  ",reset_confirm:"   ? , ,      .     .",reset_success:"  ."},memo_detail:{loading:" ...",title_placeholder:" ",tags_placeholder:" ( )",save:"",cancel:"",edit:"",delete:"",delete_confirm:"  ?",delete_thread_entire:"  ",delete_memo_only:"  ",delete_thread_confirm:"   .  ?",add_thread:" ",untitled:" ",share_memo:"",empty_state_title:"   "},comments:{title:"",add_comment:" ...",save_comment:" ",post:"",delete_confirm:"  ?",cancel:"",add_button:" "},sync:{title:"  (AES )",host_mode:"  ",host_desc:"     .    ID    .",start_host:" ",scan_mode:" ",scan_desc:"  QR    ID    .",scanning:"QR  ...",stop_scanning:" ",room_id:" ID:",status:":",copy:"",close:"",host_session:" ",join_session:" ",your_room_id:"  ID",enter_custom_id:"  ID ",copied:"!",copy_id:"ID ",regenerate_id:" ID ",connecting:"   ...",restart_hosting:"  ",connected_to_peer:" ",scan_hint:"       .",scan_qr:"QR  ",or:"",manual_entry:" ",enter_room_id:" ID ",connect:"  ",ready_to_share:" .   ...",connected:"",data_synced_reload:" ! 3  ..."},drawing:{title:"",insert:" ",cancel:"",placeholder:"  ( )",clear:"",undo:" ",pen:"",eraser:"",ok:"",reset:"",enter_filename:" :",head_size:"  ",opacity:"",palm_rejection:"  ( )",cancel_confirm:"  ?"},android:{exit_warning:`  
    .`}}},bS=Ie.createContext(void 0),qD=({children:e})=>{const[t,n]=Ie.useState(()=>{const u=localStorage.getItem("handmemo-language");return u==="en"||u==="ko"?u:navigator.language.toLowerCase().startsWith("ko")?"ko":"en"}),r=u=>{n(u),localStorage.setItem("handmemo-language",u)},o=ZD[t];return te.jsx(bS.Provider,{value:{language:t,setLanguage:r,t:o},children:e})},cf=()=>{const e=Ie.useContext(bS);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},R0={CONTINUE:"CONTINUE",PREVENT_NAVIGATION:"PREVENT",ALLOW_NAVIGATION:"ALLOW"},wS=Ie.createContext(null),ix=()=>{const e=Ie.useContext(wS);if(!e)throw new Error("useExitGuard must be used within an ExitGuardProvider");return e},QD=({children:e})=>{const t=Ie.useRef({}),n=Ie.useCallback((u,y)=>{t.current[u]=y},[]),r=Ie.useCallback(u=>{delete t.current[u]},[]),o=Ie.useCallback(()=>{for(const u of Object.keys(t.current)){const y=t.current[u]();if(y!==R0.CONTINUE)return y}return R0.CONTINUE},[]);return te.jsx(wS.Provider,{value:{registerGuard:n,unregisterGuard:r,checkGuards:o},children:e})};var vp={exports:{}},JD=vp.exports,h3;function $D(){return h3||(h3=1,(function(e,t){(function(n,r){e.exports=r()})(JD,function(){var n=function(b,T){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,j){B.__proto__=j}||function(B,j){for(var K in j)Object.prototype.hasOwnProperty.call(j,K)&&(B[K]=j[K])})(b,T)},r=function(){return(r=Object.assign||function(b){for(var T,B=1,j=arguments.length;B<j;B++)for(var K in T=arguments[B])Object.prototype.hasOwnProperty.call(T,K)&&(b[K]=T[K]);return b}).apply(this,arguments)};function o(b,T,B){for(var j,K=0,ee=T.length;K<ee;K++)!j&&K in T||((j=j||Array.prototype.slice.call(T,0,K))[K]=T[K]);return b.concat(j||Array.prototype.slice.call(T))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:T1,y=Object.keys,d=Array.isArray;function a(b,T){return typeof T!="object"||y(T).forEach(function(B){b[B]=T[B]}),b}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var c=Object.getPrototypeOf,v={}.hasOwnProperty;function f(b,T){return v.call(b,T)}function g(b,T){typeof T=="function"&&(T=T(c(b))),(typeof Reflect>"u"?y:Reflect.ownKeys)(T).forEach(function(B){C(b,B,T[B])})}var m=Object.defineProperty;function C(b,T,B,j){m(b,T,a(B&&f(B,"get")&&typeof B.get=="function"?{get:B.get,set:B.set,configurable:!0}:{value:B,configurable:!0,writable:!0},j))}function k(b){return{from:function(T){return b.prototype=Object.create(T.prototype),C(b.prototype,"constructor",b),{extend:g.bind(null,b.prototype)}}}}var S=Object.getOwnPropertyDescriptor,O=[].slice;function N(b,T,B){return O.call(b,T,B)}function U(b,T){return T(b)}function W(b){if(!b)throw new Error("Assertion Failed")}function q(b){u.setImmediate?setImmediate(b):setTimeout(b,0)}function J(b,T){if(typeof T=="string"&&f(b,T))return b[T];if(!T)return b;if(typeof T!="string"){for(var B=[],j=0,K=T.length;j<K;++j){var ee=J(b,T[j]);B.push(ee)}return B}var he=T.indexOf(".");if(he!==-1){var Te=b[T.substr(0,he)];return Te==null?void 0:J(Te,T.substr(he+1))}}function ne(b,T,B){if(b&&T!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof T!="string"&&"length"in T){W(typeof B!="string"&&"length"in B);for(var j=0,K=T.length;j<K;++j)ne(b,T[j],B[j])}else{var ee,he,Te=T.indexOf(".");Te!==-1?(ee=T.substr(0,Te),(he=T.substr(Te+1))===""?B===void 0?d(b)&&!isNaN(parseInt(ee))?b.splice(ee,1):delete b[ee]:b[ee]=B:ne(Te=!(Te=b[ee])||!f(b,ee)?b[ee]={}:Te,he,B)):B===void 0?d(b)&&!isNaN(parseInt(T))?b.splice(T,1):delete b[T]:b[T]=B}}function ve(b){var T,B={};for(T in b)f(b,T)&&(B[T]=b[T]);return B}var Se=[].concat;function Fe(b){return Se.apply([],b)}var Pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Fe([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(T){return T+b+"Array"})}))).filter(function(b){return u[b]}),Ue=new Set(Pe.map(function(b){return u[b]})),Ze=null;function mt(b){return Ze=new WeakMap,b=(function T(B){if(!B||typeof B!="object")return B;var j=Ze.get(B);if(j)return j;if(d(B)){j=[],Ze.set(B,j);for(var K=0,ee=B.length;K<ee;++K)j.push(T(B[K]))}else if(Ue.has(B.constructor))j=B;else{var he,Te=c(B);for(he in j=Te===Object.prototype?{}:Object.create(Te),Ze.set(B,j),B)f(B,he)&&(j[he]=T(B[he]))}return j})(b),Ze=null,b}var ct={}.toString;function ge(b){return ct.call(b).slice(8,-1)}var ye=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Re=typeof ye=="symbol"?function(b){var T;return b!=null&&(T=b[ye])&&T.apply(b)}:function(){return null};function ft(b,T){return T=b.indexOf(T),0<=T&&b.splice(T,1),0<=T}var Me={};function ce(b){var T,B,j,K;if(arguments.length===1){if(d(b))return b.slice();if(this===Me&&typeof b=="string")return[b];if(K=Re(b)){for(B=[];!(j=K.next()).done;)B.push(j.value);return B}if(b==null)return[b];if(typeof(T=b.length)!="number")return[b];for(B=new Array(T);T--;)B[T]=b[T];return B}for(T=arguments.length,B=new Array(T);T--;)B[T]=arguments[T];return B}var le=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},dt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Er=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(dt),ae={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function V(b,T){this.name=b,this.message=T}function me(b,T){return b+". Errors: "+Object.keys(T).map(function(B){return T[B].toString()}).filter(function(B,j,K){return K.indexOf(B)===j}).join(`
`)}function Ae(b,T,B,j){this.failures=T,this.failedKeys=j,this.successCount=B,this.message=me(b,T)}function Ne(b,T){this.name="BulkError",this.failures=Object.keys(T).map(function(B){return T[B]}),this.failuresByPos=T,this.message=me(b,this.failures)}k(V).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(Ae).from(V),k(Ne).from(V);var ut=Er.reduce(function(b,T){return b[T]=T+"Error",b},{}),xt=V,et=Er.reduce(function(b,T){var B=T+"Error";function j(K,ee){this.name=B,K?typeof K=="string"?(this.message="".concat(K).concat(ee?`
 `+ee:""),this.inner=ee||null):typeof K=="object"&&(this.message="".concat(K.name," ").concat(K.message),this.inner=K):(this.message=ae[T]||B,this.inner=null)}return k(j).from(xt),b[T]=j,b},{});et.Syntax=SyntaxError,et.Type=TypeError,et.Range=RangeError;var Wt=dt.reduce(function(b,T){return b[T+"Error"]=et[T],b},{}),_t=Er.reduce(function(b,T){return["Syntax","Type","Range"].indexOf(T)===-1&&(b[T+"Error"]=et[T]),b},{});function Ft(){}function st(b){return b}function At(b,T){return b==null||b===st?T:function(B){return T(b(B))}}function St(b,T){return function(){b.apply(this,arguments),T.apply(this,arguments)}}function Kt(b,T){return b===Ft?T:function(){var B=b.apply(this,arguments);B!==void 0&&(arguments[0]=B);var j=this.onsuccess,K=this.onerror;this.onsuccess=null,this.onerror=null;var ee=T.apply(this,arguments);return j&&(this.onsuccess=this.onsuccess?St(j,this.onsuccess):j),K&&(this.onerror=this.onerror?St(K,this.onerror):K),ee!==void 0?ee:B}}function zt(b,T){return b===Ft?T:function(){b.apply(this,arguments);var B=this.onsuccess,j=this.onerror;this.onsuccess=this.onerror=null,T.apply(this,arguments),B&&(this.onsuccess=this.onsuccess?St(B,this.onsuccess):B),j&&(this.onerror=this.onerror?St(j,this.onerror):j)}}function Ut(b,T){return b===Ft?T:function(B){var j=b.apply(this,arguments);a(B,j);var K=this.onsuccess,ee=this.onerror;return this.onsuccess=null,this.onerror=null,B=T.apply(this,arguments),K&&(this.onsuccess=this.onsuccess?St(K,this.onsuccess):K),ee&&(this.onerror=this.onerror?St(ee,this.onerror):ee),j===void 0?B===void 0?void 0:B:a(j,B)}}function Vt(b,T){return b===Ft?T:function(){return T.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function un(b,T){return b===Ft?T:function(){var B=b.apply(this,arguments);if(B&&typeof B.then=="function"){for(var j=this,K=arguments.length,ee=new Array(K);K--;)ee[K]=arguments[K];return B.then(function(){return T.apply(j,ee)})}return T.apply(this,arguments)}}_t.ModifyError=Ae,_t.DexieError=V,_t.BulkError=Ne;var Xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qt(b){Xt=b}var Bn={},gt=100,Pe=typeof Promise>"u"?[]:(function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,c(b),b];var T=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[T,c(T),b]})(),dt=Pe[0],Er=Pe[1],Pe=Pe[2],Er=Er&&Er.then,be=dt&&dt.constructor,Ee=!!Pe,qe=function(b,T){at.push([b,T]),we&&(queueMicrotask(Hn),we=!1)},re=!0,we=!0,Ve=[],it=[],We=st,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ft,pgp:!1,env:{},finalize:Ft},Ye=Et,at=[],Tt=0,yt=[];function Pt(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var T=this._PSD=Ye;if(typeof b!="function"){if(b!==Bn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vn(this,this._value))}this._state=null,this._value=null,++T.ref,(function B(j,K){try{K(function(ee){if(j._state===null){if(ee===j)throw new TypeError("A promise cannot be resolved with itself.");var he=j._lib&&xr();ee&&typeof ee.then=="function"?B(j,function(Te,Oe){ee instanceof Pt?ee._then(Te,Oe):ee.then(Te,Oe)}):(j._state=!0,j._value=ee,$n(j)),he&&Br()}},vn.bind(null,j))}catch(ee){vn(j,ee)}})(this,b)}var pn={get:function(){var b=Ye,T=Sn;function B(j,K){var ee=this,he=!b.global&&(b!==Ye||T!==Sn),Te=he&&!fi(),Oe=new Pt(function(Be,Xe){Yn(ee,new Cn(oa(j,b,he,Te),oa(K,b,he,Te),Be,Xe,b))});return this._consoleTask&&(Oe._consoleTask=this._consoleTask),Oe}return B.prototype=Bn,B},set:function(b){C(this,"then",b&&b.prototype===Bn?pn:{get:function(){return b},set:pn.set})}};function Cn(b,T,B,j,K){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof T=="function"?T:null,this.resolve=B,this.reject=j,this.psd=K}function vn(b,T){var B,j;it.push(T),b._state===null&&(B=b._lib&&xr(),T=We(T),b._state=!1,b._value=T,j=b,Ve.some(function(K){return K._value===j._value})||Ve.push(j),$n(b),B&&Br())}function $n(b){var T=b._listeners;b._listeners=[];for(var B=0,j=T.length;B<j;++B)Yn(b,T[B]);var K=b._PSD;--K.ref||K.finalize(),Tt===0&&(++Tt,qe(function(){--Tt==0&&mr()},[]))}function Yn(b,T){if(b._state!==null){var B=b._state?T.onFulfilled:T.onRejected;if(B===null)return(b._state?T.resolve:T.reject)(b._value);++T.psd.ref,++Tt,qe(er,[B,b,T])}else b._listeners.push(T)}function er(b,T,B){try{var j,K=T._value;!T._state&&it.length&&(it=[]),j=Xt&&T._consoleTask?T._consoleTask.run(function(){return b(K)}):b(K),T._state||it.indexOf(K)!==-1||(function(ee){for(var he=Ve.length;he;)if(Ve[--he]._value===ee._value)return Ve.splice(he,1)})(T),B.resolve(j)}catch(ee){B.reject(ee)}finally{--Tt==0&&mr(),--B.psd.ref||B.psd.finalize()}}function Hn(){gr(Et,function(){xr()&&Br()})}function xr(){var b=re;return we=re=!1,b}function Br(){var b,T,B;do for(;0<at.length;)for(b=at,at=[],B=b.length,T=0;T<B;++T){var j=b[T];j[0].apply(null,j[1])}while(0<at.length);we=re=!0}function mr(){var b=Ve;Ve=[],b.forEach(function(j){j._PSD.onunhandled.call(null,j._value,j)});for(var T=yt.slice(0),B=T.length;B;)T[--B]()}function Oi(b){return new Pt(Bn,!1,b)}function Jn(b,T){var B=Ye;return function(){var j=xr(),K=Ye;try{return Tr(B,!0),b.apply(this,arguments)}catch(ee){T&&T(ee)}finally{Tr(K,!1),j&&Br()}}}g(Pt.prototype,{then:pn,_then:function(b,T){Yn(this,new Cn(null,null,b,T,Ye))},catch:function(b){if(arguments.length===1)return this.then(null,b);var T=b,B=arguments[1];return typeof T=="function"?this.then(null,function(j){return(j instanceof T?B:Oi)(j)}):this.then(null,function(j){return(j&&j.name===T?B:Oi)(j)})},finally:function(b){return this.then(function(T){return Pt.resolve(b()).then(function(){return T})},function(T){return Pt.resolve(b()).then(function(){return Oi(T)})})},timeout:function(b,T){var B=this;return b<1/0?new Pt(function(j,K){var ee=setTimeout(function(){return K(new et.Timeout(T))},b);B.then(j,K).finally(clearTimeout.bind(null,ee))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(Pt.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=zr(),g(Pt,{all:function(){var b=ce.apply(null,arguments).map(yi);return new Pt(function(T,B){b.length===0&&T([]);var j=b.length;b.forEach(function(K,ee){return Pt.resolve(K).then(function(he){b[ee]=he,--j||T(b)},B)})})},resolve:function(b){return b instanceof Pt?b:b&&typeof b.then=="function"?new Pt(function(T,B){b.then(T,B)}):new Pt(Bn,!0,b)},reject:Oi,race:function(){var b=ce.apply(null,arguments).map(yi);return new Pt(function(T,B){b.map(function(j){return Pt.resolve(j).then(T,B)})})},PSD:{get:function(){return Ye},set:function(b){return Ye=b}},totalEchoes:{get:function(){return Sn}},newPSD:Pr,usePSD:gr,scheduler:{get:function(){return qe},set:function(b){qe=b}},rejectionMapper:{get:function(){return We},set:function(b){We=b}},follow:function(b,T){return new Pt(function(B,j){return Pr(function(K,ee){var he=Ye;he.unhandleds=[],he.onunhandled=ee,he.finalize=St(function(){var Te,Oe=this;Te=function(){Oe.unhandleds.length===0?K():ee(Oe.unhandleds[0])},yt.push(function Be(){Te(),yt.splice(yt.indexOf(Be),1)}),++Tt,qe(function(){--Tt==0&&mr()},[])},he.finalize),b()},T,B,j)})}}),be&&(be.allSettled&&C(Pt,"allSettled",function(){var b=ce.apply(null,arguments).map(yi);return new Pt(function(T){b.length===0&&T([]);var B=b.length,j=new Array(B);b.forEach(function(K,ee){return Pt.resolve(K).then(function(he){return j[ee]={status:"fulfilled",value:he}},function(he){return j[ee]={status:"rejected",reason:he}}).then(function(){return--B||T(j)})})})}),be.any&&typeof AggregateError<"u"&&C(Pt,"any",function(){var b=ce.apply(null,arguments).map(yi);return new Pt(function(T,B){b.length===0&&B(new AggregateError([]));var j=b.length,K=new Array(j);b.forEach(function(ee,he){return Pt.resolve(ee).then(function(Te){return T(Te)},function(Te){K[he]=Te,--j||B(new AggregateError(K))})})})}),be.withResolvers&&(Pt.withResolvers=be.withResolvers));var Fr={awaits:0,echoes:0,id:0},si=0,Yr=[],vi=0,Sn=0,vr=0;function Pr(b,T,B,j){var K=Ye,ee=Object.create(K);return ee.parent=K,ee.ref=0,ee.global=!1,ee.id=++vr,Et.env,ee.env=Ee?{Promise:Pt,PromiseProp:{value:Pt,configurable:!0,writable:!0},all:Pt.all,race:Pt.race,allSettled:Pt.allSettled,any:Pt.any,resolve:Pt.resolve,reject:Pt.reject}:{},T&&a(ee,T),++K.ref,ee.finalize=function(){--this.parent.ref||this.parent.finalize()},j=gr(ee,b,B,j),ee.ref===0&&ee.finalize(),j}function ar(){return Fr.id||(Fr.id=++si),++Fr.awaits,Fr.echoes+=gt,Fr.id}function fi(){return!!Fr.awaits&&(--Fr.awaits==0&&(Fr.id=0),Fr.echoes=Fr.awaits*gt,!0)}function yi(b){return Fr.echoes&&b&&b.constructor===be?(ar(),b.then(function(T){return fi(),T},function(T){return fi(),or(T)})):b}function xi(){var b=Yr[Yr.length-1];Yr.pop(),Tr(b,!1)}function Tr(b,T){var B,j=Ye;(T?!Fr.echoes||vi++&&b===Ye:!vi||--vi&&b===Ye)||queueMicrotask(T?(function(K){++Sn,Fr.echoes&&--Fr.echoes!=0||(Fr.echoes=Fr.awaits=Fr.id=0),Yr.push(Ye),Tr(K,!0)}).bind(null,b):xi),b!==Ye&&(Ye=b,j===Et&&(Et.env=zr()),Ee&&(B=Et.env.Promise,T=b.env,(j.global||b.global)&&(Object.defineProperty(u,"Promise",T.PromiseProp),B.all=T.all,B.race=T.race,B.resolve=T.resolve,B.reject=T.reject,T.allSettled&&(B.allSettled=T.allSettled),T.any&&(B.any=T.any))))}function zr(){var b=u.Promise;return Ee?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function gr(b,T,B,j,K){var ee=Ye;try{return Tr(b,!0),T(B,j,K)}finally{Tr(ee,!1)}}function oa(b,T,B,j){return typeof b!="function"?b:function(){var K=Ye;B&&ar(),Tr(T,!0);try{return b.apply(this,arguments)}finally{Tr(K,!1),j&&queueMicrotask(fi)}}}function Hr(b){Promise===be&&Fr.echoes===0?vi===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Er).indexOf("[native code]")===-1&&(ar=fi=Ft);var or=Pt.reject,co="",bi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ni="String expected.",hn=[],wi="__dbnames",mn="readonly",Zi="readwrite";function Bo(b,T){return b?T?function(){return b.apply(this,arguments)&&T.apply(this,arguments)}:b:T}var br={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xn(b){return typeof b!="string"||/\./.test(b)?function(T){return T}:function(T){return T[b]===void 0&&b in T&&delete(T=mt(T))[b],T}}function fr(){throw et.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Or(b,T){try{var B=fo(b),j=fo(T);if(B!==j)return B==="Array"?1:j==="Array"?-1:B==="binary"?1:j==="binary"?-1:B==="string"?1:j==="string"?-1:B==="Date"?1:j!=="Date"?NaN:-1;switch(B){case"number":case"Date":case"string":return T<b?1:b<T?-1:0;case"binary":return(function(K,ee){for(var he=K.length,Te=ee.length,Oe=he<Te?he:Te,Be=0;Be<Oe;++Be)if(K[Be]!==ee[Be])return K[Be]<ee[Be]?-1:1;return he===Te?0:he<Te?-1:1})(cn(b),cn(T));case"Array":return(function(K,ee){for(var he=K.length,Te=ee.length,Oe=he<Te?he:Te,Be=0;Be<Oe;++Be){var Xe=Or(K[Be],ee[Be]);if(Xe!==0)return Xe}return he===Te?0:he<Te?-1:1})(b,T)}}catch{}return NaN}function fo(b){var T=typeof b;return T!="object"?T:ArrayBuffer.isView(b)?"binary":(b=ge(b),b==="ArrayBuffer"?"binary":b)}function cn(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}function On(b,T,B){var j=b.schema.yProps;return j?(T&&0<B.numFailures&&(T=T.filter(function(K,ee){return!B.failures[ee]})),Promise.all(j.map(function(K){return K=K.updatesTable,T?b.db.table(K).where("k").anyOf(T).delete():b.db.table(K).clear()})).then(function(){return B})):B}var qi=(hl.prototype.execute=function(b){var T=this["@@propmod"];if(T.add!==void 0){var B=T.add;if(d(B))return o(o([],d(b)?b:[],!0),B).sort();if(typeof B=="number")return(Number(b)||0)+B;if(typeof B=="bigint")try{return BigInt(b)+B}catch{return BigInt(0)+B}throw new TypeError("Invalid term ".concat(B))}if(T.remove!==void 0){var j=T.remove;if(d(j))return d(b)?b.filter(function(K){return!j.includes(K)}).sort():[];if(typeof j=="number")return Number(b)-j;if(typeof j=="bigint")try{return BigInt(b)-j}catch{return BigInt(0)-j}throw new TypeError("Invalid subtrahend ".concat(j))}return B=(B=T.replacePrefix)===null||B===void 0?void 0:B[0],B&&typeof b=="string"&&b.startsWith(B)?T.replacePrefix[1]+b.substring(B.length):b},hl);function hl(b){this["@@propmod"]=b}function Ai(b,T){for(var B=y(T),j=B.length,K=!1,ee=0;ee<j;++ee){var he=B[ee],Te=T[he],Oe=J(b,he);Te instanceof qi?(ne(b,he,Te.execute(Oe)),K=!0):Oe!==Te&&(ne(b,he,Te),K=!0)}return K}var _a=(pr.prototype._trans=function(b,T,B){var j=this._tx||Ye.trans,K=this.name,ee=Xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function he(Be,Xe,Ke){if(!Ke.schema[K])throw new et.NotFound("Table "+K+" not part of transaction");return T(Ke.idbtrans,Ke)}var Te=xr();try{var Oe=j&&j.db._novip===this.db._novip?j===Ye.trans?j._promise(b,he,B):Pr(function(){return j._promise(b,he,B)},{trans:j,transless:Ye.transless||Ye}):(function Be(Xe,Ke,ot,Je){if(Xe.idbdb&&(Xe._state.openComplete||Ye.letThrough||Xe._vip)){var Ct=Xe._createTransaction(Ke,ot,Xe._dbSchema);try{Ct.create(),Xe._state.PR1398_maxLoop=3}catch(R){return R.name===ut.InvalidState&&Xe.isOpen()&&0<--Xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Xe.close({disableAutoOpen:!1}),Xe.open().then(function(){return Be(Xe,Ke,ot,Je)})):or(R)}return Ct._promise(Ke,function(R,P){return Pr(function(){return Ye.trans=Ct,Je(R,P,Ct)})}).then(function(R){if(Ke==="readwrite")try{Ct.idbtrans.commit()}catch{}return Ke==="readonly"?R:Ct._completion.then(function(){return R})})}if(Xe._state.openComplete)return or(new et.DatabaseClosed(Xe._state.dbOpenError));if(!Xe._state.isBeingOpened){if(!Xe._state.autoOpen)return or(new et.DatabaseClosed);Xe.open().catch(Ft)}return Xe._state.dbReadyPromise.then(function(){return Be(Xe,Ke,ot,Je)})})(this.db,b,[this.name],he);return ee&&(Oe._consoleTask=ee,Oe=Oe.catch(function(Be){return console.trace(Be),or(Be)})),Oe}finally{Te&&Br()}},pr.prototype.get=function(b,T){var B=this;return b&&b.constructor===Object?this.where(b).first(T):b==null?or(new et.Type("Invalid argument to Table.get()")):this._trans("readonly",function(j){return B.core.get({trans:j,key:b}).then(function(K){return B.hook.reading.fire(K)})}).then(T)},pr.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(d(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var T=y(b);if(T.length===1)return this.where(T[0]).equals(b[T[0]]);var B=this.schema.indexes.concat(this.schema.primKey).filter(function(Te){if(Te.compound&&T.every(function(Be){return 0<=Te.keyPath.indexOf(Be)})){for(var Oe=0;Oe<T.length;++Oe)if(T.indexOf(Te.keyPath[Oe])===-1)return!1;return!0}return!1}).sort(function(Te,Oe){return Te.keyPath.length-Oe.keyPath.length})[0];if(B&&this.db._maxKey!==co){var ee=B.keyPath.slice(0,T.length);return this.where(ee).equals(ee.map(function(Oe){return b[Oe]}))}!B&&Xt&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(T.join("+"),"]"));var j=this.schema.idxByName;function K(Te,Oe){return Or(Te,Oe)===0}var he=T.reduce(function(Ke,Oe){var Be=Ke[0],Xe=Ke[1],Ke=j[Oe],ot=b[Oe];return[Be||Ke,Be||!Ke?Bo(Xe,Ke&&Ke.multi?function(Je){return Je=J(Je,Oe),d(Je)&&Je.some(function(Ct){return K(ot,Ct)})}:function(Je){return K(ot,J(Je,Oe))}):Xe]},[null,null]),ee=he[0],he=he[1];return ee?this.where(ee.name).equals(b[ee.keyPath]).filter(he):B?this.filter(he):this.where(T).equals("")},pr.prototype.filter=function(b){return this.toCollection().and(b)},pr.prototype.count=function(b){return this.toCollection().count(b)},pr.prototype.offset=function(b){return this.toCollection().offset(b)},pr.prototype.limit=function(b){return this.toCollection().limit(b)},pr.prototype.each=function(b){return this.toCollection().each(b)},pr.prototype.toArray=function(b){return this.toCollection().toArray(b)},pr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pr.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,d(b)?"[".concat(b.join("+"),"]"):b))},pr.prototype.reverse=function(){return this.toCollection().reverse()},pr.prototype.mapToClass=function(b){var T,B=this.db,j=this.name;function K(){return T!==null&&T.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof fr&&((function(Oe,Be){if(typeof Be!="function"&&Be!==null)throw new TypeError("Class extends value "+String(Be)+" is not a constructor or null");function Xe(){this.constructor=Oe}n(Oe,Be),Oe.prototype=Be===null?Object.create(Be):(Xe.prototype=Be.prototype,new Xe)})(K,T=b),Object.defineProperty(K.prototype,"db",{get:function(){return B},enumerable:!1,configurable:!0}),K.prototype.table=function(){return j},b=K);for(var ee=new Set,he=b.prototype;he;he=c(he))Object.getOwnPropertyNames(he).forEach(function(Oe){return ee.add(Oe)});function Te(Oe){if(!Oe)return Oe;var Be,Xe=Object.create(b.prototype);for(Be in Oe)if(!ee.has(Be))try{Xe[Be]=Oe[Be]}catch{}return Xe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Te,this.hook("reading",Te),b},pr.prototype.defineClass=function(){return this.mapToClass(function(b){a(this,b)})},pr.prototype.add=function(b,T){var B=this,j=this.schema.primKey,K=j.auto,ee=j.keyPath,he=b;return ee&&K&&(he=Xn(ee)(b)),this._trans("readwrite",function(Te){return B.core.mutate({trans:Te,type:"add",keys:T!=null?[T]:null,values:[he]})}).then(function(Te){return Te.numFailures?Pt.reject(Te.failures[0]):Te.lastResult}).then(function(Te){if(ee)try{ne(b,ee,Te)}catch{}return Te})},pr.prototype.upsert=function(b,T){var B=this,j=this.schema.primKey.keyPath;return this._trans("readwrite",function(K){return B.core.get({trans:K,key:b}).then(function(ee){var he=ee??{};return Ai(he,T),j&&ne(he,j,b),B.core.mutate({trans:K,type:"put",values:[he],keys:[b],upsert:!0,updates:{keys:[b],changeSpecs:[T]}}).then(function(Te){return Te.numFailures?Pt.reject(Te.failures[0]):!!ee})})})},pr.prototype.update=function(b,T){return typeof b!="object"||d(b)?this.where(":id").equals(b).modify(T):(b=J(b,this.schema.primKey.keyPath),b===void 0?or(new et.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(T))},pr.prototype.put=function(b,T){var B=this,j=this.schema.primKey,K=j.auto,ee=j.keyPath,he=b;return ee&&K&&(he=Xn(ee)(b)),this._trans("readwrite",function(Te){return B.core.mutate({trans:Te,type:"put",values:[he],keys:T!=null?[T]:null})}).then(function(Te){return Te.numFailures?Pt.reject(Te.failures[0]):Te.lastResult}).then(function(Te){if(ee)try{ne(b,ee,Te)}catch{}return Te})},pr.prototype.delete=function(b){var T=this;return this._trans("readwrite",function(B){return T.core.mutate({trans:B,type:"delete",keys:[b]}).then(function(j){return On(T,[b],j)}).then(function(j){return j.numFailures?Pt.reject(j.failures[0]):void 0})})},pr.prototype.clear=function(){var b=this;return this._trans("readwrite",function(T){return b.core.mutate({trans:T,type:"deleteRange",range:br}).then(function(B){return On(b,null,B)})}).then(function(T){return T.numFailures?Pt.reject(T.failures[0]):void 0})},pr.prototype.bulkGet=function(b){var T=this;return this._trans("readonly",function(B){return T.core.getMany({keys:b,trans:B}).then(function(j){return j.map(function(K){return T.hook.reading.fire(K)})})})},pr.prototype.bulkAdd=function(b,T,B){var j=this,K=Array.isArray(T)?T:void 0,ee=(B=B||(K?void 0:T))?B.allKeys:void 0;return this._trans("readwrite",function(he){var Be=j.schema.primKey,Te=Be.auto,Be=Be.keyPath;if(Be&&K)throw new et.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(K&&K.length!==b.length)throw new et.InvalidArgument("Arguments objects and keys must have the same length");var Oe=b.length,Be=Be&&Te?b.map(Xn(Be)):b;return j.core.mutate({trans:he,type:"add",keys:K,values:Be,wantResults:ee}).then(function(Ct){var Ke=Ct.numFailures,ot=Ct.results,Je=Ct.lastResult,Ct=Ct.failures;if(Ke===0)return ee?ot:Je;throw new Ne("".concat(j.name,".bulkAdd(): ").concat(Ke," of ").concat(Oe," operations failed"),Ct)})})},pr.prototype.bulkPut=function(b,T,B){var j=this,K=Array.isArray(T)?T:void 0,ee=(B=B||(K?void 0:T))?B.allKeys:void 0;return this._trans("readwrite",function(he){var Be=j.schema.primKey,Te=Be.auto,Be=Be.keyPath;if(Be&&K)throw new et.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(K&&K.length!==b.length)throw new et.InvalidArgument("Arguments objects and keys must have the same length");var Oe=b.length,Be=Be&&Te?b.map(Xn(Be)):b;return j.core.mutate({trans:he,type:"put",keys:K,values:Be,wantResults:ee}).then(function(Ct){var Ke=Ct.numFailures,ot=Ct.results,Je=Ct.lastResult,Ct=Ct.failures;if(Ke===0)return ee?ot:Je;throw new Ne("".concat(j.name,".bulkPut(): ").concat(Ke," of ").concat(Oe," operations failed"),Ct)})})},pr.prototype.bulkUpdate=function(b){var T=this,B=this.core,j=b.map(function(he){return he.key}),K=b.map(function(he){return he.changes}),ee=[];return this._trans("readwrite",function(he){return B.getMany({trans:he,keys:j,cache:"clone"}).then(function(Te){var Oe=[],Be=[];b.forEach(function(Ke,ot){var Je=Ke.key,Ct=Ke.changes,R=Te[ot];if(R){for(var P=0,Y=Object.keys(Ct);P<Y.length;P++){var $=Y[P],oe=Ct[$];if($===T.schema.primKey.keyPath){if(Or(oe,Je)!==0)throw new et.Constraint("Cannot update primary key in bulkUpdate()")}else ne(R,$,oe)}ee.push(ot),Oe.push(Je),Be.push(R)}});var Xe=Oe.length;return B.mutate({trans:he,type:"put",keys:Oe,values:Be,updates:{keys:j,changeSpecs:K}}).then(function(Ke){var ot=Ke.numFailures,Je=Ke.failures;if(ot===0)return Xe;for(var Ct=0,R=Object.keys(Je);Ct<R.length;Ct++){var P,Y=R[Ct],$=ee[Number(Y)];$!=null&&(P=Je[Y],delete Je[Y],Je[$]=P)}throw new Ne("".concat(T.name,".bulkUpdate(): ").concat(ot," of ").concat(Xe," operations failed"),Je)})})})},pr.prototype.bulkDelete=function(b){var T=this,B=b.length;return this._trans("readwrite",function(j){return T.core.mutate({trans:j,type:"delete",keys:b}).then(function(K){return On(T,b,K)})}).then(function(he){var K=he.numFailures,ee=he.lastResult,he=he.failures;if(K===0)return ee;throw new Ne("".concat(T.name,".bulkDelete(): ").concat(K," of ").concat(B," operations failed"),he)})},pr);function pr(){}function Zn(b){function T(he,Te){if(Te){for(var Oe=arguments.length,Be=new Array(Oe-1);--Oe;)Be[Oe-1]=arguments[Oe];return B[he].subscribe.apply(null,Be),b}if(typeof he=="string")return B[he]}var B={};T.addEventType=ee;for(var j=1,K=arguments.length;j<K;++j)ee(arguments[j]);return T;function ee(he,Te,Oe){if(typeof he!="object"){var Be;Te=Te||Vt;var Xe={subscribers:[],fire:Oe=Oe||Ft,subscribe:function(Ke){Xe.subscribers.indexOf(Ke)===-1&&(Xe.subscribers.push(Ke),Xe.fire=Te(Xe.fire,Ke))},unsubscribe:function(Ke){Xe.subscribers=Xe.subscribers.filter(function(ot){return ot!==Ke}),Xe.fire=Xe.subscribers.reduce(Te,Oe)}};return B[he]=T[he]=Xe}y(Be=he).forEach(function(Ke){var ot=Be[Ke];if(d(ot))ee(Ke,Be[Ke][0],Be[Ke][1]);else{if(ot!=="asap")throw new et.InvalidArgument("Invalid event config");var Je=ee(Ke,st,function(){for(var Ct=arguments.length,R=new Array(Ct);Ct--;)R[Ct]=arguments[Ct];Je.subscribers.forEach(function(P){q(function(){P.apply(null,R)})})})}})}}function Ir(b,T){return k(T).from({prototype:b}),T}function Ti(b,T){return!(b.filter||b.algorithm||b.or)&&(T?b.justLimit:!b.replayFilter)}function jt(b,T){b.filter=Bo(b.filter,T)}function Qe(b,T,B){var j=b.replayFilter;b.replayFilter=j?function(){return Bo(j(),T())}:T,b.justLimit=B&&!j}function Gn(b,T){if(b.isPrimKey)return T.primaryKey;var B=T.getIndexByKeyPath(b.index);if(!B)throw new et.Schema("KeyPath "+b.index+" on object store "+T.name+" is not indexed");return B}function ki(b,T,B){var j=Gn(b,T.schema);return T.openCursor({trans:B,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:j,range:b.range}})}function ma(b,T,B,j){var K=b.replayFilter?Bo(b.filter,b.replayFilter()):b.filter;if(b.or){var ee={},he=function(Te,Oe,Be){var Xe,Ke;K&&!K(Oe,Be,function(ot){return Oe.stop(ot)},function(ot){return Oe.fail(ot)})||((Ke=""+(Xe=Oe.primaryKey))=="[object ArrayBuffer]"&&(Ke=""+new Uint8Array(Xe)),f(ee,Ke)||(ee[Ke]=!0,T(Te,Oe,Be)))};return Promise.all([b.or._iterate(he,B),rt(ki(b,j,B),b.algorithm,he,!b.keysOnly&&b.valueMapper)])}return rt(ki(b,j,B),Bo(b.algorithm,K),T,!b.keysOnly&&b.valueMapper)}function rt(b,T,B,j){var K=Jn(j?function(ee,he,Te){return B(j(ee),he,Te)}:B);return b.then(function(ee){if(ee)return ee.start(function(){var he=function(){return ee.continue()};T&&!T(ee,function(Te){return he=Te},function(Te){ee.stop(Te),he=Ft},function(Te){ee.fail(Te),he=Ft})||K(ee.value,ee,function(Te){return he=Te}),he()})})}var Gt=(It.prototype._read=function(b,T){var B=this._ctx;return B.error?B.table._trans(null,or.bind(null,B.error)):B.table._trans("readonly",b).then(T)},It.prototype._write=function(b){var T=this._ctx;return T.error?T.table._trans(null,or.bind(null,T.error)):T.table._trans("readwrite",b,"locked")},It.prototype._addAlgorithm=function(b){var T=this._ctx;T.algorithm=Bo(T.algorithm,b)},It.prototype._iterate=function(b,T){return ma(this._ctx,b,T,this._ctx.table.core)},It.prototype.clone=function(b){var T=Object.create(this.constructor.prototype),B=Object.create(this._ctx);return b&&a(B,b),T._ctx=B,T},It.prototype.raw=function(){return this._ctx.valueMapper=null,this},It.prototype.each=function(b){var T=this._ctx;return this._read(function(B){return ma(T,b,B,T.table.core)})},It.prototype.count=function(b){var T=this;return this._read(function(B){var j=T._ctx,K=j.table.core;if(Ti(j,!0))return K.count({trans:B,query:{index:Gn(j,K.schema),range:j.range}}).then(function(he){return Math.min(he,j.limit)});var ee=0;return ma(j,function(){return++ee,!1},B,K).then(function(){return ee})}).then(b)},It.prototype.sortBy=function(b,T){var B=b.split(".").reverse(),j=B[0],K=B.length-1;function ee(Oe,Be){return Be?ee(Oe[B[Be]],Be-1):Oe[j]}var he=this._ctx.dir==="next"?1:-1;function Te(Oe,Be){return Or(ee(Oe,K),ee(Be,K))*he}return this.toArray(function(Oe){return Oe.sort(Te)}).then(T)},It.prototype.toArray=function(b){var T=this;return this._read(function(B){var j=T._ctx;if(j.dir==="next"&&Ti(j,!0)&&0<j.limit){var K=j.valueMapper,ee=Gn(j,j.table.core.schema);return j.table.core.query({trans:B,limit:j.limit,values:!0,query:{index:ee,range:j.range}}).then(function(Te){return Te=Te.result,K?Te.map(K):Te})}var he=[];return ma(j,function(Te){return he.push(Te)},B,j.table.core).then(function(){return he})},b)},It.prototype.offset=function(b){var T=this._ctx;return b<=0||(T.offset+=b,Ti(T)?Qe(T,function(){var B=b;return function(j,K){return B===0||(B===1?--B:K(function(){j.advance(B),B=0}),!1)}}):Qe(T,function(){var B=b;return function(){return--B<0}})),this},It.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),Qe(this._ctx,function(){var T=b;return function(B,j,K){return--T<=0&&j(K),0<=T}},!0),this},It.prototype.until=function(b,T){return jt(this._ctx,function(B,j,K){return!b(B.value)||(j(K),T)}),this},It.prototype.first=function(b){return this.limit(1).toArray(function(T){return T[0]}).then(b)},It.prototype.last=function(b){return this.reverse().first(b)},It.prototype.filter=function(b){var T;return jt(this._ctx,function(B){return b(B.value)}),(T=this._ctx).isMatch=Bo(T.isMatch,b),this},It.prototype.and=function(b){return this.filter(b)},It.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},It.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},It.prototype.desc=function(){return this.reverse()},It.prototype.eachKey=function(b){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(B,j){b(j.key,j)})},It.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},It.prototype.eachPrimaryKey=function(b){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(B,j){b(j.primaryKey,j)})},It.prototype.keys=function(b){var T=this._ctx;T.keysOnly=!T.isMatch;var B=[];return this.each(function(j,K){B.push(K.key)}).then(function(){return B}).then(b)},It.prototype.primaryKeys=function(b){var T=this._ctx;if(T.dir==="next"&&Ti(T,!0)&&0<T.limit)return this._read(function(j){var K=Gn(T,T.table.core.schema);return T.table.core.query({trans:j,values:!1,limit:T.limit,query:{index:K,range:T.range}})}).then(function(j){return j.result}).then(b);T.keysOnly=!T.isMatch;var B=[];return this.each(function(j,K){B.push(K.primaryKey)}).then(function(){return B}).then(b)},It.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},It.prototype.firstKey=function(b){return this.limit(1).keys(function(T){return T[0]}).then(b)},It.prototype.lastKey=function(b){return this.reverse().firstKey(b)},It.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var T={};return jt(this._ctx,function(K){var j=K.primaryKey.toString(),K=f(T,j);return T[j]=!0,!K}),this},It.prototype.modify=function(b){var T=this,B=this._ctx;return this._write(function(j){var K=typeof b=="function"?b:function(R){return Ai(R,b)},ee=B.table.core,Be=ee.schema.primaryKey,he=Be.outbound,Te=Be.extractKey,Oe=200,Be=T.db._options.modifyChunkSize;Be&&(Oe=typeof Be=="object"?Be[ee.name]||Be["*"]||200:Be);function Xe(R,$){var Y=$.failures,$=$.numFailures;ot+=R-$;for(var oe=0,ke=y(Y);oe<ke.length;oe++){var ze=ke[oe];Ke.push(Y[ze])}}var Ke=[],ot=0,Je=[],Ct=b===nn;return T.clone().primaryKeys().then(function(R){function P($){var oe=Math.min(Oe,R.length-$),ke=R.slice($,$+oe);return(Ct?Promise.resolve([]):ee.getMany({trans:j,keys:ke,cache:"immutable"})).then(function(ze){var vt=[],nt=[],bt=he?[]:null,Rt=Ct?ke:[];if(!Ct)for(var kt=0;kt<oe;++kt){var Zt=ze[kt],dn={value:mt(Zt),primKey:R[$+kt]};K.call(dn,dn.value,dn)!==!1&&(dn.value==null?Rt.push(R[$+kt]):he||Or(Te(Zt),Te(dn.value))===0?(nt.push(dn.value),he&&bt.push(R[$+kt])):(Rt.push(R[$+kt]),vt.push(dn.value)))}return Promise.resolve(0<vt.length&&ee.mutate({trans:j,type:"add",values:vt}).then(function(Nn){for(var In in Nn.failures)Rt.splice(parseInt(In),1);Xe(vt.length,Nn)})).then(function(){return(0<nt.length||Y&&typeof b=="object")&&ee.mutate({trans:j,type:"put",keys:bt,values:nt,criteria:Y,changeSpec:typeof b!="function"&&b,isAdditionalChunk:0<$}).then(function(Nn){return Xe(nt.length,Nn)})}).then(function(){return(0<Rt.length||Y&&Ct)&&ee.mutate({trans:j,type:"delete",keys:Rt,criteria:Y,isAdditionalChunk:0<$}).then(function(Nn){return On(B.table,Rt,Nn)}).then(function(Nn){return Xe(Rt.length,Nn)})}).then(function(){return R.length>$+oe&&P($+Oe)})})}var Y=Ti(B)&&B.limit===1/0&&(typeof b!="function"||Ct)&&{index:B.index,range:B.range};return P(0).then(function(){if(0<Ke.length)throw new Ae("Error modifying one or more objects",Ke,ot,Je);return R.length})})})},It.prototype.delete=function(){var b=this._ctx,T=b.range;return!Ti(b)||b.table.schema.yProps||!b.isPrimKey&&T.type!==3?this.modify(nn):this._write(function(B){var j=b.table.core.schema.primaryKey,K=T;return b.table.core.count({trans:B,query:{index:j,range:K}}).then(function(ee){return b.table.core.mutate({trans:B,type:"deleteRange",range:K}).then(function(Oe){var Te=Oe.failures,Oe=Oe.numFailures;if(Oe)throw new Ae("Could not delete some values",Object.keys(Te).map(function(Be){return Te[Be]}),ee-Oe);return ee-Oe})})})},It);function It(){}var nn=function(b,T){return T.value=null};function xn(b,T){return b<T?-1:b===T?0:1}function hr(b,T){return T<b?-1:b===T?0:1}function En(b,T,B){return b=b instanceof Ur?new b.Collection(b):b,b._ctx.error=new(B||TypeError)(T),b}function kr(b){return new b.Collection(b,function(){return ei("")}).limit(0)}function $r(b,T,B,j){var K,ee,he,Te,Oe,Be,Xe,Ke=B.length;if(!B.every(function(Ct){return typeof Ct=="string"}))return En(b,Ni);function ot(Ct){K=Ct==="next"?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},ee=Ct==="next"?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},he=Ct==="next"?xn:hr;var R=B.map(function(P){return{lower:ee(P),upper:K(P)}}).sort(function(P,Y){return he(P.lower,Y.lower)});Te=R.map(function(P){return P.upper}),Oe=R.map(function(P){return P.lower}),Xe=(Be=Ct)==="next"?"":j}ot("next"),b=new b.Collection(b,function(){return Rr(Te[0],Oe[Ke-1]+j)}),b._ondirectionchange=function(Ct){ot(Ct)};var Je=0;return b._addAlgorithm(function(Ct,R,P){var Y=Ct.key;if(typeof Y!="string")return!1;var $=ee(Y);if(T($,Oe,Je))return!0;for(var oe=null,ke=Je;ke<Ke;++ke){var ze=(function(vt,nt,bt,Rt,kt,Zt){for(var dn=Math.min(vt.length,Rt.length),Nn=-1,In=0;In<dn;++In){var rr=nt[In];if(rr!==Rt[In])return kt(vt[In],bt[In])<0?vt.substr(0,In)+bt[In]+bt.substr(In+1):kt(vt[In],Rt[In])<0?vt.substr(0,In)+Rt[In]+bt.substr(In+1):0<=Nn?vt.substr(0,Nn)+nt[Nn]+bt.substr(Nn+1):null;kt(vt[In],rr)<0&&(Nn=In)}return dn<Rt.length&&Zt==="next"?vt+bt.substr(vt.length):dn<vt.length&&Zt==="prev"?vt.substr(0,bt.length):Nn<0?null:vt.substr(0,Nn)+Rt[Nn]+bt.substr(Nn+1)})(Y,$,Te[ke],Oe[ke],he,Be);ze===null&&oe===null?Je=ke+1:(oe===null||0<he(oe,ze))&&(oe=ze)}return R(oe!==null?function(){Ct.continue(oe+Xe)}:P),!1}),b}function Rr(b,T,B,j){return{type:2,lower:b,upper:T,lowerOpen:B,upperOpen:j}}function ei(b){return{type:1,lower:b,upper:b}}var Ur=(Object.defineProperty(Jr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Jr.prototype.between=function(b,T,B,j){B=B!==!1,j=j===!0;try{return 0<this._cmp(b,T)||this._cmp(b,T)===0&&(B||j)&&(!B||!j)?kr(this):new this.Collection(this,function(){return Rr(b,T,!B,!j)})}catch{return En(this,bi)}},Jr.prototype.equals=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return ei(b)})},Jr.prototype.above=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(b,void 0,!0)})},Jr.prototype.aboveOrEqual=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(b,void 0,!1)})},Jr.prototype.below=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(void 0,b,!1,!0)})},Jr.prototype.belowOrEqual=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(void 0,b)})},Jr.prototype.startsWith=function(b){return typeof b!="string"?En(this,Ni):this.between(b,b+co,!0,!0)},Jr.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):$r(this,function(T,B){return T.indexOf(B[0])===0},[b],co)},Jr.prototype.equalsIgnoreCase=function(b){return $r(this,function(T,B){return T===B[0]},[b],"")},Jr.prototype.anyOfIgnoreCase=function(){var b=ce.apply(Me,arguments);return b.length===0?kr(this):$r(this,function(T,B){return B.indexOf(T)!==-1},b,"")},Jr.prototype.startsWithAnyOfIgnoreCase=function(){var b=ce.apply(Me,arguments);return b.length===0?kr(this):$r(this,function(T,B){return B.some(function(j){return T.indexOf(j)===0})},b,co)},Jr.prototype.anyOf=function(){var b=this,T=ce.apply(Me,arguments),B=this._cmp;try{T.sort(B)}catch{return En(this,bi)}if(T.length===0)return kr(this);var j=new this.Collection(this,function(){return Rr(T[0],T[T.length-1])});j._ondirectionchange=function(ee){B=ee==="next"?b._ascending:b._descending,T.sort(B)};var K=0;return j._addAlgorithm(function(ee,he,Te){for(var Oe=ee.key;0<B(Oe,T[K]);)if(++K===T.length)return he(Te),!1;return B(Oe,T[K])===0||(he(function(){ee.continue(T[K])}),!1)}),j},Jr.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Jr.prototype.noneOf=function(){var b=ce.apply(Me,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return En(this,bi)}var T=b.reduce(function(B,j){return B?B.concat([[B[B.length-1][1],j]]):[[-1/0,j]]},null);return T.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(T,{includeLowers:!1,includeUppers:!1})},Jr.prototype.inAnyRange=function(Y,T){var B=this,j=this._cmp,K=this._ascending,ee=this._descending,he=this._min,Te=this._max;if(Y.length===0)return kr(this);if(!Y.every(function($){return $[0]!==void 0&&$[1]!==void 0&&K($[0],$[1])<=0}))return En(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",et.InvalidArgument);var Oe=!T||T.includeLowers!==!1,Be=T&&T.includeUppers===!0,Xe,Ke=K;function ot($,oe){return Ke($[0],oe[0])}try{(Xe=Y.reduce(function($,oe){for(var ke=0,ze=$.length;ke<ze;++ke){var vt=$[ke];if(j(oe[0],vt[1])<0&&0<j(oe[1],vt[0])){vt[0]=he(vt[0],oe[0]),vt[1]=Te(vt[1],oe[1]);break}}return ke===ze&&$.push(oe),$},[])).sort(ot)}catch{return En(this,bi)}var Je=0,Ct=Be?function($){return 0<K($,Xe[Je][1])}:function($){return 0<=K($,Xe[Je][1])},R=Oe?function($){return 0<ee($,Xe[Je][0])}:function($){return 0<=ee($,Xe[Je][0])},P=Ct,Y=new this.Collection(this,function(){return Rr(Xe[0][0],Xe[Xe.length-1][1],!Oe,!Be)});return Y._ondirectionchange=function($){Ke=$==="next"?(P=Ct,K):(P=R,ee),Xe.sort(ot)},Y._addAlgorithm(function($,oe,ke){for(var ze,vt=$.key;P(vt);)if(++Je===Xe.length)return oe(ke),!1;return!Ct(ze=vt)&&!R(ze)||(B._cmp(vt,Xe[Je][1])===0||B._cmp(vt,Xe[Je][0])===0||oe(function(){Ke===K?$.continue(Xe[Je][0]):$.continue(Xe[Je][1])}),!1)}),Y},Jr.prototype.startsWithAnyOf=function(){var b=ce.apply(Me,arguments);return b.every(function(T){return typeof T=="string"})?b.length===0?kr(this):this.inAnyRange(b.map(function(T){return[T,T+co]})):En(this,"startsWithAnyOf() only works with strings")},Jr);function Jr(){}function Dr(b){return Jn(function(T){return Vn(T),b(T.target.error),!1})}function Vn(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var ba="storagemutated",tr="x-storagemutated-1",Zr=Zn(null,ba),hi=(Ui.prototype._lock=function(){return W(!Ye.global),++this._reculock,this._reculock!==1||Ye.global||(Ye.lockOwnerFor=this),this},Ui.prototype._unlock=function(){if(W(!Ye.global),--this._reculock==0)for(Ye.global||(Ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{gr(b[1],b[0])}catch{}}return this},Ui.prototype._locked=function(){return this._reculock&&Ye.lockOwnerFor!==this},Ui.prototype.create=function(b){var T=this;if(!this.mode)return this;var B=this.db.idbdb,j=this.db._state.dbOpenError;if(W(!this.idbtrans),!b&&!B)switch(j&&j.name){case"DatabaseClosedError":throw new et.DatabaseClosed(j);case"MissingAPIError":throw new et.MissingAPI(j.message,j);default:throw new et.OpenFailed(j)}if(!this.active)throw new et.TransactionInactive;return W(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||B).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Jn(function(K){Vn(K),T._reject(b.error)}),b.onabort=Jn(function(K){Vn(K),T.active&&T._reject(new et.Abort(b.error)),T.active=!1,T.on("abort").fire(K)}),b.oncomplete=Jn(function(){T.active=!1,T._resolve(),"mutatedParts"in b&&Zr.storagemutated.fire(b.mutatedParts)}),this},Ui.prototype._promise=function(b,T,B){var j=this;if(b==="readwrite"&&this.mode!=="readwrite")return or(new et.ReadOnly("Transaction is readonly"));if(!this.active)return or(new et.TransactionInactive);if(this._locked())return new Pt(function(ee,he){j._blockedFuncs.push([function(){j._promise(b,T,B).then(ee,he)},Ye])});if(B)return Pr(function(){var ee=new Pt(function(he,Te){j._lock();var Oe=T(he,Te,j);Oe&&Oe.then&&Oe.then(he,Te)});return ee.finally(function(){return j._unlock()}),ee._lib=!0,ee});var K=new Pt(function(ee,he){var Te=T(ee,he,j);Te&&Te.then&&Te.then(ee,he)});return K._lib=!0,K},Ui.prototype._root=function(){return this.parent?this.parent._root():this},Ui.prototype.waitFor=function(b){var T,B=this._root(),j=Pt.resolve(b);B._waitingFor?B._waitingFor=B._waitingFor.then(function(){return j}):(B._waitingFor=j,B._waitingQueue=[],T=B.idbtrans.objectStore(B.storeNames[0]),(function ee(){for(++B._spinCount;B._waitingQueue.length;)B._waitingQueue.shift()();B._waitingFor&&(T.get(-1/0).onsuccess=ee)})());var K=B._waitingFor;return new Pt(function(ee,he){j.then(function(Te){return B._waitingQueue.push(Jn(ee.bind(null,Te)))},function(Te){return B._waitingQueue.push(Jn(he.bind(null,Te)))}).finally(function(){B._waitingFor===K&&(B._waitingFor=null)})})},Ui.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new et.Abort))},Ui.prototype.table=function(b){var T=this._memoizedTables||(this._memoizedTables={});if(f(T,b))return T[b];var B=this.schema[b];if(!B)throw new et.NotFound("Table "+b+" not part of transaction");return B=new this.db.Table(b,B,this),B.core=this.db.core.table(b),T[b]=B},Ui);function Ui(){}function wo(b,T,B,j,K,ee,he,Te){return{name:b,keyPath:T,unique:B,multi:j,auto:K,compound:ee,src:(B&&!he?"&":"")+(j?"*":"")+(K?"++":"")+Fo(T),type:Te}}function Fo(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function As(b,T,B){return{name:b,primKey:T,indexes:B,mappedClass:null,idxByName:(j=function(K){return[K.name,K]},B.reduce(function(K,ee,he){return he=j(ee,he),he&&(K[he[0]]=he[1]),K},{}))};var j}var Co=function(b){try{return b.only([[]]),Co=function(){return[[]]},[[]]}catch{return Co=function(){return co},co}};function ho(b){return b==null?function(){}:typeof b=="string"?(T=b).split(".").length===1?function(B){return B[T]}:function(B){return J(B,T)}:function(B){return J(B,b)};var T}function io(b){return[].slice.call(b)}var us=0;function Qi(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function Ma(b,T,Oe){function j(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Je=P.lower,Ct=P.upper,R=P.lowerOpen,P=P.upperOpen;return Je===void 0?Ct===void 0?null:T.upperBound(Ct,!!P):Ct===void 0?T.lowerBound(Je,!!R):T.bound(Je,Ct,!!R,!!P)}function K(ot){var Je,Ct=ot.name;return{name:Ct,schema:ot,mutate:function(R){var P=R.trans,Y=R.type,$=R.keys,oe=R.values,ke=R.range;return new Promise(function(ze,vt){ze=Jn(ze);var nt=P.objectStore(Ct),bt=nt.keyPath==null,Rt=Y==="put"||Y==="add";if(!Rt&&Y!=="delete"&&Y!=="deleteRange")throw new Error("Invalid operation type: "+Y);var kt,Zt=($||oe||{length:1}).length;if($&&oe&&$.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(Zt===0)return ze({numFailures:0,failures:{},results:[],lastResult:void 0});function dn(wr){++rr,Vn(wr)}var Nn=[],In=[],rr=0;if(Y==="deleteRange"){if(ke.type===4)return ze({numFailures:rr,failures:In,results:[],lastResult:void 0});ke.type===3?Nn.push(kt=nt.clear()):Nn.push(kt=nt.delete(j(ke)))}else{var bt=Rt?bt?[oe,$]:[oe,null]:[$,null],Rn=bt[0],sr=bt[1];if(Rt)for(var _r=0;_r<Zt;++_r)Nn.push(kt=sr&&sr[_r]!==void 0?nt[Y](Rn[_r],sr[_r]):nt[Y](Rn[_r])),kt.onerror=dn;else for(_r=0;_r<Zt;++_r)Nn.push(kt=nt[Y](Rn[_r])),kt.onerror=dn}function ta(wr){wr=wr.target.result,Nn.forEach(function(jr,ui){return jr.error!=null&&(In[ui]=jr.error)}),ze({numFailures:rr,failures:In,results:Y==="delete"?$:Nn.map(function(jr){return jr.result}),lastResult:wr})}kt.onerror=function(wr){dn(wr),ta(wr)},kt.onsuccess=ta})},getMany:function(R){var P=R.trans,Y=R.keys;return new Promise(function($,oe){$=Jn($);for(var ke,ze=P.objectStore(Ct),vt=Y.length,nt=new Array(vt),bt=0,Rt=0,kt=function(Nn){Nn=Nn.target,nt[Nn._pos]=Nn.result,++Rt===bt&&$(nt)},Zt=Dr(oe),dn=0;dn<vt;++dn)Y[dn]!=null&&((ke=ze.get(Y[dn]))._pos=dn,ke.onsuccess=kt,ke.onerror=Zt,++bt);bt===0&&$(nt)})},get:function(R){var P=R.trans,Y=R.key;return new Promise(function($,oe){$=Jn($);var ke=P.objectStore(Ct).get(Y);ke.onsuccess=function(ze){return $(ze.target.result)},ke.onerror=Dr(oe)})},query:(Je=Be,function(R){return new Promise(function(P,Y){P=Jn(P);var $,oe,ke,bt=R.trans,ze=R.values,vt=R.limit,kt=R.query,nt=vt===1/0?void 0:vt,Rt=kt.index,kt=kt.range,bt=bt.objectStore(Ct),Rt=Rt.isPrimaryKey?bt:bt.index(Rt.name),kt=j(kt);if(vt===0)return P({result:[]});Je?((nt=ze?Rt.getAll(kt,nt):Rt.getAllKeys(kt,nt)).onsuccess=function(Zt){return P({result:Zt.target.result})},nt.onerror=Dr(Y)):($=0,oe=!ze&&"openKeyCursor"in Rt?Rt.openKeyCursor(kt):Rt.openCursor(kt),ke=[],oe.onsuccess=function(Zt){var dn=oe.result;return dn?(ke.push(ze?dn.value:dn.primaryKey),++$===vt?P({result:ke}):void dn.continue()):P({result:ke})},oe.onerror=Dr(Y))})}),openCursor:function(R){var P=R.trans,Y=R.values,$=R.query,oe=R.reverse,ke=R.unique;return new Promise(function(ze,vt){ze=Jn(ze);var Rt=$.index,nt=$.range,bt=P.objectStore(Ct),bt=Rt.isPrimaryKey?bt:bt.index(Rt.name),Rt=oe?ke?"prevunique":"prev":ke?"nextunique":"next",kt=!Y&&"openKeyCursor"in bt?bt.openKeyCursor(j(nt),Rt):bt.openCursor(j(nt),Rt);kt.onerror=Dr(vt),kt.onsuccess=Jn(function(Zt){var dn,Nn,In,rr,Rn=kt.result;Rn?(Rn.___id=++us,Rn.done=!1,dn=Rn.continue.bind(Rn),Nn=(Nn=Rn.continuePrimaryKey)&&Nn.bind(Rn),In=Rn.advance.bind(Rn),rr=function(){throw new Error("Cursor not stopped")},Rn.trans=P,Rn.stop=Rn.continue=Rn.continuePrimaryKey=Rn.advance=function(){throw new Error("Cursor not started")},Rn.fail=Jn(vt),Rn.next=function(){var sr=this,_r=1;return this.start(function(){return _r--?sr.continue():sr.stop()}).then(function(){return sr})},Rn.start=function(sr){function _r(){if(kt.result)try{sr()}catch(wr){Rn.fail(wr)}else Rn.done=!0,Rn.start=function(){throw new Error("Cursor behind last entry")},Rn.stop()}var ta=new Promise(function(wr,jr){wr=Jn(wr),kt.onerror=Dr(jr),Rn.fail=jr,Rn.stop=function(ui){Rn.stop=Rn.continue=Rn.continuePrimaryKey=Rn.advance=rr,wr(ui)}});return kt.onsuccess=Jn(function(wr){kt.onsuccess=_r,_r()}),Rn.continue=dn,Rn.continuePrimaryKey=Nn,Rn.advance=In,_r(),ta},ze(Rn)):ze(null)},vt)})},count:function(R){var P=R.query,Y=R.trans,$=P.index,oe=P.range;return new Promise(function(ke,ze){var vt=Y.objectStore(Ct),nt=$.isPrimaryKey?vt:vt.index($.name),vt=j(oe),nt=vt?nt.count(vt):nt.count();nt.onsuccess=Jn(function(bt){return ke(bt.target.result)}),nt.onerror=Dr(ze)})}}}var ee,he,Te,Xe=(he=Oe,Te=io((ee=b).objectStoreNames),{schema:{name:ee.name,tables:Te.map(function(ot){return he.objectStore(ot)}).map(function(ot){var Je=ot.keyPath,P=ot.autoIncrement,Ct=d(Je),R={},P={name:ot.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Je==null,compound:Ct,keyPath:Je,autoIncrement:P,unique:!0,extractKey:ho(Je)},indexes:io(ot.indexNames).map(function(Y){return ot.index(Y)}).map(function(ke){var $=ke.name,oe=ke.unique,ze=ke.multiEntry,ke=ke.keyPath,ze={name:$,compound:d(ke),keyPath:ke,unique:oe,multiEntry:ze,extractKey:ho(ke)};return R[Qi(ke)]=ze}),getIndexByKeyPath:function(Y){return R[Qi(Y)]}};return R[":id"]=P.primaryKey,Je!=null&&(R[Qi(Je)]=P.primaryKey),P})},hasGetAll:0<Te.length&&"getAll"in he.objectStore(Te[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Oe=Xe.schema,Be=Xe.hasGetAll,Xe=Oe.tables.map(K),Ke={};return Xe.forEach(function(ot){return Ke[ot.name]=ot}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(ot){if(!Ke[ot])throw new Error("Table '".concat(ot,"' not found"));return Ke[ot]},MIN_KEY:-1/0,MAX_KEY:Co(T),schema:Oe}}function Aa(b,T,B,j){var K=B.IDBKeyRange;return B.indexedDB,{dbcore:(j=Ma(T,K,j),b.dbcore.reduce(function(ee,he){return he=he.create,r(r({},ee),he(ee))},j))}}function Ts(b,j){var B=j.db,j=Aa(b._middlewares,B,b._deps,j);b.core=j.dbcore,b.tables.forEach(function(K){var ee=K.name;b.core.schema.tables.some(function(he){return he.name===ee})&&(K.core=b.core.table(ee),b[ee]instanceof b.Table&&(b[ee].core=K.core))})}function ks(b,T,B,j){B.forEach(function(K){var ee=j[K];T.forEach(function(he){var Te=(function Oe(Be,Xe){return S(Be,Xe)||(Be=c(Be))&&Oe(Be,Xe)})(he,K);(!Te||"value"in Te&&Te.value===void 0)&&(he===b.Transaction.prototype||he instanceof b.Transaction?C(he,K,{get:function(){return this.table(K)},set:function(Oe){m(this,K,{value:Oe,writable:!0,configurable:!0,enumerable:!0})}}):he[K]=new b.Table(K,ee))})})}function Oa(b,T){T.forEach(function(B){for(var j in B)B[j]instanceof b.Table&&delete B[j]})}function yu(b,T){return b._cfg.version-T._cfg.version}function jl(b,T,B,j){var K=b._dbSchema;B.objectStoreNames.contains("$meta")&&!K.$meta&&(K.$meta=As("$meta",Nr("")[0],[]),b._storeNames.push("$meta"));var ee=b._createTransaction("readwrite",b._storeNames,K);ee.create(B),ee._completion.catch(j);var he=ee._reject.bind(ee),Te=Ye.transless||Ye;Pr(function(){return Ye.trans=ee,Ye.transless=Te,T!==0?(Ts(b,B),Be=T,((Oe=ee).storeNames.includes("$meta")?Oe.table("$meta").get("version").then(function(Xe){return Xe??Be}):Pt.resolve(Be)).then(function(Xe){return ot=Xe,Je=ee,Ct=B,R=[],Xe=(Ke=b)._versions,P=Ke._dbSchema=_s(0,Ke.idbdb,Ct),(Xe=Xe.filter(function(Y){return Y._cfg.version>=ot})).length!==0?(Xe.forEach(function(Y){R.push(function(){var $=P,oe=Y._cfg.dbschema;Jt(Ke,$,Ct),Jt(Ke,oe,Ct),P=Ke._dbSchema=oe;var ke=gi($,oe);ke.add.forEach(function(Rt){Ds(Ct,Rt[0],Rt[1].primKey,Rt[1].indexes)}),ke.change.forEach(function(Rt){if(Rt.recreate)throw new et.Upgrade("Not yet support for changing primary key");var kt=Ct.objectStore(Rt.name);Rt.add.forEach(function(Zt){return Pa(kt,Zt)}),Rt.change.forEach(function(Zt){kt.deleteIndex(Zt.name),Pa(kt,Zt)}),Rt.del.forEach(function(Zt){return kt.deleteIndex(Zt)})});var ze=Y._cfg.contentUpgrade;if(ze&&Y._cfg.version>ot){Ts(Ke,Ct),Je._memoizedTables={};var vt=ve(oe);ke.del.forEach(function(Rt){vt[Rt]=$[Rt]}),Oa(Ke,[Ke.Transaction.prototype]),ks(Ke,[Ke.Transaction.prototype],y(vt),vt),Je.schema=vt;var nt,bt=le(ze);return bt&&ar(),ke=Pt.follow(function(){var Rt;(nt=ze(Je))&&bt&&(Rt=fi.bind(null,null),nt.then(Rt,Rt))}),nt&&typeof nt.then=="function"?Pt.resolve(nt):ke.then(function(){return nt})}}),R.push(function($){var oe,ke,ze=Y._cfg.dbschema;oe=ze,ke=$,[].slice.call(ke.db.objectStoreNames).forEach(function(vt){return oe[vt]==null&&ke.db.deleteObjectStore(vt)}),Oa(Ke,[Ke.Transaction.prototype]),ks(Ke,[Ke.Transaction.prototype],Ke._storeNames,Ke._dbSchema),Je.schema=Ke._dbSchema}),R.push(function($){Ke.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ke.idbdb.version/10)===Y._cfg.version?(Ke.idbdb.deleteObjectStore("$meta"),delete Ke._dbSchema.$meta,Ke._storeNames=Ke._storeNames.filter(function(oe){return oe!=="$meta"})):$.objectStore("$meta").put(Y._cfg.version,"version"))})}),(function Y(){return R.length?Pt.resolve(R.shift()(Je.idbtrans)).then(Y):Pt.resolve()})().then(function(){_l(P,Ct)})):Pt.resolve();var Ke,ot,Je,Ct,R,P}).catch(he)):(y(K).forEach(function(Xe){Ds(B,Xe,K[Xe].primKey,K[Xe].indexes)}),Ts(b,B),void Pt.follow(function(){return b.on.populate.fire(ee)}).catch(he));var Oe,Be})}function Dl(b,T){_l(b._dbSchema,T),T.db.version%10!=0||T.objectStoreNames.contains("$meta")||T.db.createObjectStore("$meta").add(Math.ceil(T.db.version/10-1),"version");var B=_s(0,b.idbdb,T);Jt(b,b._dbSchema,T);for(var j=0,K=gi(B,b._dbSchema).change;j<K.length;j++){var ee=(function(he){if(he.change.length||he.recreate)return console.warn("Unable to patch indexes of table ".concat(he.name," because it has changes on the type of index or primary key.")),{value:void 0};var Te=T.objectStore(he.name);he.add.forEach(function(Oe){Xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(he.name,".").concat(Oe.src)),Pa(Te,Oe)})})(K[j]);if(typeof ee=="object")return ee.value}}function gi(b,T){var B,j={del:[],add:[],change:[]};for(B in b)T[B]||j.del.push(B);for(B in T){var K=b[B],ee=T[B];if(K){var he={name:B,def:ee,recreate:!1,del:[],add:[],change:[]};if(""+(K.primKey.keyPath||"")!=""+(ee.primKey.keyPath||"")||K.primKey.auto!==ee.primKey.auto)he.recreate=!0,j.change.push(he);else{var Te=K.idxByName,Oe=ee.idxByName,Be=void 0;for(Be in Te)Oe[Be]||he.del.push(Be);for(Be in Oe){var Xe=Te[Be],Ke=Oe[Be];Xe?Xe.src!==Ke.src&&he.change.push(Ke):he.add.push(Ke)}(0<he.del.length||0<he.add.length||0<he.change.length)&&j.change.push(he)}}else j.add.push([B,ee])}return j}function Ds(b,T,B,j){var K=b.db.createObjectStore(T,B.keyPath?{keyPath:B.keyPath,autoIncrement:B.auto}:{autoIncrement:B.auto});return j.forEach(function(ee){return Pa(K,ee)}),K}function _l(b,T){y(b).forEach(function(B){T.db.objectStoreNames.contains(B)||(Xt&&console.debug("Dexie: Creating missing table",B),Ds(T,B,b[B].primKey,b[B].indexes))})}function Pa(b,T){b.createIndex(T.name,T.keyPath,{unique:T.unique,multiEntry:T.multi})}function _s(b,T,B){var j={};return N(T.objectStoreNames,0).forEach(function(K){for(var ee=B.objectStore(K),he=wo(Fo(Be=ee.keyPath),Be||"",!0,!1,!!ee.autoIncrement,Be&&typeof Be!="string",!0),Te=[],Oe=0;Oe<ee.indexNames.length;++Oe){var Xe=ee.index(ee.indexNames[Oe]),Be=Xe.keyPath,Xe=wo(Xe.name,Be,!!Xe.unique,!!Xe.multiEntry,!1,Be&&typeof Be!="string",!1);Te.push(Xe)}j[K]=As(K,he,Te)}),j}function Jt(b,T,B){for(var j=B.db.objectStoreNames,K=0;K<j.length;++K){var ee=j[K],he=B.objectStore(ee);b._hasGetAll="getAll"in he;for(var Te=0;Te<he.indexNames.length;++Te){var Oe=he.indexNames[Te],Be=he.index(Oe).keyPath,Xe=typeof Be=="string"?Be:"["+N(Be).join("+")+"]";!T[ee]||(Be=T[ee].idxByName[Xe])&&(Be.name=Oe,delete T[ee].idxByName[Xe],T[ee].idxByName[Oe]=Be)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function Nr(b){return b.split(",").map(function(T,B){var ee=T.split(":"),j=(K=ee[1])===null||K===void 0?void 0:K.trim(),K=(T=ee[0].trim()).replace(/([&*]|\+\+)/g,""),ee=/^\[/.test(K)?K.match(/^\[(.*)\]$/)[1].split("+"):K;return wo(K,ee||null,/\&/.test(T),/\*/.test(T),/\+\+/.test(T),d(ee),B===0,j)})}var Ka=(cs.prototype._createTableSchema=As,cs.prototype._parseIndexSyntax=Nr,cs.prototype._parseStoresSpec=function(b,T){var B=this;y(b).forEach(function(j){if(b[j]!==null){var K=B._parseIndexSyntax(b[j]),ee=K.shift();if(!ee)throw new et.Schema("Invalid schema for table "+j+": "+b[j]);if(ee.unique=!0,ee.multi)throw new et.Schema("Primary key cannot be multiEntry*");K.forEach(function(he){if(he.auto)throw new et.Schema("Only primary key can be marked as autoIncrement (++)");if(!he.keyPath)throw new et.Schema("Index must have a name and cannot be an empty string")}),K=B._createTableSchema(j,ee,K),T[j]=K}})},cs.prototype.stores=function(B){var T=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,B):B;var B=T._versions,j={},K={};return B.forEach(function(ee){a(j,ee._cfg.storesSource),K=ee._cfg.dbschema={},ee._parseStoresSpec(j,K)}),T._dbSchema=K,Oa(T,[T._allTables,T,T.Transaction.prototype]),ks(T,[T._allTables,T,T.Transaction.prototype,this._cfg.tables],y(K),K),T._storeNames=y(K),this},cs.prototype.upgrade=function(b){return this._cfg.contentUpgrade=un(this._cfg.contentUpgrade||Ft,b),this},cs);function cs(){}function xu(b,T){var B=b._dbNamesDB;return B||(B=b._dbNamesDB=new ji(wi,{addons:[],indexedDB:b,IDBKeyRange:T})).version(1).stores({dbnames:"name"}),B.table("dbnames")}function Wl(b){return b&&typeof b.databases=="function"}function ru(b){return Pr(function(){return Ye.letThrough=!0,b()})}function Zs(b){return!("from"in b)}var Ia=function(b,T){if(!this){var B=new Ia;return b&&"d"in b&&a(B,b),B}a(this,arguments.length?{d:1,from:b,to:1<arguments.length?T:b}:{d:0})};function Ji(b,T,B){var j=Or(T,B);if(!isNaN(j)){if(0<j)throw RangeError();if(Zs(b))return a(b,{from:T,to:B,d:1});var K=b.l,j=b.r;if(Or(B,b.from)<0)return K?Ji(K,T,B):b.l={from:T,to:B,d:1,l:null,r:null},gl(b);if(0<Or(T,b.to))return j?Ji(j,T,B):b.r={from:T,to:B,d:1,l:null,r:null},gl(b);Or(T,b.from)<0&&(b.from=T,b.l=null,b.d=j?j.d+1:1),0<Or(B,b.to)&&(b.to=B,b.r=null,b.d=b.l?b.l.d+1:1),B=!b.r,K&&!b.l&&Fs(b,K),j&&B&&Fs(b,j)}}function Fs(b,T){Zs(T)||(function B(j,Oe){var ee=Oe.from,he=Oe.to,Te=Oe.l,Oe=Oe.r;Ji(j,ee,he),Te&&B(j,Te),Oe&&B(j,Oe)})(b,T)}function Li(b,T){var B=dl(T),j=B.next();if(j.done)return!1;for(var K=j.value,ee=dl(b),he=ee.next(K.from),Te=he.value;!j.done&&!he.done;){if(Or(Te.from,K.to)<=0&&0<=Or(Te.to,K.from))return!0;Or(K.from,Te.from)<0?K=(j=B.next(Te.from)).value:Te=(he=ee.next(K.from)).value}return!1}function dl(b){var T=Zs(b)?null:{s:0,n:b};return{next:function(B){for(var j=0<arguments.length;T;)switch(T.s){case 0:if(T.s=1,j)for(;T.n.l&&Or(B,T.n.from)<0;)T={up:T,n:T.n.l,s:1};else for(;T.n.l;)T={up:T,n:T.n.l,s:1};case 1:if(T.s=2,!j||Or(B,T.n.to)<=0)return{value:T.n,done:!1};case 2:if(T.n.r){T.s=3,T={up:T,n:T.n.r,s:0};continue}case 3:T=T.up}return{done:!0}}}}function gl(b){var T,B,j=(((T=b.r)===null||T===void 0?void 0:T.d)||0)-(((B=b.l)===null||B===void 0?void 0:B.d)||0),K=1<j?"r":j<-1?"l":"";K&&(T=K=="r"?"l":"r",B=r({},b),j=b[K],b.from=j.from,b.to=j.to,b[K]=j[K],B[K]=j[T],(b[T]=B).d=Di(B)),b.d=Di(b)}function Di(B){var T=B.r,B=B.l;return(T?B?Math.max(T.d,B.d):T.d:B?B.d:0)+1}function jn(b,T){return y(T).forEach(function(B){b[B]?Fs(b[B],T[B]):b[B]=(function j(K){var ee,he,Te={};for(ee in K)f(K,ee)&&(he=K[ee],Te[ee]=!he||typeof he!="object"||Ue.has(he.constructor)?he:j(he));return Te})(T[B])}),b}function Vo(b,T){return b.all||T.all||Object.keys(b).some(function(B){return T[B]&&Li(T[B],b[B])})}g(Ia.prototype,((Er={add:function(b){return Fs(this,b),this},addKey:function(b){return Ji(this,b,b),this},addKeys:function(b){var T=this;return b.forEach(function(B){return Ji(T,B,B)}),this},hasKey:function(b){var T=dl(this).next(b).value;return T&&Or(T.from,b)<=0&&0<=Or(T.to,b)}})[ye]=function(){return dl(this)},Er));var di={},fs={},qs=!1;function Po(b){jn(fs,b),qs||(qs=!0,setTimeout(function(){qs=!1,oi(fs,!(fs={}))},0))}function oi(b,T){T===void 0&&(T=!1);var B=new Set;if(b.all)for(var j=0,K=Object.values(di);j<K.length;j++)pl(he=K[j],b,B,T);else for(var ee in b){var he,Te=/^idb\:\/\/(.*)\/(.*)\//.exec(ee);Te&&(ee=Te[1],Te=Te[2],(he=di["idb://".concat(ee,"/").concat(Te)])&&pl(he,b,B,T))}B.forEach(function(Oe){return Oe()})}function pl(b,T,B,j){for(var K=[],ee=0,he=Object.entries(b.queries.query);ee<he.length;ee++){for(var Te=he[ee],Oe=Te[0],Be=[],Xe=0,Ke=Te[1];Xe<Ke.length;Xe++){var ot=Ke[Xe];Vo(T,ot.obsSet)?ot.subscribers.forEach(function(P){return B.add(P)}):j&&Be.push(ot)}j&&K.push([Oe,Be])}if(j)for(var Je=0,Ct=K;Je<Ct.length;Je++){var R=Ct[Je],Oe=R[0],Be=R[1];b.queries.query[Oe]=Be}}function Ps(b){var T=b._state,B=b._deps.indexedDB;if(T.isBeingOpened||b.idbdb)return T.dbReadyPromise.then(function(){return T.dbOpenError?or(T.dbOpenError):b});T.isBeingOpened=!0,T.dbOpenError=null,T.openComplete=!1;var j=T.openCanceller,K=Math.round(10*b.verno),ee=!1;function he(){if(T.openCanceller!==j)throw new et.DatabaseClosed("db.open() was cancelled")}function Te(){return new Pt(function(ot,Je){if(he(),!B)throw new et.MissingAPI;var Ct=b.name,R=T.autoSchema||!K?B.open(Ct):B.open(Ct,K);if(!R)throw new et.MissingAPI;R.onerror=Dr(Je),R.onblocked=Jn(b._fireOnBlocked),R.onupgradeneeded=Jn(function(P){var Y;Xe=R.transaction,T.autoSchema&&!b._options.allowEmptyDB?(R.onerror=Vn,Xe.abort(),R.result.close(),(Y=B.deleteDatabase(Ct)).onsuccess=Y.onerror=Jn(function(){Je(new et.NoSuchDatabase("Database ".concat(Ct," doesnt exist")))})):(Xe.onerror=Dr(Je),P=P.oldVersion>Math.pow(2,62)?0:P.oldVersion,Ke=P<1,b.idbdb=R.result,ee&&Dl(b,Xe),jl(b,P/10,Xe,Je))},Je),R.onsuccess=Jn(function(){Xe=null;var P,Y,$,oe,ke,ze=b.idbdb=R.result,vt=N(ze.objectStoreNames);if(0<vt.length)try{var nt=ze.transaction((oe=vt).length===1?oe[0]:oe,"readonly");if(T.autoSchema)Y=ze,$=nt,(P=b).verno=Y.version/10,$=P._dbSchema=_s(0,Y,$),P._storeNames=N(Y.objectStoreNames,0),ks(P,[P._allTables],y($),$);else if(Jt(b,b._dbSchema,nt),((ke=gi(_s(0,(ke=b).idbdb,nt),ke._dbSchema)).add.length||ke.change.some(function(bt){return bt.add.length||bt.change.length}))&&!ee)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ze.close(),K=ze.version+1,ee=!0,ot(Te());Ts(b,nt)}catch{}hn.push(b),ze.onversionchange=Jn(function(bt){T.vcFired=!0,b.on("versionchange").fire(bt)}),ze.onclose=Jn(function(){b.close({disableAutoOpen:!1})}),Ke&&(ke=b._deps,nt=Ct,ze=ke.indexedDB,ke=ke.IDBKeyRange,Wl(ze)||nt===wi||xu(ze,ke).put({name:nt}).catch(Ft)),ot()},Je)}).catch(function(ot){switch(ot?.name){case"UnknownError":if(0<T.PR1398_maxLoop)return T.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Te();break;case"VersionError":if(0<K)return K=0,Te()}return Pt.reject(ot)})}var Oe,Be=T.dbReadyResolve,Xe=null,Ke=!1;return Pt.race([j,(typeof navigator>"u"?Pt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ot){function Je(){return indexedDB.databases().finally(ot)}Oe=setInterval(Je,100),Je()}).finally(function(){return clearInterval(Oe)}):Promise.resolve()).then(Te)]).then(function(){return he(),T.onReadyBeingFired=[],Pt.resolve(ru(function(){return b.on.ready.fire(b.vip)})).then(function ot(){if(0<T.onReadyBeingFired.length){var Je=T.onReadyBeingFired.reduce(un,Ft);return T.onReadyBeingFired=[],Pt.resolve(ru(function(){return Je(b.vip)})).then(ot)}})}).finally(function(){T.openCanceller===j&&(T.onReadyBeingFired=null,T.isBeingOpened=!1)}).catch(function(ot){T.dbOpenError=ot;try{Xe&&Xe.abort()}catch{}return j===T.openCanceller&&b._close(),or(ot)}).finally(function(){T.openComplete=!0,Be()}).then(function(){var ot;return Ke&&(ot={},b.tables.forEach(function(Je){Je.schema.indexes.forEach(function(Ct){Ct.name&&(ot["idb://".concat(b.name,"/").concat(Je.name,"/").concat(Ct.name)]=new Ia(-1/0,[[[]]]))}),ot["idb://".concat(b.name,"/").concat(Je.name,"/")]=ot["idb://".concat(b.name,"/").concat(Je.name,"/:dels")]=new Ia(-1/0,[[[]]])}),Zr(ba).fire(ot),oi(ot,!0)),b})}function $i(b){function T(ee){return b.next(ee)}var B=K(T),j=K(function(ee){return b.throw(ee)});function K(ee){return function(Oe){var Te=ee(Oe),Oe=Te.value;return Te.done?Oe:Oe&&typeof Oe.then=="function"?Oe.then(B,j):d(Oe)?Promise.all(Oe).then(B,j):B(Oe)}}return K(T)()}function zo(b,T,B){for(var j=d(b)?b.slice():[b],K=0;K<B;++K)j.push(T);return j}var Bi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return r(r({},b),{table:function(T){var B=b.table(T),j=B.schema,K={},ee=[];function he(Ke,ot,Je){var Ct=Qi(Ke),R=K[Ct]=K[Ct]||[],P=Ke==null?0:typeof Ke=="string"?1:Ke.length,Y=0<ot,Y=r(r({},Je),{name:Y?"".concat(Ct,"(virtual-from:").concat(Je.name,")"):Je.name,lowLevelIndex:Je,isVirtual:Y,keyTail:ot,keyLength:P,extractKey:ho(Ke),unique:!Y&&Je.unique});return R.push(Y),Y.isPrimaryKey||ee.push(Y),1<P&&he(P===2?Ke[0]:Ke.slice(0,P-1),ot+1,Je),R.sort(function($,oe){return $.keyTail-oe.keyTail}),Y}T=he(j.primaryKey.keyPath,0,j.primaryKey),K[":id"]=[T];for(var Te=0,Oe=j.indexes;Te<Oe.length;Te++){var Be=Oe[Te];he(Be.keyPath,0,Be)}function Xe(Ke){var ot,Je=Ke.query.index;return Je.isVirtual?r(r({},Ke),{query:{index:Je.lowLevelIndex,range:(ot=Ke.query.range,Je=Je.keyTail,{type:ot.type===1?2:ot.type,lower:zo(ot.lower,ot.lowerOpen?b.MAX_KEY:b.MIN_KEY,Je),lowerOpen:!0,upper:zo(ot.upper,ot.upperOpen?b.MIN_KEY:b.MAX_KEY,Je),upperOpen:!0})}}):Ke}return r(r({},B),{schema:r(r({},j),{primaryKey:T,indexes:ee,getIndexByKeyPath:function(Ke){return(Ke=K[Qi(Ke)])&&Ke[0]}}),count:function(Ke){return B.count(Xe(Ke))},query:function(Ke){return B.query(Xe(Ke))},openCursor:function(Ke){var ot=Ke.query.index,Je=ot.keyTail,Ct=ot.isVirtual,R=ot.keyLength;return Ct?B.openCursor(Xe(Ke)).then(function(Y){return Y&&P(Y)}):B.openCursor(Ke);function P(Y){return Object.create(Y,{continue:{value:function($){$!=null?Y.continue(zo($,Ke.reverse?b.MAX_KEY:b.MIN_KEY,Je)):Ke.unique?Y.continue(Y.key.slice(0,R).concat(Ke.reverse?b.MIN_KEY:b.MAX_KEY,Je)):Y.continue()}},continuePrimaryKey:{value:function($,oe){Y.continuePrimaryKey(zo($,b.MAX_KEY,Je),oe)}},primaryKey:{get:function(){return Y.primaryKey}},key:{get:function(){var $=Y.key;return R===1?$[0]:$.slice(0,R)}},value:{get:function(){return Y.value}}})}}})}})}};function Ko(b,T,B,j){return B=B||{},j=j||"",y(b).forEach(function(K){var ee,he,Te;f(T,K)?(ee=b[K],he=T[K],typeof ee=="object"&&typeof he=="object"&&ee&&he?(Te=ge(ee))!==ge(he)?B[j+K]=T[K]:Te==="Object"?Ko(ee,he,B,j+K+"."):ee!==he&&(B[j+K]=T[K]):ee!==he&&(B[j+K]=T[K])):B[j+K]=void 0}),y(T).forEach(function(K){f(b,K)||(B[j+K]=T[K])}),B}function Zo(b,T){return T.type==="delete"?T.keys:T.keys||T.values.map(b.extractKey)}var Qs={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return r(r({},b),{table:function(T){var B=b.table(T),j=B.schema.primaryKey;return r(r({},B),{mutate:function(K){var ee=Ye.trans,he=ee.table(T).hook,Te=he.deleting,Oe=he.creating,Be=he.updating;switch(K.type){case"add":if(Oe.fire===Ft)break;return ee._promise("readwrite",function(){return Xe(K)},!0);case"put":if(Oe.fire===Ft&&Be.fire===Ft)break;return ee._promise("readwrite",function(){return Xe(K)},!0);case"delete":if(Te.fire===Ft)break;return ee._promise("readwrite",function(){return Xe(K)},!0);case"deleteRange":if(Te.fire===Ft)break;return ee._promise("readwrite",function(){return(function Ke(ot,Je,Ct){return B.query({trans:ot,values:!1,query:{index:j,range:Je},limit:Ct}).then(function(R){var P=R.result;return Xe({type:"delete",keys:P,trans:ot}).then(function(Y){return 0<Y.numFailures?Promise.reject(Y.failures[0]):P.length<Ct?{failures:[],numFailures:0,lastResult:void 0}:Ke(ot,r(r({},Je),{lower:P[P.length-1],lowerOpen:!0}),Ct)})})})(K.trans,K.range,1e4)},!0)}return B.mutate(K);function Xe(Ke){var ot,Je,Ct,R=Ye.trans,P=Ke.keys||Zo(j,Ke);if(!P)throw new Error("Keys missing");return(Ke=Ke.type==="add"||Ke.type==="put"?r(r({},Ke),{keys:P}):r({},Ke)).type!=="delete"&&(Ke.values=o([],Ke.values)),Ke.keys&&(Ke.keys=o([],Ke.keys)),ot=B,Ct=P,((Je=Ke).type==="add"?Promise.resolve([]):ot.getMany({trans:Je.trans,keys:Ct,cache:"immutable"})).then(function(Y){var $=P.map(function(oe,ke){var ze,vt,nt,bt=Y[ke],Rt={onerror:null,onsuccess:null};return Ke.type==="delete"?Te.fire.call(Rt,oe,bt,R):Ke.type==="add"||bt===void 0?(ze=Oe.fire.call(Rt,oe,Ke.values[ke],R),oe==null&&ze!=null&&(Ke.keys[ke]=oe=ze,j.outbound||ne(Ke.values[ke],j.keyPath,oe))):(ze=Ko(bt,Ke.values[ke]),(vt=Be.fire.call(Rt,ze,oe,bt,R))&&(nt=Ke.values[ke],Object.keys(vt).forEach(function(kt){f(nt,kt)?nt[kt]=vt[kt]:ne(nt,kt,vt[kt])}))),Rt});return B.mutate(Ke).then(function(oe){for(var ke=oe.failures,ze=oe.results,vt=oe.numFailures,oe=oe.lastResult,nt=0;nt<P.length;++nt){var bt=(ze||P)[nt],Rt=$[nt];bt==null?Rt.onerror&&Rt.onerror(ke[nt]):Rt.onsuccess&&Rt.onsuccess(Ke.type==="put"&&Y[nt]?Ke.values[nt]:bt)}return{failures:ke,results:ze,numFailures:vt,lastResult:oe}}).catch(function(oe){return $.forEach(function(ke){return ke.onerror&&ke.onerror(oe)}),Promise.reject(oe)})})}}})}})}};function bu(b,T,B){try{if(!T||T.keys.length<b.length)return null;for(var j=[],K=0,ee=0;K<T.keys.length&&ee<b.length;++K)Or(T.keys[K],b[ee])===0&&(j.push(B?mt(T.values[K]):T.values[K]),++ee);return j.length===b.length?j:null}catch{return null}}var ml={stack:"dbcore",level:-1,create:function(b){return{table:function(T){var B=b.table(T);return r(r({},B),{getMany:function(j){if(!j.cache)return B.getMany(j);var K=bu(j.keys,j.trans._cache,j.cache==="clone");return K?Pt.resolve(K):B.getMany(j).then(function(ee){return j.trans._cache={keys:j.keys,values:j.cache==="clone"?mt(ee):ee},ee})},mutate:function(j){return j.type!=="add"&&(j.trans._cache=null),B.mutate(j)}})}}}};function Js(b,T){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!T.schema.primaryKey.outbound}function qo(b,T){switch(b){case"query":return T.values&&!T.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ml={stack:"dbcore",level:0,name:"Observability",create:function(b){var T=b.schema.name,B=new Ia(b.MIN_KEY,b.MAX_KEY);return r(r({},b),{transaction:function(j,K,ee){if(Ye.subscr&&K!=="readonly")throw new et.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ye.querier));return b.transaction(j,K,ee)},table:function(j){var K=b.table(j),ee=K.schema,he=ee.primaryKey,Ke=ee.indexes,Te=he.extractKey,Oe=he.outbound,Be=he.autoIncrement&&Ke.filter(function(Je){return Je.compound&&Je.keyPath.includes(he.keyPath)}),Xe=r(r({},K),{mutate:function(Je){function Ct(kt){return kt="idb://".concat(T,"/").concat(j,"/").concat(kt),oe[kt]||(oe[kt]=new Ia)}var R,P,Y,$=Je.trans,oe=Je.mutatedParts||(Je.mutatedParts={}),ke=Ct(""),ze=Ct(":dels"),vt=Je.type,Rt=Je.type==="deleteRange"?[Je.range]:Je.type==="delete"?[Je.keys]:Je.values.length<50?[Zo(he,Je).filter(function(kt){return kt}),Je.values]:[],nt=Rt[0],bt=Rt[1],Rt=Je.trans._cache;return d(nt)?(ke.addKeys(nt),(Rt=vt==="delete"||nt.length===bt.length?bu(nt,Rt):null)||ze.addKeys(nt),(Rt||bt)&&(R=Ct,P=Rt,Y=bt,ee.indexes.forEach(function(kt){var Zt=R(kt.name||"");function dn(In){return In!=null?kt.extractKey(In):null}function Nn(In){return kt.multiEntry&&d(In)?In.forEach(function(rr){return Zt.addKey(rr)}):Zt.addKey(In)}(P||Y).forEach(function(In,sr){var Rn=P&&dn(P[sr]),sr=Y&&dn(Y[sr]);Or(Rn,sr)!==0&&(Rn!=null&&Nn(Rn),sr!=null&&Nn(sr))})}))):nt?(bt={from:(bt=nt.lower)!==null&&bt!==void 0?bt:b.MIN_KEY,to:(bt=nt.upper)!==null&&bt!==void 0?bt:b.MAX_KEY},ze.add(bt),ke.add(bt)):(ke.add(B),ze.add(B),ee.indexes.forEach(function(kt){return Ct(kt.name).add(B)})),K.mutate(Je).then(function(kt){return!nt||Je.type!=="add"&&Je.type!=="put"||(ke.addKeys(kt.results),Be&&Be.forEach(function(Zt){for(var dn=Je.values.map(function(Rn){return Zt.extractKey(Rn)}),Nn=Zt.keyPath.findIndex(function(Rn){return Rn===he.keyPath}),In=0,rr=kt.results.length;In<rr;++In)dn[In][Nn]=kt.results[In];Ct(Zt.name).addKeys(dn)})),$.mutatedParts=jn($.mutatedParts||{},oe),kt})}}),Ke=function(Ct){var R=Ct.query,Ct=R.index,R=R.range;return[Ct,new Ia((Ct=R.lower)!==null&&Ct!==void 0?Ct:b.MIN_KEY,(R=R.upper)!==null&&R!==void 0?R:b.MAX_KEY)]},ot={get:function(Je){return[he,new Ia(Je.key)]},getMany:function(Je){return[he,new Ia().addKeys(Je.keys)]},count:Ke,query:Ke,openCursor:Ke};return y(ot).forEach(function(Je){Xe[Je]=function(Ct){var R=Ye.subscr,P=!!R,Y=Js(Ye,K)&&qo(Je,Ct)?Ct.obsSet={}:R;if(P){var $=function(bt){return bt="idb://".concat(T,"/").concat(j,"/").concat(bt),Y[bt]||(Y[bt]=new Ia)},oe=$(""),ke=$(":dels"),R=ot[Je](Ct),P=R[0],R=R[1];if((Je==="query"&&P.isPrimaryKey&&!Ct.values?ke:$(P.name||"")).add(R),!P.isPrimaryKey){if(Je!=="count"){var ze=Je==="query"&&Oe&&Ct.values&&K.query(r(r({},Ct),{values:!1}));return K[Je].apply(this,arguments).then(function(bt){if(Je==="query"){if(Oe&&Ct.values)return ze.then(function(dn){return dn=dn.result,oe.addKeys(dn),bt});var Rt=Ct.values?bt.result.map(Te):bt.result;(Ct.values?oe:ke).addKeys(Rt)}else if(Je==="openCursor"){var kt=bt,Zt=Ct.values;return kt&&Object.create(kt,{key:{get:function(){return ke.addKey(kt.primaryKey),kt.key}},primaryKey:{get:function(){var dn=kt.primaryKey;return ke.addKey(dn),dn}},value:{get:function(){return Zt&&oe.addKey(kt.primaryKey),kt.value}}})}return bt})}ke.add(B)}}return K[Je].apply(this,arguments)}}),Xe}})}};function Fi(b,T,B){if(B.numFailures===0)return T;if(T.type==="deleteRange")return null;var j=T.keys?T.keys.length:"values"in T&&T.values?T.values.length:1;return B.numFailures===j?null:(T=r({},T),d(T.keys)&&(T.keys=T.keys.filter(function(K,ee){return!(ee in B.failures)})),"values"in T&&d(T.values)&&(T.values=T.values.filter(function(K,ee){return!(ee in B.failures)})),T)}function So(b,T){return B=b,((j=T).lower===void 0||(j.lowerOpen?0<Or(B,j.lower):0<=Or(B,j.lower)))&&(b=b,(T=T).upper===void 0||(T.upperOpen?Or(b,T.upper)<0:Or(b,T.upper)<=0));var B,j}function Za(b,T,ot,j,K,ee){if(!ot||ot.length===0)return b;var he=T.query.index,Te=he.multiEntry,Oe=T.query.range,Be=j.schema.primaryKey.extractKey,Xe=he.extractKey,Ke=(he.lowLevelIndex||he).extractKey,ot=ot.reduce(function(Je,Ct){var R=Je,P=[];if(Ct.type==="add"||Ct.type==="put")for(var Y=new Ia,$=Ct.values.length-1;0<=$;--$){var oe,ke=Ct.values[$],ze=Be(ke);Y.hasKey(ze)||(oe=Xe(ke),(Te&&d(oe)?oe.some(function(kt){return So(kt,Oe)}):So(oe,Oe))&&(Y.addKey(ze),P.push(ke)))}switch(Ct.type){case"add":var vt=new Ia().addKeys(T.values?Je.map(function(Zt){return Be(Zt)}):Je),R=Je.concat(T.values?P.filter(function(Zt){return Zt=Be(Zt),!vt.hasKey(Zt)&&(vt.addKey(Zt),!0)}):P.map(function(Zt){return Be(Zt)}).filter(function(Zt){return!vt.hasKey(Zt)&&(vt.addKey(Zt),!0)}));break;case"put":var nt=new Ia().addKeys(Ct.values.map(function(Zt){return Be(Zt)}));R=Je.filter(function(Zt){return!nt.hasKey(T.values?Be(Zt):Zt)}).concat(T.values?P:P.map(function(Zt){return Be(Zt)}));break;case"delete":var bt=new Ia().addKeys(Ct.keys);R=Je.filter(function(Zt){return!bt.hasKey(T.values?Be(Zt):Zt)});break;case"deleteRange":var Rt=Ct.range;R=Je.filter(function(Zt){return!So(Be(Zt),Rt)})}return R},b);return ot===b?b:(ot.sort(function(Je,Ct){return Or(Ke(Je),Ke(Ct))||Or(Be(Je),Be(Ct))}),T.limit&&T.limit<1/0&&(ot.length>T.limit?ot.length=T.limit:b.length===T.limit&&ot.length<T.limit&&(K.dirty=!0)),ee?Object.freeze(ot):ot)}function hs(b,T){return Or(b.lower,T.lower)===0&&Or(b.upper,T.upper)===0&&!!b.lowerOpen==!!T.lowerOpen&&!!b.upperOpen==!!T.upperOpen}function Ms(b,T){return(function(B,j,K,ee){if(B===void 0)return j!==void 0?-1:0;if(j===void 0)return 1;if((j=Or(B,j))===0){if(K&&ee)return 0;if(K)return 1;if(ee)return-1}return j})(b.lower,T.lower,b.lowerOpen,T.lowerOpen)<=0&&0<=(function(B,j,K,ee){if(B===void 0)return j!==void 0?1:0;if(j===void 0)return-1;if((j=Or(B,j))===0){if(K&&ee)return 0;if(K)return-1;if(ee)return 1}return j})(b.upper,T.upper,b.upperOpen,T.upperOpen)}function Qo(b,T,B,j){b.subscribers.add(B),j.addEventListener("abort",function(){var K,ee;b.subscribers.delete(B),b.subscribers.size===0&&(K=b,ee=T,setTimeout(function(){K.subscribers.size===0&&ft(ee,K)},3e3))})}var Ho={stack:"dbcore",level:0,name:"Cache",create:function(b){var T=b.schema.name;return r(r({},b),{transaction:function(B,j,K){var ee,he,Te=b.transaction(B,j,K);return j==="readwrite"&&(he=(ee=new AbortController).signal,K=function(Oe){return function(){if(ee.abort(),j==="readwrite"){for(var Be=new Set,Xe=0,Ke=B;Xe<Ke.length;Xe++){var ot=Ke[Xe],Je=di["idb://".concat(T,"/").concat(ot)];if(Je){var Ct=b.table(ot),R=Je.optimisticOps.filter(function(Zt){return Zt.trans===Te});if(Te._explicit&&Oe&&Te.mutatedParts)for(var P=0,Y=Object.values(Je.queries.query);P<Y.length;P++)for(var $=0,oe=(vt=Y[P]).slice();$<oe.length;$++)Vo((nt=oe[$]).obsSet,Te.mutatedParts)&&(ft(vt,nt),nt.subscribers.forEach(function(Zt){return Be.add(Zt)}));else if(0<R.length){Je.optimisticOps=Je.optimisticOps.filter(function(Zt){return Zt.trans!==Te});for(var ke=0,ze=Object.values(Je.queries.query);ke<ze.length;ke++)for(var vt,nt,bt,Rt=0,kt=(vt=ze[ke]).slice();Rt<kt.length;Rt++)(nt=kt[Rt]).res!=null&&Te.mutatedParts&&(Oe&&!nt.dirty?(bt=Object.isFrozen(nt.res),bt=Za(nt.res,nt.req,R,Ct,nt,bt),nt.dirty?(ft(vt,nt),nt.subscribers.forEach(function(Zt){return Be.add(Zt)})):bt!==nt.res&&(nt.res=bt,nt.promise=Pt.resolve({result:bt}))):(nt.dirty&&ft(vt,nt),nt.subscribers.forEach(function(Zt){return Be.add(Zt)})))}}}Be.forEach(function(Zt){return Zt()})}}},Te.addEventListener("abort",K(!1),{signal:he}),Te.addEventListener("error",K(!1),{signal:he}),Te.addEventListener("complete",K(!0),{signal:he})),Te},table:function(B){var j=b.table(B),K=j.schema.primaryKey;return r(r({},j),{mutate:function(ee){var he=Ye.trans;if(K.outbound||he.db._options.cache==="disabled"||he.explicit||he.idbtrans.mode!=="readwrite")return j.mutate(ee);var Te=di["idb://".concat(T,"/").concat(B)];return Te?(he=j.mutate(ee),ee.type!=="add"&&ee.type!=="put"||!(50<=ee.values.length||Zo(K,ee).some(function(Oe){return Oe==null}))?(Te.optimisticOps.push(ee),ee.mutatedParts&&Po(ee.mutatedParts),he.then(function(Oe){0<Oe.numFailures&&(ft(Te.optimisticOps,ee),(Oe=Fi(0,ee,Oe))&&Te.optimisticOps.push(Oe),ee.mutatedParts&&Po(ee.mutatedParts))}),he.catch(function(){ft(Te.optimisticOps,ee),ee.mutatedParts&&Po(ee.mutatedParts)})):he.then(function(Oe){var Be=Fi(0,r(r({},ee),{values:ee.values.map(function(Xe,Ke){var ot;return Oe.failures[Ke]?Xe:(Xe=(ot=K.keyPath)!==null&&ot!==void 0&&ot.includes(".")?mt(Xe):r({},Xe),ne(Xe,K.keyPath,Oe.results[Ke]),Xe)})}),Oe);Te.optimisticOps.push(Be),queueMicrotask(function(){return ee.mutatedParts&&Po(ee.mutatedParts)})}),he):j.mutate(ee)},query:function(ee){if(!Js(Ye,j)||!qo("query",ee))return j.query(ee);var he=((Be=Ye.trans)===null||Be===void 0?void 0:Be.db._options.cache)==="immutable",Ke=Ye,Te=Ke.requery,Oe=Ke.signal,Be=(function(Ct,R,P,Y){var $=di["idb://".concat(Ct,"/").concat(R)];if(!$)return[];if(!(R=$.queries[P]))return[null,!1,$,null];var oe=R[(Y.query?Y.query.index.name:null)||""];if(!oe)return[null,!1,$,null];switch(P){case"query":var ke=oe.find(function(ze){return ze.req.limit===Y.limit&&ze.req.values===Y.values&&hs(ze.req.query.range,Y.query.range)});return ke?[ke,!0,$,oe]:[oe.find(function(ze){return("limit"in ze.req?ze.req.limit:1/0)>=Y.limit&&(!Y.values||ze.req.values)&&Ms(ze.req.query.range,Y.query.range)}),!1,$,oe];case"count":return ke=oe.find(function(ze){return hs(ze.req.query.range,Y.query.range)}),[ke,!!ke,$,oe]}})(T,B,"query",ee),Xe=Be[0],Ke=Be[1],ot=Be[2],Je=Be[3];return Xe&&Ke?Xe.obsSet=ee.obsSet:(Ke=j.query(ee).then(function(Ct){var R=Ct.result;if(Xe&&(Xe.res=R),he){for(var P=0,Y=R.length;P<Y;++P)Object.freeze(R[P]);Object.freeze(R)}else Ct.result=mt(R);return Ct}).catch(function(Ct){return Je&&Xe&&ft(Je,Xe),Promise.reject(Ct)}),Xe={obsSet:ee.obsSet,promise:Ke,subscribers:new Set,type:"query",req:ee,dirty:!1},Je?Je.push(Xe):(Je=[Xe],(ot=ot||(di["idb://".concat(T,"/").concat(B)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ee.query.index.name||""]=Je)),Qo(Xe,Je,Te,Oe),Xe.promise.then(function(Ct){return{result:Za(Ct.result,ee,ot?.optimisticOps,j,Xe,he)}})}})}})}};function za(b,T){return new Proxy(b,{get:function(B,j,K){return j==="db"?T:Reflect.get(B,j,K)}})}var ji=(ea.prototype.version=function(b){if(isNaN(b)||b<.1)throw new et.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new et.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var T=this._versions,B=T.filter(function(j){return j._cfg.version===b})[0];return B||(B=new this.Version(b),T.push(B),T.sort(yu),B.stores({}),this._state.autoSchema=!1,B)},ea.prototype._whenReady=function(b){var T=this;return this.idbdb&&(this._state.openComplete||Ye.letThrough||this._vip)?b():new Pt(function(B,j){if(T._state.openComplete)return j(new et.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return void j(new et.DatabaseClosed);T.open().catch(Ft)}T._state.dbReadyPromise.then(B,j)}).then(b)},ea.prototype.use=function(b){var T=b.stack,B=b.create,j=b.level,K=b.name;return K&&this.unuse({stack:T,name:K}),b=this._middlewares[T]||(this._middlewares[T]=[]),b.push({stack:T,create:B,level:j??10,name:K}),b.sort(function(ee,he){return ee.level-he.level}),this},ea.prototype.unuse=function(b){var T=b.stack,B=b.name,j=b.create;return T&&this._middlewares[T]&&(this._middlewares[T]=this._middlewares[T].filter(function(K){return j?K.create!==j:!!B&&K.name!==B})),this},ea.prototype.open=function(){var b=this;return gr(Et,function(){return Ps(b)})},ea.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var b=this._state,T=hn.indexOf(this);if(0<=T&&hn.splice(T,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new Pt(function(B){b.dbReadyResolve=B}),b.openCanceller=new Pt(function(B,j){b.cancelOpen=j}))},ea.prototype.close=function(B){var T=(B===void 0?{disableAutoOpen:!0}:B).disableAutoOpen,B=this._state;T?(B.isBeingOpened&&B.cancelOpen(new et.DatabaseClosed),this._close(),B.autoOpen=!1,B.dbOpenError=new et.DatabaseClosed):(this._close(),B.autoOpen=this._options.autoOpen||B.isBeingOpened,B.openComplete=!1,B.dbOpenError=null)},ea.prototype.delete=function(b){var T=this;b===void 0&&(b={disableAutoOpen:!0});var B=0<arguments.length&&typeof arguments[0]!="object",j=this._state;return new Pt(function(K,ee){function he(){T.close(b);var Te=T._deps.indexedDB.deleteDatabase(T.name);Te.onsuccess=Jn(function(){var Oe,Be,Xe;Oe=T._deps,Be=T.name,Xe=Oe.indexedDB,Oe=Oe.IDBKeyRange,Wl(Xe)||Be===wi||xu(Xe,Oe).delete(Be).catch(Ft),K()}),Te.onerror=Dr(ee),Te.onblocked=T._fireOnBlocked}if(B)throw new et.InvalidArgument("Invalid closeOptions argument to db.delete()");j.isBeingOpened?j.dbReadyPromise.then(he):he()})},ea.prototype.backendDB=function(){return this.idbdb},ea.prototype.isOpen=function(){return this.idbdb!==null},ea.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},ea.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ea.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ea.prototype,"tables",{get:function(){var b=this;return y(this._allTables).map(function(T){return b._allTables[T]})},enumerable:!1,configurable:!0}),ea.prototype.transaction=function(){var b=(function(T,B,j){var K=arguments.length;if(K<2)throw new et.InvalidArgument("Too few arguments");for(var ee=new Array(K-1);--K;)ee[K-1]=arguments[K];return j=ee.pop(),[T,Fe(ee),j]}).apply(this,arguments);return this._transaction.apply(this,b)},ea.prototype._transaction=function(b,T,B){var j=this,K=Ye.trans;K&&K.db===this&&b.indexOf("!")===-1||(K=null);var ee,he,Te=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(he=T.map(function(Be){if(Be=Be instanceof j.Table?Be.name:Be,typeof Be!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Be}),b=="r"||b===mn)ee=mn;else{if(b!="rw"&&b!=Zi)throw new et.InvalidArgument("Invalid transaction mode: "+b);ee=Zi}if(K){if(K.mode===mn&&ee===Zi){if(!Te)throw new et.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");K=null}K&&he.forEach(function(Be){if(K&&K.storeNames.indexOf(Be)===-1){if(!Te)throw new et.SubTransaction("Table "+Be+" not included in parent transaction.");K=null}}),Te&&K&&!K.active&&(K=null)}}catch(Be){return K?K._promise(null,function(Xe,Ke){Ke(Be)}):or(Be)}var Oe=(function Be(Xe,Ke,ot,Je,Ct){return Pt.resolve().then(function(){var R=Ye.transless||Ye,P=Xe._createTransaction(Ke,ot,Xe._dbSchema,Je);if(P.explicit=!0,R={trans:P,transless:R},Je)P.idbtrans=Je.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,Xe._state.PR1398_maxLoop=3}catch(oe){return oe.name===ut.InvalidState&&Xe.isOpen()&&0<--Xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Xe.close({disableAutoOpen:!1}),Xe.open().then(function(){return Be(Xe,Ke,ot,null,Ct)})):or(oe)}var Y,$=le(Ct);return $&&ar(),R=Pt.follow(function(){var oe;(Y=Ct.call(P,P))&&($?(oe=fi.bind(null,null),Y.then(oe,oe)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=$i(Y)))},R),(Y&&typeof Y.then=="function"?Pt.resolve(Y).then(function(oe){return P.active?oe:or(new et.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return Y})).then(function(oe){return Je&&P._resolve(),P._completion.then(function(){return oe})}).catch(function(oe){return P._reject(oe),or(oe)})})}).bind(null,this,ee,he,K,B);return K?K._promise(ee,Oe,"lock"):Ye.trans?gr(Ye.transless,function(){return j._whenReady(Oe)}):this._whenReady(Oe)},ea.prototype.table=function(b){if(!f(this._allTables,b))throw new et.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},ea);function ea(b,T){var B=this;this._middlewares={},this.verno=0;var j=ea.dependencies;this._options=T=r({addons:ea.addons,autoOpen:!0,indexedDB:j.indexedDB,IDBKeyRange:j.IDBKeyRange,cache:"cloned"},T),this._deps={indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange},j=T.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var K,ee,he,Te,Oe,Be={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ft,dbReadyPromise:null,cancelOpen:Ft,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:T.autoOpen};Be.dbReadyPromise=new Pt(function(Ke){Be.dbReadyResolve=Ke}),Be.openCanceller=new Pt(function(Ke,ot){Be.cancelOpen=ot}),this._state=Be,this.name=b,this.on=Zn(this,"populate","blocked","versionchange","close",{ready:[un,Ft]}),this.once=function(Ke,ot){var Je=function(){for(var Ct=[],R=0;R<arguments.length;R++)Ct[R]=arguments[R];B.on(Ke).unsubscribe(Je),ot.apply(B,Ct)};return B.on(Ke,Je)},this.on.ready.subscribe=U(this.on.ready.subscribe,function(Ke){return function(ot,Je){ea.vip(function(){var Ct,R=B._state;R.openComplete?(R.dbOpenError||Pt.resolve().then(ot),Je&&Ke(ot)):R.onReadyBeingFired?(R.onReadyBeingFired.push(ot),Je&&Ke(ot)):(Ke(ot),Ct=B,Je||Ke(function P(){Ct.on.ready.unsubscribe(ot),Ct.on.ready.unsubscribe(P)}))})}}),this.Collection=(K=this,Ir(Gt.prototype,function(Y,P){this.db=K;var Je=br,Ct=null;if(P)try{Je=P()}catch($){Ct=$}var R=Y._ctx,P=R.table,Y=P.hook.reading.fire;this._ctx={table:P,index:R.index,isPrimKey:!R.index||P.schema.primKey.keyPath&&R.index===P.schema.primKey.name,range:Je,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ct,or:R.or,valueMapper:Y!==st?Y:null}})),this.Table=(ee=this,Ir(_a.prototype,function(Ke,ot,Je){this.db=ee,this._tx=Je,this.name=Ke,this.schema=ot,this.hook=ee._allTables[Ke]?ee._allTables[Ke].hook:Zn(null,{creating:[Kt,Ft],reading:[At,st],updating:[Ut,Ft],deleting:[zt,Ft]})})),this.Transaction=(he=this,Ir(hi.prototype,function(Ke,ot,Je,Ct,R){var P=this;Ke!=="readonly"&&ot.forEach(function(Y){Y=(Y=Je[Y])===null||Y===void 0?void 0:Y.yProps,Y&&(ot=ot.concat(Y.map(function($){return $.updatesTable})))}),this.db=he,this.mode=Ke,this.storeNames=ot,this.schema=Je,this.chromeTransactionDurability=Ct,this.idbtrans=null,this.on=Zn(this,"complete","error","abort"),this.parent=R||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Pt(function(Y,$){P._resolve=Y,P._reject=$}),this._completion.then(function(){P.active=!1,P.on.complete.fire()},function(Y){var $=P.active;return P.active=!1,P.on.error.fire(Y),P.parent?P.parent._reject(Y):$&&P.idbtrans&&P.idbtrans.abort(),or(Y)})})),this.Version=(Te=this,Ir(Ka.prototype,function(Ke){this.db=Te,this._cfg={version:Ke,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Oe=this,Ir(Ur.prototype,function(Ke,ot,Je){if(this.db=Oe,this._ctx={table:Ke,index:ot===":id"?null:ot,or:Je},this._cmp=this._ascending=Or,this._descending=function(Ct,R){return Or(R,Ct)},this._max=function(Ct,R){return 0<Or(Ct,R)?Ct:R},this._min=function(Ct,R){return Or(Ct,R)<0?Ct:R},this._IDBKeyRange=Oe._deps.IDBKeyRange,!this._IDBKeyRange)throw new et.MissingAPI})),this.on("versionchange",function(Ke){0<Ke.newVersion?console.warn("Another connection wants to upgrade database '".concat(B.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(B.name,"'. Closing db now to resume the delete request.")),B.close({disableAutoOpen:!1})}),this.on("blocked",function(Ke){!Ke.newVersion||Ke.newVersion<Ke.oldVersion?console.warn("Dexie.delete('".concat(B.name,"') was blocked")):console.warn("Upgrade '".concat(B.name,"' blocked by other connection holding version ").concat(Ke.oldVersion/10))}),this._maxKey=Co(T.IDBKeyRange),this._createTransaction=function(Ke,ot,Je,Ct){return new B.Transaction(Ke,ot,Je,B._options.chromeTransactionDurability,Ct)},this._fireOnBlocked=function(Ke){B.on("blocked").fire(Ke),hn.filter(function(ot){return ot.name===B.name&&ot!==B&&!ot._state.vcFired}).map(function(ot){return ot.on("versionchange").fire(Ke)})},this.use(ml),this.use(Ho),this.use(Ml),this.use(Bi),this.use(Qs);var Xe=new Proxy(this,{get:function(Ke,ot,Je){if(ot==="_vip")return!0;if(ot==="table")return function(R){return za(B.table(R),Xe)};var Ct=Reflect.get(Ke,ot,Je);return Ct instanceof _a?za(Ct,Xe):ot==="tables"?Ct.map(function(R){return za(R,Xe)}):ot==="_createTransaction"?function(){return za(Ct.apply(this,arguments),Xe)}:Ct}});this.vip=Xe,j.forEach(function(Ke){return Ke(B)})}var go,Er=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$s=(_e.prototype.subscribe=function(b,T,B){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:T,complete:B})},_e.prototype[Er]=function(){return this},_e);function _e(b){this._subscribe=b}try{go={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{go={indexedDB:null,IDBKeyRange:null}}function s(b){var T,B=!1,j=new $s(function(K){var ee=le(b),he,Te=!1,Oe={},Be={},Xe={get closed(){return Te},unsubscribe:function(){Te||(Te=!0,he&&he.abort(),Ke&&Zr.storagemutated.unsubscribe(Je))}};K.start&&K.start(Xe);var Ke=!1,ot=function(){return Hr(Ct)},Je=function(R){jn(Oe,R),Vo(Be,Oe)&&ot()},Ct=function(){var R,P,Y;!Te&&go.indexedDB&&(Oe={},R={},he&&he.abort(),he=new AbortController,Y=(function($){var oe=xr();try{ee&&ar();var ke=Pr(b,$);return ke=ee?ke.finally(fi):ke}finally{oe&&Br()}})(P={subscr:R,signal:he.signal,requery:ot,querier:b,trans:null}),Promise.resolve(Y).then(function($){B=!0,T=$,Te||P.signal.aborted||(Oe={},(function(oe){for(var ke in oe)if(f(oe,ke))return;return 1})(Be=R)||Ke||(Zr(ba,Je),Ke=!0),Hr(function(){return!Te&&K.next&&K.next($)}))},function($){B=!1,["DatabaseClosedError","AbortError"].includes($?.name)||Te||Hr(function(){Te||K.error&&K.error($)})}))};return setTimeout(ot,0),Xe});return j.hasValue=function(){return B},j.getValue=function(){return T},j}var p=ji;function w(b){var T=D;try{D=!0,Zr.storagemutated.fire(b),oi(b,!0)}finally{D=T}}g(p,r(r({},_t),{delete:function(b){return new p(b,{addons:[]}).delete()},exists:function(b){return new p(b,{addons:[]}).open().then(function(T){return T.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return T=p.dependencies,B=T.indexedDB,T=T.IDBKeyRange,(Wl(B)?Promise.resolve(B.databases()).then(function(j){return j.map(function(K){return K.name}).filter(function(K){return K!==wi})}):xu(B,T).toCollection().primaryKeys()).then(b)}catch{return or(new et.MissingAPI)}var T,B},defineClass:function(){return function(b){a(this,b)}},ignoreTransaction:function(b){return Ye.trans?gr(Ye.transless,b):b()},vip:ru,async:function(b){return function(){try{var T=$i(b.apply(this,arguments));return T&&typeof T.then=="function"?T:Pt.resolve(T)}catch(B){return or(B)}}},spawn:function(b,T,B){try{var j=$i(b.apply(B,T||[]));return j&&typeof j.then=="function"?j:Pt.resolve(j)}catch(K){return or(K)}},currentTransaction:{get:function(){return Ye.trans||null}},waitFor:function(b,T){return T=Pt.resolve(typeof b=="function"?p.ignoreTransaction(b):b).timeout(T||6e4),Ye.trans?Ye.trans.waitFor(T):T},Promise:Pt,debug:{get:function(){return Xt},set:function(b){qt(b)}},derive:k,extend:a,props:g,override:U,Events:Zn,on:Zr,liveQuery:s,extendObservabilitySet:jn,getByKeyPath:J,setByKeyPath:ne,delByKeyPath:function(b,T){typeof T=="string"?ne(b,T,void 0):"length"in T&&[].map.call(T,function(B){ne(b,B,void 0)})},shallowClone:ve,deepClone:mt,getObjectDiff:Ko,cmp:Or,asap:q,minKey:-1/0,addons:[],connections:hn,errnames:ut,dependencies:go,cache:di,semVer:"4.2.1",version:"4.2.1".split(".").map(function(b){return parseInt(b)}).reduce(function(b,T,B){return b+T/Math.pow(10,2*B)})})),p.maxKey=Co(p.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Zr(ba,function(b){D||(b=new CustomEvent(tr,{detail:b}),D=!0,dispatchEvent(b),D=!1)}),addEventListener(tr,function(b){b=b.detail,D||w(b)}));var A,D=!1,L=function(){};return typeof BroadcastChannel<"u"&&((L=function(){(A=new BroadcastChannel(tr)).onmessage=function(b){return b.data&&w(b.data)}})(),typeof A.unref=="function"&&A.unref(),Zr(ba,function(b){D||A.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!ji.disableBfCache&&b.persisted){Xt&&console.debug("Dexie: handling persisted pagehide"),A?.close();for(var T=0,B=hn;T<B.length;T++)B[T].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!ji.disableBfCache&&b.persisted&&(Xt&&console.debug("Dexie: handling persisted pageshow"),L(),w({all:new Ia(-1/0,[[]])}))})),Pt.rejectionMapper=function(b,T){return!b||b instanceof V||b instanceof TypeError||b instanceof SyntaxError||!b.name||!Wt[b.name]?b:(T=new Wt[b.name](T||b.message,b),"stack"in b&&C(T,"stack",{get:function(){return this.inner.stack}}),T)},qt(Xt),r(ji,Object.freeze({__proto__:null,Dexie:ji,liveQuery:s,Entity:fr,cmp:Or,PropModification:qi,replacePrefix:function(b,T){return new qi({replacePrefix:[b,T]})},add:function(b){return new qi({add:b})},remove:function(b){return new qi({remove:b})},default:ji,RangeSet:Ia,mergeRanges:Fs,rangesOverlap:Li}),{default:ji}),ji})})(vp)),vp.exports}var e_=$D();const J2=P0(e_),d3=Symbol.for("Dexie"),Dd=globalThis[d3]||(globalThis[d3]=J2);if(J2.semVer!==Dd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${J2.semVer} and ${Dd.semVer}`);const{liveQuery:CZ,mergeRanges:SZ,rangesOverlap:EZ,RangeSet:AZ,cmp:TZ,Entity:kZ,PropModification:DZ,replacePrefix:_Z,add:MZ,remove:OZ,DexieYProvider:IZ}=Dd;function t_(e,t,n){var r,o;typeof e=="function"?(r=t||[],o=n):(r=[],o=t);var u=kn.useRef({hasResult:!1,result:o,error:null}),y=kn.useReducer(function(c){return c+1},0);y[0];var d=y[1],a=kn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!u.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")u.current.result=c.getValue(),u.current.hasResult=!0;else{var v=c.subscribe(function(f){u.current.result=f,u.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return c},r);if(kn.useDebugValue(u.current.result),kn.useEffect(function(){var c=a.subscribe(function(v){var f=u.current;(f.error!==null||f.result!==v)&&(f.error=null,f.result=v,f.hasResult=!0,d())},function(v){var f=u.current;f.error!==v&&(f.error=v,d())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),u.current.error)throw u.current.error;return u.current.result}function gm(e,t,n){return t_(function(){return Dd.liveQuery(e)},t||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Dd.DexieYProvider;t&&t.release(e)});class n_ extends Dd{memos;comments;constructor(){super("HandMemoDB"),this.version(1).stores({memos:"++id, title, *tags, modelId, createdAt, updatedAt",models:"++id, name",comments:"++id, memoId, createdAt"}),this.version(2).stores({models:"++id, name, order"}),this.version(3).stores({memos:"++id, title, *tags, modelId, createdAt, updatedAt, threadId"}),this.version(4).stores({books:"++id, title, status, createdAt",memos:"++id, bookId, title, *tags, modelId, createdAt, updatedAt, threadId"}),this.version(5).stores({memos:"++id, bookId, title, *tags, modelId, createdAt, updatedAt, threadId, type"}),this.version(6).stores({memos:"++id, bookId, title, *tags, createdAt, updatedAt, threadId, type",models:null}),this.version(7).stores({books:null})}}const Mi=new n_;var CS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g3=kn.createContext&&kn.createContext(CS),r_=["attr","size","title"];function i_(e,t){if(e==null)return{};var n=a_(e,t),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)r=u[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a_(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ip.apply(this,arguments)}function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(r){o_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o_(e,t,n){return t=s_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s_(e){var t=l_(e,"string");return typeof t=="symbol"?t:t+""}function l_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SS(e){return e&&e.map((t,n)=>kn.createElement(t.tag,Rp({key:n},t.attr),SS(t.child)))}function Kr(e){return t=>kn.createElement(u_,Ip({attr:Rp({},e.attr)},t),SS(e.child))}function u_(e){var t=n=>{var{attr:r,size:o,title:u}=e,y=i_(e,r_),d=o||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),kn.createElement("svg",Ip({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,y,{className:a,style:Rp(Rp({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&kn.createElement("title",null,u),e.children)};return g3!==void 0?kn.createElement(g3.Consumer,null,n=>t(n)):t(CS)}function ax(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function ES(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function c_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function f_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(e)}function h_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function d_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function jg(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function AS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]}]})(e)}function g_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 10 20 15 15 20"},child:[]},{tag:"path",attr:{d:"M4 4v7a4 4 0 0 0 4 4h12"},child:[]}]})(e)}function p_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(e)}function Np(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function TS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function kS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function m_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function v_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function y_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(e)}function x_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function b_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function ox(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function w_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function DS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"},child:[]},{tag:"path",attr:{d:"M13 13l6 6"},child:[]}]})(e)}function C_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(e)}function _S(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function S_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function MS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(e)}function OS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"path",attr:{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"},child:[]}]})(e)}function IS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function E_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function RS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function NS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function LS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]}]})(e)}function A_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function Qh(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function BS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]}]})(e)}function FS(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(e)}function T_(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function ng(e){return Kr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function k_(e){return Kr({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zM2 4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M13 10.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm0-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-5 0A.25.25 0 0 1 8.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 8 8.75zm2 0a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25zm1 2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-5-2A.25.25 0 0 1 6.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 6 8.75zm-2 0A.25.25 0 0 1 4.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 4 8.75zm-2 0A.25.25 0 0 1 2.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 2 8.75zm11-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-2 0a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-2 0A.25.25 0 0 1 9.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 9 6.75zm-2 0A.25.25 0 0 1 7.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 7 6.75zm-2 0A.25.25 0 0 1 5.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 5 6.75zm-3 0A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 6.75zm0 4a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm2 0a.25.25 0 0 1 .25-.25h5.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-5.5a.25.25 0 0 1-.25-.25z"},child:[]}]})(e)}const D_="modulepreload",__=function(e){return"/HandMemo/"+e},m3={},M_=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(v){return Promise.all(v.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var y=c;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),a=d?.nonce||d?.getAttribute("nonce");o=c(n.map(v=>{if(v=__(v),v in m3)return;m3[v]=!0;const f=v.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${g}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":D_,f||(m.as="script"),m.crossOrigin="",m.href=v,a&&m.setAttribute("nonce",a),document.head.appendChild(m),f)return new Promise((C,k)=>{m.addEventListener("load",C),m.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(d){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=d,window.dispatchEvent(a),!a.defaultPrevented)throw d}return o.then(d=>{for(const a of d||[])a.status==="rejected"&&u(a.reason);return t().catch(u)})};function O_(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:u,onRegisterError:y}=e;let d,a,c;const v=async(g=!0)=>{await a,c?.()};async function f(){if("serviceWorker"in navigator){if(d=await M_(async()=>{const{Workbox:g}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:g}},[]).then(({Workbox:g})=>new g("/HandMemo/sw.js",{scope:"/HandMemo/",type:"classic"})).catch(g=>{y?.(g)}),!d)return;c=()=>{d?.messageSkipWaiting()};{let g=!1;const m=()=>{g=!0,d?.addEventListener("controlling",C=>{C.isUpdate&&window.location.reload()}),n?.()};d.addEventListener("installed",C=>{typeof C.isUpdate>"u"?typeof C.isExternal<"u"&&C.isExternal?m():!g&&r?.():C.isUpdate||r?.()}),d.addEventListener("waiting",m)}d.register({immediate:t}).then(g=>{u?u("/HandMemo/sw.js",g):o?.(g)}).catch(g=>{y?.(g)})}}return a=f(),v}function I_(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:u,onRegisterError:y}=e,[d,a]=Ie.useState(!1),[c,v]=Ie.useState(!1),[f]=Ie.useState(()=>O_({immediate:t,onOfflineReady(){v(!0),r?.()},onNeedRefresh(){a(!0),n?.()},onRegistered:o,onRegisteredSW:u,onRegisterError:y}));return{needRefresh:[d,a],offlineReady:[c,v],updateServiceWorker:f}}const R_=sn.div`
  position: fixed;
  top: ${e=>e.$top}px;
  left: ${e=>e.$left}px;
  transform: translateX(-50%);
  padding: 2px 6px;
  background-color: #333; // Dark background
  color: #fff;
  border-radius: 4px;
  font-size: 0.65rem;
  white-space: nowrap;
  pointer-events: none;
  z-index: 9999;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  margin-top: -8px; // Offset slightly above
  opacity: 1;
  visibility: visible;
  
  // Triangle arrow
  &::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -4px;
    border-width: 4px;
    border-style: solid;
    border-color: #333 transparent transparent transparent;
  }
`,sd=({content:e,children:t,hoverDelay:n=200,touchDelay:r=500})=>{const[o,u]=Ie.useState(!1),[y,d]=Ie.useState({top:0,left:0}),a=Ie.useRef(null),c=Ie.useRef(null),v=()=>{if(c.current){const k=c.current.getBoundingClientRect();d({top:k.top-8,left:k.left+k.width/2})}},f=()=>{a.current=window.setTimeout(()=>{v(),u(!0)},n)},g=()=>{a.current&&(clearTimeout(a.current),a.current=null),u(!1)},m=()=>{a.current=window.setTimeout(()=>{v(),u(!0)},r)},C=()=>{a.current&&(clearTimeout(a.current),a.current=null),setTimeout(()=>u(!1),1500)};return Ie.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]),te.jsxs(te.Fragment,{children:[te.jsx("div",{ref:c,onMouseEnter:f,onMouseLeave:g,onTouchStart:m,onTouchEnd:C,style:{display:"inline-flex"},onContextMenu:k=>{o&&k.preventDefault()},children:t}),o&&sm.createPortal(te.jsx(R_,{$top:y.top,$left:y.left,children:e}),document.body)]})},N_=(e,t,n)=>{const r=document.createElement("a"),o=new Blob([e],{type:n});r.href=URL.createObjectURL(o),r.download=t,r.click()},PS=async e=>{let t=await Mi.memos.toArray(),n=await Mi.comments.toArray();return e&&e.length>0&&(t=t.filter(r=>r.id!==void 0&&e.includes(r.id)),n=n.filter(r=>e.includes(r.memoId))),{version:1,timestamp:new Date().toISOString(),memos:t,comments:n}},v3=async(e,t)=>{let n=await PS(e),r=t;r||(r=e&&e.length>0?`handmemo-partial-${new Date().toISOString().slice(0,10)}.json`:`handmemo-backup-${new Date().toISOString().slice(0,10)}.json`),r.toLowerCase().endsWith(".json")||(r+=".json"),N_(JSON.stringify(n,null,2),r,"application/json")},L_=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=async o=>{try{const u=o.target?.result,y=JSON.parse(u);await zS(y),t()}catch(u){n(u)}},r.readAsText(e)}),zS=async e=>{if(!e.memos&&!e.logs&&!e.books)throw new Error("Invalid backup file format");const t=e.memos||e.logs||[];await Mi.transaction("rw",Mi.memos,Mi.comments,async()=>{const n=new Map;for(const r of t){const o=r.id,u=typeof r.createdAt=="string"?new Date(r.createdAt):r.createdAt;let d=(await Mi.memos.where("title").equals(r.title).toArray()).find(a=>Math.abs(a.createdAt.getTime()-u.getTime())<5e3);if(d)n.set(o,d.id);else{const{id:a,...c}=r;c.createdAt=u,c.updatedAt=typeof r.updatedAt=="string"?new Date(r.updatedAt):r.updatedAt,delete c.bookId;const v=await Mi.memos.add(c);n.set(o,v)}}if(e.comments)for(const r of e.comments){const{id:o,...u}=r;u.createdAt=typeof r.createdAt=="string"?new Date(r.createdAt):r.createdAt,u.updatedAt=typeof r.updatedAt=="string"?new Date(r.updatedAt):r.updatedAt;const y=r.memoId!==void 0?r.memoId:r.logId;y&&n.has(y)&&(u.memoId=n.get(y),delete u.logId,(await Mi.comments.where("memoId").equals(u.memoId).toArray()).some(c=>c.content===u.content&&Math.abs(c.createdAt.getTime()-u.createdAt.getTime())<5e3)||await Mi.comments.add(u))}})};function B_(e){let n=0;const r=e.length;let o="";for(;n<r;){const u=e.subarray(n,Math.min(n+32768,r));o+=String.fromCharCode(...u),n+=32768}return btoa(o)}function F_(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}async function P_(e,t){const n=new TextEncoder,r=n.encode(e),o=crypto.getRandomValues(new Uint8Array(16)),u=await crypto.subtle.importKey("raw",n.encode(t),{name:"PBKDF2"},!1,["deriveKey"]),y=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},u,{name:"AES-GCM",length:256},!1,["encrypt"]),d=crypto.getRandomValues(new Uint8Array(12)),a=await crypto.subtle.encrypt({name:"AES-GCM",iv:d},y,r),c=new Uint8Array(o.length+d.length+a.byteLength);return c.set(o,0),c.set(d,o.length),c.set(new Uint8Array(a),o.length+d.length),B_(c)}async function z_(e,t){const n=new TextEncoder,r=F_(e),o=r.slice(0,16),u=r.slice(16,28),y=r.slice(28),d=await crypto.subtle.importKey("raw",n.encode(t),{name:"PBKDF2"},!1,["deriveKey"]),a=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},d,{name:"AES-GCM",length:256},!1,["decrypt"]),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:u},a,y);return new TextDecoder().decode(c)}const Lp=e=>e.trim().replace(/[^a-zA-Z0-9_-]/g,"-"),y3="https://ntfy.sh",H_="wss://ntfy.sh";class HS{options;ws=null;roomId=null;isHost=!1;lastMessageId=null;isSyncing=!1;instanceId=Math.random().toString(36).substring(2,10);constructor(t){this.options=t}async initialize(t){return this.isHost=!0,this.roomId=Lp(t),await this.analyzeSyncData(),this.options.onStatusChange("connecting","Connecting to relay..."),await this.connectRelay(),this.options.onStatusChange("ready",`Room ID: ${this.roomId}`),this.roomId}async analyzeSyncData(){if(this.options.onSyncInfo)try{if(this.options.initialDataMemoId){const n=await Mi.memos.get(this.options.initialDataMemoId);if(n){if(n.threadId){const r=await Mi.memos.where("threadId").equals(n.threadId).count();if((await Mi.memos.where("threadId").equals(n.threadId).sortBy("threadOrder"))[0]?.id===n.id&&r>1){this.options.onSyncInfo({type:"thread",count:r,label:n.title});return}}this.options.onSyncInfo({type:"single",count:1,label:n.title});return}}const t=await Mi.memos.count();this.options.onSyncInfo({type:"full",count:t,label:`${t} Memos`})}catch(t){console.error("Failed to analyze sync data",t)}}async connect(t){this.isHost=!1,this.roomId=Lp(t),this.options.onStatusChange("connecting","Connecting to relay..."),await this.connectRelay(),this.options.onStatusChange("syncing","Requesting data..."),await this.sendRelayMessage({type:"join"})}async connectRelay(){return this.ws&&this.ws.close(),new Promise((t,n)=>{const r=`${H_}/${this.roomId}/ws`,o=setTimeout(()=>{this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.ws.close(),n(new Error("Relay connection timeout")))},1e4);this.ws=new WebSocket(r),this.ws.onopen=()=>{clearTimeout(o),console.log("Relay connected"),t()},this.ws.onmessage=async u=>{try{const y=JSON.parse(u.data);if(y.event==="message"){if(y.tags&&y.tags.includes(`inst_${this.instanceId}`)){console.log("Ignoring own message");return}if(y.id===this.lastMessageId)return;this.lastMessageId=y.id,await this.handleRelayMessage(y)}}catch{}},this.ws.onerror=u=>{clearTimeout(o),console.error("Relay error:",u),this.options.onStatusChange("error","Relay connection failed"),n(u)},this.ws.onclose=()=>{clearTimeout(o),console.log("Relay disconnected"),this.roomId&&this.options.onStatusChange("disconnected","Relay disconnected")}})}async handleRelayMessage(t){if(t.attachment){console.log("Received attachment:",t.attachment.url),this.options.onStatusChange("syncing","Downloading data..."),await this.downloadAndProcessAttachment(t.attachment.url);return}let n;try{n=JSON.parse(t.message)}catch{return}switch(console.log("Received relay message:",n.type),n.type){case"join":this.isHost&&(console.log("Client joined, sending data..."),this.options.onStatusChange("connected","Client joined!"),setTimeout(()=>this.syncData(),1e3));break;case"sync_data":n.data&&(this.options.onStatusChange("syncing","Decrypting data..."),await this.processReceivedEncodedData(n.data));break}}async syncData(){if(!(!this.roomId||this.isSyncing))try{this.isSyncing=!0,this.options.onStatusChange("syncing","Preparing data...");let t;if(this.options.initialDataMemoId){const y=await Mi.memos.get(this.options.initialDataMemoId);if(y&&y.threadId){const d=await Mi.memos.where("threadId").equals(y.threadId).sortBy("threadOrder");d.length>0&&d[0].id===y.id?t=d.map(a=>a.id):t=[this.options.initialDataMemoId]}else t=[this.options.initialDataMemoId]}const n=await PS(t),r=JSON.stringify(n);this.options.onStatusChange("syncing","Encrypting...");const o=await P_(r,this.roomId),u=(t?"PARTIAL:":"FULL:")+o;u.length>2e3?(this.options.onStatusChange("syncing","Uploading attachment..."),await this.sendRelayAttachment(u)):(this.options.onStatusChange("syncing","Sending message..."),await this.sendRelayMessage({type:"sync_data",data:u})),console.log("Data sent to relay"),this.options.initialDataMemoId?this.options.onStatusChange("completed","Data sent successfully!"):this.options.onStatusChange("connected","Data sent!")}catch(t){console.error("Sync failed:",t),this.options.onStatusChange("error",`Sync failed: ${t.message}`)}finally{this.isSyncing=!1}}async sendRelayAttachment(t){if(!this.roomId)return;const n=[this.isHost?"host":"client",`inst_${this.instanceId}`];await fetch(`${y3}/${this.roomId}`,{method:"PUT",body:t,headers:{Filename:"sync.enc",Title:"HandMemo Sync Data",Tags:n.join(",")}})}async sendRelayMessage(t){if(this.roomId)try{const n=[this.isHost?"host":"client",`inst_${this.instanceId}`];t.sender=this.isHost?"host":"client",t.instanceId=this.instanceId,await fetch(`${y3}/${this.roomId}`,{method:"POST",body:JSON.stringify(t),headers:{Tags:n.join(",")}})}catch(n){throw console.error("Failed to send relay message:",n),n}}async downloadAndProcessAttachment(t){try{console.log("Downloading attachment from:",t);const n=await fetch(t);if(!n.ok)throw new Error(`Failed to download attachment: ${n.status} ${n.statusText}`);const r=await n.text();console.log("Attachment downloaded, size:",r.length),await this.processReceivedEncodedData(r)}catch(n){console.error("Download error:",n),this.options.onStatusChange("error",`Download failed: ${n.message||n}`)}}async processReceivedEncodedData(t){let n=t,r=!1;try{t.startsWith("PARTIAL:")?(r=!0,n=t.substring(8)):t.startsWith("FULL:")&&(r=!1,n=t.substring(5))}catch(y){this.options.onStatusChange("error",`Pre-processing failed: ${y.message}`);return}let o="";try{this.options.onStatusChange("syncing","Decrypting data..."),o=await z_(n,this.roomId)}catch(y){console.error("Decryption error:",y),this.options.onStatusChange("error",`Decryption failed: ${y.message||"Unknown error"}`);return}let u;try{u=JSON.parse(o);const y=u.memos||u.logs;this.options.onSyncInfo&&y&&(r?y.length>1?this.options.onSyncInfo({type:"thread",count:y.length,label:y[0]?.title||"Combined Memos"}):this.options.onSyncInfo({type:"single",count:1,label:y[0]?.title||"Memo"}):this.options.onSyncInfo({type:"full",count:y.length,label:"Full Backup"}))}catch(y){console.error("JSON Parse error:",y),this.options.onStatusChange("error",`JSON Parse failed: ${y.message}`);return}try{if(this.options.initialDataMemoId&&this.isHost){console.log("In single memo share mode, skipping merge of incoming data."),this.options.onStatusChange("completed","Memo shared successfully!");return}this.options.onStatusChange("syncing","Merging data..."),await zS(u),this.isHost?(this.options.onStatusChange("completed","Sync Completed!"),this.options.onDataReceived()):(r||(this.options.onStatusChange("syncing","Synchronizing back..."),await this.syncData()),this.options.onStatusChange("completed","Sync Completed!"),this.options.onDataReceived())}catch(y){console.error("Merge error:",y),this.options.onStatusChange("error",`Merge failed: ${y.message||y}`)}}destroy(){this.ws&&(this.ws.close(),this.ws=null),this.roomId=null}}function U_(e){return Kr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Iv(e){return Kr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Rv(e){return Kr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function Nv(e){return Kr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Lv(e){return Kr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function x3(e){return Kr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function US(e){return Kr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function jS(e){return Kr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function b3(e){return Kr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function j_(e){return Kr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function W_(e){return Kr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function $2(e){return Kr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function ey(e){return Kr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function WS(e){return Kr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},child:[]}]})(e)}var G_=Object.defineProperty,Bp=Object.getOwnPropertySymbols,GS=Object.prototype.hasOwnProperty,YS=Object.prototype.propertyIsEnumerable,w3=(e,t,n)=>t in e?G_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ty=(e,t)=>{for(var n in t||(t={}))GS.call(t,n)&&w3(e,n,t[n]);if(Bp)for(var n of Bp(t))YS.call(t,n)&&w3(e,n,t[n]);return e},ny=(e,t)=>{var n={};for(var r in e)GS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bp)for(var r of Bp(e))t.indexOf(r)<0&&YS.call(e,r)&&(n[r]=e[r]);return n};var L0;(e=>{const t=class Vi{constructor(a,c,v,f){if(this.version=a,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],a<Vi.MIN_VERSION||a>Vi.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=a*4+17;let g=[];for(let C=0;C<this.size;C++)g.push(!1);for(let C=0;C<this.size;C++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(v);if(this.drawCodewords(m),f==-1){let C=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const S=this.getPenaltyScore();S<C&&(f=k,C=S),this.applyMask(k)}}o(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(a,c){const v=e.QrSegment.makeSegments(a);return Vi.encodeSegments(v,c)}static encodeBinary(a,c){const v=e.QrSegment.makeBytes(a);return Vi.encodeSegments([v],c)}static encodeSegments(a,c,v=1,f=40,g=-1,m=!0){if(!(Vi.MIN_VERSION<=v&&v<=f&&f<=Vi.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let C,k;for(C=v;;C++){const U=Vi.getNumDataCodewords(C,c)*8,W=y.getTotalBits(a,C);if(W<=U){k=W;break}if(C>=f)throw new RangeError("Data too long")}for(const U of[Vi.Ecc.MEDIUM,Vi.Ecc.QUARTILE,Vi.Ecc.HIGH])m&&k<=Vi.getNumDataCodewords(C,U)*8&&(c=U);let S=[];for(const U of a){n(U.mode.modeBits,4,S),n(U.numChars,U.mode.numCharCountBits(C),S);for(const W of U.getData())S.push(W)}o(S.length==k);const O=Vi.getNumDataCodewords(C,c)*8;o(S.length<=O),n(0,Math.min(4,O-S.length),S),n(0,(8-S.length%8)%8,S),o(S.length%8==0);for(let U=236;S.length<O;U^=253)n(U,8,S);let N=[];for(;N.length*8<S.length;)N.push(0);return S.forEach((U,W)=>N[W>>>3]|=U<<7-(W&7)),new Vi(C,c,N,g)}getModule(a,c){return 0<=a&&a<this.size&&0<=c&&c<this.size&&this.modules[c][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),c=a.length;for(let v=0;v<c;v++)for(let f=0;f<c;f++)v==0&&f==0||v==0&&f==c-1||v==c-1&&f==0||this.drawAlignmentPattern(a[v],a[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const c=this.errorCorrectionLevel.formatBits<<3|a;let v=c;for(let g=0;g<10;g++)v=v<<1^(v>>>9)*1335;const f=(c<<10|v)^21522;o(f>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(f,g));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(f,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(f,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(f,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let v=0;v<12;v++)a=a<<1^(a>>>11)*7973;const c=this.version<<12|a;o(c>>>18==0);for(let v=0;v<18;v++){const f=r(c,v),g=this.size-11+v%3,m=Math.floor(v/3);this.setFunctionModule(g,m,f),this.setFunctionModule(m,g,f)}}drawFinderPattern(a,c){for(let v=-4;v<=4;v++)for(let f=-4;f<=4;f++){const g=Math.max(Math.abs(f),Math.abs(v)),m=a+f,C=c+v;0<=m&&m<this.size&&0<=C&&C<this.size&&this.setFunctionModule(m,C,g!=2&&g!=4)}}drawAlignmentPattern(a,c){for(let v=-2;v<=2;v++)for(let f=-2;f<=2;f++)this.setFunctionModule(a+f,c+v,Math.max(Math.abs(f),Math.abs(v))!=1)}setFunctionModule(a,c,v){this.modules[c][a]=v,this.isFunction[c][a]=!0}addEccAndInterleave(a){const c=this.version,v=this.errorCorrectionLevel;if(a.length!=Vi.getNumDataCodewords(c,v))throw new RangeError("Invalid argument");const f=Vi.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][c],g=Vi.ECC_CODEWORDS_PER_BLOCK[v.ordinal][c],m=Math.floor(Vi.getNumRawDataModules(c)/8),C=f-m%f,k=Math.floor(m/f);let S=[];const O=Vi.reedSolomonComputeDivisor(g);for(let U=0,W=0;U<f;U++){let q=a.slice(W,W+k-g+(U<C?0:1));W+=q.length;const J=Vi.reedSolomonComputeRemainder(q,O);U<C&&q.push(0),S.push(q.concat(J))}let N=[];for(let U=0;U<S[0].length;U++)S.forEach((W,q)=>{(U!=k-g||q>=C)&&N.push(W[U])});return o(N.length==m),N}drawCodewords(a){if(a.length!=Math.floor(Vi.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let f=0;f<this.size;f++)for(let g=0;g<2;g++){const m=v-g,k=(v+1&2)==0?this.size-1-f:f;!this.isFunction[k][m]&&c<a.length*8&&(this.modules[k][m]=r(a[c>>>3],7-(c&7)),c++)}}o(c==a.length*8)}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let v=0;v<this.size;v++){let f;switch(a){case 0:f=(v+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=v%3==0;break;case 3:f=(v+c)%3==0;break;case 4:f=(Math.floor(v/3)+Math.floor(c/2))%2==0;break;case 5:f=v*c%2+v*c%3==0;break;case 6:f=(v*c%2+v*c%3)%2==0;break;case 7:f=((v+c)%2+v*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][v]&&f&&(this.modules[c][v]=!this.modules[c][v])}}getPenaltyScore(){let a=0;for(let g=0;g<this.size;g++){let m=!1,C=0,k=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[g][S]==m?(C++,C==5?a+=Vi.PENALTY_N1:C>5&&a++):(this.finderPenaltyAddHistory(C,k),m||(a+=this.finderPenaltyCountPatterns(k)*Vi.PENALTY_N3),m=this.modules[g][S],C=1);a+=this.finderPenaltyTerminateAndCount(m,C,k)*Vi.PENALTY_N3}for(let g=0;g<this.size;g++){let m=!1,C=0,k=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][g]==m?(C++,C==5?a+=Vi.PENALTY_N1:C>5&&a++):(this.finderPenaltyAddHistory(C,k),m||(a+=this.finderPenaltyCountPatterns(k)*Vi.PENALTY_N3),m=this.modules[S][g],C=1);a+=this.finderPenaltyTerminateAndCount(m,C,k)*Vi.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let m=0;m<this.size-1;m++){const C=this.modules[g][m];C==this.modules[g][m+1]&&C==this.modules[g+1][m]&&C==this.modules[g+1][m+1]&&(a+=Vi.PENALTY_N2)}let c=0;for(const g of this.modules)c=g.reduce((m,C)=>m+(C?1:0),c);const v=this.size*this.size,f=Math.ceil(Math.abs(c*20-v*10)/v)-1;return o(0<=f&&f<=9),a+=f*Vi.PENALTY_N4,o(0<=a&&a<=2568888),a}getAlignmentPatternPositions(){if(this.version==1)return[];{const a=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2;let v=[6];for(let f=this.size-7;v.length<a;f-=c)v.splice(1,0,f);return v}}static getNumRawDataModules(a){if(a<Vi.MIN_VERSION||a>Vi.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*a+128)*a+64;if(a>=2){const v=Math.floor(a/7)+2;c-=(25*v-10)*v-55,a>=7&&(c-=36)}return o(208<=c&&c<=29648),c}static getNumDataCodewords(a,c){return Math.floor(Vi.getNumRawDataModules(a)/8)-Vi.ECC_CODEWORDS_PER_BLOCK[c.ordinal][a]*Vi.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<a-1;f++)c.push(0);c.push(1);let v=1;for(let f=0;f<a;f++){for(let g=0;g<c.length;g++)c[g]=Vi.reedSolomonMultiply(c[g],v),g+1<c.length&&(c[g]^=c[g+1]);v=Vi.reedSolomonMultiply(v,2)}return c}static reedSolomonComputeRemainder(a,c){let v=c.map(f=>0);for(const f of a){const g=f^v.shift();v.push(0),c.forEach((m,C)=>v[C]^=Vi.reedSolomonMultiply(m,g))}return v}static reedSolomonMultiply(a,c){if(a>>>8||c>>>8)throw new RangeError("Byte out of range");let v=0;for(let f=7;f>=0;f--)v=v<<1^(v>>>7)*285,v^=(c>>>f&1)*a;return o(v>>>8==0),v}finderPenaltyCountPatterns(a){const c=a[1];o(c<=this.size*3);const v=c>0&&a[2]==c&&a[3]==c*3&&a[4]==c&&a[5]==c;return(v&&a[0]>=c*4&&a[6]>=c?1:0)+(v&&a[6]>=c*4&&a[0]>=c?1:0)}finderPenaltyTerminateAndCount(a,c,v){return a&&(this.finderPenaltyAddHistory(c,v),c=0),c+=this.size,this.finderPenaltyAddHistory(c,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(a,c){c[0]==0&&(a+=this.size),c.pop(),c.unshift(a)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(d,a,c){if(a<0||a>31||d>>>a)throw new RangeError("Value out of range");for(let v=a-1;v>=0;v--)c.push(d>>>v&1)}function r(d,a){return(d>>>a&1)!=0}function o(d){if(!d)throw new Error("Assertion error")}const u=class Ss{constructor(a,c,v){if(this.mode=a,this.numChars=c,this.bitData=v,c<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(a){let c=[];for(const v of a)n(v,8,c);return new Ss(Ss.Mode.BYTE,a.length,c)}static makeNumeric(a){if(!Ss.isNumeric(a))throw new RangeError("String contains non-numeric characters");let c=[];for(let v=0;v<a.length;){const f=Math.min(a.length-v,3);n(parseInt(a.substring(v,v+f),10),f*3+1,c),v+=f}return new Ss(Ss.Mode.NUMERIC,a.length,c)}static makeAlphanumeric(a){if(!Ss.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],v;for(v=0;v+2<=a.length;v+=2){let f=Ss.ALPHANUMERIC_CHARSET.indexOf(a.charAt(v))*45;f+=Ss.ALPHANUMERIC_CHARSET.indexOf(a.charAt(v+1)),n(f,11,c)}return v<a.length&&n(Ss.ALPHANUMERIC_CHARSET.indexOf(a.charAt(v)),6,c),new Ss(Ss.Mode.ALPHANUMERIC,a.length,c)}static makeSegments(a){return a==""?[]:Ss.isNumeric(a)?[Ss.makeNumeric(a)]:Ss.isAlphanumeric(a)?[Ss.makeAlphanumeric(a)]:[Ss.makeBytes(Ss.toUtf8ByteArray(a))]}static makeEci(a){let c=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,c);else if(a<16384)n(2,2,c),n(a,14,c);else if(a<1e6)n(6,3,c),n(a,21,c);else throw new RangeError("ECI assignment value out of range");return new Ss(Ss.Mode.ECI,0,c)}static isNumeric(a){return Ss.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return Ss.ALPHANUMERIC_REGEX.test(a)}getData(){return this.bitData.slice()}static getTotalBits(a,c){let v=0;for(const f of a){const g=f.mode.numCharCountBits(c);if(f.numChars>=1<<g)return 1/0;v+=4+g+f.bitData.length}return v}static toUtf8ByteArray(a){a=encodeURI(a);let c=[];for(let v=0;v<a.length;v++)a.charAt(v)!="%"?c.push(a.charCodeAt(v)):(c.push(parseInt(a.substring(v+1,v+3),16)),v+=2);return c}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let y=u;e.QrSegment=u})(L0||(L0={}));(e=>{(t=>{const n=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(L0||(L0={}));(e=>{(t=>{const n=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(L0||(L0={}));var yd=L0;var Y_={L:yd.QrCode.Ecc.LOW,M:yd.QrCode.Ecc.MEDIUM,Q:yd.QrCode.Ecc.QUARTILE,H:yd.QrCode.Ecc.HIGH},XS=128,VS="L",KS="#FFFFFF",ZS="#000000",qS=!1,QS=1,X_=4,V_=0,K_=.1;function JS(e,t=0){const n=[];return e.forEach(function(r,o){let u=null;r.forEach(function(y,d){if(!y&&u!==null){n.push(`M${u+t} ${o+t}h${d-u}v1H${u+t}z`),u=null;return}if(d===r.length-1){if(!y)return;u===null?n.push(`M${d+t},${o+t} h1v1H${d+t}z`):n.push(`M${u+t},${o+t} h${d+1-u}v1H${u+t}z`);return}y&&u===null&&(u=d)})}),n.join("")}function $S(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((o,u)=>u<t.x||u>=t.x+t.w?o:!1))}function Z_(e,t,n,r){if(r==null)return null;const o=e.length+n*2,u=Math.floor(t*K_),y=o/t,d=(r.width||u)*y,a=(r.height||u)*y,c=r.x==null?e.length/2-d/2:r.x*y,v=r.y==null?e.length/2-a/2:r.y*y,f=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let C=Math.floor(c),k=Math.floor(v),S=Math.ceil(d+c-C),O=Math.ceil(a+v-k);g={x:C,y:k,w:S,h:O}}const m=r.crossOrigin;return{x:c,y:v,h:a,w:d,excavation:g,opacity:f,crossOrigin:m}}function q_(e,t){return t!=null?Math.max(Math.floor(t),0):e?X_:V_}function e8({value:e,level:t,minVersion:n,includeMargin:r,marginSize:o,imageSettings:u,size:y,boostLevel:d}){let a=kn.useMemo(()=>{const C=(Array.isArray(e)?e:[e]).reduce((k,S)=>(k.push(...yd.QrSegment.makeSegments(S)),k),[]);return yd.QrCode.encodeSegments(C,Y_[t],n,void 0,void 0,d)},[e,t,n,d]);const{cells:c,margin:v,numCells:f,calculatedImageSettings:g}=kn.useMemo(()=>{let m=a.getModules();const C=q_(r,o),k=m.length+C*2,S=Z_(m,y,C,u);return{cells:m,margin:C,numCells:k,calculatedImageSettings:S}},[a,y,u,r,o]);return{qrcode:a,margin:v,cells:c,numCells:f,calculatedImageSettings:g}}var Q_=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),J_=kn.forwardRef(function(t,n){const r=t,{value:o,size:u=XS,level:y=VS,bgColor:d=KS,fgColor:a=ZS,includeMargin:c=qS,minVersion:v=QS,boostLevel:f,marginSize:g,imageSettings:m}=r,k=ny(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:S}=k,O=ny(k,["style"]),N=m?.src,U=kn.useRef(null),W=kn.useRef(null),q=kn.useCallback(ct=>{U.current=ct,typeof n=="function"?n(ct):n&&(n.current=ct)},[n]),[J,ne]=kn.useState(!1),{margin:ve,cells:Se,numCells:Fe,calculatedImageSettings:Ue}=e8({value:o,level:y,minVersion:v,boostLevel:f,includeMargin:c,marginSize:g,imageSettings:m,size:u});kn.useEffect(()=>{if(U.current!=null){const ct=U.current,ge=ct.getContext("2d");if(!ge)return;let ye=Se;const Re=W.current,ft=Ue!=null&&Re!==null&&Re.complete&&Re.naturalHeight!==0&&Re.naturalWidth!==0;ft&&Ue.excavation!=null&&(ye=$S(Se,Ue.excavation));const Me=window.devicePixelRatio||1;ct.height=ct.width=u*Me;const ce=u/Fe*Me;ge.scale(ce,ce),ge.fillStyle=d,ge.fillRect(0,0,Fe,Fe),ge.fillStyle=a,Q_?ge.fill(new Path2D(JS(ye,ve))):Se.forEach(function(le,ae){le.forEach(function(V,me){V&&ge.fillRect(me+ve,ae+ve,1,1)})}),Ue&&(ge.globalAlpha=Ue.opacity),ft&&ge.drawImage(Re,Ue.x+ve,Ue.y+ve,Ue.w,Ue.h)}}),kn.useEffect(()=>{ne(!1)},[N]);const Ze=ty({height:u,width:u},S);let mt=null;return N!=null&&(mt=kn.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{ne(!0)},ref:W,crossOrigin:Ue?.crossOrigin})),kn.createElement(kn.Fragment,null,kn.createElement("canvas",ty({style:Ze,height:u,width:u,ref:q,role:"img"},O)),mt)});J_.displayName="QRCodeCanvas";var sx=kn.forwardRef(function(t,n){const r=t,{value:o,size:u=XS,level:y=VS,bgColor:d=KS,fgColor:a=ZS,includeMargin:c=qS,minVersion:v=QS,boostLevel:f,title:g,marginSize:m,imageSettings:C}=r,k=ny(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:S,cells:O,numCells:N,calculatedImageSettings:U}=e8({value:o,level:y,minVersion:v,boostLevel:f,includeMargin:c,marginSize:m,imageSettings:C,size:u});let W=O,q=null;C!=null&&U!=null&&(U.excavation!=null&&(W=$S(O,U.excavation)),q=kn.createElement("image",{href:C.src,height:U.h,width:U.w,x:U.x+S,y:U.y+S,preserveAspectRatio:"none",opacity:U.opacity,crossOrigin:U.crossOrigin}));const J=JS(W,S);return kn.createElement("svg",ty({height:u,width:u,viewBox:`0 0 ${N} ${N}`,ref:n,role:"img"},k),!!g&&kn.createElement("title",null,g),kn.createElement("path",{fill:d,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),kn.createElement("path",{fill:a,d:J,shapeRendering:"crispEdges"}),q)});sx.displayName="QRCodeSVG";var ir;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ir||(ir={}));var C3=new Map([[ir.QR_CODE,"QR_CODE"],[ir.AZTEC,"AZTEC"],[ir.CODABAR,"CODABAR"],[ir.CODE_39,"CODE_39"],[ir.CODE_93,"CODE_93"],[ir.CODE_128,"CODE_128"],[ir.DATA_MATRIX,"DATA_MATRIX"],[ir.MAXICODE,"MAXICODE"],[ir.ITF,"ITF"],[ir.EAN_13,"EAN_13"],[ir.EAN_8,"EAN_8"],[ir.PDF_417,"PDF_417"],[ir.RSS_14,"RSS_14"],[ir.RSS_EXPANDED,"RSS_EXPANDED"],[ir.UPC_A,"UPC_A"],[ir.UPC_E,"UPC_E"],[ir.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),S3;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(S3||(S3={}));function $_(e){return Object.values(ir).includes(e)}var Jh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Jh||(Jh={}));var rf=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Jh.SCAN_TYPE_CAMERA,Jh.SCAN_TYPE_FILE],e})(),t8=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!C3.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,C3.get(t))},e})(),E3=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),ry;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ry||(ry={}));var n8=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ry.UNKWOWN_ERROR}},e})(),r8=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function If(e){return typeof e>"u"||e===null}function eM(e,t,n){return e>n?n:e<t?t:e}var xd=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Va=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),A3=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),i8=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(o),y=Object.keys(t),d=0,a=y;d<a.length;d++){var c=a[d];if(u.has(c))return n.logError("".concat(c," is not supported videoConstaints."),!0),!1}return!0},e})(),D1={exports:{}},tM=D1.exports,T3;function nM(){return T3||(T3=1,(function(e,t){(function(n,r){r(t)})(tM,(function(n){function r(_e){return _e==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,s){_e.__proto__=s}||function(_e,s){for(var p in s)s.hasOwnProperty(p)&&(_e[p]=s[p])};function u(_e,s){o(_e,s);function p(){this.constructor=_e}_e.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}function y(_e,s){var p=Object.setPrototypeOf;p?p(_e,s):_e.__proto__=s}function d(_e,s){s===void 0&&(s=_e.constructor);var p=Error.captureStackTrace;p&&p(_e,s)}var a=(function(_e){u(s,_e);function s(p){var w=this.constructor,A=_e.call(this,p)||this;return Object.defineProperty(A,"name",{value:w.name,enumerable:!1}),y(A,w.prototype),d(A),A}return s})(Error);class c extends a{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}c.kind="Exception";class v extends c{}v.kind="ArgumentException";class f extends c{}f.kind="IllegalArgumentException";class g{constructor(s){if(this.binarizer=s,s===null)throw new f("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,p){return this.binarizer.getBlackRow(s,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,p,w,A){const D=this.binarizer.getLuminanceSource().crop(s,p,w,A);return new g(this.binarizer.createBinarizer(D))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new g(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new g(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class m extends c{static getChecksumInstance(){return new m}}m.kind="ChecksumException";class C{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(s,p,w,A,D){for(;D--;)w[A++]=s[p++]}static currentTimeMillis(){return Date.now()}}class S extends c{}S.kind="IndexOutOfBoundsException";class O extends S{constructor(s=void 0,p=void 0){super(p),this.index=s,this.message=p}}O.kind="ArrayIndexOutOfBoundsException";class N{static fill(s,p){for(let w=0,A=s.length;w<A;w++)s[w]=p}static fillWithin(s,p,w,A){N.rangeCheck(s.length,p,w);for(let D=p;D<w;D++)s[D]=A}static rangeCheck(s,p,w){if(p>w)throw new f("fromIndex("+p+") > toIndex("+w+")");if(p<0)throw new O(p);if(w>s)throw new O(w)}static asList(...s){return s}static create(s,p,w){return Array.from({length:s}).map(D=>Array.from({length:p}).fill(w))}static createInt32Array(s,p,w){return Array.from({length:s}).map(D=>Int32Array.from({length:p}).fill(w))}static equals(s,p){if(!s||!p||!s.length||!p.length||s.length!==p.length)return!1;for(let w=0,A=s.length;w<A;w++)if(s[w]!==p[w])return!1;return!0}static hashCode(s){if(s===null)return 0;let p=1;for(const w of s)p=31*p+w;return p}static fillUint8Array(s,p){for(let w=0;w!==s.length;w++)s[w]=p}static copyOf(s,p){return s.slice(0,p)}static copyOfUint8Array(s,p){if(s.length<=p){const w=new Uint8Array(p);return w.set(s),w}return s.slice(0,p)}static copyOfRange(s,p,w){const A=w-p,D=new Int32Array(A);return k.arraycopy(s,p,D,0,A),D}static binarySearch(s,p,w){w===void 0&&(w=N.numberComparator);let A=0,D=s.length-1;for(;A<=D;){const L=D+A>>1,b=w(p,s[L]);if(b>0)A=L+1;else if(b<0)D=L-1;else return L}return-A-1}static numberComparator(s,p){return s-p}}class U{static numberOfTrailingZeros(s){let p;if(s===0)return 32;let w=31;return p=s<<16,p!==0&&(w-=16,s=p),p=s<<8,p!==0&&(w-=8,s=p),p=s<<4,p!==0&&(w-=4,s=p),p=s<<2,p!==0&&(w-=2,s=p),w-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let p=1;return s>>>16||(p+=16,s<<=16),s>>>24||(p+=8,s<<=8),s>>>28||(p+=4,s<<=4),s>>>30||(p+=2,s<<=2),p-=s>>>31,p}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,p){return Math.trunc(s/p)}static parseInt(s,p=void 0){return parseInt(s,p)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(s,p){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,p==null?this.bits=W.makeArray(s):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const p=W.makeArray(s);k.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const p=this.size;if(s>=p)return p;const w=this.bits;let A=Math.floor(s/32),D=w[A];D&=~((1<<(s&31))-1);const L=w.length;for(;D===0;){if(++A===L)return p;D=w[A]}const b=A*32+U.numberOfTrailingZeros(D);return b>p?p:b}getNextUnset(s){const p=this.size;if(s>=p)return p;const w=this.bits;let A=Math.floor(s/32),D=~w[A];D&=~((1<<(s&31))-1);const L=w.length;for(;D===0;){if(++A===L)return p;D=~w[A]}const b=A*32+U.numberOfTrailingZeros(D);return b>p?p:b}setBulk(s,p){this.bits[Math.floor(s/32)]=p}setRange(s,p){if(p<s||s<0||p>this.size)throw new f;if(p===s)return;p--;const w=Math.floor(s/32),A=Math.floor(p/32),D=this.bits;for(let L=w;L<=A;L++){const b=L>w?0:s&31,B=(2<<(L<A?31:p&31))-(1<<b);D[L]|=B}}clear(){const s=this.bits.length,p=this.bits;for(let w=0;w<s;w++)p[w]=0}isRange(s,p,w){if(p<s||s<0||p>this.size)throw new f;if(p===s)return!0;p--;const A=Math.floor(s/32),D=Math.floor(p/32),L=this.bits;for(let b=A;b<=D;b++){const T=b>A?0:s&31,j=(2<<(b<D?31:p&31))-(1<<T)&4294967295;if((L[b]&j)!==(w?j:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,p){if(p<0||p>32)throw new f("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let w=p;w>0;w--)this.appendBit((s>>w-1&1)===1)}appendBitArray(s){const p=s.size;this.ensureCapacity(this.size+p);for(let w=0;w<p;w++)this.appendBit(s.get(w))}xor(s){if(this.size!==s.size)throw new f("Sizes don't match");const p=this.bits;for(let w=0,A=p.length;w<A;w++)p[w]^=s.bits[w]}toBytes(s,p,w,A){for(let D=0;D<A;D++){let L=0;for(let b=0;b<8;b++)this.get(s)&&(L|=1<<7-b),s++;p[w+D]=L}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),w=p+1,A=this.bits;for(let D=0;D<w;D++){let L=A[D];L=L>>1&1431655765|(L&1431655765)<<1,L=L>>2&858993459|(L&858993459)<<2,L=L>>4&252645135|(L&252645135)<<4,L=L>>8&16711935|(L&16711935)<<8,L=L>>16&65535|(L&65535)<<16,s[p-D]=L}if(this.size!==w*32){const D=w*32-this.size;let L=s[0]>>>D;for(let b=1;b<w;b++){const T=s[b];L|=T<<32-D,s[b-1]=L,L=T>>>D}s[w-1]=L}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof W))return!1;const p=s;return this.size===p.size&&N.equals(this.bits,p.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let s="";for(let p=0,w=this.size;p<w;p++)(p&7)===0&&(s+=" "),s+=this.get(p)?"X":".";return s}clone(){return new W(this.size,this.bits.slice())}}var q;(function(_e){_e[_e.OTHER=0]="OTHER",_e[_e.PURE_BARCODE=1]="PURE_BARCODE",_e[_e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_e[_e.TRY_HARDER=3]="TRY_HARDER",_e[_e.CHARACTER_SET=4]="CHARACTER_SET",_e[_e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_e[_e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_e[_e.ASSUME_GS1=7]="ASSUME_GS1",_e[_e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_e[_e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_e[_e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var J=q;class ne extends c{static getFormatInstance(){return new ne}}ne.kind="FormatException";var ve;(function(_e){_e[_e.Cp437=0]="Cp437",_e[_e.ISO8859_1=1]="ISO8859_1",_e[_e.ISO8859_2=2]="ISO8859_2",_e[_e.ISO8859_3=3]="ISO8859_3",_e[_e.ISO8859_4=4]="ISO8859_4",_e[_e.ISO8859_5=5]="ISO8859_5",_e[_e.ISO8859_6=6]="ISO8859_6",_e[_e.ISO8859_7=7]="ISO8859_7",_e[_e.ISO8859_8=8]="ISO8859_8",_e[_e.ISO8859_9=9]="ISO8859_9",_e[_e.ISO8859_10=10]="ISO8859_10",_e[_e.ISO8859_11=11]="ISO8859_11",_e[_e.ISO8859_13=12]="ISO8859_13",_e[_e.ISO8859_14=13]="ISO8859_14",_e[_e.ISO8859_15=14]="ISO8859_15",_e[_e.ISO8859_16=15]="ISO8859_16",_e[_e.SJIS=16]="SJIS",_e[_e.Cp1250=17]="Cp1250",_e[_e.Cp1251=18]="Cp1251",_e[_e.Cp1252=19]="Cp1252",_e[_e.Cp1256=20]="Cp1256",_e[_e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_e[_e.UTF8=22]="UTF8",_e[_e.ASCII=23]="ASCII",_e[_e.Big5=24]="Big5",_e[_e.GB18030=25]="GB18030",_e[_e.EUC_KR=26]="EUC_KR"})(ve||(ve={}));class Se{constructor(s,p,w,...A){this.valueIdentifier=s,this.name=w,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=A,Se.VALUE_IDENTIFIER_TO_ECI.set(s,this),Se.NAME_TO_ECI.set(w,this);const D=this.values;for(let L=0,b=D.length;L!==b;L++){const T=D[L];Se.VALUES_TO_ECI.set(T,this)}for(const L of A)Se.NAME_TO_ECI.set(L,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new ne("incorect value");const p=Se.VALUES_TO_ECI.get(s);if(p===void 0)throw new ne("incorect value");return p}static getCharacterSetECIByName(s){const p=Se.NAME_TO_ECI.get(s);if(p===void 0)throw new ne("incorect value");return p}equals(s){if(!(s instanceof Se))return!1;const p=s;return this.getName()===p.getName()}}Se.VALUE_IDENTIFIER_TO_ECI=new Map,Se.VALUES_TO_ECI=new Map,Se.NAME_TO_ECI=new Map,Se.Cp437=new Se(ve.Cp437,Int32Array.from([0,2]),"Cp437"),Se.ISO8859_1=new Se(ve.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Se.ISO8859_2=new Se(ve.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Se.ISO8859_3=new Se(ve.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Se.ISO8859_4=new Se(ve.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Se.ISO8859_5=new Se(ve.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Se.ISO8859_6=new Se(ve.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Se.ISO8859_7=new Se(ve.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Se.ISO8859_8=new Se(ve.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Se.ISO8859_9=new Se(ve.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Se.ISO8859_10=new Se(ve.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Se.ISO8859_11=new Se(ve.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Se.ISO8859_13=new Se(ve.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Se.ISO8859_14=new Se(ve.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Se.ISO8859_15=new Se(ve.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Se.ISO8859_16=new Se(ve.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Se.SJIS=new Se(ve.SJIS,20,"SJIS","Shift_JIS"),Se.Cp1250=new Se(ve.Cp1250,21,"Cp1250","windows-1250"),Se.Cp1251=new Se(ve.Cp1251,22,"Cp1251","windows-1251"),Se.Cp1252=new Se(ve.Cp1252,23,"Cp1252","windows-1252"),Se.Cp1256=new Se(ve.Cp1256,24,"Cp1256","windows-1256"),Se.UnicodeBigUnmarked=new Se(ve.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Se.UTF8=new Se(ve.UTF8,26,"UTF8","UTF-8"),Se.ASCII=new Se(ve.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Se.Big5=new Se(ve.Big5,28,"Big5"),Se.GB18030=new Se(ve.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Se.EUC_KR=new Se(ve.EUC_KR,30,"EUC_KR","EUC-KR");class Fe extends c{}Fe.kind="UnsupportedOperationException";class Ue{static decode(s,p){const w=this.encodingName(p);return this.customDecoder?this.customDecoder(s,w):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(w)?this.decodeFallback(s,w):new TextDecoder(w).decode(s)}static shouldDecodeOnFallback(s){return!Ue.isBrowser()&&s==="ISO-8859-1"}static encode(s,p){const w=this.encodingName(p);return this.customEncoder?this.customEncoder(s,w):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof Se?s:Se.getCharacterSetECIByName(s)}static decodeFallback(s,p){const w=this.encodingCharacterSet(p);if(Ue.isDecodeFallbackSupported(w)){let A="";for(let D=0,L=s.length;D<L;D++){let b=s[D].toString(16);b.length<2&&(b="0"+b),A+="%"+b}return decodeURIComponent(A)}if(w.equals(Se.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Fe(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(Se.UTF8)||s.equals(Se.ISO8859_1)||s.equals(Se.ASCII)}static encodeFallback(s){const w=btoa(unescape(encodeURIComponent(s))).split(""),A=[];for(let D=0;D<w.length;D++)A.push(w[D].charCodeAt(0));return new Uint8Array(A)}}class Ze{static castAsNonUtf8Char(s,p=null){const w=p?p.getName():this.ISO88591;return Ue.decode(new Uint8Array([s]),w)}static guessEncoding(s,p){if(p!=null&&p.get(J.CHARACTER_SET)!==void 0)return p.get(J.CHARACTER_SET).toString();const w=s.length;let A=!0,D=!0,L=!0,b=0,T=0,B=0,j=0,K=0,ee=0,he=0,Te=0,Oe=0,Be=0,Xe=0;const Ke=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ot=0;ot<w&&(A||D||L);ot++){const Je=s[ot]&255;L&&(b>0?(Je&128)===0?L=!1:b--:(Je&128)!==0&&((Je&64)===0?L=!1:(b++,(Je&32)===0?T++:(b++,(Je&16)===0?B++:(b++,(Je&8)===0?j++:L=!1))))),A&&(Je>127&&Je<160?A=!1:Je>159&&(Je<192||Je===215||Je===247)&&Xe++),D&&(K>0?Je<64||Je===127||Je>252?D=!1:K--:Je===128||Je===160||Je>239?D=!1:Je>160&&Je<224?(ee++,Te=0,he++,he>Oe&&(Oe=he)):Je>127?(K++,he=0,Te++,Te>Be&&(Be=Te)):(he=0,Te=0))}return L&&b>0&&(L=!1),D&&K>0&&(D=!1),L&&(Ke||T+B+j>0)?Ze.UTF8:D&&(Ze.ASSUME_SHIFT_JIS||Oe>=3||Be>=3)?Ze.SHIFT_JIS:A&&D?Oe===2&&ee===2||Xe*10>=w?Ze.SHIFT_JIS:Ze.ISO88591:A?Ze.ISO88591:D?Ze.SHIFT_JIS:L?Ze.UTF8:Ze.PLATFORM_DEFAULT_ENCODING}static format(s,...p){let w=-1;function A(L,b,T,B,j,K){if(L==="%%")return"%";if(p[++w]===void 0)return;L=B?parseInt(B.substr(1)):void 0;let ee=j?parseInt(j.substr(1)):void 0,he;switch(K){case"s":he=p[w];break;case"c":he=p[w][0];break;case"f":he=parseFloat(p[w]).toFixed(L);break;case"p":he=parseFloat(p[w]).toPrecision(L);break;case"e":he=parseFloat(p[w]).toExponential(L);break;case"x":he=parseInt(p[w]).toString(ee||16);break;case"d":he=parseFloat(parseInt(p[w],ee||10).toPrecision(L)).toFixed(0);break}he=typeof he=="object"?JSON.stringify(he):(+he).toString(ee);let Te=parseInt(T),Oe=T&&T[0]+""=="0"?"0":" ";for(;he.length<Te;)he=b!==void 0?he+Oe:Oe+he;return he}let D=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(D,A)}static getBytes(s,p){return Ue.encode(s,p)}static getCharCode(s,p=0){return s.charCodeAt(p)}static getCharAt(s){return String.fromCharCode(s)}}Ze.SHIFT_JIS=Se.SJIS.getName(),Ze.GB2312="GB2312",Ze.ISO88591=Se.ISO8859_1.getName(),Ze.EUC_JP="EUC_JP",Ze.UTF8=Se.UTF8.getName(),Ze.PLATFORM_DEFAULT_ENCODING=Ze.UTF8,Ze.ASSUME_SHIFT_JIS=!1;class mt{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Ze.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,p,w){for(let A=p;p<p+w;A++)this.append(s[A]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,p){this.value=this.value.substr(0,s)+p+this.value.substr(s+1)}substring(s,p){return this.value.substring(s,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,p){this.value=this.value.substr(0,s)+p+this.value.substr(s+p.length)}}class ct{constructor(s,p,w,A){if(this.width=s,this.height=p,this.rowSize=w,this.bits=A,p==null&&(p=s),this.height=p,s<1||p<1)throw new f("Both dimensions must be greater than 0");w==null&&(w=Math.floor((s+31)/32)),this.rowSize=w,A==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const p=s.length,w=s[0].length,A=new ct(w,p);for(let D=0;D<p;D++){const L=s[D];for(let b=0;b<w;b++)L[b]&&A.set(b,D)}return A}static parseFromString(s,p,w){if(s===null)throw new f("stringRepresentation cannot be null");const A=new Array(s.length);let D=0,L=0,b=-1,T=0,B=0;for(;B<s.length;)if(s.charAt(B)===`
`||s.charAt(B)==="\r"){if(D>L){if(b===-1)b=D-L;else if(D-L!==b)throw new f("row lengths do not match");L=D,T++}B++}else if(s.substring(B,B+p.length)===p)B+=p.length,A[D]=!0,D++;else if(s.substring(B,B+w.length)===w)B+=w.length,A[D]=!1,D++;else throw new f("illegal character encountered: "+s.substring(B));if(D>L){if(b===-1)b=D-L;else if(D-L!==b)throw new f("row lengths do not match");T++}const j=new ct(b,T);for(let K=0;K<D;K++)A[K]&&j.set(Math.floor(K%b),Math.floor(K/b));return j}get(s,p){const w=p*this.rowSize+Math.floor(s/32);return(this.bits[w]>>>(s&31)&1)!==0}set(s,p){const w=p*this.rowSize+Math.floor(s/32);this.bits[w]|=1<<(s&31)&4294967295}unset(s,p){const w=p*this.rowSize+Math.floor(s/32);this.bits[w]&=~(1<<(s&31)&4294967295)}flip(s,p){const w=p*this.rowSize+Math.floor(s/32);this.bits[w]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new f("input matrix dimensions do not match");const p=new W(Math.floor(this.width/32)+1),w=this.rowSize,A=this.bits;for(let D=0,L=this.height;D<L;D++){const b=D*w,T=s.getRow(D,p).getBitArray();for(let B=0;B<w;B++)A[b+B]^=T[B]}}clear(){const s=this.bits,p=s.length;for(let w=0;w<p;w++)s[w]=0}setRegion(s,p,w,A){if(p<0||s<0)throw new f("Left and top must be nonnegative");if(A<1||w<1)throw new f("Height and width must be at least 1");const D=s+w,L=p+A;if(L>this.height||D>this.width)throw new f("The region must fit inside the matrix");const b=this.rowSize,T=this.bits;for(let B=p;B<L;B++){const j=B*b;for(let K=s;K<D;K++)T[j+Math.floor(K/32)]|=1<<(K&31)&4294967295}}getRow(s,p){p==null||p.getSize()<this.width?p=new W(this.width):p.clear();const w=this.rowSize,A=this.bits,D=s*w;for(let L=0;L<w;L++)p.setBulk(L*32,A[D+L]);return p}setRow(s,p){k.arraycopy(p.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),p=this.getHeight();let w=new W(s),A=new W(s);for(let D=0,L=Math.floor((p+1)/2);D<L;D++)w=this.getRow(D,w),A=this.getRow(p-1-D,A),w.reverse(),A.reverse(),this.setRow(D,A),this.setRow(p-1-D,w)}getEnclosingRectangle(){const s=this.width,p=this.height,w=this.rowSize,A=this.bits;let D=s,L=p,b=-1,T=-1;for(let B=0;B<p;B++)for(let j=0;j<w;j++){const K=A[B*w+j];if(K!==0){if(B<L&&(L=B),B>T&&(T=B),j*32<D){let ee=0;for(;(K<<31-ee&4294967295)===0;)ee++;j*32+ee<D&&(D=j*32+ee)}if(j*32+31>b){let ee=31;for(;!(K>>>ee);)ee--;j*32+ee>b&&(b=j*32+ee)}}}return b<D||T<L?null:Int32Array.from([D,L,b-D+1,T-L+1])}getTopLeftOnBit(){const s=this.rowSize,p=this.bits;let w=0;for(;w<p.length&&p[w]===0;)w++;if(w===p.length)return null;const A=w/s;let D=w%s*32;const L=p[w];let b=0;for(;(L<<31-b&4294967295)===0;)b++;return D+=b,Int32Array.from([D,A])}getBottomRightOnBit(){const s=this.rowSize,p=this.bits;let w=p.length-1;for(;w>=0&&p[w]===0;)w--;if(w<0)return null;const A=Math.floor(w/s);let D=Math.floor(w%s)*32;const L=p[w];let b=31;for(;!(L>>>b);)b--;return D+=b,Int32Array.from([D,A])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ct))return!1;const p=s;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&N.equals(this.bits,p.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+N.hashCode(this.bits),s}toString(s="X ",p="  ",w=`
`){return this.buildToString(s,p,w)}buildToString(s,p,w){let A=new mt;for(let D=0,L=this.height;D<L;D++){for(let b=0,T=this.width;b<T;b++)A.append(this.get(b,D)?s:p);A.append(w)}return A.toString()}clone(){return new ct(this.width,this.height,this.rowSize,this.bits.slice())}}class ge extends c{static getNotFoundInstance(){return new ge}}ge.kind="NotFoundException";class ye extends C{constructor(s){super(s),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(s,p){const w=this.getLuminanceSource(),A=w.getWidth();p==null||p.getSize()<A?p=new W(A):p.clear(),this.initArrays(A);const D=w.getRow(s,this.luminances),L=this.buckets;for(let T=0;T<A;T++)L[(D[T]&255)>>ye.LUMINANCE_SHIFT]++;const b=ye.estimateBlackPoint(L);if(A<3)for(let T=0;T<A;T++)(D[T]&255)<b&&p.set(T);else{let T=D[0]&255,B=D[1]&255;for(let j=1;j<A-1;j++){const K=D[j+1]&255;(B*4-T-K)/2<b&&p.set(j),T=B,B=K}}return p}getBlackMatrix(){const s=this.getLuminanceSource(),p=s.getWidth(),w=s.getHeight(),A=new ct(p,w);this.initArrays(p);const D=this.buckets;for(let T=1;T<5;T++){const B=Math.floor(w*T/5),j=s.getRow(B,this.luminances),K=Math.floor(p*4/5);for(let ee=Math.floor(p/5);ee<K;ee++){const he=j[ee]&255;D[he>>ye.LUMINANCE_SHIFT]++}}const L=ye.estimateBlackPoint(D),b=s.getMatrix();for(let T=0;T<w;T++){const B=T*p;for(let j=0;j<p;j++)(b[B+j]&255)<L&&A.set(j,T)}return A}createBinarizer(s){return new ye(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const p=this.buckets;for(let w=0;w<ye.LUMINANCE_BUCKETS;w++)p[w]=0}static estimateBlackPoint(s){const p=s.length;let w=0,A=0,D=0;for(let j=0;j<p;j++)s[j]>D&&(A=j,D=s[j]),s[j]>w&&(w=s[j]);let L=0,b=0;for(let j=0;j<p;j++){const K=j-A,ee=s[j]*K*K;ee>b&&(L=j,b=ee)}if(A>L){const j=A;A=L,L=j}if(L-A<=p/16)throw new ge;let T=L-1,B=-1;for(let j=L-1;j>A;j--){const K=j-A,ee=K*K*(L-j)*(w-s[j]);ee>B&&(T=j,B=ee)}return T<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class Re extends ye{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),p=s.getWidth(),w=s.getHeight();if(p>=Re.MINIMUM_DIMENSION&&w>=Re.MINIMUM_DIMENSION){const A=s.getMatrix();let D=p>>Re.BLOCK_SIZE_POWER;(p&Re.BLOCK_SIZE_MASK)!==0&&D++;let L=w>>Re.BLOCK_SIZE_POWER;(w&Re.BLOCK_SIZE_MASK)!==0&&L++;const b=Re.calculateBlackPoints(A,D,L,p,w),T=new ct(p,w);Re.calculateThresholdForBlock(A,D,L,p,w,b,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Re(s)}static calculateThresholdForBlock(s,p,w,A,D,L,b){const T=D-Re.BLOCK_SIZE,B=A-Re.BLOCK_SIZE;for(let j=0;j<w;j++){let K=j<<Re.BLOCK_SIZE_POWER;K>T&&(K=T);const ee=Re.cap(j,2,w-3);for(let he=0;he<p;he++){let Te=he<<Re.BLOCK_SIZE_POWER;Te>B&&(Te=B);const Oe=Re.cap(he,2,p-3);let Be=0;for(let Ke=-2;Ke<=2;Ke++){const ot=L[ee+Ke];Be+=ot[Oe-2]+ot[Oe-1]+ot[Oe]+ot[Oe+1]+ot[Oe+2]}const Xe=Be/25;Re.thresholdBlock(s,Te,K,Xe,A,b)}}}static cap(s,p,w){return s<p?p:s>w?w:s}static thresholdBlock(s,p,w,A,D,L){for(let b=0,T=w*D+p;b<Re.BLOCK_SIZE;b++,T+=D)for(let B=0;B<Re.BLOCK_SIZE;B++)(s[T+B]&255)<=A&&L.set(p+B,w+b)}static calculateBlackPoints(s,p,w,A,D){const L=D-Re.BLOCK_SIZE,b=A-Re.BLOCK_SIZE,T=new Array(w);for(let B=0;B<w;B++){T[B]=new Int32Array(p);let j=B<<Re.BLOCK_SIZE_POWER;j>L&&(j=L);for(let K=0;K<p;K++){let ee=K<<Re.BLOCK_SIZE_POWER;ee>b&&(ee=b);let he=0,Te=255,Oe=0;for(let Xe=0,Ke=j*A+ee;Xe<Re.BLOCK_SIZE;Xe++,Ke+=A){for(let ot=0;ot<Re.BLOCK_SIZE;ot++){const Je=s[Ke+ot]&255;he+=Je,Je<Te&&(Te=Je),Je>Oe&&(Oe=Je)}if(Oe-Te>Re.MIN_DYNAMIC_RANGE)for(Xe++,Ke+=A;Xe<Re.BLOCK_SIZE;Xe++,Ke+=A)for(let ot=0;ot<Re.BLOCK_SIZE;ot++)he+=s[Ke+ot]&255}let Be=he>>Re.BLOCK_SIZE_POWER*2;if(Oe-Te<=Re.MIN_DYNAMIC_RANGE&&(Be=Te/2,B>0&&K>0)){const Xe=(T[B-1][K]+2*T[B][K-1]+T[B-1][K-1])/4;Te<Xe&&(Be=Xe)}T[B][K]=Be}}return T}}Re.BLOCK_SIZE_POWER=3,Re.BLOCK_SIZE=1<<Re.BLOCK_SIZE_POWER,Re.BLOCK_SIZE_MASK=Re.BLOCK_SIZE-1,Re.MINIMUM_DIMENSION=Re.BLOCK_SIZE*5,Re.MIN_DYNAMIC_RANGE=24;class ft{constructor(s,p){this.width=s,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,p,w,A){throw new Fe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Fe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Fe("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let p=new mt;for(let w=0;w<this.height;w++){const A=this.getRow(w,s);for(let D=0;D<this.width;D++){const L=A[D]&255;let b;L<64?b="#":L<128?b="+":L<192?b=".":b=" ",p.append(b)}p.append(`
`)}return p.toString()}}class Me extends ft{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,p){const w=this.delegate.getRow(s,p),A=this.getWidth();for(let D=0;D<A;D++)w[D]=255-(w[D]&255);return w}getMatrix(){const s=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),w=new Uint8ClampedArray(p);for(let A=0;A<p;A++)w[A]=255-(s[A]&255);return w}isCropSupported(){return this.delegate.isCropSupported()}crop(s,p,w,A){return new Me(this.delegate.crop(s,p,w,A))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class ce extends ft{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ce.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const p=s.getContext("2d").getImageData(0,0,s.width,s.height);return ce.toGrayscaleBuffer(p.data,s.width,s.height)}static toGrayscaleBuffer(s,p,w){const A=new Uint8ClampedArray(p*w);for(let D=0,L=0,b=s.length;D<b;D+=4,L++){let T;if(s[D+3]===0)T=255;else{const j=s[D],K=s[D+1],ee=s[D+2];T=306*j+601*K+117*ee+512>>10}A[L]=T}return A}getRow(s,p){if(s<0||s>=this.getHeight())throw new f("Requested row is outside the image: "+s);const w=this.getWidth(),A=s*w;return p===null?p=this.buffer.slice(A,A+w):(p.length<w&&(p=new Uint8ClampedArray(w)),p.set(this.buffer.slice(A,A+w))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,p,w,A){return super.crop(s,p,w,A),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const p=this.getTempCanvasElement(),w=p.getContext("2d"),A=s*ce.DEGREE_TO_RADIANS,D=this.canvas.width,L=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(A))*D+Math.abs(Math.sin(A))*L),T=Math.ceil(Math.abs(Math.sin(A))*D+Math.abs(Math.cos(A))*L);return p.width=b,p.height=T,w.translate(b/2,T/2),w.rotate(A),w.drawImage(this.canvas,D/-2,L/-2),this.buffer=ce.makeBufferFromCanvasImageData(p),this}invert(){return new Me(this)}}ce.DEGREE_TO_RADIANS=Math.PI/180;class le{constructor(s,p,w){this.deviceId=s,this.label=p,this.kind="videoinput",this.groupId=w||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ae=(globalThis||T1||self||window||void 0)&&(globalThis||T1||self||window||void 0).__awaiter||function(_e,s,p,w){function A(D){return D instanceof p?D:new p(function(L){L(D)})}return new(p||(p=Promise))(function(D,L){function b(j){try{B(w.next(j))}catch(K){L(K)}}function T(j){try{B(w.throw(j))}catch(K){L(K)}}function B(j){j.done?D(j.value):A(j.value).then(b,T)}B((w=w.apply(_e,s||[])).next())})};class V{constructor(s,p=500,w){this.reader=s,this.timeBetweenScansMillis=p,this._hints=w,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const w of s){const A=w.kind==="video"?"videoinput":w.kind;if(A!=="videoinput")continue;const D=w.deviceId||w.id,L=w.label||`Video device ${p.length+1}`,b=w.groupId,T={deviceId:D,label:L,kind:A,groupId:b};p.push(T)}return p})}getVideoInputDevices(){return ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new le(p.deviceId,p.label))})}findDeviceById(s){return ae(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(w=>w.deviceId===s):null})}decodeFromInputVideoDevice(s,p){return ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,p)})}decodeOnceFromVideoDevice(s,p){return ae(this,void 0,void 0,function*(){this.reset();let w;s?w={deviceId:{exact:s}}:w={facingMode:"environment"};const A={video:w};return yield this.decodeOnceFromConstraints(A,p)})}decodeOnceFromConstraints(s,p){return ae(this,void 0,void 0,function*(){const w=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(w,p)})}decodeOnceFromStream(s,p){return ae(this,void 0,void 0,function*(){this.reset();const w=yield this.attachStreamToVideo(s,p);return yield this.decodeOnce(w)})}decodeFromInputVideoDeviceContinuously(s,p,w){return ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,p,w)})}decodeFromVideoDevice(s,p,w){return ae(this,void 0,void 0,function*(){let A;s?A={deviceId:{exact:s}}:A={facingMode:"environment"};const D={video:A};return yield this.decodeFromConstraints(D,p,w)})}decodeFromConstraints(s,p,w){return ae(this,void 0,void 0,function*(){const A=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(A,p,w)})}decodeFromStream(s,p,w){return ae(this,void 0,void 0,function*(){this.reset();const A=yield this.attachStreamToVideo(s,p);return yield this.decodeContinuously(A,w)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,p){return ae(this,void 0,void 0,function*(){const w=this.prepareVideoElement(p);return this.addVideoSource(w,s),this.videoElement=w,this.stream=s,yield this.playVideoOnLoadAsync(w),w})}playVideoOnLoadAsync(s){return new Promise((p,w)=>this.playVideoOnLoad(s,()=>p()))}playVideoOnLoad(s,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",p),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,p){const w=document.getElementById(s);if(!w)throw new v(`element with id '${s}' not found`);if(w.nodeName.toLowerCase()!==p.toLowerCase())throw new v(`element with id '${s}' must be an ${p} element`);return w}decodeFromImage(s,p){if(!s&&!p)throw new v("either imageElement with a src set or an url must be provided");return p&&!s?this.decodeFromImageUrl(p):this.decodeFromImageElement(s)}decodeFromVideo(s,p){if(!s&&!p)throw new v("Either an element with a src set or an URL must be provided");return p&&!s?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,p,w){if(s===void 0&&p===void 0)throw new v("Either an element with a src set or an URL must be provided");return p&&!s?this.decodeFromVideoUrlContinuously(p,w):this.decodeFromVideoElementContinuously(s,w)}decodeFromImageElement(s){if(!s)throw new v("An image element must be provided.");this.reset();const p=this.prepareImageElement(s);this.imageElement=p;let w;return this.isImageLoaded(p)?w=this.decodeOnce(p,!1,!0):w=this._decodeOnLoadImage(p),w}decodeFromVideoElement(s){const p=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(s,p){const w=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(w,p)}_decodeFromVideoElementSetup(s){if(!s)throw new v("A video element must be provided.");this.reset();const p=this.prepareVideoElement(s);return this.videoElement=p,p}decodeFromImageUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const w=this._decodeOnLoadImage(p);return p.src=s,w}decodeFromVideoUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),w=this.decodeFromVideoElement(p);return p.src=s,w}decodeFromVideoUrlContinuously(s,p){if(!s)throw new v("An URL must be provided.");this.reset();const w=this.prepareVideoElement(),A=this.decodeFromVideoElementContinuously(w,p);return w.src=s,A}_decodeOnLoadImage(s){return new Promise((p,w)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(p,w),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,p){return ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,p)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let p;return typeof s>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof s=="string"&&(p=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(p=s),p}prepareVideoElement(s){let p;return!s&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof s=="string"&&(p=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(p=s),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(s,p=!0,w=!0){this._stopAsyncDecode=!1;const A=(D,L)=>{if(this._stopAsyncDecode){L(new ge("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(s);D(b)}catch(b){const T=p&&b instanceof ge,j=(b instanceof m||b instanceof ne)&&w;if(T||j)return setTimeout(A,this._timeBetweenDecodingAttempts,D,L);L(b)}};return new Promise((D,L)=>A(D,L))}decodeContinuously(s,p){this._stopContinuousDecode=!1;const w=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const A=this.decode(s);p(A,null),setTimeout(w,this.timeBetweenScansMillis)}catch(A){p(null,A);const D=A instanceof m||A instanceof ne,L=A instanceof ge;(D||L)&&setTimeout(w,this._timeBetweenDecodingAttempts)}};w()}decode(s){const p=this.createBinaryBitmap(s);return this.decodeBitmap(p)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,p,w){p||(p={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),w||(w=this.captureCanvasContext),w.drawImage(s,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(s,p,w=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),w||(w=this.captureCanvasContext),w.drawImage(s,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const p=this.getCaptureCanvas(s),w=new ce(p),A=new Re(w);return new g(A)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const w=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=w}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const p=this.createCaptureCanvas(s);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let w,A;return typeof s<"u"&&(s instanceof HTMLVideoElement?(w=s.videoWidth,A=s.videoHeight):s instanceof HTMLImageElement&&(w=s.naturalWidth||s.width,A=s.naturalHeight||s.height)),p.style.width=w+"px",p.style.height=A+"px",p.width=w,p.height=A,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,p){try{s.srcObject=p}catch{s.src=URL.createObjectURL(p)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class me{constructor(s,p,w=p==null?0:8*p.length,A,D,L=k.currentTimeMillis()){this.text=s,this.rawBytes=p,this.numBits=w,this.resultPoints=A,this.format=D,this.timestamp=L,this.text=s,this.rawBytes=p,w==null?this.numBits=p==null?0:8*p.length:this.numBits=w,this.resultPoints=A,this.format=D,this.resultMetadata=null,L==null?this.timestamp=k.currentTimeMillis():this.timestamp=L}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,p)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const p=this.resultPoints;if(p===null)this.resultPoints=s;else if(s!==null&&s.length>0){const w=new Array(p.length+s.length);k.arraycopy(p,0,w,0,p.length),k.arraycopy(s,0,w,p.length,s.length),this.resultPoints=w}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ae;(function(_e){_e[_e.AZTEC=0]="AZTEC",_e[_e.CODABAR=1]="CODABAR",_e[_e.CODE_39=2]="CODE_39",_e[_e.CODE_93=3]="CODE_93",_e[_e.CODE_128=4]="CODE_128",_e[_e.DATA_MATRIX=5]="DATA_MATRIX",_e[_e.EAN_8=6]="EAN_8",_e[_e.EAN_13=7]="EAN_13",_e[_e.ITF=8]="ITF",_e[_e.MAXICODE=9]="MAXICODE",_e[_e.PDF_417=10]="PDF_417",_e[_e.QR_CODE=11]="QR_CODE",_e[_e.RSS_14=12]="RSS_14",_e[_e.RSS_EXPANDED=13]="RSS_EXPANDED",_e[_e.UPC_A=14]="UPC_A",_e[_e.UPC_E=15]="UPC_E",_e[_e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ae||(Ae={}));var Ne=Ae,ut;(function(_e){_e[_e.OTHER=0]="OTHER",_e[_e.ORIENTATION=1]="ORIENTATION",_e[_e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_e[_e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_e[_e.ISSUE_NUMBER=4]="ISSUE_NUMBER",_e[_e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_e[_e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_e[_e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_e[_e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_e[_e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_e[_e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ut||(ut={}));var xt=ut;class et{constructor(s,p,w,A,D=-1,L=-1){this.rawBytes=s,this.text=p,this.byteSegments=w,this.ecLevel=A,this.structuredAppendSequenceNumber=D,this.structuredAppendParity=L,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Wt{exp(s){return this.expTable[s]}log(s){if(s===0)throw new f;return this.logTable[s]}static addOrSubtract(s,p){return s^p}}class _t{constructor(s,p){if(p.length===0)throw new f;this.field=s;const w=p.length;if(w>1&&p[0]===0){let A=1;for(;A<w&&p[A]===0;)A++;A===w?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(w-A),k.arraycopy(p,A,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const p=this.coefficients;let w;if(s===1){w=0;for(let L=0,b=p.length;L!==b;L++){const T=p[L];w=Wt.addOrSubtract(w,T)}return w}w=p[0];const A=p.length,D=this.field;for(let L=1;L<A;L++)w=Wt.addOrSubtract(D.multiply(s,w),p[L]);return w}addOrSubtract(s){if(!this.field.equals(s.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let p=this.coefficients,w=s.coefficients;if(p.length>w.length){const L=p;p=w,w=L}let A=new Int32Array(w.length);const D=w.length-p.length;k.arraycopy(w,0,A,0,D);for(let L=D;L<w.length;L++)A[L]=Wt.addOrSubtract(p[L-D],w[L]);return new _t(this.field,A)}multiply(s){if(!this.field.equals(s.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const p=this.coefficients,w=p.length,A=s.coefficients,D=A.length,L=new Int32Array(w+D-1),b=this.field;for(let T=0;T<w;T++){const B=p[T];for(let j=0;j<D;j++)L[T+j]=Wt.addOrSubtract(L[T+j],b.multiply(B,A[j]))}return new _t(b,L)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const p=this.coefficients.length,w=this.field,A=new Int32Array(p),D=this.coefficients;for(let L=0;L<p;L++)A[L]=w.multiply(D[L],s);return new _t(w,A)}multiplyByMonomial(s,p){if(s<0)throw new f;if(p===0)return this.field.getZero();const w=this.coefficients,A=w.length,D=new Int32Array(A+s),L=this.field;for(let b=0;b<A;b++)D[b]=L.multiply(w[b],p);return new _t(L,D)}divide(s){if(!this.field.equals(s.field))throw new f("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new f("Divide by 0");const p=this.field;let w=p.getZero(),A=this;const D=s.getCoefficient(s.getDegree()),L=p.inverse(D);for(;A.getDegree()>=s.getDegree()&&!A.isZero();){const b=A.getDegree()-s.getDegree(),T=p.multiply(A.getCoefficient(A.getDegree()),L),B=s.multiplyByMonomial(b,T),j=p.buildMonomial(b,T);w=w.addOrSubtract(j),A=A.addOrSubtract(B)}return[w,A]}toString(){let s="";for(let p=this.getDegree();p>=0;p--){let w=this.getCoefficient(p);if(w!==0){if(w<0?(s+=" - ",w=-w):s.length>0&&(s+=" + "),p===0||w!==1){const A=this.field.log(w);A===0?s+="1":A===1?s+="a":(s+="a^",s+=A)}p!==0&&(p===1?s+="x":(s+="x^",s+=p))}}return s}}class Ft extends c{}Ft.kind="ArithmeticException";class st extends Wt{constructor(s,p,w){super(),this.primitive=s,this.size=p,this.generatorBase=w;const A=new Int32Array(p);let D=1;for(let b=0;b<p;b++)A[b]=D,D*=2,D>=p&&(D^=s,D&=p-1);this.expTable=A;const L=new Int32Array(p);for(let b=0;b<p-1;b++)L[A[b]]=b;this.logTable=L,this.zero=new _t(this,Int32Array.from([0])),this.one=new _t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,p){if(s<0)throw new f;if(p===0)return this.zero;const w=new Int32Array(s+1);return w[0]=p,new _t(this,w)}inverse(s){if(s===0)throw new Ft;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,p){return s===0||p===0?0:this.expTable[(this.logTable[s]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class At extends c{}At.kind="ReedSolomonException";class St extends c{}St.kind="IllegalStateException";class Kt{constructor(s){this.field=s}decode(s,p){const w=this.field,A=new _t(w,s),D=new Int32Array(p);let L=!0;for(let he=0;he<p;he++){const Te=A.evaluateAt(w.exp(he+w.getGeneratorBase()));D[D.length-1-he]=Te,Te!==0&&(L=!1)}if(L)return;const b=new _t(w,D),T=this.runEuclideanAlgorithm(w.buildMonomial(p,1),b,p),B=T[0],j=T[1],K=this.findErrorLocations(B),ee=this.findErrorMagnitudes(j,K);for(let he=0;he<K.length;he++){const Te=s.length-1-w.log(K[he]);if(Te<0)throw new At("Bad error location");s[Te]=st.addOrSubtract(s[Te],ee[he])}}runEuclideanAlgorithm(s,p,w){if(s.getDegree()<p.getDegree()){const he=s;s=p,p=he}const A=this.field;let D=s,L=p,b=A.getZero(),T=A.getOne();for(;L.getDegree()>=(w/2|0);){let he=D,Te=b;if(D=L,b=T,D.isZero())throw new At("r_{i-1} was zero");L=he;let Oe=A.getZero();const Be=D.getCoefficient(D.getDegree()),Xe=A.inverse(Be);for(;L.getDegree()>=D.getDegree()&&!L.isZero();){const Ke=L.getDegree()-D.getDegree(),ot=A.multiply(L.getCoefficient(L.getDegree()),Xe);Oe=Oe.addOrSubtract(A.buildMonomial(Ke,ot)),L=L.addOrSubtract(D.multiplyByMonomial(Ke,ot))}if(T=Oe.multiply(b).addOrSubtract(Te),L.getDegree()>=D.getDegree())throw new St("Division algorithm failed to reduce polynomial?")}const B=T.getCoefficient(0);if(B===0)throw new At("sigmaTilde(0) was zero");const j=A.inverse(B),K=T.multiplyScalar(j),ee=L.multiplyScalar(j);return[K,ee]}findErrorLocations(s){const p=s.getDegree();if(p===1)return Int32Array.from([s.getCoefficient(1)]);const w=new Int32Array(p);let A=0;const D=this.field;for(let L=1;L<D.getSize()&&A<p;L++)s.evaluateAt(L)===0&&(w[A]=D.inverse(L),A++);if(A!==p)throw new At("Error locator degree does not match number of roots");return w}findErrorMagnitudes(s,p){const w=p.length,A=new Int32Array(w),D=this.field;for(let L=0;L<w;L++){const b=D.inverse(p[L]);let T=1;for(let B=0;B<w;B++)if(L!==B){const j=D.multiply(p[B],b),K=(j&1)===0?j|1:j&-2;T=D.multiply(T,K)}A[L]=D.multiply(s.evaluateAt(b),D.inverse(T)),D.getGeneratorBase()!==0&&(A[L]=D.multiply(A[L],b))}return A}}var zt;(function(_e){_e[_e.UPPER=0]="UPPER",_e[_e.LOWER=1]="LOWER",_e[_e.MIXED=2]="MIXED",_e[_e.DIGIT=3]="DIGIT",_e[_e.PUNCT=4]="PUNCT",_e[_e.BINARY=5]="BINARY"})(zt||(zt={}));class Ut{decode(s){this.ddata=s;let p=s.getBits(),w=this.extractBits(p),A=this.correctBits(w),D=Ut.convertBoolArrayToByteArray(A),L=Ut.getEncodedData(A),b=new et(D,L,null,null);return b.setNumBits(A.length),b}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let p=s.length,w=zt.UPPER,A=zt.UPPER,D="",L=0;for(;L<p;)if(A===zt.BINARY){if(p-L<5)break;let b=Ut.readCode(s,L,5);if(L+=5,b===0){if(p-L<11)break;b=Ut.readCode(s,L,11)+31,L+=11}for(let T=0;T<b;T++){if(p-L<8){L=p;break}const B=Ut.readCode(s,L,8);D+=Ze.castAsNonUtf8Char(B),L+=8}A=w}else{let b=A===zt.DIGIT?4:5;if(p-L<b)break;let T=Ut.readCode(s,L,b);L+=b;let B=Ut.getCharacter(A,T);B.startsWith("CTRL_")?(w=A,A=Ut.getTable(B.charAt(5)),B.charAt(6)==="L"&&(w=A)):(D+=B,A=w)}return D}static getTable(s){switch(s){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;default:return zt.UPPER}}static getCharacter(s,p){switch(s){case zt.UPPER:return Ut.UPPER_TABLE[p];case zt.LOWER:return Ut.LOWER_TABLE[p];case zt.MIXED:return Ut.MIXED_TABLE[p];case zt.PUNCT:return Ut.PUNCT_TABLE[p];case zt.DIGIT:return Ut.DIGIT_TABLE[p];default:throw new St("Bad table")}}correctBits(s){let p,w;this.ddata.getNbLayers()<=2?(w=6,p=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(w=8,p=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(w=10,p=st.AZTEC_DATA_10):(w=12,p=st.AZTEC_DATA_12);let A=this.ddata.getNbDatablocks(),D=s.length/w;if(D<A)throw new ne;let L=s.length%w,b=new Int32Array(D);for(let ee=0;ee<D;ee++,L+=w)b[ee]=Ut.readCode(s,L,w);try{new Kt(p).decode(b,D-A)}catch(ee){throw new ne(ee)}let T=(1<<w)-1,B=0;for(let ee=0;ee<A;ee++){let he=b[ee];if(he===0||he===T)throw new ne;(he===1||he===T-1)&&B++}let j=new Array(A*w-B),K=0;for(let ee=0;ee<A;ee++){let he=b[ee];if(he===1||he===T-1)j.fill(he>1,K,K+w-1),K+=w-1;else for(let Te=w-1;Te>=0;--Te)j[K++]=(he&1<<Te)!==0}return j}extractBits(s){let p=this.ddata.isCompact(),w=this.ddata.getNbLayers(),A=(p?11:14)+w*4,D=new Int32Array(A),L=new Array(this.totalBitsInLayer(w,p));if(p)for(let b=0;b<D.length;b++)D[b]=b;else{let b=A+1+2*U.truncDivision(U.truncDivision(A,2)-1,15),T=A/2,B=U.truncDivision(b,2);for(let j=0;j<T;j++){let K=j+U.truncDivision(j,15);D[T-j-1]=B-K-1,D[T+j]=B+K+1}}for(let b=0,T=0;b<w;b++){let B=(w-b)*4+(p?9:12),j=b*2,K=A-1-j;for(let ee=0;ee<B;ee++){let he=ee*2;for(let Te=0;Te<2;Te++)L[T+he+Te]=s.get(D[j+Te],D[j+ee]),L[T+2*B+he+Te]=s.get(D[j+ee],D[K-Te]),L[T+4*B+he+Te]=s.get(D[K-Te],D[K-ee]),L[T+6*B+he+Te]=s.get(D[K-ee],D[j+Te])}T+=B*8}return L}static readCode(s,p,w){let A=0;for(let D=p;D<p+w;D++)A<<=1,s[D]&&(A|=1);return A}static readByte(s,p){let w=s.length-p;return w>=8?Ut.readCode(s,p,8):Ut.readCode(s,p,w)<<8-w}static convertBoolArrayToByteArray(s){let p=new Uint8Array((s.length+7)/8);for(let w=0;w<p.length;w++)p[w]=Ut.readByte(s,8*w);return p}totalBitsInLayer(s,p){return((p?88:112)+16*s)*s}}Ut.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ut.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ut.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ut.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ut.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Vt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,p,w,A){const D=s-w,L=p-A;return Math.sqrt(D*D+L*L)}static sum(s){let p=0;for(let w=0,A=s.length;w!==A;w++){const D=s[w];p+=D}return p}}class un{static floatToIntBits(s){return s}}un.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Xt{constructor(s,p){this.x=s,this.y=p}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Xt){const p=s;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*un.floatToIntBits(this.x)+un.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const p=this.distance(s[0],s[1]),w=this.distance(s[1],s[2]),A=this.distance(s[0],s[2]);let D,L,b;if(w>=p&&w>=A?(L=s[0],D=s[1],b=s[2]):A>=w&&A>=p?(L=s[1],D=s[0],b=s[2]):(L=s[2],D=s[0],b=s[1]),this.crossProductZ(D,L,b)<0){const T=D;D=b,b=T}s[0]=D,s[1]=L,s[2]=b}static distance(s,p){return Vt.distance(s.x,s.y,p.x,p.y)}static crossProductZ(s,p,w){const A=p.x,D=p.y;return(w.x-A)*(s.y-D)-(w.y-D)*(s.x-A)}}class qt{constructor(s,p){this.bits=s,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class Bn extends qt{constructor(s,p,w,A,D){super(s,p),this.compact=w,this.nbDatablocks=A,this.nbLayers=D}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class gt{constructor(s,p,w,A){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),p==null&&(p=gt.INIT_SIZE),w==null&&(w=s.getWidth()/2|0),A==null&&(A=s.getHeight()/2|0);const D=p/2|0;if(this.leftInit=w-D,this.rightInit=w+D,this.upInit=A-D,this.downInit=A+D,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ge}detect(){let s=this.leftInit,p=this.rightInit,w=this.upInit,A=this.downInit,D=!1,L=!0,b=!1,T=!1,B=!1,j=!1,K=!1;const ee=this.width,he=this.height;for(;L;){L=!1;let Te=!0;for(;(Te||!T)&&p<ee;)Te=this.containsBlackPoint(w,A,p,!1),Te?(p++,L=!0,T=!0):T||p++;if(p>=ee){D=!0;break}let Oe=!0;for(;(Oe||!B)&&A<he;)Oe=this.containsBlackPoint(s,p,A,!0),Oe?(A++,L=!0,B=!0):B||A++;if(A>=he){D=!0;break}let Be=!0;for(;(Be||!j)&&s>=0;)Be=this.containsBlackPoint(w,A,s,!1),Be?(s--,L=!0,j=!0):j||s--;if(s<0){D=!0;break}let Xe=!0;for(;(Xe||!K)&&w>=0;)Xe=this.containsBlackPoint(s,p,w,!0),Xe?(w--,L=!0,K=!0):K||w--;if(w<0){D=!0;break}L&&(b=!0)}if(!D&&b){const Te=p-s;let Oe=null;for(let ot=1;Oe===null&&ot<Te;ot++)Oe=this.getBlackPointOnSegment(s,A-ot,s+ot,A);if(Oe==null)throw new ge;let Be=null;for(let ot=1;Be===null&&ot<Te;ot++)Be=this.getBlackPointOnSegment(s,w+ot,s+ot,w);if(Be==null)throw new ge;let Xe=null;for(let ot=1;Xe===null&&ot<Te;ot++)Xe=this.getBlackPointOnSegment(p,w+ot,p-ot,w);if(Xe==null)throw new ge;let Ke=null;for(let ot=1;Ke===null&&ot<Te;ot++)Ke=this.getBlackPointOnSegment(p,A-ot,p-ot,A);if(Ke==null)throw new ge;return this.centerEdges(Ke,Oe,Xe,Be)}else throw new ge}getBlackPointOnSegment(s,p,w,A){const D=Vt.round(Vt.distance(s,p,w,A)),L=(w-s)/D,b=(A-p)/D,T=this.image;for(let B=0;B<D;B++){const j=Vt.round(s+B*L),K=Vt.round(p+B*b);if(T.get(j,K))return new Xt(j,K)}return null}centerEdges(s,p,w,A){const D=s.getX(),L=s.getY(),b=p.getX(),T=p.getY(),B=w.getX(),j=w.getY(),K=A.getX(),ee=A.getY(),he=gt.CORR;return D<this.width/2?[new Xt(K-he,ee+he),new Xt(b+he,T+he),new Xt(B-he,j-he),new Xt(D+he,L-he)]:[new Xt(K+he,ee+he),new Xt(b+he,T-he),new Xt(B-he,j+he),new Xt(D-he,L-he)]}containsBlackPoint(s,p,w,A){const D=this.image;if(A){for(let L=s;L<=p;L++)if(D.get(L,w))return!0}else for(let L=s;L<=p;L++)if(D.get(w,L))return!0;return!1}}gt.INIT_SIZE=10,gt.CORR=1;class dt{static checkAndNudgePoints(s,p){const w=s.getWidth(),A=s.getHeight();let D=!0;for(let L=0;L<p.length&&D;L+=2){const b=Math.floor(p[L]),T=Math.floor(p[L+1]);if(b<-1||b>w||T<-1||T>A)throw new ge;D=!1,b===-1?(p[L]=0,D=!0):b===w&&(p[L]=w-1,D=!0),T===-1?(p[L+1]=0,D=!0):T===A&&(p[L+1]=A-1,D=!0)}D=!0;for(let L=p.length-2;L>=0&&D;L-=2){const b=Math.floor(p[L]),T=Math.floor(p[L+1]);if(b<-1||b>w||T<-1||T>A)throw new ge;D=!1,b===-1?(p[L]=0,D=!0):b===w&&(p[L]=w-1,D=!0),T===-1?(p[L+1]=0,D=!0):T===A&&(p[L+1]=A-1,D=!0)}}}class Pe{constructor(s,p,w,A,D,L,b,T,B){this.a11=s,this.a21=p,this.a31=w,this.a12=A,this.a22=D,this.a32=L,this.a13=b,this.a23=T,this.a33=B}static quadrilateralToQuadrilateral(s,p,w,A,D,L,b,T,B,j,K,ee,he,Te,Oe,Be){const Xe=Pe.quadrilateralToSquare(s,p,w,A,D,L,b,T);return Pe.squareToQuadrilateral(B,j,K,ee,he,Te,Oe,Be).times(Xe)}transformPoints(s){const p=s.length,w=this.a11,A=this.a12,D=this.a13,L=this.a21,b=this.a22,T=this.a23,B=this.a31,j=this.a32,K=this.a33;for(let ee=0;ee<p;ee+=2){const he=s[ee],Te=s[ee+1],Oe=D*he+T*Te+K;s[ee]=(w*he+L*Te+B)/Oe,s[ee+1]=(A*he+b*Te+j)/Oe}}transformPointsWithValues(s,p){const w=this.a11,A=this.a12,D=this.a13,L=this.a21,b=this.a22,T=this.a23,B=this.a31,j=this.a32,K=this.a33,ee=s.length;for(let he=0;he<ee;he++){const Te=s[he],Oe=p[he],Be=D*Te+T*Oe+K;s[he]=(w*Te+L*Oe+B)/Be,p[he]=(A*Te+b*Oe+j)/Be}}static squareToQuadrilateral(s,p,w,A,D,L,b,T){const B=s-w+D-b,j=p-A+L-T;if(B===0&&j===0)return new Pe(w-s,D-w,s,A-p,L-A,p,0,0,1);{const K=w-D,ee=b-D,he=A-L,Te=T-L,Oe=K*Te-ee*he,Be=(B*Te-ee*j)/Oe,Xe=(K*j-B*he)/Oe;return new Pe(w-s+Be*w,b-s+Xe*b,s,A-p+Be*A,T-p+Xe*T,p,Be,Xe,1)}}static quadrilateralToSquare(s,p,w,A,D,L,b,T){return Pe.squareToQuadrilateral(s,p,w,A,D,L,b,T).buildAdjoint()}buildAdjoint(){return new Pe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Pe(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class be extends dt{sampleGrid(s,p,w,A,D,L,b,T,B,j,K,ee,he,Te,Oe,Be,Xe,Ke,ot){const Je=Pe.quadrilateralToQuadrilateral(A,D,L,b,T,B,j,K,ee,he,Te,Oe,Be,Xe,Ke,ot);return this.sampleGridWithTransform(s,p,w,Je)}sampleGridWithTransform(s,p,w,A){if(p<=0||w<=0)throw new ge;const D=new ct(p,w),L=new Float32Array(2*p);for(let b=0;b<w;b++){const T=L.length,B=b+.5;for(let j=0;j<T;j+=2)L[j]=j/2+.5,L[j+1]=B;A.transformPoints(L),dt.checkAndNudgePoints(s,L);try{for(let j=0;j<T;j+=2)s.get(Math.floor(L[j]),Math.floor(L[j+1]))&&D.set(j/2,b)}catch{throw new ge}}return D}}class Ee{static setGridSampler(s){Ee.gridSampler=s}static getInstance(){return Ee.gridSampler}}Ee.gridSampler=new be;class qe{constructor(s,p){this.x=s,this.y=p}toResultPoint(){return new Xt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class re{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let p=this.getMatrixCenter(),w=this.getBullsEyeCorners(p);if(s){let L=w[0];w[0]=w[2],w[2]=L}this.extractParameters(w);let A=this.sampleGrid(this.image,w[this.shift%4],w[(this.shift+1)%4],w[(this.shift+2)%4],w[(this.shift+3)%4]),D=this.getMatrixCornerPoints(w);return new Bn(A,D,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ge;let p=2*this.nbCenterLayers,w=new Int32Array([this.sampleLine(s[0],s[1],p),this.sampleLine(s[1],s[2],p),this.sampleLine(s[2],s[3],p),this.sampleLine(s[3],s[0],p)]);this.shift=this.getRotation(w,p);let A=0;for(let L=0;L<4;L++){let b=w[(this.shift+L)%4];this.compact?(A<<=7,A+=b>>1&127):(A<<=10,A+=(b>>2&992)+(b>>1&31))}let D=this.getCorrectedParameterData(A,this.compact);this.compact?(this.nbLayers=(D>>6)+1,this.nbDataBlocks=(D&63)+1):(this.nbLayers=(D>>11)+1,this.nbDataBlocks=(D&2047)+1)}getRotation(s,p){let w=0;s.forEach((A,D,L)=>{let b=(A>>p-2<<1)+(A&1);w=(w<<3)+b}),w=((w&1)<<11)+(w>>1);for(let A=0;A<4;A++)if(U.bitCount(w^this.EXPECTED_CORNER_BITS[A])<=2)return A;throw new ge}getCorrectedParameterData(s,p){let w,A;p?(w=7,A=2):(w=10,A=4);let D=w-A,L=new Int32Array(w);for(let T=w-1;T>=0;--T)L[T]=s&15,s>>=4;try{new Kt(st.AZTEC_PARAM).decode(L,D)}catch{throw new ge}let b=0;for(let T=0;T<A;T++)b=(b<<4)+L[T];return b}getBullsEyeCorners(s){let p=s,w=s,A=s,D=s,L=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let K=this.getFirstDifferent(p,L,1,-1),ee=this.getFirstDifferent(w,L,1,1),he=this.getFirstDifferent(A,L,-1,1),Te=this.getFirstDifferent(D,L,-1,-1);if(this.nbCenterLayers>2){let Oe=this.distancePoint(Te,K)*this.nbCenterLayers/(this.distancePoint(D,p)*(this.nbCenterLayers+2));if(Oe<.75||Oe>1.25||!this.isWhiteOrBlackRectangle(K,ee,he,Te))break}p=K,w=ee,A=he,D=Te,L=!L}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ge;this.compact=this.nbCenterLayers===5;let b=new Xt(p.getX()+.5,p.getY()-.5),T=new Xt(w.getX()+.5,w.getY()+.5),B=new Xt(A.getX()-.5,A.getY()+.5),j=new Xt(D.getX()-.5,D.getY()-.5);return this.expandSquare([b,T,B,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,p,w,A;try{let b=new gt(this.image).detect();s=b[0],p=b[1],w=b[2],A=b[3]}catch{let T=this.image.getWidth()/2,B=this.image.getHeight()/2;s=this.getFirstDifferent(new qe(T+7,B-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new qe(T+7,B+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new qe(T-7,B+7),!1,-1,1).toResultPoint(),A=this.getFirstDifferent(new qe(T-7,B-7),!1,-1,-1).toResultPoint()}let D=Vt.round((s.getX()+A.getX()+p.getX()+w.getX())/4),L=Vt.round((s.getY()+A.getY()+p.getY()+w.getY())/4);try{let b=new gt(this.image,15,D,L).detect();s=b[0],p=b[1],w=b[2],A=b[3]}catch{s=this.getFirstDifferent(new qe(D+7,L-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new qe(D+7,L+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new qe(D-7,L+7),!1,-1,1).toResultPoint(),A=this.getFirstDifferent(new qe(D-7,L-7),!1,-1,-1).toResultPoint()}return D=Vt.round((s.getX()+A.getX()+p.getX()+w.getX())/4),L=Vt.round((s.getY()+A.getY()+p.getY()+w.getY())/4),new qe(D,L)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,p,w,A,D){let L=Ee.getInstance(),b=this.getDimension(),T=b/2-this.nbCenterLayers,B=b/2+this.nbCenterLayers;return L.sampleGrid(s,b,b,T,T,B,T,B,B,T,B,p.getX(),p.getY(),w.getX(),w.getY(),A.getX(),A.getY(),D.getX(),D.getY())}sampleLine(s,p,w){let A=0,D=this.distanceResultPoint(s,p),L=D/w,b=s.getX(),T=s.getY(),B=L*(p.getX()-s.getX())/D,j=L*(p.getY()-s.getY())/D;for(let K=0;K<w;K++)this.image.get(Vt.round(b+K*B),Vt.round(T+K*j))&&(A|=1<<w-K-1);return A}isWhiteOrBlackRectangle(s,p,w,A){let D=3;s=new qe(s.getX()-D,s.getY()+D),p=new qe(p.getX()-D,p.getY()-D),w=new qe(w.getX()+D,w.getY()-D),A=new qe(A.getX()+D,A.getY()+D);let L=this.getColor(A,s);if(L===0)return!1;let b=this.getColor(s,p);return b!==L||(b=this.getColor(p,w),b!==L)?!1:(b=this.getColor(w,A),b===L)}getColor(s,p){let w=this.distancePoint(s,p),A=(p.getX()-s.getX())/w,D=(p.getY()-s.getY())/w,L=0,b=s.getX(),T=s.getY(),B=this.image.get(s.getX(),s.getY()),j=Math.ceil(w);for(let ee=0;ee<j;ee++)b+=A,T+=D,this.image.get(Vt.round(b),Vt.round(T))!==B&&L++;let K=L/w;return K>.1&&K<.9?0:K<=.1===B?1:-1}getFirstDifferent(s,p,w,A){let D=s.getX()+w,L=s.getY()+A;for(;this.isValid(D,L)&&this.image.get(D,L)===p;)D+=w,L+=A;for(D-=w,L-=A;this.isValid(D,L)&&this.image.get(D,L)===p;)D+=w;for(D-=w;this.isValid(D,L)&&this.image.get(D,L)===p;)L+=A;return L-=A,new qe(D,L)}expandSquare(s,p,w){let A=w/(2*p),D=s[0].getX()-s[2].getX(),L=s[0].getY()-s[2].getY(),b=(s[0].getX()+s[2].getX())/2,T=(s[0].getY()+s[2].getY())/2,B=new Xt(b+A*D,T+A*L),j=new Xt(b-A*D,T-A*L);D=s[1].getX()-s[3].getX(),L=s[1].getY()-s[3].getY(),b=(s[1].getX()+s[3].getX())/2,T=(s[1].getY()+s[3].getY())/2;let K=new Xt(b+A*D,T+A*L),ee=new Xt(b-A*D,T-A*L);return[B,K,j,ee]}isValid(s,p){return s>=0&&s<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(s){let p=Vt.round(s.getX()),w=Vt.round(s.getY());return this.isValid(p,w)}distancePoint(s,p){return Vt.distance(s.getX(),s.getY(),p.getX(),p.getY())}distanceResultPoint(s,p){return Vt.distance(s.getX(),s.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class we{decode(s,p=null){let w=null,A=new re(s.getBlackMatrix()),D=null,L=null;try{let j=A.detectMirror(!1);D=j.getPoints(),this.reportFoundResultPoints(p,D),L=new Ut().decode(j)}catch(j){w=j}if(L==null)try{let j=A.detectMirror(!0);D=j.getPoints(),this.reportFoundResultPoints(p,D),L=new Ut().decode(j)}catch(j){throw w??j}let b=new me(L.getText(),L.getRawBytes(),L.getNumBits(),D,Ne.AZTEC,k.currentTimeMillis()),T=L.getByteSegments();T!=null&&b.putMetadata(xt.BYTE_SEGMENTS,T);let B=L.getECLevel();return B!=null&&b.putMetadata(xt.ERROR_CORRECTION_LEVEL,B),b}reportFoundResultPoints(s,p){if(s!=null){let w=s.get(J.NEED_RESULT_POINT_CALLBACK);w!=null&&p.forEach((A,D,L)=>{w.foundPossibleResultPoint(A)})}}reset(){}}class Ve extends V{constructor(s=500){super(new we,s)}}class it{decode(s,p){try{return this.doDecode(s,p)}catch{if(p&&p.get(J.TRY_HARDER)===!0&&s.isRotateSupported()){const D=s.rotateCounterClockwise(),L=this.doDecode(D,p),b=L.getResultMetadata();let T=270;b!==null&&b.get(xt.ORIENTATION)===!0&&(T=T+b.get(xt.ORIENTATION)%360),L.putMetadata(xt.ORIENTATION,T);const B=L.getResultPoints();if(B!==null){const j=D.getHeight();for(let K=0;K<B.length;K++)B[K]=new Xt(j-B[K].getY()-1,B[K].getX())}return L}else throw new ge}}reset(){}doDecode(s,p){const w=s.getWidth(),A=s.getHeight();let D=new W(w);const L=p&&p.get(J.TRY_HARDER)===!0,b=Math.max(1,A>>(L?8:5));let T;L?T=A:T=15;const B=Math.trunc(A/2);for(let j=0;j<T;j++){const K=Math.trunc((j+1)/2),ee=(j&1)===0,he=B+b*(ee?K:-K);if(he<0||he>=A)break;try{D=s.getBlackRow(he,D)}catch{continue}for(let Te=0;Te<2;Te++){if(Te===1&&(D.reverse(),p&&p.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const Oe=new Map;p.forEach((Be,Xe)=>Oe.set(Xe,Be)),Oe.delete(J.NEED_RESULT_POINT_CALLBACK),p=Oe}try{const Oe=this.decodeRow(he,D,p);if(Te===1){Oe.putMetadata(xt.ORIENTATION,180);const Be=Oe.getResultPoints();Be!==null&&(Be[0]=new Xt(w-Be[0].getX()-1,Be[0].getY()),Be[1]=new Xt(w-Be[1].getX()-1,Be[1].getY()))}return Oe}catch{}}}throw new ge}static recordPattern(s,p,w){const A=w.length;for(let B=0;B<A;B++)w[B]=0;const D=s.getSize();if(p>=D)throw new ge;let L=!s.get(p),b=0,T=p;for(;T<D;){if(s.get(T)!==L)w[b]++;else{if(++b===A)break;w[b]=1,L=!L}T++}if(!(b===A||b===A-1&&T===D))throw new ge}static recordPatternInReverse(s,p,w){let A=w.length,D=s.get(p);for(;p>0&&A>=0;)s.get(--p)!==D&&(A--,D=!D);if(A>=0)throw new ge;it.recordPattern(s,p+1,w)}static patternMatchVariance(s,p,w){const A=s.length;let D=0,L=0;for(let B=0;B<A;B++)D+=s[B],L+=p[B];if(D<L)return Number.POSITIVE_INFINITY;const b=D/L;w*=b;let T=0;for(let B=0;B<A;B++){const j=s[B],K=p[B]*b,ee=j>K?j-K:K-j;if(ee>w)return Number.POSITIVE_INFINITY;T+=ee}return T/D}}class We extends it{static findStartPattern(s){const p=s.getSize(),w=s.getNextSet(0);let A=0,D=Int32Array.from([0,0,0,0,0,0]),L=w,b=!1;const T=6;for(let B=w;B<p;B++)if(s.get(B)!==b)D[A]++;else{if(A===T-1){let j=We.MAX_AVG_VARIANCE,K=-1;for(let ee=We.CODE_START_A;ee<=We.CODE_START_C;ee++){const he=it.patternMatchVariance(D,We.CODE_PATTERNS[ee],We.MAX_INDIVIDUAL_VARIANCE);he<j&&(j=he,K=ee)}if(K>=0&&s.isRange(Math.max(0,L-(B-L)/2),L,!1))return Int32Array.from([L,B,K]);L+=D[0]+D[1],D=D.slice(2,D.length-1),D[A-1]=0,D[A]=0,A--}else A++;D[A]=1,b=!b}throw new ge}static decodeCode(s,p,w){it.recordPattern(s,w,p);let A=We.MAX_AVG_VARIANCE,D=-1;for(let L=0;L<We.CODE_PATTERNS.length;L++){const b=We.CODE_PATTERNS[L],T=this.patternMatchVariance(p,b,We.MAX_INDIVIDUAL_VARIANCE);T<A&&(A=T,D=L)}if(D>=0)return D;throw new ge}decodeRow(s,p,w){const A=w&&w.get(J.ASSUME_GS1)===!0,D=We.findStartPattern(p),L=D[2];let b=0;const T=new Uint8Array(20);T[b++]=L;let B;switch(L){case We.CODE_START_A:B=We.CODE_CODE_A;break;case We.CODE_START_B:B=We.CODE_CODE_B;break;case We.CODE_START_C:B=We.CODE_CODE_C;break;default:throw new ne}let j=!1,K=!1,ee="",he=D[0],Te=D[1];const Oe=Int32Array.from([0,0,0,0,0,0]);let Be=0,Xe=0,Ke=L,ot=0,Je=!0,Ct=!1,R=!1;for(;!j;){const nt=K;switch(K=!1,Be=Xe,Xe=We.decodeCode(p,Oe,Te),T[b++]=Xe,Xe!==We.CODE_STOP&&(Je=!0),Xe!==We.CODE_STOP&&(ot++,Ke+=ot*Xe),he=Te,Te+=Oe.reduce((bt,Rt)=>bt+Rt,0),Xe){case We.CODE_START_A:case We.CODE_START_B:case We.CODE_START_C:throw new ne}switch(B){case We.CODE_CODE_A:if(Xe<64)R===Ct?ee+=String.fromCharCode(32+Xe):ee+=String.fromCharCode(32+Xe+128),R=!1;else if(Xe<96)R===Ct?ee+=String.fromCharCode(Xe-64):ee+=String.fromCharCode(Xe+64),R=!1;else switch(Xe!==We.CODE_STOP&&(Je=!1),Xe){case We.CODE_FNC_1:A&&(ee.length===0?ee+="]C1":ee+="");break;case We.CODE_FNC_2:case We.CODE_FNC_3:break;case We.CODE_FNC_4_A:!Ct&&R?(Ct=!0,R=!1):Ct&&R?(Ct=!1,R=!1):R=!0;break;case We.CODE_SHIFT:K=!0,B=We.CODE_CODE_B;break;case We.CODE_CODE_B:B=We.CODE_CODE_B;break;case We.CODE_CODE_C:B=We.CODE_CODE_C;break;case We.CODE_STOP:j=!0;break}break;case We.CODE_CODE_B:if(Xe<96)R===Ct?ee+=String.fromCharCode(32+Xe):ee+=String.fromCharCode(32+Xe+128),R=!1;else switch(Xe!==We.CODE_STOP&&(Je=!1),Xe){case We.CODE_FNC_1:A&&(ee.length===0?ee+="]C1":ee+="");break;case We.CODE_FNC_2:case We.CODE_FNC_3:break;case We.CODE_FNC_4_B:!Ct&&R?(Ct=!0,R=!1):Ct&&R?(Ct=!1,R=!1):R=!0;break;case We.CODE_SHIFT:K=!0,B=We.CODE_CODE_A;break;case We.CODE_CODE_A:B=We.CODE_CODE_A;break;case We.CODE_CODE_C:B=We.CODE_CODE_C;break;case We.CODE_STOP:j=!0;break}break;case We.CODE_CODE_C:if(Xe<100)Xe<10&&(ee+="0"),ee+=Xe;else switch(Xe!==We.CODE_STOP&&(Je=!1),Xe){case We.CODE_FNC_1:A&&(ee.length===0?ee+="]C1":ee+="");break;case We.CODE_CODE_A:B=We.CODE_CODE_A;break;case We.CODE_CODE_B:B=We.CODE_CODE_B;break;case We.CODE_STOP:j=!0;break}break}nt&&(B=B===We.CODE_CODE_A?We.CODE_CODE_B:We.CODE_CODE_A)}const P=Te-he;if(Te=p.getNextUnset(Te),!p.isRange(Te,Math.min(p.getSize(),Te+(Te-he)/2),!1))throw new ge;if(Ke-=ot*Be,Ke%103!==Be)throw new m;const Y=ee.length;if(Y===0)throw new ge;Y>0&&Je&&(B===We.CODE_CODE_C?ee=ee.substring(0,Y-2):ee=ee.substring(0,Y-1));const $=(D[1]+D[0])/2,oe=he+P/2,ke=T.length,ze=new Uint8Array(ke);for(let nt=0;nt<ke;nt++)ze[nt]=T[nt];const vt=[new Xt($,s),new Xt(oe,s)];return new me(ee,ze,0,vt,Ne.CODE_128,new Date().getTime())}}We.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],We.MAX_AVG_VARIANCE=.25,We.MAX_INDIVIDUAL_VARIANCE=.7,We.CODE_SHIFT=98,We.CODE_CODE_C=99,We.CODE_CODE_B=100,We.CODE_CODE_A=101,We.CODE_FNC_1=102,We.CODE_FNC_2=97,We.CODE_FNC_3=96,We.CODE_FNC_4_A=101,We.CODE_FNC_4_B=100,We.CODE_START_A=103,We.CODE_START_B=104,We.CODE_START_C=105,We.CODE_STOP=106;class Et extends it{constructor(s=!1,p=!1){super(),this.usingCheckDigit=s,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,p,w){let A=this.counters;A.fill(0),this.decodeRowResult="";let D=Et.findAsteriskPattern(p,A),L=p.getNextSet(D[1]),b=p.getSize(),T,B;do{Et.recordPattern(p,L,A);let Oe=Et.toNarrowWidePattern(A);if(Oe<0)throw new ge;T=Et.patternToChar(Oe),this.decodeRowResult+=T,B=L;for(let Be of A)L+=Be;L=p.getNextSet(L)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let Oe of A)j+=Oe;let K=L-B-j;if(L!==b&&K*2<j)throw new ge;if(this.usingCheckDigit){let Oe=this.decodeRowResult.length-1,Be=0;for(let Xe=0;Xe<Oe;Xe++)Be+=Et.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Xe));if(this.decodeRowResult.charAt(Oe)!==Et.ALPHABET_STRING.charAt(Be%43))throw new m;this.decodeRowResult=this.decodeRowResult.substring(0,Oe)}if(this.decodeRowResult.length===0)throw new ge;let ee;this.extendedMode?ee=Et.decodeExtended(this.decodeRowResult):ee=this.decodeRowResult;let he=(D[1]+D[0])/2,Te=B+j/2;return new me(ee,null,0,[new Xt(he,s),new Xt(Te,s)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(s,p){let w=s.getSize(),A=s.getNextSet(0),D=0,L=A,b=!1,T=p.length;for(let B=A;B<w;B++)if(s.get(B)!==b)p[D]++;else{if(D===T-1){if(this.toNarrowWidePattern(p)===Et.ASTERISK_ENCODING&&s.isRange(Math.max(0,L-Math.floor((B-L)/2)),L,!1))return[L,B];L+=p[0]+p[1],p.copyWithin(0,2,2+D-1),p[D-1]=0,p[D]=0,D--}else D++;p[D]=1,b=!b}throw new ge}static toNarrowWidePattern(s){let p=s.length,w=0,A;do{let D=2147483647;for(let T of s)T<D&&T>w&&(D=T);w=D,A=0;let L=0,b=0;for(let T=0;T<p;T++){let B=s[T];B>w&&(b|=1<<p-1-T,A++,L+=B)}if(A===3){for(let T=0;T<p&&A>0;T++){let B=s[T];if(B>w&&(A--,B*2>=L))return-1}return b}}while(A>3);return-1}static patternToChar(s){for(let p=0;p<Et.CHARACTER_ENCODINGS.length;p++)if(Et.CHARACTER_ENCODINGS[p]===s)return Et.ALPHABET_STRING.charAt(p);if(s===Et.ASTERISK_ENCODING)return"*";throw new ge}static decodeExtended(s){let p=s.length,w="";for(let A=0;A<p;A++){let D=s.charAt(A);if(D==="+"||D==="$"||D==="%"||D==="/"){let L=s.charAt(A+1),b="\0";switch(D){case"+":if(L>="A"&&L<="Z")b=String.fromCharCode(L.charCodeAt(0)+32);else throw new ne;break;case"$":if(L>="A"&&L<="Z")b=String.fromCharCode(L.charCodeAt(0)-64);else throw new ne;break;case"%":if(L>="A"&&L<="E")b=String.fromCharCode(L.charCodeAt(0)-38);else if(L>="F"&&L<="J")b=String.fromCharCode(L.charCodeAt(0)-11);else if(L>="K"&&L<="O")b=String.fromCharCode(L.charCodeAt(0)+16);else if(L>="P"&&L<="T")b=String.fromCharCode(L.charCodeAt(0)+43);else if(L==="U")b="\0";else if(L==="V")b="@";else if(L==="W")b="`";else if(L==="X"||L==="Y"||L==="Z")b="";else throw new ne;break;case"/":if(L>="A"&&L<="O")b=String.fromCharCode(L.charCodeAt(0)-32);else if(L==="Z")b=":";else throw new ne;break}w+=b,A++}else w+=D}return w}}Et.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Et.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Et.ASTERISK_ENCODING=148;class Ye extends it{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,p,w){let A=this.decodeStart(p),D=this.decodeEnd(p),L=new mt;Ye.decodeMiddle(p,A[1],D[0],L);let b=L.toString(),T=null;w!=null&&(T=w.get(J.ALLOWED_LENGTHS)),T==null&&(T=Ye.DEFAULT_ALLOWED_LENGTHS);let B=b.length,j=!1,K=0;for(let Te of T){if(B===Te){j=!0;break}Te>K&&(K=Te)}if(!j&&B>K&&(j=!0),!j)throw new ne;const ee=[new Xt(A[1],s),new Xt(D[0],s)];return new me(b,null,0,ee,Ne.ITF,new Date().getTime())}static decodeMiddle(s,p,w,A){let D=new Int32Array(10),L=new Int32Array(5),b=new Int32Array(5);for(D.fill(0),L.fill(0),b.fill(0);p<w;){it.recordPattern(s,p,D);for(let B=0;B<5;B++){let j=2*B;L[B]=D[j],b[B]=D[j+1]}let T=Ye.decodeDigit(L);A.append(T.toString()),T=this.decodeDigit(b),A.append(T.toString()),D.forEach(function(B){p+=B})}}decodeStart(s){let p=Ye.skipWhiteSpace(s),w=Ye.findGuardPattern(s,p,Ye.START_PATTERN);return this.narrowLineWidth=(w[1]-w[0])/4,this.validateQuietZone(s,w[0]),w}validateQuietZone(s,p){let w=this.narrowLineWidth*10;w=w<p?w:p;for(let A=p-1;w>0&&A>=0&&!s.get(A);A--)w--;if(w!==0)throw new ge}static skipWhiteSpace(s){const p=s.getSize(),w=s.getNextSet(0);if(w===p)throw new ge;return w}decodeEnd(s){s.reverse();try{let p=Ye.skipWhiteSpace(s),w;try{w=Ye.findGuardPattern(s,p,Ye.END_PATTERN_REVERSED[0])}catch(D){D instanceof ge&&(w=Ye.findGuardPattern(s,p,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,w[0]);let A=w[0];return w[0]=s.getSize()-w[1],w[1]=s.getSize()-A,w}finally{s.reverse()}}static findGuardPattern(s,p,w){let A=w.length,D=new Int32Array(A),L=s.getSize(),b=!1,T=0,B=p;D.fill(0);for(let j=p;j<L;j++)if(s.get(j)!==b)D[T]++;else{if(T===A-1){if(it.patternMatchVariance(D,w,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[B,j];B+=D[0]+D[1],k.arraycopy(D,2,D,0,T-1),D[T-1]=0,D[T]=0,T--}else T++;D[T]=1,b=!b}throw new ge}static decodeDigit(s){let p=Ye.MAX_AVG_VARIANCE,w=-1,A=Ye.PATTERNS.length;for(let D=0;D<A;D++){let L=Ye.PATTERNS[D],b=it.patternMatchVariance(s,L,Ye.MAX_INDIVIDUAL_VARIANCE);b<p?(p=b,w=D):b===p&&(w=-1)}if(w>=0)return w%10;throw new ge}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class at extends it{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let p=!1,w,A=0,D=Int32Array.from([0,0,0]);for(;!p;){D=Int32Array.from([0,0,0]),w=at.findGuardPattern(s,A,!1,this.START_END_PATTERN,D);let L=w[0];A=w[1];let b=L-(A-L);b>=0&&(p=s.isRange(b,L,!1))}return w}static checkChecksum(s){return at.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let p=s.length;if(p===0)return!1;let w=parseInt(s.charAt(p-1),10);return at.getStandardUPCEANChecksum(s.substring(0,p-1))===w}static getStandardUPCEANChecksum(s){let p=s.length,w=0;for(let A=p-1;A>=0;A-=2){let D=s.charAt(A).charCodeAt(0)-48;if(D<0||D>9)throw new ne;w+=D}w*=3;for(let A=p-2;A>=0;A-=2){let D=s.charAt(A).charCodeAt(0)-48;if(D<0||D>9)throw new ne;w+=D}return(1e3-w)%10}static decodeEnd(s,p){return at.findGuardPattern(s,p,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,p,w,A){return this.findGuardPattern(s,p,w,A,new Int32Array(A.length))}static findGuardPattern(s,p,w,A,D){let L=s.getSize();p=w?s.getNextUnset(p):s.getNextSet(p);let b=0,T=p,B=A.length,j=w;for(let K=p;K<L;K++)if(s.get(K)!==j)D[b]++;else{if(b===B-1){if(it.patternMatchVariance(D,A,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return Int32Array.from([T,K]);T+=D[0]+D[1];let ee=D.slice(2,D.length-1);for(let he=0;he<b-1;he++)D[he]=ee[he];D[b-1]=0,D[b]=0,b--}else b++;D[b]=1,j=!j}throw new ge}static decodeDigit(s,p,w,A){this.recordPattern(s,w,p);let D=this.MAX_AVG_VARIANCE,L=-1,b=A.length;for(let T=0;T<b;T++){let B=A[T],j=it.patternMatchVariance(p,B,at.MAX_INDIVIDUAL_VARIANCE);j<D&&(D=j,L=T)}if(L>=0)return L;throw new ge}}at.MAX_AVG_VARIANCE=.48,at.MAX_INDIVIDUAL_VARIANCE=.7,at.START_END_PATTERN=Int32Array.from([1,1,1]),at.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),at.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),at.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Tt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,p,w){let A=this.decodeRowStringBuffer,D=this.decodeMiddle(p,w,A),L=A.toString(),b=Tt.parseExtensionString(L),T=[new Xt((w[0]+w[1])/2,s),new Xt(D,s)],B=new me(L,null,0,T,Ne.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&B.putAllMetadata(b),B}decodeMiddle(s,p,w){let A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let D=s.getSize(),L=p[1],b=0;for(let B=0;B<5&&L<D;B++){let j=at.decodeDigit(s,A,L,at.L_AND_G_PATTERNS);w+=String.fromCharCode(48+j%10);for(let K of A)L+=K;j>=10&&(b|=1<<4-B),B!==4&&(L=s.getNextSet(L),L=s.getNextUnset(L))}if(w.length!==5)throw new ge;let T=this.determineCheckDigit(b);if(Tt.extensionChecksum(w.toString())!==T)throw new ge;return L}static extensionChecksum(s){let p=s.length,w=0;for(let A=p-2;A>=0;A-=2)w+=s.charAt(A).charCodeAt(0)-48;w*=3;for(let A=p-1;A>=0;A-=2)w+=s.charAt(A).charCodeAt(0)-48;return w*=3,w%10}determineCheckDigit(s){for(let p=0;p<10;p++)if(s===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new ge}static parseExtensionString(s){if(s.length!==5)return null;let p=Tt.parseExtension5String(s);return p==null?null:new Map([[xt.SUGGESTED_PRICE,p]])}static parseExtension5String(s){let p;switch(s.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let w=parseInt(s.substring(1)),A=(w/100).toString(),D=w%100,L=D<10?"0"+D:D.toString();return p+A+"."+L}}class yt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,p,w){let A=this.decodeRowStringBuffer,D=this.decodeMiddle(p,w,A),L=A.toString(),b=yt.parseExtensionString(L),T=[new Xt((w[0]+w[1])/2,s),new Xt(D,s)],B=new me(L,null,0,T,Ne.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&B.putAllMetadata(b),B}decodeMiddle(s,p,w){let A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let D=s.getSize(),L=p[1],b=0;for(let T=0;T<2&&L<D;T++){let B=at.decodeDigit(s,A,L,at.L_AND_G_PATTERNS);w+=String.fromCharCode(48+B%10);for(let j of A)L+=j;B>=10&&(b|=1<<1-T),T!==1&&(L=s.getNextSet(L),L=s.getNextUnset(L))}if(w.length!==2)throw new ge;if(parseInt(w.toString())%4!==b)throw new ge;return L}static parseExtensionString(s){return s.length!==2?null:new Map([[xt.ISSUE_NUMBER,parseInt(s)]])}}class Pt{static decodeRow(s,p,w){let A=at.findGuardPattern(p,w,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Tt().decodeRow(s,p,A)}catch{return new yt().decodeRow(s,p,A)}}}Pt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class pn extends at{constructor(){super(),this.decodeRowStringBuffer="",pn.L_AND_G_PATTERNS=pn.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let p=pn.L_PATTERNS[s-10],w=new Int32Array(p.length);for(let A=0;A<p.length;A++)w[A]=p[p.length-A-1];pn.L_AND_G_PATTERNS[s]=w}}decodeRow(s,p,w){let A=pn.findStartGuardPattern(p),D=w==null?null:w.get(J.NEED_RESULT_POINT_CALLBACK);if(D!=null){const Je=new Xt((A[0]+A[1])/2,s);D.foundPossibleResultPoint(Je)}let L=this.decodeMiddle(p,A,this.decodeRowStringBuffer),b=L.rowOffset,T=L.resultString;if(D!=null){const Je=new Xt(b,s);D.foundPossibleResultPoint(Je)}let B=this.decodeEnd(p,b);if(D!=null){const Je=new Xt((B[0]+B[1])/2,s);D.foundPossibleResultPoint(Je)}let j=B[1],K=j+(j-B[0]);if(K>=p.getSize()||!p.isRange(j,K,!1))throw new ge;let ee=T.toString();if(ee.length<8)throw new ne;if(!pn.checkChecksum(ee))throw new m;let he=(A[1]+A[0])/2,Te=(B[1]+B[0])/2,Oe=this.getBarcodeFormat(),Be=[new Xt(he,s),new Xt(Te,s)],Xe=new me(ee,null,0,Be,Oe,new Date().getTime()),Ke=0;try{let Je=Pt.decodeRow(s,p,B[1]);Xe.putMetadata(xt.UPC_EAN_EXTENSION,Je.getText()),Xe.putAllMetadata(Je.getResultMetadata()),Xe.addResultPoints(Je.getResultPoints()),Ke=Je.getText().length}catch{}let ot=w==null?null:w.get(J.ALLOWED_EAN_EXTENSIONS);if(ot!=null){let Je=!1;for(let Ct in ot)if(Ke.toString()===Ct){Je=!0;break}if(!Je)throw new ge}return Xe}decodeEnd(s,p){return pn.findGuardPattern(s,p,!1,pn.START_END_PATTERN,new Int32Array(pn.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return pn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let p=s.length;if(p===0)return!1;let w=parseInt(s.charAt(p-1),10);return pn.getStandardUPCEANChecksum(s.substring(0,p-1))===w}static getStandardUPCEANChecksum(s){let p=s.length,w=0;for(let A=p-1;A>=0;A-=2){let D=s.charAt(A).charCodeAt(0)-48;if(D<0||D>9)throw new ne;w+=D}w*=3;for(let A=p-2;A>=0;A-=2){let D=s.charAt(A).charCodeAt(0)-48;if(D<0||D>9)throw new ne;w+=D}return(1e3-w)%10}}class Cn extends pn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,p,w){let A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let D=s.getSize(),L=p[1],b=0;for(let B=0;B<6&&L<D;B++){let j=pn.decodeDigit(s,A,L,pn.L_AND_G_PATTERNS);w+=String.fromCharCode(48+j%10);for(let K of A)L+=K;j>=10&&(b|=1<<5-B)}w=Cn.determineFirstDigit(w,b),L=pn.findGuardPattern(s,L,!0,pn.MIDDLE_PATTERN,new Int32Array(pn.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&L<D;B++){let j=pn.decodeDigit(s,A,L,pn.L_PATTERNS);w+=String.fromCharCode(48+j);for(let K of A)L+=K}return{rowOffset:L,resultString:w}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(s,p){for(let w=0;w<10;w++)if(p===this.FIRST_DIGIT_ENCODINGS[w])return s=String.fromCharCode(48+w)+s,s;throw new ge}}Cn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class vn extends pn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,p,w){const A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let D=s.getSize(),L=p[1];for(let T=0;T<4&&L<D;T++){let B=pn.decodeDigit(s,A,L,pn.L_PATTERNS);w+=String.fromCharCode(48+B);for(let j of A)L+=j}L=pn.findGuardPattern(s,L,!0,pn.MIDDLE_PATTERN,new Int32Array(pn.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&L<D;T++){let B=pn.decodeDigit(s,A,L,pn.L_PATTERNS);w+=String.fromCharCode(48+B);for(let j of A)L+=j}return{rowOffset:L,resultString:w}}getBarcodeFormat(){return Ne.EAN_8}}class $n extends pn{constructor(){super(...arguments),this.ean13Reader=new Cn}getBarcodeFormat(){return Ne.UPC_A}decode(s,p){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,p,w){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,p,w))}decodeMiddle(s,p,w){return this.ean13Reader.decodeMiddle(s,p,w)}maybeReturnResult(s){let p=s.getText();if(p.charAt(0)==="0"){let w=new me(p.substring(1),null,null,s.getResultPoints(),Ne.UPC_A);return s.getResultMetadata()!=null&&w.putAllMetadata(s.getResultMetadata()),w}else throw new ge}reset(){this.ean13Reader.reset()}}class Yn extends pn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,p,w){const A=this.decodeMiddleCounters.map(B=>B);A[0]=0,A[1]=0,A[2]=0,A[3]=0;const D=s.getSize();let L=p[1],b=0;for(let B=0;B<6&&L<D;B++){const j=Yn.decodeDigit(s,A,L,Yn.L_AND_G_PATTERNS);w+=String.fromCharCode(48+j%10);for(let K of A)L+=K;j>=10&&(b|=1<<5-B)}let T=Yn.determineNumSysAndCheckDigit(w,b);return{rowOffset:L,resultString:T}}decodeEnd(s,p){return Yn.findGuardPatternWithoutCounters(s,p,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(s){return pn.checkChecksum(Yn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,p){for(let w=0;w<=1;w++)for(let A=0;A<10;A++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[w][A]){let D=String.fromCharCode(48+w),L=String.fromCharCode(48+A);return D+s+L}throw ge.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(s){const p=s.slice(1,7).split("").map(D=>D.charCodeAt(0)),w=new mt;w.append(s.charAt(0));let A=p[5];switch(A){case 0:case 1:case 2:w.appendChars(p,0,2),w.append(A),w.append("0000"),w.appendChars(p,2,3);break;case 3:w.appendChars(p,0,3),w.append("00000"),w.appendChars(p,3,2);break;case 4:w.appendChars(p,0,4),w.append("00000"),w.append(p[4]);break;default:w.appendChars(p,0,5),w.append("0000"),w.append(A);break}return s.length>=8&&w.append(s.charAt(7)),w.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class er extends it{constructor(s){super();let p=s==null?null:s.get(J.POSSIBLE_FORMATS),w=[];r(p)?(w.push(new Cn),w.push(new $n),w.push(new vn),w.push(new Yn)):(p.indexOf(Ne.EAN_13)>-1&&w.push(new Cn),p.indexOf(Ne.UPC_A)>-1&&w.push(new $n),p.indexOf(Ne.EAN_8)>-1&&w.push(new vn),p.indexOf(Ne.UPC_E)>-1&&w.push(new Yn)),this.readers=w}decodeRow(s,p,w){for(let A of this.readers)try{const D=A.decodeRow(s,p,w),L=D.getBarcodeFormat()===Ne.EAN_13&&D.getText().charAt(0)==="0",b=w==null?null:w.get(J.POSSIBLE_FORMATS),T=b==null||b.includes(Ne.UPC_A);if(L&&T){const B=D.getRawBytes(),j=new me(D.getText().substring(1),B,B?B.length:null,D.getResultPoints(),Ne.UPC_A);return j.putAllMetadata(D.getResultMetadata()),j}return D}catch{}throw new ge}reset(){for(let s of this.readers)s.reset()}}class Hn extends it{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,p){for(let w=0;w<p.length;w++)if(it.patternMatchVariance(s,p[w],Hn.MAX_INDIVIDUAL_VARIANCE)<Hn.MAX_AVG_VARIANCE)return w;throw new ge}static count(s){return Vt.sum(new Int32Array(s))}static increment(s,p){let w=0,A=p[0];for(let D=1;D<s.length;D++)p[D]>A&&(A=p[D],w=D);s[w]++}static decrement(s,p){let w=0,A=p[0];for(let D=1;D<s.length;D++)p[D]<A&&(A=p[D],w=D);s[w]--}static isFinderPattern(s){let p=s[0]+s[1],w=p+s[2]+s[3],A=p/w;if(A>=Hn.MIN_FINDER_PATTERN_RATIO&&A<=Hn.MAX_FINDER_PATTERN_RATIO){let D=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER;for(let b of s)b>L&&(L=b),b<D&&(D=b);return L<10*D}return!1}}Hn.MAX_AVG_VARIANCE=.2,Hn.MAX_INDIVIDUAL_VARIANCE=.45,Hn.MIN_FINDER_PATTERN_RATIO=9.5/12,Hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class xr{constructor(s,p){this.value=s,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof xr))return!1;const p=s;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Br{constructor(s,p,w,A,D){this.value=s,this.startEnd=p,this.value=s,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new Xt(w,D)),this.resultPoints.push(new Xt(A,D))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Br))return!1;const p=s;return this.value===p.value}hashCode(){return this.value}}class mr{constructor(){}static getRSSvalue(s,p,w){let A=0;for(let T of s)A+=T;let D=0,L=0,b=s.length;for(let T=0;T<b-1;T++){let B;for(B=1,L|=1<<T;B<s[T];B++,L&=~(1<<T)){let j=mr.combins(A-B-1,b-T-2);if(w&&L===0&&A-B-(b-T-1)>=b-T-1&&(j-=mr.combins(A-B-(b-T),b-T-2)),b-T-1>1){let K=0;for(let ee=A-B-(b-T-2);ee>p;ee--)K+=mr.combins(A-B-ee-1,b-T-3);j-=K*(b-1-T)}else A-B>p&&j--;D+=j}A-=B}return D}static combins(s,p){let w,A;s-p>p?(A=p,w=s-p):(A=s-p,w=p);let D=1,L=1;for(let b=s;b>w;b--)D*=b,L<=A&&(D/=L,L++);for(;L<=A;)D/=L,L++;return D}}class Oi{static buildBitArray(s){let p=s.length*2-1;s[s.length-1].getRightChar()==null&&(p-=1);let w=12*p,A=new W(w),D=0,b=s[0].getRightChar().getValue();for(let T=11;T>=0;--T)(b&1<<T)!=0&&A.set(D),D++;for(let T=1;T<s.length;++T){let B=s[T],j=B.getLeftChar().getValue();for(let K=11;K>=0;--K)(j&1<<K)!=0&&A.set(D),D++;if(B.getRightChar()!=null){let K=B.getRightChar().getValue();for(let ee=11;ee>=0;--ee)(K&1<<ee)!=0&&A.set(D),D++}}return A}}class Jn{constructor(s,p){p?this.decodedInformation=null:(this.finished=s,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fr{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class si extends Fr{constructor(s,p){super(s),this.value=p}getValue(){return this.value}isFNC1(){return this.value===si.FNC1}}si.FNC1="$";class Yr extends Fr{constructor(s,p,w){super(s),w?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vi extends Fr{constructor(s,p,w){if(super(s),p<0||p>10||w<0||w>10)throw new ne;this.firstDigit=p,this.secondDigit=w}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vi.FNC1}isSecondDigitFNC1(){return this.secondDigit===vi.FNC1}isAnyFNC1(){return this.firstDigit===vi.FNC1||this.secondDigit===vi.FNC1}}vi.FNC1=10;class Sn{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ge;let p=s.substring(0,2);for(let D of Sn.TWO_DIGIT_DATA_LENGTH)if(D[0]===p)return D[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(2,D[2],s):Sn.processFixedAI(2,D[1],s);if(s.length<3)throw new ge;let w=s.substring(0,3);for(let D of Sn.THREE_DIGIT_DATA_LENGTH)if(D[0]===w)return D[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(3,D[2],s):Sn.processFixedAI(3,D[1],s);for(let D of Sn.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(D[0]===w)return D[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(4,D[2],s):Sn.processFixedAI(4,D[1],s);if(s.length<4)throw new ge;let A=s.substring(0,4);for(let D of Sn.FOUR_DIGIT_DATA_LENGTH)if(D[0]===A)return D[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(4,D[2],s):Sn.processFixedAI(4,D[1],s);throw new ge}static processFixedAI(s,p,w){if(w.length<s)throw new ge;let A=w.substring(0,s);if(w.length<s+p)throw new ge;let D=w.substring(s,s+p),L=w.substring(s+p),b="("+A+")"+D,T=Sn.parseFieldsInGeneralPurpose(L);return T==null?b:b+T}static processVariableAI(s,p,w){let A=w.substring(0,s),D;w.length<s+p?D=w.length:D=s+p;let L=w.substring(s,D),b=w.substring(D),T="("+A+")"+L,B=Sn.parseFieldsInGeneralPurpose(b);return B==null?T:T+B}}Sn.VARIABLE_LENGTH=[],Sn.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Sn.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Sn.VARIABLE_LENGTH,20],["22",Sn.VARIABLE_LENGTH,29],["30",Sn.VARIABLE_LENGTH,8],["37",Sn.VARIABLE_LENGTH,8],["90",Sn.VARIABLE_LENGTH,30],["91",Sn.VARIABLE_LENGTH,30],["92",Sn.VARIABLE_LENGTH,30],["93",Sn.VARIABLE_LENGTH,30],["94",Sn.VARIABLE_LENGTH,30],["95",Sn.VARIABLE_LENGTH,30],["96",Sn.VARIABLE_LENGTH,30],["97",Sn.VARIABLE_LENGTH,3],["98",Sn.VARIABLE_LENGTH,30],["99",Sn.VARIABLE_LENGTH,30]],Sn.THREE_DIGIT_DATA_LENGTH=[["240",Sn.VARIABLE_LENGTH,30],["241",Sn.VARIABLE_LENGTH,30],["242",Sn.VARIABLE_LENGTH,6],["250",Sn.VARIABLE_LENGTH,30],["251",Sn.VARIABLE_LENGTH,30],["253",Sn.VARIABLE_LENGTH,17],["254",Sn.VARIABLE_LENGTH,20],["400",Sn.VARIABLE_LENGTH,30],["401",Sn.VARIABLE_LENGTH,30],["402",17],["403",Sn.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Sn.VARIABLE_LENGTH,20],["421",Sn.VARIABLE_LENGTH,15],["422",3],["423",Sn.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Sn.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Sn.VARIABLE_LENGTH,15],["391",Sn.VARIABLE_LENGTH,18],["392",Sn.VARIABLE_LENGTH,15],["393",Sn.VARIABLE_LENGTH,18],["703",Sn.VARIABLE_LENGTH,30]],Sn.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Sn.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Sn.VARIABLE_LENGTH,20],["8003",Sn.VARIABLE_LENGTH,30],["8004",Sn.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Sn.VARIABLE_LENGTH,30],["8008",Sn.VARIABLE_LENGTH,12],["8018",18],["8020",Sn.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Sn.VARIABLE_LENGTH,70],["8200",Sn.VARIABLE_LENGTH,70]];class vr{constructor(s){this.buffer=new mt,this.information=s}decodeAllCodes(s,p){let w=p,A=null;do{let D=this.decodeGeneralPurposeField(w,A),L=Sn.parseFieldsInGeneralPurpose(D.getNewString());if(L!=null&&s.append(L),D.isRemaining()?A=""+D.getRemainingValue():A=null,w===D.getNewPosition())break;w=D.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let p=s;p<s+3;++p)if(this.information.get(p))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let D=this.extractNumericValueFromBitArray(s,4);return D===0?new vi(this.information.getSize(),vi.FNC1,vi.FNC1):new vi(this.information.getSize(),D-1,vi.FNC1)}let p=this.extractNumericValueFromBitArray(s,7),w=(p-8)/11,A=(p-8)%11;return new vi(s+7,w,A)}extractNumericValueFromBitArray(s,p){return vr.extractNumericValueFromBitArray(this.information,s,p)}static extractNumericValueFromBitArray(s,p,w){let A=0;for(let D=0;D<w;++D)s.get(p+D)&&(A|=1<<w-D-1);return A}decodeGeneralPurposeField(s,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(s);let w=this.parseBlocks();return w!=null&&w.isRemaining()?new Yr(this.current.getPosition(),this.buffer.toString(),w.getRemainingValue()):new Yr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,p;do{let w=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),s=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),s=p.isFinished()):(p=this.parseNumericBlock(),s=p.isFinished()),!(w!==this.current.getPosition())&&!s)break}while(!s);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let p;return s.isSecondDigitFNC1()?p=new Yr(this.current.getPosition(),this.buffer.toString()):p=new Yr(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Jn(!0,p)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let p=new Yr(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let p=new Yr(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let p=new Yr(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jn(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(s,5);if(p>=5&&p<16)return!0;if(s+7>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(s,7);if(w>=64&&w<116)return!0;if(s+8>this.information.getSize())return!1;let A=this.extractNumericValueFromBitArray(s,8);return A>=232&&A<253}decodeIsoIec646(s){let p=this.extractNumericValueFromBitArray(s,5);if(p===15)return new si(s+5,si.FNC1);if(p>=5&&p<15)return new si(s+5,"0"+(p-5));let w=this.extractNumericValueFromBitArray(s,7);if(w>=64&&w<90)return new si(s+7,""+(w+1));if(w>=90&&w<116)return new si(s+7,""+(w+7));let A=this.extractNumericValueFromBitArray(s,8),D;switch(A){case 232:D="!";break;case 233:D='"';break;case 234:D="%";break;case 235:D="&";break;case 236:D="'";break;case 237:D="(";break;case 238:D=")";break;case 239:D="*";break;case 240:D="+";break;case 241:D=",";break;case 242:D="-";break;case 243:D=".";break;case 244:D="/";break;case 245:D=":";break;case 246:D=";";break;case 247:D="<";break;case 248:D="=";break;case 249:D=">";break;case 250:D="?";break;case 251:D="_";break;case 252:D=" ";break;default:throw new ne}return new si(s+8,D)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(s,5);if(p>=5&&p<16)return!0;if(s+6>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(s,6);return w>=16&&w<63}decodeAlphanumeric(s){let p=this.extractNumericValueFromBitArray(s,5);if(p===15)return new si(s+5,si.FNC1);if(p>=5&&p<15)return new si(s+5,"0"+(p-5));let w=this.extractNumericValueFromBitArray(s,6);if(w>=32&&w<58)return new si(s+6,""+(w+33));let A;switch(w){case 58:A="*";break;case 59:A=",";break;case 60:A="-";break;case 61:A=".";break;case 62:A="/";break;default:throw new St("Decoding invalid alphanumeric value: "+w)}return new si(s+6,A)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let p=0;p<5&&p+s<this.information.getSize();++p)if(p===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+p))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let p=s;p<s+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let p=0;p<4&&p+s<this.information.getSize();++p)if(this.information.get(s+p))return!1;return!0}}class Pr{constructor(s){this.information=s,this.generalDecoder=new vr(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ar extends Pr{constructor(s){super(s)}encodeCompressedGtin(s,p){s.append("(01)");let w=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,p,w)}encodeCompressedGtinWithoutAI(s,p,w){for(let A=0;A<4;++A){let D=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*A,10);D/100===0&&s.append("0"),D/10===0&&s.append("0"),s.append(D)}ar.appendCheckDigit(s,w)}static appendCheckDigit(s,p){let w=0;for(let A=0;A<13;A++){let D=s.charAt(A+p).charCodeAt(0)-48;w+=(A&1)===0?3*D:D}w=10-w%10,w===10&&(w=0),s.append(w)}}ar.GTIN_SIZE=40;class fi extends ar{constructor(s){super(s)}parseInformation(){let s=new mt;s.append("(01)");let p=s.length(),w=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE,4);return s.append(w),this.encodeCompressedGtinWithoutAI(s,fi.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(s,fi.HEADER_SIZE+44)}}fi.HEADER_SIZE=4;class yi extends Pr{constructor(s){super(s)}parseInformation(){let s=new mt;return this.getGeneralDecoder().decodeAllCodes(s,yi.HEADER_SIZE)}}yi.HEADER_SIZE=5;class xi extends ar{constructor(s){super(s)}encodeCompressedWeight(s,p,w){let A=this.getGeneralDecoder().extractNumericValueFromBitArray(p,w);this.addWeightCode(s,A);let D=this.checkWeight(A),L=1e5;for(let b=0;b<5;++b)D/L===0&&s.append("0"),L/=10;s.append(D)}}class Tr extends xi{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Tr.HEADER_SIZE+xi.GTIN_SIZE+Tr.WEIGHT_SIZE)throw new ge;let s=new mt;return this.encodeCompressedGtin(s,Tr.HEADER_SIZE),this.encodeCompressedWeight(s,Tr.HEADER_SIZE+xi.GTIN_SIZE,Tr.WEIGHT_SIZE),s.toString()}}Tr.HEADER_SIZE=5,Tr.WEIGHT_SIZE=15;class zr extends Tr{constructor(s){super(s)}addWeightCode(s,p){s.append("(3103)")}checkWeight(s){return s}}class gr extends Tr{constructor(s){super(s)}addWeightCode(s,p){p<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class oa extends ar{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<oa.HEADER_SIZE+ar.GTIN_SIZE)throw new ge;let s=new mt;this.encodeCompressedGtin(s,oa.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(oa.HEADER_SIZE+ar.GTIN_SIZE,oa.LAST_DIGIT_SIZE);s.append("(392"),s.append(p),s.append(")");let w=this.getGeneralDecoder().decodeGeneralPurposeField(oa.HEADER_SIZE+ar.GTIN_SIZE+oa.LAST_DIGIT_SIZE,null);return s.append(w.getNewString()),s.toString()}}oa.HEADER_SIZE=8,oa.LAST_DIGIT_SIZE=2;class Hr extends ar{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Hr.HEADER_SIZE+ar.GTIN_SIZE)throw new ge;let s=new mt;this.encodeCompressedGtin(s,Hr.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Hr.HEADER_SIZE+ar.GTIN_SIZE,Hr.LAST_DIGIT_SIZE);s.append("(393"),s.append(p),s.append(")");let w=this.getGeneralDecoder().extractNumericValueFromBitArray(Hr.HEADER_SIZE+ar.GTIN_SIZE+Hr.LAST_DIGIT_SIZE,Hr.FIRST_THREE_DIGITS_SIZE);w/100==0&&s.append("0"),w/10==0&&s.append("0"),s.append(w);let A=this.getGeneralDecoder().decodeGeneralPurposeField(Hr.HEADER_SIZE+ar.GTIN_SIZE+Hr.LAST_DIGIT_SIZE+Hr.FIRST_THREE_DIGITS_SIZE,null);return s.append(A.getNewString()),s.toString()}}Hr.HEADER_SIZE=8,Hr.LAST_DIGIT_SIZE=2,Hr.FIRST_THREE_DIGITS_SIZE=10;class or extends xi{constructor(s,p,w){super(s),this.dateCode=w,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=or.HEADER_SIZE+or.GTIN_SIZE+or.WEIGHT_SIZE+or.DATE_SIZE)throw new ge;let s=new mt;return this.encodeCompressedGtin(s,or.HEADER_SIZE),this.encodeCompressedWeight(s,or.HEADER_SIZE+or.GTIN_SIZE,or.WEIGHT_SIZE),this.encodeCompressedDate(s,or.HEADER_SIZE+or.GTIN_SIZE+or.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,p){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(p,or.DATE_SIZE);if(w==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let A=w%32;w/=32;let D=w%12+1;w/=12;let L=w;L/10==0&&s.append("0"),s.append(L),D/10==0&&s.append("0"),s.append(D),A/10==0&&s.append("0"),s.append(A)}addWeightCode(s,p){s.append("("),s.append(this.firstAIdigits),s.append(p/1e5),s.append(")")}checkWeight(s){return s%1e5}}or.HEADER_SIZE=8,or.WEIGHT_SIZE=20,or.DATE_SIZE=16;function co(_e){try{if(_e.get(1))return new fi(_e);if(!_e.get(2))return new yi(_e);switch(vr.extractNumericValueFromBitArray(_e,1,4)){case 4:return new zr(_e);case 5:return new gr(_e)}switch(vr.extractNumericValueFromBitArray(_e,1,5)){case 12:return new oa(_e);case 13:return new Hr(_e)}switch(vr.extractNumericValueFromBitArray(_e,1,7)){case 56:return new or(_e,"310","11");case 57:return new or(_e,"320","11");case 58:return new or(_e,"310","13");case 59:return new or(_e,"320","13");case 60:return new or(_e,"310","15");case 61:return new or(_e,"320","15");case 62:return new or(_e,"310","17");case 63:return new or(_e,"320","17")}}catch(s){throw console.log(s),new St("unknown decoder: "+_e)}}class bi{constructor(s,p,w,A){this.leftchar=s,this.rightchar=p,this.finderpattern=w,this.maybeLast=A}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,p){return s instanceof bi?bi.equalsOrNull(s.leftchar,p.leftchar)&&bi.equalsOrNull(s.rightchar,p.rightchar)&&bi.equalsOrNull(s.finderpattern,p.finderpattern):!1}static equalsOrNull(s,p){return s===null?p===null:bi.equals(s,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ni{constructor(s,p,w){this.pairs=s,this.rowNumber=p,this.wasReversed=w}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,p){return s instanceof Ni?this.checkEqualitity(s,p)&&s.wasReversed===p.wasReversed:!1}checkEqualitity(s,p){if(!s||!p)return;let w;return s.forEach((A,D)=>{p.forEach(L=>{A.getLeftChar().getValue()===L.getLeftChar().getValue()&&A.getRightChar().getValue()===L.getRightChar().getValue()&&A.getFinderPatter().getValue()===L.getFinderPatter().getValue()&&(w=!0)})}),w}}class hn extends Hn{constructor(s){super(...arguments),this.pairs=new Array(hn.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,p,w){this.pairs.length=0,this.startFromEven=!1;try{return hn.constructResult(this.decodeRow2pairs(s,p))}catch(A){this.verbose&&console.log(A)}return this.pairs.length=0,this.startFromEven=!0,hn.constructResult(this.decodeRow2pairs(s,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,p){let w=!1;for(;!w;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,s))}catch(D){if(D instanceof ge){if(!this.pairs.length)throw new ge;w=!0}}if(this.checkChecksum())return this.pairs;let A;if(this.rows.length?A=!0:A=!1,this.storeRow(s,!1),A){let D=this.checkRowsBoolean(!1);if(D!=null||(D=this.checkRowsBoolean(!0),D!=null))return D}throw new ge}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(w){this.verbose&&console.log(w)}return s&&(this.rows=this.rows.reverse()),p}checkRows(s,p){for(let w=p;w<this.rows.length;w++){let A=this.rows[w];this.pairs.length=0;for(let L of s)this.pairs.push(L.getPairs());if(this.pairs.push(A.getPairs()),!hn.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let D=new Array(s);D.push(A);try{return this.checkRows(D,w+1)}catch(L){this.verbose&&console.log(L)}}throw new ge}static isValidSequence(s){for(let p of hn.FINDER_PATTERN_SEQUENCES){if(s.length>p.length)continue;let w=!0;for(let A=0;A<s.length;A++)if(s[A].getFinderPattern().getValue()!=p[A]){w=!1;break}if(w)return!0}return!1}storeRow(s,p){let w=0,A=!1,D=!1;for(;w<this.rows.length;){let L=this.rows[w];if(L.getRowNumber()>s){D=L.isEquivalent(this.pairs);break}A=L.isEquivalent(this.pairs),w++}D||A||hn.isPartialRow(this.pairs,this.rows)||(this.rows.push(w,new Ni(this.pairs,s,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,p){for(let w of p)if(w.getPairs().length!==s.length){for(let A of w.getPairs())for(let D of s)if(bi.equals(A,D))break}}static isPartialRow(s,p){for(let w of p){let A=!0;for(let D of s){let L=!1;for(let b of w.getPairs())if(D.equals(b)){L=!0;break}if(!L){A=!1;break}}if(A)return!0}return!1}getRows(){return this.rows}static constructResult(s){let p=Oi.buildBitArray(s),A=co(p).parseInformation(),D=s[0].getFinderPattern().getResultPoints(),L=s[s.length-1].getFinderPattern().getResultPoints(),b=[D[0],D[1],L[0],L[1]];return new me(A,null,null,b,Ne.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),p=s.getLeftChar(),w=s.getRightChar();if(w==null)return!1;let A=w.getChecksumPortion(),D=2;for(let b=1;b<this.pairs.size();++b){let T=this.pairs.get(b);A+=T.getLeftChar().getChecksumPortion(),D++;let B=T.getRightChar();B!=null&&(A+=B.getChecksumPortion(),D++)}return A%=211,211*(D-4)+A==p.getValue()}static getNextSecondBar(s,p){let w;return s.get(p)?(w=s.getNextUnset(p),w=s.getNextSet(w)):(w=s.getNextSet(p),w=s.getNextUnset(w)),w}retrieveNextPair(s,p,w){let A=p.length%2==0;this.startFromEven&&(A=!A);let D,L=!0,b=-1;do this.findNextPair(s,p,b),D=this.parseFoundFinderPattern(s,w,A),D==null?b=hn.getNextSecondBar(s,this.startEnd[0]):L=!1;while(L);let T=this.decodeDataCharacter(s,D,A,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new ge;let B;try{B=this.decodeDataCharacter(s,D,A,!1)}catch(j){B=null,this.verbose&&console.log(j)}return new bi(T,B,D,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,p,w){let A=this.getDecodeFinderCounters();A[0]=0,A[1]=0,A[2]=0,A[3]=0;let D=s.getSize(),L;w>=0?L=w:this.isEmptyPair(p)?L=0:L=p[p.length-1].getFinderPattern().getStartEnd()[1];let b=p.length%2!=0;this.startFromEven&&(b=!b);let T=!1;for(;L<D&&(T=!s.get(L),!!T);)L++;let B=0,j=L;for(let K=L;K<D;K++)if(s.get(K)!=T)A[B]++;else{if(B==3){if(b&&hn.reverseCounters(A),hn.isFinderPattern(A)){this.startEnd[0]=j,this.startEnd[1]=K;return}b&&hn.reverseCounters(A),j+=A[0]+A[1],A[0]=A[2],A[1]=A[3],A[2]=0,A[3]=0,B--}else B++;A[B]=1,T=!T}throw new ge}static reverseCounters(s){let p=s.length;for(let w=0;w<p/2;++w){let A=s[w];s[w]=s[p-w-1],s[p-w-1]=A}}parseFoundFinderPattern(s,p,w){let A,D,L;if(w){let B=this.startEnd[0]-1;for(;B>=0&&!s.get(B);)B--;B++,A=this.startEnd[0]-B,D=B,L=this.startEnd[1]}else D=this.startEnd[0],L=s.getNextUnset(this.startEnd[1]+1),A=L-this.startEnd[1];let b=this.getDecodeFinderCounters();k.arraycopy(b,0,b,1,b.length-1),b[0]=A;let T;try{T=this.parseFinderValue(b,hn.FINDER_PATTERNS)}catch{return null}return new Br(T,[D,L],D,L,p)}decodeDataCharacter(s,p,w,A){let D=this.getDataCharacterCounters();for(let oe=0;oe<D.length;oe++)D[oe]=0;if(A)hn.recordPatternInReverse(s,p.getStartEnd()[0],D);else{hn.recordPattern(s,p.getStartEnd()[1],D);for(let oe=0,ke=D.length-1;oe<ke;oe++,ke--){let ze=D[oe];D[oe]=D[ke],D[ke]=ze}}let L=17,b=Vt.sum(new Int32Array(D))/L,T=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(b-T)/T>.3)throw new ge;let B=this.getOddCounts(),j=this.getEvenCounts(),K=this.getOddRoundingErrors(),ee=this.getEvenRoundingErrors();for(let oe=0;oe<D.length;oe++){let ke=1*D[oe]/b,ze=ke+.5;if(ze<1){if(ke<.3)throw new ge;ze=1}else if(ze>8){if(ke>8.7)throw new ge;ze=8}let vt=oe/2;(oe&1)==0?(B[vt]=ze,K[vt]=ke-ze):(j[vt]=ze,ee[vt]=ke-ze)}this.adjustOddEvenCounts(L);let he=4*p.getValue()+(w?0:2)+(A?0:1)-1,Te=0,Oe=0;for(let oe=B.length-1;oe>=0;oe--){if(hn.isNotA1left(p,w,A)){let ke=hn.WEIGHTS[he][2*oe];Oe+=B[oe]*ke}Te+=B[oe]}let Be=0;for(let oe=j.length-1;oe>=0;oe--)if(hn.isNotA1left(p,w,A)){let ke=hn.WEIGHTS[he][2*oe+1];Be+=j[oe]*ke}let Xe=Oe+Be;if((Te&1)!=0||Te>13||Te<4)throw new ge;let Ke=(13-Te)/2,ot=hn.SYMBOL_WIDEST[Ke],Je=9-ot,Ct=mr.getRSSvalue(B,ot,!0),R=mr.getRSSvalue(j,Je,!1),P=hn.EVEN_TOTAL_SUBSET[Ke],Y=hn.GSUM[Ke],$=Ct*P+R+Y;return new xr($,Xe)}static isNotA1left(s,p,w){return!(s.getValue()==0&&p&&w)}adjustOddEvenCounts(s){let p=Vt.sum(new Int32Array(this.getOddCounts())),w=Vt.sum(new Int32Array(this.getEvenCounts())),A=!1,D=!1;p>13?D=!0:p<4&&(A=!0);let L=!1,b=!1;w>13?b=!0:w<4&&(L=!0);let T=p+w-s,B=(p&1)==1,j=(w&1)==0;if(T==1)if(B){if(j)throw new ge;D=!0}else{if(!j)throw new ge;b=!0}else if(T==-1)if(B){if(j)throw new ge;A=!0}else{if(!j)throw new ge;L=!0}else if(T==0){if(B){if(!j)throw new ge;p<w?(A=!0,b=!0):(D=!0,L=!0)}else if(j)throw new ge}else throw new ge;if(A){if(D)throw new ge;hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(D&&hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),L){if(b)throw new ge;hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}hn.SYMBOL_WIDEST=[7,5,4,3,1],hn.EVEN_TOTAL_SUBSET=[4,20,52,104,204],hn.GSUM=[0,348,1388,2948,3988],hn.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],hn.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],hn.FINDER_PAT_A=0,hn.FINDER_PAT_B=1,hn.FINDER_PAT_C=2,hn.FINDER_PAT_D=3,hn.FINDER_PAT_E=4,hn.FINDER_PAT_F=5,hn.FINDER_PATTERN_SEQUENCES=[[hn.FINDER_PAT_A,hn.FINDER_PAT_A],[hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B],[hn.FINDER_PAT_A,hn.FINDER_PAT_C,hn.FINDER_PAT_B,hn.FINDER_PAT_D],[hn.FINDER_PAT_A,hn.FINDER_PAT_E,hn.FINDER_PAT_B,hn.FINDER_PAT_D,hn.FINDER_PAT_C],[hn.FINDER_PAT_A,hn.FINDER_PAT_E,hn.FINDER_PAT_B,hn.FINDER_PAT_D,hn.FINDER_PAT_D,hn.FINDER_PAT_F],[hn.FINDER_PAT_A,hn.FINDER_PAT_E,hn.FINDER_PAT_B,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_F,hn.FINDER_PAT_F],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_D],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_E],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_F,hn.FINDER_PAT_F],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_E,hn.FINDER_PAT_F,hn.FINDER_PAT_F]],hn.MAX_PAIRS=11;class wi extends xr{constructor(s,p,w){super(s,p),this.count=0,this.finderPattern=w}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class mn extends Hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,p,w){const A=this.decodePair(p,!1,s,w);mn.addOrTally(this.possibleLeftPairs,A),p.reverse();let D=this.decodePair(p,!0,s,w);mn.addOrTally(this.possibleRightPairs,D),p.reverse();for(let L of this.possibleLeftPairs)if(L.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&mn.checkChecksum(L,b))return mn.constructResult(L,b)}throw new ge}static addOrTally(s,p){if(p==null)return;let w=!1;for(let A of s)if(A.getValue()===p.getValue()){A.incrementCount(),w=!0;break}w||s.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,p){let w=4537077*s.getValue()+p.getValue(),A=new String(w).toString(),D=new mt;for(let B=13-A.length;B>0;B--)D.append("0");D.append(A);let L=0;for(let B=0;B<13;B++){let j=D.charAt(B).charCodeAt(0)-48;L+=(B&1)===0?3*j:j}L=10-L%10,L===10&&(L=0),D.append(L.toString());let b=s.getFinderPattern().getResultPoints(),T=p.getFinderPattern().getResultPoints();return new me(D.toString(),null,0,[b[0],b[1],T[0],T[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(s,p){let w=(s.getChecksumPortion()+16*p.getChecksumPortion())%79,A=9*s.getFinderPattern().getValue()+p.getFinderPattern().getValue();return A>72&&A--,A>8&&A--,w===A}decodePair(s,p,w,A){try{let D=this.findFinderPattern(s,p),L=this.parseFoundFinderPattern(s,w,p,D),b=A==null?null:A.get(J.NEED_RESULT_POINT_CALLBACK);if(b!=null){let j=(D[0]+D[1])/2;p&&(j=s.getSize()-1-j),b.foundPossibleResultPoint(new Xt(j,w))}let T=this.decodeDataCharacter(s,L,!0),B=this.decodeDataCharacter(s,L,!1);return new wi(1597*T.getValue()+B.getValue(),T.getChecksumPortion()+4*B.getChecksumPortion(),L)}catch{return null}}decodeDataCharacter(s,p,w){let A=this.getDataCharacterCounters();for(let Be=0;Be<A.length;Be++)A[Be]=0;if(w)it.recordPatternInReverse(s,p.getStartEnd()[0],A);else{it.recordPattern(s,p.getStartEnd()[1]+1,A);for(let Be=0,Xe=A.length-1;Be<Xe;Be++,Xe--){let Ke=A[Be];A[Be]=A[Xe],A[Xe]=Ke}}let D=w?16:15,L=Vt.sum(new Int32Array(A))/D,b=this.getOddCounts(),T=this.getEvenCounts(),B=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let Be=0;Be<A.length;Be++){let Xe=A[Be]/L,Ke=Math.floor(Xe+.5);Ke<1?Ke=1:Ke>8&&(Ke=8);let ot=Math.floor(Be/2);(Be&1)===0?(b[ot]=Ke,B[ot]=Xe-Ke):(T[ot]=Ke,j[ot]=Xe-Ke)}this.adjustOddEvenCounts(w,D);let K=0,ee=0;for(let Be=b.length-1;Be>=0;Be--)ee*=9,ee+=b[Be],K+=b[Be];let he=0,Te=0;for(let Be=T.length-1;Be>=0;Be--)he*=9,he+=T[Be],Te+=T[Be];let Oe=ee+3*he;if(w){if((K&1)!==0||K>12||K<4)throw new ge;let Be=(12-K)/2,Xe=mn.OUTSIDE_ODD_WIDEST[Be],Ke=9-Xe,ot=mr.getRSSvalue(b,Xe,!1),Je=mr.getRSSvalue(T,Ke,!0),Ct=mn.OUTSIDE_EVEN_TOTAL_SUBSET[Be],R=mn.OUTSIDE_GSUM[Be];return new xr(ot*Ct+Je+R,Oe)}else{if((Te&1)!==0||Te>10||Te<4)throw new ge;let Be=(10-Te)/2,Xe=mn.INSIDE_ODD_WIDEST[Be],Ke=9-Xe,ot=mr.getRSSvalue(b,Xe,!0),Je=mr.getRSSvalue(T,Ke,!1),Ct=mn.INSIDE_ODD_TOTAL_SUBSET[Be],R=mn.INSIDE_GSUM[Be];return new xr(Je*Ct+ot+R,Oe)}}findFinderPattern(s,p){let w=this.getDecodeFinderCounters();w[0]=0,w[1]=0,w[2]=0,w[3]=0;let A=s.getSize(),D=!1,L=0;for(;L<A&&(D=!s.get(L),p!==D);)L++;let b=0,T=L;for(let B=L;B<A;B++)if(s.get(B)!==D)w[b]++;else{if(b===3){if(Hn.isFinderPattern(w))return[T,B];T+=w[0]+w[1],w[0]=w[2],w[1]=w[3],w[2]=0,w[3]=0,b--}else b++;w[b]=1,D=!D}throw new ge}parseFoundFinderPattern(s,p,w,A){let D=s.get(A[0]),L=A[0]-1;for(;L>=0&&D!==s.get(L);)L--;L++;const b=A[0]-L,T=this.getDecodeFinderCounters(),B=new Int32Array(T.length);k.arraycopy(T,0,B,1,T.length-1),B[0]=b;const j=this.parseFinderValue(B,mn.FINDER_PATTERNS);let K=L,ee=A[1];return w&&(K=s.getSize()-1-K,ee=s.getSize()-1-ee),new Br(j,[L,A[1]],K,ee,p)}adjustOddEvenCounts(s,p){let w=Vt.sum(new Int32Array(this.getOddCounts())),A=Vt.sum(new Int32Array(this.getEvenCounts())),D=!1,L=!1,b=!1,T=!1;s?(w>12?L=!0:w<4&&(D=!0),A>12?T=!0:A<4&&(b=!0)):(w>11?L=!0:w<5&&(D=!0),A>10?T=!0:A<4&&(b=!0));let B=w+A-p,j=(w&1)===(s?1:0),K=(A&1)===1;if(B===1)if(j){if(K)throw new ge;L=!0}else{if(!K)throw new ge;T=!0}else if(B===-1)if(j){if(K)throw new ge;D=!0}else{if(!K)throw new ge;b=!0}else if(B===0){if(j){if(!K)throw new ge;w<A?(D=!0,T=!0):(L=!0,b=!0)}else if(K)throw new ge}else throw new ge;if(D){if(L)throw new ge;Hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(L&&Hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(T)throw new ge;Hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],mn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],mn.OUTSIDE_GSUM=[0,161,961,2015,2715],mn.INSIDE_GSUM=[0,336,1036,1516],mn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],mn.INSIDE_ODD_WIDEST=[2,4,6,8],mn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Zi extends it{constructor(s,p){super(),this.readers=[],this.verbose=p===!0;const w=s?s.get(J.POSSIBLE_FORMATS):null,A=s&&s.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;w?((w.includes(Ne.EAN_13)||w.includes(Ne.UPC_A)||w.includes(Ne.EAN_8)||w.includes(Ne.UPC_E))&&this.readers.push(new er(s)),w.includes(Ne.CODE_39)&&this.readers.push(new Et(A)),w.includes(Ne.CODE_128)&&this.readers.push(new We),w.includes(Ne.ITF)&&this.readers.push(new Ye),w.includes(Ne.RSS_14)&&this.readers.push(new mn),w.includes(Ne.RSS_EXPANDED)&&this.readers.push(new hn(this.verbose))):(this.readers.push(new er(s)),this.readers.push(new Et),this.readers.push(new er(s)),this.readers.push(new We),this.readers.push(new Ye),this.readers.push(new mn),this.readers.push(new hn(this.verbose)))}decodeRow(s,p,w){for(let A=0;A<this.readers.length;A++)try{return this.readers[A].decodeRow(s,p,w)}catch{}throw new ge}reset(){this.readers.forEach(s=>s.reset())}}class Bo extends V{constructor(s=500,p){super(new Zi(p),s,p)}}class br{constructor(s,p,w){this.ecCodewords=s,this.ecBlocks=[p],w&&this.ecBlocks.push(w)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xn{constructor(s,p){this.count=s,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fr{constructor(s,p,w,A,D,L){this.versionNumber=s,this.symbolSizeRows=p,this.symbolSizeColumns=w,this.dataRegionSizeRows=A,this.dataRegionSizeColumns=D,this.ecBlocks=L;let b=0;const T=L.getECCodewords(),B=L.getECBlocks();for(let j of B)b+=j.getCount()*(j.getDataCodewords()+T);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,p){if((s&1)!==0||(p&1)!==0)throw new ne;for(let w of fr.VERSIONS)if(w.symbolSizeRows===s&&w.symbolSizeColumns===p)return w;throw new ne}toString(){return""+this.versionNumber}static buildVersions(){return[new fr(1,10,10,8,8,new br(5,new Xn(1,3))),new fr(2,12,12,10,10,new br(7,new Xn(1,5))),new fr(3,14,14,12,12,new br(10,new Xn(1,8))),new fr(4,16,16,14,14,new br(12,new Xn(1,12))),new fr(5,18,18,16,16,new br(14,new Xn(1,18))),new fr(6,20,20,18,18,new br(18,new Xn(1,22))),new fr(7,22,22,20,20,new br(20,new Xn(1,30))),new fr(8,24,24,22,22,new br(24,new Xn(1,36))),new fr(9,26,26,24,24,new br(28,new Xn(1,44))),new fr(10,32,32,14,14,new br(36,new Xn(1,62))),new fr(11,36,36,16,16,new br(42,new Xn(1,86))),new fr(12,40,40,18,18,new br(48,new Xn(1,114))),new fr(13,44,44,20,20,new br(56,new Xn(1,144))),new fr(14,48,48,22,22,new br(68,new Xn(1,174))),new fr(15,52,52,24,24,new br(42,new Xn(2,102))),new fr(16,64,64,14,14,new br(56,new Xn(2,140))),new fr(17,72,72,16,16,new br(36,new Xn(4,92))),new fr(18,80,80,18,18,new br(48,new Xn(4,114))),new fr(19,88,88,20,20,new br(56,new Xn(4,144))),new fr(20,96,96,22,22,new br(68,new Xn(4,174))),new fr(21,104,104,24,24,new br(56,new Xn(6,136))),new fr(22,120,120,18,18,new br(68,new Xn(6,175))),new fr(23,132,132,20,20,new br(62,new Xn(8,163))),new fr(24,144,144,22,22,new br(62,new Xn(8,156),new Xn(2,155))),new fr(25,8,18,6,16,new br(7,new Xn(1,5))),new fr(26,8,32,6,14,new br(11,new Xn(1,10))),new fr(27,12,26,10,24,new br(14,new Xn(1,16))),new fr(28,12,36,10,16,new br(18,new Xn(1,22))),new fr(29,16,36,14,16,new br(24,new Xn(1,32))),new fr(30,16,48,14,22,new br(28,new Xn(1,49)))]}}fr.VERSIONS=fr.buildVersions();class Or{constructor(s){const p=s.getHeight();if(p<8||p>144||(p&1)!==0)throw new ne;this.version=Or.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ct(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const p=s.getHeight(),w=s.getWidth();return fr.getVersionForDimensions(p,w)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let p=0,w=4,A=0;const D=this.mappingBitMatrix.getHeight(),L=this.mappingBitMatrix.getWidth();let b=!1,T=!1,B=!1,j=!1;do if(w===D&&A===0&&!b)s[p++]=this.readCorner1(D,L)&255,w-=2,A+=2,b=!0;else if(w===D-2&&A===0&&(L&3)!==0&&!T)s[p++]=this.readCorner2(D,L)&255,w-=2,A+=2,T=!0;else if(w===D+4&&A===2&&(L&7)===0&&!B)s[p++]=this.readCorner3(D,L)&255,w-=2,A+=2,B=!0;else if(w===D-2&&A===0&&(L&7)===4&&!j)s[p++]=this.readCorner4(D,L)&255,w-=2,A+=2,j=!0;else{do w<D&&A>=0&&!this.readMappingMatrix.get(A,w)&&(s[p++]=this.readUtah(w,A,D,L)&255),w-=2,A+=2;while(w>=0&&A<L);w+=1,A+=3;do w>=0&&A<L&&!this.readMappingMatrix.get(A,w)&&(s[p++]=this.readUtah(w,A,D,L)&255),w+=2,A-=2;while(w<D&&A>=0);w+=3,A+=1}while(w<D||A<L);if(p!==this.version.getTotalCodewords())throw new ne;return s}readModule(s,p,w,A){return s<0&&(s+=w,p+=4-(w+4&7)),p<0&&(p+=A,s+=4-(A+4&7)),this.readMappingMatrix.set(p,s),this.mappingBitMatrix.get(p,s)}readUtah(s,p,w,A){let D=0;return this.readModule(s-2,p-2,w,A)&&(D|=1),D<<=1,this.readModule(s-2,p-1,w,A)&&(D|=1),D<<=1,this.readModule(s-1,p-2,w,A)&&(D|=1),D<<=1,this.readModule(s-1,p-1,w,A)&&(D|=1),D<<=1,this.readModule(s-1,p,w,A)&&(D|=1),D<<=1,this.readModule(s,p-2,w,A)&&(D|=1),D<<=1,this.readModule(s,p-1,w,A)&&(D|=1),D<<=1,this.readModule(s,p,w,A)&&(D|=1),D}readCorner1(s,p){let w=0;return this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,1,s,p)&&(w|=1),w<<=1,this.readModule(s-1,2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w<<=1,this.readModule(2,p-1,s,p)&&(w|=1),w<<=1,this.readModule(3,p-1,s,p)&&(w|=1),w}readCorner2(s,p){let w=0;return this.readModule(s-3,0,s,p)&&(w|=1),w<<=1,this.readModule(s-2,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(0,p-4,s,p)&&(w|=1),w<<=1,this.readModule(0,p-3,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w}readCorner3(s,p){let w=0;return this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,p-1,s,p)&&(w|=1),w<<=1,this.readModule(0,p-3,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-3,s,p)&&(w|=1),w<<=1,this.readModule(1,p-2,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w}readCorner4(s,p){let w=0;return this.readModule(s-3,0,s,p)&&(w|=1),w<<=1,this.readModule(s-2,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w<<=1,this.readModule(2,p-1,s,p)&&(w|=1),w<<=1,this.readModule(3,p-1,s,p)&&(w|=1),w}extractDataRegion(s){const p=this.version.getSymbolSizeRows(),w=this.version.getSymbolSizeColumns();if(s.getHeight()!==p)throw new f("Dimension of bitMatrix must match the version size");const A=this.version.getDataRegionSizeRows(),D=this.version.getDataRegionSizeColumns(),L=p/A|0,b=w/D|0,T=L*A,B=b*D,j=new ct(B,T);for(let K=0;K<L;++K){const ee=K*A;for(let he=0;he<b;++he){const Te=he*D;for(let Oe=0;Oe<A;++Oe){const Be=K*(A+2)+1+Oe,Xe=ee+Oe;for(let Ke=0;Ke<D;++Ke){const ot=he*(D+2)+1+Ke;if(s.get(ot,Be)){const Je=Te+Ke;j.set(Je,Xe)}}}}}return j}}class fo{constructor(s,p){this.numDataCodewords=s,this.codewords=p}static getDataBlocks(s,p){const w=p.getECBlocks();let A=0;const D=w.getECBlocks();for(let Oe of D)A+=Oe.getCount();const L=new Array(A);let b=0;for(let Oe of D)for(let Be=0;Be<Oe.getCount();Be++){const Xe=Oe.getDataCodewords(),Ke=w.getECCodewords()+Xe;L[b++]=new fo(Xe,new Uint8Array(Ke))}const B=L[0].codewords.length-w.getECCodewords(),j=B-1;let K=0;for(let Oe=0;Oe<j;Oe++)for(let Be=0;Be<b;Be++)L[Be].codewords[Oe]=s[K++];const ee=p.getVersionNumber()===24,he=ee?8:b;for(let Oe=0;Oe<he;Oe++)L[Oe].codewords[B-1]=s[K++];const Te=L[0].codewords.length;for(let Oe=B;Oe<Te;Oe++)for(let Be=0;Be<b;Be++){const Xe=ee?(Be+8)%b:Be,Ke=ee&&Xe>7?Oe-1:Oe;L[Xe].codewords[Ke]=s[K++]}if(K!==s.length)throw new f;return L}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class cn{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new f(""+s);let p=0,w=this.bitOffset,A=this.byteOffset;const D=this.bytes;if(w>0){const L=8-w,b=s<L?s:L,T=L-b,B=255>>8-b<<T;p=(D[A]&B)>>T,s-=b,w+=b,w===8&&(w=0,A++)}if(s>0){for(;s>=8;)p=p<<8|D[A]&255,A++,s-=8;if(s>0){const L=8-s,b=255>>L<<L;p=p<<s|(D[A]&b)>>L,w+=s}}return this.bitOffset=w,this.byteOffset=A,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var On;(function(_e){_e[_e.PAD_ENCODE=0]="PAD_ENCODE",_e[_e.ASCII_ENCODE=1]="ASCII_ENCODE",_e[_e.C40_ENCODE=2]="C40_ENCODE",_e[_e.TEXT_ENCODE=3]="TEXT_ENCODE",_e[_e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_e[_e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_e[_e.BASE256_ENCODE=6]="BASE256_ENCODE"})(On||(On={}));class qi{static decode(s){const p=new cn(s),w=new mt,A=new mt,D=new Array;let L=On.ASCII_ENCODE;do if(L===On.ASCII_ENCODE)L=this.decodeAsciiSegment(p,w,A);else{switch(L){case On.C40_ENCODE:this.decodeC40Segment(p,w);break;case On.TEXT_ENCODE:this.decodeTextSegment(p,w);break;case On.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,w);break;case On.EDIFACT_ENCODE:this.decodeEdifactSegment(p,w);break;case On.BASE256_ENCODE:this.decodeBase256Segment(p,w,D);break;default:throw new ne}L=On.ASCII_ENCODE}while(L!==On.PAD_ENCODE&&p.available()>0);return A.length()>0&&w.append(A.toString()),new et(s,w.toString(),D.length===0?null:D,null)}static decodeAsciiSegment(s,p,w){let A=!1;do{let D=s.readBits(8);if(D===0)throw new ne;if(D<=128)return A&&(D+=128),p.append(String.fromCharCode(D-1)),On.ASCII_ENCODE;if(D===129)return On.PAD_ENCODE;if(D<=229){const L=D-130;L<10&&p.append("0"),p.append(""+L)}else switch(D){case 230:return On.C40_ENCODE;case 231:return On.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:A=!0;break;case 236:p.append("[)>05"),w.insert(0,"");break;case 237:p.append("[)>06"),w.insert(0,"");break;case 238:return On.ANSIX12_ENCODE;case 239:return On.TEXT_ENCODE;case 240:return On.EDIFACT_ENCODE;case 241:break;default:if(D!==254||s.available()!==0)throw new ne;break}}while(s.available()>0);return On.ASCII_ENCODE}static decodeC40Segment(s,p){let w=!1;const A=[];let D=0;do{if(s.available()===8)return;const L=s.readBits(8);if(L===254)return;this.parseTwoBytes(L,s.readBits(8),A);for(let b=0;b<3;b++){const T=A[b];switch(D){case 0:if(T<3)D=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else throw new ne;break;case 1:w?(p.append(String.fromCharCode(T+128)),w=!1):p.append(String.fromCharCode(T)),D=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else switch(T){case 27:p.append("");break;case 30:w=!0;break;default:throw new ne}D=0;break;case 3:w?(p.append(String.fromCharCode(T+224)),w=!1):p.append(String.fromCharCode(T+96)),D=0;break;default:throw new ne}}}while(s.available()>0)}static decodeTextSegment(s,p){let w=!1,A=[],D=0;do{if(s.available()===8)return;const L=s.readBits(8);if(L===254)return;this.parseTwoBytes(L,s.readBits(8),A);for(let b=0;b<3;b++){const T=A[b];switch(D){case 0:if(T<3)D=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else throw new ne;break;case 1:w?(p.append(String.fromCharCode(T+128)),w=!1):p.append(String.fromCharCode(T)),D=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else switch(T){case 27:p.append("");break;case 30:w=!0;break;default:throw new ne}D=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B),D=0}else throw new ne;break;default:throw new ne}}}while(s.available()>0)}static decodeAnsiX12Segment(s,p){const w=[];do{if(s.available()===8)return;const A=s.readBits(8);if(A===254)return;this.parseTwoBytes(A,s.readBits(8),w);for(let D=0;D<3;D++){const L=w[D];switch(L){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(L<14)p.append(String.fromCharCode(L+44));else if(L<40)p.append(String.fromCharCode(L+51));else throw new ne;break}}}while(s.available()>0)}static parseTwoBytes(s,p,w){let A=(s<<8)+p-1,D=Math.floor(A/1600);w[0]=D,A-=D*1600,D=Math.floor(A/40),w[1]=D,w[2]=A-D*40}static decodeEdifactSegment(s,p){do{if(s.available()<=16)return;for(let w=0;w<4;w++){let A=s.readBits(6);if(A===31){const D=8-s.getBitOffset();D!==8&&s.readBits(D);return}(A&32)===0&&(A|=64),p.append(String.fromCharCode(A))}}while(s.available()>0)}static decodeBase256Segment(s,p,w){let A=1+s.getByteOffset();const D=this.unrandomize255State(s.readBits(8),A++);let L;if(D===0?L=s.available()/8|0:D<250?L=D:L=250*(D-249)+this.unrandomize255State(s.readBits(8),A++),L<0)throw new ne;const b=new Uint8Array(L);for(let T=0;T<L;T++){if(s.available()<8)throw new ne;b[T]=this.unrandomize255State(s.readBits(8),A++)}w.push(b);try{p.append(Ue.decode(b,Ze.ISO88591))}catch(T){throw new St("Platform does not support required encoding: "+T.message)}}static unrandomize255State(s,p){const w=149*p%255+1,A=s-w;return A>=0?A:A+256}}qi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],qi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],qi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],qi.TEXT_SHIFT2_SET_CHARS=qi.C40_SHIFT2_SET_CHARS,qi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class hl{constructor(){this.rsDecoder=new Kt(st.DATA_MATRIX_FIELD_256)}decode(s){const p=new Or(s),w=p.getVersion(),A=p.readCodewords(),D=fo.getDataBlocks(A,w);let L=0;for(let B of D)L+=B.getNumDataCodewords();const b=new Uint8Array(L),T=D.length;for(let B=0;B<T;B++){const j=D[B],K=j.getCodewords(),ee=j.getNumDataCodewords();this.correctErrors(K,ee);for(let he=0;he<ee;he++)b[he*T+B]=K[he]}return qi.decode(b)}correctErrors(s,p){const w=new Int32Array(s);try{this.rsDecoder.decode(w,s.length-p)}catch{throw new m}for(let A=0;A<p;A++)s[A]=w[A]}}class Ai{constructor(s){this.image=s,this.rectangleDetector=new gt(this.image)}detect(){const s=this.rectangleDetector.detect();let p=this.detectSolid1(s);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new ge;p=this.shiftToModuleCenter(p);const w=p[0],A=p[1],D=p[2],L=p[3];let b=this.transitionsBetween(w,L)+1,T=this.transitionsBetween(D,L)+1;(b&1)===1&&(b+=1),(T&1)===1&&(T+=1),4*b<7*T&&4*T<7*b&&(b=T=Math.max(b,T));let B=Ai.sampleGrid(this.image,w,A,D,L,b,T);return new qt(B,[w,A,D,L])}static shiftPoint(s,p,w){let A=(p.getX()-s.getX())/(w+1),D=(p.getY()-s.getY())/(w+1);return new Xt(s.getX()+A,s.getY()+D)}static moveAway(s,p,w){let A=s.getX(),D=s.getY();return A<p?A-=1:A+=1,D<w?D-=1:D+=1,new Xt(A,D)}detectSolid1(s){let p=s[0],w=s[1],A=s[3],D=s[2],L=this.transitionsBetween(p,w),b=this.transitionsBetween(w,A),T=this.transitionsBetween(A,D),B=this.transitionsBetween(D,p),j=L,K=[D,p,w,A];return j>b&&(j=b,K[0]=p,K[1]=w,K[2]=A,K[3]=D),j>T&&(j=T,K[0]=w,K[1]=A,K[2]=D,K[3]=p),j>B&&(K[0]=A,K[1]=D,K[2]=p,K[3]=w),K}detectSolid2(s){let p=s[0],w=s[1],A=s[2],D=s[3],L=this.transitionsBetween(p,D),b=Ai.shiftPoint(w,A,(L+1)*4),T=Ai.shiftPoint(A,w,(L+1)*4),B=this.transitionsBetween(b,p),j=this.transitionsBetween(T,D);return B<j?(s[0]=p,s[1]=w,s[2]=A,s[3]=D):(s[0]=w,s[1]=A,s[2]=D,s[3]=p),s}correctTopRight(s){let p=s[0],w=s[1],A=s[2],D=s[3],L=this.transitionsBetween(p,D),b=this.transitionsBetween(w,D),T=Ai.shiftPoint(p,w,(b+1)*4),B=Ai.shiftPoint(A,w,(L+1)*4);L=this.transitionsBetween(T,D),b=this.transitionsBetween(B,D);let j=new Xt(D.getX()+(A.getX()-w.getX())/(L+1),D.getY()+(A.getY()-w.getY())/(L+1)),K=new Xt(D.getX()+(p.getX()-w.getX())/(b+1),D.getY()+(p.getY()-w.getY())/(b+1));if(!this.isValid(j))return this.isValid(K)?K:null;if(!this.isValid(K))return j;let ee=this.transitionsBetween(T,j)+this.transitionsBetween(B,j),he=this.transitionsBetween(T,K)+this.transitionsBetween(B,K);return ee>he?j:K}shiftToModuleCenter(s){let p=s[0],w=s[1],A=s[2],D=s[3],L=this.transitionsBetween(p,D)+1,b=this.transitionsBetween(A,D)+1,T=Ai.shiftPoint(p,w,b*4),B=Ai.shiftPoint(A,w,L*4);L=this.transitionsBetween(T,D)+1,b=this.transitionsBetween(B,D)+1,(L&1)===1&&(L+=1),(b&1)===1&&(b+=1);let j=(p.getX()+w.getX()+A.getX()+D.getX())/4,K=(p.getY()+w.getY()+A.getY()+D.getY())/4;p=Ai.moveAway(p,j,K),w=Ai.moveAway(w,j,K),A=Ai.moveAway(A,j,K),D=Ai.moveAway(D,j,K);let ee,he;return T=Ai.shiftPoint(p,w,b*4),T=Ai.shiftPoint(T,D,L*4),ee=Ai.shiftPoint(w,p,b*4),ee=Ai.shiftPoint(ee,A,L*4),B=Ai.shiftPoint(A,D,b*4),B=Ai.shiftPoint(B,w,L*4),he=Ai.shiftPoint(D,A,b*4),he=Ai.shiftPoint(he,p,L*4),[T,ee,B,he]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,p,w,A,D,L,b){return Ee.getInstance().sampleGrid(s,L,b,.5,.5,L-.5,.5,L-.5,b-.5,.5,b-.5,p.getX(),p.getY(),D.getX(),D.getY(),A.getX(),A.getY(),w.getX(),w.getY())}transitionsBetween(s,p){let w=Math.trunc(s.getX()),A=Math.trunc(s.getY()),D=Math.trunc(p.getX()),L=Math.trunc(p.getY()),b=Math.abs(L-A)>Math.abs(D-w);if(b){let Oe=w;w=A,A=Oe,Oe=D,D=L,L=Oe}let T=Math.abs(D-w),B=Math.abs(L-A),j=-T/2,K=A<L?1:-1,ee=w<D?1:-1,he=0,Te=this.image.get(b?A:w,b?w:A);for(let Oe=w,Be=A;Oe!==D;Oe+=ee){let Xe=this.image.get(b?Be:Oe,b?Oe:Be);if(Xe!==Te&&(he++,Te=Xe),j+=B,j>0){if(Be===L)break;Be+=K,j-=T}}return he}}class _a{constructor(){this.decoder=new hl}decode(s,p=null){let w,A;if(p!=null&&p.has(J.PURE_BARCODE)){const B=_a.extractPureBits(s.getBlackMatrix());w=this.decoder.decode(B),A=_a.NO_POINTS}else{const B=new Ai(s.getBlackMatrix()).detect();w=this.decoder.decode(B.getBits()),A=B.getPoints()}const D=w.getRawBytes(),L=new me(w.getText(),D,8*D.length,A,Ne.DATA_MATRIX,k.currentTimeMillis()),b=w.getByteSegments();b!=null&&L.putMetadata(xt.BYTE_SEGMENTS,b);const T=w.getECLevel();return T!=null&&L.putMetadata(xt.ERROR_CORRECTION_LEVEL,T),L}reset(){}static extractPureBits(s){const p=s.getTopLeftOnBit(),w=s.getBottomRightOnBit();if(p==null||w==null)throw new ge;const A=this.moduleSize(p,s);let D=p[1];const L=w[1];let b=p[0];const B=(w[0]-b+1)/A,j=(L-D+1)/A;if(B<=0||j<=0)throw new ge;const K=A/2;D+=K,b+=K;const ee=new ct(B,j);for(let he=0;he<j;he++){const Te=D+he*A;for(let Oe=0;Oe<B;Oe++)s.get(b+Oe*A,Te)&&ee.set(Oe,he)}return ee}static moduleSize(s,p){const w=p.getWidth();let A=s[0];const D=s[1];for(;A<w&&p.get(A,D);)A++;if(A===w)throw new ge;const L=A-s[0];if(L===0)throw new ge;return L}}_a.NO_POINTS=[];class pr extends V{constructor(s=500){super(new _a,s)}}var Zn;(function(_e){_e[_e.L=0]="L",_e[_e.M=1]="M",_e[_e.Q=2]="Q",_e[_e.H=3]="H"})(Zn||(Zn={}));class Ir{constructor(s,p,w){this.value=s,this.stringValue=p,this.bits=w,Ir.FOR_BITS.set(w,this),Ir.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Ir.L;case"M":return Ir.M;case"Q":return Ir.Q;case"H":return Ir.H;default:throw new v(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Ir))return!1;const p=s;return this.value===p.value}static forBits(s){if(s<0||s>=Ir.FOR_BITS.size)throw new f;return Ir.FOR_BITS.get(s)}}Ir.FOR_BITS=new Map,Ir.FOR_VALUE=new Map,Ir.L=new Ir(Zn.L,"L",1),Ir.M=new Ir(Zn.M,"M",0),Ir.Q=new Ir(Zn.Q,"Q",3),Ir.H=new Ir(Zn.H,"H",2);class Ti{constructor(s){this.errorCorrectionLevel=Ir.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,p){return U.bitCount(s^p)}static decodeFormatInformation(s,p){const w=Ti.doDecodeFormatInformation(s,p);return w!==null?w:Ti.doDecodeFormatInformation(s^Ti.FORMAT_INFO_MASK_QR,p^Ti.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,p){let w=Number.MAX_SAFE_INTEGER,A=0;for(const D of Ti.FORMAT_INFO_DECODE_LOOKUP){const L=D[0];if(L===s||L===p)return new Ti(D[1]);let b=Ti.numBitsDiffering(s,L);b<w&&(A=D[1],w=b),s!==p&&(b=Ti.numBitsDiffering(p,L),b<w&&(A=D[1],w=b))}return w<=3?new Ti(A):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Ti))return!1;const p=s;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}Ti.FORMAT_INFO_MASK_QR=21522,Ti.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class jt{constructor(s,...p){this.ecCodewordsPerBlock=s,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const p=this.ecBlocks;for(const w of p)s+=w.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Qe{constructor(s,p){this.count=s,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Gn{constructor(s,p,...w){this.versionNumber=s,this.alignmentPatternCenters=p,this.ecBlocks=w;let A=0;const D=w[0].getECCodewordsPerBlock(),L=w[0].getECBlocks();for(const b of L)A+=b.getCount()*(b.getDataCodewords()+D);this.totalCodewords=A}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new ne;try{return this.getVersionForNumber((s-17)/4)}catch{throw new ne}}static getVersionForNumber(s){if(s<1||s>40)throw new f;return Gn.VERSIONS[s-1]}static decodeVersionInformation(s){let p=Number.MAX_SAFE_INTEGER,w=0;for(let A=0;A<Gn.VERSION_DECODE_INFO.length;A++){const D=Gn.VERSION_DECODE_INFO[A];if(D===s)return Gn.getVersionForNumber(A+7);const L=Ti.numBitsDiffering(s,D);L<p&&(w=A+7,p=L)}return p<=3?Gn.getVersionForNumber(w):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),p=new ct(s);p.setRegion(0,0,9,9),p.setRegion(s-8,0,8,9),p.setRegion(0,s-8,9,8);const w=this.alignmentPatternCenters.length;for(let A=0;A<w;A++){const D=this.alignmentPatternCenters[A]-2;for(let L=0;L<w;L++)A===0&&(L===0||L===w-1)||A===w-1&&L===0||p.setRegion(this.alignmentPatternCenters[L]-2,D,5,5)}return p.setRegion(6,9,1,s-17),p.setRegion(9,6,s-17,1),this.versionNumber>6&&(p.setRegion(s-11,0,3,6),p.setRegion(0,s-11,6,3)),p}toString(){return""+this.versionNumber}}Gn.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Gn.VERSIONS=[new Gn(1,new Int32Array(0),new jt(7,new Qe(1,19)),new jt(10,new Qe(1,16)),new jt(13,new Qe(1,13)),new jt(17,new Qe(1,9))),new Gn(2,Int32Array.from([6,18]),new jt(10,new Qe(1,34)),new jt(16,new Qe(1,28)),new jt(22,new Qe(1,22)),new jt(28,new Qe(1,16))),new Gn(3,Int32Array.from([6,22]),new jt(15,new Qe(1,55)),new jt(26,new Qe(1,44)),new jt(18,new Qe(2,17)),new jt(22,new Qe(2,13))),new Gn(4,Int32Array.from([6,26]),new jt(20,new Qe(1,80)),new jt(18,new Qe(2,32)),new jt(26,new Qe(2,24)),new jt(16,new Qe(4,9))),new Gn(5,Int32Array.from([6,30]),new jt(26,new Qe(1,108)),new jt(24,new Qe(2,43)),new jt(18,new Qe(2,15),new Qe(2,16)),new jt(22,new Qe(2,11),new Qe(2,12))),new Gn(6,Int32Array.from([6,34]),new jt(18,new Qe(2,68)),new jt(16,new Qe(4,27)),new jt(24,new Qe(4,19)),new jt(28,new Qe(4,15))),new Gn(7,Int32Array.from([6,22,38]),new jt(20,new Qe(2,78)),new jt(18,new Qe(4,31)),new jt(18,new Qe(2,14),new Qe(4,15)),new jt(26,new Qe(4,13),new Qe(1,14))),new Gn(8,Int32Array.from([6,24,42]),new jt(24,new Qe(2,97)),new jt(22,new Qe(2,38),new Qe(2,39)),new jt(22,new Qe(4,18),new Qe(2,19)),new jt(26,new Qe(4,14),new Qe(2,15))),new Gn(9,Int32Array.from([6,26,46]),new jt(30,new Qe(2,116)),new jt(22,new Qe(3,36),new Qe(2,37)),new jt(20,new Qe(4,16),new Qe(4,17)),new jt(24,new Qe(4,12),new Qe(4,13))),new Gn(10,Int32Array.from([6,28,50]),new jt(18,new Qe(2,68),new Qe(2,69)),new jt(26,new Qe(4,43),new Qe(1,44)),new jt(24,new Qe(6,19),new Qe(2,20)),new jt(28,new Qe(6,15),new Qe(2,16))),new Gn(11,Int32Array.from([6,30,54]),new jt(20,new Qe(4,81)),new jt(30,new Qe(1,50),new Qe(4,51)),new jt(28,new Qe(4,22),new Qe(4,23)),new jt(24,new Qe(3,12),new Qe(8,13))),new Gn(12,Int32Array.from([6,32,58]),new jt(24,new Qe(2,92),new Qe(2,93)),new jt(22,new Qe(6,36),new Qe(2,37)),new jt(26,new Qe(4,20),new Qe(6,21)),new jt(28,new Qe(7,14),new Qe(4,15))),new Gn(13,Int32Array.from([6,34,62]),new jt(26,new Qe(4,107)),new jt(22,new Qe(8,37),new Qe(1,38)),new jt(24,new Qe(8,20),new Qe(4,21)),new jt(22,new Qe(12,11),new Qe(4,12))),new Gn(14,Int32Array.from([6,26,46,66]),new jt(30,new Qe(3,115),new Qe(1,116)),new jt(24,new Qe(4,40),new Qe(5,41)),new jt(20,new Qe(11,16),new Qe(5,17)),new jt(24,new Qe(11,12),new Qe(5,13))),new Gn(15,Int32Array.from([6,26,48,70]),new jt(22,new Qe(5,87),new Qe(1,88)),new jt(24,new Qe(5,41),new Qe(5,42)),new jt(30,new Qe(5,24),new Qe(7,25)),new jt(24,new Qe(11,12),new Qe(7,13))),new Gn(16,Int32Array.from([6,26,50,74]),new jt(24,new Qe(5,98),new Qe(1,99)),new jt(28,new Qe(7,45),new Qe(3,46)),new jt(24,new Qe(15,19),new Qe(2,20)),new jt(30,new Qe(3,15),new Qe(13,16))),new Gn(17,Int32Array.from([6,30,54,78]),new jt(28,new Qe(1,107),new Qe(5,108)),new jt(28,new Qe(10,46),new Qe(1,47)),new jt(28,new Qe(1,22),new Qe(15,23)),new jt(28,new Qe(2,14),new Qe(17,15))),new Gn(18,Int32Array.from([6,30,56,82]),new jt(30,new Qe(5,120),new Qe(1,121)),new jt(26,new Qe(9,43),new Qe(4,44)),new jt(28,new Qe(17,22),new Qe(1,23)),new jt(28,new Qe(2,14),new Qe(19,15))),new Gn(19,Int32Array.from([6,30,58,86]),new jt(28,new Qe(3,113),new Qe(4,114)),new jt(26,new Qe(3,44),new Qe(11,45)),new jt(26,new Qe(17,21),new Qe(4,22)),new jt(26,new Qe(9,13),new Qe(16,14))),new Gn(20,Int32Array.from([6,34,62,90]),new jt(28,new Qe(3,107),new Qe(5,108)),new jt(26,new Qe(3,41),new Qe(13,42)),new jt(30,new Qe(15,24),new Qe(5,25)),new jt(28,new Qe(15,15),new Qe(10,16))),new Gn(21,Int32Array.from([6,28,50,72,94]),new jt(28,new Qe(4,116),new Qe(4,117)),new jt(26,new Qe(17,42)),new jt(28,new Qe(17,22),new Qe(6,23)),new jt(30,new Qe(19,16),new Qe(6,17))),new Gn(22,Int32Array.from([6,26,50,74,98]),new jt(28,new Qe(2,111),new Qe(7,112)),new jt(28,new Qe(17,46)),new jt(30,new Qe(7,24),new Qe(16,25)),new jt(24,new Qe(34,13))),new Gn(23,Int32Array.from([6,30,54,78,102]),new jt(30,new Qe(4,121),new Qe(5,122)),new jt(28,new Qe(4,47),new Qe(14,48)),new jt(30,new Qe(11,24),new Qe(14,25)),new jt(30,new Qe(16,15),new Qe(14,16))),new Gn(24,Int32Array.from([6,28,54,80,106]),new jt(30,new Qe(6,117),new Qe(4,118)),new jt(28,new Qe(6,45),new Qe(14,46)),new jt(30,new Qe(11,24),new Qe(16,25)),new jt(30,new Qe(30,16),new Qe(2,17))),new Gn(25,Int32Array.from([6,32,58,84,110]),new jt(26,new Qe(8,106),new Qe(4,107)),new jt(28,new Qe(8,47),new Qe(13,48)),new jt(30,new Qe(7,24),new Qe(22,25)),new jt(30,new Qe(22,15),new Qe(13,16))),new Gn(26,Int32Array.from([6,30,58,86,114]),new jt(28,new Qe(10,114),new Qe(2,115)),new jt(28,new Qe(19,46),new Qe(4,47)),new jt(28,new Qe(28,22),new Qe(6,23)),new jt(30,new Qe(33,16),new Qe(4,17))),new Gn(27,Int32Array.from([6,34,62,90,118]),new jt(30,new Qe(8,122),new Qe(4,123)),new jt(28,new Qe(22,45),new Qe(3,46)),new jt(30,new Qe(8,23),new Qe(26,24)),new jt(30,new Qe(12,15),new Qe(28,16))),new Gn(28,Int32Array.from([6,26,50,74,98,122]),new jt(30,new Qe(3,117),new Qe(10,118)),new jt(28,new Qe(3,45),new Qe(23,46)),new jt(30,new Qe(4,24),new Qe(31,25)),new jt(30,new Qe(11,15),new Qe(31,16))),new Gn(29,Int32Array.from([6,30,54,78,102,126]),new jt(30,new Qe(7,116),new Qe(7,117)),new jt(28,new Qe(21,45),new Qe(7,46)),new jt(30,new Qe(1,23),new Qe(37,24)),new jt(30,new Qe(19,15),new Qe(26,16))),new Gn(30,Int32Array.from([6,26,52,78,104,130]),new jt(30,new Qe(5,115),new Qe(10,116)),new jt(28,new Qe(19,47),new Qe(10,48)),new jt(30,new Qe(15,24),new Qe(25,25)),new jt(30,new Qe(23,15),new Qe(25,16))),new Gn(31,Int32Array.from([6,30,56,82,108,134]),new jt(30,new Qe(13,115),new Qe(3,116)),new jt(28,new Qe(2,46),new Qe(29,47)),new jt(30,new Qe(42,24),new Qe(1,25)),new jt(30,new Qe(23,15),new Qe(28,16))),new Gn(32,Int32Array.from([6,34,60,86,112,138]),new jt(30,new Qe(17,115)),new jt(28,new Qe(10,46),new Qe(23,47)),new jt(30,new Qe(10,24),new Qe(35,25)),new jt(30,new Qe(19,15),new Qe(35,16))),new Gn(33,Int32Array.from([6,30,58,86,114,142]),new jt(30,new Qe(17,115),new Qe(1,116)),new jt(28,new Qe(14,46),new Qe(21,47)),new jt(30,new Qe(29,24),new Qe(19,25)),new jt(30,new Qe(11,15),new Qe(46,16))),new Gn(34,Int32Array.from([6,34,62,90,118,146]),new jt(30,new Qe(13,115),new Qe(6,116)),new jt(28,new Qe(14,46),new Qe(23,47)),new jt(30,new Qe(44,24),new Qe(7,25)),new jt(30,new Qe(59,16),new Qe(1,17))),new Gn(35,Int32Array.from([6,30,54,78,102,126,150]),new jt(30,new Qe(12,121),new Qe(7,122)),new jt(28,new Qe(12,47),new Qe(26,48)),new jt(30,new Qe(39,24),new Qe(14,25)),new jt(30,new Qe(22,15),new Qe(41,16))),new Gn(36,Int32Array.from([6,24,50,76,102,128,154]),new jt(30,new Qe(6,121),new Qe(14,122)),new jt(28,new Qe(6,47),new Qe(34,48)),new jt(30,new Qe(46,24),new Qe(10,25)),new jt(30,new Qe(2,15),new Qe(64,16))),new Gn(37,Int32Array.from([6,28,54,80,106,132,158]),new jt(30,new Qe(17,122),new Qe(4,123)),new jt(28,new Qe(29,46),new Qe(14,47)),new jt(30,new Qe(49,24),new Qe(10,25)),new jt(30,new Qe(24,15),new Qe(46,16))),new Gn(38,Int32Array.from([6,32,58,84,110,136,162]),new jt(30,new Qe(4,122),new Qe(18,123)),new jt(28,new Qe(13,46),new Qe(32,47)),new jt(30,new Qe(48,24),new Qe(14,25)),new jt(30,new Qe(42,15),new Qe(32,16))),new Gn(39,Int32Array.from([6,26,54,82,110,138,166]),new jt(30,new Qe(20,117),new Qe(4,118)),new jt(28,new Qe(40,47),new Qe(7,48)),new jt(30,new Qe(43,24),new Qe(22,25)),new jt(30,new Qe(10,15),new Qe(67,16))),new Gn(40,Int32Array.from([6,30,58,86,114,142,170]),new jt(30,new Qe(19,118),new Qe(6,119)),new jt(28,new Qe(18,47),new Qe(31,48)),new jt(30,new Qe(34,24),new Qe(34,25)),new jt(30,new Qe(20,15),new Qe(61,16)))];var ki;(function(_e){_e[_e.DATA_MASK_000=0]="DATA_MASK_000",_e[_e.DATA_MASK_001=1]="DATA_MASK_001",_e[_e.DATA_MASK_010=2]="DATA_MASK_010",_e[_e.DATA_MASK_011=3]="DATA_MASK_011",_e[_e.DATA_MASK_100=4]="DATA_MASK_100",_e[_e.DATA_MASK_101=5]="DATA_MASK_101",_e[_e.DATA_MASK_110=6]="DATA_MASK_110",_e[_e.DATA_MASK_111=7]="DATA_MASK_111"})(ki||(ki={}));class ma{constructor(s,p){this.value=s,this.isMasked=p}unmaskBitMatrix(s,p){for(let w=0;w<p;w++)for(let A=0;A<p;A++)this.isMasked(w,A)&&s.flip(A,w)}}ma.values=new Map([[ki.DATA_MASK_000,new ma(ki.DATA_MASK_000,(_e,s)=>(_e+s&1)===0)],[ki.DATA_MASK_001,new ma(ki.DATA_MASK_001,(_e,s)=>(_e&1)===0)],[ki.DATA_MASK_010,new ma(ki.DATA_MASK_010,(_e,s)=>s%3===0)],[ki.DATA_MASK_011,new ma(ki.DATA_MASK_011,(_e,s)=>(_e+s)%3===0)],[ki.DATA_MASK_100,new ma(ki.DATA_MASK_100,(_e,s)=>(Math.floor(_e/2)+Math.floor(s/3)&1)===0)],[ki.DATA_MASK_101,new ma(ki.DATA_MASK_101,(_e,s)=>_e*s%6===0)],[ki.DATA_MASK_110,new ma(ki.DATA_MASK_110,(_e,s)=>_e*s%6<3)],[ki.DATA_MASK_111,new ma(ki.DATA_MASK_111,(_e,s)=>(_e+s+_e*s%3&1)===0)]]);class rt{constructor(s){const p=s.getHeight();if(p<21||(p&3)!==1)throw new ne;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let D=0;D<6;D++)s=this.copyBit(D,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let D=5;D>=0;D--)s=this.copyBit(8,D,s);const p=this.bitMatrix.getHeight();let w=0;const A=p-7;for(let D=p-1;D>=A;D--)w=this.copyBit(8,D,w);for(let D=p-8;D<p;D++)w=this.copyBit(D,8,w);if(this.parsedFormatInfo=Ti.decodeFormatInformation(s,w),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ne}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),p=Math.floor((s-17)/4);if(p<=6)return Gn.getVersionForNumber(p);let w=0;const A=s-11;for(let L=5;L>=0;L--)for(let b=s-9;b>=A;b--)w=this.copyBit(b,L,w);let D=Gn.decodeVersionInformation(w);if(D!==null&&D.getDimensionForVersion()===s)return this.parsedVersion=D,D;w=0;for(let L=5;L>=0;L--)for(let b=s-9;b>=A;b--)w=this.copyBit(L,b,w);if(D=Gn.decodeVersionInformation(w),D!==null&&D.getDimensionForVersion()===s)return this.parsedVersion=D,D;throw new ne}copyBit(s,p,w){return(this.isMirror?this.bitMatrix.get(p,s):this.bitMatrix.get(s,p))?w<<1|1:w<<1}readCodewords(){const s=this.readFormatInformation(),p=this.readVersion(),w=ma.values.get(s.getDataMask()),A=this.bitMatrix.getHeight();w.unmaskBitMatrix(this.bitMatrix,A);const D=p.buildFunctionPattern();let L=!0;const b=new Uint8Array(p.getTotalCodewords());let T=0,B=0,j=0;for(let K=A-1;K>0;K-=2){K===6&&K--;for(let ee=0;ee<A;ee++){const he=L?A-1-ee:ee;for(let Te=0;Te<2;Te++)D.get(K-Te,he)||(j++,B<<=1,this.bitMatrix.get(K-Te,he)&&(B|=1),j===8&&(b[T++]=B,j=0,B=0))}L=!L}if(T!==p.getTotalCodewords())throw new ne;return b}remask(){if(this.parsedFormatInfo===null)return;const s=ma.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,p)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let p=0,w=s.getWidth();p<w;p++)for(let A=p+1,D=s.getHeight();A<D;A++)s.get(p,A)!==s.get(A,p)&&(s.flip(A,p),s.flip(p,A))}}class Gt{constructor(s,p){this.numDataCodewords=s,this.codewords=p}static getDataBlocks(s,p,w){if(s.length!==p.getTotalCodewords())throw new f;const A=p.getECBlocksForLevel(w);let D=0;const L=A.getECBlocks();for(const Te of L)D+=Te.getCount();const b=new Array(D);let T=0;for(const Te of L)for(let Oe=0;Oe<Te.getCount();Oe++){const Be=Te.getDataCodewords(),Xe=A.getECCodewordsPerBlock()+Be;b[T++]=new Gt(Be,new Uint8Array(Xe))}const B=b[0].codewords.length;let j=b.length-1;for(;j>=0&&b[j].codewords.length!==B;)j--;j++;const K=B-A.getECCodewordsPerBlock();let ee=0;for(let Te=0;Te<K;Te++)for(let Oe=0;Oe<T;Oe++)b[Oe].codewords[Te]=s[ee++];for(let Te=j;Te<T;Te++)b[Te].codewords[K]=s[ee++];const he=b[0].codewords.length;for(let Te=K;Te<he;Te++)for(let Oe=0;Oe<T;Oe++){const Be=Oe<j?Te:Te+1;b[Oe].codewords[Be]=s[ee++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var It;(function(_e){_e[_e.TERMINATOR=0]="TERMINATOR",_e[_e.NUMERIC=1]="NUMERIC",_e[_e.ALPHANUMERIC=2]="ALPHANUMERIC",_e[_e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_e[_e.BYTE=4]="BYTE",_e[_e.ECI=5]="ECI",_e[_e.KANJI=6]="KANJI",_e[_e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_e[_e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_e[_e.HANZI=9]="HANZI"})(It||(It={}));class nn{constructor(s,p,w,A){this.value=s,this.stringValue=p,this.characterCountBitsForVersions=w,this.bits=A,nn.FOR_BITS.set(A,this),nn.FOR_VALUE.set(s,this)}static forBits(s){const p=nn.FOR_BITS.get(s);if(p===void 0)throw new f;return p}getCharacterCountBits(s){const p=s.getVersionNumber();let w;return p<=9?w=0:p<=26?w=1:w=2,this.characterCountBitsForVersions[w]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof nn))return!1;const p=s;return this.value===p.value}toString(){return this.stringValue}}nn.FOR_BITS=new Map,nn.FOR_VALUE=new Map,nn.TERMINATOR=new nn(It.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),nn.NUMERIC=new nn(It.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),nn.ALPHANUMERIC=new nn(It.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),nn.STRUCTURED_APPEND=new nn(It.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),nn.BYTE=new nn(It.BYTE,"BYTE",Int32Array.from([8,16,16]),4),nn.ECI=new nn(It.ECI,"ECI",Int32Array.from([0,0,0]),7),nn.KANJI=new nn(It.KANJI,"KANJI",Int32Array.from([8,10,12]),8),nn.FNC1_FIRST_POSITION=new nn(It.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),nn.FNC1_SECOND_POSITION=new nn(It.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),nn.HANZI=new nn(It.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class xn{static decode(s,p,w,A){const D=new cn(s);let L=new mt;const b=new Array;let T=-1,B=-1;try{let j=null,K=!1,ee;do{if(D.available()<4)ee=nn.TERMINATOR;else{const he=D.readBits(4);ee=nn.forBits(he)}switch(ee){case nn.TERMINATOR:break;case nn.FNC1_FIRST_POSITION:case nn.FNC1_SECOND_POSITION:K=!0;break;case nn.STRUCTURED_APPEND:if(D.available()<16)throw new ne;T=D.readBits(8),B=D.readBits(8);break;case nn.ECI:const he=xn.parseECIValue(D);if(j=Se.getCharacterSetECIByValue(he),j===null)throw new ne;break;case nn.HANZI:const Te=D.readBits(4),Oe=D.readBits(ee.getCharacterCountBits(p));Te===xn.GB2312_SUBSET&&xn.decodeHanziSegment(D,L,Oe);break;default:const Be=D.readBits(ee.getCharacterCountBits(p));switch(ee){case nn.NUMERIC:xn.decodeNumericSegment(D,L,Be);break;case nn.ALPHANUMERIC:xn.decodeAlphanumericSegment(D,L,Be,K);break;case nn.BYTE:xn.decodeByteSegment(D,L,Be,j,b,A);break;case nn.KANJI:xn.decodeKanjiSegment(D,L,Be);break;default:throw new ne}break}}while(ee!==nn.TERMINATOR)}catch{throw new ne}return new et(s,L.toString(),b.length===0?null:b,w===null?null:w.toString(),T,B)}static decodeHanziSegment(s,p,w){if(w*13>s.available())throw new ne;const A=new Uint8Array(2*w);let D=0;for(;w>0;){const L=s.readBits(13);let b=L/96<<8&4294967295|L%96;b<959?b+=41377:b+=42657,A[D]=b>>8&255,A[D+1]=b&255,D+=2,w--}try{p.append(Ue.decode(A,Ze.GB2312))}catch(L){throw new ne(L)}}static decodeKanjiSegment(s,p,w){if(w*13>s.available())throw new ne;const A=new Uint8Array(2*w);let D=0;for(;w>0;){const L=s.readBits(13);let b=L/192<<8&4294967295|L%192;b<7936?b+=33088:b+=49472,A[D]=b>>8,A[D+1]=b,D+=2,w--}try{p.append(Ue.decode(A,Ze.SHIFT_JIS))}catch(L){throw new ne(L)}}static decodeByteSegment(s,p,w,A,D,L){if(8*w>s.available())throw new ne;const b=new Uint8Array(w);for(let B=0;B<w;B++)b[B]=s.readBits(8);let T;A===null?T=Ze.guessEncoding(b,L):T=A.getName();try{p.append(Ue.decode(b,T))}catch(B){throw new ne(B)}D.push(b)}static toAlphaNumericChar(s){if(s>=xn.ALPHANUMERIC_CHARS.length)throw new ne;return xn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,p,w,A){const D=p.length();for(;w>1;){if(s.available()<11)throw new ne;const L=s.readBits(11);p.append(xn.toAlphaNumericChar(Math.floor(L/45))),p.append(xn.toAlphaNumericChar(L%45)),w-=2}if(w===1){if(s.available()<6)throw new ne;p.append(xn.toAlphaNumericChar(s.readBits(6)))}if(A)for(let L=D;L<p.length();L++)p.charAt(L)==="%"&&(L<p.length()-1&&p.charAt(L+1)==="%"?p.deleteCharAt(L+1):p.setCharAt(L,""))}static decodeNumericSegment(s,p,w){for(;w>=3;){if(s.available()<10)throw new ne;const A=s.readBits(10);if(A>=1e3)throw new ne;p.append(xn.toAlphaNumericChar(Math.floor(A/100))),p.append(xn.toAlphaNumericChar(Math.floor(A/10)%10)),p.append(xn.toAlphaNumericChar(A%10)),w-=3}if(w===2){if(s.available()<7)throw new ne;const A=s.readBits(7);if(A>=100)throw new ne;p.append(xn.toAlphaNumericChar(Math.floor(A/10))),p.append(xn.toAlphaNumericChar(A%10))}else if(w===1){if(s.available()<4)throw new ne;const A=s.readBits(4);if(A>=10)throw new ne;p.append(xn.toAlphaNumericChar(A))}}static parseECIValue(s){const p=s.readBits(8);if((p&128)===0)return p&127;if((p&192)===128){const w=s.readBits(8);return(p&63)<<8&4294967295|w}if((p&224)===192){const w=s.readBits(16);return(p&31)<<16&4294967295|w}throw new ne}}xn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",xn.GB2312_SUBSET=1;class hr{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const p=s[0];s[0]=s[2],s[2]=p}}class En{constructor(){this.rsDecoder=new Kt(st.QR_CODE_FIELD_256)}decodeBooleanArray(s,p){return this.decodeBitMatrix(ct.parseFromBooleanArray(s),p)}decodeBitMatrix(s,p){const w=new rt(s);let A=null;try{return this.decodeBitMatrixParser(w,p)}catch(D){A=D}try{w.remask(),w.setMirror(!0),w.readVersion(),w.readFormatInformation(),w.mirror();const D=this.decodeBitMatrixParser(w,p);return D.setOther(new hr(!0)),D}catch(D){throw A!==null?A:D}}decodeBitMatrixParser(s,p){const w=s.readVersion(),A=s.readFormatInformation().getErrorCorrectionLevel(),D=s.readCodewords(),L=Gt.getDataBlocks(D,w,A);let b=0;for(const j of L)b+=j.getNumDataCodewords();const T=new Uint8Array(b);let B=0;for(const j of L){const K=j.getCodewords(),ee=j.getNumDataCodewords();this.correctErrors(K,ee);for(let he=0;he<ee;he++)T[B++]=K[he]}return xn.decode(T,w,A,p)}correctErrors(s,p){const w=new Int32Array(s);try{this.rsDecoder.decode(w,s.length-p)}catch{throw new m}for(let A=0;A<p;A++)s[A]=w[A]}}class kr extends Xt{constructor(s,p,w){super(s,p),this.estimatedModuleSize=w}aboutEquals(s,p,w){if(Math.abs(p-this.getY())<=s&&Math.abs(w-this.getX())<=s){const A=Math.abs(s-this.estimatedModuleSize);return A<=1||A<=this.estimatedModuleSize}return!1}combineEstimate(s,p,w){const A=(this.getX()+p)/2,D=(this.getY()+s)/2,L=(this.estimatedModuleSize+w)/2;return new kr(A,D,L)}}class $r{constructor(s,p,w,A,D,L,b){this.image=s,this.startX=p,this.startY=w,this.width=A,this.height=D,this.moduleSize=L,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,p=this.height,w=this.width,A=s+w,D=this.startY+p/2,L=new Int32Array(3),b=this.image;for(let T=0;T<p;T++){const B=D+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));L[0]=0,L[1]=0,L[2]=0;let j=s;for(;j<A&&!b.get(j,B);)j++;let K=0;for(;j<A;){if(b.get(j,B))if(K===1)L[1]++;else if(K===2){if(this.foundPatternCross(L)){const ee=this.handlePossibleCenter(L,B,j);if(ee!==null)return ee}L[0]=L[2],L[1]=1,L[2]=0,K=1}else L[++K]++;else K===1&&K++,L[K]++;j++}if(this.foundPatternCross(L)){const ee=this.handlePossibleCenter(L,B,A);if(ee!==null)return ee}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ge}static centerFromEnd(s,p){return p-s[2]-s[1]/2}foundPatternCross(s){const p=this.moduleSize,w=p/2;for(let A=0;A<3;A++)if(Math.abs(p-s[A])>=w)return!1;return!0}crossCheckVertical(s,p,w,A){const D=this.image,L=D.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let T=s;for(;T>=0&&D.get(p,T)&&b[1]<=w;)b[1]++,T--;if(T<0||b[1]>w)return NaN;for(;T>=0&&!D.get(p,T)&&b[0]<=w;)b[0]++,T--;if(b[0]>w)return NaN;for(T=s+1;T<L&&D.get(p,T)&&b[1]<=w;)b[1]++,T++;if(T===L||b[1]>w)return NaN;for(;T<L&&!D.get(p,T)&&b[2]<=w;)b[2]++,T++;if(b[2]>w)return NaN;const B=b[0]+b[1]+b[2];return 5*Math.abs(B-A)>=2*A?NaN:this.foundPatternCross(b)?$r.centerFromEnd(b,T):NaN}handlePossibleCenter(s,p,w){const A=s[0]+s[1]+s[2],D=$r.centerFromEnd(s,w),L=this.crossCheckVertical(p,D,2*s[1],A);if(!isNaN(L)){const b=(s[0]+s[1]+s[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(b,L,D))return B.combineEstimate(L,D,b);const T=new kr(D,L,b);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class Rr extends Xt{constructor(s,p,w,A){super(s,p),this.estimatedModuleSize=w,this.count=A,A===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,p,w){if(Math.abs(p-this.getY())<=s&&Math.abs(w-this.getX())<=s){const A=Math.abs(s-this.estimatedModuleSize);return A<=1||A<=this.estimatedModuleSize}return!1}combineEstimate(s,p,w){const A=this.count+1,D=(this.count*this.getX()+p)/A,L=(this.count*this.getY()+s)/A,b=(this.count*this.estimatedModuleSize+w)/A;return new Rr(D,L,b,A)}}class ei{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ur{constructor(s,p){this.image=s,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const p=s!=null&&s.get(J.TRY_HARDER)!==void 0,w=s!=null&&s.get(J.PURE_BARCODE)!==void 0,A=this.image,D=A.getHeight(),L=A.getWidth();let b=Math.floor(3*D/(4*Ur.MAX_MODULES));(b<Ur.MIN_SKIP||p)&&(b=Ur.MIN_SKIP);let T=!1;const B=new Int32Array(5);for(let K=b-1;K<D&&!T;K+=b){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let ee=0;for(let he=0;he<L;he++)if(A.get(he,K))(ee&1)===1&&ee++,B[ee]++;else if((ee&1)===0)if(ee===4)if(Ur.foundPatternCross(B)){if(this.handlePossibleCenter(B,K,he,w)===!0)if(b=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const Oe=this.findRowSkip();Oe>B[2]&&(K+=Oe-B[2]-b,he=L-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,ee=3;continue}ee=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,ee=3;else B[++ee]++;else B[ee]++;Ur.foundPatternCross(B)&&this.handlePossibleCenter(B,K,L,w)===!0&&(b=B[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return Xt.orderBestPatterns(j),new ei(j)}static centerFromEnd(s,p){return p-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let p=0;for(let D=0;D<5;D++){const L=s[D];if(L===0)return!1;p+=L}if(p<7)return!1;const w=p/7,A=w/2;return Math.abs(w-s[0])<A&&Math.abs(w-s[1])<A&&Math.abs(3*w-s[2])<3*A&&Math.abs(w-s[3])<A&&Math.abs(w-s[4])<A}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,p,w,A){const D=this.getCrossCheckStateCount();let L=0;const b=this.image;for(;s>=L&&p>=L&&b.get(p-L,s-L);)D[2]++,L++;if(s<L||p<L)return!1;for(;s>=L&&p>=L&&!b.get(p-L,s-L)&&D[1]<=w;)D[1]++,L++;if(s<L||p<L||D[1]>w)return!1;for(;s>=L&&p>=L&&b.get(p-L,s-L)&&D[0]<=w;)D[0]++,L++;if(D[0]>w)return!1;const T=b.getHeight(),B=b.getWidth();for(L=1;s+L<T&&p+L<B&&b.get(p+L,s+L);)D[2]++,L++;if(s+L>=T||p+L>=B)return!1;for(;s+L<T&&p+L<B&&!b.get(p+L,s+L)&&D[3]<w;)D[3]++,L++;if(s+L>=T||p+L>=B||D[3]>=w)return!1;for(;s+L<T&&p+L<B&&b.get(p+L,s+L)&&D[4]<w;)D[4]++,L++;if(D[4]>=w)return!1;const j=D[0]+D[1]+D[2]+D[3]+D[4];return Math.abs(j-A)<2*A&&Ur.foundPatternCross(D)}crossCheckVertical(s,p,w,A){const D=this.image,L=D.getHeight(),b=this.getCrossCheckStateCount();let T=s;for(;T>=0&&D.get(p,T);)b[2]++,T--;if(T<0)return NaN;for(;T>=0&&!D.get(p,T)&&b[1]<=w;)b[1]++,T--;if(T<0||b[1]>w)return NaN;for(;T>=0&&D.get(p,T)&&b[0]<=w;)b[0]++,T--;if(b[0]>w)return NaN;for(T=s+1;T<L&&D.get(p,T);)b[2]++,T++;if(T===L)return NaN;for(;T<L&&!D.get(p,T)&&b[3]<w;)b[3]++,T++;if(T===L||b[3]>=w)return NaN;for(;T<L&&D.get(p,T)&&b[4]<w;)b[4]++,T++;if(b[4]>=w)return NaN;const B=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(B-A)>=2*A?NaN:Ur.foundPatternCross(b)?Ur.centerFromEnd(b,T):NaN}crossCheckHorizontal(s,p,w,A){const D=this.image,L=D.getWidth(),b=this.getCrossCheckStateCount();let T=s;for(;T>=0&&D.get(T,p);)b[2]++,T--;if(T<0)return NaN;for(;T>=0&&!D.get(T,p)&&b[1]<=w;)b[1]++,T--;if(T<0||b[1]>w)return NaN;for(;T>=0&&D.get(T,p)&&b[0]<=w;)b[0]++,T--;if(b[0]>w)return NaN;for(T=s+1;T<L&&D.get(T,p);)b[2]++,T++;if(T===L)return NaN;for(;T<L&&!D.get(T,p)&&b[3]<w;)b[3]++,T++;if(T===L||b[3]>=w)return NaN;for(;T<L&&D.get(T,p)&&b[4]<w;)b[4]++,T++;if(b[4]>=w)return NaN;const B=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(B-A)>=A?NaN:Ur.foundPatternCross(b)?Ur.centerFromEnd(b,T):NaN}handlePossibleCenter(s,p,w,A){const D=s[0]+s[1]+s[2]+s[3]+s[4];let L=Ur.centerFromEnd(s,w),b=this.crossCheckVertical(p,Math.floor(L),s[2],D);if(!isNaN(b)&&(L=this.crossCheckHorizontal(Math.floor(L),Math.floor(b),s[2],D),!isNaN(L)&&(!A||this.crossCheckDiagonal(Math.floor(b),Math.floor(L),s[2],D)))){const T=D/7;let B=!1;const j=this.possibleCenters;for(let K=0,ee=j.length;K<ee;K++){const he=j[K];if(he.aboutEquals(T,b,L)){j[K]=he.combineEstimate(b,L,T),B=!0;break}}if(!B){const K=new Rr(L,b,T);j.push(K),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(K)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const w of this.possibleCenters)if(w.getCount()>=Ur.CENTER_QUORUM)if(p==null)p=w;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-w.getX())-Math.abs(p.getY()-w.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,p=0;const w=this.possibleCenters.length;for(const L of this.possibleCenters)L.getCount()>=Ur.CENTER_QUORUM&&(s++,p+=L.getEstimatedModuleSize());if(s<3)return!1;const A=p/w;let D=0;for(const L of this.possibleCenters)D+=Math.abs(L.getEstimatedModuleSize()-A);return D<=.05*p}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ge;const p=this.possibleCenters;let w;if(s>3){let A=0,D=0;for(const T of this.possibleCenters){const B=T.getEstimatedModuleSize();A+=B,D+=B*B}w=A/s;let L=Math.sqrt(D/s-w*w);p.sort((T,B)=>{const j=Math.abs(B.getEstimatedModuleSize()-w),K=Math.abs(T.getEstimatedModuleSize()-w);return j<K?-1:j>K?1:0});const b=Math.max(.2*w,L);for(let T=0;T<p.length&&p.length>3;T++){const B=p[T];Math.abs(B.getEstimatedModuleSize()-w)>b&&(p.splice(T,1),T--)}}if(p.length>3){let A=0;for(const D of p)A+=D.getEstimatedModuleSize();w=A/p.length,p.sort((D,L)=>{if(L.getCount()===D.getCount()){const b=Math.abs(L.getEstimatedModuleSize()-w),T=Math.abs(D.getEstimatedModuleSize()-w);return b<T?1:b>T?-1:0}else return L.getCount()-D.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}Ur.CENTER_QUORUM=2,Ur.MIN_SKIP=3,Ur.MAX_MODULES=57;class Jr{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(J.NEED_RESULT_POINT_CALLBACK);const w=new Ur(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(w)}processFinderPatternInfo(s){const p=s.getTopLeft(),w=s.getTopRight(),A=s.getBottomLeft(),D=this.calculateModuleSize(p,w,A);if(D<1)throw new ge("No pattern found in proccess finder.");const L=Jr.computeDimension(p,w,A,D),b=Gn.getProvisionalVersionForDimension(L),T=b.getDimensionForVersion()-7;let B=null;if(b.getAlignmentPatternCenters().length>0){const he=w.getX()-p.getX()+A.getX(),Te=w.getY()-p.getY()+A.getY(),Oe=1-3/T,Be=Math.floor(p.getX()+Oe*(he-p.getX())),Xe=Math.floor(p.getY()+Oe*(Te-p.getY()));for(let Ke=4;Ke<=16;Ke<<=1)try{B=this.findAlignmentInRegion(D,Be,Xe,Ke);break}catch(ot){if(!(ot instanceof ge))throw ot}}const j=Jr.createTransform(p,w,A,B,L),K=Jr.sampleGrid(this.image,j,L);let ee;return B===null?ee=[A,p,w]:ee=[A,p,w,B],new qt(K,ee)}static createTransform(s,p,w,A,D){const L=D-3.5;let b,T,B,j;return A!==null?(b=A.getX(),T=A.getY(),B=L-3,j=B):(b=p.getX()-s.getX()+w.getX(),T=p.getY()-s.getY()+w.getY(),B=L,j=L),Pe.quadrilateralToQuadrilateral(3.5,3.5,L,3.5,B,j,3.5,L,s.getX(),s.getY(),p.getX(),p.getY(),b,T,w.getX(),w.getY())}static sampleGrid(s,p,w){return Ee.getInstance().sampleGridWithTransform(s,w,w,p)}static computeDimension(s,p,w,A){const D=Vt.round(Xt.distance(s,p)/A),L=Vt.round(Xt.distance(s,w)/A);let b=Math.floor((D+L)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new ge("Dimensions could be not found.")}return b}calculateModuleSize(s,p,w){return(this.calculateModuleSizeOneWay(s,p)+this.calculateModuleSizeOneWay(s,w))/2}calculateModuleSizeOneWay(s,p){const w=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(p.getX()),Math.floor(p.getY())),A=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(w)?A/7:isNaN(A)?w/7:(w+A)/14}sizeOfBlackWhiteBlackRunBothWays(s,p,w,A){let D=this.sizeOfBlackWhiteBlackRun(s,p,w,A),L=1,b=s-(w-s);b<0?(L=s/(s-b),b=0):b>=this.image.getWidth()&&(L=(this.image.getWidth()-1-s)/(b-s),b=this.image.getWidth()-1);let T=Math.floor(p-(A-p)*L);return L=1,T<0?(L=p/(p-T),T=0):T>=this.image.getHeight()&&(L=(this.image.getHeight()-1-p)/(T-p),T=this.image.getHeight()-1),b=Math.floor(s+(b-s)*L),D+=this.sizeOfBlackWhiteBlackRun(s,p,b,T),D-1}sizeOfBlackWhiteBlackRun(s,p,w,A){const D=Math.abs(A-p)>Math.abs(w-s);if(D){let he=s;s=p,p=he,he=w,w=A,A=he}const L=Math.abs(w-s),b=Math.abs(A-p);let T=-L/2;const B=s<w?1:-1,j=p<A?1:-1;let K=0;const ee=w+B;for(let he=s,Te=p;he!==ee;he+=B){const Oe=D?Te:he,Be=D?he:Te;if(K===1===this.image.get(Oe,Be)){if(K===2)return Vt.distance(he,Te,s,p);K++}if(T+=b,T>0){if(Te===A)break;Te+=j,T-=L}}return K===2?Vt.distance(w+B,A,s,p):NaN}findAlignmentInRegion(s,p,w,A){const D=Math.floor(A*s),L=Math.max(0,p-D),b=Math.min(this.image.getWidth()-1,p+D);if(b-L<s*3)throw new ge("Alignment top exceeds estimated module size.");const T=Math.max(0,w-D),B=Math.min(this.image.getHeight()-1,w+D);if(B-T<s*3)throw new ge("Alignment bottom exceeds estimated module size.");return new $r(this.image,L,T,b-L,B-T,s,this.resultPointCallback).find()}}class Dr{constructor(){this.decoder=new En}getDecoder(){return this.decoder}decode(s,p){let w,A;if(p!=null&&p.get(J.PURE_BARCODE)!==void 0){const T=Dr.extractPureBits(s.getBlackMatrix());w=this.decoder.decodeBitMatrix(T,p),A=Dr.NO_POINTS}else{const T=new Jr(s.getBlackMatrix()).detect(p);w=this.decoder.decodeBitMatrix(T.getBits(),p),A=T.getPoints()}w.getOther()instanceof hr&&w.getOther().applyMirroredCorrection(A);const D=new me(w.getText(),w.getRawBytes(),void 0,A,Ne.QR_CODE,void 0),L=w.getByteSegments();L!==null&&D.putMetadata(xt.BYTE_SEGMENTS,L);const b=w.getECLevel();return b!==null&&D.putMetadata(xt.ERROR_CORRECTION_LEVEL,b),w.hasStructuredAppend()&&(D.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,w.getStructuredAppendSequenceNumber()),D.putMetadata(xt.STRUCTURED_APPEND_PARITY,w.getStructuredAppendParity())),D}reset(){}static extractPureBits(s){const p=s.getTopLeftOnBit(),w=s.getBottomRightOnBit();if(p===null||w===null)throw new ge;const A=this.moduleSize(p,s);let D=p[1],L=w[1],b=p[0],T=w[0];if(b>=T||D>=L)throw new ge;if(L-D!==T-b&&(T=b+(L-D),T>=s.getWidth()))throw new ge;const B=Math.round((T-b+1)/A),j=Math.round((L-D+1)/A);if(B<=0||j<=0)throw new ge;if(j!==B)throw new ge;const K=Math.floor(A/2);D+=K,b+=K;const ee=b+Math.floor((B-1)*A)-T;if(ee>0){if(ee>K)throw new ge;b-=ee}const he=D+Math.floor((j-1)*A)-L;if(he>0){if(he>K)throw new ge;D-=he}const Te=new ct(B,j);for(let Oe=0;Oe<j;Oe++){const Be=D+Math.floor(Oe*A);for(let Xe=0;Xe<B;Xe++)s.get(b+Math.floor(Xe*A),Be)&&Te.set(Xe,Oe)}return Te}static moduleSize(s,p){const w=p.getHeight(),A=p.getWidth();let D=s[0],L=s[1],b=!0,T=0;for(;D<A&&L<w;){if(b!==p.get(D,L)){if(++T===5)break;b=!b}D++,L++}if(D===A||L===w)throw new ge;return(D-s[0])/7}}Dr.NO_POINTS=new Array;class Vn{PDF417Common(){}static getBitCountSum(s){return Vt.sum(s)}static toIntArray(s){if(s==null||!s.length)return Vn.EMPTY_INT_ARRAY;const p=new Int32Array(s.length);let w=0;for(const A of s)p[w++]=A;return p}static getCodeword(s){const p=N.binarySearch(Vn.SYMBOL_TABLE,s&262143);return p<0?-1:(Vn.CODEWORD_TABLE[p]-1)%Vn.NUMBER_OF_CODEWORDS}}Vn.NUMBER_OF_CODEWORDS=929,Vn.MAX_CODEWORDS_IN_BARCODE=Vn.NUMBER_OF_CODEWORDS-1,Vn.MIN_ROWS_IN_BARCODE=3,Vn.MAX_ROWS_IN_BARCODE=90,Vn.MODULES_IN_CODEWORD=17,Vn.MODULES_IN_STOP_PATTERN=18,Vn.BARS_IN_MODULE=8,Vn.EMPTY_INT_ARRAY=new Int32Array([]),Vn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Vn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ba{constructor(s,p){this.bits=s,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class tr{static detectMultiple(s,p,w){let A=s.getBlackMatrix(),D=tr.detect(w,A);return D.length||(A=A.clone(),A.rotate180(),D=tr.detect(w,A)),new ba(A,D)}static detect(s,p){const w=new Array;let A=0,D=0,L=!1;for(;A<p.getHeight();){const b=tr.findVertices(p,A,D);if(b[0]==null&&b[3]==null){if(!L)break;L=!1,D=0;for(const T of w)T[1]!=null&&(A=Math.trunc(Math.max(A,T[1].getY()))),T[3]!=null&&(A=Math.max(A,Math.trunc(T[3].getY())));A+=tr.ROW_STEP;continue}if(L=!0,w.push(b),!s)break;b[2]!=null?(D=Math.trunc(b[2].getX()),A=Math.trunc(b[2].getY())):(D=Math.trunc(b[4].getX()),A=Math.trunc(b[4].getY()))}return w}static findVertices(s,p,w){const A=s.getHeight(),D=s.getWidth(),L=new Array(8);return tr.copyToResult(L,tr.findRowsWithPattern(s,A,D,p,w,tr.START_PATTERN),tr.INDEXES_START_PATTERN),L[4]!=null&&(w=Math.trunc(L[4].getX()),p=Math.trunc(L[4].getY())),tr.copyToResult(L,tr.findRowsWithPattern(s,A,D,p,w,tr.STOP_PATTERN),tr.INDEXES_STOP_PATTERN),L}static copyToResult(s,p,w){for(let A=0;A<w.length;A++)s[w[A]]=p[A]}static findRowsWithPattern(s,p,w,A,D,L){const b=new Array(4);let T=!1;const B=new Int32Array(L.length);for(;A<p;A+=tr.ROW_STEP){let K=tr.findGuardPattern(s,D,A,w,!1,L,B);if(K!=null){for(;A>0;){const ee=tr.findGuardPattern(s,D,--A,w,!1,L,B);if(ee!=null)K=ee;else{A++;break}}b[0]=new Xt(K[0],A),b[1]=new Xt(K[1],A),T=!0;break}}let j=A+1;if(T){let K=0,ee=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;j<p;j++){const he=tr.findGuardPattern(s,ee[0],j,w,!1,L,B);if(he!=null&&Math.abs(ee[0]-he[0])<tr.MAX_PATTERN_DRIFT&&Math.abs(ee[1]-he[1])<tr.MAX_PATTERN_DRIFT)ee=he,K=0;else{if(K>tr.SKIPPED_ROW_COUNT_MAX)break;K++}}j-=K+1,b[2]=new Xt(ee[0],j),b[3]=new Xt(ee[1],j)}return j-A<tr.BARCODE_MIN_HEIGHT&&N.fill(b,null),b}static findGuardPattern(s,p,w,A,D,L,b){N.fillWithin(b,0,b.length,0);let T=p,B=0;for(;s.get(T,w)&&T>0&&B++<tr.MAX_PIXEL_DRIFT;)T--;let j=T,K=0,ee=L.length;for(let he=D;j<A;j++)if(s.get(j,w)!==he)b[K]++;else{if(K===ee-1){if(tr.patternMatchVariance(b,L,tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE)return new Int32Array([T,j]);T+=b[0]+b[1],k.arraycopy(b,2,b,0,K-1),b[K-1]=0,b[K]=0,K--}else K++;b[K]=1,he=!he}return K===ee-1&&tr.patternMatchVariance(b,L,tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE?new Int32Array([T,j-1]):null}static patternMatchVariance(s,p,w){let A=s.length,D=0,L=0;for(let B=0;B<A;B++)D+=s[B],L+=p[B];if(D<L)return 1/0;let b=D/L;w*=b;let T=0;for(let B=0;B<A;B++){let j=s[B],K=p[B]*b,ee=j>K?j-K:K-j;if(ee>w)return 1/0;T+=ee}return T/D}}tr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),tr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),tr.MAX_AVG_VARIANCE=.42,tr.MAX_INDIVIDUAL_VARIANCE=.8,tr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),tr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),tr.MAX_PIXEL_DRIFT=3,tr.MAX_PATTERN_DRIFT=5,tr.SKIPPED_ROW_COUNT_MAX=25,tr.ROW_STEP=5,tr.BARCODE_MIN_HEIGHT=10;class Zr{constructor(s,p){if(p.length===0)throw new f;this.field=s;let w=p.length;if(w>1&&p[0]===0){let A=1;for(;A<w&&p[A]===0;)A++;A===w?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(w-A),k.arraycopy(p,A,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let A=0;for(let D of this.coefficients)A=this.field.add(A,D);return A}let p=this.coefficients[0],w=this.coefficients.length;for(let A=1;A<w;A++)p=this.field.add(this.field.multiply(s,p),this.coefficients[A]);return p}add(s){if(!this.field.equals(s.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let p=this.coefficients,w=s.coefficients;if(p.length>w.length){let L=p;p=w,w=L}let A=new Int32Array(w.length),D=w.length-p.length;k.arraycopy(w,0,A,0,D);for(let L=D;L<w.length;L++)A[L]=this.field.add(p[L-D],w[L]);return new Zr(this.field,A)}subtract(s){if(!this.field.equals(s.field))throw new f("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Zr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Zr(this.field,new Int32Array([0]));let p=this.coefficients,w=p.length,A=s.coefficients,D=A.length,L=new Int32Array(w+D-1);for(let b=0;b<w;b++){let T=p[b];for(let B=0;B<D;B++)L[b+B]=this.field.add(L[b+B],this.field.multiply(T,A[B]))}return new Zr(this.field,L)}negative(){let s=this.coefficients.length,p=new Int32Array(s);for(let w=0;w<s;w++)p[w]=this.field.subtract(0,this.coefficients[w]);return new Zr(this.field,p)}multiplyScalar(s){if(s===0)return new Zr(this.field,new Int32Array([0]));if(s===1)return this;let p=this.coefficients.length,w=new Int32Array(p);for(let A=0;A<p;A++)w[A]=this.field.multiply(this.coefficients[A],s);return new Zr(this.field,w)}multiplyByMonomial(s,p){if(s<0)throw new f;if(p===0)return new Zr(this.field,new Int32Array([0]));let w=this.coefficients.length,A=new Int32Array(w+s);for(let D=0;D<w;D++)A[D]=this.field.multiply(this.coefficients[D],p);return new Zr(this.field,A)}toString(){let s=new mt;for(let p=this.getDegree();p>=0;p--){let w=this.getCoefficient(p);w!==0&&(w<0?(s.append(" - "),w=-w):s.length()>0&&s.append(" + "),(p===0||w!==1)&&s.append(w),p!==0&&(p===1?s.append("x"):(s.append("x^"),s.append(p))))}return s.toString()}}class hi{add(s,p){return(s+p)%this.modulus}subtract(s,p){return(this.modulus+s-p)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new f;return this.logTable[s]}inverse(s){if(s===0)throw new Ft;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,p){return s===0||p===0?0:this.expTable[(this.logTable[s]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Ui extends hi{constructor(s,p){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let w=1;for(let A=0;A<s;A++)this.expTable[A]=w,w=w*p%s;for(let A=0;A<s-1;A++)this.logTable[this.expTable[A]]=A;this.zero=new Zr(this,new Int32Array([0])),this.one=new Zr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,p){if(s<0)throw new f;if(p===0)return this.zero;let w=new Int32Array(s+1);return w[0]=p,new Zr(this,w)}}Ui.PDF417_GF=new Ui(Vn.NUMBER_OF_CODEWORDS,3);class wo{constructor(){this.field=Ui.PDF417_GF}decode(s,p,w){let A=new Zr(this.field,s),D=new Int32Array(p),L=!1;for(let Te=p;Te>0;Te--){let Oe=A.evaluateAt(this.field.exp(Te));D[p-Te]=Oe,Oe!==0&&(L=!0)}if(!L)return 0;let b=this.field.getOne();if(w!=null)for(const Te of w){let Oe=this.field.exp(s.length-1-Te),Be=new Zr(this.field,new Int32Array([this.field.subtract(0,Oe),1]));b=b.multiply(Be)}let T=new Zr(this.field,D),B=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),T,p),j=B[0],K=B[1],ee=this.findErrorLocations(j),he=this.findErrorMagnitudes(K,j,ee);for(let Te=0;Te<ee.length;Te++){let Oe=s.length-1-this.field.log(ee[Te]);if(Oe<0)throw m.getChecksumInstance();s[Oe]=this.field.subtract(s[Oe],he[Te])}return ee.length}runEuclideanAlgorithm(s,p,w){if(s.getDegree()<p.getDegree()){let ee=s;s=p,p=ee}let A=s,D=p,L=this.field.getZero(),b=this.field.getOne();for(;D.getDegree()>=Math.round(w/2);){let ee=A,he=L;if(A=D,L=b,A.isZero())throw m.getChecksumInstance();D=ee;let Te=this.field.getZero(),Oe=A.getCoefficient(A.getDegree()),Be=this.field.inverse(Oe);for(;D.getDegree()>=A.getDegree()&&!D.isZero();){let Xe=D.getDegree()-A.getDegree(),Ke=this.field.multiply(D.getCoefficient(D.getDegree()),Be);Te=Te.add(this.field.buildMonomial(Xe,Ke)),D=D.subtract(A.multiplyByMonomial(Xe,Ke))}b=Te.multiply(L).subtract(he).negative()}let T=b.getCoefficient(0);if(T===0)throw m.getChecksumInstance();let B=this.field.inverse(T),j=b.multiply(B),K=D.multiply(B);return[j,K]}findErrorLocations(s){let p=s.getDegree(),w=new Int32Array(p),A=0;for(let D=1;D<this.field.getSize()&&A<p;D++)s.evaluateAt(D)===0&&(w[A]=this.field.inverse(D),A++);if(A!==p)throw m.getChecksumInstance();return w}findErrorMagnitudes(s,p,w){let A=p.getDegree(),D=new Int32Array(A);for(let B=1;B<=A;B++)D[A-B]=this.field.multiply(B,p.getCoefficient(B));let L=new Zr(this.field,D),b=w.length,T=new Int32Array(b);for(let B=0;B<b;B++){let j=this.field.inverse(w[B]),K=this.field.subtract(0,s.evaluateAt(j)),ee=this.field.inverse(L.evaluateAt(j));T[B]=this.field.multiply(K,ee)}return T}}class Fo{constructor(s,p,w,A,D){s instanceof Fo?this.constructor_2(s):this.constructor_1(s,p,w,A,D)}constructor_1(s,p,w,A,D){const L=p==null||w==null,b=A==null||D==null;if(L&&b)throw new ge;L?(p=new Xt(0,A.getY()),w=new Xt(0,D.getY())):b&&(A=new Xt(s.getWidth()-1,p.getY()),D=new Xt(s.getWidth()-1,w.getY())),this.image=s,this.topLeft=p,this.bottomLeft=w,this.topRight=A,this.bottomRight=D,this.minX=Math.trunc(Math.min(p.getX(),w.getX())),this.maxX=Math.trunc(Math.max(A.getX(),D.getX())),this.minY=Math.trunc(Math.min(p.getY(),A.getY())),this.maxY=Math.trunc(Math.max(w.getY(),D.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,p){return s==null?p:p==null?s:new Fo(s.image,s.topLeft,s.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(s,p,w){let A=this.topLeft,D=this.bottomLeft,L=this.topRight,b=this.bottomRight;if(s>0){let T=w?this.topLeft:this.topRight,B=Math.trunc(T.getY()-s);B<0&&(B=0);let j=new Xt(T.getX(),B);w?A=j:L=j}if(p>0){let T=w?this.bottomLeft:this.bottomRight,B=Math.trunc(T.getY()+p);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let j=new Xt(T.getX(),B);w?D=j:b=j}return new Fo(this.image,A,D,L,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class As{constructor(s,p,w,A){this.columnCount=s,this.errorCorrectionLevel=A,this.rowCountUpperPart=p,this.rowCountLowerPart=w,this.rowCount=p+w}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Co{constructor(){this.buffer=""}static form(s,p){let w=-1;function A(L,b,T,B,j,K){if(L==="%%")return"%";if(p[++w]===void 0)return;L=B?parseInt(B.substr(1)):void 0;let ee=j?parseInt(j.substr(1)):void 0,he;switch(K){case"s":he=p[w];break;case"c":he=p[w][0];break;case"f":he=parseFloat(p[w]).toFixed(L);break;case"p":he=parseFloat(p[w]).toPrecision(L);break;case"e":he=parseFloat(p[w]).toExponential(L);break;case"x":he=parseInt(p[w]).toString(ee||16);break;case"d":he=parseFloat(parseInt(p[w],ee||10).toPrecision(L)).toFixed(0);break}he=typeof he=="object"?JSON.stringify(he):(+he).toString(ee);let Te=parseInt(T),Oe=T&&T[0]+""=="0"?"0":" ";for(;he.length<Te;)he=b!==void 0?he+Oe:Oe+he;return he}let D=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(D,A)}format(s,...p){this.buffer+=Co.form(s,p)}toString(){return this.buffer}}class ho{constructor(s){this.boundingBox=new Fo(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let p=this.getCodeword(s);if(p!=null)return p;for(let w=1;w<ho.MAX_NEARBY_DISTANCE;w++){let A=this.imageRowToCodewordIndex(s)-w;if(A>=0&&(p=this.codewords[A],p!=null)||(A=this.imageRowToCodewordIndex(s)+w,A<this.codewords.length&&(p=this.codewords[A],p!=null)))return p}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,p){this.codewords[this.imageRowToCodewordIndex(s)]=p}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Co;let p=0;for(const w of this.codewords){if(w==null){s.format("%3d:    |   %n",p++);continue}s.format("%3d: %3d|%3d%n",p++,w.getRowNumber(),w.getValue())}return s.toString()}}ho.MAX_NEARBY_DISTANCE=5;class io{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let p=this.values.get(s);p==null&&(p=0),p++,this.values.set(s,p)}getValue(){let s=-1,p=new Array;for(const[w,A]of this.values.entries()){const D={getKey:()=>w,getValue:()=>A};D.getValue()>s?(s=D.getValue(),p=[],p.push(D.getKey())):D.getValue()===s&&p.push(D.getKey())}return Vn.toIntArray(p)}getConfidence(s){return this.values.get(s)}}class us extends ho{constructor(s,p){super(s),this._isLeft=p}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,s);let w=this.getBoundingBox(),A=this._isLeft?w.getTopLeft():w.getTopRight(),D=this._isLeft?w.getBottomLeft():w.getBottomRight(),L=this.imageRowToCodewordIndex(Math.trunc(A.getY())),b=this.imageRowToCodewordIndex(Math.trunc(D.getY())),T=-1,B=1,j=0;for(let K=L;K<b;K++){if(p[K]==null)continue;let ee=p[K],he=ee.getRowNumber()-T;if(he===0)j++;else if(he===1)B=Math.max(B,j),j=1,T=ee.getRowNumber();else if(he<0||ee.getRowNumber()>=s.getRowCount()||he>K)p[K]=null;else{let Te;B>2?Te=(B-2)*he:Te=he;let Oe=Te>=K;for(let Be=1;Be<=Te&&!Oe;Be++)Oe=p[K-Be]!=null;Oe?p[K]=null:(T=ee.getRowNumber(),j=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let p=new Int32Array(s.getRowCount());for(let w of this.getCodewords())if(w!=null){let A=w.getRowNumber();if(A>=p.length)continue;p[A]++}return p}adjustIncompleteIndicatorColumnRowNumbers(s){let p=this.getBoundingBox(),w=this._isLeft?p.getTopLeft():p.getTopRight(),A=this._isLeft?p.getBottomLeft():p.getBottomRight(),D=this.imageRowToCodewordIndex(Math.trunc(w.getY())),L=this.imageRowToCodewordIndex(Math.trunc(A.getY())),b=this.getCodewords(),T=-1;for(let B=D;B<L;B++){if(b[B]==null)continue;let j=b[B];j.setRowNumberAsRowIndicatorColumn();let K=j.getRowNumber()-T;K===0||(K===1?T=j.getRowNumber():j.getRowNumber()>=s.getRowCount()?b[B]=null:T=j.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),p=new io,w=new io,A=new io,D=new io;for(let b of s){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let T=b.getValue()%30,B=b.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:w.setValue(T*3+1);break;case 1:D.setValue(T/3),A.setValue(T%3);break;case 2:p.setValue(T+1);break}}if(p.getValue().length===0||w.getValue().length===0||A.getValue().length===0||D.getValue().length===0||p.getValue()[0]<1||w.getValue()[0]+A.getValue()[0]<Vn.MIN_ROWS_IN_BARCODE||w.getValue()[0]+A.getValue()[0]>Vn.MAX_ROWS_IN_BARCODE)return null;let L=new As(p.getValue()[0],w.getValue()[0],A.getValue()[0],D.getValue()[0]);return this.removeIncorrectCodewords(s,L),L}removeIncorrectCodewords(s,p){for(let w=0;w<s.length;w++){let A=s[w];if(s[w]==null)continue;let D=A.getValue()%30,L=A.getRowNumber();if(L>p.getRowCount()){s[w]=null;continue}switch(this._isLeft||(L+=2),L%3){case 0:D*3+1!==p.getRowCountUpperPart()&&(s[w]=null);break;case 1:(Math.trunc(D/3)!==p.getErrorCorrectionLevel()||D%3!==p.getRowCountLowerPart())&&(s[w]=null);break;case 2:D+1!==p.getColumnCount()&&(s[w]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qi{constructor(s,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Vn.MAX_CODEWORDS_IN_BARCODE,p;do p=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let w=this.detectionResultColumns[p].getCodewords();for(let A=0;A<w.length;A++)w[A]!=null&&(w[A].hasValidRowNumber()||this.adjustRowNumbers(p,A,w))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<s.length;w++)if(s[w]!=null&&p[w]!=null&&s[w].getRowNumber()===p[w].getRowNumber())for(let A=1;A<=this.barcodeColumnCount;A++){let D=this.detectionResultColumns[A].getCodewords()[w];D!=null&&(D.setRowNumber(s[w].getRowNumber()),D.hasValidRowNumber()||(this.detectionResultColumns[A].getCodewords()[w]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<p.length;w++){if(p[w]==null)continue;let A=p[w].getRowNumber(),D=0;for(let L=this.barcodeColumnCount+1;L>0&&D<this.ADJUST_ROW_NUMBER_SKIP;L--){let b=this.detectionResultColumns[L].getCodewords()[w];b!=null&&(D=Qi.adjustRowNumberIfValid(A,D,b),b.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,p=this.detectionResultColumns[0].getCodewords();for(let w=0;w<p.length;w++){if(p[w]==null)continue;let A=p[w].getRowNumber(),D=0;for(let L=1;L<this.barcodeColumnCount+1&&D<this.ADJUST_ROW_NUMBER_SKIP;L++){let b=this.detectionResultColumns[L].getCodewords()[w];b!=null&&(D=Qi.adjustRowNumberIfValid(A,D,b),b.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,p,w){return w==null||w.hasValidRowNumber()||(w.isValidRowNumber(s)?(w.setRowNumber(s),p=0):++p),p}adjustRowNumbers(s,p,w){if(!this.detectionResultColumns[s-1])return;let A=w[p],D=this.detectionResultColumns[s-1].getCodewords(),L=D;this.detectionResultColumns[s+1]!=null&&(L=this.detectionResultColumns[s+1].getCodewords());let b=new Array(14);b[2]=D[p],b[3]=L[p],p>0&&(b[0]=w[p-1],b[4]=D[p-1],b[5]=L[p-1]),p>1&&(b[8]=w[p-2],b[10]=D[p-2],b[11]=L[p-2]),p<w.length-1&&(b[1]=w[p+1],b[6]=D[p+1],b[7]=L[p+1]),p<w.length-2&&(b[9]=w[p+2],b[12]=D[p+2],b[13]=L[p+2]);for(let T of b)if(Qi.adjustRowNumber(A,T))return}static adjustRowNumber(s,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===s.getBucket()?(s.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,p){this.detectionResultColumns[s]=p}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new Co;for(let w=0;w<s.getCodewords().length;w++){p.format("CW %3d:",w);for(let A=0;A<this.barcodeColumnCount+2;A++){if(this.detectionResultColumns[A]==null){p.format("    |   ");continue}let D=this.detectionResultColumns[A].getCodewords()[w];if(D==null){p.format("    |   ");continue}p.format(" %3d|%3d",D.getRowNumber(),D.getValue())}p.format("%n")}return p.toString()}}class Ma{constructor(s,p,w,A){this.rowNumber=Ma.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(p),this.bucket=Math.trunc(w),this.value=Math.trunc(A)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ma.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ma.BARCODE_ROW_UNKNOWN=-1;class Aa{static initialize(){for(let s=0;s<Vn.SYMBOL_TABLE.length;s++){let p=Vn.SYMBOL_TABLE[s],w=p&1;for(let A=0;A<Vn.BARS_IN_MODULE;A++){let D=0;for(;(p&1)===w;)D+=1,p>>=1;w=p&1,Aa.RATIOS_TABLE[s]||(Aa.RATIOS_TABLE[s]=new Array(Vn.BARS_IN_MODULE)),Aa.RATIOS_TABLE[s][Vn.BARS_IN_MODULE-A-1]=Math.fround(D/Vn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let p=Aa.getDecodedCodewordValue(Aa.sampleBitCounts(s));return p!==-1?p:Aa.getClosestDecodedValue(s)}static sampleBitCounts(s){let p=Vt.sum(s),w=new Int32Array(Vn.BARS_IN_MODULE),A=0,D=0;for(let L=0;L<Vn.MODULES_IN_CODEWORD;L++){let b=p/(2*Vn.MODULES_IN_CODEWORD)+L*p/Vn.MODULES_IN_CODEWORD;D+s[A]<=b&&(D+=s[A],A++),w[A]++}return w}static getDecodedCodewordValue(s){let p=Aa.getBitValue(s);return Vn.getCodeword(p)===-1?-1:p}static getBitValue(s){let p=0;for(let w=0;w<s.length;w++)for(let A=0;A<s[w];A++)p=p<<1|(w%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(s){let p=Vt.sum(s),w=new Array(Vn.BARS_IN_MODULE);if(p>1)for(let L=0;L<w.length;L++)w[L]=Math.fround(s[L]/p);let A=un.MAX_VALUE,D=-1;this.bSymbolTableReady||Aa.initialize();for(let L=0;L<Aa.RATIOS_TABLE.length;L++){let b=0,T=Aa.RATIOS_TABLE[L];for(let B=0;B<Vn.BARS_IN_MODULE;B++){let j=Math.fround(T[B]-w[B]);if(b+=Math.fround(j*j),b>=A)break}b<A&&(A=b,D=Vn.SYMBOL_TABLE[L])}return D}}Aa.bSymbolTableReady=!1,Aa.RATIOS_TABLE=new Array(Vn.SYMBOL_TABLE.length).map(_e=>new Array(Vn.BARS_IN_MODULE));class Ts{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class ks{static parseLong(s,p=void 0){return parseInt(s,p)}}class Oa extends c{}Oa.kind="NullPointerException";class yu{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,p,w){if(s==null)throw new Oa;if(p<0||p>s.length||w<0||p+w>s.length||p+w<0)throw new S;if(w===0)return;for(let A=0;A<w;A++)this.write(s[p+A])}flush(){}close(){}}class jl extends c{}class Dl extends yu{constructor(s=32){if(super(),this.count=0,s<0)throw new f("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let w=this.buf.length<<1;if(w-s<0&&(w=s),w<0){if(s<0)throw new jl;w=U.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,w)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,p,w){if(p<0||p>s.length||w<0||p+w-s.length>0)throw new S;this.ensureCapacity(this.count+w),k.arraycopy(s,p,this.buf,this.count,w),this.count+=w}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var gi;(function(_e){_e[_e.ALPHA=0]="ALPHA",_e[_e.LOWER=1]="LOWER",_e[_e.MIXED=2]="MIXED",_e[_e.PUNCT=3]="PUNCT",_e[_e.ALPHA_SHIFT=4]="ALPHA_SHIFT",_e[_e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(gi||(gi={}));function Ds(){if(typeof window<"u")return window.BigInt||null;if(typeof T1<"u")return T1.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _l;function Pa(_e){if(typeof _l>"u"&&(_l=Ds()),_l===null)throw new Error("BigInt is not supported!");return _l(_e)}function _s(){let _e=[];_e[0]=Pa(1);let s=Pa(900);_e[1]=s;for(let p=2;p<16;p++)_e[p]=_e[p-1]*s;return _e}class Jt{static decode(s,p){let w=new mt(""),A=Se.ISO8859_1;w.enableDecoding(A);let D=1,L=s[D++],b=new Ts;for(;D<s[0];){switch(L){case Jt.TEXT_COMPACTION_MODE_LATCH:D=Jt.textCompaction(s,D,w);break;case Jt.BYTE_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH_6:D=Jt.byteCompaction(L,s,A,D,w);break;case Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(s[D++]);break;case Jt.NUMERIC_COMPACTION_MODE_LATCH:D=Jt.numericCompaction(s,D,w);break;case Jt.ECI_CHARSET:Se.getCharacterSetECIByValue(s[D++]);break;case Jt.ECI_GENERAL_PURPOSE:D+=2;break;case Jt.ECI_USER_DEFINED:D++;break;case Jt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:D=Jt.decodeMacroBlock(s,D,b);break;case Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Jt.MACRO_PDF417_TERMINATOR:throw new ne;default:D--,D=Jt.textCompaction(s,D,w);break}if(D<s.length)L=s[D++];else throw ne.getFormatInstance()}if(w.length()===0)throw ne.getFormatInstance();let T=new et(null,w.toString(),null,p);return T.setOther(b),T}static decodeMacroBlock(s,p,w){if(p+Jt.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw ne.getFormatInstance();let A=new Int32Array(Jt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<Jt.NUMBER_OF_SEQUENCE_CODEWORDS;b++,p++)A[b]=s[p];w.setSegmentIndex(U.parseInt(Jt.decodeBase900toBase10(A,Jt.NUMBER_OF_SEQUENCE_CODEWORDS)));let D=new mt;p=Jt.textCompaction(s,p,D),w.setFileId(D.toString());let L=-1;for(s[p]===Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(L=p+1);p<s[0];)switch(s[p]){case Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,s[p]){case Jt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new mt;p=Jt.textCompaction(s,p+1,b),w.setFileName(b.toString());break;case Jt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new mt;p=Jt.textCompaction(s,p+1,T),w.setSender(T.toString());break;case Jt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new mt;p=Jt.textCompaction(s,p+1,B),w.setAddressee(B.toString());break;case Jt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new mt;p=Jt.numericCompaction(s,p+1,j),w.setSegmentCount(U.parseInt(j.toString()));break;case Jt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let K=new mt;p=Jt.numericCompaction(s,p+1,K),w.setTimestamp(ks.parseLong(K.toString()));break;case Jt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ee=new mt;p=Jt.numericCompaction(s,p+1,ee),w.setChecksum(U.parseInt(ee.toString()));break;case Jt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let he=new mt;p=Jt.numericCompaction(s,p+1,he),w.setFileSize(ks.parseLong(he.toString()));break;default:throw ne.getFormatInstance()}break;case Jt.MACRO_PDF417_TERMINATOR:p++,w.setLastSegment(!0);break;default:throw ne.getFormatInstance()}if(L!==-1){let b=p-L;w.isLastSegment()&&b--,w.setOptionalData(N.copyOfRange(s,L,L+b))}return p}static textCompaction(s,p,w){let A=new Int32Array((s[0]-p)*2),D=new Int32Array((s[0]-p)*2),L=0,b=!1;for(;p<s[0]&&!b;){let T=s[p++];if(T<Jt.TEXT_COMPACTION_MODE_LATCH)A[L]=T/30,A[L+1]=T%30,L+=2;else switch(T){case Jt.TEXT_COMPACTION_MODE_LATCH:A[L++]=Jt.TEXT_COMPACTION_MODE_LATCH;break;case Jt.BYTE_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH_6:case Jt.NUMERIC_COMPACTION_MODE_LATCH:case Jt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Jt.MACRO_PDF417_TERMINATOR:p--,b=!0;break;case Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A[L]=Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=s[p++],D[L]=T,L++;break}}return Jt.decodeTextCompaction(A,D,L,w),p}static decodeTextCompaction(s,p,w,A){let D=gi.ALPHA,L=gi.ALPHA,b=0;for(;b<w;){let T=s[b],B="";switch(D){case gi.ALPHA:if(T<26)B=String.fromCharCode(65+T);else switch(T){case 26:B=" ";break;case Jt.LL:D=gi.LOWER;break;case Jt.ML:D=gi.MIXED;break;case Jt.PS:L=D,D=gi.PUNCT_SHIFT;break;case Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Jt.TEXT_COMPACTION_MODE_LATCH:D=gi.ALPHA;break}break;case gi.LOWER:if(T<26)B=String.fromCharCode(97+T);else switch(T){case 26:B=" ";break;case Jt.AS:L=D,D=gi.ALPHA_SHIFT;break;case Jt.ML:D=gi.MIXED;break;case Jt.PS:L=D,D=gi.PUNCT_SHIFT;break;case Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Jt.TEXT_COMPACTION_MODE_LATCH:D=gi.ALPHA;break}break;case gi.MIXED:if(T<Jt.PL)B=Jt.MIXED_CHARS[T];else switch(T){case Jt.PL:D=gi.PUNCT;break;case 26:B=" ";break;case Jt.LL:D=gi.LOWER;break;case Jt.AL:D=gi.ALPHA;break;case Jt.PS:L=D,D=gi.PUNCT_SHIFT;break;case Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Jt.TEXT_COMPACTION_MODE_LATCH:D=gi.ALPHA;break}break;case gi.PUNCT:if(T<Jt.PAL)B=Jt.PUNCT_CHARS[T];else switch(T){case Jt.PAL:D=gi.ALPHA;break;case Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Jt.TEXT_COMPACTION_MODE_LATCH:D=gi.ALPHA;break}break;case gi.ALPHA_SHIFT:if(D=L,T<26)B=String.fromCharCode(65+T);else switch(T){case 26:B=" ";break;case Jt.TEXT_COMPACTION_MODE_LATCH:D=gi.ALPHA;break}break;case gi.PUNCT_SHIFT:if(D=L,T<Jt.PAL)B=Jt.PUNCT_CHARS[T];else switch(T){case Jt.PAL:D=gi.ALPHA;break;case Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Jt.TEXT_COMPACTION_MODE_LATCH:D=gi.ALPHA;break}break}B!==""&&A.append(B),b++}}static byteCompaction(s,p,w,A,D){let L=new Dl,b=0,T=0,B=!1;switch(s){case Jt.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),K=p[A++];for(;A<p[0]&&!B;)switch(j[b++]=K,T=900*T+K,K=p[A++],K){case Jt.TEXT_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH:case Jt.NUMERIC_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH_6:case Jt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Jt.MACRO_PDF417_TERMINATOR:A--,B=!0;break;default:if(b%5===0&&b>0){for(let ee=0;ee<6;++ee)L.write(Number(Pa(T)>>Pa(8*(5-ee))));T=0,b=0}break}A===p[0]&&K<Jt.TEXT_COMPACTION_MODE_LATCH&&(j[b++]=K);for(let ee=0;ee<b;ee++)L.write(j[ee]);break;case Jt.BYTE_COMPACTION_MODE_LATCH_6:for(;A<p[0]&&!B;){let ee=p[A++];if(ee<Jt.TEXT_COMPACTION_MODE_LATCH)b++,T=900*T+ee;else switch(ee){case Jt.TEXT_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH:case Jt.NUMERIC_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH_6:case Jt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Jt.MACRO_PDF417_TERMINATOR:A--,B=!0;break}if(b%5===0&&b>0){for(let he=0;he<6;++he)L.write(Number(Pa(T)>>Pa(8*(5-he))));T=0,b=0}}break}return D.append(Ue.decode(L.toByteArray(),w)),A}static numericCompaction(s,p,w){let A=0,D=!1,L=new Int32Array(Jt.MAX_NUMERIC_CODEWORDS);for(;p<s[0]&&!D;){let b=s[p++];if(p===s[0]&&(D=!0),b<Jt.TEXT_COMPACTION_MODE_LATCH)L[A]=b,A++;else switch(b){case Jt.TEXT_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH:case Jt.BYTE_COMPACTION_MODE_LATCH_6:case Jt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Jt.MACRO_PDF417_TERMINATOR:p--,D=!0;break}(A%Jt.MAX_NUMERIC_CODEWORDS===0||b===Jt.NUMERIC_COMPACTION_MODE_LATCH||D)&&A>0&&(w.append(Jt.decodeBase900toBase10(L,A)),A=0)}return p}static decodeBase900toBase10(s,p){let w=Pa(0);for(let D=0;D<p;D++)w+=Jt.EXP900[p-D-1]*Pa(s[D]);let A=w.toString();if(A.charAt(0)!=="1")throw new ne;return A.substring(1)}}Jt.TEXT_COMPACTION_MODE_LATCH=900,Jt.BYTE_COMPACTION_MODE_LATCH=901,Jt.NUMERIC_COMPACTION_MODE_LATCH=902,Jt.BYTE_COMPACTION_MODE_LATCH_6=924,Jt.ECI_USER_DEFINED=925,Jt.ECI_GENERAL_PURPOSE=926,Jt.ECI_CHARSET=927,Jt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Jt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Jt.MACRO_PDF417_TERMINATOR=922,Jt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Jt.MAX_NUMERIC_CODEWORDS=15,Jt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Jt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Jt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Jt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Jt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Jt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Jt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Jt.PL=25,Jt.LL=27,Jt.AS=27,Jt.ML=28,Jt.AL=28,Jt.PS=29,Jt.PAL=29,Jt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Jt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Jt.EXP900=Ds()?_s():[],Jt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Nr{constructor(){}static decode(s,p,w,A,D,L,b){let T=new Fo(s,p,w,A,D),B=null,j=null,K;for(let Te=!0;;Te=!1){if(p!=null&&(B=Nr.getRowIndicatorColumn(s,T,p,!0,L,b)),A!=null&&(j=Nr.getRowIndicatorColumn(s,T,A,!1,L,b)),K=Nr.merge(B,j),K==null)throw ge.getNotFoundInstance();let Oe=K.getBoundingBox();if(Te&&Oe!=null&&(Oe.getMinY()<T.getMinY()||Oe.getMaxY()>T.getMaxY()))T=Oe;else break}K.setBoundingBox(T);let ee=K.getBarcodeColumnCount()+1;K.setDetectionResultColumn(0,B),K.setDetectionResultColumn(ee,j);let he=B!=null;for(let Te=1;Te<=ee;Te++){let Oe=he?Te:ee-Te;if(K.getDetectionResultColumn(Oe)!==void 0)continue;let Be;Oe===0||Oe===ee?Be=new us(T,Oe===0):Be=new ho(T),K.setDetectionResultColumn(Oe,Be);let Xe=-1,Ke=Xe;for(let ot=T.getMinY();ot<=T.getMaxY();ot++){if(Xe=Nr.getStartColumn(K,Oe,ot,he),Xe<0||Xe>T.getMaxX()){if(Ke===-1)continue;Xe=Ke}let Je=Nr.detectCodeword(s,T.getMinX(),T.getMaxX(),he,Xe,ot,L,b);Je!=null&&(Be.setCodeword(ot,Je),Ke=Xe,L=Math.min(L,Je.getWidth()),b=Math.max(b,Je.getWidth()))}}return Nr.createDecoderResult(K)}static merge(s,p){if(s==null&&p==null)return null;let w=Nr.getBarcodeMetadata(s,p);if(w==null)return null;let A=Fo.merge(Nr.adjustBoundingBox(s),Nr.adjustBoundingBox(p));return new Qi(w,A)}static adjustBoundingBox(s){if(s==null)return null;let p=s.getRowHeights();if(p==null)return null;let w=Nr.getMax(p),A=0;for(let b of p)if(A+=w-b,b>0)break;let D=s.getCodewords();for(let b=0;A>0&&D[b]==null;b++)A--;let L=0;for(let b=p.length-1;b>=0&&(L+=w-p[b],!(p[b]>0));b--);for(let b=D.length-1;L>0&&D[b]==null;b--)L--;return s.getBoundingBox().addMissingRows(A,L,s.isLeft())}static getMax(s){let p=-1;for(let w of s)p=Math.max(p,w);return p}static getBarcodeMetadata(s,p){let w;if(s==null||(w=s.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let A;return p==null||(A=p.getBarcodeMetadata())==null?w:w.getColumnCount()!==A.getColumnCount()&&w.getErrorCorrectionLevel()!==A.getErrorCorrectionLevel()&&w.getRowCount()!==A.getRowCount()?null:w}static getRowIndicatorColumn(s,p,w,A,D,L){let b=new us(p,A);for(let T=0;T<2;T++){let B=T===0?1:-1,j=Math.trunc(Math.trunc(w.getX()));for(let K=Math.trunc(Math.trunc(w.getY()));K<=p.getMaxY()&&K>=p.getMinY();K+=B){let ee=Nr.detectCodeword(s,0,s.getWidth(),A,j,K,D,L);ee!=null&&(b.setCodeword(K,ee),A?j=ee.getStartX():j=ee.getEndX())}}return b}static adjustCodewordCount(s,p){let w=p[0][1],A=w.getValue(),D=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Nr.getNumberOfECCodeWords(s.getBarcodeECLevel());if(A.length===0){if(D<1||D>Vn.MAX_CODEWORDS_IN_BARCODE)throw ge.getNotFoundInstance();w.setValue(D)}else A[0]!==D&&w.setValue(D)}static createDecoderResult(s){let p=Nr.createBarcodeMatrix(s);Nr.adjustCodewordCount(s,p);let w=new Array,A=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),D=[],L=new Array;for(let T=0;T<s.getBarcodeRowCount();T++)for(let B=0;B<s.getBarcodeColumnCount();B++){let j=p[T][B+1].getValue(),K=T*s.getBarcodeColumnCount()+B;j.length===0?w.push(K):j.length===1?A[K]=j[0]:(L.push(K),D.push(j))}let b=new Array(D.length);for(let T=0;T<b.length;T++)b[T]=D[T];return Nr.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),A,Vn.toIntArray(w),Vn.toIntArray(L),b)}static createDecoderResultFromAmbiguousValues(s,p,w,A,D){let L=new Int32Array(A.length),b=100;for(;b-- >0;){for(let T=0;T<L.length;T++)p[A[T]]=D[T][L[T]];try{return Nr.decodeCodewords(p,s,w)}catch(T){if(!(T instanceof m))throw T}if(L.length===0)throw m.getChecksumInstance();for(let T=0;T<L.length;T++)if(L[T]<D[T].length-1){L[T]++;break}else if(L[T]=0,T===L.length-1)throw m.getChecksumInstance()}throw m.getChecksumInstance()}static createBarcodeMatrix(s){let p=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let A=0;A<p.length;A++)for(let D=0;D<p[A].length;D++)p[A][D]=new io;let w=0;for(let A of s.getDetectionResultColumns()){if(A!=null){for(let D of A.getCodewords())if(D!=null){let L=D.getRowNumber();if(L>=0){if(L>=p.length)continue;p[L][w].setValue(D.getValue())}}}w++}return p}static isValidBarcodeColumn(s,p){return p>=0&&p<=s.getBarcodeColumnCount()+1}static getStartColumn(s,p,w,A){let D=A?1:-1,L=null;if(Nr.isValidBarcodeColumn(s,p-D)&&(L=s.getDetectionResultColumn(p-D).getCodeword(w)),L!=null)return A?L.getEndX():L.getStartX();if(L=s.getDetectionResultColumn(p).getCodewordNearby(w),L!=null)return A?L.getStartX():L.getEndX();if(Nr.isValidBarcodeColumn(s,p-D)&&(L=s.getDetectionResultColumn(p-D).getCodewordNearby(w)),L!=null)return A?L.getEndX():L.getStartX();let b=0;for(;Nr.isValidBarcodeColumn(s,p-D);){p-=D;for(let T of s.getDetectionResultColumn(p).getCodewords())if(T!=null)return(A?T.getEndX():T.getStartX())+D*b*(T.getEndX()-T.getStartX());b++}return A?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,p,w,A,D,L,b,T){D=Nr.adjustCodewordStartColumn(s,p,w,A,D,L);let B=Nr.getModuleBitCount(s,p,w,A,D,L);if(B==null)return null;let j,K=Vt.sum(B);if(A)j=D+K;else{for(let Te=0;Te<B.length/2;Te++){let Oe=B[Te];B[Te]=B[B.length-1-Te],B[B.length-1-Te]=Oe}j=D,D=j-K}if(!Nr.checkCodewordSkew(K,b,T))return null;let ee=Aa.getDecodedValue(B),he=Vn.getCodeword(ee);return he===-1?null:new Ma(D,j,Nr.getCodewordBucketNumber(ee),he)}static getModuleBitCount(s,p,w,A,D,L){let b=D,T=new Int32Array(8),B=0,j=A?1:-1,K=A;for(;(A?b<w:b>=p)&&B<T.length;)s.get(b,L)===K?(T[B]++,b+=j):(B++,K=!K);return B===T.length||b===(A?w:p)&&B===T.length-1?T:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,p,w,A,D,L){let b=D,T=A?-1:1;for(let B=0;B<2;B++){for(;(A?b>=p:b<w)&&A===s.get(b,L);){if(Math.abs(D-b)>Nr.CODEWORD_SKEW_SIZE)return D;b+=T}T=-T,A=!A}return b}static checkCodewordSkew(s,p,w){return p-Nr.CODEWORD_SKEW_SIZE<=s&&s<=w+Nr.CODEWORD_SKEW_SIZE}static decodeCodewords(s,p,w){if(s.length===0)throw ne.getFormatInstance();let A=1<<p+1,D=Nr.correctErrors(s,w,A);Nr.verifyCodewordCount(s,A);let L=Jt.decode(s,""+p);return L.setErrorsCorrected(D),L.setErasures(w.length),L}static correctErrors(s,p,w){if(p!=null&&p.length>w/2+Nr.MAX_ERRORS||w<0||w>Nr.MAX_EC_CODEWORDS)throw m.getChecksumInstance();return Nr.errorCorrection.decode(s,w,p)}static verifyCodewordCount(s,p){if(s.length<4)throw ne.getFormatInstance();let w=s[0];if(w>s.length)throw ne.getFormatInstance();if(w===0)if(p<s.length)s[0]=s.length-p;else throw ne.getFormatInstance()}static getBitCountForCodeword(s){let p=new Int32Array(8),w=0,A=p.length-1;for(;!((s&1)!==w&&(w=s&1,A--,A<0));)p[A]++,s>>=1;return p}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Nr.getCodewordBucketNumber(Nr.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let p=new Co;for(let w=0;w<s.length;w++){p.format("Row %2d: ",w);for(let A=0;A<s[w].length;A++){let D=s[w][A];D.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",D.getValue()[0],D.getConfidence(D.getValue()[0]))}p.format("%n")}return p.toString()}}Nr.CODEWORD_SKEW_SIZE=2,Nr.MAX_ERRORS=3,Nr.MAX_EC_CODEWORDS=512,Nr.errorCorrection=new wo;class Ka{decode(s,p=null){let w=Ka.decode(s,p,!1);if(w==null||w.length===0||w[0]==null)throw ge.getNotFoundInstance();return w[0]}decodeMultiple(s,p=null){try{return Ka.decode(s,p,!0)}catch(w){throw w instanceof ne||w instanceof m?ge.getNotFoundInstance():w}}static decode(s,p,w){const A=new Array,D=tr.detectMultiple(s,p,w);for(const L of D.getPoints()){const b=Nr.decode(D.getBits(),L[4],L[5],L[6],L[7],Ka.getMinCodewordWidth(L),Ka.getMaxCodewordWidth(L)),T=new me(b.getText(),b.getRawBytes(),void 0,L,Ne.PDF_417);T.putMetadata(xt.ERROR_CORRECTION_LEVEL,b.getECLevel());const B=b.getOther();B!=null&&T.putMetadata(xt.PDF417_EXTRA_METADATA,B),A.push(T)}return A.map(L=>L)}static getMaxWidth(s,p){return s==null||p==null?0:Math.trunc(Math.abs(s.getX()-p.getX()))}static getMinWidth(s,p){return s==null||p==null?U.MAX_VALUE:Math.trunc(Math.abs(s.getX()-p.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Ka.getMaxWidth(s[0],s[4]),Ka.getMaxWidth(s[6],s[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.max(Ka.getMaxWidth(s[1],s[5]),Ka.getMaxWidth(s[7],s[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Ka.getMinWidth(s[0],s[4]),Ka.getMinWidth(s[6],s[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.min(Ka.getMinWidth(s[1],s[5]),Ka.getMinWidth(s[7],s[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}reset(){}}class cs extends c{}cs.kind="ReaderException";class xu{constructor(s,p){this.verbose=s===!0,p&&this.setHints(p)}decode(s,p){return p&&this.setHints(p),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const p=!r(s)&&s.get(J.TRY_HARDER)===!0,w=r(s)?null:s.get(J.POSSIBLE_FORMATS),A=new Array;if(!r(w)){const D=w.some(L=>L===Ne.UPC_A||L===Ne.UPC_E||L===Ne.EAN_13||L===Ne.EAN_8||L===Ne.CODABAR||L===Ne.CODE_39||L===Ne.CODE_93||L===Ne.CODE_128||L===Ne.ITF||L===Ne.RSS_14||L===Ne.RSS_EXPANDED);D&&!p&&A.push(new Zi(s,this.verbose)),w.includes(Ne.QR_CODE)&&A.push(new Dr),w.includes(Ne.DATA_MATRIX)&&A.push(new _a),w.includes(Ne.AZTEC)&&A.push(new we),w.includes(Ne.PDF_417)&&A.push(new Ka),D&&p&&A.push(new Zi(s,this.verbose))}A.length===0&&(p||A.push(new Zi(s,this.verbose)),A.push(new Dr),A.push(new _a),A.push(new we),A.push(new Ka),p&&A.push(new Zi(s,this.verbose))),this.readers=A}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new cs("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(s,this.hints)}catch(w){if(w instanceof cs)continue}throw new ge("No MultiFormat Readers were able to detect the code.")}}class Wl extends V{constructor(s=null,p=500){const w=new xu;w.setHints(s),super(w,p)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class ru extends V{constructor(s=500){super(new Ka,s)}}class Zs extends V{constructor(s=500){super(new Dr,s)}}var Ia;(function(_e){_e[_e.ERROR_CORRECTION=0]="ERROR_CORRECTION",_e[_e.CHARACTER_SET=1]="CHARACTER_SET",_e[_e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_e[_e.MIN_SIZE=3]="MIN_SIZE",_e[_e.MAX_SIZE=4]="MAX_SIZE",_e[_e.MARGIN=5]="MARGIN",_e[_e.PDF417_COMPACT=6]="PDF417_COMPACT",_e[_e.PDF417_COMPACTION=7]="PDF417_COMPACTION",_e[_e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_e[_e.AZTEC_LAYERS=9]="AZTEC_LAYERS",_e[_e.QR_VERSION=10]="QR_VERSION"})(Ia||(Ia={}));var Ji=Ia;class Fs{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new _t(s,Int32Array.from([1])))}buildGenerator(s){const p=this.cachedGenerators;if(s>=p.length){let w=p[p.length-1];const A=this.field;for(let D=p.length;D<=s;D++){const L=w.multiply(new _t(A,Int32Array.from([1,A.exp(D-1+A.getGeneratorBase())])));p.push(L),w=L}}return p[s]}encode(s,p){if(p===0)throw new f("No error correction bytes");const w=s.length-p;if(w<=0)throw new f("No data bytes provided");const A=this.buildGenerator(p),D=new Int32Array(w);k.arraycopy(s,0,D,0,w);let L=new _t(this.field,D);L=L.multiplyByMonomial(p,1);const T=L.divide(A)[1].getCoefficients(),B=p-T.length;for(let j=0;j<B;j++)s[w+j]=0;k.arraycopy(T,0,s,w+B,T.length)}}class Li{constructor(){}static applyMaskPenaltyRule1(s){return Li.applyMaskPenaltyRule1Internal(s,!0)+Li.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let p=0;const w=s.getArray(),A=s.getWidth(),D=s.getHeight();for(let L=0;L<D-1;L++){const b=w[L];for(let T=0;T<A-1;T++){const B=b[T];B===b[T+1]&&B===w[L+1][T]&&B===w[L+1][T+1]&&p++}}return Li.N2*p}static applyMaskPenaltyRule3(s){let p=0;const w=s.getArray(),A=s.getWidth(),D=s.getHeight();for(let L=0;L<D;L++)for(let b=0;b<A;b++){const T=w[L];b+6<A&&T[b]===1&&T[b+1]===0&&T[b+2]===1&&T[b+3]===1&&T[b+4]===1&&T[b+5]===0&&T[b+6]===1&&(Li.isWhiteHorizontal(T,b-4,b)||Li.isWhiteHorizontal(T,b+7,b+11))&&p++,L+6<D&&w[L][b]===1&&w[L+1][b]===0&&w[L+2][b]===1&&w[L+3][b]===1&&w[L+4][b]===1&&w[L+5][b]===0&&w[L+6][b]===1&&(Li.isWhiteVertical(w,b,L-4,L)||Li.isWhiteVertical(w,b,L+7,L+11))&&p++}return p*Li.N3}static isWhiteHorizontal(s,p,w){p=Math.max(p,0),w=Math.min(w,s.length);for(let A=p;A<w;A++)if(s[A]===1)return!1;return!0}static isWhiteVertical(s,p,w,A){w=Math.max(w,0),A=Math.min(A,s.length);for(let D=w;D<A;D++)if(s[D][p]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let p=0;const w=s.getArray(),A=s.getWidth(),D=s.getHeight();for(let T=0;T<D;T++){const B=w[T];for(let j=0;j<A;j++)B[j]===1&&p++}const L=s.getHeight()*s.getWidth();return Math.floor(Math.abs(p*2-L)*10/L)*Li.N4}static getDataMaskBit(s,p,w){let A,D;switch(s){case 0:A=w+p&1;break;case 1:A=w&1;break;case 2:A=p%3;break;case 3:A=(w+p)%3;break;case 4:A=Math.floor(w/2)+Math.floor(p/3)&1;break;case 5:D=w*p,A=(D&1)+D%3;break;case 6:D=w*p,A=(D&1)+D%3&1;break;case 7:D=w*p,A=D%3+(w+p&1)&1;break;default:throw new f("Invalid mask pattern: "+s)}return A===0}static applyMaskPenaltyRule1Internal(s,p){let w=0;const A=p?s.getHeight():s.getWidth(),D=p?s.getWidth():s.getHeight(),L=s.getArray();for(let b=0;b<A;b++){let T=0,B=-1;for(let j=0;j<D;j++){const K=p?L[b][j]:L[j][b];K===B?T++:(T>=5&&(w+=Li.N1+(T-5)),T=1,B=K)}T>=5&&(w+=Li.N1+(T-5))}return w}}Li.N1=3,Li.N2=3,Li.N3=40,Li.N4=10;class dl{constructor(s,p){this.width=s,this.height=p;const w=new Array(p);for(let A=0;A!==p;A++)w[A]=new Uint8Array(s);this.bytes=w}getHeight(){return this.height}getWidth(){return this.width}get(s,p){return this.bytes[p][s]}getArray(){return this.bytes}setNumber(s,p,w){this.bytes[p][s]=w}setBoolean(s,p,w){this.bytes[p][s]=w?1:0}clear(s){for(const p of this.bytes)N.fill(p,s)}equals(s){if(!(s instanceof dl))return!1;const p=s;if(this.width!==p.width||this.height!==p.height)return!1;for(let w=0,A=this.height;w<A;++w){const D=this.bytes[w],L=p.bytes[w];for(let b=0,T=this.width;b<T;++b)if(D[b]!==L[b])return!1}return!0}toString(){const s=new mt;for(let p=0,w=this.height;p<w;++p){const A=this.bytes[p];for(let D=0,L=this.width;D<L;++D)switch(A[D]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class gl{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new mt;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<gl.NUM_MASK_PATTERNS}}gl.NUM_MASK_PATTERNS=8;class Di extends c{}Di.kind="WriterException";class jn{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,p,w,A,D){jn.clearMatrix(D),jn.embedBasicPatterns(w,D),jn.embedTypeInfo(p,A,D),jn.maybeEmbedVersionInfo(w,D),jn.embedDataBits(s,A,D)}static embedBasicPatterns(s,p){jn.embedPositionDetectionPatternsAndSeparators(p),jn.embedDarkDotAtLeftBottomCorner(p),jn.maybeEmbedPositionAdjustmentPatterns(s,p),jn.embedTimingPatterns(p)}static embedTypeInfo(s,p,w){const A=new W;jn.makeTypeInfoBits(s,p,A);for(let D=0,L=A.getSize();D<L;++D){const b=A.get(A.getSize()-1-D),T=jn.TYPE_INFO_COORDINATES[D],B=T[0],j=T[1];if(w.setBoolean(B,j,b),D<8){const K=w.getWidth()-D-1;w.setBoolean(K,8,b)}else{const ee=w.getHeight()-7+(D-8);w.setBoolean(8,ee,b)}}}static maybeEmbedVersionInfo(s,p){if(s.getVersionNumber()<7)return;const w=new W;jn.makeVersionInfoBits(s,w);let A=17;for(let D=0;D<6;++D)for(let L=0;L<3;++L){const b=w.get(A);A--,p.setBoolean(D,p.getHeight()-11+L,b),p.setBoolean(p.getHeight()-11+L,D,b)}}static embedDataBits(s,p,w){let A=0,D=-1,L=w.getWidth()-1,b=w.getHeight()-1;for(;L>0;){for(L===6&&(L-=1);b>=0&&b<w.getHeight();){for(let T=0;T<2;++T){const B=L-T;if(!jn.isEmpty(w.get(B,b)))continue;let j;A<s.getSize()?(j=s.get(A),++A):j=!1,p!==255&&Li.getDataMaskBit(p,B,b)&&(j=!j),w.setBoolean(B,b,j)}b+=D}D=-D,b+=D,L-=2}if(A!==s.getSize())throw new Di("Not all bits consumed: "+A+"/"+s.getSize())}static findMSBSet(s){return 32-U.numberOfLeadingZeros(s)}static calculateBCHCode(s,p){if(p===0)throw new f("0 polynomial");const w=jn.findMSBSet(p);for(s<<=w-1;jn.findMSBSet(s)>=w;)s^=p<<jn.findMSBSet(s)-w;return s}static makeTypeInfoBits(s,p,w){if(!gl.isValidMaskPattern(p))throw new Di("Invalid mask pattern");const A=s.getBits()<<3|p;w.appendBits(A,5);const D=jn.calculateBCHCode(A,jn.TYPE_INFO_POLY);w.appendBits(D,10);const L=new W;if(L.appendBits(jn.TYPE_INFO_MASK_PATTERN,15),w.xor(L),w.getSize()!==15)throw new Di("should not happen but we got: "+w.getSize())}static makeVersionInfoBits(s,p){p.appendBits(s.getVersionNumber(),6);const w=jn.calculateBCHCode(s.getVersionNumber(),jn.VERSION_INFO_POLY);if(p.appendBits(w,12),p.getSize()!==18)throw new Di("should not happen but we got: "+p.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let p=8;p<s.getWidth()-8;++p){const w=(p+1)%2;jn.isEmpty(s.get(p,6))&&s.setNumber(p,6,w),jn.isEmpty(s.get(6,p))&&s.setNumber(6,p,w)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Di;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,p,w){for(let A=0;A<8;++A){if(!jn.isEmpty(w.get(s+A,p)))throw new Di;w.setNumber(s+A,p,0)}}static embedVerticalSeparationPattern(s,p,w){for(let A=0;A<7;++A){if(!jn.isEmpty(w.get(s,p+A)))throw new Di;w.setNumber(s,p+A,0)}}static embedPositionAdjustmentPattern(s,p,w){for(let A=0;A<5;++A){const D=jn.POSITION_ADJUSTMENT_PATTERN[A];for(let L=0;L<5;++L)w.setNumber(s+L,p+A,D[L])}}static embedPositionDetectionPattern(s,p,w){for(let A=0;A<7;++A){const D=jn.POSITION_DETECTION_PATTERN[A];for(let L=0;L<7;++L)w.setNumber(s+L,p+A,D[L])}}static embedPositionDetectionPatternsAndSeparators(s){const p=jn.POSITION_DETECTION_PATTERN[0].length;jn.embedPositionDetectionPattern(0,0,s),jn.embedPositionDetectionPattern(s.getWidth()-p,0,s),jn.embedPositionDetectionPattern(0,s.getWidth()-p,s);const w=8;jn.embedHorizontalSeparationPattern(0,w-1,s),jn.embedHorizontalSeparationPattern(s.getWidth()-w,w-1,s),jn.embedHorizontalSeparationPattern(0,s.getWidth()-w,s);const A=7;jn.embedVerticalSeparationPattern(A,0,s),jn.embedVerticalSeparationPattern(s.getHeight()-A-1,0,s),jn.embedVerticalSeparationPattern(A,s.getHeight()-A,s)}static maybeEmbedPositionAdjustmentPatterns(s,p){if(s.getVersionNumber()<2)return;const w=s.getVersionNumber()-1,A=jn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[w];for(let D=0,L=A.length;D!==L;D++){const b=A[D];if(b>=0)for(let T=0;T!==L;T++){const B=A[T];B>=0&&jn.isEmpty(p.get(B,b))&&jn.embedPositionAdjustmentPattern(B-2,b-2,p)}}}}jn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),jn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),jn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),jn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),jn.VERSION_INFO_POLY=7973,jn.TYPE_INFO_POLY=1335,jn.TYPE_INFO_MASK_PATTERN=21522;class Vo{constructor(s,p){this.dataBytes=s,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class di{constructor(){}static calculateMaskPenalty(s){return Li.applyMaskPenaltyRule1(s)+Li.applyMaskPenaltyRule2(s)+Li.applyMaskPenaltyRule3(s)+Li.applyMaskPenaltyRule4(s)}static encode(s,p,w=null){let A=di.DEFAULT_BYTE_MODE_ENCODING;const D=w!==null&&w.get(Ji.CHARACTER_SET)!==void 0;D&&(A=w.get(Ji.CHARACTER_SET).toString());const L=this.chooseMode(s,A),b=new W;if(L===nn.BYTE&&(D||di.DEFAULT_BYTE_MODE_ENCODING!==A)){const ot=Se.getCharacterSetECIByName(A);ot!==void 0&&this.appendECI(ot,b)}this.appendModeInfo(L,b);const T=new W;this.appendBytes(s,L,T,A);let B;if(w!==null&&w.get(Ji.QR_VERSION)!==void 0){const ot=Number.parseInt(w.get(Ji.QR_VERSION).toString(),10);B=Gn.getVersionForNumber(ot);const Je=this.calculateBitsNeeded(L,b,T,B);if(!this.willFit(Je,B,p))throw new Di("Data too big for requested version")}else B=this.recommendVersion(p,L,b,T);const j=new W;j.appendBitArray(b);const K=L===nn.BYTE?T.getSizeInBytes():s.length;this.appendLengthInfo(K,B,L,j),j.appendBitArray(T);const ee=B.getECBlocksForLevel(p),he=B.getTotalCodewords()-ee.getTotalECCodewords();this.terminateBits(he,j);const Te=this.interleaveWithECBytes(j,B.getTotalCodewords(),he,ee.getNumBlocks()),Oe=new gl;Oe.setECLevel(p),Oe.setMode(L),Oe.setVersion(B);const Be=B.getDimensionForVersion(),Xe=new dl(Be,Be),Ke=this.chooseMaskPattern(Te,p,B,Xe);return Oe.setMaskPattern(Ke),jn.buildMatrix(Te,p,B,Ke,Xe),Oe.setMatrix(Xe),Oe}static recommendVersion(s,p,w,A){const D=this.calculateBitsNeeded(p,w,A,Gn.getVersionForNumber(1)),L=this.chooseVersion(D,s),b=this.calculateBitsNeeded(p,w,A,L);return this.chooseVersion(b,s)}static calculateBitsNeeded(s,p,w,A){return p.getSize()+s.getCharacterCountBits(A)+w.getSize()}static getAlphanumericCode(s){return s<di.ALPHANUMERIC_TABLE.length?di.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,p=null){if(Se.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(s))return nn.KANJI;let w=!1,A=!1;for(let D=0,L=s.length;D<L;++D){const b=s.charAt(D);if(di.isDigit(b))w=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)A=!0;else return nn.BYTE}return A?nn.ALPHANUMERIC:w?nn.NUMERIC:nn.BYTE}static isOnlyDoubleByteKanji(s){let p;try{p=Ue.encode(s,Se.SJIS)}catch{return!1}const w=p.length;if(w%2!==0)return!1;for(let A=0;A<w;A+=2){const D=p[A]&255;if((D<129||D>159)&&(D<224||D>235))return!1}return!0}static chooseMaskPattern(s,p,w,A){let D=Number.MAX_SAFE_INTEGER,L=-1;for(let b=0;b<gl.NUM_MASK_PATTERNS;b++){jn.buildMatrix(s,p,w,b,A);let T=this.calculateMaskPenalty(A);T<D&&(D=T,L=b)}return L}static chooseVersion(s,p){for(let w=1;w<=40;w++){const A=Gn.getVersionForNumber(w);if(di.willFit(s,A,p))return A}throw new Di("Data too big")}static willFit(s,p,w){const A=p.getTotalCodewords(),L=p.getECBlocksForLevel(w).getTotalECCodewords(),b=A-L,T=(s+7)/8;return b>=T}static terminateBits(s,p){const w=s*8;if(p.getSize()>w)throw new Di("data bits cannot fit in the QR Code"+p.getSize()+" > "+w);for(let L=0;L<4&&p.getSize()<w;++L)p.appendBit(!1);const A=p.getSize()&7;if(A>0)for(let L=A;L<8;L++)p.appendBit(!1);const D=s-p.getSizeInBytes();for(let L=0;L<D;++L)p.appendBits((L&1)===0?236:17,8);if(p.getSize()!==w)throw new Di("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,p,w,A,D,L){if(A>=w)throw new Di("Block ID too large");const b=s%w,T=w-b,B=Math.floor(s/w),j=B+1,K=Math.floor(p/w),ee=K+1,he=B-K,Te=j-ee;if(he!==Te)throw new Di("EC bytes mismatch");if(w!==T+b)throw new Di("RS blocks mismatch");if(s!==(K+he)*T+(ee+Te)*b)throw new Di("Total bytes mismatch");A<T?(D[0]=K,L[0]=he):(D[0]=ee,L[0]=Te)}static interleaveWithECBytes(s,p,w,A){if(s.getSizeInBytes()!==w)throw new Di("Number of bits and data bytes does not match");let D=0,L=0,b=0;const T=new Array;for(let j=0;j<A;++j){const K=new Int32Array(1),ee=new Int32Array(1);di.getNumDataBytesAndNumECBytesForBlockID(p,w,A,j,K,ee);const he=K[0],Te=new Uint8Array(he);s.toBytes(8*D,Te,0,he);const Oe=di.generateECBytes(Te,ee[0]);T.push(new Vo(Te,Oe)),L=Math.max(L,he),b=Math.max(b,Oe.length),D+=K[0]}if(w!==D)throw new Di("Data bytes does not match offset");const B=new W;for(let j=0;j<L;++j)for(const K of T){const ee=K.getDataBytes();j<ee.length&&B.appendBits(ee[j],8)}for(let j=0;j<b;++j)for(const K of T){const ee=K.getErrorCorrectionBytes();j<ee.length&&B.appendBits(ee[j],8)}if(p!==B.getSizeInBytes())throw new Di("Interleaving error: "+p+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(s,p){const w=s.length,A=new Int32Array(w+p);for(let L=0;L<w;L++)A[L]=s[L]&255;new Fs(st.QR_CODE_FIELD_256).encode(A,p);const D=new Uint8Array(p);for(let L=0;L<p;L++)D[L]=A[w+L];return D}static appendModeInfo(s,p){p.appendBits(s.getBits(),4)}static appendLengthInfo(s,p,w,A){const D=w.getCharacterCountBits(p);if(s>=1<<D)throw new Di(s+" is bigger than "+((1<<D)-1));A.appendBits(s,D)}static appendBytes(s,p,w,A){switch(p){case nn.NUMERIC:di.appendNumericBytes(s,w);break;case nn.ALPHANUMERIC:di.appendAlphanumericBytes(s,w);break;case nn.BYTE:di.append8BitBytes(s,w,A);break;case nn.KANJI:di.appendKanjiBytes(s,w);break;default:throw new Di("Invalid mode: "+p)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const p=di.getDigit(s);return p>=0&&p<=9}static appendNumericBytes(s,p){const w=s.length;let A=0;for(;A<w;){const D=di.getDigit(s.charAt(A));if(A+2<w){const L=di.getDigit(s.charAt(A+1)),b=di.getDigit(s.charAt(A+2));p.appendBits(D*100+L*10+b,10),A+=3}else if(A+1<w){const L=di.getDigit(s.charAt(A+1));p.appendBits(D*10+L,7),A+=2}else p.appendBits(D,4),A++}}static appendAlphanumericBytes(s,p){const w=s.length;let A=0;for(;A<w;){const D=di.getAlphanumericCode(s.charCodeAt(A));if(D===-1)throw new Di;if(A+1<w){const L=di.getAlphanumericCode(s.charCodeAt(A+1));if(L===-1)throw new Di;p.appendBits(D*45+L,11),A+=2}else p.appendBits(D,6),A++}}static append8BitBytes(s,p,w){let A;try{A=Ue.encode(s,w)}catch(D){throw new Di(D)}for(let D=0,L=A.length;D!==L;D++){const b=A[D];p.appendBits(b,8)}}static appendKanjiBytes(s,p){let w;try{w=Ue.encode(s,Se.SJIS)}catch(D){throw new Di(D)}const A=w.length;for(let D=0;D<A;D+=2){const L=w[D]&255,b=w[D+1]&255,T=L<<8&4294967295|b;let B=-1;if(T>=33088&&T<=40956?B=T-33088:T>=57408&&T<=60351&&(B=T-49472),B===-1)throw new Di("Invalid byte sequence");const j=(B>>8)*192+(B&255);p.appendBits(j,13)}}static appendECI(s,p){p.appendBits(nn.ECI.getBits(),4),p.appendBits(s.getValue(),8)}}di.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),di.DEFAULT_BYTE_MODE_ENCODING=Se.UTF8.getName();class fs{write(s,p,w,A=null){if(s.length===0)throw new f("Found empty contents");if(p<0||w<0)throw new f("Requested dimensions are too small: "+p+"x"+w);let D=Ir.L,L=fs.QUIET_ZONE_SIZE;A!==null&&(A.get(Ji.ERROR_CORRECTION)!==void 0&&(D=Ir.fromString(A.get(Ji.ERROR_CORRECTION).toString())),A.get(Ji.MARGIN)!==void 0&&(L=Number.parseInt(A.get(Ji.MARGIN).toString(),10)));const b=di.encode(s,D,A);return this.renderResult(b,p,w,L)}writeToDom(s,p,w,A,D=null){typeof s=="string"&&(s=document.querySelector(s));const L=this.write(p,w,A,D);s&&s.appendChild(L)}renderResult(s,p,w,A){const D=s.getMatrix();if(D===null)throw new St;const L=D.getWidth(),b=D.getHeight(),T=L+A*2,B=b+A*2,j=Math.max(p,T),K=Math.max(w,B),ee=Math.min(Math.floor(j/T),Math.floor(K/B)),he=Math.floor((j-L*ee)/2),Te=Math.floor((K-b*ee)/2),Oe=this.createSVGElement(j,K);for(let Be=0,Xe=Te;Be<b;Be++,Xe+=ee)for(let Ke=0,ot=he;Ke<L;Ke++,ot+=ee)if(D.get(Ke,Be)===1){const Je=this.createSvgRectElement(ot,Xe,ee,ee);Oe.appendChild(Je)}return Oe}createSVGElement(s,p){const w=document.createElementNS(fs.SVG_NS,"svg");return w.setAttributeNS(null,"height",s.toString()),w.setAttributeNS(null,"width",p.toString()),w}createSvgRectElement(s,p,w,A){const D=document.createElementNS(fs.SVG_NS,"rect");return D.setAttributeNS(null,"x",s.toString()),D.setAttributeNS(null,"y",p.toString()),D.setAttributeNS(null,"height",w.toString()),D.setAttributeNS(null,"width",A.toString()),D.setAttributeNS(null,"fill","#000000"),D}}fs.QUIET_ZONE_SIZE=4,fs.SVG_NS="http://www.w3.org/2000/svg";class qs{encode(s,p,w,A,D){if(s.length===0)throw new f("Found empty contents");if(p!==Ne.QR_CODE)throw new f("Can only encode QR_CODE, but got "+p);if(w<0||A<0)throw new f(`Requested dimensions are too small: ${w}x${A}`);let L=Ir.L,b=qs.QUIET_ZONE_SIZE;D!==null&&(D.get(Ji.ERROR_CORRECTION)!==void 0&&(L=Ir.fromString(D.get(Ji.ERROR_CORRECTION).toString())),D.get(Ji.MARGIN)!==void 0&&(b=Number.parseInt(D.get(Ji.MARGIN).toString(),10)));const T=di.encode(s,L,D);return qs.renderResult(T,w,A,b)}static renderResult(s,p,w,A){const D=s.getMatrix();if(D===null)throw new St;const L=D.getWidth(),b=D.getHeight(),T=L+A*2,B=b+A*2,j=Math.max(p,T),K=Math.max(w,B),ee=Math.min(Math.floor(j/T),Math.floor(K/B)),he=Math.floor((j-L*ee)/2),Te=Math.floor((K-b*ee)/2),Oe=new ct(j,K);for(let Be=0,Xe=Te;Be<b;Be++,Xe+=ee)for(let Ke=0,ot=he;Ke<L;Ke++,ot+=ee)D.get(Ke,Be)===1&&Oe.setRegion(ot,Xe,ee,ee);return Oe}}qs.QUIET_ZONE_SIZE=4;class Po{encode(s,p,w,A,D){let L;if(p===Ne.QR_CODE)L=new qs;else throw new f("No encoder available for format "+p);return L.encode(s,p,w,A,D)}}class oi extends ft{constructor(s,p,w,A,D,L,b,T){if(super(L,b),this.yuvData=s,this.dataWidth=p,this.dataHeight=w,this.left=A,this.top=D,A+L>p||D+b>w)throw new f("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(L,b)}getRow(s,p){if(s<0||s>=this.getHeight())throw new f("Requested row is outside the image: "+s);const w=this.getWidth();(p==null||p.length<w)&&(p=new Uint8ClampedArray(w));const A=(s+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,A,p,0,w),p}getMatrix(){const s=this.getWidth(),p=this.getHeight();if(s===this.dataWidth&&p===this.dataHeight)return this.yuvData;const w=s*p,A=new Uint8ClampedArray(w);let D=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return k.arraycopy(this.yuvData,D,A,0,w),A;for(let L=0;L<p;L++){const b=L*s;k.arraycopy(this.yuvData,D,A,b,s),D+=this.dataWidth}return A}isCropSupported(){return!0}crop(s,p,w,A){return new oi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+p,w,A,!1)}renderThumbnail(){const s=this.getWidth()/oi.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/oi.THUMBNAIL_SCALE_FACTOR,w=new Int32Array(s*p),A=this.yuvData;let D=this.top*this.dataWidth+this.left;for(let L=0;L<p;L++){const b=L*s;for(let T=0;T<s;T++){const B=A[D+T*oi.THUMBNAIL_SCALE_FACTOR]&255;w[b+T]=4278190080|B*65793}D+=this.dataWidth*oi.THUMBNAIL_SCALE_FACTOR}return w}getThumbnailWidth(){return this.getWidth()/oi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/oi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,p){const w=this.yuvData;for(let A=0,D=this.top*this.dataWidth+this.left;A<p;A++,D+=this.dataWidth){const L=D+s/2;for(let b=D,T=D+s-1;b<L;b++,T--){const B=w[b];w[b]=w[T],w[T]=B}}}invert(){return new Me(this)}}oi.THUMBNAIL_SCALE_FACTOR=2;class pl extends ft{constructor(s,p,w,A,D,L,b){if(super(p,w),this.dataWidth=A,this.dataHeight=D,this.left=L,this.top=b,s.BYTES_PER_ELEMENT===4){const T=p*w,B=new Uint8ClampedArray(T);for(let j=0;j<T;j++){const K=s[j],ee=K>>16&255,he=K>>7&510,Te=K&255;B[j]=(ee+he+Te)/4&255}this.luminances=B}else this.luminances=s;if(A===void 0&&(this.dataWidth=p),D===void 0&&(this.dataHeight=w),L===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+w>this.dataHeight)throw new f("Crop rectangle does not fit within image data.")}getRow(s,p){if(s<0||s>=this.getHeight())throw new f("Requested row is outside the image: "+s);const w=this.getWidth();(p==null||p.length<w)&&(p=new Uint8ClampedArray(w));const A=(s+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,A,p,0,w),p}getMatrix(){const s=this.getWidth(),p=this.getHeight();if(s===this.dataWidth&&p===this.dataHeight)return this.luminances;const w=s*p,A=new Uint8ClampedArray(w);let D=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return k.arraycopy(this.luminances,D,A,0,w),A;for(let L=0;L<p;L++){const b=L*s;k.arraycopy(this.luminances,D,A,b,s),D+=this.dataWidth}return A}isCropSupported(){return!0}crop(s,p,w,A){return new pl(this.luminances,w,A,this.dataWidth,this.dataHeight,this.left+s,this.top+p)}invert(){return new Me(this)}}class Ps extends Se{static forName(s){return this.getCharacterSetECIByName(s)}}class $i{}$i.ISO_8859_1=Se.ISO8859_1;class zo{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Bi{static singletonList(s){return[s]}static min(s,p){return s.sort(p)[0]}}class Ko{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Zo extends Ko{constructor(s,p,w){super(s),this.value=p,this.bitCount=w}appendTo(s,p){s.appendBits(this.value,this.bitCount)}add(s,p){return new Zo(this,s,p)}addBinaryShift(s,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zo(this,s,p)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+U.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Qs extends Zo{constructor(s,p,w){super(s,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=w}appendTo(s,p){for(let w=0;w<this.binaryShiftByteCount;w++)(w===0||w===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):w===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(p[this.binaryShiftStart+w],8)}addBinaryShift(s,p){return new Qs(this,s,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function bu(_e,s,p){return new Qs(_e,s,p)}function ml(_e,s,p){return new Zo(_e,s,p)}const Js=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qo=0,Ml=1,Fi=2,So=3,Za=4,hs=new Zo(null,0,0),Ms=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Qo(_e){for(let s of _e)N.fill(s,-1);return _e[qo][Za]=0,_e[Ml][Za]=0,_e[Ml][qo]=28,_e[So][Za]=0,_e[Fi][Za]=0,_e[Fi][qo]=15,_e}const Ho=Qo(N.createInt32Array(6,6));class za{constructor(s,p,w,A){this.token=s,this.mode=p,this.binaryShiftByteCount=w,this.bitCount=A}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,p){let w=this.bitCount,A=this.token;if(s!==this.mode){let L=Ms[this.mode][s];A=ml(A,L&65535,L>>16),w+=L>>16}let D=s===Fi?4:5;return A=ml(A,p,D),new za(A,s,0,w+D)}shiftAndAppend(s,p){let w=this.token,A=this.mode===Fi?4:5;return w=ml(w,Ho[this.mode][s],A),w=ml(w,p,5),new za(w,this.mode,0,this.bitCount+A+5)}addBinaryShiftChar(s){let p=this.token,w=this.mode,A=this.bitCount;if(this.mode===Za||this.mode===Fi){let b=Ms[w][qo];p=ml(p,b&65535,b>>16),A+=b>>16,w=qo}let D=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,L=new za(p,w,this.binaryShiftByteCount+1,A+D);return L.binaryShiftByteCount===2078&&(L=L.endBinaryShift(s+1)),L}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=bu(p,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new za(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let p=this.bitCount+(Ms[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?p+=za.calculateBinaryShiftCost(s)-za.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(p+=10),p<=s.bitCount}toBitArray(s){let p=[];for(let A=this.endBinaryShift(s.length).token;A!==null;A=A.getPrevious())p.unshift(A);let w=new W;for(const A of p)A.appendTo(w,s);return w}toString(){return Ze.format("%s bits=%d bytes=%d",Js[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}za.INITIAL_STATE=new za(hs,qo,0,0);function ji(_e){const s=Ze.getCharCode(" "),p=Ze.getCharCode("."),w=Ze.getCharCode(",");_e[qo][s]=1;const A=Ze.getCharCode("Z"),D=Ze.getCharCode("A");for(let ee=D;ee<=A;ee++)_e[qo][ee]=ee-D+2;_e[Ml][s]=1;const L=Ze.getCharCode("z"),b=Ze.getCharCode("a");for(let ee=b;ee<=L;ee++)_e[Ml][ee]=ee-b+2;_e[Fi][s]=1;const T=Ze.getCharCode("9"),B=Ze.getCharCode("0");for(let ee=B;ee<=T;ee++)_e[Fi][ee]=ee-B+2;_e[Fi][w]=12,_e[Fi][p]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ee=0;ee<j.length;ee++)_e[So][Ze.getCharCode(j[ee])]=ee;const K=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ee=0;ee<K.length;ee++)Ze.getCharCode(K[ee])>0&&(_e[Za][Ze.getCharCode(K[ee])]=ee);return _e}const ea=ji(N.createInt32Array(5,256));class go{constructor(s){this.text=s}encode(){const s=Ze.getCharCode(" "),p=Ze.getCharCode(`
`);let w=Bi.singletonList(za.INITIAL_STATE);for(let D=0;D<this.text.length;D++){let L,b=D+1<this.text.length?this.text[D+1]:0;switch(this.text[D]){case Ze.getCharCode("\r"):L=b===p?2:0;break;case Ze.getCharCode("."):L=b===s?3:0;break;case Ze.getCharCode(","):L=b===s?4:0;break;case Ze.getCharCode(":"):L=b===s?5:0;break;default:L=0}L>0?(w=go.updateStateListForPair(w,D,L),D++):w=this.updateStateListForChar(w,D)}return Bi.min(w,(D,L)=>D.getBitCount()-L.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,p){const w=[];for(let A of s)this.updateStateForChar(A,p,w);return go.simplifyStates(w)}updateStateForChar(s,p,w){let A=this.text[p]&255,D=ea[s.getMode()][A]>0,L=null;for(let b=0;b<=Za;b++){let T=ea[b][A];if(T>0){if(L==null&&(L=s.endBinaryShift(p)),!D||b===s.getMode()||b===Fi){const B=L.latchAndAppend(b,T);w.push(B)}if(!D&&Ho[s.getMode()][b]>=0){const B=L.shiftAndAppend(b,T);w.push(B)}}}if(s.getBinaryShiftByteCount()>0||ea[s.getMode()][A]===0){let b=s.addBinaryShiftChar(p);w.push(b)}}static updateStateListForPair(s,p,w){const A=[];for(let D of s)this.updateStateForPair(D,p,w,A);return this.simplifyStates(A)}static updateStateForPair(s,p,w,A){let D=s.endBinaryShift(p);if(A.push(D.latchAndAppend(Za,w)),s.getMode()!==Za&&A.push(D.shiftAndAppend(Za,w)),w===3||w===4){let L=D.latchAndAppend(Fi,16-w).latchAndAppend(Fi,1);A.push(L)}if(s.getBinaryShiftByteCount()>0){let L=s.addBinaryShiftChar(p).addBinaryShiftChar(p+1);A.push(L)}}static simplifyStates(s){let p=[];for(const w of s){let A=!0;for(const D of p){if(D.isBetterThanOrEqualTo(w)){A=!1;break}w.isBetterThanOrEqualTo(D)&&(p=p.filter(L=>L!==D))}A&&p.push(w)}return p}}class Er{constructor(){}static encodeBytes(s){return Er.encode(s,Er.DEFAULT_EC_PERCENT,Er.DEFAULT_AZTEC_LAYERS)}static encode(s,p,w){let A=new go(s).encode(),D=U.truncDivision(A.getSize()*p,100)+11,L=A.getSize()+D,b,T,B,j,K;if(w!==Er.DEFAULT_AZTEC_LAYERS){if(b=w<0,T=Math.abs(w),T>(b?Er.MAX_NB_BITS_COMPACT:Er.MAX_NB_BITS))throw new f(Ze.format("Illegal value %s for layers",w));B=Er.totalBitsInLayer(T,b),j=Er.WORD_SIZE[T];let Je=B-B%j;if(K=Er.stuffBits(A,j),K.getSize()+D>Je)throw new f("Data to large for user specified layer");if(b&&K.getSize()>j*64)throw new f("Data to large for user specified layer")}else{j=0,K=null;for(let Je=0;;Je++){if(Je>Er.MAX_NB_BITS)throw new f("Data too large for an Aztec code");if(b=Je<=3,T=b?Je+1:Je,B=Er.totalBitsInLayer(T,b),L>B)continue;(K==null||j!==Er.WORD_SIZE[T])&&(j=Er.WORD_SIZE[T],K=Er.stuffBits(A,j));let Ct=B-B%j;if(!(b&&K.getSize()>j*64)&&K.getSize()+D<=Ct)break}}let ee=Er.generateCheckWords(K,B,j),he=K.getSize()/j,Te=Er.generateModeMessage(b,T,he),Oe=(b?11:14)+T*4,Be=new Int32Array(Oe),Xe;if(b){Xe=Oe;for(let Je=0;Je<Be.length;Je++)Be[Je]=Je}else{Xe=Oe+1+2*U.truncDivision(U.truncDivision(Oe,2)-1,15);let Je=U.truncDivision(Oe,2),Ct=U.truncDivision(Xe,2);for(let R=0;R<Je;R++){let P=R+U.truncDivision(R,15);Be[Je-R-1]=Ct-P-1,Be[Je+R]=Ct+P+1}}let Ke=new ct(Xe);for(let Je=0,Ct=0;Je<T;Je++){let R=(T-Je)*4+(b?9:12);for(let P=0;P<R;P++){let Y=P*2;for(let $=0;$<2;$++)ee.get(Ct+Y+$)&&Ke.set(Be[Je*2+$],Be[Je*2+P]),ee.get(Ct+R*2+Y+$)&&Ke.set(Be[Je*2+P],Be[Oe-1-Je*2-$]),ee.get(Ct+R*4+Y+$)&&Ke.set(Be[Oe-1-Je*2-$],Be[Oe-1-Je*2-P]),ee.get(Ct+R*6+Y+$)&&Ke.set(Be[Oe-1-Je*2-P],Be[Je*2+$])}Ct+=R*8}if(Er.drawModeMessage(Ke,b,Xe,Te),b)Er.drawBullsEye(Ke,U.truncDivision(Xe,2),5);else{Er.drawBullsEye(Ke,U.truncDivision(Xe,2),7);for(let Je=0,Ct=0;Je<U.truncDivision(Oe,2)-1;Je+=15,Ct+=16)for(let R=U.truncDivision(Xe,2)&1;R<Xe;R+=2)Ke.set(U.truncDivision(Xe,2)-Ct,R),Ke.set(U.truncDivision(Xe,2)+Ct,R),Ke.set(R,U.truncDivision(Xe,2)-Ct),Ke.set(R,U.truncDivision(Xe,2)+Ct)}let ot=new zo;return ot.setCompact(b),ot.setSize(Xe),ot.setLayers(T),ot.setCodeWords(he),ot.setMatrix(Ke),ot}static drawBullsEye(s,p,w){for(let A=0;A<w;A+=2)for(let D=p-A;D<=p+A;D++)s.set(D,p-A),s.set(D,p+A),s.set(p-A,D),s.set(p+A,D);s.set(p-w,p-w),s.set(p-w+1,p-w),s.set(p-w,p-w+1),s.set(p+w,p-w),s.set(p+w,p-w+1),s.set(p+w,p+w-1)}static generateModeMessage(s,p,w){let A=new W;return s?(A.appendBits(p-1,2),A.appendBits(w-1,6),A=Er.generateCheckWords(A,28,4)):(A.appendBits(p-1,5),A.appendBits(w-1,11),A=Er.generateCheckWords(A,40,4)),A}static drawModeMessage(s,p,w,A){let D=U.truncDivision(w,2);if(p)for(let L=0;L<7;L++){let b=D-3+L;A.get(L)&&s.set(b,D-5),A.get(L+7)&&s.set(D+5,b),A.get(20-L)&&s.set(b,D+5),A.get(27-L)&&s.set(D-5,b)}else for(let L=0;L<10;L++){let b=D-5+L+U.truncDivision(L,5);A.get(L)&&s.set(b,D-7),A.get(L+10)&&s.set(D+7,b),A.get(29-L)&&s.set(b,D+7),A.get(39-L)&&s.set(D-7,b)}}static generateCheckWords(s,p,w){let A=s.getSize()/w,D=new Fs(Er.getGF(w)),L=U.truncDivision(p,w),b=Er.bitsToWords(s,w,L);D.encode(b,L-A);let T=p%w,B=new W;B.appendBits(0,T);for(const j of Array.from(b))B.appendBits(j,w);return B}static bitsToWords(s,p,w){let A=new Int32Array(w),D,L;for(D=0,L=s.getSize()/p;D<L;D++){let b=0;for(let T=0;T<p;T++)b|=s.get(D*p+T)?1<<p-T-1:0;A[D]=b}return A}static getGF(s){switch(s){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new f("Unsupported word size "+s)}}static stuffBits(s,p){let w=new W,A=s.getSize(),D=(1<<p)-2;for(let L=0;L<A;L+=p){let b=0;for(let T=0;T<p;T++)(L+T>=A||s.get(L+T))&&(b|=1<<p-1-T);(b&D)===D?(w.appendBits(b&D,p),L--):(b&D)===0?(w.appendBits(b|1,p),L--):w.appendBits(b,p)}return w}static totalBitsInLayer(s,p){return((p?88:112)+16*s)*s}}Er.DEFAULT_EC_PERCENT=33,Er.DEFAULT_AZTEC_LAYERS=0,Er.MAX_NB_BITS=32,Er.MAX_NB_BITS_COMPACT=4,Er.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $s{encode(s,p,w,A){return this.encodeWithHints(s,p,w,A,null)}encodeWithHints(s,p,w,A,D){let L=$i.ISO_8859_1,b=Er.DEFAULT_EC_PERCENT,T=Er.DEFAULT_AZTEC_LAYERS;return D!=null&&(D.has(Ji.CHARACTER_SET)&&(L=Ps.forName(D.get(Ji.CHARACTER_SET).toString())),D.has(Ji.ERROR_CORRECTION)&&(b=U.parseInt(D.get(Ji.ERROR_CORRECTION).toString())),D.has(Ji.AZTEC_LAYERS)&&(T=U.parseInt(D.get(Ji.AZTEC_LAYERS).toString()))),$s.encodeLayers(s,p,w,A,L,b,T)}static encodeLayers(s,p,w,A,D,L,b){if(p!==Ne.AZTEC)throw new f("Can only encode AZTEC, but got "+p);let T=Er.encode(Ze.getBytes(s,D),L,b);return $s.renderResult(T,w,A)}static renderResult(s,p,w){let A=s.getMatrix();if(A==null)throw new St;let D=A.getWidth(),L=A.getHeight(),b=Math.max(p,D),T=Math.max(w,L),B=Math.min(b/D,T/L),j=(b-D*B)/2,K=(T-L*B)/2,ee=new ct(b,T);for(let he=0,Te=K;he<L;he++,Te+=B)for(let Oe=0,Be=j;Oe<D;Oe++,Be+=B)A.get(Oe,he)&&ee.setRegion(Be,Te,B,B);return ee}}n.AbstractExpandedDecoder=Pr,n.ArgumentException=v,n.ArithmeticException=Ft,n.AztecCode=zo,n.AztecCodeReader=we,n.AztecCodeWriter=$s,n.AztecDecoder=Ut,n.AztecDetector=re,n.AztecDetectorResult=Bn,n.AztecEncoder=Er,n.AztecHighLevelEncoder=go,n.AztecPoint=qe,n.BarcodeFormat=Ne,n.Binarizer=C,n.BinaryBitmap=g,n.BitArray=W,n.BitMatrix=ct,n.BitSource=cn,n.BrowserAztecCodeReader=Ve,n.BrowserBarcodeReader=Bo,n.BrowserCodeReader=V,n.BrowserDatamatrixCodeReader=pr,n.BrowserMultiFormatReader=Wl,n.BrowserPDF417Reader=ru,n.BrowserQRCodeReader=Zs,n.BrowserQRCodeSvgWriter=fs,n.CharacterSetECI=Se,n.ChecksumException=m,n.Code128Reader=We,n.Code39Reader=Et,n.DataMatrixDecodedBitStreamParser=qi,n.DataMatrixReader=_a,n.DecodeHintType=J,n.DecoderResult=et,n.DefaultGridSampler=be,n.DetectorResult=qt,n.EAN13Reader=Cn,n.EncodeHintType=Ji,n.Exception=c,n.FormatException=ne,n.GenericGF=st,n.GenericGFPoly=_t,n.GlobalHistogramBinarizer=ye,n.GridSampler=dt,n.GridSamplerInstance=Ee,n.HTMLCanvasElementLuminanceSource=ce,n.HybridBinarizer=Re,n.ITFReader=Ye,n.IllegalArgumentException=f,n.IllegalStateException=St,n.InvertedLuminanceSource=Me,n.LuminanceSource=ft,n.MathUtils=Vt,n.MultiFormatOneDReader=Zi,n.MultiFormatReader=xu,n.MultiFormatWriter=Po,n.NotFoundException=ge,n.OneDReader=it,n.PDF417DecodedBitStreamParser=Jt,n.PDF417DecoderErrorCorrection=wo,n.PDF417Reader=Ka,n.PDF417ResultMetadata=Ts,n.PerspectiveTransform=Pe,n.PlanarYUVLuminanceSource=oi,n.QRCodeByteMatrix=dl,n.QRCodeDataMask=ma,n.QRCodeDecodedBitStreamParser=xn,n.QRCodeDecoderErrorCorrectionLevel=Ir,n.QRCodeDecoderFormatInformation=Ti,n.QRCodeEncoder=di,n.QRCodeEncoderQRCode=gl,n.QRCodeMaskUtil=Li,n.QRCodeMatrixUtil=jn,n.QRCodeMode=nn,n.QRCodeReader=Dr,n.QRCodeVersion=Gn,n.QRCodeWriter=qs,n.RGBLuminanceSource=pl,n.RSS14Reader=mn,n.RSSExpandedReader=hn,n.ReaderException=cs,n.ReedSolomonDecoder=Kt,n.ReedSolomonEncoder=Fs,n.ReedSolomonException=At,n.Result=me,n.ResultMetadataType=xt,n.ResultPoint=Xt,n.StringUtils=Ze,n.UnsupportedOperationException=Fe,n.VideoInputDevice=le,n.WhiteRectangleDetector=gt,n.WriterException=Di,n.ZXingArrays=N,n.ZXingCharset=Ps,n.ZXingInteger=U,n.ZXingStandardCharsets=$i,n.ZXingStringBuilder=mt,n.ZXingStringEncoding=Ue,n.ZXingSystem=k,n.createAbstractExpandedDecoder=co,Object.defineProperty(n,"__esModule",{value:!0})}))})(D1,D1.exports)),D1.exports}var Lo=nM();const rM=P0(Lo),iM=qT({__proto__:null,default:rM},[Lo]);var k3=(function(){function e(t,n,r){if(this.formatMap=new Map([[ir.QR_CODE,Lo.BarcodeFormat.QR_CODE],[ir.AZTEC,Lo.BarcodeFormat.AZTEC],[ir.CODABAR,Lo.BarcodeFormat.CODABAR],[ir.CODE_39,Lo.BarcodeFormat.CODE_39],[ir.CODE_93,Lo.BarcodeFormat.CODE_93],[ir.CODE_128,Lo.BarcodeFormat.CODE_128],[ir.DATA_MATRIX,Lo.BarcodeFormat.DATA_MATRIX],[ir.MAXICODE,Lo.BarcodeFormat.MAXICODE],[ir.ITF,Lo.BarcodeFormat.ITF],[ir.EAN_13,Lo.BarcodeFormat.EAN_13],[ir.EAN_8,Lo.BarcodeFormat.EAN_8],[ir.PDF_417,Lo.BarcodeFormat.PDF_417],[ir.RSS_14,Lo.BarcodeFormat.RSS_14],[ir.RSS_EXPANDED,Lo.BarcodeFormat.RSS_EXPANDED],[ir.UPC_A,Lo.BarcodeFormat.UPC_A],[ir.UPC_E,Lo.BarcodeFormat.UPC_E],[ir.UPC_EAN_EXTENSION,Lo.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!iM)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),u=new Map;u.set(Lo.DecodeHintType.POSSIBLE_FORMATS,o),u.set(Lo.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(u){o(u)}})},e.prototype.decode=function(t){var n=new Lo.MultiFormatReader(this.verbose,this.hints),r=new Lo.HTMLCanvasElementLuminanceSource(t),o=new Lo.BinaryBitmap(new Lo.HybridBinarizer(r)),u=n.decode(o);return{text:u.text,format:t8.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var u=o[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),aM=function(e,t,n,r){function o(u){return u instanceof n?u:new n(function(y){y(u)})}return new(n||(n=Promise))(function(u,y){function d(v){try{c(r.next(v))}catch(f){y(f)}}function a(v){try{c(r.throw(v))}catch(f){y(f)}}function c(v){v.done?u(v.value):o(v.value).then(d,a)}c((r=r.apply(e,t||[])).next())})},oM=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(c){return function(v){return a([c,v])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){n.label=c[1];break}if(c[0]===6&&n.label<u[1]){n.label=u[1],u=c;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(c);break}u[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(v){c=[6,v],o=0}finally{r=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},D3=(function(){function e(t,n,r){if(this.formatMap=new Map([[ir.QR_CODE,"qr_code"],[ir.AZTEC,"aztec"],[ir.CODABAR,"codabar"],[ir.CODE_39,"code_39"],[ir.CODE_93,"code_93"],[ir.CODE_128,"code_128"],[ir.DATA_MATRIX,"data_matrix"],[ir.ITF,"itf"],[ir.EAN_13,"ean_13"],[ir.EAN_8,"ean_8"],[ir.PDF_417,"pdf417"],[ir.UPC_A,"upc_a"],[ir.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return aM(this,void 0,void 0,function(){var n,r;return oM(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:t8.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,u=t;o<u.length;o++){var y=u[o],d=y.boundingBox.width*y.boundingBox.height;d>r&&(r=d,n=y)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var u=o[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),_3=function(e,t,n,r){function o(u){return u instanceof n?u:new n(function(y){y(u)})}return new(n||(n=Promise))(function(u,y){function d(v){try{c(r.next(v))}catch(f){y(f)}}function a(v){try{c(r.throw(v))}catch(f){y(f)}}function c(v){v.done?u(v.value):o(v.value).then(d,a)}c((r=r.apply(e,t||[])).next())})},M3=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(c){return function(v){return a([c,v])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){n.label=c[1];break}if(c[0]===6&&n.label<u[1]){n.label=u[1],u=c;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(c);break}u[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(v){c=[6,v],o=0}finally{r=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},sM=(function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&D3.isSupported()?(this.primaryDecoder=new D3(t,r,o),this.secondaryDecoder=new k3(t,r,o)):this.primaryDecoder=new k3(t,r,o)}return e.prototype.decodeAsync=function(t){return _3(this,void 0,void 0,function(){var n;return M3(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return _3(this,void 0,void 0,function(){var n,r;return M3(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),lx=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Fp=function(e,t,n,r){function o(u){return u instanceof n?u:new n(function(y){y(u)})}return new(n||(n=Promise))(function(u,y){function d(v){try{c(r.next(v))}catch(f){y(f)}}function a(v){try{c(r.throw(v))}catch(f){y(f)}}function c(v){v.done?u(v.value):o(v.value).then(d,a)}c((r=r.apply(e,t||[])).next())})},Pp=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(c){return function(v){return a([c,v])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){n.label=c[1];break}if(c[0]===6&&n.label<u[1]){n.label=u[1],u=c;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(c);break}u[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(v){c=[6,v],o=0}finally{r=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},a8=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),lM=(function(e){lx(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(a8),uM=(function(e){lx(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(lM),cM=(function(e){lx(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(a8),fM=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new uM(this.track)},e.prototype.torchFeature=function(){return new cM(this.track)},e})(),hM=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return Fp(this,void 0,void 0,function(){var u,y;return Pp(this,function(d){switch(d.label){case 0:return u=new e(t,n,o),r.aspectRatio?(y={aspectRatio:r.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:d.sent(),d.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Fp(this,void 0,void 0,function(){return Pp(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),u=o.length,y=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++y,y>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new fM(this.getFirstTrackOrFail())},e})(),dM=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Fp(this,void 0,void 0,function(){return Pp(this,function(o){return[2,hM.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Fp(this,void 0,void 0,function(){var n,r;return Pp(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e})(),O3=function(e,t,n,r){function o(u){return u instanceof n?u:new n(function(y){y(u)})}return new(n||(n=Promise))(function(u,y){function d(v){try{c(r.next(v))}catch(f){y(f)}}function a(v){try{c(r.throw(v))}catch(f){y(f)}}function c(v){v.done?u(v.value):o(v.value).then(d,a)}c((r=r.apply(e,t||[])).next())})},I3=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(c){return function(v){return a([c,v])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){n.label=c[1];break}if(c[0]===6&&n.label<u[1]){n.label=u[1],u=c;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(c);break}u[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(v){c=[6,v],o=0}finally{r=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},gM=(function(){function e(){}return e.failIfNotSupported=function(){return O3(this,void 0,void 0,function(){return I3(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return O3(this,void 0,void 0,function(){return I3(this,function(n){return[2,dM.create(t)]})})},e})(),pM=function(e,t,n,r){function o(u){return u instanceof n?u:new n(function(y){y(u)})}return new(n||(n=Promise))(function(u,y){function d(v){try{c(r.next(v))}catch(f){y(f)}}function a(v){try{c(r.throw(v))}catch(f){y(f)}}function c(v){v.done?u(v.value):o(v.value).then(d,a)}c((r=r.apply(e,t||[])).next())})},mM=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(c){return function(v){return a([c,v])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){n.label=c[1];break}if(c[0]===6&&n.label<u[1]){n.label=u[1],u=c;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(c);break}u[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(v){c=[6,v],o=0}finally{r=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},vM=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=xd.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=xd.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return pM(this,void 0,void 0,function(){var t,n,r,o,u,y,d;return mM(this,function(a){switch(a.label){case 0:return t=function(c){for(var v=c.getVideoTracks(),f=0,g=v;f<g.length;f++){var m=g[f];m.enabled=!1,m.stop(),c.removeTrack(m)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=a.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=a.sent(),o=[],u=0,y=r;u<y.length;u++)d=y[u],d.kind==="videoinput"&&o.push({id:d.deviceId,label:d.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(u){for(var y=[],d=0,a=u;d<a.length;d++){var c=a[d];c.kind==="video"&&y.push({id:c.id,label:c.label})}t(y)},o=MediaStreamTrack;o.getSources(r)})},e})(),Es;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Es||(Es={}));var yM=(function(){function e(){this.state=Es.NOT_STARTED,this.onGoingTransactionNewState=Es.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Es.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Es.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Es.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Es.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Es.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Es.UNKNOWN:throw"Transition from unknown is not allowed";case Es.NOT_STARTED:this.failIfNewStateIs(t,[Es.PAUSED]);break;case Es.SCANNING:break;case Es.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var u=o[r];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),xM=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Es.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Es.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Es.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Es.PAUSED},e})(),bM=(function(){function e(){}return e.create=function(){return new xM(new yM)},e})(),wM=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),sc=(function(e){wM(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(rf),CM=(function(){function e(t,n){this.logger=n,this.fps=sc.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=sc.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?i8.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!If(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),R3=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new r8(this.verbose),this.qrcode=new sM(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=bM.create()}return e.prototype.start=function(t,n,r,o){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;o?y=o:y=this.verbose?this.logger.log:function(){};var d=CM.create(n,this.logger);this.clearElement();var a=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?a=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=a,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:sc.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var f=this,g=this.stateManagerProxy.startTransition(Es.SCANNING);return new Promise(function(m,C){var k=c?d.videoConstraints:f.createVideoConstraints(t);if(!k){g.cancel(),C("videoConstraints should be defined");return}var S={};(!c||d.aspectRatio)&&(S.aspectRatio=d.aspectRatio);var O={onRenderSurfaceReady:function(N,U){f.setupUi(N,U,d),f.isScanning=!0,f.foreverScan(d,r,y)}};gM.failIfNotSupported().then(function(N){N.create(k).then(function(U){return U.render(u.element,S,O).then(function(W){f.renderedCamera=W,g.execute(),m(null)}).catch(function(W){g.cancel(),C(W)})}).catch(function(U){g.cancel(),C(xd.errorGettingUserMedia(U))})}).catch(function(N){g.cancel(),C(xd.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Es.PAUSED),this.showPausedState(),(If(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Es.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Es.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var u=document.getElementById(sc.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(If(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,u){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var y=new Image;y.onload=function(){var d=y.width,a=y.height,c=document.getElementById(r.elementId),v=c.clientWidth?c.clientWidth:sc.DEFAULT_WIDTH,f=Math.max(c.clientHeight?c.clientHeight:a,sc.FILE_SCAN_MIN_HEIGHT),g=r.computeCanvasDrawConfig(d,a,v,f);if(n){var m=r.createCanvasElement(v,f,"qr-canvas-visible");m.style.display="inline-block",c.appendChild(m);var C=m.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=v,C.canvas.height=f,C.drawImage(y,0,0,d,a,g.x,g.y,g.width,g.height)}var k=sc.FILE_SCAN_HIDDEN_CANVAS_PADDING,S=Math.max(y.width,g.width),O=Math.max(y.height,g.height),N=S+2*k,U=O+2*k,W=r.createCanvasElement(N,U);c.appendChild(W);var q=W.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=N,q.canvas.height=U,q.drawImage(y,0,0,d,a,k,k,S,O);try{r.qrcode.decodeRobustlyAsync(W).then(function(J){o(E3.createFromQrcodeResult(J))}).catch(u)}catch(J){u("QR code parse error, error = ".concat(J))}},y.onerror=u,y.onabort=u,y.onstalled=u,y.onsuspend=u,y.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return vM.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!i8.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ir.QR_CODE,ir.AZTEC,ir.CODABAR,ir.CODE_39,ir.CODE_93,ir.CODE_128,ir.DATA_MATRIX,ir.MAXICODE,ir.ITF,ir.EAN_13,ir.EAN_8,ir.PDF_417,ir.RSS_14,ir.RSS_EXPANDED,ir.UPC_A,ir.UPC_E,ir.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,u=t.formatsToSupport;o<u.length;o++){var y=u[o];$_(y)?r.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(If(t))return!0;if(!If(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(If(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return If(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,u=r.qrbox;this.validateQrboxConfig(u);var y=this.toQrdimensions(t,n,u),d=function(c){if(c<sc.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(sc.MIN_QR_BOX_SIZE,"px.")},a=function(c){return c>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),c=t),c};d(y.width),d(y.height),y.width=a(y.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=If(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var u=this.toQrdimensions(t,n,o);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=r.isShadedBoxEnabled()&&u.height<=n,d={x:0,y:0,width:t,height:n},a=y?this.getShadedRegionBounds(t,n,u):d,c=this.createCanvasElement(a.width,a.height),v={willReadFrequently:!0},f=c.getContext("2d",v);f.canvas.width=a.width,f.canvas.height=a.height,this.element.append(c),y&&this.possiblyInsertShadingElement(this.element,t,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=a,this.context=f,this.canvasElement=c},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=xd.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,E3.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var u=xd.codeParseError(o);return n(u,n8.createFrom(u)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),y=u.videoWidth/u.clientWidth,d=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var a=this.qrRegion.width*y,c=this.qrRegion.height*d,v=this.qrRegion.x*y,f=this.qrRegion.y*d;this.context.drawImage(u,v,f,a,c,0,0,this.qrRegion.width,this.qrRegion.height);var g=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(m){!m&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){g()})):g()}).catch(function(m){o.logger.logError("Error happend while scanning context",m),g()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},u="exact",y=function(C){if(C in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var a=Object.keys(t)[0];if(a!==n&&a!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(a===n){var c=t.facingMode;if(typeof c=="string"){if(y(c))return{facingMode:c}}else if(typeof c=="object")if(u in c){if(y(c["".concat(u)]))return{facingMode:{exact:c["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var v=typeof c;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var f=t.deviceId;if(typeof f=="string")return{deviceId:f};if(typeof f=="object"){if(u in f)return{deviceId:{exact:f["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var g=typeof f;throw"Invalid type of 'deviceId' = ".concat(g)}}}var m=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(m)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var u=(r-t)/2,y=(o-n)/2;return{x:u,y,width:t,height:n}}else{var d=t,a=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(a)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?sc.BORDER_SHADER_MATCH_COLOR:sc.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,u=n,y=document.createElement("canvas");return y.style.width="".concat(o,"px"),y.style.height="".concat(u,"px"),y.style.display="none",y.id=If(r)?"qr-canvas":r,y},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var u=document.createElement("div");u.style.position="absolute";var y=(n-o.width)/2,d=(r-o.height)/2;if(u.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(sc.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var a=5,c=40;this.insertShaderBorders(u,c,a,-a,null,0,!0),this.insertShaderBorders(u,c,a,-a,null,0,!1),this.insertShaderBorders(u,c,a,null,-a,0,!0),this.insertShaderBorders(u,c,a,null,-a,0,!1),this.insertShaderBorders(u,a,c+a,-a,null,-a,!0),this.insertShaderBorders(u,a,c+a,null,-a,-a,!0),this.insertShaderBorders(u,a,c+a,-a,null,-a,!1),this.insertShaderBorders(u,a,c+a,null,-a,-a,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,n,r,o,u,y,d){var a=document.createElement("div");a.style.position="absolute",a.style.backgroundColor=sc.BORDER_SHADER_DEFAULT_COLOR,a.style.width="".concat(n,"px"),a.style.height="".concat(r,"px"),o!==null&&(a.style.top="".concat(o,"px")),u!==null&&(a.style.bottom="".concat(u,"px")),d?a.style.left="".concat(y,"px"):a.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(a),t.appendChild(a)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),ux="data:image/svg+xml;base64,",SM=ux+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",EM=ux+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",N3=ux+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",AM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",L3=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),TM=(function(){function e(){this.data=L3.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=L3.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),kM=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=A3.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(o);var u=document.createElement("a");u.innerText=A3.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),DM=(function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=N3,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=AM,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=N3,this.infoIcon.style.opacity="0.6")},e})(),_M=(function(){function e(){var t=this;this.infoDiv=new kM,this.infoIcon=new DM(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),MM=function(e,t,n,r){function o(u){return u instanceof n?u:new n(function(y){y(u)})}return new(n||(n=Promise))(function(u,y){function d(v){try{c(r.next(v))}catch(f){y(f)}}function a(v){try{c(r.throw(v))}catch(f){y(f)}}function c(v){v.done?u(v.value):o(v.value).then(d,a)}c((r=r.apply(e,t||[])).next())})},OM=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(c){return function(v){return a([c,v])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){n.label=c[1];break}if(c[0]===6&&n.label<u[1]){n.label=u[1],u=c;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(c);break}u[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(v){c=[6,v],o=0}finally{r=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},B3=(function(){function e(){}return e.hasPermissions=function(){return MM(this,void 0,void 0,function(){var t,n,r,o;return OM(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=u.sent(),n=0,r=t;n<r.length;n++)if(o=r[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},e})(),Hh=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Jh.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Jh.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return rf.DEFAULT_SUPPORTED_SCAN_TYPE;var n=rf.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,o=t;r<o.length;r++){var u=o[r];if(!rf.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return t},e})(),cc=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),uh=(function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(cc.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),o8=function(e,t,n,r){function o(u){return u instanceof n?u:new n(function(y){y(u)})}return new(n||(n=Promise))(function(u,y){function d(v){try{c(r.next(v))}catch(f){y(f)}}function a(v){try{c(r.throw(v))}catch(f){y(f)}}function c(v){v.done?u(v.value):o(v.value).then(d,a)}c((r=r.apply(e,t||[])).next())})},s8=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,o,u,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(c){return function(v){return a([c,v])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){n.label=c[1];break}if(c[0]===6&&n.label<u[1]){n.label=u[1],u=c;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(c);break}u[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(v){c=[6,v],o=0}finally{r=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},F3=(function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return o8(this,void 0,void 0,function(){var t,n;return s8(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Va.torchOffButton():Va.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Va.torchOnFailedMessage():Va.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),IM=(function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=uh.createElement("button",cc.TORCH_BUTTON_ID),this.torchController=new F3(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Va.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(u){return o8(r,void 0,void 0,function(){return s8(this,function(y){switch(y.label){case 0:return[4,o.torchController.flipState()];case 1:return y.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(cc.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(cc.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(cc.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(cc.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new F3(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Va.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,o){var u=new e(n,o);return u.render(t,r),u},e})(),RM=(function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=uh.createElement("button",cc.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=uh.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var a=d.target;if(!(a.files&&a.files.length===0)){var c=a.files,v=c[0],f=v.name;u.setImageNameToButton(f),r(v)}}});var y=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(y),this.fileBasedScanRegion.addEventListener("dragenter",function(d){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var a=d.dataTransfer;if(a){var c=a.files;if(!c||c.length===0)return;for(var v=!1,f=0;f<c.length;++f){var g=c.item(f);if(g){var m=/image.*/;if(g.type.match(m)){v=!0;var C=g.name;u.setImageNameToButton(C),r(g),y.innerText=Va.dragAndDropMessage();break}}}v||(y.innerText=Va.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Va.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),o=t.length,u=t.substring(o-8,o);t="".concat(r,"....").concat(u)}var y=Va.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=y},e.prototype.setInitialValueToButton=function(){var t=Va.fileSelectionChooseImage()+" - "+Va.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var o=new e(t,n,r);return o},e})(),NM=(function(){function e(t){this.selectElement=uh.createElement("select",cc.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var o=Va.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var u=1,y=0,d=this.cameras;y<d.length;y++){var a=d[y],c=a.id,v=a.label==null?c:a.label;(!v||v==="")&&(v=[Va.anonymousCameraPrefix(),u++].join(" "));var f=document.createElement("option");f.value=c,f.innerText=v,this.options.push(f),this.selectElement.appendChild(f)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var o=r[n];if(o.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e})(),LM=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=uh.createElement("input",cc.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Va.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Va.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,o){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e})(),lc;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(lc||(lc={}));function BM(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function FM(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var PM=(function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Hh(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new r8(this.verbose),this.persistedDataManager=new TM,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,y){if(t)t(u,y);else{if(r.lastMatchFound===u)return;r.lastMatchFound=u,r.setHeaderMessage(Va.lastMatch(u),lc.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,y){n&&n(u,y)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new R3(this.getScanRegionId(),FM(this.config,this.verbose))},e.prototype.pause=function(t){(If(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,o){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(u){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(u){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",u),o(u)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=rf.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!rf.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=rf.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=rf.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:rf.SCAN_DEFAULT_FPS,rememberLastUsedCamera:rf.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:rf.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Hh.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),u=this.getDashboardId();o.id=u,o.style.width="100%",t.appendChild(o),this.setupInitialDashboard(o)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new _M;r.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(Va.cameraPermissionRequesting());var u=function(){r||o.createPermissionButton(t,n)};R3.getCameras().then(function(y){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),y&&y.length>0?(t.removeChild(n),o.renderCameraSelection(y)):(o.setHeaderMessage(Va.noCameraFound(),lc.STATUS_WARNING),u())}).catch(function(y){o.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:u(),o.setHeaderMessage(y,lc.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,o=uh.createElement("button",this.getCameraPermissionButtonId());o.innerText=Va.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,r.createCameraListUi(t,n,o)}),n.appendChild(o)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Hh.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){B3.hasPermissions().then(function(o){o?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(o){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Hh.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var o=document.createElement("div");o.style.textAlign="center",r.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,o),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Hh.isFileScanType(this.currentScanType),r=this,o=function(u){if(!r.html5Qrcode)throw"html5Qrcode not defined";Hh.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Va.loadingImage()),r.html5Qrcode.scanFileV2(u,!0).then(function(y){r.resetHeaderMessage(),r.qrCodeSuccessCallback(y.decodedText,y)}).catch(function(y){r.setHeaderMessage(y,lc.STATUS_WARNING),r.qrCodeErrorCallback(y,n8.createFrom(y))}))};this.fileSelectionUi=RM.create(t,n,o)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var u=LM.create(o,!1),y=function(k){var S=k.zoomFeature();if(S.isSupported()){u.setOnCameraZoomValueChangeCallback(function(N){S.apply(N)});var O=1;n.config.defaultZoomValueIfSupported&&(O=n.config.defaultZoomValueIfSupported),O=eM(O,S.min(),S.max()),u.setValues(S.min(),S.max(),O,S.step()),u.show()}},d=NM.create(o,t),a=document.createElement("span"),c=uh.createElement("button",cc.CAMERA_START_BUTTON_ID);c.innerText=Va.scanButtonStartScanningText(),a.appendChild(c);var v=uh.createElement("button",cc.CAMERA_STOP_BUTTON_ID);v.innerText=Va.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,a.appendChild(v);var f,g=function(k){if(!k.torchFeature().isSupported()){f&&f.hide();return}f?f.updateTorchCapability(k.torchFeature()):f=IM.create(a,k.torchFeature(),{display:"none",marginLeft:"5px"},function(S){r.setHeaderMessage(S,lc.STATUS_WARNING)}),f.show()};o.appendChild(a);var m=function(k){k||(c.style.display="none"),c.innerText=Va.scanButtonStartScanningText(),c.style.opacity="1",c.disabled=!1,k&&(c.style.display="inline-block")};if(c.addEventListener("click",function(k){c.innerText=Va.scanButtonScanningStarting(),d.disable(),c.disabled=!0,c.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var S=d.getValue();r.persistedDataManager.setLastUsedCameraId(S),r.html5Qrcode.start(S,BM(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(O){v.disabled=!1,v.style.display="inline-block",m(!1);var N=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&g(N),n.config.showZoomSliderIfSupported===!0&&y(N)}).catch(function(O){r.showHideScanTypeSwapLink(!0),d.enable(),m(!0),r.setHeaderMessage(O,lc.STATUS_WARNING)})}),d.hasSingleItem()&&c.click(),v.addEventListener("click",function(k){if(!r.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,r.html5Qrcode.stop().then(function(S){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),c.disabled=!1,v.style.display="none",c.style.display="inline-block",f&&(f.reset(),f.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(S){v.disabled=!1,r.setHeaderMessage(S,lc.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var C=r.persistedDataManager.getLastUsedCameraId();d.hasValue(C)?(d.setValue(C),c.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Va.textIfCameraScanSelected(),r=Va.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var y=uh.createElement("span",this.getDashboardSectionSwapLinkId());y.style.textDecoration="underline",y.style.cursor="pointer",y.innerText=Hh.isCameraScanType(this.currentScanType)?n:r,y.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Hh.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),y.innerText=r,t.currentScanType=Jh.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),y.innerText=n,t.currentScanType=Jh.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),u.appendChild(y),o.appendChild(u)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){B3.hasPermissions().then(function(r){if(r){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=lc.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case lc.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case lc.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case lc.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=SM,this.cameraScanImage.alt=Va.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=EM,this.fileScanImage.alt=Va.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return cc.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return cc.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const P3=()=>Math.random().toString(36).substring(2,8).toUpperCase(),zM=sn.div`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
`,HM=sn.div`
    background-color: ${({theme:e})=>e.colors.background};
    border: 1px solid ${({theme:e})=>e.colors.border};
    border-radius: 20px;
    width: 440px;
    max-width: 95%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    color: ${({theme:e})=>e.colors.text};
    overflow: hidden;
`,UM=sn.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: ${({theme:e})=>e.mode==="dark"?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.02)"};
    border-bottom: 1px solid ${({theme:e})=>e.colors.border};

        h2 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
            color: ${({theme:e})=>e.colors.primary};
            
            svg:last-child {
                font-size: 0.9rem;
                opacity: 0.6;
            }
        }
`,jM=sn.div`
    display: flex;
    background: ${({theme:e})=>e.colors.surface};
    margin: 16px 24px;
    padding: 4px;
    border-radius: 12px;
    gap: 4px;
`,z3=sn.button`
    flex: 1;
    padding: 10px;
    background: ${e=>e.$active?e.theme.colors.background:"transparent"};
    border: none;
    border-radius: 8px;
    color: ${e=>e.$active?e.theme.colors.primary:e.theme.colors.textSecondary};
    font-weight: ${e=>e.$active?"600":"500"};
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 0.95rem;
    box-shadow: ${e=>e.$active?"0 2px 8px rgba(0,0,0,0.1)":"none"};

    &:hover {
        color: ${e=>e.$active?e.theme.colors.primary:e.theme.colors.text};
    }
    
    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,WM=sn.div`
    padding: 8px 24px 24px;
    overflow-y: auto;
    flex: 1;

    @media (max-width: 480px) {
        padding: 8px 16px 20px;
    }
`,GM=sn.div`
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 0 auto;

    @media (max-width: 600px) {
        max-width: 310px;
    }
`,YM=sn.button`
    background: none;
    border: none;
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    border-radius: 50%;
    transition: all 0.2s;
    
    &:hover {
        background-color: ${({theme:e})=>e.colors.surface};
        color: ${({theme:e})=>e.colors.text};
    }
`,H3=sn.label`
    display: block;
    margin-bottom: 8px;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.85rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    width: 100%;
`,U3=sn.div`
    display: flex;
    gap: 8px;
    margin-bottom: 20px;
    width: 100%;
`,j3=sn.input`
    flex: 1;
    min-width: 0;
    padding: 12px 16px;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.text};
    font-size: 1rem;
    font-family: inherit;
    transition: all 0.2s;

    &:focus {
        outline: none;
        border-color: ${({theme:e})=>e.colors.primary};
        background-color: ${({theme:e})=>e.colors.background};
    }
    
    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
`,Bv=sn.button`
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;

    &:hover:not(:disabled) {
        border-color: ${({theme:e})=>e.colors.textSecondary};
        color: ${({theme:e})=>e.colors.text};
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,Fv=sn.button`
    padding: 14px 24px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: ${e=>e.$fullWidth?"100%":"auto"};
    
    background-color: ${e=>e.$variant==="secondary"?e.theme.colors.surface:e.$variant==="danger"?e.theme.colors.danger:e.theme.colors.primary};
    
    color: ${e=>e.$variant==="secondary"?e.theme.colors.text:"#ffffff"};

    &:hover:not(:disabled) {
        filter: brightness(1.1);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    &:active:not(:disabled) {
        transform: translateY(0);
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,Pv=sn.div`
    background: ${({theme:e})=>e.colors.surface};
    border: 1px solid ${({theme:e})=>e.colors.primary}40;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 16px;
    animation: fadeIn 0.3s ease;

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .icon-box {
        width: 44px;
        height: 44px;
        border-radius: 12px;
        background: ${({theme:e})=>e.colors.primary}15;
        color: ${({theme:e})=>e.colors.primary};
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        flex-shrink: 0;
    }
    
    .content {
        flex: 1;
        min-width: 0;
        
        h4 {
            margin: 0 0 4px 0;
            font-size: 0.9rem;
            color: ${({theme:e})=>e.colors.primary};
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        p {
            margin: 0;
            font-size: 0.95rem;
            color: ${({theme:e})=>e.colors.text};
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .sub {
            font-size: 0.8rem;
            color: ${({theme:e})=>e.colors.textSecondary};
            margin-top: 2px;
        }
    }
`,XM=sn.div`
    width: 100%;
    margin-top: 20px;
`,VM=sn.div`
    height: 6px;
    background: ${({theme:e})=>e.colors.border};
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 12px;
    position: relative;

    &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: ${e=>e.$percent}%;
        background: ${({theme:e})=>e.colors.primary};
        transition: width 0.3s ease;
    }
`,KM=sn.div`
    padding: 16px;
    border-radius: 12px;
    background-color: ${({theme:e})=>e.colors.surface};
    text-align: center;
    font-weight: 500;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 0.95rem;
    width: 100%;
    word-break: break-word;
    
    color: ${({theme:e})=>e.colors.text};
    border: 1px solid ${({theme:e})=>e.colors.border};

    .icon-area {
        font-size: 1.5rem;
        margin-bottom: 4px;
        color: ${e=>e.$status==="error"?e.theme.colors.danger:e.$status==="completed"?e.theme.colors.success:e.$status==="ready"||e.$status==="connected"?e.theme.colors.primary:e.$status==="connecting"?"#f59e0b":e.theme.colors.textSecondary};
    }
`,ZM=sn.div`
    background: white;
    padding: 24px;
    border-radius: 16px;
    margin: 20px auto;
    width: fit-content;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
`,qM=sn.div`
    width: 100%;
    aspect-ratio: 1;
    max-width: 320px;
    margin: 0 auto 24px;
    overflow: hidden;
    border-radius: 16px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background: #000;
    position: relative;

    #reader {
        width: 100% !important;
        border: none !important;
    }

    #reader__scan_region {
        background: #000 !important;
    }

    #reader__dashboard_section_csr button {
        background-color: ${({theme:e})=>e.colors.primary} !important;
        color: white !important;
        border: none !important;
        padding: 8px 16px !important;
        border-radius: 8px !important;
        cursor: pointer !important;
        margin: 10px !important;
        font-weight: 600 !important;
    }
`,QM=sn.div`
    display: flex;
    align-items: center;
    text-align: center;
    margin: 24px 0;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.8rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    width: 100%;

    &::before, &::after {
        content: '';
        flex: 1;
        border-bottom: 1px solid ${({theme:e})=>e.colors.border};
    }

    &::before {
        margin-right: 16px;
    }

    &::after {
        margin-left: 16px;
    }
`,JM=({isOpen:e,onClose:t})=>{const[n,r]=Ie.useState("host"),[o,u]=Ie.useState(""),[y,d]=Ie.useState(""),[a,c]=Ie.useState("disconnected"),[v,f]=Ie.useState(""),[g,m]=Ie.useState(!1),[C,k]=Ie.useState(!1),[S,O]=Ie.useState(null),[N,U]=Ie.useState(0),W=Ie.useRef(null),q=Ie.useRef(null),J=gS(),{t:ne,language:ve}=cf();Ie.useEffect(()=>{e&&(o||u(P3()))},[e]),Ie.useEffect(()=>{if(g&&!W.current){const ye=new PM("reader",{fps:10,qrbox:{width:250,height:250}},!1);ye.render(Re=>{d(Re),mt(Re)},()=>{}),W.current=ye}return()=>{!g&&W.current&&(W.current.clear().catch(ye=>console.error("Scanner clear error",ye)),W.current=null)}},[g]);const Se=()=>{W.current&&(W.current.clear().catch(console.error),W.current=null),q.current&&(q.current.destroy(),q.current=null),c("disconnected"),f(""),O(null),U(0),m(!1),t()},Fe=(ye,Re)=>{c(ye),Re&&f(Re),ye==="connecting"?U(15):ye==="connected"?U(30):ye==="syncing"?Re?.toLowerCase().includes("preparing")?U(10):Re?.toLowerCase().includes("encrypting")?U(25):Re?.toLowerCase().includes("sending")||Re?.toLowerCase().includes("uploading")?U(45):Re?.toLowerCase().includes("downloading")?U(60):Re?.toLowerCase().includes("decrypting")?U(75):Re?.toLowerCase().includes("merging")?U(90):Re?.toLowerCase().includes("back")?U(95):U(50):ye==="completed"?U(100):(ye==="error"||ye==="disconnected"||ye==="ready")&&U(0)},Ue=()=>(q.current||(q.current=new HS({onStatusChange:Fe,onDataReceived:()=>{c("completed"),f(ne.sync.data_synced_reload),U(100),setTimeout(()=>{window.location.reload()},3e3)},onSyncInfo:ye=>O(ye)})),q.current),Ze=async ye=>{const Re=ye||o;if(Re.trim())try{await Ue().initialize(Re)}catch(ft){console.error(ft)}},mt=async ye=>{const Re=ye||y;if(!(!Re.trim()||a==="connecting"||a==="connected"||a==="syncing")){g&&(m(!1),W.current&&(W.current.clear().catch(console.error),W.current=null));try{await Ue().connect(Re)}catch(ft){console.error("Connect error:",ft),c("error"),f(`Connection failed: ${ft.message||"Unknown error"} `)}}},ct=()=>{navigator.clipboard.writeText(o),k(!0),setTimeout(()=>k(!1),2e3)},ge=()=>{if(a==="syncing"||a==="connected")return;q.current&&(q.current.destroy(),q.current=null);const ye=P3();u(ye),c("disconnected"),f(""),O(null),U(0),n==="host"&&Ze(ye)};return e?te.jsx(zM,{onClick:Se,children:te.jsxs(HM,{onClick:ye=>ye.stopPropagation(),children:[te.jsxs(UM,{children:[te.jsxs("h2",{children:[te.jsx($2,{})," ",ne.sync.title," ",te.jsx(US,{style:{fontSize:"0.9rem",opacity:.6},title:"End-to-End Encrypted"})]}),te.jsx(YM,{onClick:Se,children:te.jsx(ey,{})})]}),te.jsxs(jM,{children:[te.jsx(z3,{$active:n==="host",onClick:()=>r("host"),disabled:a==="syncing"||a==="connected"&&n==="join",children:ne.sync.host_session}),te.jsx(z3,{$active:n==="join",onClick:()=>r("join"),disabled:a==="syncing"||a==="connected"&&n==="host",children:ne.sync.join_session})]}),te.jsx(WM,{children:te.jsxs(GM,{children:[n==="host"?te.jsxs(te.Fragment,{children:[S&&te.jsxs(Pv,{children:[te.jsx("div",{className:"icon-box",children:S.type==="thread"?te.jsx(Lv,{}):S.type==="full"?te.jsx(Rv,{}):te.jsx(Nv,{})}),te.jsxs("div",{className:"content",children:[te.jsx("h4",{children:S.type==="thread"?"Sharing Thread":S.type==="full"?"Full Backup":"Sharing Memo"}),te.jsx("p",{children:S.label}),te.jsxs("div",{className:"sub",children:[S.count," items"]})]})]}),te.jsx(H3,{children:ne.sync.your_room_id}),te.jsxs(U3,{children:[te.jsx(j3,{value:o,onChange:ye=>u(ye.target.value),disabled:a==="connected"||a==="connecting"||a==="syncing",placeholder:ne.sync.enter_custom_id}),te.jsx(Bv,{onClick:ct,title:C?ne.sync.copied:ne.sync.copy_id,children:C?te.jsx(Iv,{style:{color:J.colors.success}}):te.jsx(WS,{})}),te.jsx(Bv,{onClick:ge,disabled:a==="syncing"||a==="connected",title:ne.sync.regenerate_id,children:te.jsx(jS,{})})]}),te.jsx(Fv,{$fullWidth:!0,onClick:()=>Ze(),disabled:a==="syncing"||a==="connected"||a==="connecting",children:a==="connecting"?ne.sync.connecting:a==="ready"?ne.sync.restart_hosting:ne.sync.start_host}),te.jsx(ZM,{children:te.jsx(sx,{value:Lp(o),size:180,level:"H"})}),te.jsx("p",{style:{fontSize:"0.85rem",color:J.colors.textSecondary,textAlign:"center",marginTop:-8},children:a==="connected"||a==="syncing"?ne.sync.connected_to_peer:ne.sync.scan_hint})]}):te.jsx(te.Fragment,{children:g?te.jsxs(te.Fragment,{children:[te.jsx(qM,{children:te.jsx("div",{id:"reader"})}),S&&te.jsxs(Pv,{children:[te.jsx("div",{className:"icon-box",children:S.type==="thread"?te.jsx(Lv,{}):S.type==="full"?te.jsx(Rv,{}):te.jsx(Nv,{})}),te.jsxs("div",{className:"content",children:[te.jsx("h4",{children:S.type==="thread"?"Received Thread":S.type==="full"?"Receiving Backup":"Received Memo"}),te.jsx("p",{children:S.label}),te.jsxs("div",{className:"sub",children:[S.count," items"]})]})]}),te.jsxs(Fv,{$fullWidth:!0,$variant:"secondary",onClick:()=>m(!1),children:[te.jsx(W_,{})," ",ne.sync.stop_scanning]})]}):te.jsxs(te.Fragment,{children:[te.jsxs(Fv,{$fullWidth:!0,onClick:()=>m(!0),disabled:a==="connected",style:{marginBottom:12,marginTop:8},children:[te.jsx(U_,{})," ",ne.sync.scan_qr]}),te.jsx(QM,{children:ne.sync.or}),S&&te.jsxs(Pv,{children:[te.jsx("div",{className:"icon-box",children:S.type==="thread"?te.jsx(Lv,{}):S.type==="full"?te.jsx(Rv,{}):te.jsx(Nv,{})}),te.jsxs("div",{className:"content",children:[te.jsx("h4",{children:S.type==="thread"?"Received Thread":S.type==="full"?"Receiving Backup":"Received Memo"}),te.jsx("p",{children:S.label}),te.jsxs("div",{className:"sub",children:[S.count," items"]})]})]}),te.jsx(H3,{children:ne.sync.manual_entry}),te.jsxs(U3,{children:[te.jsx(j3,{placeholder:ne.sync.enter_room_id,value:y,onChange:ye=>d(ye.target.value),disabled:a==="connected"}),te.jsx(Bv,{onClick:()=>mt(),disabled:!y||a==="connected"||a==="syncing",title:ne.sync.connect,children:a==="connected"?te.jsx(Iv,{style:{color:J.colors.success}}):te.jsx(x3,{})})]})]})}),(v||a!=="disconnected")&&te.jsxs(XM,{children:[N>0&&te.jsx(VM,{$percent:N}),te.jsxs(KM,{$status:a,children:[te.jsx("div",{className:"icon-area",children:a==="connecting"||a==="syncing"?te.jsx($2,{className:"fa-spin"}):a==="completed"?te.jsx(Iv,{}):a==="error"?te.jsx(ey,{}):a==="connected"?te.jsx(x3,{}):null}),te.jsx("div",{children:v||(a==="ready"?ne.sync.ready_to_share:a==="connected"?ne.sync.connected:"")})]})]}),te.jsxs("div",{style:{marginTop:"24px",padding:"14px",borderRadius:"12px",background:J.mode==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.03)",border:`1px solid ${J.colors.border} `,fontSize:"0.8rem",color:J.colors.textSecondary,display:"flex",alignItems:"flex-start",gap:"12px",lineHeight:"1.5"},children:[te.jsx(j_,{style:{fontSize:"1.2rem",color:J.colors.primary,marginTop:"2px",flexShrink:0}}),te.jsx("span",{children:ve==="ko"?"     (AES-256)   .       .":"Data is end-to-end encrypted locally (AES-256) before sync. The relay server cannot access your content."})]})]})})]})}):null},$M=mS`
  0% { opacity: 0; transform: translate(-50%, 30px) scale(0.9); }
  10% { opacity: 1; transform: translate(-50%, 0) scale(1.05); }
  15% { opacity: 1; transform: translate(-50%, 0) scale(1); }
  85% { opacity: 1; transform: translate(-50%, 0) scale(1); }
  100% { opacity: 0; transform: translate(-50%, -20px) scale(0.9); }
`,eO=mS`
  0% { transform: scale(1); box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 0 0px rgba(245, 158, 11, 0); }
  50% { transform: scale(1.02); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(245, 158, 11, 0.4); }
  100% { transform: scale(1); box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 0 0px rgba(245, 158, 11, 0); }
`,tO=sn.div`
  position: fixed;
  ${({$position:e})=>e==="centered"?"top: 50%; left: 50%; transform: translate(-50%, -50%);":e==="left-centered"?"top: 50%; left: 16px; transform: translateY(-50%);":"bottom: 100px; left: 50%; transform: translateX(-50%);"}
  
  background: ${({$variant:e})=>e==="warning"?"#f59e0b":e==="danger"?"#ef4444":"rgba(0, 0, 0, 0.9)"};
  color: white;
  padding: 6px 14px;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  z-index: 10000;
  pointer-events: none;
  text-align: center;
  white-space: pre-line;
  max-width: 80vw;
  animation: ${$M} 2.5s cubic-bezier(0.4, 0, 0.2, 1) forwards,
             ${({$variant:e})=>e==="warning"?eO:"none"} 1.5s ease-in-out infinite;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  gap: 6px;
`,cx=({message:e,onClose:t,duration:n=2500,variant:r="default",icon:o,position:u="bottom"})=>(Ie.useEffect(()=>{const y=setTimeout(()=>{t()},n);return()=>clearTimeout(y)},[n,t]),te.jsxs(tO,{$variant:r,$position:u,children:[o,e]})),nO=sn(Zy)`
  display: block;
  padding: 0.5rem 0.75rem;
  padding-left: ${({$inThread:e})=>e?"1.5rem":"0.75rem"};
  border-radius: 6px;
  margin-bottom: 0.125rem;
  text-decoration: none;
  background: ${({$isActive:e,theme:t})=>e?t.colors.border:"transparent"};
  color: ${({theme:e})=>e.colors.text};
  position: relative;
  
  /* Connector for child memos */
  ${({$inThread:e,theme:t})=>e&&`
    &::before {
      content: '';
      position: absolute;
      left: 0.75rem;
      top: 0;
      bottom: 0;
      width: 2px;
      background-color: ${t.colors.border};
    }
  `}

  &:hover {
    background: ${({theme:e,$isActive:t})=>t?e.colors.border:e.colors.surface};
    text-decoration: none;
  }
`,rO=sn.div`
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.95rem;
`,iO=sn.div`
  font-size: 0.75rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-top: 0.1rem;
`;sn.div`
    border-left: 2px solid ${({theme:e})=>e.colors.border};
    margin-left: 0.75rem;
    padding-left: 0.5rem;
    margin-bottom: 0.5rem;
`;sn.div`
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.25rem 0.5rem;
    cursor: pointer;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.85rem;
    font-weight: 500;
    
    &:hover {
        color: ${({theme:e})=>e.colors.text};
    }
`;const aO=sn.button`
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.5rem 0.25rem 0.25rem;
    margin-left: 0.5rem;
    margin-top: -0.25rem;
    margin-bottom: 0.25rem;
    background: transparent;
    border: none;
    cursor: pointer;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.8rem;
    border-radius: 4px;
    
    &:hover {
        color: ${({theme:e})=>e.colors.text};
        background: ${({theme:e})=>e.colors.surface};
    }
`;function gu(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oO=typeof Symbol=="function"&&Symbol.observable||"@@observable",W3=oO,G3=()=>Math.random().toString(36).substring(7).split("").join("."),sO={INIT:`@@redux/INIT${G3()}`,REPLACE:`@@redux/REPLACE${G3()}`},Y3=sO;function lO(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function l8(e,t,n){if(typeof e!="function")throw new Error(gu(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gu(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gu(1));return n(l8)(e,t)}let r=e,o=t,u=new Map,y=u,d=0,a=!1;function c(){y===u&&(y=new Map,u.forEach((S,O)=>{y.set(O,S)}))}function v(){if(a)throw new Error(gu(3));return o}function f(S){if(typeof S!="function")throw new Error(gu(4));if(a)throw new Error(gu(5));let O=!0;c();const N=d++;return y.set(N,S),function(){if(O){if(a)throw new Error(gu(6));O=!1,c(),y.delete(N),u=null}}}function g(S){if(!lO(S))throw new Error(gu(7));if(typeof S.type>"u")throw new Error(gu(8));if(typeof S.type!="string")throw new Error(gu(17));if(a)throw new Error(gu(9));try{a=!0,o=r(o,S)}finally{a=!1}return(u=y).forEach(N=>{N()}),S}function m(S){if(typeof S!="function")throw new Error(gu(10));r=S,g({type:Y3.REPLACE})}function C(){const S=f;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(gu(11));function N(){const W=O;W.next&&W.next(v())}return N(),{unsubscribe:S(N)}},[W3](){return this}}}return g({type:Y3.INIT}),{dispatch:g,subscribe:f,getState:v,replaceReducer:m,[W3]:C}}function X3(e,t){return function(...n){return t(e.apply(this,n))}}function V3(e,t){if(typeof e=="function")return X3(e,t);if(typeof e!="object"||e===null)throw new Error(gu(16));const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=X3(o,t))}return n}function u8(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function uO(...e){return t=>(n,r)=>{const o=t(n,r);let u=()=>{throw new Error(gu(15))};const y={getState:o.getState,dispatch:(a,...c)=>u(a,...c)},d=e.map(a=>a(y));return u=u8(...d)(o.dispatch),{...o,dispatch:u}}}var zv={exports:{}},Hv={};var K3;function cO(){if(K3)return Hv;K3=1;var e=Nd();function t(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,u=e.useEffect,y=e.useMemo,d=e.useDebugValue;return Hv.useSyncExternalStoreWithSelector=function(a,c,v,f,g){var m=o(null);if(m.current===null){var C={hasValue:!1,value:null};m.current=C}else C=m.current;m=y(function(){function S(q){if(!O){if(O=!0,N=q,q=f(q),g!==void 0&&C.hasValue){var J=C.value;if(g(J,q))return U=J}return U=q}if(J=U,n(N,q))return J;var ne=f(q);return g!==void 0&&g(J,ne)?(N=q,J):(N=q,U=ne)}var O=!1,N,U,W=v===void 0?null:v;return[function(){return S(c())},W===null?void 0:function(){return S(W())}]},[c,v,f,g]);var k=r(a,m[0],m[1]);return u(function(){C.hasValue=!0,C.value=k},[k]),d(k),k},Hv}var Z3;function fO(){return Z3||(Z3=1,zv.exports=cO()),zv.exports}fO();var hO=Ie.version.startsWith("19"),dO=Symbol.for(hO?"react.transitional.element":"react.element"),gO=Symbol.for("react.portal"),pO=Symbol.for("react.fragment"),mO=Symbol.for("react.strict_mode"),vO=Symbol.for("react.profiler"),yO=Symbol.for("react.consumer"),xO=Symbol.for("react.context"),c8=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),wO=Symbol.for("react.suspense_list"),fx=Symbol.for("react.memo"),CO=Symbol.for("react.lazy"),SO=c8,EO=fx;function AO(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case dO:switch(e=e.type,e){case pO:case vO:case mO:case bO:case wO:return e;default:switch(e=e&&e.$$typeof,e){case xO:case c8:case CO:case fx:return e;case yO:return e;default:return t}}case gO:return t}}}function TO(e){return AO(e)===fx}function kO(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:u,areStatePropsEqual:y}){let d=!1,a,c,v,f,g;function m(N,U){return a=N,c=U,v=e(a,c),f=t(r,c),g=n(v,f,c),d=!0,g}function C(){return v=e(a,c),t.dependsOnOwnProps&&(f=t(r,c)),g=n(v,f,c),g}function k(){return e.dependsOnOwnProps&&(v=e(a,c)),t.dependsOnOwnProps&&(f=t(r,c)),g=n(v,f,c),g}function S(){const N=e(a,c),U=!y(N,v);return v=N,U&&(g=n(v,f,c)),g}function O(N,U){const W=!u(U,c),q=!o(N,a,U,c);return a=N,c=U,W&&q?C():W?k():q?S():g}return function(U,W){return d?O(U,W):m(U,W)}}function DO(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){const u=t(e,o),y=n(e,o),d=r(e,o);return kO(u,y,d,e,o)}function _O(e,t){const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=(...u)=>t(o(...u)))}return n}function iy(e){return function(n){const r=e(n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function q3(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function f8(e,t){return function(r,{displayName:o}){const u=function(d,a){return u.dependsOnOwnProps?u.mapToProps(d,a):u.mapToProps(d,void 0)};return u.dependsOnOwnProps=!0,u.mapToProps=function(d,a){u.mapToProps=e,u.dependsOnOwnProps=q3(e);let c=u(d,a);return typeof c=="function"&&(u.mapToProps=c,u.dependsOnOwnProps=q3(c),c=u(d,a)),c},u}}function hx(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function MO(e){return e&&typeof e=="object"?iy(t=>_O(e,t)):e?typeof e=="function"?f8(e):hx(e,"mapDispatchToProps"):iy(t=>({dispatch:t}))}function OO(e){return e?typeof e=="function"?f8(e):hx(e,"mapStateToProps"):iy(()=>({}))}function IO(e,t,n){return{...n,...e,...t}}function RO(e){return function(n,{displayName:r,areMergedPropsEqual:o}){let u=!1,y;return function(a,c,v){const f=e(a,c,v);return u?o(f,y)||(y=f):(u=!0,y=f),y}}}function NO(e){return e?typeof e=="function"?RO(e):hx(e,"mergeProps"):()=>IO}function LO(e){e()}function BO(){let e=null,t=null;return{clear(){e=null,t=null},notify(){LO(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Q3={notify(){},get:()=>[]};function h8(e,t){let n,r=Q3,o=0,u=!1;function y(k){v();const S=r.subscribe(k);let O=!1;return()=>{O||(O=!0,S(),f())}}function d(){r.notify()}function a(){C.onStateChange&&C.onStateChange()}function c(){return u}function v(){o++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=BO())}function f(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=Q3)}function g(){u||(u=!0,v())}function m(){u&&(u=!1,f())}const C={addNestedSub:y,notifyNestedSubs:d,handleChangeWrapper:a,isSubscribed:c,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>r};return C}var FO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PO=FO(),zO=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HO=zO(),UO=()=>PO||HO?Ie.useLayoutEffect:Ie.useEffect,zp=UO();function J3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Uv(e,t){if(J3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!J3(e[n[o]],t[n[o]]))return!1;return!0}var jO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},GO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YO={[SO]:GO,[EO]:d8};function $3(e){return TO(e)?d8:YO[e.$$typeof]||jO}var XO=Object.defineProperty,VO=Object.getOwnPropertyNames,ew=Object.getOwnPropertySymbols,KO=Object.getOwnPropertyDescriptor,ZO=Object.getPrototypeOf,tw=Object.prototype;function ay(e,t){if(typeof t!="string"){if(tw){const u=ZO(t);u&&u!==tw&&ay(e,u)}let n=VO(t);ew&&(n=n.concat(ew(t)));const r=$3(e),o=$3(t);for(let u=0;u<n.length;++u){const y=n[u];if(!WO[y]&&!(o&&o[y])&&!(r&&r[y])){const d=KO(t,y);try{XO(e,y,d)}catch{}}}}return e}var qO=Symbol.for("react-redux-context"),QO=typeof globalThis<"u"?globalThis:{};function JO(){if(!Ie.createContext)return{};const e=QO[qO]??=new Map;let t=e.get(Ie.createContext);return t||(t=Ie.createContext(null),e.set(Ie.createContext,t)),t}var g8=JO(),$O=[null,null];function eI(e,t,n){zp(()=>e(...t),n)}function tI(e,t,n,r,o,u){e.current=r,n.current=!1,o.current&&(o.current=null,u())}function nI(e,t,n,r,o,u,y,d,a,c,v){if(!e)return()=>{};let f=!1,g=null;const m=()=>{if(f||!d.current)return;const k=t.getState();let S,O;try{S=r(k,o.current)}catch(N){O=N,g=N}O||(g=null),S===u.current?y.current||c():(u.current=S,a.current=S,y.current=!0,v())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function rI(e,t){return e===t}function iI(e,t,n,{pure:r,areStatesEqual:o=rI,areOwnPropsEqual:u=Uv,areStatePropsEqual:y=Uv,areMergedPropsEqual:d=Uv,forwardRef:a=!1,context:c=g8}={}){const v=c,f=OO(e),g=MO(t),m=NO(n),C=!!e;return S=>{const O=S.displayName||S.name||"Component",N=`Connect(${O})`,U={shouldHandleStateChanges:C,displayName:N,wrappedComponentName:O,WrappedComponent:S,initMapStateToProps:f,initMapDispatchToProps:g,initMergeProps:m,areStatesEqual:o,areStatePropsEqual:y,areOwnPropsEqual:u,areMergedPropsEqual:d};function W(ne){const[ve,Se,Fe]=Ie.useMemo(()=>{const{reactReduxForwardedRef:Ft,...st}=ne;return[ne.context,Ft,st]},[ne]),Ue=Ie.useMemo(()=>{let Ft=v;return ve?.Consumer,Ft},[ve,v]),Ze=Ie.useContext(Ue),mt=!!ne.store&&!!ne.store.getState&&!!ne.store.dispatch,ct=!!Ze&&!!Ze.store,ge=mt?ne.store:Ze.store,ye=ct?Ze.getServerState:ge.getState,Re=Ie.useMemo(()=>DO(ge.dispatch,U),[ge]),[ft,Me]=Ie.useMemo(()=>{if(!C)return $O;const Ft=h8(ge,mt?void 0:Ze.subscription),st=Ft.notifyNestedSubs.bind(Ft);return[Ft,st]},[ge,mt,Ze]),ce=Ie.useMemo(()=>mt?Ze:{...Ze,subscription:ft},[mt,Ze,ft]),le=Ie.useRef(void 0),ae=Ie.useRef(Fe),V=Ie.useRef(void 0),me=Ie.useRef(!1),Ae=Ie.useRef(!1),Ne=Ie.useRef(void 0);zp(()=>(Ae.current=!0,()=>{Ae.current=!1}),[]);const ut=Ie.useMemo(()=>()=>V.current&&Fe===ae.current?V.current:Re(ge.getState(),Fe),[ge,Fe]),xt=Ie.useMemo(()=>st=>ft?nI(C,ge,ft,Re,ae,le,me,Ae,V,Me,st):()=>{},[ft]);eI(tI,[ae,le,me,Fe,V,Me]);let et;try{et=Ie.useSyncExternalStore(xt,ut,ye?()=>Re(ye(),Fe):ut)}catch(Ft){throw Ne.current&&(Ft.message+=`
The error may be correlated with this previous error:
${Ne.current.stack}

`),Ft}zp(()=>{Ne.current=void 0,V.current=void 0,le.current=et});const Wt=Ie.useMemo(()=>Ie.createElement(S,{...et,ref:Se}),[Se,S,et]);return Ie.useMemo(()=>C?Ie.createElement(Ue.Provider,{value:ce},Wt):Wt,[Ue,Wt,ce])}const J=Ie.memo(W);if(J.WrappedComponent=S,J.displayName=W.displayName=N,a){const ve=Ie.forwardRef(function(Fe,Ue){return Ie.createElement(J,{...Fe,reactReduxForwardedRef:Ue})});return ve.displayName=N,ve.WrappedComponent=S,ay(ve,S)}return ay(J,S)}}var p8=iI;function aI(e){const{children:t,context:n,serverState:r,store:o}=e,u=Ie.useMemo(()=>{const a=h8(o);return{store:o,subscription:a,getServerState:r?()=>r:void 0}},[o,r]),y=Ie.useMemo(()=>o.getState(),[o]);zp(()=>{const{subscription:a}=u;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),y!==o.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[u,y]);const d=n||g8;return Ie.createElement(d.Provider,{value:u},t)}var oI=aI,sI="Invariant failed";function lI(e,t){throw new Error(sI)}var of=function(t){var n=t.top,r=t.right,o=t.bottom,u=t.left,y=r-u,d=o-n,a={top:n,right:r,bottom:o,left:u,width:y,height:d,x:u,y:n,center:{x:(r+u)/2,y:(o+n)/2}};return a},dx=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},nw=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},uI=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},jv={top:0,right:0,bottom:0,left:0},gx=function(t){var n=t.borderBox,r=t.margin,o=r===void 0?jv:r,u=t.border,y=u===void 0?jv:u,d=t.padding,a=d===void 0?jv:d,c=of(dx(n,o)),v=of(nw(n,y)),f=of(nw(v,a));return{marginBox:c,borderBox:of(n),paddingBox:v,contentBox:f,margin:o,border:y,padding:a}},Ic=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var o=Number(n);return isNaN(o)&&lI(),o},cI=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Hp=function(t,n){var r=t.borderBox,o=t.border,u=t.margin,y=t.padding,d=uI(r,n);return gx({borderBox:d,border:o,margin:u,padding:y})},Up=function(t,n){return n===void 0&&(n=cI()),Hp(t,n)},m8=function(t,n){var r={top:Ic(n.marginTop),right:Ic(n.marginRight),bottom:Ic(n.marginBottom),left:Ic(n.marginLeft)},o={top:Ic(n.paddingTop),right:Ic(n.paddingRight),bottom:Ic(n.paddingBottom),left:Ic(n.paddingLeft)},u={top:Ic(n.borderTopWidth),right:Ic(n.borderRightWidth),bottom:Ic(n.borderBottomWidth),left:Ic(n.borderLeftWidth)};return gx({borderBox:t,margin:r,padding:o,border:u})},v8=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return m8(n,r)},H1=function(t){var n=[],r=null,o=function(){for(var y=arguments.length,d=new Array(y),a=0;a<y;a++)d[a]=arguments[a];n=d,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jp.apply(null,arguments)}function y8(e,t){}y8.bind(null,"warn");y8.bind(null,"error");function Kh(){}function fI(e,t){return{...e,...t}}function Nc(e,t,n){const r=t.map(o=>{const u=fI(n,o.options);return e.addEventListener(o.eventName,o.fn,u),function(){e.removeEventListener(o.eventName,o.fn,u)}});return function(){r.forEach(u=>{u()})}}const hI="Invariant failed";class Wp extends Error{}Wp.prototype.toString=function(){return this.message};function Un(e,t){throw new Wp(hI)}class dI extends kn.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Kh,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Wp&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Nc(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Wp){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const gI=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Gp=e=>e+1,pI=e=>`
  You have lifted an item in position ${Gp(e.source.index)}
`,x8=(e,t)=>{const n=e.droppableId===t.droppableId,r=Gp(e.index),o=Gp(t.index);return n?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},b8=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,mI=e=>{const t=e.destination;if(t)return x8(e.source,t);const n=e.combine;return n?b8(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},rw=e=>`
  The item has returned to its starting position
  of ${Gp(e.index)}
`,vI=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${rw(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${x8(e.source,t)}
    `:n?`
      You have dropped the item.
      ${b8(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${rw(e.source)}
  `},yp={dragHandleUsageInstructions:gI,onDragStart:pI,onDragUpdate:mI,onDragEnd:vI};function yI(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function w8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!yI(e[n],t[n]))return!1;return!0}function pa(e,t){const n=Ie.useState(()=>({inputs:t,result:e()}))[0],r=Ie.useRef(!0),o=Ie.useRef(n),y=r.current||!!(t&&o.current.inputs&&w8(t,o.current.inputs))?o.current:{inputs:t,result:e()};return Ie.useEffect(()=>{r.current=!1,o.current=y},[y]),y.result}function Mr(e,t){return pa(()=>e,t)}const kl={x:0,y:0},Hl=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),hc=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Zh=(e,t)=>e.x===t.x&&e.y===t.y,zd=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),B0=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},U1=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),iw=(e,t)=>Math.min(...t.map(n=>U1(e,n))),C8=e=>t=>({x:e(t.x),y:e(t.y)});var xI=(e,t)=>{const n=of({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const rg=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),aw=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],bI={top:0,right:0,bottom:0,left:0},wI=(e,t)=>t?rg(e,t.scroll.diff.displacement):e,CI=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,SI=(e,t)=>t&&t.shouldClipSubject?xI(t.pageMarginBox,e):of(e);var _d=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=wI(e.marginBox,r),u=CI(o,n,t),y=SI(u,r);return{page:e,withPlaceholder:t,active:y}},px=(e,t)=>{e.frame||Un();const n=e.frame,r=hc(t,n.scroll.initial),o=zd(r),u={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},y=_d({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:u});return{...e,frame:u,subject:y}};function Tl(e,t=w8){let n=null;function r(...o){if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;const u=e.apply(this,o);return n={lastResult:u,lastArgs:o,lastThis:this},u}return r.clear=function(){n=null},r}const S8=Tl(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),E8=Tl(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),pm=Tl(e=>Object.values(e)),EI=Tl(e=>Object.values(e));var Hd=Tl((e,t)=>EI(t).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function mx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function mm(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var vm=Tl((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),AI=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled||!mx(o))return null;function y(m){const C={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...o,at:C}}const d=o.displaced.all,a=d.length?d[0]:null;if(e)return a?y(a):null;const c=vm(t,r);if(!a){if(!c.length)return null;const m=c[c.length-1];return y(m.descriptor.id)}const v=c.findIndex(m=>m.descriptor.id===a);v===-1&&Un();const f=v-1;if(f<0)return null;const g=c[f];return y(g.descriptor.id)},Ud=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const A8={point:kl,value:0},j1={invisible:{},visible:{},all:[]},TI={displaced:j1,displacedBy:A8,at:null};var Bc=(e,t)=>n=>e<=n&&n<=t,T8=e=>{const t=Bc(e.top,e.bottom),n=Bc(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const u=t(r.top)||t(r.bottom),y=n(r.left)||n(r.right);if(u&&y)return!0;const a=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return a&&c?!0:a&&y||c&&u}},kI=e=>{const t=Bc(e.top,e.bottom),n=Bc(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const vx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},k8={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var DI=e=>t=>{const n=Bc(t.top,t.bottom),r=Bc(t.left,t.right);return o=>e===vx?n(o.top)&&n(o.bottom):r(o.left)&&r(o.right)};const _I=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:kl;return rg(e,n)},MI=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,OI=(e,t,n)=>n(t)(e),yx=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const u=r?_I(e,t):e;return MI(u,t,o)&&OI(u,n,o)},II=e=>yx({...e,isVisibleThroughFrameFn:T8}),D8=e=>yx({...e,isVisibleThroughFrameFn:kI}),RI=e=>yx({...e,isVisibleThroughFrameFn:DI(e.destination.axis)}),NI=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const u=o[e];return u?u.shouldAnimate:!0};function LI(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return of(dx(n,r))}function W1({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:u}){return e.reduce(function(d,a){const c=LI(a,n),v=a.descriptor.id;if(d.all.push(v),!II({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return d.invisible[a.descriptor.id]=!0,d;const g=NI(v,u,o),m={draggableId:v,shouldAnimate:g};return d.visible[v]=m,d},{all:[],visible:{},invisible:{}})}function BI(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function ow({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=BI(e,{inHomeList:t});return{displaced:j1,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Yp({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:u,index:y,forceShouldAnimate:d}){const a=Ud(e,n);if(y==null)return ow({insideDestination:t,inHomeList:a,displacedBy:o,destination:n});const c=t.find(C=>C.descriptor.index===y);if(!c)return ow({insideDestination:t,inHomeList:a,displacedBy:o,destination:n});const v=vm(e,t),f=t.indexOf(c),g=v.slice(f);return{displaced:W1({afterDragging:g,destination:n,displacedBy:o,last:u,viewport:r.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:y}}}}function $h(e,t){return!!t.effected[e]}var FI=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const u=r.draggableId,d=n[u].descriptor.index;return $h(u,o)?e?d:d-1:e?d+1:d},PI=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,u=e?o+1:o-1,y=n[0].descriptor.index,d=n[n.length-1].descriptor.index,a=t?d:d+1;return u<y||u>a?null:u},zI=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:u,previousImpact:y,viewport:d,afterCritical:a})=>{const c=y.at;if(c||Un(),c.type==="REORDER"){const f=PI({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:u});return f==null?null:Yp({draggable:n,insideDestination:u,destination:o,viewport:d,last:y.displaced,displacedBy:y.displacedBy,index:f})}const v=FI({isMovingForward:e,destination:o,displaced:y.displaced,draggables:r,combine:c.combine,afterCritical:a});return v==null?null:Yp({draggable:n,insideDestination:u,destination:o,viewport:d,last:y.displaced,displacedBy:y.displacedBy,index:v})},HI=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=!!(e.visible[n]||e.invisible[n]);return $h(n,t)?o?kl:zd(r.point):o?r.point:kl},UI=({afterCritical:e,impact:t,draggables:n})=>{const r=mm(t);r||Un();const o=r.draggableId,u=n[o].page.borderBox.center,y=HI({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return Hl(u,y)};const _8=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,jI=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,xx=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,sw=({axis:e,moveRelativeTo:t,isMoving:n})=>B0(e.line,t.marginBox[e.end]+_8(e,n),xx(e,t.marginBox,n)),lw=({axis:e,moveRelativeTo:t,isMoving:n})=>B0(e.line,t.marginBox[e.start]-jI(e,n),xx(e,t.marginBox,n)),WI=({axis:e,moveInto:t,isMoving:n})=>B0(e.line,t.contentBox[e.start]+_8(e,n),xx(e,t.contentBox,n));var GI=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const u=Hd(r.descriptor.id,n),y=t.page,d=r.axis;if(!u.length)return WI({axis:d,moveInto:r.page,isMoving:y});const{displaced:a,displacedBy:c}=e,v=a.all[0];if(v){const g=n[v];if($h(v,o))return lw({axis:d,moveRelativeTo:g.page,isMoving:y});const m=Hp(g.page,c.point);return lw({axis:d,moveRelativeTo:m,isMoving:y})}const f=u[u.length-1];if(f.descriptor.id===t.descriptor.id)return y.borderBox.center;if($h(f.descriptor.id,o)){const g=Hp(f.page,zd(o.displacedBy.point));return sw({axis:d,moveRelativeTo:g,isMoving:y})}return sw({axis:d,moveRelativeTo:f.page,isMoving:y})},oy=(e,t)=>{const n=e.frame;return n?Hl(t,n.scroll.diff.displacement):t};const YI=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const u=t.page.borderBox.center,y=e.at;return!n||!y?u:y.type==="REORDER"?GI({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):UI({impact:e,draggables:r,afterCritical:o})};var ym=e=>{const t=YI(e),n=e.droppable;return n?oy(n,t):t},M8=(e,t)=>{const n=hc(t,e.scroll.initial),r=zd(n);return{frame:of({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function uw(e,t){return e.map(n=>t[n])}function XI(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var VI=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const u=M8(t,Hl(t.scroll.current,o)),y=n.frame?px(n,Hl(n.frame.scroll.current,o)):n,d=e.displaced,a=W1({afterDragging:uw(d.all,r),destination:n,displacedBy:e.displacedBy,viewport:u.frame,last:d,forceShouldAnimate:!1}),c=W1({afterDragging:uw(d.all,r),destination:y,displacedBy:e.displacedBy,viewport:t.frame,last:d,forceShouldAnimate:!1}),v={},f={},g=[d,a,c];return d.all.forEach(C=>{const k=XI(C,g);if(k){f[C]=k;return}v[C]=!0}),{...e,displaced:{all:d.all,invisible:v,visible:f}}},KI=(e,t)=>Hl(e.scroll.diff.displacement,t),bx=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=KI(n,e),o=hc(r,t.page.borderBox.center);return Hl(t.client.borderBox.center,o)},O8=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:u=!1})=>{const y=hc(n,e.page.borderBox.center),a={target:rg(e.page.borderBox,y),destination:t,withDroppableDisplacement:o,viewport:r};return u?RI(a):D8(a)},ZI=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:u,previousPageBorderBoxCenter:y,previousClientSelection:d,afterCritical:a})=>{if(!n.isEnabled)return null;const c=Hd(n.descriptor.id,r),v=Ud(t,n),f=AI({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:o})||zI({isMovingForward:e,isInHomeList:v,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:o,viewport:u,afterCritical:a});if(!f)return null;const g=ym({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:a});if(O8({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:bx({pageBorderBoxCenter:g,draggable:t,viewport:u}),impact:f,scrollJumpRequest:null};const C=hc(g,y),k=VI({impact:f,viewport:u,destination:n,draggables:r,maxScrollChange:C});return{clientSelection:d,impact:k,scrollJumpRequest:C}};const hu=e=>{const t=e.subject.active;return t||Un(),t};var qI=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const u=n.subject.active;if(!u)return null;const y=n.axis,d=Bc(u[y.start],u[y.end]),a=pm(r).filter(v=>v!==n).filter(v=>v.isEnabled).filter(v=>!!v.subject.active).filter(v=>T8(o.frame)(hu(v))).filter(v=>{const f=hu(v);return e?u[y.crossAxisEnd]<f[y.crossAxisEnd]:f[y.crossAxisStart]<u[y.crossAxisStart]}).filter(v=>{const f=hu(v),g=Bc(f[y.start],f[y.end]);return d(f[y.start])||d(f[y.end])||g(u[y.start])||g(u[y.end])}).sort((v,f)=>{const g=hu(v)[y.crossAxisStart],m=hu(f)[y.crossAxisStart];return e?g-m:m-g}).filter((v,f,g)=>hu(v)[y.crossAxisStart]===hu(g[0])[y.crossAxisStart]);if(!a.length)return null;if(a.length===1)return a[0];const c=a.filter(v=>Bc(hu(v)[y.start],hu(v)[y.end])(t[y.line]));return c.length===1?c[0]:c.length>1?c.sort((v,f)=>hu(v)[y.start]-hu(f)[y.start])[0]:a.sort((v,f)=>{const g=iw(t,aw(hu(v))),m=iw(t,aw(hu(f)));return g!==m?g-m:hu(v)[y.start]-hu(f)[y.start]})[0]};const cw=(e,t)=>{const n=e.page.borderBox.center;return $h(e.descriptor.id,t)?hc(n,t.displacedBy.point):n},QI=(e,t)=>{const n=e.page.borderBox;return $h(e.descriptor.id,t)?rg(n,zd(t.displacedBy.point)):n};var JI=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(y=>D8({target:QI(y,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((y,d)=>{const a=U1(e,oy(n,cw(y,o))),c=U1(e,oy(n,cw(d,o)));return a<c?-1:c<a?1:y.descriptor.index-d.descriptor.index})[0]||null,ig=Tl(function(t,n){const r=n[t.line];return{value:r,point:B0(t.line,r)}});const $I=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return B0(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],a=Hd(e.descriptor.id,n).reduce((c,v)=>c+v.client.marginBox[r.size],0)+t[r.line]-o;return a<=0?null:B0(r.line,a)},I8=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),R8=(e,t,n)=>{const r=e.frame;Ud(t,e)&&Un(),e.subject.withPlaceholder&&Un();const o=ig(e.axis,t.displaceBy).point,u=$I(e,o,n),y={placeholderSize:o,increasedBy:u,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const v=_d({page:e.subject.page,withPlaceholder:y,axis:e.axis,frame:e.frame});return{...e,subject:v}}const d=u?Hl(r.scroll.max,u):r.scroll.max,a=I8(r,d),c=_d({page:e.subject.page,withPlaceholder:y,axis:e.axis,frame:a});return{...e,subject:c,frame:a}},eR=e=>{const t=e.subject.withPlaceholder;t||Un();const n=e.frame;if(!n){const y=_d({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:y}}const r=t.oldFrameMaxScroll;r||Un();const o=I8(n,r),u=_d({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:u,frame:o}};var tR=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:u,viewport:y,afterCritical:d})=>{if(!t){if(n.length)return null;const f={displaced:j1,displacedBy:A8,at:{type:"REORDER",destination:{droppableId:u.descriptor.id,index:0}}},g=ym({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:d}),m=Ud(r,u)?u:R8(u,r,o);return O8({draggable:r,destination:m,newPageBorderBoxCenter:g,viewport:y.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const a=e[u.axis.line]<=t.page.borderBox.center[u.axis.line],c=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||a?f:f+1})(),v=ig(u.axis,r.displaceBy);return Yp({draggable:r,insideDestination:n,destination:u,viewport:y,displacedBy:v,last:j1,index:c})},nR=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:u,viewport:y,afterCritical:d})=>{const a=qI({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:u,viewport:y});if(!a)return null;const c=Hd(a.descriptor.id,o),v=JI({pageBorderBoxCenter:t,viewport:y,destination:a,insideDestination:c,afterCritical:d}),f=tR({previousPageBorderBoxCenter:t,destination:a,draggable:n,draggables:o,moveRelativeTo:v,insideDestination:c,viewport:y,afterCritical:d});if(!f)return null;const g=ym({impact:f,draggable:n,droppable:a,draggables:o,afterCritical:d});return{clientSelection:bx({pageBorderBoxCenter:g,draggable:n,viewport:y}),impact:f,scrollJumpRequest:null}},dc=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const rR=(e,t)=>{const n=dc(e);return n?t[n]:null};var iR=({state:e,type:t})=>{const n=rR(e.impact,e.dimensions.droppables),r=!!n,o=e.dimensions.droppables[e.critical.droppable.id],u=n||o,y=u.axis.direction,d=y==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||y==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(d&&!r)return null;const a=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],v=e.current.page.borderBoxCenter,{draggables:f,droppables:g}=e.dimensions;return d?ZI({isMovingForward:a,previousPageBorderBoxCenter:v,draggable:c,destination:u,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):nR({isMovingForward:a,previousPageBorderBoxCenter:v,draggable:c,isOver:u,draggables:f,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function k0(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function N8(e){const t=Bc(e.top,e.bottom),n=Bc(e.left,e.right);return function(o){return t(o.y)&&n(o.x)}}function aR(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function oR({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(u=>{const y=u.axis,d=B0(u.axis.line,e.center[y.line],u.page.borderBox.center[y.crossAxisLine]);return{id:u.descriptor.id,distance:U1(r,d)}}).sort((u,y)=>y.distance-u.distance);return o[0]?o[0].id:null}function sR({pageBorderBox:e,draggable:t,droppables:n}){const r=pm(n).filter(o=>{if(!o.isEnabled)return!1;const u=o.subject.active;if(!u||!aR(e,u))return!1;if(N8(u)(e.center))return!0;const y=o.axis,d=u.center[y.crossAxisLine],a=e[y.crossAxisStart],c=e[y.crossAxisEnd],v=Bc(u[y.crossAxisStart],u[y.crossAxisEnd]),f=v(a),g=v(c);return!f&&!g?!0:f?a<d:c>d});return r.length?r.length===1?r[0].descriptor.id:oR({pageBorderBox:e,draggable:t,candidates:r}):null}const L8=(e,t)=>of(rg(e,t));var lR=(e,t)=>{const n=e.frame;return n?L8(t,n.scroll.diff.value):t};function B8({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function uR({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var cR=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:u,afterCritical:y})=>{const d=n.axis,a=ig(n.axis,t.displaceBy),c=a.value,v=e[d.start],f=e[d.end],m=vm(t,r).find(k=>{const S=k.descriptor.id,O=k.page.borderBox.center[d.line],N=$h(S,y),U=B8({displaced:o,id:S});return N?U?f<=O:v<O-c:U?f<=O+c:v<O})||null,C=uR({draggable:t,closest:m,inHomeList:Ud(t,n)});return Yp({draggable:t,insideDestination:r,destination:n,viewport:u,last:o,displacedBy:a,index:C})};const fR=4;var hR=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:u})=>{if(!r.isCombineEnabled)return null;const y=r.axis,d=ig(r.axis,e.displaceBy),a=d.value,c=t[y.start],v=t[y.end],g=vm(e,o).find(C=>{const k=C.descriptor.id,S=C.page.borderBox,N=S[y.size]/fR,U=$h(k,u),W=B8({displaced:n.displaced,id:k});return U?W?v>S[y.start]+N&&v<S[y.end]-N:c>S[y.start]-a+N&&c<S[y.end]-a-N:W?v>S[y.start]+a+N&&v<S[y.end]+a-N:c>S[y.start]+N&&c<S[y.end]-N});return g?{displacedBy:d,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},F8=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:u,afterCritical:y})=>{const d=L8(t.page.borderBox,e),a=sR({pageBorderBox:d,draggable:t,droppables:r});if(!a)return TI;const c=r[a],v=Hd(c.descriptor.id,n),f=lR(c,d);return hR({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:o,destination:c,insideDestination:v,afterCritical:y})||cR({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:c,insideDestination:v,last:o.displaced,viewport:u,afterCritical:y})},wx=(e,t)=>({...e,[t.descriptor.id]:t});const dR=({previousImpact:e,impact:t,droppables:n})=>{const r=dc(e),o=dc(t);if(!r||r===o)return n;const u=n[r];if(!u.subject.withPlaceholder)return n;const y=eR(u);return wx(n,y)};var gR=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const u=dR({previousImpact:r,impact:o,droppables:n}),y=dc(o);if(!y)return u;const d=n[y];if(Ud(e,d)||d.subject.withPlaceholder)return u;const a=R8(d,e,t);return wx(u,a)},O1=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:u})=>{const y=r||e.viewport,d=n||e.dimensions,a=t||e.current.client.selection,c=hc(a,e.initial.client.selection),v={offset:c,selection:a,borderBoxCenter:Hl(e.initial.client.borderBoxCenter,c)},f={selection:Hl(v.selection,y.scroll.current),borderBoxCenter:Hl(v.borderBoxCenter,y.scroll.current),offset:Hl(v.offset,y.scroll.diff.value)},g={client:v,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:y,current:g};const m=d.draggables[e.critical.draggable.id],C=o||F8({pageOffset:f.offset,draggable:m,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:y,afterCritical:e.afterCritical}),k=gR({draggable:m,impact:C,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:g,dimensions:{draggables:d.draggables,droppables:k},impact:C,viewport:y,scrollJumpRequest:u||null,forceShouldAnimate:u?!1:null}};function pR(e,t){return e.map(n=>t[n])}var P8=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const u=e.displaced,y=pR(u.all,n),d=W1({afterDragging:y,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:u});return{...e,displaced:d}},z8=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:u})=>{const y=ym({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:u});return bx({pageBorderBoxCenter:y,draggable:t,viewport:o})},H8=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Un();const r=e.impact,o=n||e.viewport,u=t||e.dimensions,{draggables:y,droppables:d}=u,a=y[e.critical.draggable.id],c=dc(r);c||Un();const v=d[c],f=P8({impact:r,viewport:o,destination:v,draggables:y}),g=z8({impact:f,draggable:a,droppable:v,draggables:y,viewport:o,afterCritical:e.afterCritical});return O1({impact:f,clientSelection:g,state:e,dimensions:u,viewport:o})},mR=e=>({index:e.index,droppableId:e.droppableId}),U8=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=ig(t.axis,e.displaceBy),u=Hd(t.descriptor.id,n),y=u.indexOf(e);y===-1&&Un();const d=u.slice(y+1),a=d.reduce((g,m)=>(g[m.descriptor.id]=!0,g),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:a};return{impact:{displaced:W1({afterDragging:d,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:mR(e.descriptor)}},afterCritical:c}},vR=(e,t)=>({draggables:e.draggables,droppables:wx(e.droppables,t)}),yR=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Hp(e.client,t),o=Up(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},xR=e=>{const t=e.frame;return t||Un(),t},bR=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(o=>{const u=o.descriptor.droppableId,y=t[u],a=xR(y).scroll.diff.value,c=Hl(r,a);return yR({draggable:o,offset:c,initialWindowScroll:n.scroll.initial})})},wR=({state:e,published:t})=>{const n=t.modified.map(O=>{const N=e.dimensions.droppables[O.droppableId];return px(N,O.scroll)}),r={...e.dimensions.droppables,...S8(n)},o=E8(bR({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),u={...e.dimensions.draggables,...o};t.removals.forEach(O=>{delete u[O]});const y={droppables:r,draggables:u},d=dc(e.impact),a=d?y.droppables[d]:null,c=y.draggables[e.critical.draggable.id],v=y.droppables[e.critical.droppable.id],{impact:f,afterCritical:g}=U8({draggable:c,home:v,draggables:u,viewport:e.viewport}),m=a&&a.isCombineEnabled?e.impact:f,C=F8({pageOffset:e.current.page.offset,draggable:y.draggables[e.critical.draggable.id],draggables:y.draggables,droppables:y.droppables,previousImpact:m,viewport:e.viewport,afterCritical:g}),k={...e,phase:"DRAGGING",impact:C,onLiftImpact:f,dimensions:y,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?k:{...k,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const sy=e=>e.movementMode==="SNAP",Wv=(e,t,n)=>{const r=vR(e.dimensions,t);return!sy(e)||n?O1({state:e,dimensions:r}):H8({state:e,dimensions:r})};function Gv(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const fw={phase:"IDLE",completed:null,shouldFlush:!1};var CR=(e=fw,t)=>{if(t.type==="FLUSH")return{...fw,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Un();const{critical:n,clientSelection:r,viewport:o,dimensions:u,movementMode:y}=t.payload,d=u.draggables[n.draggable.id],a=u.droppables[n.droppable.id],c={selection:r,borderBoxCenter:d.client.borderBox.center,offset:kl},v={client:c,page:{selection:Hl(c.selection,o.scroll.initial),borderBoxCenter:Hl(c.selection,o.scroll.initial),offset:Hl(c.selection,o.scroll.diff.value)}},f=pm(u.droppables).every(k=>!k.isFixedOnPage),{impact:g,afterCritical:m}=U8({draggable:d,home:a,draggables:u.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:y,dimensions:u,initial:v,current:v,isWindowScrollAllowed:f,impact:g,afterCritical:m,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Un(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Un(),wR({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;k0(e)||Un();const{client:n}=t.payload;return Zh(n,e.current.client.selection)?e:O1({state:e,clientSelection:n,impact:sy(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Gv(e);k0(e)||Un();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const u=px(o,r);return Wv(e,u,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;k0(e)||Un();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Un(),o.isEnabled===r&&Un();const u={...o,isEnabled:r};return Wv(e,u,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;k0(e)||Un();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Un(),o.isCombineEnabled===r&&Un();const u={...o,isCombineEnabled:r};return Wv(e,u,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;k0(e)||Un(),e.isWindowScrollAllowed||Un();const n=t.payload.newScroll;if(Zh(e.viewport.scroll.current,n))return Gv(e);const r=M8(e.viewport,n);return sy(e)?H8({state:e,viewport:r}):O1({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!k0(e))return e;const n=t.payload.maxScroll;if(Zh(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Un();const n=iR({state:e,type:t.type});return n?O1({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Un(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Un(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Fa(e,t){return e instanceof Object&&"type"in e&&e.type===t}const SR=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ER=e=>({type:"LIFT",payload:e}),AR=e=>({type:"INITIAL_PUBLISH",payload:e}),TR=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),kR=()=>({type:"COLLECTION_STARTING",payload:null}),DR=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),_R=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),MR=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),j8=e=>({type:"MOVE",payload:e}),OR=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),IR=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),RR=()=>({type:"MOVE_UP",payload:null}),NR=()=>({type:"MOVE_DOWN",payload:null}),LR=()=>({type:"MOVE_RIGHT",payload:null}),BR=()=>({type:"MOVE_LEFT",payload:null}),Cx=()=>({type:"FLUSH",payload:null}),FR=e=>({type:"DROP_ANIMATE",payload:e}),Sx=e=>({type:"DROP_COMPLETE",payload:e}),W8=e=>({type:"DROP",payload:e}),PR=e=>({type:"DROP_PENDING",payload:e}),G8=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var zR=e=>({getState:t,dispatch:n})=>r=>o=>{if(!Fa(o,"LIFT")){r(o);return}const{id:u,clientSelection:y,movementMode:d}=o.payload,a=t();a.phase==="DROP_ANIMATING"&&n(Sx({completed:a.completed})),t().phase!=="IDLE"&&Un(),n(Cx()),n(SR({draggableId:u,movementMode:d}));const v={draggableId:u,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:f,dimensions:g,viewport:m}=e.startPublishing(v);n(AR({critical:f,dimensions:g,clientSelection:y,movementMode:d,viewport:m}))},HR=e=>()=>t=>n=>{Fa(n,"INITIAL_PUBLISH")&&e.dragging(),Fa(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Fa(n,"FLUSH")||Fa(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Ex={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},G1={opacity:{drop:0,combining:.7},scale:{drop:.75}},Y8={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},y0=`${Y8.outOfTheWay}s ${Ex.outOfTheWay}`,I1={fluid:`opacity ${y0}`,snap:`transform ${y0}, opacity ${y0}`,drop:e=>{const t=`${e}s ${Ex.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${y0}`,placeholder:`height ${y0}, width ${y0}, margin ${y0}`},hw=e=>Zh(e,kl)?void 0:`translate(${e.x}px, ${e.y}px)`,ly={moveTo:hw,drop:(e,t)=>{const n=hw(e);if(n)return t?`${n} scale(${G1.scale.drop})`:n}},{minDropTime:uy,maxDropTime:X8}=Y8,UR=X8-uy,dw=1500,jR=.6;var WR=({current:e,destination:t,reason:n})=>{const r=U1(e,t);if(r<=0)return uy;if(r>=dw)return X8;const o=r/dw,u=uy+UR*o,y=n==="CANCEL"?u*jR:u;return Number(y.toFixed(2))},GR=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:u,droppables:y}=n,d=dc(e),a=d?y[d]:null,c=y[t.descriptor.droppableId],v=z8({impact:e,draggable:t,draggables:u,afterCritical:o,droppable:a||c,viewport:r});return hc(v,t.client.borderBox.center)},YR=({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:u})=>!n.at||t!=="DROP"?{impact:P8({draggables:e,impact:u,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:j1},didDropInsideDroppable:!0};const XR=({getState:e,dispatch:t})=>n=>r=>{if(!Fa(r,"DROP")){n(r);return}const o=e(),u=r.payload.reason;if(o.phase==="COLLECTING"){t(PR({reason:u}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Un(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Un();const d=o.critical,a=o.dimensions,c=a.draggables[o.critical.draggable.id],{impact:v,didDropInsideDroppable:f}=YR({reason:u,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),g=f?mx(v):null,m=f?mm(v):null,C={index:d.draggable.index,droppableId:d.droppable.id},k={draggableId:c.descriptor.id,type:c.descriptor.type,source:C,reason:u,mode:o.movementMode,destination:g,combine:m},S=GR({impact:v,draggable:c,dimensions:a,viewport:o.viewport,afterCritical:o.afterCritical}),O={critical:o.critical,afterCritical:o.afterCritical,result:k,impact:v};if(!(!Zh(o.current.client.offset,S)||!!k.combine)){t(Sx({completed:O}));return}const U=WR({current:o.current.client.offset,destination:S,reason:u});t(FR({newHomeClientOffset:S,dropDuration:U,completed:O}))};var V8=()=>({x:window.pageXOffset,y:window.pageYOffset});function VR(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function KR({onWindowScroll:e}){function t(){e(V8())}const n=H1(t),r=VR(n);let o=Kh;function u(){return o!==Kh}function y(){u()&&Un(),o=Nc(window,[r])}function d(){u()||Un(),n.cancel(),o(),o=Kh}return{start:y,stop:d,isActive:u}}const ZR=e=>Fa(e,"DROP_COMPLETE")||Fa(e,"DROP_ANIMATE")||Fa(e,"FLUSH"),qR=e=>{const t=KR({onWindowScroll:n=>{e.dispatch(OR({newScroll:n}))}});return n=>r=>{!t.isActive()&&Fa(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&ZR(r)&&t.stop(),n(r)}};var QR=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=u=>{t||n||(t=!0,e(u),clearTimeout(r))};return o.wasCalled=()=>t,o},JR=()=>{const e=[],t=o=>{const u=e.findIndex(d=>d.timerId===o);u===-1&&Un();const[y]=e.splice(u,1);y.callback()};return{add:o=>{const u=setTimeout(()=>t(u)),y={timerId:u,callback:o};e.push(y)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(u=>{clearTimeout(u.timerId),u.callback()})}}};const $R=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,eN=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,tN=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},f1=(e,t)=>{t()},Wg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Yv(e,t,n,r){if(!e){n(r(t));return}const o=QR(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var nN=(e,t)=>{const n=JR();let r=null;const o=(f,g)=>{r&&Un(),f1("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:g})})},u=(f,g)=>{r&&Un(),f1("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(Wg(f,g))})},y=(f,g)=>{r&&Un();const m=Wg(f,g);r={mode:g,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{f1("onDragStart",()=>Yv(e().onDragStart,m,t,yp.onDragStart))})},d=(f,g)=>{const m=mx(g),C=mm(g);r||Un();const k=!tN(f,r.lastCritical);k&&(r.lastCritical=f);const S=!$R(r.lastLocation,m);S&&(r.lastLocation=m);const O=!eN(r.lastCombine,C);if(O&&(r.lastCombine=C),!k&&!S&&!O)return;const N={...Wg(f,r.mode),combine:C,destination:m};n.add(()=>{f1("onDragUpdate",()=>Yv(e().onDragUpdate,N,t,yp.onDragUpdate))})},a=()=>{r||Un(),n.flush()},c=f=>{r||Un(),r=null,f1("onDragEnd",()=>Yv(e().onDragEnd,f,t,yp.onDragEnd))};return{beforeCapture:o,beforeStart:u,start:y,update:d,flush:a,drop:c,abort:()=>{if(!r)return;const f={...Wg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(f)}}},rN=(e,t)=>{const n=nN(e,t);return r=>o=>u=>{if(Fa(u,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(u.payload.draggableId,u.payload.movementMode);return}if(Fa(u,"INITIAL_PUBLISH")){const d=u.payload.critical;n.beforeStart(d,u.payload.movementMode),o(u),n.start(d,u.payload.movementMode);return}if(Fa(u,"DROP_COMPLETE")){const d=u.payload.completed.result;n.flush(),o(u),n.drop(d);return}if(o(u),Fa(u,"FLUSH")){n.abort();return}const y=r.getState();y.phase==="DRAGGING"&&n.update(y.critical,y.impact)}};const iN=e=>t=>n=>{if(!Fa(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Un(),e.dispatch(Sx({completed:r.completed}))},aN=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o=>u=>{if((Fa(u,"FLUSH")||Fa(u,"DROP_COMPLETE")||Fa(u,"DROP_ANIMATION_FINISHED"))&&r(),o(u),!Fa(u,"DROP_ANIMATE"))return;const y={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(G8())}};n=requestAnimationFrame(()=>{n=null,t=Nc(window,[y])})}};var oN=e=>()=>t=>n=>{(Fa(n,"DROP_COMPLETE")||Fa(n,"FLUSH")||Fa(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},sN=e=>{let t=!1;return()=>n=>r=>{if(Fa(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Fa(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Fa(r,"DROP_COMPLETE")){t=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const lN=e=>Fa(e,"DROP_COMPLETE")||Fa(e,"DROP_ANIMATE")||Fa(e,"FLUSH");var uN=e=>t=>n=>r=>{if(lN(r)){e.stop(),n(r);return}if(Fa(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();o.phase!=="DRAGGING"&&Un(),e.start(o);return}n(r),e.scroll(t.getState())};const cN=e=>t=>n=>{if(t(n),!Fa(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(W8({reason:r.reason})))},fN=u8;var hN=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:u})=>l8(CR,fN(uO(HR(n),oN(e),zR(e),XR,iN,aN,cN,uN(u),qR,sN(t),rN(r,o))));const Xv=()=>({additions:{},removals:{},modified:{}});function dN({registry:e,callbacks:t}){let n=Xv(),r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:a,removals:c,modified:v}=n,f=Object.keys(a).map(C=>e.draggable.getById(C).getDimension(kl)).sort((C,k)=>C.descriptor.index-k.descriptor.index),g=Object.keys(v).map(C=>{const S=e.droppable.getById(C).callbacks.getScrollWhileDragging();return{droppableId:C,scroll:S}}),m={additions:f,removals:Object.keys(c),modified:g};n=Xv(),t.publish(m)}))};return{add:a=>{const c=a.descriptor.id;n.additions[c]=a,n.modified[a.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],o()},remove:a=>{const c=a.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Xv())}}}var K8=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=hc({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Z8=()=>{const e=document.documentElement;return e||Un(),e},q8=()=>{const e=Z8();return K8({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},gN=()=>{const e=V8(),t=q8(),n=e.y,r=e.x,o=Z8(),u=o.clientWidth,y=o.clientHeight,d=r+u,a=n+y;return{frame:of({top:n,left:r,right:d,bottom:a}),scroll:{initial:e,current:e,max:t,diff:{value:kl,displacement:kl}}}},pN=({critical:e,scrollOptions:t,registry:n})=>{const r=gN(),o=r.scroll.current,u=e.droppable,y=n.droppable.getAllByType(u.type).map(v=>v.callbacks.getDimensionAndWatchScroll(o,t)),d=n.draggable.getAllByType(e.draggable.type).map(v=>v.getDimension(o));return{dimensions:{draggables:E8(d),droppables:S8(y)},critical:e,viewport:r}};function gw(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var mN=(e,t)=>{let n=null;const r=dN({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(g,m)=>{e.droppable.exists(g)||Un(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:m})},u=(g,m)=>{n&&(e.droppable.exists(g)||Un(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:m}))},y=(g,m)=>{n&&(e.droppable.exists(g)||Un(),t.updateDroppableScroll({id:g,newScroll:m}))},d=(g,m)=>{n&&e.droppable.getById(g).callbacks.scroll(m)},a=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},c=g=>{n||Un();const m=n.critical.draggable;g.type==="ADDITION"&&gw(e,m,g.value)&&r.add(g.value),g.type==="REMOVAL"&&gw(e,m,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:u,scrollDroppable:d,updateDroppableScroll:y,startPublishing:g=>{n&&Un();const m=e.draggable.getById(g.draggableId),C=e.droppable.getById(m.descriptor.droppableId),k={draggable:m.descriptor,droppable:C.descriptor},S=e.subscribe(c);return n={critical:k,unsubscribe:S},pN({critical:k,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:a}},Q8=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",vN=e=>{window.scrollBy(e.x,e.y)};const yN=Tl(e=>pm(e).filter(t=>!(!t.isEnabled||!t.frame))),xN=(e,t)=>yN(t).find(r=>(r.frame||Un(),N8(r.frame.pageMarginBox)(e)))||null;var bN=({center:e,destination:t,droppables:n})=>{if(t){const o=n[t];return o.frame?o:null}return xN(e,n)};const Y1={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var wN=(e,t,n=()=>Y1)=>{const r=n(),o=e[t.size]*r.startFromPercentage,u=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:u}},J8=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Ax=1,CN=(e,t,n=()=>Y1)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Ax;const u=1-J8({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),y=r.maxPixelScroll*r.ease(u);return Math.ceil(y)},SN=(e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,u=r.durationDampening.stopDampeningAt,y=t,d=u,c=Date.now()-y;if(c>=u)return e;if(c<o)return Ax;const v=J8({startOfRange:o,endOfRange:d,current:c}),f=e*r.ease(v);return Math.ceil(f)},pw=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const u=CN(e,t,o);return u===0?0:r?Math.max(SN(u,n,o),Ax):u},mw=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:u})=>{const y=wN(e,r,u);return t[r.end]<t[r.start]?pw({distanceToEdge:t[r.end],thresholds:y,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:u}):-1*pw({distanceToEdge:t[r.start],thresholds:y,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:u})},EN=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return!o&&!r?n:o&&r?null:{x:o?0:n.x,y:r?0:n.y}};const AN=C8(e=>e===0?0:e);var $8=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:u})=>{const y={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},d=mw({container:t,distanceToEdges:y,dragStartTime:e,axis:vx,shouldUseTimeDampening:o,getAutoScrollerOptions:u}),a=mw({container:t,distanceToEdges:y,dragStartTime:e,axis:k8,shouldUseTimeDampening:o,getAutoScrollerOptions:u}),c=AN({x:a,y:d});if(Zh(c,kl))return null;const v=EN({container:t,subject:n,proposedScroll:c});return v?Zh(v,kl)?null:v:null};const TN=C8(e=>e===0?0:e>0?1:-1),Tx=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const o=Hl(t,r),u={x:e(o.x,n.x),y:e(o.y,n.y)};return Zh(u,kl)?null:u}})(),e7=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=TN(n),u=Tx({max:r,current:t,change:o});return!u||o.x!==0&&u.x===0||o.y!==0&&u.y===0},kx=(e,t)=>e7({current:e.scroll.current,max:e.scroll.max,change:t}),kN=(e,t)=>{if(!kx(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Tx({current:r,max:n,change:t})},Dx=(e,t)=>{const n=e.frame;return n?e7({current:n.scroll.current,max:n.scroll.max,change:t}):!1},DN=(e,t)=>{const n=e.frame;return!n||!Dx(e,t)?null:Tx({current:n.scroll.current,max:n.scroll.max,change:t})};var _N=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:u})=>{const y=$8({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:u});return y&&kx(e,y)?y:null},MN=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:u})=>{const y=e.frame;if(!y)return null;const d=$8({dragStartTime:r,container:y.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:u});return d&&Dx(e,d)?d:null},vw=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:u})=>{const y=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,g=_N({dragStartTime:t,viewport:f,subject:a,center:y,shouldUseTimeDampening:n,getAutoScrollerOptions:u});if(g){r(g);return}}const c=bN({center:y,destination:dc(e.impact),droppables:e.dimensions.droppables});if(!c)return;const v=MN({dragStartTime:t,droppable:c,subject:a,center:y,shouldUseTimeDampening:n,getAutoScrollerOptions:u});v&&o(c.descriptor.id,v)},ON=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Y1})=>{const r=H1(e),o=H1(t);let u=null;const y=c=>{u||Un();const{shouldUseTimeDampening:v,dragStartTime:f}=u;vw({state:c,scrollWindow:r,scrollDroppable:o,dragStartTime:f,shouldUseTimeDampening:v,getAutoScrollerOptions:n})};return{start:c=>{u&&Un();const v=Date.now();let f=!1;const g=()=>{f=!0};vw({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),u={dragStartTime:v,shouldUseTimeDampening:f},f&&y(c)},stop:()=>{u&&(r.cancel(),o.cancel(),u=null)},scroll:y}},IN=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(d,a)=>{const c=Hl(d.current.client.selection,a);e({client:c})},o=(d,a)=>{if(!Dx(d,a))return a;const c=DN(d,a);if(!c)return t(d.descriptor.id,a),null;const v=hc(a,c);return t(d.descriptor.id,v),hc(a,v)},u=(d,a,c)=>{if(!d||!kx(a,c))return c;const v=kN(a,c);if(!v)return n(c),null;const f=hc(c,v);return n(f),hc(c,f)};return d=>{const a=d.scrollJumpRequest;if(!a)return;const c=dc(d.impact);c||Un();const v=o(d.dimensions.droppables[c],a);if(!v)return;const f=d.viewport,g=u(d.isWindowScrollAllowed,f,v);g&&r(d,g)}},RN=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=ON({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),u=IN({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:a=>{if(!(r().disabled||a.phase!=="DRAGGING")){if(a.movementMode==="FLUID"){o.scroll(a);return}a.scrollJumpRequest&&u(a)}},start:o.start,stop:o.stop}};const Md="data-rfd",Od=(()=>{const e=`${Md}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),cy=(()=>{const e=`${Md}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),NN=(()=>{const e=`${Md}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),yw={contextId:`${Md}-scroll-container-context-id`},LN=e=>t=>`[${t}="${e}"]`,h1=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),BN="pointer-events: none;";var FN=e=>{const t=LN(e),n=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Od.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:BN,dropAnimating:d}}})(),r=(()=>{const d=`
      transition: ${I1.outOfTheWay};
    `;return{selector:t(cy.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:t(NN.contextId),styles:{always:"overflow-anchor: none;"}},y=[r,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:h1(y,"always"),resting:h1(y,"resting"),dragging:h1(y,"dragging"),dropAnimating:h1(y,"dropAnimating"),userCancel:h1(y,"userCancel")}};const gc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ie.useLayoutEffect:Ie.useEffect,Vv=()=>{const e=document.querySelector("head");return e||Un(),e},xw=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function PN(e,t){const n=pa(()=>FN(e),[e]),r=Ie.useRef(null),o=Ie.useRef(null),u=Mr(Tl(f=>{const g=o.current;g||Un(),g.textContent=f}),[]),y=Mr(f=>{const g=r.current;g||Un(),g.textContent=f},[]);gc(()=>{!r.current&&!o.current||Un();const f=xw(t),g=xw(t);return r.current=f,o.current=g,f.setAttribute(`${Md}-always`,e),g.setAttribute(`${Md}-dynamic`,e),Vv().appendChild(f),Vv().appendChild(g),y(n.always),u(n.resting),()=>{const m=C=>{const k=C.current;k||Un(),Vv().removeChild(k),C.current=null};m(r),m(o)}},[t,y,u,n.always,n.resting,e]);const d=Mr(()=>u(n.dragging),[u,n.dragging]),a=Mr(f=>{if(f==="DROP"){u(n.dropAnimating);return}u(n.userCancel)},[u,n.dropAnimating,n.userCancel]),c=Mr(()=>{o.current&&u(n.resting)},[u,n.resting]);return pa(()=>({dragging:d,dropping:a,resting:c}),[d,a,c])}function t7(e,t){return Array.from(e.querySelectorAll(t))}var n7=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function xm(e){return e instanceof n7(e).HTMLElement}function zN(e,t){const n=`[${Od.contextId}="${e}"]`,r=t7(document,n);if(!r.length)return null;const o=r.find(u=>u.getAttribute(Od.draggableId)===t);return!o||!xm(o)?null:o}function HN(e){const t=Ie.useRef({}),n=Ie.useRef(null),r=Ie.useRef(null),o=Ie.useRef(!1),u=Mr(function(g,m){const C={id:g,focus:m};return t.current[g]=C,function(){const S=t.current;S[g]!==C&&delete S[g]}},[]),y=Mr(function(g){const m=zN(e,g);m&&m!==document.activeElement&&m.focus()},[e]),d=Mr(function(g,m){n.current===g&&(n.current=m)},[]),a=Mr(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&y(g)}))},[y]),c=Mr(function(g){n.current=null;const m=document.activeElement;m&&m.getAttribute(Od.draggableId)===g&&(n.current=g)},[]);return gc(()=>(o.current=!0,function(){o.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),pa(()=>({register:u,tryRecordFocus:c,tryRestoreFocusRecorded:a,tryShiftRecord:d}),[u,c,a,d])}function UN(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(g=>g(f))}function o(f){return e.draggables[f]||null}function u(f){const g=o(f);return g||Un(),g}const y={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,g)=>{const m=e.draggables[g.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const g=f.descriptor.id,m=o(g);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[g],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:u,findById:o,exists:f=>!!o(f),getAllByType:f=>Object.values(e.draggables).filter(g=>g.descriptor.type===f)};function d(f){return e.droppables[f]||null}function a(f){const g=d(f);return g||Un(),g}const c={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const g=d(f.descriptor.id);g&&f.uniqueId===g.uniqueId&&delete e.droppables[f.descriptor.id]},getById:a,findById:d,exists:f=>!!d(f),getAllByType:f=>Object.values(e.droppables).filter(g=>g.descriptor.type===f)};function v(){e.draggables={},e.droppables={},t.length=0}return{draggable:y,droppable:c,subscribe:n,clean:v}}function jN(){const e=pa(UN,[]);return Ie.useEffect(()=>function(){e.clean()},[e]),e}var _x=kn.createContext(null),Xp=()=>{const e=document.body;return e||Un(),e};const WN={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},GN=e=>`rfd-announcement-${e}`;function YN(e){const t=pa(()=>GN(e),[e]),n=Ie.useRef(null);return Ie.useEffect(function(){const u=document.createElement("div");return n.current=u,u.id=t,u.setAttribute("aria-live","assertive"),u.setAttribute("aria-atomic","true"),jp(u.style,WN),Xp().appendChild(u),function(){setTimeout(function(){const a=Xp();a.contains(u)&&a.removeChild(u),u===n.current&&(n.current=null)})}},[t]),Mr(o=>{const u=n.current;if(u){u.textContent=o;return}},[])}const XN={separator:"::"};function Mx(e,t=XN){const n=kn.useId();return pa(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function VN({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function KN({contextId:e,text:t}){const n=Mx("hidden-text",{separator:"-"}),r=pa(()=>VN({contextId:e,uniqueId:n}),[n,e]);return Ie.useEffect(function(){const u=document.createElement("div");return u.id=r,u.textContent=t,u.style.display="none",Xp().appendChild(u),function(){const d=Xp();d.contains(u)&&d.removeChild(u)}},[r,t]),r}var bm=kn.createContext(null);function r7(e){const t=Ie.useRef(e);return Ie.useEffect(()=>{t.current=e}),t}function ZN(){let e=null;function t(){return!!e}function n(y){return y===e}function r(y){e&&Un();const d={abandon:y};return e=d,d}function o(){e||Un(),e=null}function u(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:n,claim:r,release:o,tryAbandon:u}}function X1(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const qN=9,QN=13,Ox=27,i7=32,JN=33,$N=34,eL=35,tL=36,nL=37,rL=38,iL=39,aL=40,oL={[QN]:!0,[qN]:!0};var a7=e=>{oL[e.keyCode]&&e.preventDefault()};const wm=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),o7=0,bw=5;function sL(e,t){return Math.abs(t.x-e.x)>=bw||Math.abs(t.y-e.y)>=bw}const ww={type:"IDLE"};function lL({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:u,clientX:y,clientY:d}=o;if(u!==o7)return;const a={x:y,y:d},c=n();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(a);return}c.type!=="PENDING"&&Un();const v=c.point;if(!sL(v,a))return;o.preventDefault();const f=c.actions.fluidLift(a);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:o=>{const u=n();if(u.type!=="DRAGGING"){e();return}o.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){e();return}if(o.keyCode===Ox){o.preventDefault(),e();return}a7(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const u=n();if(u.type==="IDLE"&&Un(),u.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:wm,fn:e}]}function uL(e){const t=Ie.useRef(ww),n=Ie.useRef(Kh),r=pa(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==o7||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const g=e.findClosestDraggableId(f);if(!g)return;const m=e.tryGetLock(g,y,{sourceEvent:f});if(!m)return;f.preventDefault();const C={x:f.clientX,y:f.clientY};n.current(),c(m,C)}}),[e]),o=pa(()=>({eventName:"webkitmouseforcewillbegin",fn:v=>{if(v.defaultPrevented)return;const f=e.findClosestDraggableId(v);if(!f)return;const g=e.findOptionsForDraggable(f);g&&(g.shouldRespectForcePress||e.canGetLock(f)&&v.preventDefault())}}),[e]),u=Mr(function(){const f={passive:!1,capture:!0};n.current=Nc(window,[o,r],f)},[o,r]),y=Mr(()=>{t.current.type!=="IDLE"&&(t.current=ww,n.current(),u())},[u]),d=Mr(()=>{const v=t.current;y(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[y]),a=Mr(function(){const f={capture:!0,passive:!1},g=lL({cancel:d,completed:y,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Nc(window,g,f)},[d,y]),c=Mr(function(f,g){t.current.type!=="IDLE"&&Un(),t.current={type:"PENDING",point:g,actions:f},a()},[a]);gc(function(){return u(),function(){n.current()}},[u])}function cL(){}const fL={[$N]:!0,[JN]:!0,[tL]:!0,[eL]:!0};function hL(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Ox){o.preventDefault(),n();return}if(o.keyCode===i7){o.preventDefault(),r();return}if(o.keyCode===aL){o.preventDefault(),e.moveDown();return}if(o.keyCode===rL){o.preventDefault(),e.moveUp();return}if(o.keyCode===iL){o.preventDefault(),e.moveRight();return}if(o.keyCode===nL){o.preventDefault(),e.moveLeft();return}if(fL[o.keyCode]){o.preventDefault();return}a7(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:wm,fn:n}]}function dL(e){const t=Ie.useRef(cL),n=pa(()=>({eventName:"keydown",fn:function(u){if(u.defaultPrevented||u.keyCode!==i7)return;const y=e.findClosestDraggableId(u);if(!y)return;const d=e.tryGetLock(y,v,{sourceEvent:u});if(!d)return;u.preventDefault();let a=!0;const c=d.snapLift();t.current();function v(){a||Un(),a=!1,t.current(),r()}t.current=Nc(window,hL(c,v),{capture:!0,passive:!1})}}),[e]),r=Mr(function(){const u={passive:!1,capture:!0};t.current=Nc(window,[n],u)},[n]);gc(function(){return r(),function(){t.current()}},[r])}const Kv={type:"IDLE"},gL=120,pL=.15;function mL({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Ox&&n.preventDefault(),e()}},{eventName:wm,fn:e}]}function vL({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:u,clientY:y}=r.touches[0],d={x:u,y};r.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=n();o.type==="IDLE"&&Un();const u=r.touches[0];if(!u||!(u.force>=pL))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:wm,fn:e}]}function yL(e){const t=Ie.useRef(Kv),n=Ie.useRef(Kh),r=Mr(function(){return t.current},[]),o=Mr(function(m){t.current=m},[]),u=pa(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const C=e.findClosestDraggableId(m);if(!C)return;const k=e.tryGetLock(C,d,{sourceEvent:m});if(!k)return;const S=m.touches[0],{clientX:O,clientY:N}=S,U={x:O,y:N};n.current(),f(k,U)}}),[e]),y=Mr(function(){const m={capture:!0,passive:!1};n.current=Nc(window,[u],m)},[u]),d=Mr(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),o(Kv),n.current(),y())},[y,o]),a=Mr(()=>{const g=t.current;d(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[d]),c=Mr(function(){const m={capture:!0,passive:!1},C={cancel:a,completed:d,getPhase:r},k=Nc(window,vL(C),m),S=Nc(window,mL(C),m);n.current=function(){k(),S()}},[a,r,d]),v=Mr(function(){const m=r();m.type!=="PENDING"&&Un();const C=m.actions.fluidLift(m.point);o({type:"DRAGGING",actions:C,hasMoved:!1})},[r,o]),f=Mr(function(m,C){r().type!=="IDLE"&&Un();const k=setTimeout(v,gL);o({type:"PENDING",point:C,actions:m,longPressTimerId:k}),c()},[c,r,o,v]);gc(function(){return y(),function(){n.current();const C=r();C.type==="PENDING"&&(clearTimeout(C.longPressTimerId),o(Kv))}},[r,y,o]),gc(function(){return Nc(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const xL=["input","button","textarea","select","option","optgroup","video","audio"];function s7(e,t){if(t==null)return!1;if(xL.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:s7(e,t.parentElement)}function bL(e,t){const n=t.target;return xm(n)?s7(e,n):!1}var wL=e=>of(e.getBoundingClientRect()).center;function CL(e){return e instanceof n7(e).Element}const SL=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function l7(e,t){return e==null?null:e[SL](t)?e:l7(e.parentElement,t)}function EL(e,t){return e.closest?e.closest(t):l7(e,t)}function AL(e){return`[${Od.contextId}="${e}"]`}function TL(e,t){const n=t.target;if(!CL(n))return null;const r=AL(e),o=EL(n,r);return!o||!xm(o)?null:o}function kL(e,t){const n=TL(e,t);return n?n.getAttribute(Od.draggableId):null}function DL(e,t){const n=`[${cy.contextId}="${e}"]`,o=t7(document,n).find(u=>u.getAttribute(cy.id)===t);return!o||!xm(o)?null:o}function _L(e){e.preventDefault()}function Gg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function u7({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!(!o||!o.options.isEnabled||!Q8(t.getState(),r))}function ML({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:u,sourceEvent:y}){if(!u7({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const a=r.draggable.getById(o),c=DL(t,a.descriptor.id);if(!c||y&&!a.options.canDragInteractiveElements&&bL(c,y))return null;const v=e.claim(u||Kh);let f="PRE_DRAG";function g(){return a.options.shouldRespectForcePress}function m(){return e.isActive(v)}function C(q,J){Gg({expected:q,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(J())}const k=C.bind(null,"DRAGGING");function S(q){function J(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(J(),Un()),n.dispatch(ER(q.liftActionArgs)),f="DRAGGING";function ne(ve,Se={shouldBlockNextClick:!1}){if(q.cleanup(),Se.shouldBlockNextClick){const Fe=Nc(window,[{eventName:"click",fn:_L,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Fe)}J(),n.dispatch(W8({reason:ve}))}return{isActive:()=>Gg({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:g,drop:ve=>ne("DROP",ve),cancel:ve=>ne("CANCEL",ve),...q.actions}}function O(q){const J=H1(ve=>{k(()=>j8({client:ve}))});return{...S({liftActionArgs:{id:o,clientSelection:q,movementMode:"FLUID"},cleanup:()=>J.cancel(),actions:{move:J}}),move:J}}function N(){const q={moveUp:()=>k(RR),moveRight:()=>k(LR),moveDown:()=>k(NR),moveLeft:()=>k(BR)};return S({liftActionArgs:{id:o,clientSelection:wL(c),movementMode:"SNAP"},cleanup:Kh,actions:q})}function U(){Gg({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>Gg({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:O,snapLift:N,abort:U}}const OL=[uL,dL,yL];function IL({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const u=[...o?OL:[],...r||[]],y=Ie.useState(()=>ZN())[0],d=Mr(function(S,O){X1(S)&&!X1(O)&&y.tryAbandon()},[y]);gc(function(){let S=t.getState();return t.subscribe(()=>{const N=t.getState();d(S,N),S=N})},[y,t,d]),gc(()=>y.tryAbandon,[y.tryAbandon]);const a=Mr(k=>u7({lockAPI:y,registry:n,store:t,draggableId:k}),[y,n,t]),c=Mr((k,S,O)=>ML({lockAPI:y,registry:n,contextId:e,store:t,draggableId:k,forceSensorStop:S||null,sourceEvent:O&&O.sourceEvent?O.sourceEvent:null}),[e,y,n,t]),v=Mr(k=>kL(e,k),[e]),f=Mr(k=>{const S=n.draggable.findById(k);return S?S.options:null},[n.draggable]),g=Mr(function(){y.isClaimed()&&(y.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Cx()))},[y,t]),m=Mr(()=>y.isClaimed(),[y]),C=pa(()=>({canGetLock:a,tryGetLock:c,findClosestDraggableId:v,findOptionsForDraggable:f,tryReleaseLock:g,isLockClaimed:m}),[a,c,v,f,g,m]);for(let k=0;k<u.length;k++)u[k](C)}const RL=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};sm.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),NL=e=>({...Y1,...e.autoScrollerOptions,durationDampening:{...Y1.durationDampening,...e.autoScrollerOptions}});function d1(e){return e.current||Un(),e.current}function LL(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:u}=e,y=Ie.useRef(null),d=r7(e),a=Mr(()=>RL(d.current),[d]),c=Mr(()=>NL(d.current),[d]),v=YN(t),f=KN({contextId:t,text:u}),g=PN(t,o),m=Mr(Fe=>{d1(y).dispatch(Fe)},[]),C=pa(()=>V3({publishWhileDragging:TR,updateDroppableScroll:DR,updateDroppableIsEnabled:_R,updateDroppableIsCombineEnabled:MR,collectionStarting:kR},m),[m]),k=jN(),S=pa(()=>mN(k,C),[k,C]),O=pa(()=>RN({scrollWindow:vN,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:c,...V3({move:j8},m)}),[S.scrollDroppable,m,c]),N=HN(t),U=pa(()=>hN({announce:v,autoScroller:O,dimensionMarshal:S,focusMarshal:N,getResponders:a,styleMarshal:g}),[v,O,S,N,a,g]);y.current=U;const W=Mr(()=>{const Fe=d1(y);Fe.getState().phase!=="IDLE"&&Fe.dispatch(Cx())},[]),q=Mr(()=>{const Fe=d1(y).getState();return Fe.phase==="DROP_ANIMATING"?!0:Fe.phase==="IDLE"?!1:Fe.isDragging},[]),J=pa(()=>({isDragging:q,tryAbort:W}),[q,W]);n(J);const ne=Mr(Fe=>Q8(d1(y).getState(),Fe),[]),ve=Mr(()=>k0(d1(y).getState()),[]),Se=pa(()=>({marshal:S,focus:N,contextId:t,canLift:ne,isMovementAllowed:ve,dragHandleUsageInstructionsId:f,registry:k}),[t,S,f,N,ne,ve,k]);return IL({contextId:t,store:U,registry:k,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),Ie.useEffect(()=>W,[W]),kn.createElement(bm.Provider,{value:Se},kn.createElement(oI,{context:_x,store:U},e.children))}function BL(){return kn.useId()}function c7(e){const t=BL(),n=e.dragHandleUsageInstructions||yp.dragHandleUsageInstructions;return kn.createElement(dI,null,r=>kn.createElement(LL,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Cw={dragging:5e3,dropAnimating:4500},FL=(e,t)=>t?I1.drop(t.duration):e?I1.snap:I1.fluid,PL=(e,t)=>{if(e)return t?G1.opacity.drop:G1.opacity.combining},zL=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function HL(e){const n=e.dimension.client,{offset:r,combineWith:o,dropping:u}=e,y=!!o,d=zL(e),a=!!u,c=a?ly.drop(r,y):ly.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:FL(d,u),transform:c,opacity:PL(y,a),zIndex:a?Cw.dropAnimating:Cw.dragging,pointerEvents:"none"}}function UL(e){return{transform:ly.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function jL(e){return e.type==="DRAGGING"?HL(e):UL(e)}function WL(e,t,n=kl){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),u=m8(o,r),y=Up(u,n),d={client:u,tagName:t.tagName.toLowerCase(),display:r.display},a={x:u.marginBox.width,y:u.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:a,client:u,page:y}}function GL(e){const t=Mx("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:u,shouldRespectForcePress:y,isEnabled:d}=e,a=pa(()=>({canDragInteractiveElements:u,shouldRespectForcePress:y,isEnabled:d}),[u,d,y]),c=Mr(m=>{const C=o();return C||Un(),WL(n,C,m)},[n,o]),v=pa(()=>({uniqueId:t,descriptor:n,options:a,getDimension:c}),[n,c,a,t]),f=Ie.useRef(v),g=Ie.useRef(!0);gc(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),gc(()=>{if(g.current){g.current=!1;return}const m=f.current;f.current=v,r.draggable.update(v,m)},[v,r.draggable])}var Ix=kn.createContext(null);function Vp(e){const t=Ie.useContext(e);return t||Un(),t}function YL(e){e.preventDefault()}const XL=e=>{const t=Ie.useRef(null),n=Mr((J=null)=>{t.current=J},[]),r=Mr(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:u,registry:y}=Vp(bm),{type:d,droppableId:a}=Vp(Ix),c=pa(()=>({id:e.draggableId,index:e.index,type:d,droppableId:a}),[e.draggableId,e.index,d,a]),{children:v,draggableId:f,isEnabled:g,shouldRespectForcePress:m,canDragInteractiveElements:C,isClone:k,mapped:S,dropAnimationFinished:O}=e;if(!k){const J=pa(()=>({descriptor:c,registry:y,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:m,isEnabled:g}),[c,y,r,C,m,g]);GL(J)}const N=pa(()=>g?{tabIndex:0,role:"button","aria-describedby":u,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:YL}:null,[o,u,f,g]),U=Mr(J=>{S.type==="DRAGGING"&&S.dropping&&J.propertyName==="transform"&&sm.flushSync(O)},[O,S]),W=pa(()=>{const J=jL(S),ne=S.type==="DRAGGING"&&S.dropping?U:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":f,style:J,onTransitionEnd:ne},dragHandleProps:N}},[o,N,f,S,U,n]),q=pa(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return kn.createElement(kn.Fragment,null,v(W,S.snapshot,q))};var f7=(e,t)=>e===t,h7=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const VL=e=>e.combine?e.combine.draggableId:null,KL=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function ZL(){const e=Tl((o,u)=>({x:o,y:u})),t=Tl((o,u,y=null,d=null,a=null)=>({isDragging:!0,isClone:u,isDropAnimating:!!a,dropAnimation:a,mode:o,draggingOver:y,combineWith:d,combineTargetFor:null})),n=Tl((o,u,y,d,a=null,c=null,v=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:c,mode:u,offset:o,dimension:y,forceShouldAnimate:v,snapshot:t(u,d,a,c,null)}}));return(o,u)=>{if(X1(o)){if(o.critical.draggable.id!==u.draggableId)return null;const y=o.current.client.offset,d=o.dimensions.draggables[u.draggableId],a=dc(o.impact),c=KL(o.impact),v=o.forceShouldAnimate;return n(e(y.x,y.y),o.movementMode,d,u.isClone,a,c,v)}if(o.phase==="DROP_ANIMATING"){const y=o.completed;if(y.result.draggableId!==u.draggableId)return null;const d=u.isClone,a=o.dimensions.draggables[u.draggableId],c=y.result,v=c.mode,f=h7(c),g=VL(c),C={duration:o.dropDuration,curve:Ex.drop,moveTo:o.newHomeClientOffset,opacity:g?G1.opacity.drop:null,scale:g?G1.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:a,dropping:C,draggingOver:f,combineWith:g,mode:v,forceShouldAnimate:null,snapshot:t(v,d,f,g,C)}}}return null}}function d7(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const qL={mapped:{type:"SECONDARY",offset:kl,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:d7(null)}};function QL(){const e=Tl((y,d)=>({x:y,y:d})),t=Tl(d7),n=Tl((y,d=null,a)=>({mapped:{type:"SECONDARY",offset:y,combineTargetFor:d,shouldAnimateDisplacement:a,snapshot:t(d)}})),r=y=>y?n(kl,y,!0):null,o=(y,d,a,c)=>{const v=a.displaced.visible[y],f=!!(c.inVirtualList&&c.effected[y]),g=mm(a),m=g&&g.draggableId===y?d:null;if(!v){if(!f)return r(m);if(a.displaced.invisible[y])return null;const S=zd(c.displacedBy.point),O=e(S.x,S.y);return n(O,m,!0)}if(f)return r(m);const C=a.displacedBy.point,k=e(C.x,C.y);return n(k,m,v.shouldAnimate)};return(y,d)=>{if(X1(y))return y.critical.draggable.id===d.draggableId?null:o(d.draggableId,y.critical.draggable.id,y.impact,y.afterCritical);if(y.phase==="DROP_ANIMATING"){const a=y.completed;return a.result.draggableId===d.draggableId?null:o(d.draggableId,a.result.draggableId,a.impact,a.afterCritical)}return null}}const JL=()=>{const e=ZL(),t=QL();return(r,o)=>e(r,o)||t(r,o)||qL},$L={dropAnimationFinished:G8},eB=p8(JL,$L,null,{context:_x,areStatePropsEqual:f7})(XL);function g7(e){return Vp(Ix).isUsingCloneFor===e.draggableId&&!e.isClone?null:kn.createElement(eB,e)}function fy(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return kn.createElement(g7,jp({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const p7=e=>t=>e===t,tB=p7("scroll"),nB=p7("auto"),Sw=(e,t)=>t(e.overflowX)||t(e.overflowY),rB=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Sw(n,tB)||Sw(n,nB)},iB=()=>!1,m7=e=>e==null?null:e===document.body?iB()?e:null:e===document.documentElement?null:rB(e)?e:m7(e.parentElement);var hy=e=>({x:e.scrollLeft,y:e.scrollTop});const v7=e=>e?window.getComputedStyle(e).position==="fixed"?!0:v7(e.parentElement):!1;var aB=e=>{const t=m7(e),n=v7(e);return{closestScrollable:t,isFixedOnPage:n}},oB=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:u,page:y,closest:d})=>{const a=(()=>{if(!d)return null;const{scrollSize:g,client:m}=d,C=K8({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:m,scrollSize:g,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:C,diff:{value:kl,displacement:kl}}}})(),c=o==="vertical"?vx:k8,v=_d({page:y,withPlaceholder:null,axis:c,frame:a});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:u,page:y,frame:a,subject:v}};const sB=(e,t)=>{const n=v8(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,u=r+t.scrollHeight,y=o+t.scrollWidth,a=dx({top:r,right:y,bottom:u,left:o},n.border);return gx({borderBox:a,margin:n.margin,border:n.border,padding:n.padding})};var lB=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:u,isCombineEnabled:y,shouldClipSubject:d})=>{const a=n.closestScrollable,c=sB(e,a),v=Up(c,r),f=(()=>{if(!a)return null;const m=v8(a),C={scrollHeight:a.scrollHeight,scrollWidth:a.scrollWidth};return{client:m,page:Up(m,r),scroll:hy(a),scrollSize:C,shouldClipSubject:d}})();return oB({descriptor:t,isEnabled:!u,isCombineEnabled:y,isFixedOnPage:n.isFixedOnPage,direction:o,client:c,page:v,closest:f})};const uB={passive:!1},cB={passive:!0};var Ew=e=>e.shouldPublishImmediately?uB:cB;const Yg=e=>e&&e.env.closestScrollable||null;function fB(e){const t=Ie.useRef(null),n=Vp(bm),r=Mx("droppable"),{registry:o,marshal:u}=n,y=r7(e),d=pa(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),a=Ie.useRef(d),c=pa(()=>Tl((W,q)=>{t.current||Un();const J={x:W,y:q};u.updateDroppableScroll(d.id,J)}),[d.id,u]),v=Mr(()=>{const W=t.current;return!W||!W.env.closestScrollable?kl:hy(W.env.closestScrollable)},[]),f=Mr(()=>{const W=v();c(W.x,W.y)},[v,c]),g=pa(()=>H1(f),[f]),m=Mr(()=>{const W=t.current,q=Yg(W);if(W&&q||Un(),W.scrollOptions.shouldPublishImmediately){f();return}g()},[g,f]),C=Mr((W,q)=>{t.current&&Un();const J=y.current,ne=J.getDroppableRef();ne||Un();const ve=aB(ne),Se={ref:ne,descriptor:d,env:ve,scrollOptions:q};t.current=Se;const Fe=lB({ref:ne,descriptor:d,env:ve,windowScroll:W,direction:J.direction,isDropDisabled:J.isDropDisabled,isCombineEnabled:J.isCombineEnabled,shouldClipSubject:!J.ignoreContainerClipping}),Ue=ve.closestScrollable;return Ue&&(Ue.setAttribute(yw.contextId,n.contextId),Ue.addEventListener("scroll",m,Ew(Se.scrollOptions))),Fe},[n.contextId,d,m,y]),k=Mr(()=>{const W=t.current,q=Yg(W);return W&&q||Un(),hy(q)},[]),S=Mr(()=>{const W=t.current;W||Un();const q=Yg(W);t.current=null,q&&(g.cancel(),q.removeAttribute(yw.contextId),q.removeEventListener("scroll",m,Ew(W.scrollOptions)))},[m,g]),O=Mr(W=>{const q=t.current;q||Un();const J=Yg(q);J||Un(),J.scrollTop+=W.y,J.scrollLeft+=W.x},[]),N=pa(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:k,dragStopped:S,scroll:O}),[S,C,k,O]),U=pa(()=>({uniqueId:r,descriptor:d,callbacks:N}),[N,d,r]);gc(()=>(a.current=U.descriptor,o.droppable.register(U),()=>{t.current&&S(),o.droppable.unregister(U)}),[N,d,S,U,u,o.droppable]),gc(()=>{t.current&&u.updateDroppableIsEnabled(a.current.id,!e.isDropDisabled)},[e.isDropDisabled,u]),gc(()=>{t.current&&u.updateDroppableIsCombineEnabled(a.current.id,e.isCombineEnabled)},[e.isCombineEnabled,u])}function Zv(){}const Aw={width:0,height:0,margin:bI},hB=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Aw:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},dB=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=hB({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?I1.placeholder:null}},gB=e=>{const t=Ie.useRef(null),n=Mr(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:u,contextId:y}=e,[d,a]=Ie.useState(e.animate==="open");Ie.useEffect(()=>d?r!=="open"?(n(),a(!1),Zv):t.current?Zv:(t.current=setTimeout(()=>{t.current=null,a(!1)}),n):Zv,[r,d,n]);const c=Mr(f=>{f.propertyName==="height"&&(o(),r==="close"&&u())},[r,u,o]),v=dB({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return kn.createElement(e.placeholder.tagName,{style:v,"data-rfd-placeholder-context-id":y,onTransitionEnd:c,ref:e.innerRef})};var pB=kn.memo(gB);class mB extends kn.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const vB=e=>{const t=Ie.useContext(bm);t||Un();const{contextId:n,isMovementAllowed:r}=t,o=Ie.useRef(null),u=Ie.useRef(null),{children:y,droppableId:d,type:a,mode:c,direction:v,ignoreContainerClipping:f,isDropDisabled:g,isCombineEnabled:m,snapshot:C,useClone:k,updateViewportMaxScroll:S,getContainerForClone:O}=e,N=Mr(()=>o.current,[]),U=Mr((Ue=null)=>{o.current=Ue},[]);Mr(()=>u.current,[]);const W=Mr((Ue=null)=>{u.current=Ue},[]),q=Mr(()=>{r()&&S({maxScroll:q8()})},[r,S]);fB({droppableId:d,type:a,mode:c,direction:v,isDropDisabled:g,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:N});const J=pa(()=>kn.createElement(mB,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:Ue,data:Ze,animate:mt})=>kn.createElement(pB,{placeholder:Ze,onClose:Ue,innerRef:W,animate:mt,contextId:n,onTransitionEnd:q})),[n,q,e.placeholder,e.shouldAnimatePlaceholder,W]),ne=pa(()=>({innerRef:U,placeholder:J,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":n}}),[n,d,J,U]),ve=k?k.dragging.draggableId:null,Se=pa(()=>({droppableId:d,type:a,isUsingCloneFor:ve}),[d,ve,a]);function Fe(){if(!k)return null;const{dragging:Ue,render:Ze}=k,mt=kn.createElement(g7,{draggableId:Ue.draggableId,index:Ue.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ct,ge)=>Ze(ct,ge,Ue));return Gk.createPortal(mt,O())}return kn.createElement(Ix.Provider,{value:Se},y(ne,C),Fe())};function yB(){return document.body||Un(),document.body}const Tw={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:yB},y7=e=>{let t={...e},n;for(n in Tw)e[n]===void 0&&(t={...t,[n]:Tw[n]});return t},qv=(e,t)=>e===t.droppable.type,kw=(e,t)=>t.draggables[e.draggable.id],xB=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Tl(u=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}})),r=Tl((u,y,d,a,c,v)=>{const f=c.descriptor.id;if(c.descriptor.droppableId===u){const C=v?{render:v,dragging:n(c.descriptor)}:null,k={isDraggingOver:d,draggingOverWith:d?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:k,useClone:C}}if(!y)return t;if(!a)return e;const m={isDraggingOver:d,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(u,y)=>{const d=y7(y),a=d.droppableId,c=d.type,v=!d.isDropDisabled,f=d.renderClone;if(X1(u)){const g=u.critical;if(!qv(c,g))return t;const m=kw(g,u.dimensions),C=dc(u.impact)===a;return r(a,v,C,C,m,f)}if(u.phase==="DROP_ANIMATING"){const g=u.completed;if(!qv(c,g.critical))return t;const m=kw(g.critical,u.dimensions);return r(a,v,h7(g.result)===a,dc(g.impact)===a,m,f)}if(u.phase==="IDLE"&&u.completed&&!u.shouldFlush){const g=u.completed;if(!qv(c,g.critical))return t;const m=dc(g.impact)===a,C=!!(g.impact.at&&g.impact.at.type==="COMBINE"),k=g.critical.droppable.id===a;return m?C?e:t:k?e:t}return t}},bB={updateViewportMaxScroll:IR},dy=p8(xB,bB,(e,t,n)=>({...y7(n),...e,...t}),{context:_x,areStatePropsEqual:f7})(vB),wB=({children:e,touchDelay:t=800,...n})=>{const[r,o]=Ie.useState(!1),u=Ie.useRef(null),y=Ie.useRef(null),d=Ie.useRef(!1),a=Ie.useRef(null),c=g=>{if(g.nativeEvent._isSynthetic)return;const m=g.touches[0];y.current={x:m.clientX,y:m.clientY},a.current=m,d.current=!1,o(!0),u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(()=>{d.current=!0,o(!1),window.navigator.vibrate&&window.navigator.vibrate(40),setTimeout(()=>{if(d.current&&a.current){const C=g.target,k=a.current,S=new TouchEvent("touchstart",{cancelable:!0,bubbles:!0,touches:[k],targetTouches:[k],changedTouches:[k]});S._isSynthetic=!0,C.dispatchEvent(S)}},50)},t)},v=g=>{if(g.nativeEvent._isSynthetic||!y.current||d.current)return;const m=g.touches[0],C=Math.abs(m.clientX-y.current.x),k=Math.abs(m.clientY-y.current.y);(C>10||k>10)&&(u.current&&(window.clearTimeout(u.current),u.current=null),o(!0))},f=g=>{g.nativeEvent._isSynthetic||(u.current&&(window.clearTimeout(u.current),u.current=null),d.current=!1,setTimeout(()=>{o(!1)},100))};return te.jsx(fy,{...n,isDragDisabled:r,children:(g,m)=>te.jsx("div",{onTouchStart:c,onTouchMove:v,onTouchEnd:f,style:{touchAction:"pan-y",...m.isDragging?{zIndex:9999}:{}},children:e(g,m)})})},CB=({memo:e,index:t,isActive:n,onClick:r,formatDate:o,inThread:u,untitledText:y,isThreadHead:d,childCount:a,collapsed:c,onToggle:v,threadId:f,collapseText:g,moreText:m})=>{const C=String(e.id);return te.jsx(wB,{draggableId:C,index:t,children:(k,S)=>te.jsxs("div",{ref:k.innerRef,...k.draggableProps,...k.dragHandleProps,style:{...k.draggableProps.style,marginBottom:"2px",opacity:S.isDragging?.8:1,transition:"background-color 0.1s ease-out, border-color 0.1s ease-out",borderRadius:"8px",border:S.combineTargetFor?"2px solid #3b82f6":"2px solid transparent",backgroundColor:S.combineTargetFor?"rgba(59, 130, 246, 0.05)":"transparent"},children:[te.jsxs(nO,{to:`/memo/${e.id}`,$isActive:n,$inThread:u,onClick:()=>r?.(!0),children:[te.jsx(rO,{title:e.title||y,children:e.title||y}),te.jsx(iO,{children:o(e.createdAt)})]}),d&&a&&a>0&&v&&f&&te.jsx("div",{style:{paddingLeft:"0.5rem"},children:te.jsxs(aO,{onClick:O=>{O.preventDefault(),O.stopPropagation(),v(f)},children:[te.jsx(g_,{}),c?(m||"More").replace("{count}",String(a)):g||"Collapse"]})})]})})},zl=[];for(let e=0;e<256;++e)zl.push((e+256).toString(16).slice(1));function SB(e,t=0){return(zl[e[t+0]]+zl[e[t+1]]+zl[e[t+2]]+zl[e[t+3]]+"-"+zl[e[t+4]]+zl[e[t+5]]+"-"+zl[e[t+6]]+zl[e[t+7]]+"-"+zl[e[t+8]]+zl[e[t+9]]+"-"+zl[e[t+10]]+zl[e[t+11]]+zl[e[t+12]]+zl[e[t+13]]+zl[e[t+14]]+zl[e[t+15]]).toLowerCase()}let Qv;const EB=new Uint8Array(16);function AB(){if(!Qv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qv=crypto.getRandomValues.bind(crypto)}return Qv(EB)}const TB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dw={randomUUID:TB};function kB(e,t,n){e=e||{};const r=e.random??e.rng?.()??AB();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,SB(r)}function DB(e,t,n){return Dw.randomUUID&&!e?Dw.randomUUID():kB(e)}const x7=6048e5,_B=864e5,_w=Symbol.for("constructDateFrom");function e0(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&_w in e?e[_w](t):e instanceof Date?new e.constructor(t):new Date(t)}function ff(e,t){return e0(t||e,e)}let MB={};function Cm(){return MB}function V1(e,t){const n=Cm(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ff(e,t?.in),u=o.getDay(),y=(u<r?7:0)+u-r;return o.setDate(o.getDate()-y),o.setHours(0,0,0,0),o}function Kp(e,t){return V1(e,{...t,weekStartsOn:1})}function b7(e,t){const n=ff(e,t?.in),r=n.getFullYear(),o=e0(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const u=Kp(o),y=e0(n,0);y.setFullYear(r,0,4),y.setHours(0,0,0,0);const d=Kp(y);return n.getTime()>=u.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Mw(e){const t=ff(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function OB(e,...t){const n=e0.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Ow(e,t){const n=ff(e,t?.in);return n.setHours(0,0,0,0),n}function IB(e,t,n){const[r,o]=OB(n?.in,e,t),u=Ow(r),y=Ow(o),d=+u-Mw(u),a=+y-Mw(y);return Math.round((d-a)/_B)}function RB(e,t){const n=b7(e,t),r=e0(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Kp(r)}function NB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function LB(e){return!(!NB(e)&&typeof e!="number"||isNaN(+ff(e)))}function BB(e,t){const n=ff(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const FB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PB=(e,t,n)=>{let r;const o=FB[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jv(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jB={date:Jv({formats:zB,defaultWidth:"full"}),time:Jv({formats:HB,defaultWidth:"full"}),dateTime:Jv({formats:UB,defaultWidth:"full"})},WB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GB=(e,t,n,r)=>WB[e];function g1(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const y=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):y;o=e.formattingValues[d]||e.formattingValues[y]}else{const y=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;o=e.values[d]||e.values[y]}const u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}const YB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QB=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},JB={ordinalNumber:QB,era:g1({values:YB,defaultWidth:"wide"}),quarter:g1({values:XB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:g1({values:VB,defaultWidth:"wide"}),day:g1({values:KB,defaultWidth:"wide"}),dayPeriod:g1({values:ZB,defaultWidth:"wide",formattingValues:qB,defaultFormattingWidth:"wide"})};function p1(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],u=t.match(o);if(!u)return null;const y=u[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(d)?eF(d,f=>f.test(y)):$B(d,f=>f.test(y));let c;c=e.valueCallback?e.valueCallback(a):a,c=n.valueCallback?n.valueCallback(c):c;const v=t.slice(y.length);return{value:c,rest:v}}}function $B(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function eF(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function tF(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],u=t.match(e.parsePattern);if(!u)return null;let y=e.valueCallback?e.valueCallback(u[0]):u[0];y=n.valueCallback?n.valueCallback(y):y;const d=t.slice(o.length);return{value:y,rest:d}}}const nF=/^(\d+)(th|st|nd|rd)?/i,rF=/\d+/i,iF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aF={any:[/^b/i,/^(a|c)/i]},oF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sF={any:[/1/i,/2/i,/3/i,/4/i]},lF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gF={ordinalNumber:tF({matchPattern:nF,parsePattern:rF,valueCallback:e=>parseInt(e,10)}),era:p1({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any"}),quarter:p1({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:p1({matchPatterns:lF,defaultMatchWidth:"wide",parsePatterns:uF,defaultParseWidth:"any"}),day:p1({matchPatterns:cF,defaultMatchWidth:"wide",parsePatterns:fF,defaultParseWidth:"any"}),dayPeriod:p1({matchPatterns:hF,defaultMatchWidth:"any",parsePatterns:dF,defaultParseWidth:"any"})},pF={code:"en-US",formatDistance:PB,formatLong:jB,formatRelative:GB,localize:JB,match:gF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mF(e,t){const n=ff(e,t?.in);return IB(n,BB(n))+1}function vF(e,t){const n=ff(e,t?.in),r=+Kp(n)-+RB(n);return Math.round(r/x7)+1}function w7(e,t){const n=ff(e,t?.in),r=n.getFullYear(),o=Cm(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,y=e0(t?.in||e,0);y.setFullYear(r+1,0,u),y.setHours(0,0,0,0);const d=V1(y,t),a=e0(t?.in||e,0);a.setFullYear(r,0,u),a.setHours(0,0,0,0);const c=V1(a,t);return+n>=+d?r+1:+n>=+c?r:r-1}function yF(e,t){const n=Cm(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=w7(e,t),u=e0(t?.in||e,0);return u.setFullYear(o,0,r),u.setHours(0,0,0,0),V1(u,t)}function xF(e,t){const n=ff(e,t?.in),r=+V1(n,t)-+yF(n,t);return Math.round(r/x7)+1}function Xa(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Uh={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xa(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Xa(n+1,2)},d(e,t){return Xa(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Xa(e.getHours()%12||12,t.length)},H(e,t){return Xa(e.getHours(),t.length)},m(e,t){return Xa(e.getMinutes(),t.length)},s(e,t){return Xa(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Xa(o,t.length)}},ld={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Iw={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Uh.y(e,t)},Y:function(e,t,n,r){const o=w7(e,r),u=o>0?o:1-o;if(t==="YY"){const y=u%100;return Xa(y,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Xa(u,t.length)},R:function(e,t){const n=b7(e);return Xa(n,t.length)},u:function(e,t){const n=e.getFullYear();return Xa(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xa(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xa(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Uh.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xa(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=xF(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Xa(o,t.length)},I:function(e,t,n){const r=vF(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Xa(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Uh.d(e,t)},D:function(e,t,n){const r=mF(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xa(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Xa(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),u=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Xa(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Xa(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=ld.noon:r===0?o=ld.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=ld.evening:r>=12?o=ld.afternoon:r>=4?o=ld.morning:o=ld.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Uh.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Uh.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xa(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xa(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Uh.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Uh.s(e,t)},S:function(e,t){return Uh.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Nw(r);case"XXXX":case"XX":return D0(r);default:return D0(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Nw(r);case"xxxx":case"xx":return D0(r);default:return D0(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Rw(r,":");default:return"GMT"+D0(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Rw(r,":");default:return"GMT"+D0(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Xa(r,t.length)},T:function(e,t,n){return Xa(+e,t.length)}};function Rw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),u=r%60;return u===0?n+String(o):n+String(o)+t+Xa(u,2)}function Nw(e,t){return e%60===0?(e>0?"-":"+")+Xa(Math.abs(e)/60,2):D0(e,t)}function D0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Xa(Math.trunc(r/60),2),u=Xa(r%60,2);return n+o+t+u}const Lw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},C7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},bF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Lw(e,t);let u;switch(r){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",Lw(r,t)).replace("{{time}}",C7(o,t))},wF={p:C7,P:bF},CF=/^D+$/,SF=/^Y+$/,EF=["D","DD","YY","YYYY"];function AF(e){return CF.test(e)}function TF(e){return SF.test(e)}function kF(e,t,n){const r=DF(e,t,n);if(console.warn(r),EF.includes(e))throw new RangeError(r)}function DF(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _F=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OF=/^'([^]*?)'?$/,IF=/''/g,RF=/[a-zA-Z]/;function M0(e,t,n){const r=Cm(),o=r.locale??pF,u=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,y=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=ff(e,n?.in);if(!LB(d))throw new RangeError("Invalid time value");let a=t.match(MF).map(v=>{const f=v[0];if(f==="p"||f==="P"){const g=wF[f];return g(v,o.formatLong)}return v}).join("").match(_F).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const f=v[0];if(f==="'")return{isToken:!1,value:NF(v)};if(Iw[f])return{isToken:!0,value:v};if(f.match(RF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(a=o.localize.preprocessor(d,a));const c={firstWeekContainsDate:u,weekStartsOn:y,locale:o};return a.map(v=>{if(!v.isToken)return v.value;const f=v.value;(TF(f)||AF(f))&&kF(f,t,String(e));const g=Iw[f[0]];return g(d,f,o.localize,c)}).join("")}function NF(e){const t=e.match(OF);return t?t[1].replace(IF,"'"):e}const LF=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  backdrop-filter: blur(2px);
`,BF=sn.div`
  background: ${({theme:e})=>e.colors.surface};
  padding: 1.5rem;
  border-radius: 12px;
  width: 90%;
  max-width: 320px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  border: 1px solid ${({theme:e})=>e.colors.border};
`,FF=sn.p`
  margin: 0 0 1.5rem 0;
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  line-height: 1.5;
  text-align: center;
`,PF=sn.div`
  display: flex;
  gap: 0.75rem;
  justify-content: center;
`,Bw=sn.button`
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  border: 1px solid ${({theme:e,$variant:t})=>t==="secondary"?e.colors.border:"transparent"};
  background: ${({theme:e,$variant:t})=>t==="secondary"?"transparent":e.colors.primary};
  color: ${({theme:e,$variant:t})=>t==="secondary"?e.colors.text:"white"};
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
  flex: 1;

  &:hover {
    filter: brightness(0.95);
    background: ${({theme:e,$variant:t})=>t==="secondary"?e.colors.border:e.colors.primary};
  }
`,zF=({isOpen:e,message:t,onConfirm:n,onCancel:r})=>{const{language:o}=cf();return e?te.jsx(LF,{onClick:r,children:te.jsxs(BF,{onClick:u=>u.stopPropagation(),children:[te.jsx(FF,{children:t}),te.jsxs(PF,{children:[te.jsx(Bw,{$variant:"secondary",onClick:r,children:o==="ko"?"":"Cancel"}),te.jsx(Bw,{onClick:n,children:o==="ko"?"":"OK"})]})]})}):null},HF="1.3.0",UF={version:HF},jF=sn.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  .spin {
    animation: spin 1s linear infinite;
  }
`,WF=sn.div`
  padding: 0.5rem 1rem;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  overflow: hidden;

  @media (max-width: 768px) {
    padding: 0.5rem 0.75rem;
  }
`,GF=sn.div`
  position: relative;
  margin-bottom: 0.5rem;
`,YF=sn(E_)`
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: ${({theme:e})=>e.colors.textSecondary};
`,XF=sn.input`
  width: 100%;
  padding: 0.5rem 2rem 0.5rem 2rem;
  border-radius: 6px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }

  @media (max-width: 768px) {
    padding: 8px 32px 8px 32px;
    font-size: 14px;
  }
`,VF=sn.button`
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
  border-radius: 50%;
  
  &:hover {
    color: ${({theme:e})=>e.colors.text};
    background-color: ${({theme:e})=>e.colors.surface};
  }
`,Fw=sn.button`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  padding: 6px 12px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  background: ${({theme:e})=>e.colors.primary};
  color: white;
  font-size: 13px;
  font-weight: 600;
  white-space: nowrap;
  flex-shrink: 0;
  
  &:hover {
    background: ${({theme:e})=>e.colors.primaryHover};
  }

  @media (max-width: 768px) {
    padding: 6px 10px;
    font-size: 14px !important;
    max-height: 36px;
    min-width: 36px;
  }
`,KF=sn.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.25rem;
  margin-bottom: 0.5rem;
  overflow: hidden;

  @media (max-width: 768px) {
    gap: 2px;
    flex-wrap: nowrap;
    max-height: 44px;
  }
`,ZF=sn.div`
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem;
  scrollbar-width: thin;

  /* Improve drag behavior on touch devices */
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;

  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: ${({theme:e})=>e.colors.border};
    border-radius: 10px;
  }
`,ud=sn.button`
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  padding: 0.25rem;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  
  &:hover {
    background: ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.text};
  }

  @media (max-width: 768px) {
    padding: 4px;
    /* Limit icon button size on mobile regardless of font size */
    width: 32px !important;
    height: 32px !important;
    max-width: 32px;
    max-height: 32px;
    
    svg {
      width: 18px !important;
      height: 18px !important;
    }
  }
`,qF=sn.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 1.25rem 0 1.25rem;
`,QF=sn.div`
  font-size: 1.1rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  letter-spacing: -0.02em;

  @media (max-width: 768px) {
    font-size: 18px;
  }
`,JF=sn.span`
  font-size: 0.75rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  font-weight: 400;
  opacity: 0.8;
  font-variant-numeric: tabular-nums;
`,$F=({onCloseMobile:e})=>{const{searchQuery:t,setSearchQuery:n}=xS(),{t:r,language:o}=cf(),[u,y]=Ie.useState("date-desc"),{mode:d,toggleTheme:a,increaseFontSize:c,decreaseFontSize:v,theme:f}=rx(),g=Fd(),m=uf(),[C,k]=Ie.useState(!1),[S,O]=Ie.useState(!1),[N,U]=Ie.useState(!1),[W,q]=Ie.useState(null),[J,ne]=Ie.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[ve,Se]=Ie.useState(new Set),Fe=le=>{Se(ae=>{const V=new Set(ae);return V.has(le)?V.delete(le):V.add(le),V})},Ue=Ie.useRef(!1),Ze=le=>{le()},{needRefresh:[mt],updateServiceWorker:ct}=I_({immediate:!1,onRegistered(le){console.log("SW Registered: "+le)},onRegisterError(le){console.log("SW registration error",le)}});Ie.useEffect(()=>{Ue.current=mt},[mt]);const ge=async()=>{if(!N&&(U(!0),O(!0),mt)){O(!1),q(r.sidebar.update_found);return}if(mt){q(r.sidebar.install_update),setTimeout(()=>{ct(!0),setTimeout(()=>window.location.reload(),3e3)},500);return}if(!(S&&N))if(O(!0),"serviceWorker"in navigator)try{const le=await navigator.serviceWorker.ready;await le.update(),setTimeout(()=>{O(!1),U(!0),Ue.current||le.waiting?q(r.sidebar.update_found):q(r.sidebar.up_to_date)},2e3)}catch(le){console.error("Error checking for updates:",le),O(!1),q(r.sidebar.check_failed)}else O(!1),q(r.sidebar.pwa_not_supported)},ye=gm(()=>Mi.memos.toArray()),Re=kn.useMemo(()=>{if(!ye)return[];let le=[...ye];if(t){const ae=t.toLowerCase();if(ae.startsWith("tag:")){const V=ae.slice(4).trim();V&&(le=le.filter(me=>me.tags&&me.tags.some(Ae=>Ae.toLowerCase().includes(V))))}else le=le.filter(V=>V.title.toLowerCase().includes(ae)||V.content.toLowerCase().includes(ae)||V.tags&&V.tags.some(me=>me.toLowerCase().includes(ae)))}return le.sort((ae,V)=>u==="date-desc"?V.updatedAt.getTime()-ae.updatedAt.getTime():u==="date-asc"?ae.updatedAt.getTime()-V.updatedAt.getTime():u==="title-asc"?(ae.title||"").localeCompare(V.title||""):V.updatedAt.getTime()-ae.updatedAt.getTime())},[ye,t,u]),ft=kn.useMemo(()=>{if(!Re||!ye)return[];const le=[],ae=new Set;return Re.forEach(V=>{if(!ae.has(V.id))if(V.threadId){const me=ye.filter(Ae=>Ae.threadId===V.threadId).sort((Ae,Ne)=>(Ae.threadOrder||0)-(Ne.threadOrder||0));if(me.length>1){const Ae=ve.has(V.threadId);if(le.push({type:"memo",memo:me[0],isThreadHead:!0,threadId:V.threadId,childCount:me.length-1}),ae.add(me[0].id),Ae)me.slice(1).forEach(Ne=>ae.add(Ne.id));else for(let Ne=1;Ne<me.length;Ne++)le.push({type:"memo",memo:me[Ne],isThreadChild:!0,threadId:V.threadId}),ae.add(me[Ne].id)}else le.push({type:"memo",memo:V}),ae.add(V.id)}else le.push({type:"memo",memo:V}),ae.add(V.id)}),le},[Re,ye,ve]),Me=async le=>{const{combine:ae,draggableId:V,destination:me}=le;if(ae){const Ft=parseInt(V),st=parseInt(ae.draggableId);if(isNaN(Ft)||isNaN(st)||Ft===st)return;const At=await Mi.memos.get(Ft),St=await Mi.memos.get(st);if(!At||!St)return;const Kt=St.threadId||DB();if(St.threadId||await Mi.memos.update(st,{threadId:Kt,threadOrder:0}),At.threadId&&At.threadId!==Kt){const zt=await Mi.memos.where("threadId").equals(At.threadId).toArray(),Ut=await Mi.memos.where("threadId").equals(Kt).toArray();let Vt=Math.max(...Ut.map(un=>un.threadOrder||0),-1);for(const un of zt)Vt++,await Mi.memos.update(un.id,{threadId:Kt,threadOrder:Vt})}else{const zt=await Mi.memos.where("threadId").equals(Kt).toArray(),Ut=Math.max(...zt.map(Vt=>Vt.threadOrder||0),-1);await Mi.memos.update(Ft,{threadId:Kt,threadOrder:Ut+1})}return}if(!me)return;const Ae=parseInt(V);if(isNaN(Ae))return;const Ne=await Mi.memos.get(Ae);if(!Ne)return;const ut=le.source.index,xt=me.index;if(ut===xt)return;const et=ft;if(!et[xt])return;let _t;if(xt===0)_t=et[0].memo.updatedAt.getTime()+6e4;else if(xt===et.length-1)_t=et[et.length-1].memo.updatedAt.getTime()-6e4;else{const Ft=xt<ut?xt-1:xt,st=xt<ut?xt:xt+1,At=et[Ft].memo.updatedAt.getTime(),St=et[st].memo.updatedAt.getTime();_t=(At+St)/2}if(Ne.threadId){const Ft=et.find(st=>st.isThreadHead&&st.threadId===Ne.threadId);if(Ft){const st=et.indexOf(Ft);if(xt<=st){await Mi.memos.update(Ae,{threadId:void 0,threadOrder:void 0,updatedAt:new Date(_t)});return}const At=et.filter(Kt=>Kt.threadId===Ne.threadId),St=et.indexOf(At[At.length-1]);if(xt>St){await Mi.memos.update(Ae,{threadId:void 0,threadOrder:void 0,updatedAt:new Date(_t)});return}}}await Mi.memos.update(Ae,{updatedAt:new Date(_t)})},ce=mt&&N;return te.jsxs(jF,{children:[te.jsxs(qF,{children:[te.jsx(QF,{children:"HandMemo"}),te.jsxs(JF,{children:["v",UF.version]})]}),te.jsxs(WF,{children:[te.jsxs(KF,{children:[te.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[te.jsx(Fw,{onClick:()=>{Ze(()=>{g(`/memo/new?drawing=true&t=${Date.now()}`,{replace:!0,state:{isGuard:!0}}),e(!0)})},title:r.sidebar.add_memo||"Drawing Memo",children:te.jsx(C_,{size:16})}),te.jsx(Fw,{onClick:()=>{Ze(()=>{g(`/memo/new?t=${Date.now()}`,{replace:!0,state:{isGuard:!0}}),e(!0)})},title:"Text Memo",children:te.jsx(k_,{size:16})})]}),te.jsxs("div",{style:{display:"flex",gap:"0rem",alignItems:"center",flexShrink:1,minWidth:0,overflow:"hidden"},children:[te.jsx(sd,{content:r.sidebar.decrease_font,children:te.jsx(ud,{onClick:v,children:te.jsx(ox,{size:16})})}),te.jsx(sd,{content:r.sidebar.increase_font,children:te.jsx(ud,{onClick:c,children:te.jsx(_S,{size:16})})}),te.jsx(sd,{content:r.sidebar.sync_data,children:te.jsx(ud,{onClick:()=>{k(!0),e(!0)},children:te.jsx(S_,{size:18})})}),te.jsx(sd,{content:ce?r.sidebar.install_update:r.sidebar.check_updates,children:te.jsxs(ud,{onClick:ge,style:{position:"relative"},children:[te.jsx(f_,{size:18,className:S?"spin":""}),ce&&te.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#ef4444",border:"1px solid white"}})]})}),te.jsx(sd,{content:d==="light"?r.sidebar.switch_dark:r.sidebar.switch_light,children:te.jsx(ud,{onClick:a,children:d==="light"?te.jsx(w_,{size:18}):te.jsx(A_,{size:18})})}),te.jsx(sd,{content:r.sidebar.settings,children:te.jsx(ud,{onClick:()=>{Ze(()=>{g("/settings",{replace:!0,state:{isGuard:!0}}),e(!0)})},children:te.jsx(RS,{size:18})})})]})]}),te.jsxs(GF,{children:[te.jsx(YF,{size:16}),te.jsx(XF,{placeholder:r.sidebar.search,value:t,onChange:le=>n(le.target.value)}),t&&te.jsx(VF,{onClick:()=>n(""),children:te.jsx(ng,{size:14})})]}),te.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:te.jsxs("select",{value:u,onChange:le=>y(le.target.value),style:{flex:1,padding:window.innerWidth<=768?"8px":"0.5rem",fontSize:window.innerWidth<=768?"14px":"inherit",borderRadius:"6px",border:`1px solid ${f.colors.border}`,background:f.colors.surface,color:f.colors.text},children:[te.jsx("option",{value:"date-desc",children:r.sidebar.newest}),te.jsx("option",{value:"date-asc",children:r.sidebar.oldest}),te.jsx("option",{value:"title-asc",children:"Title (A-Z)"})]})})]}),te.jsx(ZF,{children:te.jsx(c7,{onDragEnd:Me,children:te.jsx(dy,{droppableId:"sidebar-memos",isCombineEnabled:!0,children:le=>te.jsxs("div",{...le.droppableProps,ref:le.innerRef,style:{display:"flex",flexDirection:"column"},children:[ft.map((ae,V)=>te.jsx(CB,{index:V,memo:ae.memo,isActive:m.pathname.includes(`/memo/${ae.memo.id}`),onClick:e,formatDate:me=>M0(me,o==="ko"?"yyyy.MM.dd":"MMM d, yyyy"),untitledText:r.sidebar.untitled,inThread:ae.isThreadChild,isThreadHead:ae.isThreadHead,childCount:ae.childCount,collapsed:ve.has(ae.threadId||""),onToggle:Fe,threadId:ae.threadId,collapseText:r.sidebar.collapse,moreText:r.sidebar.more_memos},ae.memo.id)),le.placeholder]})})})}),te.jsx(zF,{isOpen:J.isOpen,message:J.message,onConfirm:J.onConfirm,onCancel:()=>ne(le=>({...le,isOpen:!1}))}),te.jsx(JM,{isOpen:C,onClose:()=>k(!1)}),W&&te.jsx(cx,{message:W,onClose:()=>q(null)})]})},eP=sn.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  ${({$isResizing:e})=>e&&`
    cursor: col-resize;
    user-select: none;
    -webkit-user-select: none;
  `}
`,tP=sn.div`
  width: ${({$width:e})=>e}px;
  min-width: ${({$width:e})=>e}px;
  border-right: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.surface};
  display: flex;
  flex-direction: column;
  transition: transform 0.3s ease, width 0.1s ease;
  position: relative;

  @media (max-width: 768px) {
    /* Use dynamic width on mobile too */
    width: ${({$width:e})=>e}px !important;
    min-width: ${({$width:e})=>e}px !important;
    max-width: 90vw;
    position: absolute;
    z-index: 10;
    height: 100%;
    transform: translateX(${({$isOpen:e})=>e?"0":"-100%"});
  }
`,nP=sn.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  position: relative;
`,rP=sn.div`
  width: 4px;
  cursor: col-resize;
  background: ${({$isResizing:e,theme:t})=>e?t.colors.primary:"transparent"};
  transition: background 0.2s;
  z-index: 15;
  position: absolute;
  right: -2px;
  top: 0;
  bottom: 0;
  touch-action: none;
  display: ${({$isVisible:e})=>e?"block":"none"};

  &::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: -10px;
    right: -10px;
  }

  &:hover {
    background: ${({theme:e})=>e.colors.primary};
    opacity: 0.5;
  }

  @media (max-width: 768px) {
    z-index: 20;
  }
`,iP=sn.div`
  display: none;
  padding: 1rem;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  align-items: center;
  gap: 1rem;

  @media (max-width: 768px) {
    display: flex;
  }
`,aP=sn.div`
  display: none;
  @media (max-width: 768px) {
    display: ${({$isOpen:e})=>e?"block":"none"};
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 5;
  }
`,Pw="handmemo-sidebar-width",oP=300,zw=340,Hw=600,$v=200,Uw=Math.min(400,window.innerWidth*.9),sP=()=>{const[e,t]=Ie.useState(()=>/Android/i.test(navigator.userAgent)),[n,r]=Ie.useState(()=>{const S=localStorage.getItem(Pw),O=S?parseInt(S,10):oP;return Math.max($v,O)}),[o,u]=Ie.useState(!1),[y,d]=Ie.useState(window.innerWidth<=768),a=Ie.useRef(null),c=Ie.useRef(null);Ie.useEffect(()=>{const S=()=>d(window.innerWidth<=768);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const v=Ie.useCallback(S=>{"touches"in S?c.current=setTimeout(()=>{u(!0),navigator.vibrate&&navigator.vibrate(50)},500):(S.preventDefault(),u(!0))},[]),f=Ie.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),u(!1),localStorage.setItem(Pw,n.toString())},[n]),g=Ie.useCallback(S=>{if(o){const O=S.clientX,N=y?$v:zw,U=y?Math.min(Uw,window.innerWidth*.9):Hw;O>=N&&O<=U&&r(O)}},[o,y]),m=Ie.useCallback(S=>{if(o){S.preventDefault();const O=S.touches[0].clientX,N=y?$v:zw,U=y?Math.min(Uw,window.innerWidth*.9):Hw;O>=N&&O<=U&&r(O)}},[o,y]);Ie.useEffect(()=>(o?(window.addEventListener("mousemove",g),window.addEventListener("mouseup",f),window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("touchend",f)):(window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",f)),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",f)}),[o,g,m,f]);const C=Ie.useCallback((S,O=!1)=>{t(S),y&&(S?window.history.state?.sidebarOpen||window.history.pushState({sidebarOpen:!0,isGuard:!0},""):O||window.history.state?.sidebarOpen&&window.history.back())},[y]);Ie.useEffect(()=>{const S=O=>{y&&t(!!O.state?.sidebarOpen)};return window.addEventListener("popstate",S),()=>window.removeEventListener("popstate",S)},[y]);const k=!y||e;return te.jsxs(eP,{ref:a,$isResizing:o,children:[te.jsx(aP,{$isOpen:e,onClick:()=>C(!1)}),te.jsxs(tP,{$isOpen:e,$width:n,children:[te.jsx($F,{onCloseMobile:S=>C(!1,S)}),te.jsx(rP,{$isResizing:o,$isVisible:k,onMouseDown:v,onTouchStart:v,onTouchEnd:f})]}),te.jsxs(nP,{children:[te.jsxs(iP,{children:[!e&&te.jsx(x_,{size:24,onClick:()=>C(!0)}),te.jsx("h3",{children:"HandMemo"})]}),te.jsx(ok,{})]})]})};var xp={exports:{}},lP=xp.exports,jw;function yc(){return jw||(jw=1,(function(e,t){(function(n,r){e.exports=r()})(lP,(function(){var n=navigator.userAgent,r=navigator.platform,o=/gecko\/\d/i.test(n),u=/MSIE \d/.test(n),y=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),d=/Edge\/(\d+)/.exec(n),a=u||y||d,c=a&&(u?document.documentMode||6:+(d||y)[1]),v=!d&&/WebKit\//.test(n),f=v&&/Qt\/\d+\.\d+/.test(n),g=!d&&/Chrome\/(\d+)/.exec(n),m=g&&+g[1],C=/Opera\//.test(n),k=/Apple Computer/.test(navigator.vendor),S=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),O=/PhantomJS/.test(n),N=k&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),U=/Android/.test(n),W=N||U||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),q=N||/Mac/.test(r),J=/\bCrOS\b/.test(n),ne=/win/i.test(r),ve=C&&n.match(/Version\/(\d*\.\d*)/);ve&&(ve=Number(ve[1])),ve&&ve>=15&&(C=!1,v=!0);var Se=q&&(f||C&&(ve==null||ve<12.11)),Fe=o||a&&c>=9;function Ue(l){return new RegExp("(^|\\s)"+l+"(?:$|\\s)\\s*")}var Ze=function(l,x){var M=l.className,_=Ue(x).exec(M);if(_){var F=M.slice(_.index+_[0].length);l.className=M.slice(0,_.index)+(F?_[1]+F:"")}};function mt(l){for(var x=l.childNodes.length;x>0;--x)l.removeChild(l.firstChild);return l}function ct(l,x){return mt(l).appendChild(x)}function ge(l,x,M,_){var F=document.createElement(l);if(M&&(F.className=M),_&&(F.style.cssText=_),typeof x=="string")F.appendChild(document.createTextNode(x));else if(x)for(var X=0;X<x.length;++X)F.appendChild(x[X]);return F}function ye(l,x,M,_){var F=ge(l,x,M,_);return F.setAttribute("role","presentation"),F}var Re;document.createRange?Re=function(l,x,M,_){var F=document.createRange();return F.setEnd(_||l,M),F.setStart(l,x),F}:Re=function(l,x,M){var _=document.body.createTextRange();try{_.moveToElementText(l.parentNode)}catch{return _}return _.collapse(!0),_.moveEnd("character",M),_.moveStart("character",x),_};function ft(l,x){if(x.nodeType==3&&(x=x.parentNode),l.contains)return l.contains(x);do if(x.nodeType==11&&(x=x.host),x==l)return!0;while(x=x.parentNode)}function Me(l){var x=l.ownerDocument||l,M;try{M=l.activeElement}catch{M=x.body||null}for(;M&&M.shadowRoot&&M.shadowRoot.activeElement;)M=M.shadowRoot.activeElement;return M}function ce(l,x){var M=l.className;Ue(x).test(M)||(l.className+=(M?" ":"")+x)}function le(l,x){for(var M=l.split(" "),_=0;_<M.length;_++)M[_]&&!Ue(M[_]).test(x)&&(x+=" "+M[_]);return x}var ae=function(l){l.select()};N?ae=function(l){l.selectionStart=0,l.selectionEnd=l.value.length}:a&&(ae=function(l){try{l.select()}catch{}});function V(l){return l.display.wrapper.ownerDocument}function me(l){return Ae(l.display.wrapper)}function Ae(l){return l.getRootNode?l.getRootNode():l.ownerDocument}function Ne(l){return V(l).defaultView}function ut(l){var x=Array.prototype.slice.call(arguments,1);return function(){return l.apply(null,x)}}function xt(l,x,M){x||(x={});for(var _ in l)l.hasOwnProperty(_)&&(M!==!1||!x.hasOwnProperty(_))&&(x[_]=l[_]);return x}function et(l,x,M,_,F){x==null&&(x=l.search(/[^\s\u00a0]/),x==-1&&(x=l.length));for(var X=_||0,ie=F||0;;){var fe=l.indexOf("	",X);if(fe<0||fe>=x)return ie+(x-X);ie+=fe-X,ie+=M-ie%M,X=fe+1}}var Wt=function(){this.id=null,this.f=null,this.time=0,this.handler=ut(this.onTimeout,this)};Wt.prototype.onTimeout=function(l){l.id=0,l.time<=+new Date?l.f():setTimeout(l.handler,l.time-+new Date)},Wt.prototype.set=function(l,x){this.f=x;var M=+new Date+l;(!this.id||M<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,l),this.time=M)};function _t(l,x){for(var M=0;M<l.length;++M)if(l[M]==x)return M;return-1}var Ft=50,st={toString:function(){return"CodeMirror.Pass"}},At={scroll:!1},St={origin:"*mouse"},Kt={origin:"+move"};function zt(l,x,M){for(var _=0,F=0;;){var X=l.indexOf("	",_);X==-1&&(X=l.length);var ie=X-_;if(X==l.length||F+ie>=x)return _+Math.min(ie,x-F);if(F+=X-_,F+=M-F%M,_=X+1,F>=x)return _}}var Ut=[""];function Vt(l){for(;Ut.length<=l;)Ut.push(un(Ut)+" ");return Ut[l]}function un(l){return l[l.length-1]}function Xt(l,x){for(var M=[],_=0;_<l.length;_++)M[_]=x(l[_],_);return M}function qt(l,x,M){for(var _=0,F=M(x);_<l.length&&M(l[_])<=F;)_++;l.splice(_,0,x)}function Bn(){}function gt(l,x){var M;return Object.create?M=Object.create(l):(Bn.prototype=l,M=new Bn),x&&xt(x,M),M}var dt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Pe(l){return/\w/.test(l)||l>""&&(l.toUpperCase()!=l.toLowerCase()||dt.test(l))}function be(l,x){return x?x.source.indexOf("\\w")>-1&&Pe(l)?!0:x.test(l):Pe(l)}function Ee(l){for(var x in l)if(l.hasOwnProperty(x)&&l[x])return!1;return!0}var qe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(l){return l.charCodeAt(0)>=768&&qe.test(l)}function we(l,x,M){for(;(M<0?x>0:x<l.length)&&re(l.charAt(x));)x+=M;return x}function Ve(l,x,M){for(var _=x>M?-1:1;;){if(x==M)return x;var F=(x+M)/2,X=_<0?Math.ceil(F):Math.floor(F);if(X==x)return l(X)?x:M;l(X)?M=X:x=X+_}}function it(l,x,M,_){if(!l)return _(x,M,"ltr",0);for(var F=!1,X=0;X<l.length;++X){var ie=l[X];(ie.from<M&&ie.to>x||x==M&&ie.to==x)&&(_(Math.max(ie.from,x),Math.min(ie.to,M),ie.level==1?"rtl":"ltr",X),F=!0)}F||_(x,M,"ltr")}var We=null;function Et(l,x,M){var _;We=null;for(var F=0;F<l.length;++F){var X=l[F];if(X.from<x&&X.to>x)return F;X.to==x&&(X.from!=X.to&&M=="before"?_=F:We=F),X.from==x&&(X.from!=X.to&&M!="before"?_=F:We=F)}return _??We}var Ye=(function(){var l="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",x="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function M(De){return De<=247?l.charAt(De):1424<=De&&De<=1524?"R":1536<=De&&De<=1785?x.charAt(De-1536):1774<=De&&De<=2220?"r":8192<=De&&De<=8203?"w":De==8204?"b":"L"}var _=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,F=/[stwN]/,X=/[LRr]/,ie=/[Lb1n]/,fe=/[1n]/;function xe(De,tt,lt){this.level=De,this.from=tt,this.to=lt}return function(De,tt){var lt=tt=="ltr"?"L":"R";if(De.length==0||tt=="ltr"&&!_.test(De))return!1;for(var Ht=De.length,Mt=[],an=0;an<Ht;++an)Mt.push(M(De.charCodeAt(an)));for(var gn=0,Tn=lt;gn<Ht;++gn){var Fn=Mt[gn];Fn=="m"?Mt[gn]=Tn:Tn=Fn}for(var zn=0,wn=lt;zn<Ht;++zn){var Kn=Mt[zn];Kn=="1"&&wn=="r"?Mt[zn]="n":X.test(Kn)&&(wn=Kn,Kn=="r"&&(Mt[zn]="R"))}for(var Cr=1,dr=Mt[0];Cr<Ht-1;++Cr){var ii=Mt[Cr];ii=="+"&&dr=="1"&&Mt[Cr+1]=="1"?Mt[Cr]="1":ii==","&&dr==Mt[Cr+1]&&(dr=="1"||dr=="n")&&(Mt[Cr]=dr),dr=ii}for(var Gi=0;Gi<Ht;++Gi){var bs=Mt[Gi];if(bs==",")Mt[Gi]="N";else if(bs=="%"){var oo=void 0;for(oo=Gi+1;oo<Ht&&Mt[oo]=="%";++oo);for(var Gs=Gi&&Mt[Gi-1]=="!"||oo<Ht&&Mt[oo]=="1"?"1":"N",yo=Gi;yo<oo;++yo)Mt[yo]=Gs;Gi=oo-1}}for(var Wo=0,ul=lt;Wo<Ht;++Wo){var Ns=Mt[Wo];ul=="L"&&Ns=="1"?Mt[Wo]="L":X.test(Ns)&&(ul=Ns)}for(var Go=0;Go<Ht;++Go)if(F.test(Mt[Go])){var Ro=void 0;for(Ro=Go+1;Ro<Ht&&F.test(Mt[Ro]);++Ro);for(var to=(Go?Mt[Go-1]:lt)=="L",Sl=(Ro<Ht?Mt[Ro]:lt)=="L",Jl=to==Sl?to?"L":"R":lt,Wa=Go;Wa<Ro;++Wa)Mt[Wa]=Jl;Go=Ro-1}for(var Ls=[],nc,zi=0;zi<Ht;)if(ie.test(Mt[zi])){var Xd=zi;for(++zi;zi<Ht&&ie.test(Mt[zi]);++zi);Ls.push(new xe(0,Xd,zi))}else{var _c=zi,_f=Ls.length,wa=tt=="rtl"?1:0;for(++zi;zi<Ht&&Mt[zi]!="L";++zi);for(var ka=_c;ka<zi;)if(fe.test(Mt[ka])){_c<ka&&(Ls.splice(_f,0,new xe(1,_c,ka)),_f+=wa);var $l=ka;for(++ka;ka<zi&&fe.test(Mt[ka]);++ka);Ls.splice(_f,0,new xe(2,$l,ka)),_f+=wa,_c=ka}else++ka;_c<zi&&Ls.splice(_f,0,new xe(1,_c,zi))}return tt=="ltr"&&(Ls[0].level==1&&(nc=De.match(/^\s+/))&&(Ls[0].from=nc[0].length,Ls.unshift(new xe(0,0,nc[0].length))),un(Ls).level==1&&(nc=De.match(/\s+$/))&&(un(Ls).to-=nc[0].length,Ls.push(new xe(0,Ht-nc[0].length,Ht)))),tt=="rtl"?Ls.reverse():Ls}})();function at(l,x){var M=l.order;return M==null&&(M=l.order=Ye(l.text,x)),M}var Tt=[],yt=function(l,x,M){if(l.addEventListener)l.addEventListener(x,M,!1);else if(l.attachEvent)l.attachEvent("on"+x,M);else{var _=l._handlers||(l._handlers={});_[x]=(_[x]||Tt).concat(M)}};function Pt(l,x){return l._handlers&&l._handlers[x]||Tt}function pn(l,x,M){if(l.removeEventListener)l.removeEventListener(x,M,!1);else if(l.detachEvent)l.detachEvent("on"+x,M);else{var _=l._handlers,F=_&&_[x];if(F){var X=_t(F,M);X>-1&&(_[x]=F.slice(0,X).concat(F.slice(X+1)))}}}function Cn(l,x){var M=Pt(l,x);if(M.length)for(var _=Array.prototype.slice.call(arguments,2),F=0;F<M.length;++F)M[F].apply(null,_)}function vn(l,x,M){return typeof x=="string"&&(x={type:x,preventDefault:function(){this.defaultPrevented=!0}}),Cn(l,M||x.type,l,x),Br(x)||x.codemirrorIgnore}function $n(l){var x=l._handlers&&l._handlers.cursorActivity;if(x)for(var M=l.curOp.cursorActivityHandlers||(l.curOp.cursorActivityHandlers=[]),_=0;_<x.length;++_)_t(M,x[_])==-1&&M.push(x[_])}function Yn(l,x){return Pt(l,x).length>0}function er(l){l.prototype.on=function(x,M){yt(this,x,M)},l.prototype.off=function(x,M){pn(this,x,M)}}function Hn(l){l.preventDefault?l.preventDefault():l.returnValue=!1}function xr(l){l.stopPropagation?l.stopPropagation():l.cancelBubble=!0}function Br(l){return l.defaultPrevented!=null?l.defaultPrevented:l.returnValue==!1}function mr(l){Hn(l),xr(l)}function Oi(l){return l.target||l.srcElement}function Jn(l){var x=l.which;return x==null&&(l.button&1?x=1:l.button&2?x=3:l.button&4&&(x=2)),q&&l.ctrlKey&&x==1&&(x=3),x}var Fr=(function(){if(a&&c<9)return!1;var l=ge("div");return"draggable"in l||"dragDrop"in l})(),si;function Yr(l){if(si==null){var x=ge("span","");ct(l,ge("span",[x,document.createTextNode("x")])),l.firstChild.offsetHeight!=0&&(si=x.offsetWidth<=1&&x.offsetHeight>2&&!(a&&c<8))}var M=si?ge("span",""):ge("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return M.setAttribute("cm-text",""),M}var vi;function Sn(l){if(vi!=null)return vi;var x=ct(l,document.createTextNode("AA")),M=Re(x,0,1).getBoundingClientRect(),_=Re(x,1,2).getBoundingClientRect();return mt(l),!M||M.left==M.right?!1:vi=_.right-M.right<3}var vr=`

b`.split(/\n/).length!=3?function(l){for(var x=0,M=[],_=l.length;x<=_;){var F=l.indexOf(`
`,x);F==-1&&(F=l.length);var X=l.slice(x,l.charAt(F-1)=="\r"?F-1:F),ie=X.indexOf("\r");ie!=-1?(M.push(X.slice(0,ie)),x+=ie+1):(M.push(X),x=F+1)}return M}:function(l){return l.split(/\r\n?|\n/)},Pr=window.getSelection?function(l){try{return l.selectionStart!=l.selectionEnd}catch{return!1}}:function(l){var x;try{x=l.ownerDocument.selection.createRange()}catch{}return!x||x.parentElement()!=l?!1:x.compareEndPoints("StartToEnd",x)!=0},ar=(function(){var l=ge("div");return"oncopy"in l?!0:(l.setAttribute("oncopy","return;"),typeof l.oncopy=="function")})(),fi=null;function yi(l){if(fi!=null)return fi;var x=ct(l,ge("span","x")),M=x.getBoundingClientRect(),_=Re(x,0,1).getBoundingClientRect();return fi=Math.abs(M.left-_.left)>1}var xi={},Tr={};function zr(l,x){arguments.length>2&&(x.dependencies=Array.prototype.slice.call(arguments,2)),xi[l]=x}function gr(l,x){Tr[l]=x}function oa(l){if(typeof l=="string"&&Tr.hasOwnProperty(l))l=Tr[l];else if(l&&typeof l.name=="string"&&Tr.hasOwnProperty(l.name)){var x=Tr[l.name];typeof x=="string"&&(x={name:x}),l=gt(x,l),l.name=x.name}else{if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(l))return oa("application/xml");if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(l))return oa("application/json")}return typeof l=="string"?{name:l}:l||{name:"null"}}function Hr(l,x){x=oa(x);var M=xi[x.name];if(!M)return Hr(l,"text/plain");var _=M(l,x);if(or.hasOwnProperty(x.name)){var F=or[x.name];for(var X in F)F.hasOwnProperty(X)&&(_.hasOwnProperty(X)&&(_["_"+X]=_[X]),_[X]=F[X])}if(_.name=x.name,x.helperType&&(_.helperType=x.helperType),x.modeProps)for(var ie in x.modeProps)_[ie]=x.modeProps[ie];return _}var or={};function co(l,x){var M=or.hasOwnProperty(l)?or[l]:or[l]={};xt(x,M)}function bi(l,x){if(x===!0)return x;if(l.copyState)return l.copyState(x);var M={};for(var _ in x){var F=x[_];F instanceof Array&&(F=F.concat([])),M[_]=F}return M}function Ni(l,x){for(var M;l.innerMode&&(M=l.innerMode(x),!(!M||M.mode==l));)x=M.state,l=M.mode;return M||{mode:l,state:x}}function hn(l,x,M){return l.startState?l.startState(x,M):!0}var wi=function(l,x,M){this.pos=this.start=0,this.string=l,this.tabSize=x||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=M};wi.prototype.eol=function(){return this.pos>=this.string.length},wi.prototype.sol=function(){return this.pos==this.lineStart},wi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},wi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},wi.prototype.eat=function(l){var x=this.string.charAt(this.pos),M;if(typeof l=="string"?M=x==l:M=x&&(l.test?l.test(x):l(x)),M)return++this.pos,x},wi.prototype.eatWhile=function(l){for(var x=this.pos;this.eat(l););return this.pos>x},wi.prototype.eatSpace=function(){for(var l=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>l},wi.prototype.skipToEnd=function(){this.pos=this.string.length},wi.prototype.skipTo=function(l){var x=this.string.indexOf(l,this.pos);if(x>-1)return this.pos=x,!0},wi.prototype.backUp=function(l){this.pos-=l},wi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=et(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?et(this.string,this.lineStart,this.tabSize):0)},wi.prototype.indentation=function(){return et(this.string,null,this.tabSize)-(this.lineStart?et(this.string,this.lineStart,this.tabSize):0)},wi.prototype.match=function(l,x,M){if(typeof l=="string"){var _=function(ie){return M?ie.toLowerCase():ie},F=this.string.substr(this.pos,l.length);if(_(F)==_(l))return x!==!1&&(this.pos+=l.length),!0}else{var X=this.string.slice(this.pos).match(l);return X&&X.index>0?null:(X&&x!==!1&&(this.pos+=X[0].length),X)}},wi.prototype.current=function(){return this.string.slice(this.start,this.pos)},wi.prototype.hideFirstChars=function(l,x){this.lineStart+=l;try{return x()}finally{this.lineStart-=l}},wi.prototype.lookAhead=function(l){var x=this.lineOracle;return x&&x.lookAhead(l)},wi.prototype.baseToken=function(){var l=this.lineOracle;return l&&l.baseToken(this.pos)};function mn(l,x){if(x-=l.first,x<0||x>=l.size)throw new Error("There is no line "+(x+l.first)+" in the document.");for(var M=l;!M.lines;)for(var _=0;;++_){var F=M.children[_],X=F.chunkSize();if(x<X){M=F;break}x-=X}return M.lines[x]}function Zi(l,x,M){var _=[],F=x.line;return l.iter(x.line,M.line+1,function(X){var ie=X.text;F==M.line&&(ie=ie.slice(0,M.ch)),F==x.line&&(ie=ie.slice(x.ch)),_.push(ie),++F}),_}function Bo(l,x,M){var _=[];return l.iter(x,M,function(F){_.push(F.text)}),_}function br(l,x){var M=x-l.height;if(M)for(var _=l;_;_=_.parent)_.height+=M}function Xn(l){if(l.parent==null)return null;for(var x=l.parent,M=_t(x.lines,l),_=x.parent;_;x=_,_=_.parent)for(var F=0;_.children[F]!=x;++F)M+=_.children[F].chunkSize();return M+x.first}function fr(l,x){var M=l.first;e:do{for(var _=0;_<l.children.length;++_){var F=l.children[_],X=F.height;if(x<X){l=F;continue e}x-=X,M+=F.chunkSize()}return M}while(!l.lines);for(var ie=0;ie<l.lines.length;++ie){var fe=l.lines[ie],xe=fe.height;if(x<xe)break;x-=xe}return M+ie}function Or(l,x){return x>=l.first&&x<l.first+l.size}function fo(l,x){return String(l.lineNumberFormatter(x+l.firstLineNumber))}function cn(l,x,M){if(M===void 0&&(M=null),!(this instanceof cn))return new cn(l,x,M);this.line=l,this.ch=x,this.sticky=M}function On(l,x){return l.line-x.line||l.ch-x.ch}function qi(l,x){return l.sticky==x.sticky&&On(l,x)==0}function hl(l){return cn(l.line,l.ch)}function Ai(l,x){return On(l,x)<0?x:l}function _a(l,x){return On(l,x)<0?l:x}function pr(l,x){return Math.max(l.first,Math.min(x,l.first+l.size-1))}function Zn(l,x){if(x.line<l.first)return cn(l.first,0);var M=l.first+l.size-1;return x.line>M?cn(M,mn(l,M).text.length):Ir(x,mn(l,x.line).text.length)}function Ir(l,x){var M=l.ch;return M==null||M>x?cn(l.line,x):M<0?cn(l.line,0):l}function Ti(l,x){for(var M=[],_=0;_<x.length;_++)M[_]=Zn(l,x[_]);return M}var jt=function(l,x){this.state=l,this.lookAhead=x},Qe=function(l,x,M,_){this.state=x,this.doc=l,this.line=M,this.maxLookAhead=_||0,this.baseTokens=null,this.baseTokenPos=1};Qe.prototype.lookAhead=function(l){var x=this.doc.getLine(this.line+l);return x!=null&&l>this.maxLookAhead&&(this.maxLookAhead=l),x},Qe.prototype.baseToken=function(l){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=l;)this.baseTokenPos+=2;var x=this.baseTokens[this.baseTokenPos+1];return{type:x&&x.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-l}},Qe.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Qe.fromSaved=function(l,x,M){return x instanceof jt?new Qe(l,bi(l.mode,x.state),M,x.lookAhead):new Qe(l,bi(l.mode,x),M)},Qe.prototype.save=function(l){var x=l!==!1?bi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new jt(x,this.maxLookAhead):x};function Gn(l,x,M,_){var F=[l.state.modeGen],X={};En(l,x.text,l.doc.mode,M,function(De,tt){return F.push(De,tt)},X,_);for(var ie=M.state,fe=function(De){M.baseTokens=F;var tt=l.state.overlays[De],lt=1,Ht=0;M.state=!0,En(l,x.text,tt.mode,M,function(Mt,an){for(var gn=lt;Ht<Mt;){var Tn=F[lt];Tn>Mt&&F.splice(lt,1,Mt,F[lt+1],Tn),lt+=2,Ht=Math.min(Mt,Tn)}if(an)if(tt.opaque)F.splice(gn,lt-gn,Mt,"overlay "+an),lt=gn+2;else for(;gn<lt;gn+=2){var Fn=F[gn+1];F[gn+1]=(Fn?Fn+" ":"")+"overlay "+an}},X),M.state=ie,M.baseTokens=null,M.baseTokenPos=1},xe=0;xe<l.state.overlays.length;++xe)fe(xe);return{styles:F,classes:X.bgClass||X.textClass?X:null}}function ki(l,x,M){if(!x.styles||x.styles[0]!=l.state.modeGen){var _=ma(l,Xn(x)),F=x.text.length>l.options.maxHighlightLength&&bi(l.doc.mode,_.state),X=Gn(l,x,_);F&&(_.state=F),x.stateAfter=_.save(!F),x.styles=X.styles,X.classes?x.styleClasses=X.classes:x.styleClasses&&(x.styleClasses=null),M===l.doc.highlightFrontier&&(l.doc.modeFrontier=Math.max(l.doc.modeFrontier,++l.doc.highlightFrontier))}return x.styles}function ma(l,x,M){var _=l.doc,F=l.display;if(!_.mode.startState)return new Qe(_,!0,x);var X=kr(l,x,M),ie=X>_.first&&mn(_,X-1).stateAfter,fe=ie?Qe.fromSaved(_,ie,X):new Qe(_,hn(_.mode),X);return _.iter(X,x,function(xe){rt(l,xe.text,fe);var De=fe.line;xe.stateAfter=De==x-1||De%5==0||De>=F.viewFrom&&De<F.viewTo?fe.save():null,fe.nextLine()}),M&&(_.modeFrontier=fe.line),fe}function rt(l,x,M,_){var F=l.doc.mode,X=new wi(x,l.options.tabSize,M);for(X.start=X.pos=_||0,x==""&&Gt(F,M.state);!X.eol();)It(F,X,M.state),X.start=X.pos}function Gt(l,x){if(l.blankLine)return l.blankLine(x);if(l.innerMode){var M=Ni(l,x);if(M.mode.blankLine)return M.mode.blankLine(M.state)}}function It(l,x,M,_){for(var F=0;F<10;F++){_&&(_[0]=Ni(l,M).mode);var X=l.token(x,M);if(x.pos>x.start)return X}throw new Error("Mode "+l.name+" failed to advance stream.")}var nn=function(l,x,M){this.start=l.start,this.end=l.pos,this.string=l.current(),this.type=x||null,this.state=M};function xn(l,x,M,_){var F=l.doc,X=F.mode,ie;x=Zn(F,x);var fe=mn(F,x.line),xe=ma(l,x.line,M),De=new wi(fe.text,l.options.tabSize,xe),tt;for(_&&(tt=[]);(_||De.pos<x.ch)&&!De.eol();)De.start=De.pos,ie=It(X,De,xe.state),_&&tt.push(new nn(De,ie,bi(F.mode,xe.state)));return _?tt:new nn(De,ie,xe.state)}function hr(l,x){if(l)for(;;){var M=l.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!M)break;l=l.slice(0,M.index)+l.slice(M.index+M[0].length);var _=M[1]?"bgClass":"textClass";x[_]==null?x[_]=M[2]:new RegExp("(?:^|\\s)"+M[2]+"(?:$|\\s)").test(x[_])||(x[_]+=" "+M[2])}return l}function En(l,x,M,_,F,X,ie){var fe=M.flattenSpans;fe==null&&(fe=l.options.flattenSpans);var xe=0,De=null,tt=new wi(x,l.options.tabSize,_),lt,Ht=l.options.addModeClass&&[null];for(x==""&&hr(Gt(M,_.state),X);!tt.eol();){if(tt.pos>l.options.maxHighlightLength?(fe=!1,ie&&rt(l,x,_,tt.pos),tt.pos=x.length,lt=null):lt=hr(It(M,tt,_.state,Ht),X),Ht){var Mt=Ht[0].name;Mt&&(lt="m-"+(lt?Mt+" "+lt:Mt))}if(!fe||De!=lt){for(;xe<tt.start;)xe=Math.min(tt.start,xe+5e3),F(xe,De);De=lt}tt.start=tt.pos}for(;xe<tt.pos;){var an=Math.min(tt.pos,xe+5e3);F(an,De),xe=an}}function kr(l,x,M){for(var _,F,X=l.doc,ie=M?-1:x-(l.doc.mode.innerMode?1e3:100),fe=x;fe>ie;--fe){if(fe<=X.first)return X.first;var xe=mn(X,fe-1),De=xe.stateAfter;if(De&&(!M||fe+(De instanceof jt?De.lookAhead:0)<=X.modeFrontier))return fe;var tt=et(xe.text,null,l.options.tabSize);(F==null||_>tt)&&(F=fe-1,_=tt)}return F}function $r(l,x){if(l.modeFrontier=Math.min(l.modeFrontier,x),!(l.highlightFrontier<x-10)){for(var M=l.first,_=x-1;_>M;_--){var F=mn(l,_).stateAfter;if(F&&(!(F instanceof jt)||_+F.lookAhead<x)){M=_+1;break}}l.highlightFrontier=Math.min(l.highlightFrontier,M)}}var Rr=!1,ei=!1;function Ur(){Rr=!0}function Jr(){ei=!0}function Dr(l,x,M){this.marker=l,this.from=x,this.to=M}function Vn(l,x){if(l)for(var M=0;M<l.length;++M){var _=l[M];if(_.marker==x)return _}}function ba(l,x){for(var M,_=0;_<l.length;++_)l[_]!=x&&(M||(M=[])).push(l[_]);return M}function tr(l,x,M){var _=M&&window.WeakSet&&(M.markedSpans||(M.markedSpans=new WeakSet));_&&l.markedSpans&&_.has(l.markedSpans)?l.markedSpans.push(x):(l.markedSpans=l.markedSpans?l.markedSpans.concat([x]):[x],_&&_.add(l.markedSpans)),x.marker.attachLine(l)}function Zr(l,x,M){var _;if(l)for(var F=0;F<l.length;++F){var X=l[F],ie=X.marker,fe=X.from==null||(ie.inclusiveLeft?X.from<=x:X.from<x);if(fe||X.from==x&&ie.type=="bookmark"&&(!M||!X.marker.insertLeft)){var xe=X.to==null||(ie.inclusiveRight?X.to>=x:X.to>x);(_||(_=[])).push(new Dr(ie,X.from,xe?null:X.to))}}return _}function hi(l,x,M){var _;if(l)for(var F=0;F<l.length;++F){var X=l[F],ie=X.marker,fe=X.to==null||(ie.inclusiveRight?X.to>=x:X.to>x);if(fe||X.from==x&&ie.type=="bookmark"&&(!M||X.marker.insertLeft)){var xe=X.from==null||(ie.inclusiveLeft?X.from<=x:X.from<x);(_||(_=[])).push(new Dr(ie,xe?null:X.from-x,X.to==null?null:X.to-x))}}return _}function Ui(l,x){if(x.full)return null;var M=Or(l,x.from.line)&&mn(l,x.from.line).markedSpans,_=Or(l,x.to.line)&&mn(l,x.to.line).markedSpans;if(!M&&!_)return null;var F=x.from.ch,X=x.to.ch,ie=On(x.from,x.to)==0,fe=Zr(M,F,ie),xe=hi(_,X,ie),De=x.text.length==1,tt=un(x.text).length+(De?F:0);if(fe)for(var lt=0;lt<fe.length;++lt){var Ht=fe[lt];if(Ht.to==null){var Mt=Vn(xe,Ht.marker);Mt?De&&(Ht.to=Mt.to==null?null:Mt.to+tt):Ht.to=F}}if(xe)for(var an=0;an<xe.length;++an){var gn=xe[an];if(gn.to!=null&&(gn.to+=tt),gn.from==null){var Tn=Vn(fe,gn.marker);Tn||(gn.from=tt,De&&(fe||(fe=[])).push(gn))}else gn.from+=tt,De&&(fe||(fe=[])).push(gn)}fe&&(fe=wo(fe)),xe&&xe!=fe&&(xe=wo(xe));var Fn=[fe];if(!De){var zn=x.text.length-2,wn;if(zn>0&&fe)for(var Kn=0;Kn<fe.length;++Kn)fe[Kn].to==null&&(wn||(wn=[])).push(new Dr(fe[Kn].marker,null,null));for(var Cr=0;Cr<zn;++Cr)Fn.push(wn);Fn.push(xe)}return Fn}function wo(l){for(var x=0;x<l.length;++x){var M=l[x];M.from!=null&&M.from==M.to&&M.marker.clearWhenEmpty!==!1&&l.splice(x--,1)}return l.length?l:null}function Fo(l,x,M){var _=null;if(l.iter(x.line,M.line+1,function(Mt){if(Mt.markedSpans)for(var an=0;an<Mt.markedSpans.length;++an){var gn=Mt.markedSpans[an].marker;gn.readOnly&&(!_||_t(_,gn)==-1)&&(_||(_=[])).push(gn)}}),!_)return null;for(var F=[{from:x,to:M}],X=0;X<_.length;++X)for(var ie=_[X],fe=ie.find(0),xe=0;xe<F.length;++xe){var De=F[xe];if(!(On(De.to,fe.from)<0||On(De.from,fe.to)>0)){var tt=[xe,1],lt=On(De.from,fe.from),Ht=On(De.to,fe.to);(lt<0||!ie.inclusiveLeft&&!lt)&&tt.push({from:De.from,to:fe.from}),(Ht>0||!ie.inclusiveRight&&!Ht)&&tt.push({from:fe.to,to:De.to}),F.splice.apply(F,tt),xe+=tt.length-3}}return F}function As(l){var x=l.markedSpans;if(x){for(var M=0;M<x.length;++M)x[M].marker.detachLine(l);l.markedSpans=null}}function Co(l,x){if(x){for(var M=0;M<x.length;++M)x[M].marker.attachLine(l);l.markedSpans=x}}function ho(l){return l.inclusiveLeft?-1:0}function io(l){return l.inclusiveRight?1:0}function us(l,x){var M=l.lines.length-x.lines.length;if(M!=0)return M;var _=l.find(),F=x.find(),X=On(_.from,F.from)||ho(l)-ho(x);if(X)return-X;var ie=On(_.to,F.to)||io(l)-io(x);return ie||x.id-l.id}function Qi(l,x){var M=ei&&l.markedSpans,_;if(M)for(var F=void 0,X=0;X<M.length;++X)F=M[X],F.marker.collapsed&&(x?F.from:F.to)==null&&(!_||us(_,F.marker)<0)&&(_=F.marker);return _}function Ma(l){return Qi(l,!0)}function Aa(l){return Qi(l,!1)}function Ts(l,x){var M=ei&&l.markedSpans,_;if(M)for(var F=0;F<M.length;++F){var X=M[F];X.marker.collapsed&&(X.from==null||X.from<x)&&(X.to==null||X.to>x)&&(!_||us(_,X.marker)<0)&&(_=X.marker)}return _}function ks(l,x,M,_,F){var X=mn(l,x),ie=ei&&X.markedSpans;if(ie)for(var fe=0;fe<ie.length;++fe){var xe=ie[fe];if(xe.marker.collapsed){var De=xe.marker.find(0),tt=On(De.from,M)||ho(xe.marker)-ho(F),lt=On(De.to,_)||io(xe.marker)-io(F);if(!(tt>=0&&lt<=0||tt<=0&&lt>=0)&&(tt<=0&&(xe.marker.inclusiveRight&&F.inclusiveLeft?On(De.to,M)>=0:On(De.to,M)>0)||tt>=0&&(xe.marker.inclusiveRight&&F.inclusiveLeft?On(De.from,_)<=0:On(De.from,_)<0)))return!0}}}function Oa(l){for(var x;x=Ma(l);)l=x.find(-1,!0).line;return l}function yu(l){for(var x;x=Aa(l);)l=x.find(1,!0).line;return l}function jl(l){for(var x,M;x=Aa(l);)l=x.find(1,!0).line,(M||(M=[])).push(l);return M}function Dl(l,x){var M=mn(l,x),_=Oa(M);return M==_?x:Xn(_)}function gi(l,x){if(x>l.lastLine())return x;var M=mn(l,x),_;if(!Ds(l,M))return x;for(;_=Aa(M);)M=_.find(1,!0).line;return Xn(M)+1}function Ds(l,x){var M=ei&&x.markedSpans;if(M){for(var _=void 0,F=0;F<M.length;++F)if(_=M[F],!!_.marker.collapsed){if(_.from==null)return!0;if(!_.marker.widgetNode&&_.from==0&&_.marker.inclusiveLeft&&_l(l,x,_))return!0}}}function _l(l,x,M){if(M.to==null){var _=M.marker.find(1,!0);return _l(l,_.line,Vn(_.line.markedSpans,M.marker))}if(M.marker.inclusiveRight&&M.to==x.text.length)return!0;for(var F=void 0,X=0;X<x.markedSpans.length;++X)if(F=x.markedSpans[X],F.marker.collapsed&&!F.marker.widgetNode&&F.from==M.to&&(F.to==null||F.to!=M.from)&&(F.marker.inclusiveLeft||M.marker.inclusiveRight)&&_l(l,x,F))return!0}function Pa(l){l=Oa(l);for(var x=0,M=l.parent,_=0;_<M.lines.length;++_){var F=M.lines[_];if(F==l)break;x+=F.height}for(var X=M.parent;X;M=X,X=M.parent)for(var ie=0;ie<X.children.length;++ie){var fe=X.children[ie];if(fe==M)break;x+=fe.height}return x}function _s(l){if(l.height==0)return 0;for(var x=l.text.length,M,_=l;M=Ma(_);){var F=M.find(0,!0);_=F.from.line,x+=F.from.ch-F.to.ch}for(_=l;M=Aa(_);){var X=M.find(0,!0);x-=_.text.length-X.from.ch,_=X.to.line,x+=_.text.length-X.to.ch}return x}function Jt(l){var x=l.display,M=l.doc;x.maxLine=mn(M,M.first),x.maxLineLength=_s(x.maxLine),x.maxLineChanged=!0,M.iter(function(_){var F=_s(_);F>x.maxLineLength&&(x.maxLineLength=F,x.maxLine=_)})}var Nr=function(l,x,M){this.text=l,Co(this,x),this.height=M?M(this):1};Nr.prototype.lineNo=function(){return Xn(this)},er(Nr);function Ka(l,x,M,_){l.text=x,l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null),l.order!=null&&(l.order=null),As(l),Co(l,M);var F=_?_(l):1;F!=l.height&&br(l,F)}function cs(l){l.parent=null,As(l)}var xu={},Wl={};function ru(l,x){if(!l||/^\s*$/.test(l))return null;var M=x.addModeClass?Wl:xu;return M[l]||(M[l]=l.replace(/\S+/g,"cm-$&"))}function Zs(l,x){var M=ye("span",null,null,v?"padding-right: .1px":null),_={pre:ye("pre",[M],"CodeMirror-line"),content:M,col:0,pos:0,cm:l,trailingSpace:!1,splitSpaces:l.getOption("lineWrapping")};x.measure={};for(var F=0;F<=(x.rest?x.rest.length:0);F++){var X=F?x.rest[F-1]:x.line,ie=void 0;_.pos=0,_.addToken=Ji,Sn(l.display.measure)&&(ie=at(X,l.doc.direction))&&(_.addToken=Li(_.addToken,ie)),_.map=[];var fe=x!=l.display.externalMeasured&&Xn(X);gl(X,_,ki(l,X,fe)),X.styleClasses&&(X.styleClasses.bgClass&&(_.bgClass=le(X.styleClasses.bgClass,_.bgClass||"")),X.styleClasses.textClass&&(_.textClass=le(X.styleClasses.textClass,_.textClass||""))),_.map.length==0&&_.map.push(0,0,_.content.appendChild(Yr(l.display.measure))),F==0?(x.measure.map=_.map,x.measure.cache={}):((x.measure.maps||(x.measure.maps=[])).push(_.map),(x.measure.caches||(x.measure.caches=[])).push({}))}if(v){var xe=_.content.lastChild;(/\bcm-tab\b/.test(xe.className)||xe.querySelector&&xe.querySelector(".cm-tab"))&&(_.content.className="cm-tab-wrap-hack")}return Cn(l,"renderLine",l,x.line,_.pre),_.pre.className&&(_.textClass=le(_.pre.className,_.textClass||"")),_}function Ia(l){var x=ge("span","","cm-invalidchar");return x.title="\\u"+l.charCodeAt(0).toString(16),x.setAttribute("aria-label",x.title),x}function Ji(l,x,M,_,F,X,ie){if(x){var fe=l.splitSpaces?Fs(x,l.trailingSpace):x,xe=l.cm.state.specialChars,De=!1,tt;if(!xe.test(x))l.col+=x.length,tt=document.createTextNode(fe),l.map.push(l.pos,l.pos+x.length,tt),a&&c<9&&(De=!0),l.pos+=x.length;else{tt=document.createDocumentFragment();for(var lt=0;;){xe.lastIndex=lt;var Ht=xe.exec(x),Mt=Ht?Ht.index-lt:x.length-lt;if(Mt){var an=document.createTextNode(fe.slice(lt,lt+Mt));a&&c<9?tt.appendChild(ge("span",[an])):tt.appendChild(an),l.map.push(l.pos,l.pos+Mt,an),l.col+=Mt,l.pos+=Mt}if(!Ht)break;lt+=Mt+1;var gn=void 0;if(Ht[0]=="	"){var Tn=l.cm.options.tabSize,Fn=Tn-l.col%Tn;gn=tt.appendChild(ge("span",Vt(Fn),"cm-tab")),gn.setAttribute("role","presentation"),gn.setAttribute("cm-text","	"),l.col+=Fn}else Ht[0]=="\r"||Ht[0]==`
`?(gn=tt.appendChild(ge("span",Ht[0]=="\r"?"":"","cm-invalidchar")),gn.setAttribute("cm-text",Ht[0]),l.col+=1):(gn=l.cm.options.specialCharPlaceholder(Ht[0]),gn.setAttribute("cm-text",Ht[0]),a&&c<9?tt.appendChild(ge("span",[gn])):tt.appendChild(gn),l.col+=1);l.map.push(l.pos,l.pos+1,gn),l.pos++}}if(l.trailingSpace=fe.charCodeAt(x.length-1)==32,M||_||F||De||X||ie){var zn=M||"";_&&(zn+=_),F&&(zn+=F);var wn=ge("span",[tt],zn,X);if(ie)for(var Kn in ie)ie.hasOwnProperty(Kn)&&Kn!="style"&&Kn!="class"&&wn.setAttribute(Kn,ie[Kn]);return l.content.appendChild(wn)}l.content.appendChild(tt)}}function Fs(l,x){if(l.length>1&&!/  /.test(l))return l;for(var M=x,_="",F=0;F<l.length;F++){var X=l.charAt(F);X==" "&&M&&(F==l.length-1||l.charCodeAt(F+1)==32)&&(X=""),_+=X,M=X==" "}return _}function Li(l,x){return function(M,_,F,X,ie,fe,xe){F=F?F+" cm-force-border":"cm-force-border";for(var De=M.pos,tt=De+_.length;;){for(var lt=void 0,Ht=0;Ht<x.length&&(lt=x[Ht],!(lt.to>De&&lt.from<=De));Ht++);if(lt.to>=tt)return l(M,_,F,X,ie,fe,xe);l(M,_.slice(0,lt.to-De),F,X,null,fe,xe),X=null,_=_.slice(lt.to-De),De=lt.to}}}function dl(l,x,M,_){var F=!_&&M.widgetNode;F&&l.map.push(l.pos,l.pos+x,F),!_&&l.cm.display.input.needsContentAttribute&&(F||(F=l.content.appendChild(document.createElement("span"))),F.setAttribute("cm-marker",M.id)),F&&(l.cm.display.input.setUneditable(F),l.content.appendChild(F)),l.pos+=x,l.trailingSpace=!1}function gl(l,x,M){var _=l.markedSpans,F=l.text,X=0;if(!_){for(var ie=1;ie<M.length;ie+=2)x.addToken(x,F.slice(X,X=M[ie]),ru(M[ie+1],x.cm.options));return}for(var fe=F.length,xe=0,De=1,tt="",lt,Ht,Mt=0,an,gn,Tn,Fn,zn;;){if(Mt==xe){an=gn=Tn=Ht="",zn=null,Fn=null,Mt=1/0;for(var wn=[],Kn=void 0,Cr=0;Cr<_.length;++Cr){var dr=_[Cr],ii=dr.marker;if(ii.type=="bookmark"&&dr.from==xe&&ii.widgetNode)wn.push(ii);else if(dr.from<=xe&&(dr.to==null||dr.to>xe||ii.collapsed&&dr.to==xe&&dr.from==xe)){if(dr.to!=null&&dr.to!=xe&&Mt>dr.to&&(Mt=dr.to,gn=""),ii.className&&(an+=" "+ii.className),ii.css&&(Ht=(Ht?Ht+";":"")+ii.css),ii.startStyle&&dr.from==xe&&(Tn+=" "+ii.startStyle),ii.endStyle&&dr.to==Mt&&(Kn||(Kn=[])).push(ii.endStyle,dr.to),ii.title&&((zn||(zn={})).title=ii.title),ii.attributes)for(var Gi in ii.attributes)(zn||(zn={}))[Gi]=ii.attributes[Gi];ii.collapsed&&(!Fn||us(Fn.marker,ii)<0)&&(Fn=dr)}else dr.from>xe&&Mt>dr.from&&(Mt=dr.from)}if(Kn)for(var bs=0;bs<Kn.length;bs+=2)Kn[bs+1]==Mt&&(gn+=" "+Kn[bs]);if(!Fn||Fn.from==xe)for(var oo=0;oo<wn.length;++oo)dl(x,0,wn[oo]);if(Fn&&(Fn.from||0)==xe){if(dl(x,(Fn.to==null?fe+1:Fn.to)-xe,Fn.marker,Fn.from==null),Fn.to==null)return;Fn.to==xe&&(Fn=!1)}}if(xe>=fe)break;for(var Gs=Math.min(fe,Mt);;){if(tt){var yo=xe+tt.length;if(!Fn){var Wo=yo>Gs?tt.slice(0,Gs-xe):tt;x.addToken(x,Wo,lt?lt+an:an,Tn,xe+Wo.length==Mt?gn:"",Ht,zn)}if(yo>=Gs){tt=tt.slice(Gs-xe),xe=Gs;break}xe=yo,Tn=""}tt=F.slice(X,X=M[De++]),lt=ru(M[De++],x.cm.options)}}}function Di(l,x,M){this.line=x,this.rest=jl(x),this.size=this.rest?Xn(un(this.rest))-M+1:1,this.node=this.text=null,this.hidden=Ds(l,x)}function jn(l,x,M){for(var _=[],F,X=x;X<M;X=F){var ie=new Di(l.doc,mn(l.doc,X),X);F=X+ie.size,_.push(ie)}return _}var Vo=null;function di(l){Vo?Vo.ops.push(l):l.ownsGroup=Vo={ops:[l],delayedCallbacks:[]}}function fs(l){var x=l.delayedCallbacks,M=0;do{for(;M<x.length;M++)x[M].call(null);for(var _=0;_<l.ops.length;_++){var F=l.ops[_];if(F.cursorActivityHandlers)for(;F.cursorActivityCalled<F.cursorActivityHandlers.length;)F.cursorActivityHandlers[F.cursorActivityCalled++].call(null,F.cm)}}while(M<x.length)}function qs(l,x){var M=l.ownsGroup;if(M)try{fs(M)}finally{Vo=null,x(M)}}var Po=null;function oi(l,x){var M=Pt(l,x);if(M.length){var _=Array.prototype.slice.call(arguments,2),F;Vo?F=Vo.delayedCallbacks:Po?F=Po:(F=Po=[],setTimeout(pl,0));for(var X=function(fe){F.push(function(){return M[fe].apply(null,_)})},ie=0;ie<M.length;++ie)X(ie)}}function pl(){var l=Po;Po=null;for(var x=0;x<l.length;++x)l[x]()}function Ps(l,x,M,_){for(var F=0;F<x.changes.length;F++){var X=x.changes[F];X=="text"?Ko(l,x):X=="gutter"?Qs(l,x,M,_):X=="class"?Zo(l,x):X=="widget"&&bu(l,x,_)}x.changes=null}function $i(l){return l.node==l.text&&(l.node=ge("div",null,null,"position: relative"),l.text.parentNode&&l.text.parentNode.replaceChild(l.node,l.text),l.node.appendChild(l.text),a&&c<8&&(l.node.style.zIndex=2)),l.node}function zo(l,x){var M=x.bgClass?x.bgClass+" "+(x.line.bgClass||""):x.line.bgClass;if(M&&(M+=" CodeMirror-linebackground"),x.background)M?x.background.className=M:(x.background.parentNode.removeChild(x.background),x.background=null);else if(M){var _=$i(x);x.background=_.insertBefore(ge("div",null,M),_.firstChild),l.display.input.setUneditable(x.background)}}function Bi(l,x){var M=l.display.externalMeasured;return M&&M.line==x.line?(l.display.externalMeasured=null,x.measure=M.measure,M.built):Zs(l,x)}function Ko(l,x){var M=x.text.className,_=Bi(l,x);x.text==x.node&&(x.node=_.pre),x.text.parentNode.replaceChild(_.pre,x.text),x.text=_.pre,_.bgClass!=x.bgClass||_.textClass!=x.textClass?(x.bgClass=_.bgClass,x.textClass=_.textClass,Zo(l,x)):M&&(x.text.className=M)}function Zo(l,x){zo(l,x),x.line.wrapClass?$i(x).className=x.line.wrapClass:x.node!=x.text&&(x.node.className="");var M=x.textClass?x.textClass+" "+(x.line.textClass||""):x.line.textClass;x.text.className=M||""}function Qs(l,x,M,_){if(x.gutter&&(x.node.removeChild(x.gutter),x.gutter=null),x.gutterBackground&&(x.node.removeChild(x.gutterBackground),x.gutterBackground=null),x.line.gutterClass){var F=$i(x);x.gutterBackground=ge("div",null,"CodeMirror-gutter-background "+x.line.gutterClass,"left: "+(l.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px; width: "+_.gutterTotalWidth+"px"),l.display.input.setUneditable(x.gutterBackground),F.insertBefore(x.gutterBackground,x.text)}var X=x.line.gutterMarkers;if(l.options.lineNumbers||X){var ie=$i(x),fe=x.gutter=ge("div",null,"CodeMirror-gutter-wrapper","left: "+(l.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px");if(fe.setAttribute("aria-hidden","true"),l.display.input.setUneditable(fe),ie.insertBefore(fe,x.text),x.line.gutterClass&&(fe.className+=" "+x.line.gutterClass),l.options.lineNumbers&&(!X||!X["CodeMirror-linenumbers"])&&(x.lineNumber=fe.appendChild(ge("div",fo(l.options,M),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+_.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.display.lineNumInnerWidth+"px"))),X)for(var xe=0;xe<l.display.gutterSpecs.length;++xe){var De=l.display.gutterSpecs[xe].className,tt=X.hasOwnProperty(De)&&X[De];tt&&fe.appendChild(ge("div",[tt],"CodeMirror-gutter-elt","left: "+_.gutterLeft[De]+"px; width: "+_.gutterWidth[De]+"px"))}}}function bu(l,x,M){x.alignable&&(x.alignable=null);for(var _=Ue("CodeMirror-linewidget"),F=x.node.firstChild,X=void 0;F;F=X)X=F.nextSibling,_.test(F.className)&&x.node.removeChild(F);Js(l,x,M)}function ml(l,x,M,_){var F=Bi(l,x);return x.text=x.node=F.pre,F.bgClass&&(x.bgClass=F.bgClass),F.textClass&&(x.textClass=F.textClass),Zo(l,x),Qs(l,x,M,_),Js(l,x,_),x.node}function Js(l,x,M){if(qo(l,x.line,x,M,!0),x.rest)for(var _=0;_<x.rest.length;_++)qo(l,x.rest[_],x,M,!1)}function qo(l,x,M,_,F){if(x.widgets)for(var X=$i(M),ie=0,fe=x.widgets;ie<fe.length;++ie){var xe=fe[ie],De=ge("div",[xe.node],"CodeMirror-linewidget"+(xe.className?" "+xe.className:""));xe.handleMouseEvents||De.setAttribute("cm-ignore-events","true"),Ml(xe,De,M,_),l.display.input.setUneditable(De),F&&xe.above?X.insertBefore(De,M.gutter||M.text):X.appendChild(De),oi(xe,"redraw")}}function Ml(l,x,M,_){if(l.noHScroll){(M.alignable||(M.alignable=[])).push(x);var F=_.wrapperWidth;x.style.left=_.fixedPos+"px",l.coverGutter||(F-=_.gutterTotalWidth,x.style.paddingLeft=_.gutterTotalWidth+"px"),x.style.width=F+"px"}l.coverGutter&&(x.style.zIndex=5,x.style.position="relative",l.noHScroll||(x.style.marginLeft=-_.gutterTotalWidth+"px"))}function Fi(l){if(l.height!=null)return l.height;var x=l.doc.cm;if(!x)return 0;if(!ft(document.body,l.node)){var M="position: relative;";l.coverGutter&&(M+="margin-left: -"+x.display.gutters.offsetWidth+"px;"),l.noHScroll&&(M+="width: "+x.display.wrapper.clientWidth+"px;"),ct(x.display.measure,ge("div",[l.node],null,M))}return l.height=l.node.parentNode.offsetHeight}function So(l,x){for(var M=Oi(x);M!=l.wrapper;M=M.parentNode)if(!M||M.nodeType==1&&M.getAttribute("cm-ignore-events")=="true"||M.parentNode==l.sizer&&M!=l.mover)return!0}function Za(l){return l.lineSpace.offsetTop}function hs(l){return l.mover.offsetHeight-l.lineSpace.offsetHeight}function Ms(l){if(l.cachedPaddingH)return l.cachedPaddingH;var x=ct(l.measure,ge("pre","x","CodeMirror-line-like")),M=window.getComputedStyle?window.getComputedStyle(x):x.currentStyle,_={left:parseInt(M.paddingLeft),right:parseInt(M.paddingRight)};return!isNaN(_.left)&&!isNaN(_.right)&&(l.cachedPaddingH=_),_}function Qo(l){return Ft-l.display.nativeBarWidth}function Ho(l){return l.display.scroller.clientWidth-Qo(l)-l.display.barWidth}function za(l){return l.display.scroller.clientHeight-Qo(l)-l.display.barHeight}function ji(l,x,M){var _=l.options.lineWrapping,F=_&&Ho(l);if(!x.measure.heights||_&&x.measure.width!=F){var X=x.measure.heights=[];if(_){x.measure.width=F;for(var ie=x.text.firstChild.getClientRects(),fe=0;fe<ie.length-1;fe++){var xe=ie[fe],De=ie[fe+1];Math.abs(xe.bottom-De.bottom)>2&&X.push((xe.bottom+De.top)/2-M.top)}}X.push(M.bottom-M.top)}}function ea(l,x,M){if(l.line==x)return{map:l.measure.map,cache:l.measure.cache};if(l.rest){for(var _=0;_<l.rest.length;_++)if(l.rest[_]==x)return{map:l.measure.maps[_],cache:l.measure.caches[_]};for(var F=0;F<l.rest.length;F++)if(Xn(l.rest[F])>M)return{map:l.measure.maps[F],cache:l.measure.caches[F],before:!0}}}function go(l,x){x=Oa(x);var M=Xn(x),_=l.display.externalMeasured=new Di(l.doc,x,M);_.lineN=M;var F=_.built=Zs(l,_);return _.text=F.pre,ct(l.display.lineMeasure,F.pre),_}function Er(l,x,M,_){return s(l,_e(l,x),M,_)}function $s(l,x){if(x>=l.display.viewFrom&&x<l.display.viewTo)return l.display.view[Zt(l,x)];var M=l.display.externalMeasured;if(M&&x>=M.lineN&&x<M.lineN+M.size)return M}function _e(l,x){var M=Xn(x),_=$s(l,M);_&&!_.text?_=null:_&&_.changes&&(Ps(l,_,M,vt(l)),l.curOp.forceUpdate=!0),_||(_=go(l,x));var F=ea(_,x,M);return{line:x,view:_,rect:null,map:F.map,cache:F.cache,before:F.before,hasHeights:!1}}function s(l,x,M,_,F){x.before&&(M=-1);var X=M+(_||""),ie;return x.cache.hasOwnProperty(X)?ie=x.cache[X]:(x.rect||(x.rect=x.view.text.getBoundingClientRect()),x.hasHeights||(ji(l,x.view,x.rect),x.hasHeights=!0),ie=D(l,x,M,_),ie.bogus||(x.cache[X]=ie)),{left:ie.left,right:ie.right,top:F?ie.rtop:ie.top,bottom:F?ie.rbottom:ie.bottom}}var p={left:0,right:0,top:0,bottom:0};function w(l,x,M){for(var _,F,X,ie,fe,xe,De=0;De<l.length;De+=3)if(fe=l[De],xe=l[De+1],x<fe?(F=0,X=1,ie="left"):x<xe?(F=x-fe,X=F+1):(De==l.length-3||x==xe&&l[De+3]>x)&&(X=xe-fe,F=X-1,x>=xe&&(ie="right")),F!=null){if(_=l[De+2],fe==xe&&M==(_.insertLeft?"left":"right")&&(ie=M),M=="left"&&F==0)for(;De&&l[De-2]==l[De-3]&&l[De-1].insertLeft;)_=l[(De-=3)+2],ie="left";if(M=="right"&&F==xe-fe)for(;De<l.length-3&&l[De+3]==l[De+4]&&!l[De+5].insertLeft;)_=l[(De+=3)+2],ie="right";break}return{node:_,start:F,end:X,collapse:ie,coverStart:fe,coverEnd:xe}}function A(l,x){var M=p;if(x=="left")for(var _=0;_<l.length&&(M=l[_]).left==M.right;_++);else for(var F=l.length-1;F>=0&&(M=l[F]).left==M.right;F--);return M}function D(l,x,M,_){var F=w(x.map,M,_),X=F.node,ie=F.start,fe=F.end,xe=F.collapse,De;if(X.nodeType==3){for(var tt=0;tt<4;tt++){for(;ie&&re(x.line.text.charAt(F.coverStart+ie));)--ie;for(;F.coverStart+fe<F.coverEnd&&re(x.line.text.charAt(F.coverStart+fe));)++fe;if(a&&c<9&&ie==0&&fe==F.coverEnd-F.coverStart?De=X.parentNode.getBoundingClientRect():De=A(Re(X,ie,fe).getClientRects(),_),De.left||De.right||ie==0)break;fe=ie,ie=ie-1,xe="right"}a&&c<11&&(De=L(l.display.measure,De))}else{ie>0&&(xe=_="right");var lt;l.options.lineWrapping&&(lt=X.getClientRects()).length>1?De=lt[_=="right"?lt.length-1:0]:De=X.getBoundingClientRect()}if(a&&c<9&&!ie&&(!De||!De.left&&!De.right)){var Ht=X.parentNode.getClientRects()[0];Ht?De={left:Ht.left,right:Ht.left+ze(l.display),top:Ht.top,bottom:Ht.bottom}:De=p}for(var Mt=De.top-x.rect.top,an=De.bottom-x.rect.top,gn=(Mt+an)/2,Tn=x.view.measure.heights,Fn=0;Fn<Tn.length-1&&!(gn<Tn[Fn]);Fn++);var zn=Fn?Tn[Fn-1]:0,wn=Tn[Fn],Kn={left:(xe=="right"?De.right:De.left)-x.rect.left,right:(xe=="left"?De.left:De.right)-x.rect.left,top:zn,bottom:wn};return!De.left&&!De.right&&(Kn.bogus=!0),l.options.singleCursorHeightPerLine||(Kn.rtop=Mt,Kn.rbottom=an),Kn}function L(l,x){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!yi(l))return x;var M=screen.logicalXDPI/screen.deviceXDPI,_=screen.logicalYDPI/screen.deviceYDPI;return{left:x.left*M,right:x.right*M,top:x.top*_,bottom:x.bottom*_}}function b(l){if(l.measure&&(l.measure.cache={},l.measure.heights=null,l.rest))for(var x=0;x<l.rest.length;x++)l.measure.caches[x]={}}function T(l){l.display.externalMeasure=null,mt(l.display.lineMeasure);for(var x=0;x<l.display.view.length;x++)b(l.display.view[x])}function B(l){T(l),l.display.cachedCharWidth=l.display.cachedTextHeight=l.display.cachedPaddingH=null,l.options.lineWrapping||(l.display.maxLineChanged=!0),l.display.lineNumChars=null}function j(l){return g&&U?-(l.body.getBoundingClientRect().left-parseInt(getComputedStyle(l.body).marginLeft)):l.defaultView.pageXOffset||(l.documentElement||l.body).scrollLeft}function K(l){return g&&U?-(l.body.getBoundingClientRect().top-parseInt(getComputedStyle(l.body).marginTop)):l.defaultView.pageYOffset||(l.documentElement||l.body).scrollTop}function ee(l){var x=Oa(l),M=x.widgets,_=0;if(M)for(var F=0;F<M.length;++F)M[F].above&&(_+=Fi(M[F]));return _}function he(l,x,M,_,F){if(!F){var X=ee(x);M.top+=X,M.bottom+=X}if(_=="line")return M;_||(_="local");var ie=Pa(x);if(_=="local"?ie+=Za(l.display):ie-=l.display.viewOffset,_=="page"||_=="window"){var fe=l.display.lineSpace.getBoundingClientRect();ie+=fe.top+(_=="window"?0:K(V(l)));var xe=fe.left+(_=="window"?0:j(V(l)));M.left+=xe,M.right+=xe}return M.top+=ie,M.bottom+=ie,M}function Te(l,x,M){if(M=="div")return x;var _=x.left,F=x.top;if(M=="page")_-=j(V(l)),F-=K(V(l));else if(M=="local"||!M){var X=l.display.sizer.getBoundingClientRect();_+=X.left,F+=X.top}var ie=l.display.lineSpace.getBoundingClientRect();return{left:_-ie.left,top:F-ie.top}}function Oe(l,x,M,_,F){return _||(_=mn(l.doc,x.line)),he(l,_,Er(l,_,x.ch,F),M)}function Be(l,x,M,_,F,X){_=_||mn(l.doc,x.line),F||(F=_e(l,_));function ie(an,gn){var Tn=s(l,F,an,gn?"right":"left",X);return gn?Tn.left=Tn.right:Tn.right=Tn.left,he(l,_,Tn,M)}var fe=at(_,l.doc.direction),xe=x.ch,De=x.sticky;if(xe>=_.text.length?(xe=_.text.length,De="before"):xe<=0&&(xe=0,De="after"),!fe)return ie(De=="before"?xe-1:xe,De=="before");function tt(an,gn,Tn){var Fn=fe[gn],zn=Fn.level==1;return ie(Tn?an-1:an,zn!=Tn)}var lt=Et(fe,xe,De),Ht=We,Mt=tt(xe,lt,De=="before");return Ht!=null&&(Mt.other=tt(xe,Ht,De!="before")),Mt}function Xe(l,x){var M=0;x=Zn(l.doc,x),l.options.lineWrapping||(M=ze(l.display)*x.ch);var _=mn(l.doc,x.line),F=Pa(_)+Za(l.display);return{left:M,right:M,top:F,bottom:F+_.height}}function Ke(l,x,M,_,F){var X=cn(l,x,M);return X.xRel=F,_&&(X.outside=_),X}function ot(l,x,M){var _=l.doc;if(M+=l.display.viewOffset,M<0)return Ke(_.first,0,null,-1,-1);var F=fr(_,M),X=_.first+_.size-1;if(F>X)return Ke(_.first+_.size-1,mn(_,X).text.length,null,1,1);x<0&&(x=0);for(var ie=mn(_,F);;){var fe=P(l,ie,F,x,M),xe=Ts(ie,fe.ch+(fe.xRel>0||fe.outside>0?1:0));if(!xe)return fe;var De=xe.find(1);if(De.line==F)return De;ie=mn(_,F=De.line)}}function Je(l,x,M,_){_-=ee(x);var F=x.text.length,X=Ve(function(ie){return s(l,M,ie-1).bottom<=_},F,0);return F=Ve(function(ie){return s(l,M,ie).top>_},X,F),{begin:X,end:F}}function Ct(l,x,M,_){M||(M=_e(l,x));var F=he(l,x,s(l,M,_),"line").top;return Je(l,x,M,F)}function R(l,x,M,_){return l.bottom<=M?!1:l.top>M?!0:(_?l.left:l.right)>x}function P(l,x,M,_,F){F-=Pa(x);var X=_e(l,x),ie=ee(x),fe=0,xe=x.text.length,De=!0,tt=at(x,l.doc.direction);if(tt){var lt=(l.options.lineWrapping?$:Y)(l,x,M,X,tt,_,F);De=lt.level!=1,fe=De?lt.from:lt.to-1,xe=De?lt.to:lt.from-1}var Ht=null,Mt=null,an=Ve(function(Cr){var dr=s(l,X,Cr);return dr.top+=ie,dr.bottom+=ie,R(dr,_,F,!1)?(dr.top<=F&&dr.left<=_&&(Ht=Cr,Mt=dr),!0):!1},fe,xe),gn,Tn,Fn=!1;if(Mt){var zn=_-Mt.left<Mt.right-_,wn=zn==De;an=Ht+(wn?0:1),Tn=wn?"after":"before",gn=zn?Mt.left:Mt.right}else{!De&&(an==xe||an==fe)&&an++,Tn=an==0?"after":an==x.text.length?"before":s(l,X,an-(De?1:0)).bottom+ie<=F==De?"after":"before";var Kn=Be(l,cn(M,an,Tn),"line",x,X);gn=Kn.left,Fn=F<Kn.top?-1:F>=Kn.bottom?1:0}return an=we(x.text,an,1),Ke(M,an,Tn,Fn,_-gn)}function Y(l,x,M,_,F,X,ie){var fe=Ve(function(lt){var Ht=F[lt],Mt=Ht.level!=1;return R(Be(l,cn(M,Mt?Ht.to:Ht.from,Mt?"before":"after"),"line",x,_),X,ie,!0)},0,F.length-1),xe=F[fe];if(fe>0){var De=xe.level!=1,tt=Be(l,cn(M,De?xe.from:xe.to,De?"after":"before"),"line",x,_);R(tt,X,ie,!0)&&tt.top>ie&&(xe=F[fe-1])}return xe}function $(l,x,M,_,F,X,ie){var fe=Je(l,x,_,ie),xe=fe.begin,De=fe.end;/\s/.test(x.text.charAt(De-1))&&De--;for(var tt=null,lt=null,Ht=0;Ht<F.length;Ht++){var Mt=F[Ht];if(!(Mt.from>=De||Mt.to<=xe)){var an=Mt.level!=1,gn=s(l,_,an?Math.min(De,Mt.to)-1:Math.max(xe,Mt.from)).right,Tn=gn<X?X-gn+1e9:gn-X;(!tt||lt>Tn)&&(tt=Mt,lt=Tn)}}return tt||(tt=F[F.length-1]),tt.from<xe&&(tt={from:xe,to:tt.to,level:tt.level}),tt.to>De&&(tt={from:tt.from,to:De,level:tt.level}),tt}var oe;function ke(l){if(l.cachedTextHeight!=null)return l.cachedTextHeight;if(oe==null){oe=ge("pre",null,"CodeMirror-line-like");for(var x=0;x<49;++x)oe.appendChild(document.createTextNode("x")),oe.appendChild(ge("br"));oe.appendChild(document.createTextNode("x"))}ct(l.measure,oe);var M=oe.offsetHeight/50;return M>3&&(l.cachedTextHeight=M),mt(l.measure),M||1}function ze(l){if(l.cachedCharWidth!=null)return l.cachedCharWidth;var x=ge("span","xxxxxxxxxx"),M=ge("pre",[x],"CodeMirror-line-like");ct(l.measure,M);var _=x.getBoundingClientRect(),F=(_.right-_.left)/10;return F>2&&(l.cachedCharWidth=F),F||10}function vt(l){for(var x=l.display,M={},_={},F=x.gutters.clientLeft,X=x.gutters.firstChild,ie=0;X;X=X.nextSibling,++ie){var fe=l.display.gutterSpecs[ie].className;M[fe]=X.offsetLeft+X.clientLeft+F,_[fe]=X.clientWidth}return{fixedPos:nt(x),gutterTotalWidth:x.gutters.offsetWidth,gutterLeft:M,gutterWidth:_,wrapperWidth:x.wrapper.clientWidth}}function nt(l){return l.scroller.getBoundingClientRect().left-l.sizer.getBoundingClientRect().left}function bt(l){var x=ke(l.display),M=l.options.lineWrapping,_=M&&Math.max(5,l.display.scroller.clientWidth/ze(l.display)-3);return function(F){if(Ds(l.doc,F))return 0;var X=0;if(F.widgets)for(var ie=0;ie<F.widgets.length;ie++)F.widgets[ie].height&&(X+=F.widgets[ie].height);return M?X+(Math.ceil(F.text.length/_)||1)*x:X+x}}function Rt(l){var x=l.doc,M=bt(l);x.iter(function(_){var F=M(_);F!=_.height&&br(_,F)})}function kt(l,x,M,_){var F=l.display;if(!M&&Oi(x).getAttribute("cm-not-content")=="true")return null;var X,ie,fe=F.lineSpace.getBoundingClientRect();try{X=x.clientX-fe.left,ie=x.clientY-fe.top}catch{return null}var xe=ot(l,X,ie),De;if(_&&xe.xRel>0&&(De=mn(l.doc,xe.line).text).length==xe.ch){var tt=et(De,De.length,l.options.tabSize)-De.length;xe=cn(xe.line,Math.max(0,Math.round((X-Ms(l.display).left)/ze(l.display))-tt))}return xe}function Zt(l,x){if(x>=l.display.viewTo||(x-=l.display.viewFrom,x<0))return null;for(var M=l.display.view,_=0;_<M.length;_++)if(x-=M[_].size,x<0)return _}function dn(l,x,M,_){x==null&&(x=l.doc.first),M==null&&(M=l.doc.first+l.doc.size),_||(_=0);var F=l.display;if(_&&M<F.viewTo&&(F.updateLineNumbers==null||F.updateLineNumbers>x)&&(F.updateLineNumbers=x),l.curOp.viewChanged=!0,x>=F.viewTo)ei&&Dl(l.doc,x)<F.viewTo&&In(l);else if(M<=F.viewFrom)ei&&gi(l.doc,M+_)>F.viewFrom?In(l):(F.viewFrom+=_,F.viewTo+=_);else if(x<=F.viewFrom&&M>=F.viewTo)In(l);else if(x<=F.viewFrom){var X=rr(l,M,M+_,1);X?(F.view=F.view.slice(X.index),F.viewFrom=X.lineN,F.viewTo+=_):In(l)}else if(M>=F.viewTo){var ie=rr(l,x,x,-1);ie?(F.view=F.view.slice(0,ie.index),F.viewTo=ie.lineN):In(l)}else{var fe=rr(l,x,x,-1),xe=rr(l,M,M+_,1);fe&&xe?(F.view=F.view.slice(0,fe.index).concat(jn(l,fe.lineN,xe.lineN)).concat(F.view.slice(xe.index)),F.viewTo+=_):In(l)}var De=F.externalMeasured;De&&(M<De.lineN?De.lineN+=_:x<De.lineN+De.size&&(F.externalMeasured=null))}function Nn(l,x,M){l.curOp.viewChanged=!0;var _=l.display,F=l.display.externalMeasured;if(F&&x>=F.lineN&&x<F.lineN+F.size&&(_.externalMeasured=null),!(x<_.viewFrom||x>=_.viewTo)){var X=_.view[Zt(l,x)];if(X.node!=null){var ie=X.changes||(X.changes=[]);_t(ie,M)==-1&&ie.push(M)}}}function In(l){l.display.viewFrom=l.display.viewTo=l.doc.first,l.display.view=[],l.display.viewOffset=0}function rr(l,x,M,_){var F=Zt(l,x),X,ie=l.display.view;if(!ei||M==l.doc.first+l.doc.size)return{index:F,lineN:M};for(var fe=l.display.viewFrom,xe=0;xe<F;xe++)fe+=ie[xe].size;if(fe!=x){if(_>0){if(F==ie.length-1)return null;X=fe+ie[F].size-x,F++}else X=fe-x;x+=X,M+=X}for(;Dl(l.doc,M)!=M;){if(F==(_<0?0:ie.length-1))return null;M+=_*ie[F-(_<0?1:0)].size,F+=_}return{index:F,lineN:M}}function Rn(l,x,M){var _=l.display,F=_.view;F.length==0||x>=_.viewTo||M<=_.viewFrom?(_.view=jn(l,x,M),_.viewFrom=x):(_.viewFrom>x?_.view=jn(l,x,_.viewFrom).concat(_.view):_.viewFrom<x&&(_.view=_.view.slice(Zt(l,x))),_.viewFrom=x,_.viewTo<M?_.view=_.view.concat(jn(l,_.viewTo,M)):_.viewTo>M&&(_.view=_.view.slice(0,Zt(l,M)))),_.viewTo=M}function sr(l){for(var x=l.display.view,M=0,_=0;_<x.length;_++){var F=x[_];!F.hidden&&(!F.node||F.changes)&&++M}return M}function _r(l){l.display.input.showSelection(l.display.input.prepareSelection())}function ta(l,x){x===void 0&&(x=!0);var M=l.doc,_={},F=_.cursors=document.createDocumentFragment(),X=_.selection=document.createDocumentFragment(),ie=l.options.$customCursor;ie&&(x=!0);for(var fe=0;fe<M.sel.ranges.length;fe++)if(!(!x&&fe==M.sel.primIndex)){var xe=M.sel.ranges[fe];if(!(xe.from().line>=l.display.viewTo||xe.to().line<l.display.viewFrom)){var De=xe.empty();if(ie){var tt=ie(l,xe);tt&&wr(l,tt,F)}else(De||l.options.showCursorWhenSelecting)&&wr(l,xe.head,F);De||ui(l,xe,X)}}return _}function wr(l,x,M){var _=Be(l,x,"div",null,null,!l.options.singleCursorHeightPerLine),F=M.appendChild(ge("div","","CodeMirror-cursor"));if(F.style.left=_.left+"px",F.style.top=_.top+"px",F.style.height=Math.max(0,_.bottom-_.top)*l.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(l.getWrapperElement().className)){var X=Oe(l,x,"div",null,null),ie=X.right-X.left;F.style.width=(ie>0?ie:l.defaultCharWidth())+"px"}if(_.other){var fe=M.appendChild(ge("div","","CodeMirror-cursor CodeMirror-secondarycursor"));fe.style.display="",fe.style.left=_.other.left+"px",fe.style.top=_.other.top+"px",fe.style.height=(_.other.bottom-_.other.top)*.85+"px"}}function jr(l,x){return l.top-x.top||l.left-x.left}function ui(l,x,M){var _=l.display,F=l.doc,X=document.createDocumentFragment(),ie=Ms(l.display),fe=ie.left,xe=Math.max(_.sizerWidth,Ho(l)-_.sizer.offsetLeft)-ie.right,De=F.direction=="ltr";function tt(wn,Kn,Cr,dr){Kn<0&&(Kn=0),Kn=Math.round(Kn),dr=Math.round(dr),X.appendChild(ge("div",null,"CodeMirror-selected","position: absolute; left: "+wn+`px;
                             top: `+Kn+"px; width: "+(Cr??xe-wn)+`px;
                             height: `+(dr-Kn)+"px"))}function lt(wn,Kn,Cr){var dr=mn(F,wn),ii=dr.text.length,Gi,bs;function oo(Wo,ul){return Oe(l,cn(wn,Wo),"div",dr,ul)}function Gs(Wo,ul,Ns){var Go=Ct(l,dr,null,Wo),Ro=ul=="ltr"==(Ns=="after")?"left":"right",to=Ns=="after"?Go.begin:Go.end-(/\s/.test(dr.text.charAt(Go.end-1))?2:1);return oo(to,Ro)[Ro]}var yo=at(dr,F.direction);return it(yo,Kn||0,Cr??ii,function(Wo,ul,Ns,Go){var Ro=Ns=="ltr",to=oo(Wo,Ro?"left":"right"),Sl=oo(ul-1,Ro?"right":"left"),Jl=Kn==null&&Wo==0,Wa=Cr==null&&ul==ii,Ls=Go==0,nc=!yo||Go==yo.length-1;if(Sl.top-to.top<=3){var zi=(De?Jl:Wa)&&Ls,Xd=(De?Wa:Jl)&&nc,_c=zi?fe:(Ro?to:Sl).left,_f=Xd?xe:(Ro?Sl:to).right;tt(_c,to.top,_f-_c,to.bottom)}else{var wa,ka,$l,V0;Ro?(wa=De&&Jl&&Ls?fe:to.left,ka=De?xe:Gs(Wo,Ns,"before"),$l=De?fe:Gs(ul,Ns,"after"),V0=De&&Wa&&nc?xe:Sl.right):(wa=De?Gs(Wo,Ns,"before"):fe,ka=!De&&Jl&&Ls?xe:to.right,$l=!De&&Wa&&nc?fe:Sl.left,V0=De?Gs(ul,Ns,"after"):xe),tt(wa,to.top,ka-wa,to.bottom),to.bottom<Sl.top&&tt(fe,to.bottom,null,Sl.top),tt($l,Sl.top,V0-$l,Sl.bottom)}(!Gi||jr(to,Gi)<0)&&(Gi=to),jr(Sl,Gi)<0&&(Gi=Sl),(!bs||jr(to,bs)<0)&&(bs=to),jr(Sl,bs)<0&&(bs=Sl)}),{start:Gi,end:bs}}var Ht=x.from(),Mt=x.to();if(Ht.line==Mt.line)lt(Ht.line,Ht.ch,Mt.ch);else{var an=mn(F,Ht.line),gn=mn(F,Mt.line),Tn=Oa(an)==Oa(gn),Fn=lt(Ht.line,Ht.ch,Tn?an.text.length+1:null).end,zn=lt(Mt.line,Tn?0:null,Mt.ch).start;Tn&&(Fn.top<zn.top-2?(tt(Fn.right,Fn.top,null,Fn.bottom),tt(fe,zn.top,zn.left,zn.bottom)):tt(Fn.right,Fn.top,zn.left-Fn.right,Fn.bottom)),Fn.bottom<zn.top&&tt(fe,Fn.bottom,null,zn.top)}M.appendChild(X)}function ca(l){if(l.state.focused){var x=l.display;clearInterval(x.blinker);var M=!0;x.cursorDiv.style.visibility="",l.options.cursorBlinkRate>0?x.blinker=setInterval(function(){l.hasFocus()||fa(l),x.cursorDiv.style.visibility=(M=!M)?"":"hidden"},l.options.cursorBlinkRate):l.options.cursorBlinkRate<0&&(x.cursorDiv.style.visibility="hidden")}}function pi(l){l.hasFocus()||(l.display.input.focus(),l.state.focused||Pi(l))}function Ha(l){l.state.delayingBlurEvent=!0,setTimeout(function(){l.state.delayingBlurEvent&&(l.state.delayingBlurEvent=!1,l.state.focused&&fa(l))},100)}function Pi(l,x){l.state.delayingBlurEvent&&!l.state.draggingText&&(l.state.delayingBlurEvent=!1),l.options.readOnly!="nocursor"&&(l.state.focused||(Cn(l,"focus",l,x),l.state.focused=!0,ce(l.display.wrapper,"CodeMirror-focused"),!l.curOp&&l.display.selForContextMenu!=l.doc.sel&&(l.display.input.reset(),v&&setTimeout(function(){return l.display.input.reset(!0)},20)),l.display.input.receivedFocus()),ca(l))}function fa(l,x){l.state.delayingBlurEvent||(l.state.focused&&(Cn(l,"blur",l,x),l.state.focused=!1,Ze(l.display.wrapper,"CodeMirror-focused")),clearInterval(l.display.blinker),setTimeout(function(){l.state.focused||(l.display.shift=!1)},150))}function ha(l){for(var x=l.display,M=x.lineDiv.offsetTop,_=Math.max(0,x.scroller.getBoundingClientRect().top),F=x.lineDiv.getBoundingClientRect().top,X=0,ie=0;ie<x.view.length;ie++){var fe=x.view[ie],xe=l.options.lineWrapping,De=void 0,tt=0;if(!fe.hidden){if(F+=fe.line.height,a&&c<8){var lt=fe.node.offsetTop+fe.node.offsetHeight;De=lt-M,M=lt}else{var Ht=fe.node.getBoundingClientRect();De=Ht.bottom-Ht.top,!xe&&fe.text.firstChild&&(tt=fe.text.firstChild.getBoundingClientRect().right-Ht.left-1)}var Mt=fe.line.height-De;if((Mt>.005||Mt<-.005)&&(F<_&&(X-=Mt),br(fe.line,De),va(fe.line),fe.rest))for(var an=0;an<fe.rest.length;an++)va(fe.rest[an]);if(tt>l.display.sizerWidth){var gn=Math.ceil(tt/ze(l.display));gn>l.display.maxLineLength&&(l.display.maxLineLength=gn,l.display.maxLine=fe.line,l.display.maxLineChanged=!0)}}}Math.abs(X)>2&&(x.scroller.scrollTop+=X)}function va(l){if(l.widgets)for(var x=0;x<l.widgets.length;++x){var M=l.widgets[x],_=M.node.parentNode;_&&(M.height=_.offsetHeight)}}function Eo(l,x,M){var _=M&&M.top!=null?Math.max(0,M.top):l.scroller.scrollTop;_=Math.floor(_-Za(l));var F=M&&M.bottom!=null?M.bottom:_+l.wrapper.clientHeight,X=fr(x,_),ie=fr(x,F);if(M&&M.ensure){var fe=M.ensure.from.line,xe=M.ensure.to.line;fe<X?(X=fe,ie=fr(x,Pa(mn(x,fe))+l.wrapper.clientHeight)):Math.min(xe,x.lastLine())>=ie&&(X=fr(x,Pa(mn(x,xe))-l.wrapper.clientHeight),ie=xe)}return{from:X,to:Math.max(ie,X+1)}}function iu(l,x){if(!vn(l,"scrollCursorIntoView")){var M=l.display,_=M.sizer.getBoundingClientRect(),F=null,X=M.wrapper.ownerDocument;if(x.top+_.top<0?F=!0:x.bottom+_.top>(X.defaultView.innerHeight||X.documentElement.clientHeight)&&(F=!1),F!=null&&!O){var ie=ge("div","",null,`position: absolute;
                         top: `+(x.top-M.viewOffset-Za(l.display))+`px;
                         height: `+(x.bottom-x.top+Qo(l)+M.barHeight)+`px;
                         left: `+x.left+"px; width: "+Math.max(2,x.right-x.left)+"px;");l.display.lineSpace.appendChild(ie),ie.scrollIntoView(F),l.display.lineSpace.removeChild(ie)}}}function zs(l,x,M,_){_==null&&(_=0);var F;!l.options.lineWrapping&&x==M&&(M=x.sticky=="before"?cn(x.line,x.ch+1,"before"):x,x=x.ch?cn(x.line,x.sticky=="before"?x.ch-1:x.ch,"after"):x);for(var X=0;X<5;X++){var ie=!1,fe=Be(l,x),xe=!M||M==x?fe:Be(l,M);F={left:Math.min(fe.left,xe.left),top:Math.min(fe.top,xe.top)-_,right:Math.max(fe.left,xe.left),bottom:Math.max(fe.bottom,xe.bottom)+_};var De=el(l,F),tt=l.doc.scrollTop,lt=l.doc.scrollLeft;if(De.scrollTop!=null&&(Wi(l,De.scrollTop),Math.abs(l.doc.scrollTop-tt)>1&&(ie=!0)),De.scrollLeft!=null&&(To(l,De.scrollLeft),Math.abs(l.doc.scrollLeft-lt)>1&&(ie=!0)),!ie)break}return F}function ds(l,x){var M=el(l,x);M.scrollTop!=null&&Wi(l,M.scrollTop),M.scrollLeft!=null&&To(l,M.scrollLeft)}function el(l,x){var M=l.display,_=ke(l.display);x.top<0&&(x.top=0);var F=l.curOp&&l.curOp.scrollTop!=null?l.curOp.scrollTop:M.scroller.scrollTop,X=za(l),ie={};x.bottom-x.top>X&&(x.bottom=x.top+X);var fe=l.doc.height+hs(M),xe=x.top<_,De=x.bottom>fe-_;if(x.top<F)ie.scrollTop=xe?0:x.top;else if(x.bottom>F+X){var tt=Math.min(x.top,(De?fe:x.bottom)-X);tt!=F&&(ie.scrollTop=tt)}var lt=l.options.fixedGutter?0:M.gutters.offsetWidth,Ht=l.curOp&&l.curOp.scrollLeft!=null?l.curOp.scrollLeft:M.scroller.scrollLeft-lt,Mt=Ho(l)-M.gutters.offsetWidth,an=x.right-x.left>Mt;return an&&(x.right=x.left+Mt),x.left<10?ie.scrollLeft=0:x.left<Ht?ie.scrollLeft=Math.max(0,x.left+lt-(an?0:10)):x.right>Mt+Ht-3&&(ie.scrollLeft=x.right+(an?0:10)-Mt),ie}function Ua(l,x){x!=null&&(ja(l),l.curOp.scrollTop=(l.curOp.scrollTop==null?l.doc.scrollTop:l.curOp.scrollTop)+x)}function po(l){ja(l);var x=l.getCursor();l.curOp.scrollToPos={from:x,to:x,margin:l.options.cursorScrollMargin}}function Ao(l,x,M){(x!=null||M!=null)&&ja(l),x!=null&&(l.curOp.scrollLeft=x),M!=null&&(l.curOp.scrollTop=M)}function qa(l,x){ja(l),l.curOp.scrollToPos=x}function ja(l){var x=l.curOp.scrollToPos;if(x){l.curOp.scrollToPos=null;var M=Xe(l,x.from),_=Xe(l,x.to);gs(l,M,_,x.margin)}}function gs(l,x,M,_){var F=el(l,{left:Math.min(x.left,M.left),top:Math.min(x.top,M.top)-_,right:Math.max(x.right,M.right),bottom:Math.max(x.bottom,M.bottom)+_});Ao(l,F.scrollLeft,F.scrollTop)}function Wi(l,x){Math.abs(l.doc.scrollTop-x)<2||(o||$a(l,{top:x}),Jo(l,x,!0),o&&$a(l),ko(l,100))}function Jo(l,x,M){x=Math.max(0,Math.min(l.display.scroller.scrollHeight-l.display.scroller.clientHeight,x)),!(l.display.scroller.scrollTop==x&&!M)&&(l.doc.scrollTop=x,l.display.scrollbars.setScrollTop(x),l.display.scroller.scrollTop!=x&&(l.display.scroller.scrollTop=x))}function To(l,x,M,_){x=Math.max(0,Math.min(x,l.display.scroller.scrollWidth-l.display.scroller.clientWidth)),!((M?x==l.doc.scrollLeft:Math.abs(l.doc.scrollLeft-x)<2)&&!_)&&(l.doc.scrollLeft=x,wc(l),l.display.scroller.scrollLeft!=x&&(l.display.scroller.scrollLeft=x),l.display.scrollbars.setScrollLeft(x))}function wu(l){var x=l.display,M=x.gutters.offsetWidth,_=Math.round(l.doc.height+hs(l.display));return{clientHeight:x.scroller.clientHeight,viewHeight:x.wrapper.clientHeight,scrollWidth:x.scroller.scrollWidth,clientWidth:x.scroller.clientWidth,viewWidth:x.wrapper.clientWidth,barLeft:l.options.fixedGutter?M:0,docHeight:_,scrollHeight:_+Qo(l)+x.barHeight,nativeBarWidth:x.nativeBarWidth,gutterWidth:M}}var Ol=function(l,x,M){this.cm=M;var _=this.vert=ge("div",[ge("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),F=this.horiz=ge("div",[ge("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");_.tabIndex=F.tabIndex=-1,l(_),l(F),yt(_,"scroll",function(){_.clientHeight&&x(_.scrollTop,"vertical")}),yt(F,"scroll",function(){F.clientWidth&&x(F.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&c<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ol.prototype.update=function(l){var x=l.scrollWidth>l.clientWidth+1,M=l.scrollHeight>l.clientHeight+1,_=l.nativeBarWidth;if(M){this.vert.style.display="block",this.vert.style.bottom=x?_+"px":"0";var F=l.viewHeight-(x?_:0);this.vert.firstChild.style.height=Math.max(0,l.scrollHeight-l.clientHeight+F)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(x){this.horiz.style.display="block",this.horiz.style.right=M?_+"px":"0",this.horiz.style.left=l.barLeft+"px";var X=l.viewWidth-l.barLeft-(M?_:0);this.horiz.firstChild.style.width=Math.max(0,l.scrollWidth-l.clientWidth+X)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&l.clientHeight>0&&(_==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:M?_:0,bottom:x?_:0}},Ol.prototype.setScrollLeft=function(l){this.horiz.scrollLeft!=l&&(this.horiz.scrollLeft=l),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ol.prototype.setScrollTop=function(l){this.vert.scrollTop!=l&&(this.vert.scrollTop=l),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ol.prototype.zeroWidthHack=function(){var l=q&&!S?"12px":"18px";this.horiz.style.height=this.vert.style.width=l,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Wt,this.disableVert=new Wt},Ol.prototype.enableZeroWidthBar=function(l,x,M){l.style.visibility="";function _(){var F=l.getBoundingClientRect(),X=M=="vert"?document.elementFromPoint(F.right-1,(F.top+F.bottom)/2):document.elementFromPoint((F.right+F.left)/2,F.bottom-1);X!=l?l.style.visibility="hidden":x.set(1e3,_)}x.set(1e3,_)},Ol.prototype.clear=function(){var l=this.horiz.parentNode;l.removeChild(this.horiz),l.removeChild(this.vert)};var Cu=function(){};Cu.prototype.update=function(){return{bottom:0,right:0}},Cu.prototype.setScrollLeft=function(){},Cu.prototype.setScrollTop=function(){},Cu.prototype.clear=function(){};function au(l,x){x||(x=wu(l));var M=l.display.barWidth,_=l.display.barHeight;Qa(l,x);for(var F=0;F<4&&M!=l.display.barWidth||_!=l.display.barHeight;F++)M!=l.display.barWidth&&l.options.lineWrapping&&ha(l),Qa(l,wu(l)),M=l.display.barWidth,_=l.display.barHeight}function Qa(l,x){var M=l.display,_=M.scrollbars.update(x);M.sizer.style.paddingRight=(M.barWidth=_.right)+"px",M.sizer.style.paddingBottom=(M.barHeight=_.bottom)+"px",M.heightForcer.style.borderBottom=_.bottom+"px solid transparent",_.right&&_.bottom?(M.scrollbarFiller.style.display="block",M.scrollbarFiller.style.height=_.bottom+"px",M.scrollbarFiller.style.width=_.right+"px"):M.scrollbarFiller.style.display="",_.bottom&&l.options.coverGutterNextToScrollbar&&l.options.fixedGutter?(M.gutterFiller.style.display="block",M.gutterFiller.style.height=_.bottom+"px",M.gutterFiller.style.width=x.gutterWidth+"px"):M.gutterFiller.style.display=""}var ya={native:Ol,null:Cu};function ri(l){l.display.scrollbars&&(l.display.scrollbars.clear(),l.display.scrollbars.addClass&&Ze(l.display.wrapper,l.display.scrollbars.addClass)),l.display.scrollbars=new ya[l.options.scrollbarStyle](function(x){l.display.wrapper.insertBefore(x,l.display.scrollbarFiller),yt(x,"mousedown",function(){l.state.focused&&setTimeout(function(){return l.display.input.focus()},0)}),x.setAttribute("cm-not-content","true")},function(x,M){M=="horizontal"?To(l,x):Wi(l,x)},l),l.display.scrollbars.addClass&&ce(l.display.wrapper,l.display.scrollbars.addClass)}var $o=0;function Ra(l){l.curOp={cm:l,viewChanged:!1,startHeight:l.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$o,markArrays:null},di(l.curOp)}function vl(l){var x=l.curOp;x&&qs(x,function(M){for(var _=0;_<M.ops.length;_++)M.ops[_].cm.curOp=null;Os(M)})}function Os(l){for(var x=l.ops,M=0;M<x.length;M++)hf(x[M]);for(var _=0;_<x.length;_++)tl(x[_]);for(var F=0;F<x.length;F++)Gl(x[F]);for(var X=0;X<x.length;X++)yl(x[X]);for(var ie=0;ie<x.length;ie++)Su(x[ie])}function hf(l){var x=l.cm,M=x.display;bc(x),l.updateMaxLine&&Jt(x),l.mustUpdate=l.viewChanged||l.forceUpdate||l.scrollTop!=null||l.scrollToPos&&(l.scrollToPos.from.line<M.viewFrom||l.scrollToPos.to.line>=M.viewTo)||M.maxLineChanged&&x.options.lineWrapping,l.update=l.mustUpdate&&new nl(x,l.mustUpdate&&{top:l.scrollTop,ensure:l.scrollToPos},l.forceUpdate)}function tl(l){l.updatedDisplay=l.mustUpdate&&Is(l.cm,l.update)}function Gl(l){var x=l.cm,M=x.display;l.updatedDisplay&&ha(x),l.barMeasure=wu(x),M.maxLineChanged&&!x.options.lineWrapping&&(l.adjustWidthTo=Er(x,M.maxLine,M.maxLine.text.length).left+3,x.display.sizerWidth=l.adjustWidthTo,l.barMeasure.scrollWidth=Math.max(M.scroller.clientWidth,M.sizer.offsetLeft+l.adjustWidthTo+Qo(x)+x.display.barWidth),l.maxScrollLeft=Math.max(0,M.sizer.offsetLeft+l.adjustWidthTo-Ho(x))),(l.updatedDisplay||l.selectionChanged)&&(l.preparedSelection=M.input.prepareSelection())}function yl(l){var x=l.cm;l.adjustWidthTo!=null&&(x.display.sizer.style.minWidth=l.adjustWidthTo+"px",l.maxScrollLeft<x.doc.scrollLeft&&To(x,Math.min(x.display.scroller.scrollLeft,l.maxScrollLeft),!0),x.display.maxLineChanged=!1);var M=l.focus&&l.focus==Me(me(x));l.preparedSelection&&x.display.input.showSelection(l.preparedSelection,M),(l.updatedDisplay||l.startHeight!=x.doc.height)&&au(x,l.barMeasure),l.updatedDisplay&&Uc(x,l.barMeasure),l.selectionChanged&&ca(x),x.state.focused&&l.updateInput&&x.display.input.reset(l.typing),M&&pi(l.cm)}function Su(l){var x=l.cm,M=x.display,_=x.doc;if(l.updatedDisplay&&la(x,l.update),M.wheelStartX!=null&&(l.scrollTop!=null||l.scrollLeft!=null||l.scrollToPos)&&(M.wheelStartX=M.wheelStartY=null),l.scrollTop!=null&&Jo(x,l.scrollTop,l.forceScroll),l.scrollLeft!=null&&To(x,l.scrollLeft,!0,!0),l.scrollToPos){var F=zs(x,Zn(_,l.scrollToPos.from),Zn(_,l.scrollToPos.to),l.scrollToPos.margin);iu(x,F)}var X=l.maybeHiddenMarkers,ie=l.maybeUnhiddenMarkers;if(X)for(var fe=0;fe<X.length;++fe)X[fe].lines.length||Cn(X[fe],"hide");if(ie)for(var xe=0;xe<ie.length;++xe)ie[xe].lines.length&&Cn(ie[xe],"unhide");M.wrapper.offsetHeight&&(_.scrollTop=x.display.scroller.scrollTop),l.changeObjs&&Cn(x,"changes",x,l.changeObjs),l.update&&l.update.finish()}function Ja(l,x){if(l.curOp)return x();Ra(l);try{return x()}finally{vl(l)}}function sa(l,x){return function(){if(l.curOp)return x.apply(l,arguments);Ra(l);try{return x.apply(l,arguments)}finally{vl(l)}}}function Na(l){return function(){if(this.curOp)return l.apply(this,arguments);Ra(this);try{return l.apply(this,arguments)}finally{vl(this)}}}function qr(l){return function(){var x=this.cm;if(!x||x.curOp)return l.apply(this,arguments);Ra(x);try{return l.apply(this,arguments)}finally{vl(x)}}}function ko(l,x){l.doc.highlightFrontier<l.display.viewTo&&l.state.highlight.set(x,ut(Hs,l))}function Hs(l){var x=l.doc;if(!(x.highlightFrontier>=l.display.viewTo)){var M=+new Date+l.options.workTime,_=ma(l,x.highlightFrontier),F=[];x.iter(_.line,Math.min(x.first+x.size,l.display.viewTo+500),function(X){if(_.line>=l.display.viewFrom){var ie=X.styles,fe=X.text.length>l.options.maxHighlightLength?bi(x.mode,_.state):null,xe=Gn(l,X,_,!0);fe&&(_.state=fe),X.styles=xe.styles;var De=X.styleClasses,tt=xe.classes;tt?X.styleClasses=tt:De&&(X.styleClasses=null);for(var lt=!ie||ie.length!=X.styles.length||De!=tt&&(!De||!tt||De.bgClass!=tt.bgClass||De.textClass!=tt.textClass),Ht=0;!lt&&Ht<ie.length;++Ht)lt=ie[Ht]!=X.styles[Ht];lt&&F.push(_.line),X.stateAfter=_.save(),_.nextLine()}else X.text.length<=l.options.maxHighlightLength&&rt(l,X.text,_),X.stateAfter=_.line%5==0?_.save():null,_.nextLine();if(+new Date>M)return ko(l,l.options.workDelay),!0}),x.highlightFrontier=_.line,x.modeFrontier=Math.max(x.modeFrontier,_.line),F.length&&Ja(l,function(){for(var X=0;X<F.length;X++)Nn(l,F[X],"text")})}}var nl=function(l,x,M){var _=l.display;this.viewport=x,this.visible=Eo(_,l.doc,x),this.editorIsHidden=!_.wrapper.offsetWidth,this.wrapperHeight=_.wrapper.clientHeight,this.wrapperWidth=_.wrapper.clientWidth,this.oldDisplayWidth=Ho(l),this.force=M,this.dims=vt(l),this.events=[]};nl.prototype.signal=function(l,x){Yn(l,x)&&this.events.push(arguments)},nl.prototype.finish=function(){for(var l=0;l<this.events.length;l++)Cn.apply(null,this.events[l])};function bc(l){var x=l.display;!x.scrollbarsClipped&&x.scroller.offsetWidth&&(x.nativeBarWidth=x.scroller.offsetWidth-x.scroller.clientWidth,x.heightForcer.style.height=Qo(l)+"px",x.sizer.style.marginBottom=-x.nativeBarWidth+"px",x.sizer.style.borderRightWidth=Qo(l)+"px",x.scrollbarsClipped=!0)}function es(l){if(l.hasFocus())return null;var x=Me(me(l));if(!x||!ft(l.display.lineDiv,x))return null;var M={activeElt:x};if(window.getSelection){var _=Ne(l).getSelection();_.anchorNode&&_.extend&&ft(l.display.lineDiv,_.anchorNode)&&(M.anchorNode=_.anchorNode,M.anchorOffset=_.anchorOffset,M.focusNode=_.focusNode,M.focusOffset=_.focusOffset)}return M}function Il(l){if(!(!l||!l.activeElt||l.activeElt==Me(Ae(l.activeElt)))&&(l.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(l.activeElt.nodeName)&&l.anchorNode&&ft(document.body,l.anchorNode)&&ft(document.body,l.focusNode))){var x=l.activeElt.ownerDocument,M=x.defaultView.getSelection(),_=x.createRange();_.setEnd(l.anchorNode,l.anchorOffset),_.collapse(!1),M.removeAllRanges(),M.addRange(_),M.extend(l.focusNode,l.focusOffset)}}function Is(l,x){var M=l.display,_=l.doc;if(x.editorIsHidden)return In(l),!1;if(!x.force&&x.visible.from>=M.viewFrom&&x.visible.to<=M.viewTo&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo)&&M.renderedView==M.view&&sr(l)==0)return!1;Ta(l)&&(In(l),x.dims=vt(l));var F=_.first+_.size,X=Math.max(x.visible.from-l.options.viewportMargin,_.first),ie=Math.min(F,x.visible.to+l.options.viewportMargin);M.viewFrom<X&&X-M.viewFrom<20&&(X=Math.max(_.first,M.viewFrom)),M.viewTo>ie&&M.viewTo-ie<20&&(ie=Math.min(F,M.viewTo)),ei&&(X=Dl(l.doc,X),ie=gi(l.doc,ie));var fe=X!=M.viewFrom||ie!=M.viewTo||M.lastWrapHeight!=x.wrapperHeight||M.lastWrapWidth!=x.wrapperWidth;Rn(l,X,ie),M.viewOffset=Pa(mn(l.doc,M.viewFrom)),l.display.mover.style.top=M.viewOffset+"px";var xe=sr(l);if(!fe&&xe==0&&!x.force&&M.renderedView==M.view&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo))return!1;var De=es(l);return xe>4&&(M.lineDiv.style.display="none"),Xu(l,M.updateLineNumbers,x.dims),xe>4&&(M.lineDiv.style.display=""),M.renderedView=M.view,Il(De),mt(M.cursorDiv),mt(M.selectionDiv),M.gutters.style.height=M.sizer.style.minHeight=0,fe&&(M.lastWrapHeight=x.wrapperHeight,M.lastWrapWidth=x.wrapperWidth,ko(l,400)),M.updateLineNumbers=null,!0}function la(l,x){for(var M=x.viewport,_=!0;;_=!1){if(!_||!l.options.lineWrapping||x.oldDisplayWidth==Ho(l)){if(M&&M.top!=null&&(M={top:Math.min(l.doc.height+hs(l.display)-za(l),M.top)}),x.visible=Eo(l.display,l.doc,M),x.visible.from>=l.display.viewFrom&&x.visible.to<=l.display.viewTo)break}else _&&(x.visible=Eo(l.display,l.doc,M));if(!Is(l,x))break;ha(l);var F=wu(l);_r(l),au(l,F),Uc(l,F),x.force=!1}x.signal(l,"update",l),(l.display.viewFrom!=l.display.reportedViewFrom||l.display.viewTo!=l.display.reportedViewTo)&&(x.signal(l,"viewportChange",l,l.display.viewFrom,l.display.viewTo),l.display.reportedViewFrom=l.display.viewFrom,l.display.reportedViewTo=l.display.viewTo)}function $a(l,x){var M=new nl(l,x);if(Is(l,M)){ha(l),la(l,M);var _=wu(l);_r(l),au(l,_),Uc(l,_),M.finish()}}function Xu(l,x,M){var _=l.display,F=l.options.lineNumbers,X=_.lineDiv,ie=X.firstChild;function fe(an){var gn=an.nextSibling;return v&&q&&l.display.currentWheelTarget==an?an.style.display="none":an.parentNode.removeChild(an),gn}for(var xe=_.view,De=_.viewFrom,tt=0;tt<xe.length;tt++){var lt=xe[tt];if(!lt.hidden)if(!lt.node||lt.node.parentNode!=X){var Ht=ml(l,lt,De,M);X.insertBefore(Ht,ie)}else{for(;ie!=lt.node;)ie=fe(ie);var Mt=F&&x!=null&&x<=De&&lt.lineNumber;lt.changes&&(_t(lt.changes,"gutter")>-1&&(Mt=!1),Ps(l,lt,De,M)),Mt&&(mt(lt.lineNumber),lt.lineNumber.appendChild(document.createTextNode(fo(l.options,De)))),ie=lt.node.nextSibling}De+=lt.size}for(;ie;)ie=fe(ie)}function Uo(l){var x=l.gutters.offsetWidth;l.sizer.style.marginLeft=x+"px",oi(l,"gutterChanged",l)}function Uc(l,x){l.display.sizer.style.minHeight=x.docHeight+"px",l.display.heightForcer.style.top=x.docHeight+"px",l.display.gutters.style.height=x.docHeight+l.display.barHeight+Qo(l)+"px"}function wc(l){var x=l.display,M=x.view;if(!(!x.alignWidgets&&(!x.gutters.firstChild||!l.options.fixedGutter))){for(var _=nt(x)-x.scroller.scrollLeft+l.doc.scrollLeft,F=x.gutters.offsetWidth,X=_+"px",ie=0;ie<M.length;ie++)if(!M[ie].hidden){l.options.fixedGutter&&(M[ie].gutter&&(M[ie].gutter.style.left=X),M[ie].gutterBackground&&(M[ie].gutterBackground.style.left=X));var fe=M[ie].alignable;if(fe)for(var xe=0;xe<fe.length;xe++)fe[xe].style.left=X}l.options.fixedGutter&&(x.gutters.style.left=_+F+"px")}}function Ta(l){if(!l.options.lineNumbers)return!1;var x=l.doc,M=fo(l.options,x.first+x.size-1),_=l.display;if(M.length!=_.lineNumChars){var F=_.measure.appendChild(ge("div",[ge("div",M)],"CodeMirror-linenumber CodeMirror-gutter-elt")),X=F.firstChild.offsetWidth,ie=F.offsetWidth-X;return _.lineGutter.style.width="",_.lineNumInnerWidth=Math.max(X,_.lineGutter.offsetWidth-ie)+1,_.lineNumWidth=_.lineNumInnerWidth+ie,_.lineNumChars=_.lineNumInnerWidth?M.length:-1,_.lineGutter.style.width=_.lineNumWidth+"px",Uo(l.display),!0}return!1}function Cc(l,x){for(var M=[],_=!1,F=0;F<l.length;F++){var X=l[F],ie=null;if(typeof X!="string"&&(ie=X.style,X=X.className),X=="CodeMirror-linenumbers")if(x)_=!0;else continue;M.push({className:X,style:ie})}return x&&!_&&M.push({className:"CodeMirror-linenumbers",style:null}),M}function Vu(l){var x=l.gutters,M=l.gutterSpecs;mt(x),l.lineGutter=null;for(var _=0;_<M.length;++_){var F=M[_],X=F.className,ie=F.style,fe=x.appendChild(ge("div",null,"CodeMirror-gutter "+X));ie&&(fe.style.cssText=ie),X=="CodeMirror-linenumbers"&&(l.lineGutter=fe,fe.style.width=(l.lineNumWidth||1)+"px")}x.style.display=M.length?"":"none",Uo(l)}function ts(l){Vu(l.display),dn(l),wc(l)}function ou(l,x,M,_){var F=this;this.input=M,F.scrollbarFiller=ge("div",null,"CodeMirror-scrollbar-filler"),F.scrollbarFiller.setAttribute("cm-not-content","true"),F.gutterFiller=ge("div",null,"CodeMirror-gutter-filler"),F.gutterFiller.setAttribute("cm-not-content","true"),F.lineDiv=ye("div",null,"CodeMirror-code"),F.selectionDiv=ge("div",null,null,"position: relative; z-index: 1"),F.cursorDiv=ge("div",null,"CodeMirror-cursors"),F.measure=ge("div",null,"CodeMirror-measure"),F.lineMeasure=ge("div",null,"CodeMirror-measure"),F.lineSpace=ye("div",[F.measure,F.lineMeasure,F.selectionDiv,F.cursorDiv,F.lineDiv],null,"position: relative; outline: none");var X=ye("div",[F.lineSpace],"CodeMirror-lines");F.mover=ge("div",[X],null,"position: relative"),F.sizer=ge("div",[F.mover],"CodeMirror-sizer"),F.sizerWidth=null,F.heightForcer=ge("div",null,null,"position: absolute; height: "+Ft+"px; width: 1px;"),F.gutters=ge("div",null,"CodeMirror-gutters"),F.lineGutter=null,F.scroller=ge("div",[F.sizer,F.heightForcer,F.gutters],"CodeMirror-scroll"),F.scroller.setAttribute("tabIndex","-1"),F.wrapper=ge("div",[F.scrollbarFiller,F.gutterFiller,F.scroller],"CodeMirror"),g&&m===105&&(F.wrapper.style.clipPath="inset(0px)"),F.wrapper.setAttribute("translate","no"),a&&c<8&&(F.gutters.style.zIndex=-1,F.scroller.style.paddingRight=0),!v&&!(o&&W)&&(F.scroller.draggable=!0),l&&(l.appendChild?l.appendChild(F.wrapper):l(F.wrapper)),F.viewFrom=F.viewTo=x.first,F.reportedViewFrom=F.reportedViewTo=x.first,F.view=[],F.renderedView=null,F.externalMeasured=null,F.viewOffset=0,F.lastWrapHeight=F.lastWrapWidth=0,F.updateLineNumbers=null,F.nativeBarWidth=F.barHeight=F.barWidth=0,F.scrollbarsClipped=!1,F.lineNumWidth=F.lineNumInnerWidth=F.lineNumChars=null,F.alignWidgets=!1,F.cachedCharWidth=F.cachedTextHeight=F.cachedPaddingH=null,F.maxLine=null,F.maxLineLength=0,F.maxLineChanged=!1,F.wheelDX=F.wheelDY=F.wheelStartX=F.wheelStartY=null,F.shift=!1,F.selForContextMenu=null,F.activeTouch=null,F.gutterSpecs=Cc(_.gutters,_.lineNumbers),Vu(F),M.init(F)}var ps=0,na=null;a?na=-.53:o?na=15:g?na=-.7:k&&(na=-1/3);function Ku(l){var x=l.wheelDeltaX,M=l.wheelDeltaY;return x==null&&l.detail&&l.axis==l.HORIZONTAL_AXIS&&(x=l.detail),M==null&&l.detail&&l.axis==l.VERTICAL_AXIS?M=l.detail:M==null&&(M=l.wheelDelta),{x,y:M}}function Zu(l){var x=Ku(l);return x.x*=na,x.y*=na,x}function jc(l,x){g&&m==102&&(l.display.chromeScrollHack==null?l.display.sizer.style.pointerEvents="none":clearTimeout(l.display.chromeScrollHack),l.display.chromeScrollHack=setTimeout(function(){l.display.chromeScrollHack=null,l.display.sizer.style.pointerEvents=""},100));var M=Ku(x),_=M.x,F=M.y,X=na;x.deltaMode===0&&(_=x.deltaX,F=x.deltaY,X=1);var ie=l.display,fe=ie.scroller,xe=fe.scrollWidth>fe.clientWidth,De=fe.scrollHeight>fe.clientHeight;if(_&&xe||F&&De){if(F&&q&&v){e:for(var tt=x.target,lt=ie.view;tt!=fe;tt=tt.parentNode)for(var Ht=0;Ht<lt.length;Ht++)if(lt[Ht].node==tt){l.display.currentWheelTarget=tt;break e}}if(_&&!o&&!C&&X!=null){F&&De&&Wi(l,Math.max(0,fe.scrollTop+F*X)),To(l,Math.max(0,fe.scrollLeft+_*X)),(!F||F&&De)&&Hn(x),ie.wheelStartX=null;return}if(F&&X!=null){var Mt=F*X,an=l.doc.scrollTop,gn=an+ie.wrapper.clientHeight;Mt<0?an=Math.max(0,an+Mt-50):gn=Math.min(l.doc.height,gn+Mt+50),$a(l,{top:an,bottom:gn})}ps<20&&x.deltaMode!==0&&(ie.wheelStartX==null?(ie.wheelStartX=fe.scrollLeft,ie.wheelStartY=fe.scrollTop,ie.wheelDX=_,ie.wheelDY=F,setTimeout(function(){if(ie.wheelStartX!=null){var Tn=fe.scrollLeft-ie.wheelStartX,Fn=fe.scrollTop-ie.wheelStartY,zn=Fn&&ie.wheelDY&&Fn/ie.wheelDY||Tn&&ie.wheelDX&&Tn/ie.wheelDX;ie.wheelStartX=ie.wheelStartY=null,zn&&(na=(na*ps+zn)/(ps+1),++ps)}},200)):(ie.wheelDX+=_,ie.wheelDY+=F))}}var ns=function(l,x){this.ranges=l,this.primIndex=x};ns.prototype.primary=function(){return this.ranges[this.primIndex]},ns.prototype.equals=function(l){if(l==this)return!0;if(l.primIndex!=this.primIndex||l.ranges.length!=this.ranges.length)return!1;for(var x=0;x<this.ranges.length;x++){var M=this.ranges[x],_=l.ranges[x];if(!qi(M.anchor,_.anchor)||!qi(M.head,_.head))return!1}return!0},ns.prototype.deepCopy=function(){for(var l=[],x=0;x<this.ranges.length;x++)l[x]=new li(hl(this.ranges[x].anchor),hl(this.ranges[x].head));return new ns(l,this.primIndex)},ns.prototype.somethingSelected=function(){for(var l=0;l<this.ranges.length;l++)if(!this.ranges[l].empty())return!0;return!1},ns.prototype.contains=function(l,x){x||(x=l);for(var M=0;M<this.ranges.length;M++){var _=this.ranges[M];if(On(x,_.from())>=0&&On(l,_.to())<=0)return M}return-1};var li=function(l,x){this.anchor=l,this.head=x};li.prototype.from=function(){return _a(this.anchor,this.head)},li.prototype.to=function(){return Ai(this.anchor,this.head)},li.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ms(l,x,M){var _=l&&l.options.selectionsMayTouch,F=x[M];x.sort(function(Ht,Mt){return On(Ht.from(),Mt.from())}),M=_t(x,F);for(var X=1;X<x.length;X++){var ie=x[X],fe=x[X-1],xe=On(fe.to(),ie.from());if(_&&!ie.empty()?xe>0:xe>=0){var De=_a(fe.from(),ie.from()),tt=Ai(fe.to(),ie.to()),lt=fe.empty()?ie.from()==ie.head:fe.from()==fe.head;X<=M&&--M,x.splice(--X,2,new li(lt?tt:De,lt?De:tt))}}return new ns(x,M)}function rl(l,x){return new ns([new li(l,x||l)],0)}function ua(l){return l.text?cn(l.from.line+l.text.length-1,un(l.text).length+(l.text.length==1?l.from.ch:0)):l.to}function Yl(l,x){if(On(l,x.from)<0)return l;if(On(l,x.to)<=0)return ua(x);var M=l.line+x.text.length-(x.to.line-x.from.line)-1,_=l.ch;return l.line==x.to.line&&(_+=ua(x).ch-x.to.ch),cn(M,_)}function Xl(l,x){for(var M=[],_=0;_<l.sel.ranges.length;_++){var F=l.sel.ranges[_];M.push(new li(Yl(F.anchor,x),Yl(F.head,x)))}return ms(l.cm,M,l.sel.primIndex)}function Vl(l,x,M){return l.line==x.line?cn(M.line,l.ch-x.ch+M.ch):cn(M.line+(l.line-x.line),l.ch)}function Eu(l,x,M){for(var _=[],F=cn(l.first,0),X=F,ie=0;ie<x.length;ie++){var fe=x[ie],xe=Vl(fe.from,F,X),De=Vl(ua(fe),F,X);if(F=fe.to,X=De,M=="around"){var tt=l.sel.ranges[ie],lt=On(tt.head,tt.anchor)<0;_[ie]=new li(lt?De:xe,lt?xe:De)}else _[ie]=new li(xe,xe)}return new ns(_,l.sel.primIndex)}function qu(l){l.doc.mode=Hr(l.options,l.doc.modeOption),Kl(l)}function Kl(l){l.doc.iter(function(x){x.stateAfter&&(x.stateAfter=null),x.styles&&(x.styles=null)}),l.doc.modeFrontier=l.doc.highlightFrontier=l.doc.first,ko(l,100),l.state.modeGen++,l.curOp&&dn(l)}function xl(l,x){return x.from.ch==0&&x.to.ch==0&&un(x.text)==""&&(!l.cm||l.cm.options.wholeLineUpdateBefore)}function rs(l,x,M,_){function F(zn){return M?M[zn]:null}function X(zn,wn,Kn){Ka(zn,wn,Kn,_),oi(zn,"change",zn,x)}function ie(zn,wn){for(var Kn=[],Cr=zn;Cr<wn;++Cr)Kn.push(new Nr(De[Cr],F(Cr),_));return Kn}var fe=x.from,xe=x.to,De=x.text,tt=mn(l,fe.line),lt=mn(l,xe.line),Ht=un(De),Mt=F(De.length-1),an=xe.line-fe.line;if(x.full)l.insert(0,ie(0,De.length)),l.remove(De.length,l.size-De.length);else if(xl(l,x)){var gn=ie(0,De.length-1);X(lt,lt.text,Mt),an&&l.remove(fe.line,an),gn.length&&l.insert(fe.line,gn)}else if(tt==lt)if(De.length==1)X(tt,tt.text.slice(0,fe.ch)+Ht+tt.text.slice(xe.ch),Mt);else{var Tn=ie(1,De.length-1);Tn.push(new Nr(Ht+tt.text.slice(xe.ch),Mt,_)),X(tt,tt.text.slice(0,fe.ch)+De[0],F(0)),l.insert(fe.line+1,Tn)}else if(De.length==1)X(tt,tt.text.slice(0,fe.ch)+De[0]+lt.text.slice(xe.ch),F(0)),l.remove(fe.line+1,an);else{X(tt,tt.text.slice(0,fe.ch)+De[0],F(0)),X(lt,Ht+lt.text.slice(xe.ch),Mt);var Fn=ie(1,De.length-1);an>1&&l.remove(fe.line+1,an-1),l.insert(fe.line+1,Fn)}oi(l,"change",l,x)}function ao(l,x,M){function _(F,X,ie){if(F.linked)for(var fe=0;fe<F.linked.length;++fe){var xe=F.linked[fe];if(xe.doc!=X){var De=ie&&xe.sharedHist;M&&!De||(x(xe.doc,De),_(xe.doc,F,De))}}}_(l,null,!0)}function Wc(l,x){if(x.cm)throw new Error("This document is already in use.");l.doc=x,x.cm=l,Rt(l),qu(l),Us(l),l.options.direction=x.direction,l.options.lineWrapping||Jt(l),l.options.mode=x.modeOption,dn(l)}function Us(l){(l.doc.direction=="rtl"?ce:Ze)(l.display.lineDiv,"CodeMirror-rtl")}function Qu(l){Ja(l,function(){Us(l),dn(l)})}function Rs(l){this.done=[],this.undone=[],this.undoDepth=l?l.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=l?l.maxGeneration:1}function il(l,x){var M={from:hl(x.from),to:ua(x),text:Zi(l,x.from,x.to)};return Au(l,M,x.from.line,x.to.line+1),ao(l,function(_){return Au(_,M,x.from.line,x.to.line+1)},!0),M}function al(l){for(;l.length;){var x=un(l);if(x.ranges)l.pop();else break}}function Ju(l,x){if(x)return al(l.done),un(l.done);if(l.done.length&&!un(l.done).ranges)return un(l.done);if(l.done.length>1&&!l.done[l.done.length-2].ranges)return l.done.pop(),un(l.done)}function vs(l,x,M,_){var F=l.history;F.undone.length=0;var X=+new Date,ie,fe;if((F.lastOp==_||F.lastOrigin==x.origin&&x.origin&&(x.origin.charAt(0)=="+"&&F.lastModTime>X-(l.cm?l.cm.options.historyEventDelay:500)||x.origin.charAt(0)=="*"))&&(ie=Ju(F,F.lastOp==_)))fe=un(ie.changes),On(x.from,x.to)==0&&On(x.from,fe.to)==0?fe.to=ua(x):ie.changes.push(il(l,x));else{var xe=un(F.done);for((!xe||!xe.ranges)&&js(l.sel,F.done),ie={changes:[il(l,x)],generation:F.generation},F.done.push(ie);F.done.length>F.undoDepth;)F.done.shift(),F.done[0].ranges||F.done.shift()}F.done.push(M),F.generation=++F.maxGeneration,F.lastModTime=F.lastSelTime=X,F.lastOp=F.lastSelOp=_,F.lastOrigin=F.lastSelOrigin=x.origin,fe||Cn(l,"historyAdded")}function df(l,x,M,_){var F=x.charAt(0);return F=="*"||F=="+"&&M.ranges.length==_.ranges.length&&M.somethingSelected()==_.somethingSelected()&&new Date-l.history.lastSelTime<=(l.cm?l.cm.options.historyEventDelay:500)}function Zl(l,x,M,_){var F=l.history,X=_&&_.origin;M==F.lastSelOp||X&&F.lastSelOrigin==X&&(F.lastModTime==F.lastSelTime&&F.lastOrigin==X||df(l,X,un(F.done),x))?F.done[F.done.length-1]=x:js(x,F.done),F.lastSelTime=+new Date,F.lastSelOrigin=X,F.lastSelOp=M,_&&_.clearRedo!==!1&&al(F.undone)}function js(l,x){var M=un(x);M&&M.ranges&&M.equals(l)||x.push(l)}function Au(l,x,M,_){var F=x["spans_"+l.id],X=0;l.iter(Math.max(l.first,M),Math.min(l.first+l.size,_),function(ie){ie.markedSpans&&((F||(F=x["spans_"+l.id]={}))[X]=ie.markedSpans),++X})}function Ws(l){if(!l)return null;for(var x,M=0;M<l.length;++M)l[M].marker.explicitlyCleared?x||(x=l.slice(0,M)):x&&x.push(l[M]);return x?x.length?x:null:l}function ys(l,x){var M=x["spans_"+l.id];if(!M)return null;for(var _=[],F=0;F<x.text.length;++F)_.push(Ws(M[F]));return _}function ol(l,x){var M=ys(l,x),_=Ui(l,x);if(!M)return _;if(!_)return M;for(var F=0;F<M.length;++F){var X=M[F],ie=_[F];if(X&&ie)e:for(var fe=0;fe<ie.length;++fe){for(var xe=ie[fe],De=0;De<X.length;++De)if(X[De].marker==xe.marker)continue e;X.push(xe)}else ie&&(M[F]=ie)}return M}function Do(l,x,M){for(var _=[],F=0;F<l.length;++F){var X=l[F];if(X.ranges){_.push(M?ns.prototype.deepCopy.call(X):X);continue}var ie=X.changes,fe=[];_.push({changes:fe});for(var xe=0;xe<ie.length;++xe){var De=ie[xe],tt=void 0;if(fe.push({from:De.from,to:De.to,text:De.text}),x)for(var lt in De)(tt=lt.match(/^spans_(\d+)$/))&&_t(x,Number(tt[1]))>-1&&(un(fe)[lt]=De[lt],delete De[lt])}}return _}function Tu(l,x,M,_){if(_){var F=l.anchor;if(M){var X=On(x,F)<0;X!=On(M,F)<0?(F=x,x=M):X!=On(x,M)<0&&(x=M)}return new li(F,x)}else return new li(M||x,x)}function ql(l,x,M,_,F){F==null&&(F=l.cm&&(l.cm.display.shift||l.extend)),de(l,new ns([Tu(l.sel.primary(),x,M,F)],0),_)}function Rl(l,x,M){for(var _=[],F=l.cm&&(l.cm.display.shift||l.extend),X=0;X<l.sel.ranges.length;X++)_[X]=Tu(l.sel.ranges[X],x[X],null,F);var ie=ms(l.cm,_,l.sel.primIndex);de(l,ie,M)}function z(l,x,M,_){var F=l.sel.ranges.slice(0);F[x]=M,de(l,ms(l.cm,F,l.sel.primIndex),_)}function H(l,x,M,_){de(l,rl(x,M),_)}function Q(l,x,M){var _={ranges:x.ranges,update:function(F){this.ranges=[];for(var X=0;X<F.length;X++)this.ranges[X]=new li(Zn(l,F[X].anchor),Zn(l,F[X].head))},origin:M&&M.origin};return Cn(l,"beforeSelectionChange",l,_),l.cm&&Cn(l.cm,"beforeSelectionChange",l.cm,_),_.ranges!=x.ranges?ms(l.cm,_.ranges,_.ranges.length-1):x}function ue(l,x,M){var _=l.history.done,F=un(_);F&&F.ranges?(_[_.length-1]=x,He(l,x,M)):de(l,x,M)}function de(l,x,M){He(l,x,M),Zl(l,l.sel,l.cm?l.cm.curOp.id:NaN,M)}function He(l,x,M){(Yn(l,"beforeSelectionChange")||l.cm&&Yn(l.cm,"beforeSelectionChange"))&&(x=Q(l,x,M));var _=M&&M.bias||(On(x.primary().head,l.sel.primary().head)<0?-1:1);$e(l,ht(l,x,_,!0)),!(M&&M.scroll===!1)&&l.cm&&l.cm.getOption("readOnly")!="nocursor"&&po(l.cm)}function $e(l,x){x.equals(l.sel)||(l.sel=x,l.cm&&(l.cm.curOp.updateInput=1,l.cm.curOp.selectionChanged=!0,$n(l.cm)),oi(l,"cursorActivity",l))}function Ot(l){$e(l,ht(l,l.sel,null,!1))}function ht(l,x,M,_){for(var F,X=0;X<x.ranges.length;X++){var ie=x.ranges[X],fe=x.ranges.length==l.sel.ranges.length&&l.sel.ranges[X],xe=Qt(l,ie.anchor,fe&&fe.anchor,M,_),De=ie.head==ie.anchor?xe:Qt(l,ie.head,fe&&fe.head,M,_);(F||xe!=ie.anchor||De!=ie.head)&&(F||(F=x.ranges.slice(0,X)),F[X]=new li(xe,De))}return F?ms(l.cm,F,x.primIndex):x}function Nt(l,x,M,_,F){var X=mn(l,x.line);if(X.markedSpans)for(var ie=0;ie<X.markedSpans.length;++ie){var fe=X.markedSpans[ie],xe=fe.marker,De="selectLeft"in xe?!xe.selectLeft:xe.inclusiveLeft,tt="selectRight"in xe?!xe.selectRight:xe.inclusiveRight;if((fe.from==null||(De?fe.from<=x.ch:fe.from<x.ch))&&(fe.to==null||(tt?fe.to>=x.ch:fe.to>x.ch))){if(F&&(Cn(xe,"beforeCursorEnter"),xe.explicitlyCleared))if(X.markedSpans){--ie;continue}else break;if(!xe.atomic)continue;if(M){var lt=xe.find(_<0?1:-1),Ht=void 0;if((_<0?tt:De)&&(lt=on(l,lt,-_,lt&&lt.line==x.line?X:null)),lt&&lt.line==x.line&&(Ht=On(lt,M))&&(_<0?Ht<0:Ht>0))return Nt(l,lt,x,_,F)}var Mt=xe.find(_<0?-1:1);return(_<0?De:tt)&&(Mt=on(l,Mt,_,Mt.line==x.line?X:null)),Mt?Nt(l,Mt,x,_,F):null}}return x}function Qt(l,x,M,_,F){var X=_||1,ie=Nt(l,x,M,X,F)||!F&&Nt(l,x,M,X,!0)||Nt(l,x,M,-X,F)||!F&&Nt(l,x,M,-X,!0);return ie||(l.cantEdit=!0,cn(l.first,0))}function on(l,x,M,_){return M<0&&x.ch==0?x.line>l.first?Zn(l,cn(x.line-1)):null:M>0&&x.ch==(_||mn(l,x.line)).text.length?x.line<l.first+l.size-1?cn(x.line+1,0):null:new cn(x.line,x.ch+M)}function Dn(l){l.setSelection(cn(l.firstLine(),0),cn(l.lastLine()),At)}function _n(l,x,M){var _={canceled:!1,from:x.from,to:x.to,text:x.text,origin:x.origin,cancel:function(){return _.canceled=!0}};return M&&(_.update=function(F,X,ie,fe){F&&(_.from=Zn(l,F)),X&&(_.to=Zn(l,X)),ie&&(_.text=ie),fe!==void 0&&(_.origin=fe)}),Cn(l,"beforeChange",l,_),l.cm&&Cn(l.cm,"beforeChange",l.cm,_),_.canceled?(l.cm&&(l.cm.curOp.updateInput=2),null):{from:_.from,to:_.to,text:_.text,origin:_.origin}}function lr(l,x,M){if(l.cm){if(!l.cm.curOp)return sa(l.cm,lr)(l,x,M);if(l.cm.state.suppressEdits)return}if(!((Yn(l,"beforeChange")||l.cm&&Yn(l.cm,"beforeChange"))&&(x=_n(l,x,!0),!x))){var _=Rr&&!M&&Fo(l,x.from,x.to);if(_)for(var F=_.length-1;F>=0;--F)ti(l,{from:_[F].from,to:_[F].to,text:F?[""]:x.text,origin:x.origin});else ti(l,x)}}function ti(l,x){if(!(x.text.length==1&&x.text[0]==""&&On(x.from,x.to)==0)){var M=Xl(l,x);vs(l,x,M,l.cm?l.cm.curOp.id:NaN),cr(l,x,M,Ui(l,x));var _=[];ao(l,function(F,X){!X&&_t(_,F.history)==-1&&(mo(F.history,x),_.push(F.history)),cr(F,x,null,Ui(F,x))})}}function Wr(l,x,M){var _=l.cm&&l.cm.state.suppressEdits;if(!(_&&!M)){for(var F=l.history,X,ie=l.sel,fe=x=="undo"?F.done:F.undone,xe=x=="undo"?F.undone:F.done,De=0;De<fe.length&&(X=fe[De],!(M?X.ranges&&!X.equals(l.sel):!X.ranges));De++);if(De!=fe.length){for(F.lastOrigin=F.lastSelOrigin=null;;)if(X=fe.pop(),X.ranges){if(js(X,xe),M&&!X.equals(l.sel)){de(l,X,{clearRedo:!1});return}ie=X}else if(_){fe.push(X);return}else break;var tt=[];js(ie,xe),xe.push({changes:tt,generation:F.generation}),F.generation=X.generation||++F.maxGeneration;for(var lt=Yn(l,"beforeChange")||l.cm&&Yn(l.cm,"beforeChange"),Ht=function(gn){var Tn=X.changes[gn];if(Tn.origin=x,lt&&!_n(l,Tn,!1))return fe.length=0,{};tt.push(il(l,Tn));var Fn=gn?Xl(l,Tn):un(fe);cr(l,Tn,Fn,ol(l,Tn)),!gn&&l.cm&&l.cm.scrollIntoView({from:Tn.from,to:ua(Tn)});var zn=[];ao(l,function(wn,Kn){!Kn&&_t(zn,wn.history)==-1&&(mo(wn.history,Tn),zn.push(wn.history)),cr(wn,Tn,null,ol(wn,Tn))})},Mt=X.changes.length-1;Mt>=0;--Mt){var an=Ht(Mt);if(an)return an.v}}}}function qn(l,x){if(x!=0&&(l.first+=x,l.sel=new ns(Xt(l.sel.ranges,function(F){return new li(cn(F.anchor.line+x,F.anchor.ch),cn(F.head.line+x,F.head.ch))}),l.sel.primIndex),l.cm)){dn(l.cm,l.first,l.first-x,x);for(var M=l.cm.display,_=M.viewFrom;_<M.viewTo;_++)Nn(l.cm,_,"gutter")}}function cr(l,x,M,_){if(l.cm&&!l.cm.curOp)return sa(l.cm,cr)(l,x,M,_);if(x.to.line<l.first){qn(l,x.text.length-1-(x.to.line-x.from.line));return}if(!(x.from.line>l.lastLine())){if(x.from.line<l.first){var F=x.text.length-1-(l.first-x.from.line);qn(l,F),x={from:cn(l.first,0),to:cn(x.to.line+F,x.to.ch),text:[un(x.text)],origin:x.origin}}var X=l.lastLine();x.to.line>X&&(x={from:x.from,to:cn(X,mn(l,X).text.length),text:[x.text[0]],origin:x.origin}),x.removed=Zi(l,x.from,x.to),M||(M=Xl(l,x)),l.cm?mi(l.cm,x,_):rs(l,x,_),He(l,M,At),l.cantEdit&&Qt(l,cn(l.firstLine(),0))&&(l.cantEdit=!1)}}function mi(l,x,M){var _=l.doc,F=l.display,X=x.from,ie=x.to,fe=!1,xe=X.line;l.options.lineWrapping||(xe=Xn(Oa(mn(_,X.line))),_.iter(xe,ie.line+1,function(Mt){if(Mt==F.maxLine)return fe=!0,!0})),_.sel.contains(x.from,x.to)>-1&&$n(l),rs(_,x,M,bt(l)),l.options.lineWrapping||(_.iter(xe,X.line+x.text.length,function(Mt){var an=_s(Mt);an>F.maxLineLength&&(F.maxLine=Mt,F.maxLineLength=an,F.maxLineChanged=!0,fe=!1)}),fe&&(l.curOp.updateMaxLine=!0)),$r(_,X.line),ko(l,400);var De=x.text.length-(ie.line-X.line)-1;x.full?dn(l):X.line==ie.line&&x.text.length==1&&!xl(l.doc,x)?Nn(l,X.line,"text"):dn(l,X.line,ie.line+1,De);var tt=Yn(l,"changes"),lt=Yn(l,"change");if(lt||tt){var Ht={from:X,to:ie,text:x.text,removed:x.removed,origin:x.origin};lt&&oi(l,"change",l,Ht),tt&&(l.curOp.changeObjs||(l.curOp.changeObjs=[])).push(Ht)}l.display.selForContextMenu=null}function eo(l,x,M,_,F){var X;_||(_=M),On(_,M)<0&&(X=[_,M],M=X[0],_=X[1]),typeof x=="string"&&(x=l.splitLines(x)),lr(l,{from:M,to:_,text:x,origin:F})}function jo(l,x,M,_){M<l.line?l.line+=_:x<l.line&&(l.line=x,l.ch=0)}function Ar(l,x,M,_){for(var F=0;F<l.length;++F){var X=l[F],ie=!0;if(X.ranges){X.copied||(X=l[F]=X.deepCopy(),X.copied=!0);for(var fe=0;fe<X.ranges.length;fe++)jo(X.ranges[fe].anchor,x,M,_),jo(X.ranges[fe].head,x,M,_);continue}for(var xe=0;xe<X.changes.length;++xe){var De=X.changes[xe];if(M<De.from.line)De.from=cn(De.from.line+_,De.from.ch),De.to=cn(De.to.line+_,De.to.ch);else if(x<=De.to.line){ie=!1;break}}ie||(l.splice(0,F+1),F=0)}}function mo(l,x){var M=x.from.line,_=x.to.line,F=x.text.length-(_-M)-1;Ar(l.done,M,_,F),Ar(l.undone,M,_,F)}function ra(l,x,M,_){var F=x,X=x;return typeof x=="number"?X=mn(l,pr(l,x)):F=Xn(x),F==null?null:(_(X,F)&&l.cm&&Nn(l.cm,F,M),X)}function La(l){this.lines=l,this.parent=null;for(var x=0,M=0;M<l.length;++M)l[M].parent=this,x+=l[M].height;this.height=x}La.prototype={chunkSize:function(){return this.lines.length},removeInner:function(l,x){for(var M=l,_=l+x;M<_;++M){var F=this.lines[M];this.height-=F.height,cs(F),oi(F,"delete")}this.lines.splice(l,x)},collapse:function(l){l.push.apply(l,this.lines)},insertInner:function(l,x,M){this.height+=M,this.lines=this.lines.slice(0,l).concat(x).concat(this.lines.slice(l));for(var _=0;_<x.length;++_)x[_].parent=this},iterN:function(l,x,M){for(var _=l+x;l<_;++l)if(M(this.lines[l]))return!0}};function sl(l){this.children=l;for(var x=0,M=0,_=0;_<l.length;++_){var F=l[_];x+=F.chunkSize(),M+=F.height,F.parent=this}this.size=x,this.height=M,this.parent=null}sl.prototype={chunkSize:function(){return this.size},removeInner:function(l,x){this.size-=x;for(var M=0;M<this.children.length;++M){var _=this.children[M],F=_.chunkSize();if(l<F){var X=Math.min(x,F-l),ie=_.height;if(_.removeInner(l,X),this.height-=ie-_.height,F==X&&(this.children.splice(M--,1),_.parent=null),(x-=X)==0)break;l=0}else l-=F}if(this.size-x<25&&(this.children.length>1||!(this.children[0]instanceof La))){var fe=[];this.collapse(fe),this.children=[new La(fe)],this.children[0].parent=this}},collapse:function(l){for(var x=0;x<this.children.length;++x)this.children[x].collapse(l)},insertInner:function(l,x,M){this.size+=x.length,this.height+=M;for(var _=0;_<this.children.length;++_){var F=this.children[_],X=F.chunkSize();if(l<=X){if(F.insertInner(l,x,M),F.lines&&F.lines.length>50){for(var ie=F.lines.length%25+25,fe=ie;fe<F.lines.length;){var xe=new La(F.lines.slice(fe,fe+=25));F.height-=xe.height,this.children.splice(++_,0,xe),xe.parent=this}F.lines=F.lines.slice(0,ie),this.maybeSpill()}break}l-=X}},maybeSpill:function(){if(!(this.children.length<=10)){var l=this;do{var x=l.children.splice(l.children.length-5,5),M=new sl(x);if(l.parent){l.size-=M.size,l.height-=M.height;var F=_t(l.parent.children,l);l.parent.children.splice(F+1,0,M)}else{var _=new sl(l.children);_.parent=l,l.children=[_,M],l=_}M.parent=l.parent}while(l.children.length>10);l.parent.maybeSpill()}},iterN:function(l,x,M){for(var _=0;_<this.children.length;++_){var F=this.children[_],X=F.chunkSize();if(l<X){var ie=Math.min(x,X-l);if(F.iterN(l,ie,M))return!0;if((x-=ie)==0)break;l=0}else l-=X}}};var Gr=function(l,x,M){if(M)for(var _ in M)M.hasOwnProperty(_)&&(this[_]=M[_]);this.doc=l,this.node=x};Gr.prototype.clear=function(){var l=this.doc.cm,x=this.line.widgets,M=this.line,_=Xn(M);if(!(_==null||!x)){for(var F=0;F<x.length;++F)x[F]==this&&x.splice(F--,1);x.length||(M.widgets=null);var X=Fi(this);br(M,Math.max(0,M.height-X)),l&&(Ja(l,function(){Nl(l,M,-X),Nn(l,_,"widget")}),oi(l,"lineWidgetCleared",l,this,_))}},Gr.prototype.changed=function(){var l=this,x=this.height,M=this.doc.cm,_=this.line;this.height=null;var F=Fi(this)-x;F&&(Ds(this.doc,_)||br(_,_.height+F),M&&Ja(M,function(){M.curOp.forceUpdate=!0,Nl(M,_,F),oi(M,"lineWidgetChanged",M,l,Xn(_))}))},er(Gr);function Nl(l,x,M){Pa(x)<(l.curOp&&l.curOp.scrollTop||l.doc.scrollTop)&&Ua(l,M)}function bl(l,x,M,_){var F=new Gr(l,M,_),X=l.cm;return X&&F.noHScroll&&(X.display.alignWidgets=!0),ra(l,x,"widget",function(ie){var fe=ie.widgets||(ie.widgets=[]);if(F.insertAt==null?fe.push(F):fe.splice(Math.min(fe.length,Math.max(0,F.insertAt)),0,F),F.line=ie,X&&!Ds(l,ie)){var xe=Pa(ie)<l.scrollTop;br(ie,ie.height+Fi(F)),xe&&Ua(X,F.height),X.curOp.forceUpdate=!0}return!0}),X&&oi(X,"lineWidgetAdded",X,F,typeof x=="number"?x:Xn(x)),F}var _o=0,vo=function(l,x){this.lines=[],this.type=x,this.doc=l,this.id=++_o};vo.prototype.clear=function(){if(!this.explicitlyCleared){var l=this.doc.cm,x=l&&!l.curOp;if(x&&Ra(l),Yn(this,"clear")){var M=this.find();M&&oi(this,"clear",M.from,M.to)}for(var _=null,F=null,X=0;X<this.lines.length;++X){var ie=this.lines[X],fe=Vn(ie.markedSpans,this);l&&!this.collapsed?Nn(l,Xn(ie),"text"):l&&(fe.to!=null&&(F=Xn(ie)),fe.from!=null&&(_=Xn(ie))),ie.markedSpans=ba(ie.markedSpans,fe),fe.from==null&&this.collapsed&&!Ds(this.doc,ie)&&l&&br(ie,ke(l.display))}if(l&&this.collapsed&&!l.options.lineWrapping)for(var xe=0;xe<this.lines.length;++xe){var De=Oa(this.lines[xe]),tt=_s(De);tt>l.display.maxLineLength&&(l.display.maxLine=De,l.display.maxLineLength=tt,l.display.maxLineChanged=!0)}_!=null&&l&&this.collapsed&&dn(l,_,F+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,l&&Ot(l.doc)),l&&oi(l,"markerCleared",l,this,_,F),x&&vl(l),this.parent&&this.parent.clear()}},vo.prototype.find=function(l,x){l==null&&this.type=="bookmark"&&(l=1);for(var M,_,F=0;F<this.lines.length;++F){var X=this.lines[F],ie=Vn(X.markedSpans,this);if(ie.from!=null&&(M=cn(x?X:Xn(X),ie.from),l==-1))return M;if(ie.to!=null&&(_=cn(x?X:Xn(X),ie.to),l==1))return _}return M&&{from:M,to:_}},vo.prototype.changed=function(){var l=this,x=this.find(-1,!0),M=this,_=this.doc.cm;!x||!_||Ja(_,function(){var F=x.line,X=Xn(x.line),ie=$s(_,X);if(ie&&(b(ie),_.curOp.selectionChanged=_.curOp.forceUpdate=!0),_.curOp.updateMaxLine=!0,!Ds(M.doc,F)&&M.height!=null){var fe=M.height;M.height=null;var xe=Fi(M)-fe;xe&&br(F,F.height+xe)}oi(_,"markerChanged",_,l)})},vo.prototype.attachLine=function(l){if(!this.lines.length&&this.doc.cm){var x=this.doc.cm.curOp;(!x.maybeHiddenMarkers||_t(x.maybeHiddenMarkers,this)==-1)&&(x.maybeUnhiddenMarkers||(x.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(l)},vo.prototype.detachLine=function(l){if(this.lines.splice(_t(this.lines,l),1),!this.lines.length&&this.doc.cm){var x=this.doc.cm.curOp;(x.maybeHiddenMarkers||(x.maybeHiddenMarkers=[])).push(this)}},er(vo);function Ql(l,x,M,_,F){if(_&&_.shared)return su(l,x,M,_,F);if(l.cm&&!l.cm.curOp)return sa(l.cm,Ql)(l,x,M,_,F);var X=new vo(l,F),ie=On(x,M);if(_&&xt(_,X,!1),ie>0||ie==0&&X.clearWhenEmpty!==!1)return X;if(X.replacedWith&&(X.collapsed=!0,X.widgetNode=ye("span",[X.replacedWith],"CodeMirror-widget"),_.handleMouseEvents||X.widgetNode.setAttribute("cm-ignore-events","true"),_.insertLeft&&(X.widgetNode.insertLeft=!0)),X.collapsed){if(ks(l,x.line,x,M,X)||x.line!=M.line&&ks(l,M.line,x,M,X))throw new Error("Inserting collapsed marker partially overlapping an existing one");Jr()}X.addToHistory&&vs(l,{from:x,to:M,origin:"markText"},l.sel,NaN);var fe=x.line,xe=l.cm,De;if(l.iter(fe,M.line+1,function(lt){xe&&X.collapsed&&!xe.options.lineWrapping&&Oa(lt)==xe.display.maxLine&&(De=!0),X.collapsed&&fe!=x.line&&br(lt,0),tr(lt,new Dr(X,fe==x.line?x.ch:null,fe==M.line?M.ch:null),l.cm&&l.cm.curOp),++fe}),X.collapsed&&l.iter(x.line,M.line+1,function(lt){Ds(l,lt)&&br(lt,0)}),X.clearOnEnter&&yt(X,"beforeCursorEnter",function(){return X.clear()}),X.readOnly&&(Ur(),(l.history.done.length||l.history.undone.length)&&l.clearHistory()),X.collapsed&&(X.id=++_o,X.atomic=!0),xe){if(De&&(xe.curOp.updateMaxLine=!0),X.collapsed)dn(xe,x.line,M.line+1);else if(X.className||X.startStyle||X.endStyle||X.css||X.attributes||X.title)for(var tt=x.line;tt<=M.line;tt++)Nn(xe,tt,"text");X.atomic&&Ot(xe.doc),oi(xe,"markerAdded",xe,X)}return X}var Ll=function(l,x){this.markers=l,this.primary=x;for(var M=0;M<l.length;++M)l[M].parent=this};Ll.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var l=0;l<this.markers.length;++l)this.markers[l].clear();oi(this,"clear")}},Ll.prototype.find=function(l,x){return this.primary.find(l,x)},er(Ll);function su(l,x,M,_,F){_=xt(_),_.shared=!1;var X=[Ql(l,x,M,_,F)],ie=X[0],fe=_.widgetNode;return ao(l,function(xe){fe&&(_.widgetNode=fe.cloneNode(!0)),X.push(Ql(xe,Zn(xe,x),Zn(xe,M),_,F));for(var De=0;De<xe.linked.length;++De)if(xe.linked[De].isParent)return;ie=un(X)}),new Ll(X,ie)}function ku(l){return l.findMarks(cn(l.first,0),l.clipPos(cn(l.lastLine())),function(x){return x.parent})}function is(l,x){for(var M=0;M<x.length;M++){var _=x[M],F=_.find(),X=l.clipPos(F.from),ie=l.clipPos(F.to);if(On(X,ie)){var fe=Ql(l,X,ie,_.primary,_.primary.type);_.markers.push(fe),fe.parent=_}}}function da(l){for(var x=function(_){var F=l[_],X=[F.primary.doc];ao(F.primary.doc,function(xe){return X.push(xe)});for(var ie=0;ie<F.markers.length;ie++){var fe=F.markers[ie];_t(X,fe.doc)==-1&&(fe.parent=null,F.markers.splice(ie--,1))}},M=0;M<l.length;M++)x(M)}var lu=0,Mo=function(l,x,M,_,F){if(!(this instanceof Mo))return new Mo(l,x,M,_,F);M==null&&(M=0),sl.call(this,[new La([new Nr("",null)])]),this.first=M,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=M;var X=cn(M,0);this.sel=rl(X),this.history=new Rs(null),this.id=++lu,this.modeOption=x,this.lineSep=_,this.direction=F=="rtl"?"rtl":"ltr",this.extend=!1,typeof l=="string"&&(l=this.splitLines(l)),rs(this,{from:X,to:X,text:l}),de(this,rl(X),At)};Mo.prototype=gt(sl.prototype,{constructor:Mo,iter:function(l,x,M){M?this.iterN(l-this.first,x-l,M):this.iterN(this.first,this.first+this.size,l)},insert:function(l,x){for(var M=0,_=0;_<x.length;++_)M+=x[_].height;this.insertInner(l-this.first,x,M)},remove:function(l,x){this.removeInner(l-this.first,x)},getValue:function(l){var x=Bo(this,this.first,this.first+this.size);return l===!1?x:x.join(l||this.lineSeparator())},setValue:qr(function(l){var x=cn(this.first,0),M=this.first+this.size-1;lr(this,{from:x,to:cn(M,mn(this,M).text.length),text:this.splitLines(l),origin:"setValue",full:!0},!0),this.cm&&Ao(this.cm,0,0),de(this,rl(x),At)}),replaceRange:function(l,x,M,_){x=Zn(this,x),M=M?Zn(this,M):x,eo(this,l,x,M,_)},getRange:function(l,x,M){var _=Zi(this,Zn(this,l),Zn(this,x));return M===!1?_:M===""?_.join(""):_.join(M||this.lineSeparator())},getLine:function(l){var x=this.getLineHandle(l);return x&&x.text},getLineHandle:function(l){if(Or(this,l))return mn(this,l)},getLineNumber:function(l){return Xn(l)},getLineHandleVisualStart:function(l){return typeof l=="number"&&(l=mn(this,l)),Oa(l)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(l){return Zn(this,l)},getCursor:function(l){var x=this.sel.primary(),M;return l==null||l=="head"?M=x.head:l=="anchor"?M=x.anchor:l=="end"||l=="to"||l===!1?M=x.to():M=x.from(),M},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qr(function(l,x,M){H(this,Zn(this,typeof l=="number"?cn(l,x||0):l),null,M)}),setSelection:qr(function(l,x,M){H(this,Zn(this,l),Zn(this,x||l),M)}),extendSelection:qr(function(l,x,M){ql(this,Zn(this,l),x&&Zn(this,x),M)}),extendSelections:qr(function(l,x){Rl(this,Ti(this,l),x)}),extendSelectionsBy:qr(function(l,x){var M=Xt(this.sel.ranges,l);Rl(this,Ti(this,M),x)}),setSelections:qr(function(l,x,M){if(l.length){for(var _=[],F=0;F<l.length;F++)_[F]=new li(Zn(this,l[F].anchor),Zn(this,l[F].head||l[F].anchor));x==null&&(x=Math.min(l.length-1,this.sel.primIndex)),de(this,ms(this.cm,_,x),M)}}),addSelection:qr(function(l,x,M){var _=this.sel.ranges.slice(0);_.push(new li(Zn(this,l),Zn(this,x||l))),de(this,ms(this.cm,_,_.length-1),M)}),getSelection:function(l){for(var x=this.sel.ranges,M,_=0;_<x.length;_++){var F=Zi(this,x[_].from(),x[_].to());M=M?M.concat(F):F}return l===!1?M:M.join(l||this.lineSeparator())},getSelections:function(l){for(var x=[],M=this.sel.ranges,_=0;_<M.length;_++){var F=Zi(this,M[_].from(),M[_].to());l!==!1&&(F=F.join(l||this.lineSeparator())),x[_]=F}return x},replaceSelection:function(l,x,M){for(var _=[],F=0;F<this.sel.ranges.length;F++)_[F]=l;this.replaceSelections(_,x,M||"+input")},replaceSelections:qr(function(l,x,M){for(var _=[],F=this.sel,X=0;X<F.ranges.length;X++){var ie=F.ranges[X];_[X]={from:ie.from(),to:ie.to(),text:this.splitLines(l[X]),origin:M}}for(var fe=x&&x!="end"&&Eu(this,_,x),xe=_.length-1;xe>=0;xe--)lr(this,_[xe]);fe?ue(this,fe):this.cm&&po(this.cm)}),undo:qr(function(){Wr(this,"undo")}),redo:qr(function(){Wr(this,"redo")}),undoSelection:qr(function(){Wr(this,"undo",!0)}),redoSelection:qr(function(){Wr(this,"redo",!0)}),setExtending:function(l){this.extend=l},getExtending:function(){return this.extend},historySize:function(){for(var l=this.history,x=0,M=0,_=0;_<l.done.length;_++)l.done[_].ranges||++x;for(var F=0;F<l.undone.length;F++)l.undone[F].ranges||++M;return{undo:x,redo:M}},clearHistory:function(){var l=this;this.history=new Rs(this.history),ao(this,function(x){return x.history=l.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(l){return l&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(l){return this.history.generation==(l||this.cleanGeneration)},getHistory:function(){return{done:Do(this.history.done),undone:Do(this.history.undone)}},setHistory:function(l){var x=this.history=new Rs(this.history);x.done=Do(l.done.slice(0),null,!0),x.undone=Do(l.undone.slice(0),null,!0)},setGutterMarker:qr(function(l,x,M){return ra(this,l,"gutter",function(_){var F=_.gutterMarkers||(_.gutterMarkers={});return F[x]=M,!M&&Ee(F)&&(_.gutterMarkers=null),!0})}),clearGutter:qr(function(l){var x=this;this.iter(function(M){M.gutterMarkers&&M.gutterMarkers[l]&&ra(x,M,"gutter",function(){return M.gutterMarkers[l]=null,Ee(M.gutterMarkers)&&(M.gutterMarkers=null),!0})})}),lineInfo:function(l){var x;if(typeof l=="number"){if(!Or(this,l)||(x=l,l=mn(this,l),!l))return null}else if(x=Xn(l),x==null)return null;return{line:x,handle:l,text:l.text,gutterMarkers:l.gutterMarkers,textClass:l.textClass,bgClass:l.bgClass,wrapClass:l.wrapClass,widgets:l.widgets}},addLineClass:qr(function(l,x,M){return ra(this,l,x=="gutter"?"gutter":"class",function(_){var F=x=="text"?"textClass":x=="background"?"bgClass":x=="gutter"?"gutterClass":"wrapClass";if(!_[F])_[F]=M;else{if(Ue(M).test(_[F]))return!1;_[F]+=" "+M}return!0})}),removeLineClass:qr(function(l,x,M){return ra(this,l,x=="gutter"?"gutter":"class",function(_){var F=x=="text"?"textClass":x=="background"?"bgClass":x=="gutter"?"gutterClass":"wrapClass",X=_[F];if(X)if(M==null)_[F]=null;else{var ie=X.match(Ue(M));if(!ie)return!1;var fe=ie.index+ie[0].length;_[F]=X.slice(0,ie.index)+(!ie.index||fe==X.length?"":" ")+X.slice(fe)||null}else return!1;return!0})}),addLineWidget:qr(function(l,x,M){return bl(this,l,x,M)}),removeLineWidget:function(l){l.clear()},markText:function(l,x,M){return Ql(this,Zn(this,l),Zn(this,x),M,M&&M.type||"range")},setBookmark:function(l,x){var M={replacedWith:x&&(x.nodeType==null?x.widget:x),insertLeft:x&&x.insertLeft,clearWhenEmpty:!1,shared:x&&x.shared,handleMouseEvents:x&&x.handleMouseEvents};return l=Zn(this,l),Ql(this,l,l,M,"bookmark")},findMarksAt:function(l){l=Zn(this,l);var x=[],M=mn(this,l.line).markedSpans;if(M)for(var _=0;_<M.length;++_){var F=M[_];(F.from==null||F.from<=l.ch)&&(F.to==null||F.to>=l.ch)&&x.push(F.marker.parent||F.marker)}return x},findMarks:function(l,x,M){l=Zn(this,l),x=Zn(this,x);var _=[],F=l.line;return this.iter(l.line,x.line+1,function(X){var ie=X.markedSpans;if(ie)for(var fe=0;fe<ie.length;fe++){var xe=ie[fe];!(xe.to!=null&&F==l.line&&l.ch>=xe.to||xe.from==null&&F!=l.line||xe.from!=null&&F==x.line&&xe.from>=x.ch)&&(!M||M(xe.marker))&&_.push(xe.marker.parent||xe.marker)}++F}),_},getAllMarks:function(){var l=[];return this.iter(function(x){var M=x.markedSpans;if(M)for(var _=0;_<M.length;++_)M[_].from!=null&&l.push(M[_].marker)}),l},posFromIndex:function(l){var x,M=this.first,_=this.lineSeparator().length;return this.iter(function(F){var X=F.text.length+_;if(X>l)return x=l,!0;l-=X,++M}),Zn(this,cn(M,x))},indexFromPos:function(l){l=Zn(this,l);var x=l.ch;if(l.line<this.first||l.ch<0)return 0;var M=this.lineSeparator().length;return this.iter(this.first,l.line,function(_){x+=_.text.length+M}),x},copy:function(l){var x=new Mo(Bo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return x.scrollTop=this.scrollTop,x.scrollLeft=this.scrollLeft,x.sel=this.sel,x.extend=!1,l&&(x.history.undoDepth=this.history.undoDepth,x.setHistory(this.getHistory())),x},linkedDoc:function(l){l||(l={});var x=this.first,M=this.first+this.size;l.from!=null&&l.from>x&&(x=l.from),l.to!=null&&l.to<M&&(M=l.to);var _=new Mo(Bo(this,x,M),l.mode||this.modeOption,x,this.lineSep,this.direction);return l.sharedHist&&(_.history=this.history),(this.linked||(this.linked=[])).push({doc:_,sharedHist:l.sharedHist}),_.linked=[{doc:this,isParent:!0,sharedHist:l.sharedHist}],is(_,ku(this)),_},unlinkDoc:function(l){if(l instanceof Ii&&(l=l.doc),this.linked)for(var x=0;x<this.linked.length;++x){var M=this.linked[x];if(M.doc==l){this.linked.splice(x,1),l.unlinkDoc(this),da(ku(this));break}}if(l.history==this.history){var _=[l.id];ao(l,function(F){return _.push(F.id)},!0),l.history=new Rs(null),l.history.done=Do(this.history.done,_),l.history.undone=Do(this.history.undone,_)}},iterLinkedDocs:function(l){ao(this,l)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(l){return this.lineSep?l.split(this.lineSep):vr(l)},lineSeparator:function(){return this.lineSep||`
`},setDirection:qr(function(l){l!="rtl"&&(l="ltr"),l!=this.direction&&(this.direction=l,this.iter(function(x){return x.order=null}),this.cm&&Qu(this.cm))})}),Mo.prototype.eachLine=Mo.prototype.iter;var Gc=0;function Yc(l){var x=this;if(Sc(x),!(vn(x,l)||So(x.display,l))){Hn(l),a&&(Gc=+new Date);var M=kt(x,l,!0),_=l.dataTransfer.files;if(!(!M||x.isReadOnly()))if(_&&_.length&&window.FileReader&&window.File)for(var F=_.length,X=Array(F),ie=0,fe=function(){++ie==F&&sa(x,function(){M=Zn(x.doc,M);var Mt={from:M,to:M,text:x.doc.splitLines(X.filter(function(an){return an!=null}).join(x.doc.lineSeparator())),origin:"paste"};lr(x.doc,Mt),ue(x.doc,rl(Zn(x.doc,M),Zn(x.doc,ua(Mt))))})()},xe=function(Mt,an){if(x.options.allowDropFileTypes&&_t(x.options.allowDropFileTypes,Mt.type)==-1){fe();return}var gn=new FileReader;gn.onerror=function(){return fe()},gn.onload=function(){var Tn=gn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Tn)){fe();return}X[an]=Tn,fe()},gn.readAsText(Mt)},De=0;De<_.length;De++)xe(_[De],De);else{if(x.state.draggingText&&x.doc.sel.contains(M)>-1){x.state.draggingText(l),setTimeout(function(){return x.display.input.focus()},20);return}try{var tt=l.dataTransfer.getData("Text");if(tt){var lt;if(x.state.draggingText&&!x.state.draggingText.copy&&(lt=x.listSelections()),He(x.doc,rl(M,M)),lt)for(var Ht=0;Ht<lt.length;++Ht)eo(x.doc,"",lt[Ht].anchor,lt[Ht].head,"drag");x.replaceSelection(tt,"around","paste"),x.display.input.focus()}}catch{}}}}function as(l,x){if(a&&(!l.state.draggingText||+new Date-Gc<100)){mr(x);return}if(!(vn(l,x)||So(l.display,x))&&(x.dataTransfer.setData("Text",l.getSelection()),x.dataTransfer.effectAllowed="copyMove",x.dataTransfer.setDragImage&&!k)){var M=ge("img",null,null,"position: fixed; left: 0; top: 0;");M.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",C&&(M.width=M.height=1,l.display.wrapper.appendChild(M),M._top=M.offsetTop),x.dataTransfer.setDragImage(M,0,0),C&&M.parentNode.removeChild(M)}}function jf(l,x){var M=kt(l,x);if(M){var _=document.createDocumentFragment();wr(l,M,_),l.display.dragCursor||(l.display.dragCursor=ge("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),l.display.lineSpace.insertBefore(l.display.dragCursor,l.display.cursorDiv)),ct(l.display.dragCursor,_)}}function Sc(l){l.display.dragCursor&&(l.display.lineSpace.removeChild(l.display.dragCursor),l.display.dragCursor=null)}function Wf(l){if(document.getElementsByClassName){for(var x=document.getElementsByClassName("CodeMirror"),M=[],_=0;_<x.length;_++){var F=x[_].CodeMirror;F&&M.push(F)}M.length&&M[0].operation(function(){for(var X=0;X<M.length;X++)l(M[X])})}}var xh=!1;function o0(){xh||(s0(),xh=!0)}function s0(){var l;yt(window,"resize",function(){l==null&&(l=setTimeout(function(){l=null,Wf(l0)},100))}),yt(window,"blur",function(){return Wf(fa)})}function l0(l){var x=l.display;x.cachedCharWidth=x.cachedTextHeight=x.cachedPaddingH=null,x.scrollbarsClipped=!1,l.setSize()}for(var Du={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},_u=0;_u<10;_u++)Du[_u+48]=Du[_u+96]=String(_u);for(var wl=65;wl<=90;wl++)Du[wl]=String.fromCharCode(wl);for(var Xc=1;Xc<=12;Xc++)Du[Xc+111]=Du[Xc+63235]="F"+Xc;var Mu={};Mu.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Mu.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Mu.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Mu.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Mu.default=q?Mu.macDefault:Mu.pcDefault;function gf(l){var x=l.split(/-(?!$)/);l=x[x.length-1];for(var M,_,F,X,ie=0;ie<x.length-1;ie++){var fe=x[ie];if(/^(cmd|meta|m)$/i.test(fe))X=!0;else if(/^a(lt)?$/i.test(fe))M=!0;else if(/^(c|ctrl|control)$/i.test(fe))_=!0;else if(/^s(hift)?$/i.test(fe))F=!0;else throw new Error("Unrecognized modifier name: "+fe)}return M&&(l="Alt-"+l),_&&(l="Ctrl-"+l),X&&(l="Cmd-"+l),F&&(l="Shift-"+l),l}function u0(l){var x={};for(var M in l)if(l.hasOwnProperty(M)){var _=l[M];if(/^(name|fallthrough|(de|at)tach)$/.test(M))continue;if(_=="..."){delete l[M];continue}for(var F=Xt(M.split(" "),gf),X=0;X<F.length;X++){var ie=void 0,fe=void 0;X==F.length-1?(fe=F.join(" "),ie=_):(fe=F.slice(0,X+1).join(" "),ie="...");var xe=x[fe];if(!xe)x[fe]=ie;else if(xe!=ie)throw new Error("Inconsistent bindings for "+fe)}delete l[M]}for(var De in x)l[De]=x[De];return l}function Bl(l,x,M,_){x=$u(x);var F=x.call?x.call(l,_):x[l];if(F===!1)return"nothing";if(F==="...")return"multi";if(F!=null&&M(F))return"handled";if(x.fallthrough){if(Object.prototype.toString.call(x.fallthrough)!="[object Array]")return Bl(l,x.fallthrough,M,_);for(var X=0;X<x.fallthrough.length;X++){var ie=Bl(l,x.fallthrough[X],M,_);if(ie)return ie}}}function Ec(l){var x=typeof l=="string"?l:Du[l.keyCode];return x=="Ctrl"||x=="Alt"||x=="Shift"||x=="Mod"}function Vc(l,x,M){var _=l;return x.altKey&&_!="Alt"&&(l="Alt-"+l),(Se?x.metaKey:x.ctrlKey)&&_!="Ctrl"&&(l="Ctrl-"+l),(Se?x.ctrlKey:x.metaKey)&&_!="Mod"&&(l="Cmd-"+l),!M&&x.shiftKey&&_!="Shift"&&(l="Shift-"+l),l}function Kc(l,x){if(C&&l.keyCode==34&&l.char)return!1;var M=Du[l.keyCode];return M==null||l.altGraphKey?!1:(l.keyCode==3&&l.code&&(M=l.code),Vc(M,l,x))}function $u(l){return typeof l=="string"?Mu[l]:l}function Cl(l,x){for(var M=l.doc.sel.ranges,_=[],F=0;F<M.length;F++){for(var X=x(M[F]);_.length&&On(X.from,un(_).to)<=0;){var ie=_.pop();if(On(ie.from,X.from)<0){X.from=ie.from;break}}_.push(X)}Ja(l,function(){for(var fe=_.length-1;fe>=0;fe--)eo(l.doc,"",_[fe].from,_[fe].to,"+delete");po(l)})}function pf(l,x,M){var _=we(l.text,x+M,M);return _<0||_>l.text.length?null:_}function Gf(l,x,M){var _=pf(l,x.ch,M);return _==null?null:new cn(x.line,_,M<0?"after":"before")}function Ou(l,x,M,_,F){if(l){x.doc.direction=="rtl"&&(F=-F);var X=at(M,x.doc.direction);if(X){var ie=F<0?un(X):X[0],fe=F<0==(ie.level==1),xe=fe?"after":"before",De;if(ie.level>0||x.doc.direction=="rtl"){var tt=_e(x,M);De=F<0?M.text.length-1:0;var lt=s(x,tt,De).top;De=Ve(function(Ht){return s(x,tt,Ht).top==lt},F<0==(ie.level==1)?ie.from:ie.to-1,De),xe=="before"&&(De=pf(M,De,1))}else De=F<0?ie.to:ie.from;return new cn(_,De,xe)}}return new cn(_,F<0?M.text.length:0,F<0?"before":"after")}function Zc(l,x,M,_){var F=at(x,l.doc.direction);if(!F)return Gf(x,M,_);M.ch>=x.text.length?(M.ch=x.text.length,M.sticky="before"):M.ch<=0&&(M.ch=0,M.sticky="after");var X=Et(F,M.ch,M.sticky),ie=F[X];if(l.doc.direction=="ltr"&&ie.level%2==0&&(_>0?ie.to>M.ch:ie.from<M.ch))return Gf(x,M,_);var fe=function(Fn,zn){return pf(x,Fn instanceof cn?Fn.ch:Fn,zn)},xe,De=function(Fn){return l.options.lineWrapping?(xe=xe||_e(l,x),Ct(l,x,xe,Fn)):{begin:0,end:x.text.length}},tt=De(M.sticky=="before"?fe(M,-1):M.ch);if(l.doc.direction=="rtl"||ie.level==1){var lt=ie.level==1==_<0,Ht=fe(M,lt?1:-1);if(Ht!=null&&(lt?Ht<=ie.to&&Ht<=tt.end:Ht>=ie.from&&Ht>=tt.begin)){var Mt=lt?"before":"after";return new cn(M.line,Ht,Mt)}}var an=function(Fn,zn,wn){for(var Kn=function(Gi,bs){return bs?new cn(M.line,fe(Gi,1),"before"):new cn(M.line,Gi,"after")};Fn>=0&&Fn<F.length;Fn+=zn){var Cr=F[Fn],dr=zn>0==(Cr.level!=1),ii=dr?wn.begin:fe(wn.end,-1);if(Cr.from<=ii&&ii<Cr.to||(ii=dr?Cr.from:fe(Cr.to,-1),wn.begin<=ii&&ii<wn.end))return Kn(ii,dr)}},gn=an(X+_,_,tt);if(gn)return gn;var Tn=_>0?tt.end:fe(tt.begin,-1);return Tn!=null&&!(_>0&&Tn==x.text.length)&&(gn=an(_>0?0:F.length-1,_,De(Tn)),gn)?gn:null}var ec={selectAll:Dn,singleSelection:function(l){return l.setSelection(l.getCursor("anchor"),l.getCursor("head"),At)},killLine:function(l){return Cl(l,function(x){if(x.empty()){var M=mn(l.doc,x.head.line).text.length;return x.head.ch==M&&x.head.line<l.lastLine()?{from:x.head,to:cn(x.head.line+1,0)}:{from:x.head,to:cn(x.head.line,M)}}else return{from:x.from(),to:x.to()}})},deleteLine:function(l){return Cl(l,function(x){return{from:cn(x.from().line,0),to:Zn(l.doc,cn(x.to().line+1,0))}})},delLineLeft:function(l){return Cl(l,function(x){return{from:cn(x.from().line,0),to:x.from()}})},delWrappedLineLeft:function(l){return Cl(l,function(x){var M=l.charCoords(x.head,"div").top+5,_=l.coordsChar({left:0,top:M},"div");return{from:_,to:x.from()}})},delWrappedLineRight:function(l){return Cl(l,function(x){var M=l.charCoords(x.head,"div").top+5,_=l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:M},"div");return{from:x.from(),to:_}})},undo:function(l){return l.undo()},redo:function(l){return l.redo()},undoSelection:function(l){return l.undoSelection()},redoSelection:function(l){return l.redoSelection()},goDocStart:function(l){return l.extendSelection(cn(l.firstLine(),0))},goDocEnd:function(l){return l.extendSelection(cn(l.lastLine()))},goLineStart:function(l){return l.extendSelectionsBy(function(x){return mf(l,x.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(l){return l.extendSelectionsBy(function(x){return bh(l,x.head)},{origin:"+move",bias:1})},goLineEnd:function(l){return l.extendSelectionsBy(function(x){return Ac(l,x.head.line)},{origin:"+move",bias:-1})},goLineRight:function(l){return l.extendSelectionsBy(function(x){var M=l.cursorCoords(x.head,"div").top+5;return l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:M},"div")},Kt)},goLineLeft:function(l){return l.extendSelectionsBy(function(x){var M=l.cursorCoords(x.head,"div").top+5;return l.coordsChar({left:0,top:M},"div")},Kt)},goLineLeftSmart:function(l){return l.extendSelectionsBy(function(x){var M=l.cursorCoords(x.head,"div").top+5,_=l.coordsChar({left:0,top:M},"div");return _.ch<l.getLine(_.line).search(/\S/)?bh(l,x.head):_},Kt)},goLineUp:function(l){return l.moveV(-1,"line")},goLineDown:function(l){return l.moveV(1,"line")},goPageUp:function(l){return l.moveV(-1,"page")},goPageDown:function(l){return l.moveV(1,"page")},goCharLeft:function(l){return l.moveH(-1,"char")},goCharRight:function(l){return l.moveH(1,"char")},goColumnLeft:function(l){return l.moveH(-1,"column")},goColumnRight:function(l){return l.moveH(1,"column")},goWordLeft:function(l){return l.moveH(-1,"word")},goGroupRight:function(l){return l.moveH(1,"group")},goGroupLeft:function(l){return l.moveH(-1,"group")},goWordRight:function(l){return l.moveH(1,"word")},delCharBefore:function(l){return l.deleteH(-1,"codepoint")},delCharAfter:function(l){return l.deleteH(1,"char")},delWordBefore:function(l){return l.deleteH(-1,"word")},delWordAfter:function(l){return l.deleteH(1,"word")},delGroupBefore:function(l){return l.deleteH(-1,"group")},delGroupAfter:function(l){return l.deleteH(1,"group")},indentAuto:function(l){return l.indentSelection("smart")},indentMore:function(l){return l.indentSelection("add")},indentLess:function(l){return l.indentSelection("subtract")},insertTab:function(l){return l.replaceSelection("	")},insertSoftTab:function(l){for(var x=[],M=l.listSelections(),_=l.options.tabSize,F=0;F<M.length;F++){var X=M[F].from(),ie=et(l.getLine(X.line),X.ch,_);x.push(Vt(_-ie%_))}l.replaceSelections(x)},defaultTab:function(l){l.somethingSelected()?l.indentSelection("add"):l.execCommand("insertTab")},transposeChars:function(l){return Ja(l,function(){for(var x=l.listSelections(),M=[],_=0;_<x.length;_++)if(x[_].empty()){var F=x[_].head,X=mn(l.doc,F.line).text;if(X){if(F.ch==X.length&&(F=new cn(F.line,F.ch-1)),F.ch>0)F=new cn(F.line,F.ch+1),l.replaceRange(X.charAt(F.ch-1)+X.charAt(F.ch-2),cn(F.line,F.ch-2),F,"+transpose");else if(F.line>l.doc.first){var ie=mn(l.doc,F.line-1).text;ie&&(F=new cn(F.line,1),l.replaceRange(X.charAt(0)+l.doc.lineSeparator()+ie.charAt(ie.length-1),cn(F.line-1,ie.length-1),F,"+transpose"))}}M.push(new li(F,F))}l.setSelections(M)})},newlineAndIndent:function(l){return Ja(l,function(){for(var x=l.listSelections(),M=x.length-1;M>=0;M--)l.replaceRange(l.doc.lineSeparator(),x[M].anchor,x[M].head,"+input");x=l.listSelections();for(var _=0;_<x.length;_++)l.indentLine(x[_].from().line,null,!0);po(l)})},openLine:function(l){return l.replaceSelection(`
`,"start")},toggleOverwrite:function(l){return l.toggleOverwrite()}};function mf(l,x){var M=mn(l.doc,x),_=Oa(M);return _!=M&&(x=Xn(_)),Ou(!0,l,_,x,1)}function Ac(l,x){var M=mn(l.doc,x),_=yu(M);return _!=M&&(x=Xn(_)),Ou(!0,l,M,x,-1)}function bh(l,x){var M=mf(l,x.line),_=mn(l.doc,M.line),F=at(_,l.doc.direction);if(!F||F[0].level==0){var X=Math.max(M.ch,_.text.search(/\S/)),ie=x.line==M.line&&x.ch<=X&&x.ch;return cn(M.line,ie?0:X,M.sticky)}return M}function Iu(l,x,M){if(typeof x=="string"&&(x=ec[x],!x))return!1;l.display.input.ensurePolled();var _=l.display.shift,F=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),M&&(l.display.shift=!1),F=x(l)!=st}finally{l.display.shift=_,l.state.suppressEdits=!1}return F}function Yf(l,x,M){for(var _=0;_<l.state.keyMaps.length;_++){var F=Bl(x,l.state.keyMaps[_],M,l);if(F)return F}return l.options.extraKeys&&Bl(x,l.options.extraKeys,M,l)||Bl(x,l.options.keyMap,M,l)}var c0=new Wt;function qc(l,x,M,_){var F=l.state.keySeq;if(F){if(Ec(x))return"handled";if(/\'$/.test(x)?l.state.keySeq=null:c0.set(50,function(){l.state.keySeq==F&&(l.state.keySeq=null,l.display.input.reset())}),f0(l,F+" "+x,M,_))return!0}return f0(l,x,M,_)}function f0(l,x,M,_){var F=Yf(l,x,_);return F=="multi"&&(l.state.keySeq=x),F=="handled"&&oi(l,"keyHandled",l,x,M),(F=="handled"||F=="multi")&&(Hn(M),ca(l)),!!F}function h0(l,x){var M=Kc(x,!0);return M?x.shiftKey&&!l.state.keySeq?qc(l,"Shift-"+M,x,function(_){return Iu(l,_,!0)})||qc(l,M,x,function(_){if(typeof _=="string"?/^go[A-Z]/.test(_):_.motion)return Iu(l,_)}):qc(l,M,x,function(_){return Iu(l,_)}):!1}function wh(l,x,M){return qc(l,"'"+M+"'",x,function(_){return Iu(l,_,!0)})}var Xf=null;function d0(l){var x=this;if(!(l.target&&l.target!=x.display.input.getField())&&(x.curOp.focus=Me(me(x)),!vn(x,l))){a&&c<11&&l.keyCode==27&&(l.returnValue=!1);var M=l.keyCode;x.display.shift=M==16||l.shiftKey;var _=h0(x,l);C&&(Xf=_?M:null,!_&&M==88&&!ar&&(q?l.metaKey:l.ctrlKey)&&x.replaceSelection("",null,"cut")),o&&!q&&!_&&M==46&&l.shiftKey&&!l.ctrlKey&&document.execCommand&&document.execCommand("cut"),M==18&&!/\bCodeMirror-crosshair\b/.test(x.display.lineDiv.className)&&W0(x)}}function W0(l){var x=l.display.lineDiv;ce(x,"CodeMirror-crosshair");function M(_){(_.keyCode==18||!_.altKey)&&(Ze(x,"CodeMirror-crosshair"),pn(document,"keyup",M),pn(document,"mouseover",M))}yt(document,"keyup",M),yt(document,"mouseover",M)}function uu(l){l.keyCode==16&&(this.doc.sel.shift=!1),vn(this,l)}function vf(l){var x=this;if(!(l.target&&l.target!=x.display.input.getField())&&!(So(x.display,l)||vn(x,l)||l.ctrlKey&&!l.altKey||q&&l.metaKey)){var M=l.keyCode,_=l.charCode;if(C&&M==Xf){Xf=null,Hn(l);return}if(!(C&&(!l.which||l.which<10)&&h0(x,l))){var F=String.fromCharCode(_??M);F!="\b"&&(wh(x,l,F)||x.display.input.onKeyPress(l))}}}var yf=400,Tc=function(l,x,M){this.time=l,this.pos=x,this.button=M};Tc.prototype.compare=function(l,x,M){return this.time+yf>l&&On(x,this.pos)==0&&M==this.button};var Ru,tc;function Ch(l,x){var M=+new Date;return tc&&tc.compare(M,l,x)?(Ru=tc=null,"triple"):Ru&&Ru.compare(M,l,x)?(tc=new Tc(M,l,x),Ru=null,"double"):(Ru=new Tc(M,l,x),tc=null,"single")}function Vf(l){var x=this,M=x.display;if(!(vn(x,l)||M.activeTouch&&M.input.supportsTouch())){if(M.input.ensurePolled(),M.shift=l.shiftKey,So(M,l)){v||(M.scroller.draggable=!1,setTimeout(function(){return M.scroller.draggable=!0},100));return}if(!Kf(x,l)){var _=kt(x,l),F=Jn(l),X=_?Ch(_,F):"single";Ne(x).focus(),F==1&&x.state.selectingText&&x.state.selectingText(l),!(_&&G0(x,F,_,X,l))&&(F==1?_?Y0(x,_,X,l):Oi(l)==M.scroller&&Hn(l):F==2?(_&&ql(x.doc,_),setTimeout(function(){return M.input.focus()},20)):F==3&&(Fe?x.display.input.onContextMenu(l):Ha(x)))}}}function G0(l,x,M,_,F){var X="Click";return _=="double"?X="Double"+X:_=="triple"&&(X="Triple"+X),X=(x==1?"Left":x==2?"Middle":"Right")+X,qc(l,Vc(X,F),F,function(ie){if(typeof ie=="string"&&(ie=ec[ie]),!ie)return!1;var fe=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),fe=ie(l,M)!=st}finally{l.state.suppressEdits=!1}return fe})}function Sh(l,x,M){var _=l.getOption("configureMouse"),F=_?_(l,x,M):{};if(F.unit==null){var X=J?M.shiftKey&&M.metaKey:M.altKey;F.unit=X?"rectangle":x=="single"?"char":x=="double"?"word":"line"}return(F.extend==null||l.doc.extend)&&(F.extend=l.doc.extend||M.shiftKey),F.addNew==null&&(F.addNew=q?M.metaKey:M.ctrlKey),F.moveOnDrag==null&&(F.moveOnDrag=!(q?M.altKey:M.ctrlKey)),F}function Y0(l,x,M,_){a?setTimeout(ut(pi,l),0):l.curOp.focus=Me(me(l));var F=Sh(l,M,_),X=l.doc.sel,ie;l.options.dragDrop&&Fr&&!l.isReadOnly()&&M=="single"&&(ie=X.contains(x))>-1&&(On((ie=X.ranges[ie]).from(),x)<0||x.xRel>0)&&(On(ie.to(),x)>0||x.xRel<0)?Eh(l,_,x,F):bf(l,_,x,F)}function Eh(l,x,M,_){var F=l.display,X=!1,ie=sa(l,function(De){v&&(F.scroller.draggable=!1),l.state.draggingText=!1,l.state.delayingBlurEvent&&(l.hasFocus()?l.state.delayingBlurEvent=!1:Ha(l)),pn(F.wrapper.ownerDocument,"mouseup",ie),pn(F.wrapper.ownerDocument,"mousemove",fe),pn(F.scroller,"dragstart",xe),pn(F.scroller,"drop",ie),X||(Hn(De),_.addNew||ql(l.doc,M,null,null,_.extend),v&&!k||a&&c==9?setTimeout(function(){F.wrapper.ownerDocument.body.focus({preventScroll:!0}),F.input.focus()},20):F.input.focus())}),fe=function(De){X=X||Math.abs(x.clientX-De.clientX)+Math.abs(x.clientY-De.clientY)>=10},xe=function(){return X=!0};v&&(F.scroller.draggable=!0),l.state.draggingText=ie,ie.copy=!_.moveOnDrag,yt(F.wrapper.ownerDocument,"mouseup",ie),yt(F.wrapper.ownerDocument,"mousemove",fe),yt(F.scroller,"dragstart",xe),yt(F.scroller,"drop",ie),l.state.delayingBlurEvent=!0,setTimeout(function(){return F.input.focus()},20),F.scroller.dragDrop&&F.scroller.dragDrop()}function xf(l,x,M){if(M=="char")return new li(x,x);if(M=="word")return l.findWordAt(x);if(M=="line")return new li(cn(x.line,0),Zn(l.doc,cn(x.line+1,0)));var _=M(l,x);return new li(_.from,_.to)}function bf(l,x,M,_){a&&Ha(l);var F=l.display,X=l.doc;Hn(x);var ie,fe,xe=X.sel,De=xe.ranges;if(_.addNew&&!_.extend?(fe=X.sel.contains(M),fe>-1?ie=De[fe]:ie=new li(M,M)):(ie=X.sel.primary(),fe=X.sel.primIndex),_.unit=="rectangle")_.addNew||(ie=new li(M,M)),M=kt(l,x,!0,!0),fe=-1;else{var tt=xf(l,M,_.unit);_.extend?ie=Tu(ie,tt.anchor,tt.head,_.extend):ie=tt}_.addNew?fe==-1?(fe=De.length,de(X,ms(l,De.concat([ie]),fe),{scroll:!1,origin:"*mouse"})):De.length>1&&De[fe].empty()&&_.unit=="char"&&!_.extend?(de(X,ms(l,De.slice(0,fe).concat(De.slice(fe+1)),0),{scroll:!1,origin:"*mouse"}),xe=X.sel):z(X,fe,ie,St):(fe=0,de(X,new ns([ie],0),St),xe=X.sel);var lt=M;function Ht(wn){if(On(lt,wn)!=0)if(lt=wn,_.unit=="rectangle"){for(var Kn=[],Cr=l.options.tabSize,dr=et(mn(X,M.line).text,M.ch,Cr),ii=et(mn(X,wn.line).text,wn.ch,Cr),Gi=Math.min(dr,ii),bs=Math.max(dr,ii),oo=Math.min(M.line,wn.line),Gs=Math.min(l.lastLine(),Math.max(M.line,wn.line));oo<=Gs;oo++){var yo=mn(X,oo).text,Wo=zt(yo,Gi,Cr);Gi==bs?Kn.push(new li(cn(oo,Wo),cn(oo,Wo))):yo.length>Wo&&Kn.push(new li(cn(oo,Wo),cn(oo,zt(yo,bs,Cr))))}Kn.length||Kn.push(new li(M,M)),de(X,ms(l,xe.ranges.slice(0,fe).concat(Kn),fe),{origin:"*mouse",scroll:!1}),l.scrollIntoView(wn)}else{var ul=ie,Ns=xf(l,wn,_.unit),Go=ul.anchor,Ro;On(Ns.anchor,Go)>0?(Ro=Ns.head,Go=_a(ul.from(),Ns.anchor)):(Ro=Ns.anchor,Go=Ai(ul.to(),Ns.head));var to=xe.ranges.slice(0);to[fe]=wf(l,new li(Zn(X,Go),Ro)),de(X,ms(l,to,fe),St)}}var Mt=F.wrapper.getBoundingClientRect(),an=0;function gn(wn){var Kn=++an,Cr=kt(l,wn,!0,_.unit=="rectangle");if(Cr)if(On(Cr,lt)!=0){l.curOp.focus=Me(me(l)),Ht(Cr);var dr=Eo(F,X);(Cr.line>=dr.to||Cr.line<dr.from)&&setTimeout(sa(l,function(){an==Kn&&gn(wn)}),150)}else{var ii=wn.clientY<Mt.top?-20:wn.clientY>Mt.bottom?20:0;ii&&setTimeout(sa(l,function(){an==Kn&&(F.scroller.scrollTop+=ii,gn(wn))}),50)}}function Tn(wn){l.state.selectingText=!1,an=1/0,wn&&(Hn(wn),F.input.focus()),pn(F.wrapper.ownerDocument,"mousemove",Fn),pn(F.wrapper.ownerDocument,"mouseup",zn),X.history.lastSelOrigin=null}var Fn=sa(l,function(wn){wn.buttons===0||!Jn(wn)?Tn(wn):gn(wn)}),zn=sa(l,Tn);l.state.selectingText=zn,yt(F.wrapper.ownerDocument,"mousemove",Fn),yt(F.wrapper.ownerDocument,"mouseup",zn)}function wf(l,x){var M=x.anchor,_=x.head,F=mn(l.doc,M.line);if(On(M,_)==0&&M.sticky==_.sticky)return x;var X=at(F);if(!X)return x;var ie=Et(X,M.ch,M.sticky),fe=X[ie];if(fe.from!=M.ch&&fe.to!=M.ch)return x;var xe=ie+(fe.from==M.ch==(fe.level!=1)?0:1);if(xe==0||xe==X.length)return x;var De;if(_.line!=M.line)De=(_.line-M.line)*(l.doc.direction=="ltr"?1:-1)>0;else{var tt=Et(X,_.ch,_.sticky),lt=tt-ie||(_.ch-M.ch)*(fe.level==1?-1:1);tt==xe-1||tt==xe?De=lt<0:De=lt>0}var Ht=X[xe+(De?-1:0)],Mt=De==(Ht.level==1),an=Mt?Ht.from:Ht.to,gn=Mt?"after":"before";return M.ch==an&&M.sticky==gn?x:new li(new cn(M.line,an,gn),_)}function Qc(l,x,M,_){var F,X;if(x.touches)F=x.touches[0].clientX,X=x.touches[0].clientY;else try{F=x.clientX,X=x.clientY}catch{return!1}if(F>=Math.floor(l.display.gutters.getBoundingClientRect().right))return!1;_&&Hn(x);var ie=l.display,fe=ie.lineDiv.getBoundingClientRect();if(X>fe.bottom||!Yn(l,M))return Br(x);X-=fe.top-ie.viewOffset;for(var xe=0;xe<l.display.gutterSpecs.length;++xe){var De=ie.gutters.childNodes[xe];if(De&&De.getBoundingClientRect().right>=F){var tt=fr(l.doc,X),lt=l.display.gutterSpecs[xe];return Cn(l,M,l,tt,lt.className,x),Br(x)}}}function Kf(l,x){return Qc(l,x,"gutterClick",!0)}function Ah(l,x){So(l.display,x)||Zf(l,x)||vn(l,x,"contextmenu")||Fe||l.display.input.onContextMenu(x)}function Zf(l,x){return Yn(l,"gutterContextMenu")?Qc(l,x,"gutterContextMenu",!1):!1}function Cf(l){l.display.wrapper.className=l.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+l.options.theme.replace(/(^|\s)\s*/g," cm-s-"),B(l)}var Fl={toString:function(){return"CodeMirror.Init"}},g0={},cu={};function Th(l){var x=l.optionHandlers;function M(_,F,X,ie){l.defaults[_]=F,X&&(x[_]=ie?function(fe,xe,De){De!=Fl&&X(fe,xe,De)}:X)}l.defineOption=M,l.Init=Fl,M("value","",function(_,F){return _.setValue(F)},!0),M("mode",null,function(_,F){_.doc.modeOption=F,qu(_)},!0),M("indentUnit",2,qu,!0),M("indentWithTabs",!1),M("smartIndent",!0),M("tabSize",4,function(_){Kl(_),B(_),dn(_)},!0),M("lineSeparator",null,function(_,F){if(_.doc.lineSep=F,!!F){var X=[],ie=_.doc.first;_.doc.iter(function(xe){for(var De=0;;){var tt=xe.text.indexOf(F,De);if(tt==-1)break;De=tt+F.length,X.push(cn(ie,tt))}ie++});for(var fe=X.length-1;fe>=0;fe--)eo(_.doc,F,X[fe],cn(X[fe].line,X[fe].ch+F.length))}}),M("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(_,F,X){_.state.specialChars=new RegExp(F.source+(F.test("	")?"":"|	"),"g"),X!=Fl&&_.refresh()}),M("specialCharPlaceholder",Ia,function(_){return _.refresh()},!0),M("electricChars",!0),M("inputStyle",W?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),M("spellcheck",!1,function(_,F){return _.getInputField().spellcheck=F},!0),M("autocorrect",!1,function(_,F){return _.getInputField().autocorrect=F},!0),M("autocapitalize",!1,function(_,F){return _.getInputField().autocapitalize=F},!0),M("rtlMoveVisually",!ne),M("wholeLineUpdateBefore",!0),M("theme","default",function(_){Cf(_),ts(_)},!0),M("keyMap","default",function(_,F,X){var ie=$u(F),fe=X!=Fl&&$u(X);fe&&fe.detach&&fe.detach(_,ie),ie.attach&&ie.attach(_,fe||null)}),M("extraKeys",null),M("configureMouse",null),M("lineWrapping",!1,qf,!0),M("gutters",[],function(_,F){_.display.gutterSpecs=Cc(F,_.options.lineNumbers),ts(_)},!0),M("fixedGutter",!0,function(_,F){_.display.gutters.style.left=F?nt(_.display)+"px":"0",_.refresh()},!0),M("coverGutterNextToScrollbar",!1,function(_){return au(_)},!0),M("scrollbarStyle","native",function(_){ri(_),au(_),_.display.scrollbars.setScrollTop(_.doc.scrollTop),_.display.scrollbars.setScrollLeft(_.doc.scrollLeft)},!0),M("lineNumbers",!1,function(_,F){_.display.gutterSpecs=Cc(_.options.gutters,F),ts(_)},!0),M("firstLineNumber",1,ts,!0),M("lineNumberFormatter",function(_){return _},ts,!0),M("showCursorWhenSelecting",!1,_r,!0),M("resetSelectionOnContextMenu",!0),M("lineWiseCopyCut",!0),M("pasteLinesPerSelection",!0),M("selectionsMayTouch",!1),M("readOnly",!1,function(_,F){F=="nocursor"&&(fa(_),_.display.input.blur()),_.display.input.readOnlyChanged(F)}),M("screenReaderLabel",null,function(_,F){F=F===""?null:F,_.display.input.screenReaderLabelChanged(F)}),M("disableInput",!1,function(_,F){F||_.display.input.reset()},!0),M("dragDrop",!0,Sf),M("allowDropFileTypes",null),M("cursorBlinkRate",530),M("cursorScrollMargin",0),M("cursorHeight",1,_r,!0),M("singleCursorHeightPerLine",!0,_r,!0),M("workTime",100),M("workDelay",100),M("flattenSpans",!0,Kl,!0),M("addModeClass",!1,Kl,!0),M("pollInterval",100),M("undoDepth",200,function(_,F){return _.doc.history.undoDepth=F}),M("historyEventDelay",1250),M("viewportMargin",10,function(_){return _.refresh()},!0),M("maxHighlightLength",1e4,Kl,!0),M("moveInputWithCursor",!0,function(_,F){F||_.display.input.resetPosition()}),M("tabindex",null,function(_,F){return _.display.input.getField().tabIndex=F||""}),M("autofocus",null),M("direction","ltr",function(_,F){return _.doc.setDirection(F)},!0),M("phrases",null)}function Sf(l,x,M){var _=M&&M!=Fl;if(!x!=!_){var F=l.display.dragFunctions,X=x?yt:pn;X(l.display.scroller,"dragstart",F.start),X(l.display.scroller,"dragenter",F.enter),X(l.display.scroller,"dragover",F.over),X(l.display.scroller,"dragleave",F.leave),X(l.display.scroller,"drop",F.drop)}}function qf(l){l.options.lineWrapping?(ce(l.display.wrapper,"CodeMirror-wrap"),l.display.sizer.style.minWidth="",l.display.sizerWidth=null):(Ze(l.display.wrapper,"CodeMirror-wrap"),Jt(l)),Rt(l),dn(l),B(l),setTimeout(function(){return au(l)},100)}function Ii(l,x){var M=this;if(!(this instanceof Ii))return new Ii(l,x);this.options=x=x?xt(x):{},xt(g0,x,!1);var _=x.value;typeof _=="string"?_=new Mo(_,x.mode,null,x.lineSeparator,x.direction):x.mode&&(_.modeOption=x.mode),this.doc=_;var F=new Ii.inputStyles[x.inputStyle](this),X=this.display=new ou(l,_,F,x);X.wrapper.CodeMirror=this,Cf(this),x.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ri(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Wt,keySeq:null,specialChars:null},x.autofocus&&!W&&X.input.focus(),a&&c<11&&setTimeout(function(){return M.display.input.reset(!0)},20),p0(this),o0(),Ra(this),this.curOp.forceUpdate=!0,Wc(this,_),x.autofocus&&!W||this.hasFocus()?setTimeout(function(){M.hasFocus()&&!M.state.focused&&Pi(M)},20):fa(this);for(var ie in cu)cu.hasOwnProperty(ie)&&cu[ie](this,x[ie],Fl);Ta(this),x.finishInit&&x.finishInit(this);for(var fe=0;fe<Nu.length;++fe)Nu[fe](this);vl(this),v&&x.lineWrapping&&getComputedStyle(X.lineDiv).textRendering=="optimizelegibility"&&(X.lineDiv.style.textRendering="auto")}Ii.defaults=g0,Ii.optionHandlers=cu;function p0(l){var x=l.display;yt(x.scroller,"mousedown",sa(l,Vf)),a&&c<11?yt(x.scroller,"dblclick",sa(l,function(xe){if(!vn(l,xe)){var De=kt(l,xe);if(!(!De||Kf(l,xe)||So(l.display,xe))){Hn(xe);var tt=l.findWordAt(De);ql(l.doc,tt.anchor,tt.head)}}})):yt(x.scroller,"dblclick",function(xe){return vn(l,xe)||Hn(xe)}),yt(x.scroller,"contextmenu",function(xe){return Ah(l,xe)}),yt(x.input.getField(),"contextmenu",function(xe){x.scroller.contains(xe.target)||Ah(l,xe)});var M,_={end:0};function F(){x.activeTouch&&(M=setTimeout(function(){return x.activeTouch=null},1e3),_=x.activeTouch,_.end=+new Date)}function X(xe){if(xe.touches.length!=1)return!1;var De=xe.touches[0];return De.radiusX<=1&&De.radiusY<=1}function ie(xe,De){if(De.left==null)return!0;var tt=De.left-xe.left,lt=De.top-xe.top;return tt*tt+lt*lt>400}yt(x.scroller,"touchstart",function(xe){if(!vn(l,xe)&&!X(xe)&&!Kf(l,xe)){x.input.ensurePolled(),clearTimeout(M);var De=+new Date;x.activeTouch={start:De,moved:!1,prev:De-_.end<=300?_:null},xe.touches.length==1&&(x.activeTouch.left=xe.touches[0].pageX,x.activeTouch.top=xe.touches[0].pageY)}}),yt(x.scroller,"touchmove",function(){x.activeTouch&&(x.activeTouch.moved=!0)}),yt(x.scroller,"touchend",function(xe){var De=x.activeTouch;if(De&&!So(x,xe)&&De.left!=null&&!De.moved&&new Date-De.start<300){var tt=l.coordsChar(x.activeTouch,"page"),lt;!De.prev||ie(De,De.prev)?lt=new li(tt,tt):!De.prev.prev||ie(De,De.prev.prev)?lt=l.findWordAt(tt):lt=new li(cn(tt.line,0),Zn(l.doc,cn(tt.line+1,0))),l.setSelection(lt.anchor,lt.head),l.focus(),Hn(xe)}F()}),yt(x.scroller,"touchcancel",F),yt(x.scroller,"scroll",function(){x.scroller.clientHeight&&(Wi(l,x.scroller.scrollTop),To(l,x.scroller.scrollLeft,!0),Cn(l,"scroll",l))}),yt(x.scroller,"mousewheel",function(xe){return jc(l,xe)}),yt(x.scroller,"DOMMouseScroll",function(xe){return jc(l,xe)}),yt(x.wrapper,"scroll",function(){return x.wrapper.scrollTop=x.wrapper.scrollLeft=0}),x.dragFunctions={enter:function(xe){vn(l,xe)||mr(xe)},over:function(xe){vn(l,xe)||(jf(l,xe),mr(xe))},start:function(xe){return as(l,xe)},drop:sa(l,Yc),leave:function(xe){vn(l,xe)||Sc(l)}};var fe=x.input.getField();yt(fe,"keyup",function(xe){return uu.call(l,xe)}),yt(fe,"keydown",sa(l,d0)),yt(fe,"keypress",sa(l,vf)),yt(fe,"focus",function(xe){return Pi(l,xe)}),yt(fe,"blur",function(xe){return fa(l,xe)})}var Nu=[];Ii.defineInitHook=function(l){return Nu.push(l)};function Jc(l,x,M,_){var F=l.doc,X;M==null&&(M="add"),M=="smart"&&(F.mode.indent?X=ma(l,x).state:M="prev");var ie=l.options.tabSize,fe=mn(F,x),xe=et(fe.text,null,ie);fe.stateAfter&&(fe.stateAfter=null);var De=fe.text.match(/^\s*/)[0],tt;if(!_&&!/\S/.test(fe.text))tt=0,M="not";else if(M=="smart"&&(tt=F.mode.indent(X,fe.text.slice(De.length),fe.text),tt==st||tt>150)){if(!_)return;M="prev"}M=="prev"?x>F.first?tt=et(mn(F,x-1).text,null,ie):tt=0:M=="add"?tt=xe+l.options.indentUnit:M=="subtract"?tt=xe-l.options.indentUnit:typeof M=="number"&&(tt=xe+M),tt=Math.max(0,tt);var lt="",Ht=0;if(l.options.indentWithTabs)for(var Mt=Math.floor(tt/ie);Mt;--Mt)Ht+=ie,lt+="	";if(Ht<tt&&(lt+=Vt(tt-Ht)),lt!=De)return eo(F,lt,cn(x,0),cn(x,De.length),"+input"),fe.stateAfter=null,!0;for(var an=0;an<F.sel.ranges.length;an++){var gn=F.sel.ranges[an];if(gn.head.line==x&&gn.head.ch<De.length){var Tn=cn(x,De.length);z(F,an,new li(Tn,Tn));break}}}var ll=null;function Lu(l){ll=l}function Ef(l,x,M,_,F){var X=l.doc;l.display.shift=!1,_||(_=X.sel);var ie=+new Date-200,fe=F=="paste"||l.state.pasteIncoming>ie,xe=vr(x),De=null;if(fe&&_.ranges.length>1)if(ll&&ll.text.join(`
`)==x){if(_.ranges.length%ll.text.length==0){De=[];for(var tt=0;tt<ll.text.length;tt++)De.push(X.splitLines(ll.text[tt]))}}else xe.length==_.ranges.length&&l.options.pasteLinesPerSelection&&(De=Xt(xe,function(Fn){return[Fn]}));for(var lt=l.curOp.updateInput,Ht=_.ranges.length-1;Ht>=0;Ht--){var Mt=_.ranges[Ht],an=Mt.from(),gn=Mt.to();Mt.empty()&&(M&&M>0?an=cn(an.line,an.ch-M):l.state.overwrite&&!fe?gn=cn(gn.line,Math.min(mn(X,gn.line).text.length,gn.ch+un(xe).length)):fe&&ll&&ll.lineWise&&ll.text.join(`
`)==xe.join(`
`)&&(an=gn=cn(an.line,0)));var Tn={from:an,to:gn,text:De?De[Ht%De.length]:xe,origin:F||(fe?"paste":l.state.cutIncoming>ie?"cut":"+input")};lr(l.doc,Tn),oi(l,"inputRead",l,Tn)}x&&!fe&&Qf(l,x),po(l),l.curOp.updateInput<2&&(l.curOp.updateInput=lt),l.curOp.typing=!0,l.state.pasteIncoming=l.state.cutIncoming=-1}function Af(l,x){var M=l.clipboardData&&l.clipboardData.getData("Text");if(M)return l.preventDefault(),!x.isReadOnly()&&!x.options.disableInput&&x.hasFocus()&&Ja(x,function(){return Ef(x,M,0,null,"paste")}),!0}function Qf(l,x){if(!(!l.options.electricChars||!l.options.smartIndent))for(var M=l.doc.sel,_=M.ranges.length-1;_>=0;_--){var F=M.ranges[_];if(!(F.head.ch>100||_&&M.ranges[_-1].head.line==F.head.line)){var X=l.getModeAt(F.head),ie=!1;if(X.electricChars){for(var fe=0;fe<X.electricChars.length;fe++)if(x.indexOf(X.electricChars.charAt(fe))>-1){ie=Jc(l,F.head.line,"smart");break}}else X.electricInput&&X.electricInput.test(mn(l.doc,F.head.line).text.slice(0,F.head.ch))&&(ie=Jc(l,F.head.line,"smart"));ie&&oi(l,"electricInput",l,F.head.line)}}}function Tf(l){for(var x=[],M=[],_=0;_<l.doc.sel.ranges.length;_++){var F=l.doc.sel.ranges[_].head.line,X={anchor:cn(F,0),head:cn(F+1,0)};M.push(X),x.push(l.getRange(X.anchor,X.head))}return{text:x,ranges:M}}function Jf(l,x,M,_){l.setAttribute("autocorrect",M?"on":"off"),l.setAttribute("autocapitalize",_?"on":"off"),l.setAttribute("spellcheck",!!x)}function Oo(){var l=ge("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),x=ge("div",[l],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return v?l.style.width="1000px":l.setAttribute("wrap","off"),N&&(l.style.border="1px solid black"),x}function xs(l){var x=l.optionHandlers,M=l.helpers={};l.prototype={constructor:l,focus:function(){Ne(this).focus(),this.display.input.focus()},setOption:function(_,F){var X=this.options,ie=X[_];X[_]==F&&_!="mode"||(X[_]=F,x.hasOwnProperty(_)&&sa(this,x[_])(this,F,ie),Cn(this,"optionChange",this,_))},getOption:function(_){return this.options[_]},getDoc:function(){return this.doc},addKeyMap:function(_,F){this.state.keyMaps[F?"push":"unshift"]($u(_))},removeKeyMap:function(_){for(var F=this.state.keyMaps,X=0;X<F.length;++X)if(F[X]==_||F[X].name==_)return F.splice(X,1),!0},addOverlay:Na(function(_,F){var X=_.token?_:l.getMode(this.options,_);if(X.startState)throw new Error("Overlays may not be stateful.");qt(this.state.overlays,{mode:X,modeSpec:_,opaque:F&&F.opaque,priority:F&&F.priority||0},function(ie){return ie.priority}),this.state.modeGen++,dn(this)}),removeOverlay:Na(function(_){for(var F=this.state.overlays,X=0;X<F.length;++X){var ie=F[X].modeSpec;if(ie==_||typeof _=="string"&&ie.name==_){F.splice(X,1),this.state.modeGen++,dn(this);return}}}),indentLine:Na(function(_,F,X){typeof F!="string"&&typeof F!="number"&&(F==null?F=this.options.smartIndent?"smart":"prev":F=F?"add":"subtract"),Or(this.doc,_)&&Jc(this,_,F,X)}),indentSelection:Na(function(_){for(var F=this.doc.sel.ranges,X=-1,ie=0;ie<F.length;ie++){var fe=F[ie];if(fe.empty())fe.head.line>X&&(Jc(this,fe.head.line,_,!0),X=fe.head.line,ie==this.doc.sel.primIndex&&po(this));else{var xe=fe.from(),De=fe.to(),tt=Math.max(X,xe.line);X=Math.min(this.lastLine(),De.line-(De.ch?0:1))+1;for(var lt=tt;lt<X;++lt)Jc(this,lt,_);var Ht=this.doc.sel.ranges;xe.ch==0&&F.length==Ht.length&&Ht[ie].from().ch>0&&z(this.doc,ie,new li(xe,Ht[ie].to()),At)}}}),getTokenAt:function(_,F){return xn(this,_,F)},getLineTokens:function(_,F){return xn(this,cn(_),F,!0)},getTokenTypeAt:function(_){_=Zn(this.doc,_);var F=ki(this,mn(this.doc,_.line)),X=0,ie=(F.length-1)/2,fe=_.ch,xe;if(fe==0)xe=F[2];else for(;;){var De=X+ie>>1;if((De?F[De*2-1]:0)>=fe)ie=De;else if(F[De*2+1]<fe)X=De+1;else{xe=F[De*2+2];break}}var tt=xe?xe.indexOf("overlay "):-1;return tt<0?xe:tt==0?null:xe.slice(0,tt-1)},getModeAt:function(_){var F=this.doc.mode;return F.innerMode?l.innerMode(F,this.getTokenAt(_).state).mode:F},getHelper:function(_,F){return this.getHelpers(_,F)[0]},getHelpers:function(_,F){var X=[];if(!M.hasOwnProperty(F))return X;var ie=M[F],fe=this.getModeAt(_);if(typeof fe[F]=="string")ie[fe[F]]&&X.push(ie[fe[F]]);else if(fe[F])for(var xe=0;xe<fe[F].length;xe++){var De=ie[fe[F][xe]];De&&X.push(De)}else fe.helperType&&ie[fe.helperType]?X.push(ie[fe.helperType]):ie[fe.name]&&X.push(ie[fe.name]);for(var tt=0;tt<ie._global.length;tt++){var lt=ie._global[tt];lt.pred(fe,this)&&_t(X,lt.val)==-1&&X.push(lt.val)}return X},getStateAfter:function(_,F){var X=this.doc;return _=pr(X,_??X.first+X.size-1),ma(this,_+1,F).state},cursorCoords:function(_,F){var X,ie=this.doc.sel.primary();return _==null?X=ie.head:typeof _=="object"?X=Zn(this.doc,_):X=_?ie.from():ie.to(),Be(this,X,F||"page")},charCoords:function(_,F){return Oe(this,Zn(this.doc,_),F||"page")},coordsChar:function(_,F){return _=Te(this,_,F||"page"),ot(this,_.left,_.top)},lineAtHeight:function(_,F){return _=Te(this,{top:_,left:0},F||"page").top,fr(this.doc,_+this.display.viewOffset)},heightAtLine:function(_,F,X){var ie=!1,fe;if(typeof _=="number"){var xe=this.doc.first+this.doc.size-1;_<this.doc.first?_=this.doc.first:_>xe&&(_=xe,ie=!0),fe=mn(this.doc,_)}else fe=_;return he(this,fe,{top:0,left:0},F||"page",X||ie).top+(ie?this.doc.height-Pa(fe):0)},defaultTextHeight:function(){return ke(this.display)},defaultCharWidth:function(){return ze(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(_,F,X,ie,fe){var xe=this.display;_=Be(this,Zn(this.doc,_));var De=_.bottom,tt=_.left;if(F.style.position="absolute",F.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(F),xe.sizer.appendChild(F),ie=="over")De=_.top;else if(ie=="above"||ie=="near"){var lt=Math.max(xe.wrapper.clientHeight,this.doc.height),Ht=Math.max(xe.sizer.clientWidth,xe.lineSpace.clientWidth);(ie=="above"||_.bottom+F.offsetHeight>lt)&&_.top>F.offsetHeight?De=_.top-F.offsetHeight:_.bottom+F.offsetHeight<=lt&&(De=_.bottom),tt+F.offsetWidth>Ht&&(tt=Ht-F.offsetWidth)}F.style.top=De+"px",F.style.left=F.style.right="",fe=="right"?(tt=xe.sizer.clientWidth-F.offsetWidth,F.style.right="0px"):(fe=="left"?tt=0:fe=="middle"&&(tt=(xe.sizer.clientWidth-F.offsetWidth)/2),F.style.left=tt+"px"),X&&ds(this,{left:tt,top:De,right:tt+F.offsetWidth,bottom:De+F.offsetHeight})},triggerOnKeyDown:Na(d0),triggerOnKeyPress:Na(vf),triggerOnKeyUp:uu,triggerOnMouseDown:Na(Vf),execCommand:function(_){if(ec.hasOwnProperty(_))return ec[_].call(null,this)},triggerElectric:Na(function(_){Qf(this,_)}),findPosH:function(_,F,X,ie){var fe=1;F<0&&(fe=-1,F=-F);for(var xe=Zn(this.doc,_),De=0;De<F&&(xe=kc(this.doc,xe,fe,X,ie),!xe.hitSide);++De);return xe},moveH:Na(function(_,F){var X=this;this.extendSelectionsBy(function(ie){return X.display.shift||X.doc.extend||ie.empty()?kc(X.doc,ie.head,_,F,X.options.rtlMoveVisually):_<0?ie.from():ie.to()},Kt)}),deleteH:Na(function(_,F){var X=this.doc.sel,ie=this.doc;X.somethingSelected()?ie.replaceSelection("",null,"+delete"):Cl(this,function(fe){var xe=kc(ie,fe.head,_,F,!1);return _<0?{from:xe,to:fe.head}:{from:fe.head,to:xe}})}),findPosV:function(_,F,X,ie){var fe=1,xe=ie;F<0&&(fe=-1,F=-F);for(var De=Zn(this.doc,_),tt=0;tt<F;++tt){var lt=Be(this,De,"div");if(xe==null?xe=lt.left:lt.left=xe,De=$c(this,lt,fe,X),De.hitSide)break}return De},moveV:Na(function(_,F){var X=this,ie=this.doc,fe=[],xe=!this.display.shift&&!ie.extend&&ie.sel.somethingSelected();if(ie.extendSelectionsBy(function(tt){if(xe)return _<0?tt.from():tt.to();var lt=Be(X,tt.head,"div");tt.goalColumn!=null&&(lt.left=tt.goalColumn),fe.push(lt.left);var Ht=$c(X,lt,_,F);return F=="page"&&tt==ie.sel.primary()&&Ua(X,Oe(X,Ht,"div").top-lt.top),Ht},Kt),fe.length)for(var De=0;De<ie.sel.ranges.length;De++)ie.sel.ranges[De].goalColumn=fe[De]}),findWordAt:function(_){var F=this.doc,X=mn(F,_.line).text,ie=_.ch,fe=_.ch;if(X){var xe=this.getHelper(_,"wordChars");(_.sticky=="before"||fe==X.length)&&ie?--ie:++fe;for(var De=X.charAt(ie),tt=be(De,xe)?function(lt){return be(lt,xe)}:/\s/.test(De)?function(lt){return/\s/.test(lt)}:function(lt){return!/\s/.test(lt)&&!be(lt)};ie>0&&tt(X.charAt(ie-1));)--ie;for(;fe<X.length&&tt(X.charAt(fe));)++fe}return new li(cn(_.line,ie),cn(_.line,fe))},toggleOverwrite:function(_){_!=null&&_==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ce(this.display.cursorDiv,"CodeMirror-overwrite"):Ze(this.display.cursorDiv,"CodeMirror-overwrite"),Cn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Me(me(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Na(function(_,F){Ao(this,_,F)}),getScrollInfo:function(){var _=this.display.scroller;return{left:_.scrollLeft,top:_.scrollTop,height:_.scrollHeight-Qo(this)-this.display.barHeight,width:_.scrollWidth-Qo(this)-this.display.barWidth,clientHeight:za(this),clientWidth:Ho(this)}},scrollIntoView:Na(function(_,F){_==null?(_={from:this.doc.sel.primary().head,to:null},F==null&&(F=this.options.cursorScrollMargin)):typeof _=="number"?_={from:cn(_,0),to:null}:_.from==null&&(_={from:_,to:null}),_.to||(_.to=_.from),_.margin=F||0,_.from.line!=null?qa(this,_):gs(this,_.from,_.to,_.margin)}),setSize:Na(function(_,F){var X=this,ie=function(xe){return typeof xe=="number"||/^\d+$/.test(String(xe))?xe+"px":xe};_!=null&&(this.display.wrapper.style.width=ie(_)),F!=null&&(this.display.wrapper.style.height=ie(F)),this.options.lineWrapping&&T(this);var fe=this.display.viewFrom;this.doc.iter(fe,this.display.viewTo,function(xe){if(xe.widgets){for(var De=0;De<xe.widgets.length;De++)if(xe.widgets[De].noHScroll){Nn(X,fe,"widget");break}}++fe}),this.curOp.forceUpdate=!0,Cn(this,"refresh",this)}),operation:function(_){return Ja(this,_)},startOperation:function(){return Ra(this)},endOperation:function(){return vl(this)},refresh:Na(function(){var _=this.display.cachedTextHeight;dn(this),this.curOp.forceUpdate=!0,B(this),Ao(this,this.doc.scrollLeft,this.doc.scrollTop),Uo(this.display),(_==null||Math.abs(_-ke(this.display))>.5||this.options.lineWrapping)&&Rt(this),Cn(this,"refresh",this)}),swapDoc:Na(function(_){var F=this.doc;return F.cm=null,this.state.selectingText&&this.state.selectingText(),Wc(this,_),B(this),this.display.input.reset(),Ao(this,_.scrollLeft,_.scrollTop),this.curOp.forceScroll=!0,oi(this,"swapDoc",this,F),F}),phrase:function(_){var F=this.options.phrases;return F&&Object.prototype.hasOwnProperty.call(F,_)?F[_]:_},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},er(l),l.registerHelper=function(_,F,X){M.hasOwnProperty(_)||(M[_]=l[_]={_global:[]}),M[_][F]=X},l.registerGlobalHelper=function(_,F,X,ie){l.registerHelper(_,F,ie),M[_]._global.push({pred:X,val:ie})}}function kc(l,x,M,_,F){var X=x,ie=M,fe=mn(l,x.line),xe=F&&l.direction=="rtl"?-M:M;function De(){var zn=x.line+xe;return zn<l.first||zn>=l.first+l.size?!1:(x=new cn(zn,x.ch,x.sticky),fe=mn(l,zn))}function tt(zn){var wn;if(_=="codepoint"){var Kn=fe.text.charCodeAt(x.ch+(M>0?0:-1));if(isNaN(Kn))wn=null;else{var Cr=M>0?Kn>=55296&&Kn<56320:Kn>=56320&&Kn<57343;wn=new cn(x.line,Math.max(0,Math.min(fe.text.length,x.ch+M*(Cr?2:1))),-M)}}else F?wn=Zc(l.cm,fe,x,M):wn=Gf(fe,x,M);if(wn==null)if(!zn&&De())x=Ou(F,l.cm,fe,x.line,xe);else return!1;else x=wn;return!0}if(_=="char"||_=="codepoint")tt();else if(_=="column")tt(!0);else if(_=="word"||_=="group")for(var lt=null,Ht=_=="group",Mt=l.cm&&l.cm.getHelper(x,"wordChars"),an=!0;!(M<0&&!tt(!an));an=!1){var gn=fe.text.charAt(x.ch)||`
`,Tn=be(gn,Mt)?"w":Ht&&gn==`
`?"n":!Ht||/\s/.test(gn)?null:"p";if(Ht&&!an&&!Tn&&(Tn="s"),lt&&lt!=Tn){M<0&&(M=1,tt(),x.sticky="after");break}if(Tn&&(lt=Tn),M>0&&!tt(!an))break}var Fn=Qt(l,x,X,ie,!0);return qi(X,Fn)&&(Fn.hitSide=!0),Fn}function $c(l,x,M,_){var F=l.doc,X=x.left,ie;if(_=="page"){var fe=Math.min(l.display.wrapper.clientHeight,Ne(l).innerHeight||F(l).documentElement.clientHeight),xe=Math.max(fe-.5*ke(l.display),3);ie=(M>0?x.bottom:x.top)+M*xe}else _=="line"&&(ie=M>0?x.bottom+3:x.top-3);for(var De;De=ot(l,X,ie),!!De.outside;){if(M<0?ie<=0:ie>=F.height){De.hitSide=!0;break}ie+=M*5}return De}var Ri=function(l){this.cm=l,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Wt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ri.prototype.init=function(l){var x=this,M=this,_=M.cm,F=M.div=l.lineDiv;F.contentEditable=!0,Jf(F,_.options.spellcheck,_.options.autocorrect,_.options.autocapitalize);function X(fe){for(var xe=fe.target;xe;xe=xe.parentNode){if(xe==F)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(xe.className))break}return!1}yt(F,"paste",function(fe){!X(fe)||vn(_,fe)||Af(fe,_)||c<=11&&setTimeout(sa(_,function(){return x.updateFromDOM()}),20)}),yt(F,"compositionstart",function(fe){x.composing={data:fe.data,done:!1}}),yt(F,"compositionupdate",function(fe){x.composing||(x.composing={data:fe.data,done:!1})}),yt(F,"compositionend",function(fe){x.composing&&(fe.data!=x.composing.data&&x.readFromDOMSoon(),x.composing.done=!0)}),yt(F,"touchstart",function(){return M.forceCompositionEnd()}),yt(F,"input",function(){x.composing||x.readFromDOMSoon()});function ie(fe){if(!(!X(fe)||vn(_,fe))){if(_.somethingSelected())Lu({lineWise:!1,text:_.getSelections()}),fe.type=="cut"&&_.replaceSelection("",null,"cut");else if(_.options.lineWiseCopyCut){var xe=Tf(_);Lu({lineWise:!0,text:xe.text}),fe.type=="cut"&&_.operation(function(){_.setSelections(xe.ranges,0,At),_.replaceSelection("",null,"cut")})}else return;if(fe.clipboardData){fe.clipboardData.clearData();var De=ll.text.join(`
`);if(fe.clipboardData.setData("Text",De),fe.clipboardData.getData("Text")==De){fe.preventDefault();return}}var tt=Oo(),lt=tt.firstChild;Jf(lt),_.display.lineSpace.insertBefore(tt,_.display.lineSpace.firstChild),lt.value=ll.text.join(`
`);var Ht=Me(Ae(F));ae(lt),setTimeout(function(){_.display.lineSpace.removeChild(tt),Ht.focus(),Ht==F&&M.showPrimarySelection()},50)}}yt(F,"copy",ie),yt(F,"cut",ie)},Ri.prototype.screenReaderLabelChanged=function(l){l?this.div.setAttribute("aria-label",l):this.div.removeAttribute("aria-label")},Ri.prototype.prepareSelection=function(){var l=ta(this.cm,!1);return l.focus=Me(Ae(this.div))==this.div,l},Ri.prototype.showSelection=function(l,x){!l||!this.cm.display.view.length||((l.focus||x)&&this.showPrimarySelection(),this.showMultipleSelections(l))},Ri.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ri.prototype.showPrimarySelection=function(){var l=this.getSelection(),x=this.cm,M=x.doc.sel.primary(),_=M.from(),F=M.to();if(x.display.viewTo==x.display.viewFrom||_.line>=x.display.viewTo||F.line<x.display.viewFrom){l.removeAllRanges();return}var X=Io(x,l.anchorNode,l.anchorOffset),ie=Io(x,l.focusNode,l.focusOffset);if(!(X&&!X.bad&&ie&&!ie.bad&&On(_a(X,ie),_)==0&&On(Ai(X,ie),F)==0)){var fe=x.display.view,xe=_.line>=x.display.viewFrom&&kf(x,_)||{node:fe[0].measure.map[2],offset:0},De=F.line<x.display.viewTo&&kf(x,F);if(!De){var tt=fe[fe.length-1].measure,lt=tt.maps?tt.maps[tt.maps.length-1]:tt.map;De={node:lt[lt.length-1],offset:lt[lt.length-2]-lt[lt.length-3]}}if(!xe||!De){l.removeAllRanges();return}var Ht=l.rangeCount&&l.getRangeAt(0),Mt;try{Mt=Re(xe.node,xe.offset,De.offset,De.node)}catch{}Mt&&(!o&&x.state.focused?(l.collapse(xe.node,xe.offset),Mt.collapsed||(l.removeAllRanges(),l.addRange(Mt))):(l.removeAllRanges(),l.addRange(Mt)),Ht&&l.anchorNode==null?l.addRange(Ht):o&&this.startGracePeriod()),this.rememberSelection()}},Ri.prototype.startGracePeriod=function(){var l=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){l.gracePeriod=!1,l.selectionChanged()&&l.cm.operation(function(){return l.cm.curOp.selectionChanged=!0})},20)},Ri.prototype.showMultipleSelections=function(l){ct(this.cm.display.cursorDiv,l.cursors),ct(this.cm.display.selectionDiv,l.selection)},Ri.prototype.rememberSelection=function(){var l=this.getSelection();this.lastAnchorNode=l.anchorNode,this.lastAnchorOffset=l.anchorOffset,this.lastFocusNode=l.focusNode,this.lastFocusOffset=l.focusOffset},Ri.prototype.selectionInEditor=function(){var l=this.getSelection();if(!l.rangeCount)return!1;var x=l.getRangeAt(0).commonAncestorContainer;return ft(this.div,x)},Ri.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Me(Ae(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ri.prototype.blur=function(){this.div.blur()},Ri.prototype.getField=function(){return this.div},Ri.prototype.supportsTouch=function(){return!0},Ri.prototype.receivedFocus=function(){var l=this,x=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):Ja(this.cm,function(){return x.cm.curOp.selectionChanged=!0});function M(){x.cm.state.focused&&(x.pollSelection(),x.polling.set(x.cm.options.pollInterval,M))}this.polling.set(this.cm.options.pollInterval,M)},Ri.prototype.selectionChanged=function(){var l=this.getSelection();return l.anchorNode!=this.lastAnchorNode||l.anchorOffset!=this.lastAnchorOffset||l.focusNode!=this.lastFocusNode||l.focusOffset!=this.lastFocusOffset},Ri.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var l=this.getSelection(),x=this.cm;if(U&&g&&this.cm.display.gutterSpecs.length&&fu(l.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var M=Io(x,l.anchorNode,l.anchorOffset),_=Io(x,l.focusNode,l.focusOffset);M&&_&&Ja(x,function(){de(x.doc,rl(M,_),At),(M.bad||_.bad)&&(x.curOp.selectionChanged=!0)})}}},Ri.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var l=this.cm,x=l.display,M=l.doc.sel.primary(),_=M.from(),F=M.to();if(_.ch==0&&_.line>l.firstLine()&&(_=cn(_.line-1,mn(l.doc,_.line-1).length)),F.ch==mn(l.doc,F.line).text.length&&F.line<l.lastLine()&&(F=cn(F.line+1,0)),_.line<x.viewFrom||F.line>x.viewTo-1)return!1;var X,ie,fe;_.line==x.viewFrom||(X=Zt(l,_.line))==0?(ie=Xn(x.view[0].line),fe=x.view[0].node):(ie=Xn(x.view[X].line),fe=x.view[X-1].node.nextSibling);var xe=Zt(l,F.line),De,tt;if(xe==x.view.length-1?(De=x.viewTo-1,tt=x.lineDiv.lastChild):(De=Xn(x.view[xe+1].line)-1,tt=x.view[xe+1].node.previousSibling),!fe)return!1;for(var lt=l.doc.splitLines(os(l,fe,tt,ie,De)),Ht=Zi(l.doc,cn(ie,0),cn(De,mn(l.doc,De).text.length));lt.length>1&&Ht.length>1;)if(un(lt)==un(Ht))lt.pop(),Ht.pop(),De--;else if(lt[0]==Ht[0])lt.shift(),Ht.shift(),ie++;else break;for(var Mt=0,an=0,gn=lt[0],Tn=Ht[0],Fn=Math.min(gn.length,Tn.length);Mt<Fn&&gn.charCodeAt(Mt)==Tn.charCodeAt(Mt);)++Mt;for(var zn=un(lt),wn=un(Ht),Kn=Math.min(zn.length-(lt.length==1?Mt:0),wn.length-(Ht.length==1?Mt:0));an<Kn&&zn.charCodeAt(zn.length-an-1)==wn.charCodeAt(wn.length-an-1);)++an;if(lt.length==1&&Ht.length==1&&ie==_.line)for(;Mt&&Mt>_.ch&&zn.charCodeAt(zn.length-an-1)==wn.charCodeAt(wn.length-an-1);)Mt--,an++;lt[lt.length-1]=zn.slice(0,zn.length-an).replace(/^\u200b+/,""),lt[0]=lt[0].slice(Mt).replace(/\u200b+$/,"");var Cr=cn(ie,Mt),dr=cn(De,Ht.length?un(Ht).length-an:0);if(lt.length>1||lt[0]||On(Cr,dr))return eo(l.doc,lt,Cr,dr,"+input"),!0},Ri.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ri.prototype.reset=function(){this.forceCompositionEnd()},Ri.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ri.prototype.readFromDOMSoon=function(){var l=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(l.readDOMTimeout=null,l.composing)if(l.composing.done)l.composing=null;else return;l.updateFromDOM()},80))},Ri.prototype.updateFromDOM=function(){var l=this;(this.cm.isReadOnly()||!this.pollContent())&&Ja(this.cm,function(){return dn(l.cm)})},Ri.prototype.setUneditable=function(l){l.contentEditable="false"},Ri.prototype.onKeyPress=function(l){l.charCode==0||this.composing||(l.preventDefault(),this.cm.isReadOnly()||sa(this.cm,Ef)(this.cm,String.fromCharCode(l.charCode==null?l.keyCode:l.charCode),0))},Ri.prototype.readOnlyChanged=function(l){this.div.contentEditable=String(l!="nocursor")},Ri.prototype.onContextMenu=function(){},Ri.prototype.resetPosition=function(){},Ri.prototype.needsContentAttribute=!0;function kf(l,x){var M=$s(l,x.line);if(!M||M.hidden)return null;var _=mn(l.doc,x.line),F=ea(M,_,x.line),X=at(_,l.doc.direction),ie="left";if(X){var fe=Et(X,x.ch);ie=fe%2?"right":"left"}var xe=w(F.map,x.ch,ie);return xe.offset=xe.collapse=="right"?xe.end:xe.start,xe}function fu(l){for(var x=l;x;x=x.parentNode)if(/CodeMirror-gutter-wrapper/.test(x.className))return!0;return!1}function ef(l,x){return x&&(l.bad=!0),l}function os(l,x,M,_,F){var X="",ie=!1,fe=l.doc.lineSeparator(),xe=!1;function De(Mt){return function(an){return an.id==Mt}}function tt(){ie&&(X+=fe,xe&&(X+=fe),ie=xe=!1)}function lt(Mt){Mt&&(tt(),X+=Mt)}function Ht(Mt){if(Mt.nodeType==1){var an=Mt.getAttribute("cm-text");if(an){lt(an);return}var gn=Mt.getAttribute("cm-marker"),Tn;if(gn){var Fn=l.findMarks(cn(_,0),cn(F+1,0),De(+gn));Fn.length&&(Tn=Fn[0].find(0))&&lt(Zi(l.doc,Tn.from,Tn.to).join(fe));return}if(Mt.getAttribute("contenteditable")=="false")return;var zn=/^(pre|div|p|li|table|br)$/i.test(Mt.nodeName);if(!/^br$/i.test(Mt.nodeName)&&Mt.textContent.length==0)return;zn&&tt();for(var wn=0;wn<Mt.childNodes.length;wn++)Ht(Mt.childNodes[wn]);/^(pre|p)$/i.test(Mt.nodeName)&&(xe=!0),zn&&(ie=!0)}else Mt.nodeType==3&&lt(Mt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ht(x),x!=M;)x=x.nextSibling,xe=!1;return X}function Io(l,x,M){var _;if(x==l.display.lineDiv){if(_=l.display.lineDiv.childNodes[M],!_)return ef(l.clipPos(cn(l.display.viewTo-1)),!0);x=null,M=0}else for(_=x;;_=_.parentNode){if(!_||_==l.display.lineDiv)return null;if(_.parentNode&&_.parentNode==l.display.lineDiv)break}for(var F=0;F<l.display.view.length;F++){var X=l.display.view[F];if(X.node==_)return X0(X,x,M)}}function X0(l,x,M){var _=l.text.firstChild,F=!1;if(!x||!ft(_,x))return ef(cn(Xn(l.line),0),!0);if(x==_&&(F=!0,x=_.childNodes[M],M=0,!x)){var X=l.rest?un(l.rest):l.line;return ef(cn(Xn(X),X.text.length),F)}var ie=x.nodeType==3?x:null,fe=x;for(!ie&&x.childNodes.length==1&&x.firstChild.nodeType==3&&(ie=x.firstChild,M&&(M=ie.nodeValue.length));fe.parentNode!=_;)fe=fe.parentNode;var xe=l.measure,De=xe.maps;function tt(Tn,Fn,zn){for(var wn=-1;wn<(De?De.length:0);wn++)for(var Kn=wn<0?xe.map:De[wn],Cr=0;Cr<Kn.length;Cr+=3){var dr=Kn[Cr+2];if(dr==Tn||dr==Fn){var ii=Xn(wn<0?l.line:l.rest[wn]),Gi=Kn[Cr]+zn;return(zn<0||dr!=Tn)&&(Gi=Kn[Cr+(zn?1:0)]),cn(ii,Gi)}}}var lt=tt(ie,fe,M);if(lt)return ef(lt,F);for(var Ht=fe.nextSibling,Mt=ie?ie.nodeValue.length-M:0;Ht;Ht=Ht.nextSibling){if(lt=tt(Ht,Ht.firstChild,0),lt)return ef(cn(lt.line,lt.ch-Mt),F);Mt+=Ht.textContent.length}for(var an=fe.previousSibling,gn=M;an;an=an.previousSibling){if(lt=tt(an,an.firstChild,-1),lt)return ef(cn(lt.line,lt.ch+gn),F);gn+=an.textContent.length}}var ga=function(l){this.cm=l,this.prevInput="",this.pollingFast=!1,this.polling=new Wt,this.hasSelection=!1,this.composing=null,this.resetting=!1};ga.prototype.init=function(l){var x=this,M=this,_=this.cm;this.createField(l);var F=this.textarea;l.wrapper.insertBefore(this.wrapper,l.wrapper.firstChild),N&&(F.style.width="0px"),yt(F,"input",function(){a&&c>=9&&x.hasSelection&&(x.hasSelection=null),M.poll()}),yt(F,"paste",function(ie){vn(_,ie)||Af(ie,_)||(_.state.pasteIncoming=+new Date,M.fastPoll())});function X(ie){if(!vn(_,ie)){if(_.somethingSelected())Lu({lineWise:!1,text:_.getSelections()});else if(_.options.lineWiseCopyCut){var fe=Tf(_);Lu({lineWise:!0,text:fe.text}),ie.type=="cut"?_.setSelections(fe.ranges,null,At):(M.prevInput="",F.value=fe.text.join(`
`),ae(F))}else return;ie.type=="cut"&&(_.state.cutIncoming=+new Date)}}yt(F,"cut",X),yt(F,"copy",X),yt(l.scroller,"paste",function(ie){if(!(So(l,ie)||vn(_,ie))){if(!F.dispatchEvent){_.state.pasteIncoming=+new Date,M.focus();return}var fe=new Event("paste");fe.clipboardData=ie.clipboardData,F.dispatchEvent(fe)}}),yt(l.lineSpace,"selectstart",function(ie){So(l,ie)||Hn(ie)}),yt(F,"compositionstart",function(){var ie=_.getCursor("from");M.composing&&M.composing.range.clear(),M.composing={start:ie,range:_.markText(ie,_.getCursor("to"),{className:"CodeMirror-composing"})}}),yt(F,"compositionend",function(){M.composing&&(M.poll(),M.composing.range.clear(),M.composing=null)})},ga.prototype.createField=function(l){this.wrapper=Oo(),this.textarea=this.wrapper.firstChild;var x=this.cm.options;Jf(this.textarea,x.spellcheck,x.autocorrect,x.autocapitalize)},ga.prototype.screenReaderLabelChanged=function(l){l?this.textarea.setAttribute("aria-label",l):this.textarea.removeAttribute("aria-label")},ga.prototype.prepareSelection=function(){var l=this.cm,x=l.display,M=l.doc,_=ta(l);if(l.options.moveInputWithCursor){var F=Be(l,M.sel.primary().head,"div"),X=x.wrapper.getBoundingClientRect(),ie=x.lineDiv.getBoundingClientRect();_.teTop=Math.max(0,Math.min(x.wrapper.clientHeight-10,F.top+ie.top-X.top)),_.teLeft=Math.max(0,Math.min(x.wrapper.clientWidth-10,F.left+ie.left-X.left))}return _},ga.prototype.showSelection=function(l){var x=this.cm,M=x.display;ct(M.cursorDiv,l.cursors),ct(M.selectionDiv,l.selection),l.teTop!=null&&(this.wrapper.style.top=l.teTop+"px",this.wrapper.style.left=l.teLeft+"px")},ga.prototype.reset=function(l){if(!(this.contextMenuPending||this.composing&&l)){var x=this.cm;if(this.resetting=!0,x.somethingSelected()){this.prevInput="";var M=x.getSelection();this.textarea.value=M,x.state.focused&&ae(this.textarea),a&&c>=9&&(this.hasSelection=M)}else l||(this.prevInput=this.textarea.value="",a&&c>=9&&(this.hasSelection=null));this.resetting=!1}},ga.prototype.getField=function(){return this.textarea},ga.prototype.supportsTouch=function(){return!1},ga.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!W||Me(Ae(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},ga.prototype.blur=function(){this.textarea.blur()},ga.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ga.prototype.receivedFocus=function(){this.slowPoll()},ga.prototype.slowPoll=function(){var l=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){l.poll(),l.cm.state.focused&&l.slowPoll()})},ga.prototype.fastPoll=function(){var l=!1,x=this;x.pollingFast=!0;function M(){var _=x.poll();!_&&!l?(l=!0,x.polling.set(60,M)):(x.pollingFast=!1,x.slowPoll())}x.polling.set(20,M)},ga.prototype.poll=function(){var l=this,x=this.cm,M=this.textarea,_=this.prevInput;if(this.contextMenuPending||this.resetting||!x.state.focused||Pr(M)&&!_&&!this.composing||x.isReadOnly()||x.options.disableInput||x.state.keySeq)return!1;var F=M.value;if(F==_&&!x.somethingSelected())return!1;if(a&&c>=9&&this.hasSelection===F||q&&/[\uf700-\uf7ff]/.test(F))return x.display.input.reset(),!1;if(x.doc.sel==x.display.selForContextMenu){var X=F.charCodeAt(0);if(X==8203&&!_&&(_=""),X==8666)return this.reset(),this.cm.execCommand("undo")}for(var ie=0,fe=Math.min(_.length,F.length);ie<fe&&_.charCodeAt(ie)==F.charCodeAt(ie);)++ie;return Ja(x,function(){Ef(x,F.slice(ie),_.length-ie,null,l.composing?"*compose":null),F.length>1e3||F.indexOf(`
`)>-1?M.value=l.prevInput="":l.prevInput=F,l.composing&&(l.composing.range.clear(),l.composing.range=x.markText(l.composing.start,x.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ga.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ga.prototype.onKeyPress=function(){a&&c>=9&&(this.hasSelection=null),this.fastPoll()},ga.prototype.onContextMenu=function(l){var x=this,M=x.cm,_=M.display,F=x.textarea;x.contextMenuPending&&x.contextMenuPending();var X=kt(M,l),ie=_.scroller.scrollTop;if(!X||C)return;var fe=M.options.resetSelectionOnContextMenu;fe&&M.doc.sel.contains(X)==-1&&sa(M,de)(M.doc,rl(X),At);var xe=F.style.cssText,De=x.wrapper.style.cssText,tt=x.wrapper.offsetParent.getBoundingClientRect();x.wrapper.style.cssText="position: static",F.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(l.clientY-tt.top-5)+"px; left: "+(l.clientX-tt.left-5)+`px;
      z-index: 1000; background: `+(a?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var lt;v&&(lt=F.ownerDocument.defaultView.scrollY),_.input.focus(),v&&F.ownerDocument.defaultView.scrollTo(null,lt),_.input.reset(),M.somethingSelected()||(F.value=x.prevInput=" "),x.contextMenuPending=Mt,_.selForContextMenu=M.doc.sel,clearTimeout(_.detectingSelectAll);function Ht(){if(F.selectionStart!=null){var gn=M.somethingSelected(),Tn=""+(gn?F.value:"");F.value="",F.value=Tn,x.prevInput=gn?"":"",F.selectionStart=1,F.selectionEnd=Tn.length,_.selForContextMenu=M.doc.sel}}function Mt(){if(x.contextMenuPending==Mt&&(x.contextMenuPending=!1,x.wrapper.style.cssText=De,F.style.cssText=xe,a&&c<9&&_.scrollbars.setScrollTop(_.scroller.scrollTop=ie),F.selectionStart!=null)){(!a||a&&c<9)&&Ht();var gn=0,Tn=function(){_.selForContextMenu==M.doc.sel&&F.selectionStart==0&&F.selectionEnd>0&&x.prevInput==""?sa(M,Dn)(M):gn++<10?_.detectingSelectAll=setTimeout(Tn,500):(_.selForContextMenu=null,_.input.reset())};_.detectingSelectAll=setTimeout(Tn,200)}}if(a&&c>=9&&Ht(),Fe){mr(l);var an=function(){pn(window,"mouseup",an),setTimeout(Mt,20)};yt(window,"mouseup",an)}else setTimeout(Mt,50)},ga.prototype.readOnlyChanged=function(l){l||this.reset(),this.textarea.disabled=l=="nocursor",this.textarea.readOnly=!!l},ga.prototype.setUneditable=function(){},ga.prototype.needsContentAttribute=!1;function $f(l,x){if(x=x?xt(x):{},x.value=l.value,!x.tabindex&&l.tabIndex&&(x.tabindex=l.tabIndex),!x.placeholder&&l.placeholder&&(x.placeholder=l.placeholder),x.autofocus==null){var M=Me(Ae(l));x.autofocus=M==l||l.getAttribute("autofocus")!=null&&M==document.body}function _(){l.value=fe.getValue()}var F;if(l.form&&(yt(l.form,"submit",_),!x.leaveSubmitMethodAlone)){var X=l.form;F=X.submit;try{var ie=X.submit=function(){_(),X.submit=F,X.submit(),X.submit=ie}}catch{}}x.finishInit=function(xe){xe.save=_,xe.getTextArea=function(){return l},xe.toTextArea=function(){xe.toTextArea=isNaN,_(),l.parentNode.removeChild(xe.getWrapperElement()),l.style.display="",l.form&&(pn(l.form,"submit",_),!x.leaveSubmitMethodAlone&&typeof l.form.submit=="function"&&(l.form.submit=F))}},l.style.display="none";var fe=Ii(function(xe){return l.parentNode.insertBefore(xe,l.nextSibling)},x);return fe}function Dc(l){l.off=pn,l.on=yt,l.wheelEventPixels=Zu,l.Doc=Mo,l.splitLines=vr,l.countColumn=et,l.findColumn=zt,l.isWordChar=Pe,l.Pass=st,l.signal=Cn,l.Line=Nr,l.changeEnd=ua,l.scrollbarModel=ya,l.Pos=cn,l.cmpPos=On,l.modes=xi,l.mimeModes=Tr,l.resolveMode=oa,l.getMode=Hr,l.modeExtensions=or,l.extendMode=co,l.copyState=bi,l.startState=hn,l.innerMode=Ni,l.commands=ec,l.keyMap=Mu,l.keyName=Kc,l.isModifierKey=Ec,l.lookupKey=Bl,l.normalizeKeyMap=u0,l.StringStream=wi,l.SharedTextMarker=Ll,l.TextMarker=vo,l.LineWidget=Gr,l.e_preventDefault=Hn,l.e_stopPropagation=xr,l.e_stop=mr,l.addClass=ce,l.contains=ft,l.rmClass=Ze,l.keyNames=Du}Th(Ii),xs(Ii);var kh="iter insert remove copy getEditor constructor".split(" ");for(var Df in Mo.prototype)Mo.prototype.hasOwnProperty(Df)&&_t(kh,Df)<0&&(Ii.prototype[Df]=(function(l){return function(){return l.apply(this.doc,arguments)}})(Mo.prototype[Df]));return er(Mo),Ii.inputStyles={textarea:ga,contenteditable:Ri},Ii.defineMode=function(l){!Ii.defaults.mode&&l!="null"&&(Ii.defaults.mode=l),zr.apply(this,arguments)},Ii.defineMIME=gr,Ii.defineMode("null",function(){return{token:function(l){return l.skipToEnd()}}}),Ii.defineMIME("text/plain","null"),Ii.defineExtension=function(l,x){Ii.prototype[l]=x},Ii.defineDocExtension=function(l,x){Mo.prototype[l]=x},Ii.fromTextArea=$f,Dc(Ii),Ii.version="5.65.20",Ii}))})(xp)),xp.exports}var Ww={exports:{}},Gw;function uP(){return Gw||(Gw=1,(function(e,t){(function(n){n(yc())})(function(n){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,o=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,u=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(d){if(d.getOption("disableInput"))return n.Pass;for(var a=d.listSelections(),c=[],v=0;v<a.length;v++){var f=a[v].head,g=d.getStateAfter(f.line),m=n.innerMode(d.getMode(),g);if(m.mode.name!=="markdown"&&m.mode.helperType!=="markdown"){d.execCommand("newlineAndIndent");return}else g=m.state;var C=g.list!==!1,k=g.quote!==0,S=d.getLine(f.line),O=r.exec(S),N=/^\s*$/.test(S.slice(0,f.ch));if(!a[v].empty()||!C&&!k||!O||N){d.execCommand("newlineAndIndent");return}if(o.test(S)){var U=k&&/>\s*$/.test(S),W=!/>\s*$/.test(S);(U||W)&&d.replaceRange("",{line:f.line,ch:0},{line:f.line,ch:f.ch+1}),c[v]=`
`}else{var q=O[1],J=O[5],ne=!(u.test(O[2])||O[2].indexOf(">")>=0),ve=ne?parseInt(O[3],10)+1+O[4]:O[2].replace("x"," ");c[v]=`
`+q+ve+J,ne&&y(d,f)}}d.replaceSelections(c)};function y(d,a){var c=a.line,v=0,f=0,g=r.exec(d.getLine(c)),m=g[1];do{v+=1;var C=c+v,k=d.getLine(C),S=r.exec(k);if(S){var O=S[1],N=parseInt(g[3],10)+v-f,U=parseInt(S[3],10),W=U;if(m===O&&!isNaN(U))N===U&&(W=U+1),N>U&&(W=N+1),d.replaceRange(k.replace(r,O+W+S[4]+S[5]),{line:C,ch:0},{line:C,ch:k.length});else{if(m.length>O.length||m.length<O.length&&v===1)return;f+=1}}}while(S)}})})()),Ww.exports}var Yw={},Xw;function cP(){if(Xw)return Yw;Xw=1;var e=yc();return e.commands.tabAndIndentMarkdownList=function(t){var n=t.listSelections(),r=n[0].head,o=t.getStateAfter(r.line),u=o.list!==!1;if(u){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var y=Array(t.options.tabSize+1).join(" ");t.replaceSelection(y)}},e.commands.shiftTabAndUnindentMarkdownList=function(t){var n=t.listSelections(),r=n[0].head,o=t.getStateAfter(r.line),u=o.list!==!1;if(u){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var y=Array(t.options.tabSize+1).join(" ");t.replaceSelection(y)}},Yw}var Vw={exports:{}},Kw;function fP(){return Kw||(Kw=1,(function(e,t){(function(n){n(yc())})(function(n){n.defineOption("fullScreen",!1,function(u,y,d){d==n.Init&&(d=!1),!d!=!y&&(y?r(u):o(u))});function r(u){var y=u.getWrapperElement();u.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:y.style.width,height:y.style.height},y.style.width="",y.style.height="auto",y.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",u.refresh()}function o(u){var y=u.getWrapperElement();y.className=y.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var d=u.state.fullScreenRestore;y.style.width=d.width,y.style.height=d.height,window.scrollTo(d.scrollLeft,d.scrollTop),u.refresh()}})})()),Vw.exports}var Zw={exports:{}},qw={exports:{}},Qw;function S7(){return Qw||(Qw=1,(function(e,t){(function(n){n(yc())})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(u,y){var d=u.indentUnit,a={},c=y.htmlMode?r:o;for(var v in c)a[v]=c[v];for(var v in y)a[v]=y[v];var f,g;function m(ge,ye){function Re(ce){return ye.tokenize=ce,ce(ge,ye)}var ft=ge.next();if(ft=="<")return ge.eat("!")?ge.eat("[")?ge.match("CDATA[")?Re(S("atom","]]>")):null:ge.match("--")?Re(S("comment","-->")):ge.match("DOCTYPE",!0,!0)?(ge.eatWhile(/[\w\._\-]/),Re(O(1))):null:ge.eat("?")?(ge.eatWhile(/[\w\._\-]/),ye.tokenize=S("meta","?>"),"meta"):(f=ge.eat("/")?"closeTag":"openTag",ye.tokenize=C,"tag bracket");if(ft=="&"){var Me;return ge.eat("#")?ge.eat("x")?Me=ge.eatWhile(/[a-fA-F\d]/)&&ge.eat(";"):Me=ge.eatWhile(/[\d]/)&&ge.eat(";"):Me=ge.eatWhile(/[\w\.\-:]/)&&ge.eat(";"),Me?"atom":"error"}else return ge.eatWhile(/[^&<]/),null}m.isInText=!0;function C(ge,ye){var Re=ge.next();if(Re==">"||Re=="/"&&ge.eat(">"))return ye.tokenize=m,f=Re==">"?"endTag":"selfcloseTag","tag bracket";if(Re=="=")return f="equals",null;if(Re=="<"){ye.tokenize=m,ye.state=J,ye.tagName=ye.tagStart=null;var ft=ye.tokenize(ge,ye);return ft?ft+" tag error":"tag error"}else return/[\'\"]/.test(Re)?(ye.tokenize=k(Re),ye.stringStartCol=ge.column(),ye.tokenize(ge,ye)):(ge.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function k(ge){var ye=function(Re,ft){for(;!Re.eol();)if(Re.next()==ge){ft.tokenize=C;break}return"string"};return ye.isInAttribute=!0,ye}function S(ge,ye){return function(Re,ft){for(;!Re.eol();){if(Re.match(ye)){ft.tokenize=m;break}Re.next()}return ge}}function O(ge){return function(ye,Re){for(var ft;(ft=ye.next())!=null;){if(ft=="<")return Re.tokenize=O(ge+1),Re.tokenize(ye,Re);if(ft==">")if(ge==1){Re.tokenize=m;break}else return Re.tokenize=O(ge-1),Re.tokenize(ye,Re)}return"meta"}}function N(ge){return ge&&ge.toLowerCase()}function U(ge,ye,Re){this.prev=ge.context,this.tagName=ye||"",this.indent=ge.indented,this.startOfLine=Re,(a.doNotIndent.hasOwnProperty(ye)||ge.context&&ge.context.noIndent)&&(this.noIndent=!0)}function W(ge){ge.context&&(ge.context=ge.context.prev)}function q(ge,ye){for(var Re;;){if(!ge.context||(Re=ge.context.tagName,!a.contextGrabbers.hasOwnProperty(N(Re))||!a.contextGrabbers[N(Re)].hasOwnProperty(N(ye))))return;W(ge)}}function J(ge,ye,Re){return ge=="openTag"?(Re.tagStart=ye.column(),ne):ge=="closeTag"?ve:J}function ne(ge,ye,Re){return ge=="word"?(Re.tagName=ye.current(),g="tag",Ue):a.allowMissingTagName&&ge=="endTag"?(g="tag bracket",Ue(ge,ye,Re)):(g="error",ne)}function ve(ge,ye,Re){if(ge=="word"){var ft=ye.current();return Re.context&&Re.context.tagName!=ft&&a.implicitlyClosed.hasOwnProperty(N(Re.context.tagName))&&W(Re),Re.context&&Re.context.tagName==ft||a.matchClosing===!1?(g="tag",Se):(g="tag error",Fe)}else return a.allowMissingTagName&&ge=="endTag"?(g="tag bracket",Se(ge,ye,Re)):(g="error",Fe)}function Se(ge,ye,Re){return ge!="endTag"?(g="error",Se):(W(Re),J)}function Fe(ge,ye,Re){return g="error",Se(ge,ye,Re)}function Ue(ge,ye,Re){if(ge=="word")return g="attribute",Ze;if(ge=="endTag"||ge=="selfcloseTag"){var ft=Re.tagName,Me=Re.tagStart;return Re.tagName=Re.tagStart=null,ge=="selfcloseTag"||a.autoSelfClosers.hasOwnProperty(N(ft))?q(Re,ft):(q(Re,ft),Re.context=new U(Re,ft,Me==Re.indented)),J}return g="error",Ue}function Ze(ge,ye,Re){return ge=="equals"?mt:(a.allowMissing||(g="error"),Ue(ge,ye,Re))}function mt(ge,ye,Re){return ge=="string"?ct:ge=="word"&&a.allowUnquoted?(g="string",Ue):(g="error",Ue(ge,ye,Re))}function ct(ge,ye,Re){return ge=="string"?ct:Ue(ge,ye,Re)}return{startState:function(ge){var ye={tokenize:m,state:J,indented:ge||0,tagName:null,tagStart:null,context:null};return ge!=null&&(ye.baseIndent=ge),ye},token:function(ge,ye){if(!ye.tagName&&ge.sol()&&(ye.indented=ge.indentation()),ge.eatSpace())return null;f=null;var Re=ye.tokenize(ge,ye);return(Re||f)&&Re!="comment"&&(g=null,ye.state=ye.state(f||Re,ge,ye),g&&(Re=g=="error"?Re+" error":g)),Re},indent:function(ge,ye,Re){var ft=ge.context;if(ge.tokenize.isInAttribute)return ge.tagStart==ge.indented?ge.stringStartCol+1:ge.indented+d;if(ft&&ft.noIndent)return n.Pass;if(ge.tokenize!=C&&ge.tokenize!=m)return Re?Re.match(/^(\s*)/)[0].length:0;if(ge.tagName)return a.multilineTagIndentPastTag!==!1?ge.tagStart+ge.tagName.length+2:ge.tagStart+d*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(ye))return 0;var Me=ye&&/^<(\/)?([\w_:\.-]*)/.exec(ye);if(Me&&Me[1])for(;ft;)if(ft.tagName==Me[2]){ft=ft.prev;break}else if(a.implicitlyClosed.hasOwnProperty(N(ft.tagName)))ft=ft.prev;else break;else if(Me)for(;ft;){var ce=a.contextGrabbers[N(ft.tagName)];if(ce&&ce.hasOwnProperty(N(Me[2])))ft=ft.prev;else break}for(;ft&&ft.prev&&!ft.startOfLine;)ft=ft.prev;return ft?ft.indent+d:ge.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(ge){ge.state==mt&&(ge.state=Ue)},xmlCurrentTag:function(ge){return ge.tagName?{name:ge.tagName,close:ge.type=="closeTag"}:null},xmlCurrentContext:function(ge){for(var ye=[],Re=ge.context;Re;Re=Re.prev)ye.push(Re.tagName);return ye.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})()),qw.exports}var Jw={exports:{}},$w;function hP(){return $w||($w=1,(function(e,t){(function(n){n(yc())})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<n.modeInfo.length;r++){var o=n.modeInfo[r];o.mimes&&(o.mime=o.mimes[0])}n.findModeByMIME=function(u){u=u.toLowerCase();for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.mime==u)return d;if(d.mimes){for(var a=0;a<d.mimes.length;a++)if(d.mimes[a]==u)return d}}if(/\+xml$/.test(u))return n.findModeByMIME("application/xml");if(/\+json$/.test(u))return n.findModeByMIME("application/json")},n.findModeByExtension=function(u){u=u.toLowerCase();for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.ext){for(var a=0;a<d.ext.length;a++)if(d.ext[a]==u)return d}}},n.findModeByFileName=function(u){for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.file&&d.file.test(u))return d}var a=u.lastIndexOf("."),c=a>-1&&u.substring(a+1,u.length);if(c)return n.findModeByExtension(c)},n.findModeByName=function(u){u=u.toLowerCase();for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.name.toLowerCase()==u)return d;if(d.alias){for(var a=0;a<d.alias.length;a++)if(d.alias[a].toLowerCase()==u)return d}}}})})()),Jw.exports}var e5;function E7(){return e5||(e5=1,(function(e,t){(function(n){n(yc(),S7(),hP())})(function(n){n.defineMode("markdown",function(r,o){var u=n.getMode(r,"text/html"),y=u.name=="null";function d(ae){if(n.findModeByName){var V=n.findModeByName(ae);V&&(ae=V.mime||V.mimes[0])}var me=n.getMode(r,ae);return me.name=="null"?null:me}o.highlightFormatting===void 0&&(o.highlightFormatting=!1),o.maxBlockquoteDepth===void 0&&(o.maxBlockquoteDepth=0),o.taskLists===void 0&&(o.taskLists=!1),o.strikethrough===void 0&&(o.strikethrough=!1),o.emoji===void 0&&(o.emoji=!1),o.fencedCodeBlockHighlighting===void 0&&(o.fencedCodeBlockHighlighting=!0),o.fencedCodeBlockDefaultMode===void 0&&(o.fencedCodeBlockDefaultMode="text/plain"),o.xml===void 0&&(o.xml=!0),o.tokenTypeOverrides===void 0&&(o.tokenTypeOverrides={});var a={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var c in a)a.hasOwnProperty(c)&&o.tokenTypeOverrides[c]&&(a[c]=o.tokenTypeOverrides[c]);var v=/^([*\-_])(?:\s*\1){2,}\s*$/,f=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,g=/^\[(x| )\](?=\s)/i,m=o.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,C=/^ {0,3}(?:\={1,}|-{2,})\s*$/,k=/^[^#!\[\]*_\\<>` "'(~:]+/,S=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,O=/^\s*\[[^\]]+?\]:.*$/,N=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,U="    ";function W(ae,V,me){return V.f=V.inline=me,me(ae,V)}function q(ae,V,me){return V.f=V.block=me,me(ae,V)}function J(ae){return!ae||!/\S/.test(ae.string)}function ne(ae){if(ae.linkTitle=!1,ae.linkHref=!1,ae.linkText=!1,ae.em=!1,ae.strong=!1,ae.strikethrough=!1,ae.quote=0,ae.indentedCode=!1,ae.f==Se){var V=y;if(!V){var me=n.innerMode(u,ae.htmlState);V=me.mode.name=="xml"&&me.state.tagStart===null&&!me.state.context&&me.state.tokenize.isInText}V&&(ae.f=mt,ae.block=ve,ae.htmlState=null)}return ae.trailingSpace=0,ae.trailingSpaceNewLine=!1,ae.prevLine=ae.thisLine,ae.thisLine={stream:null},null}function ve(ae,V){var me=ae.column()===V.indentation,Ae=J(V.prevLine.stream),Ne=V.indentedCode,ut=V.prevLine.hr,xt=V.list!==!1,et=(V.listStack[V.listStack.length-1]||0)+3;V.indentedCode=!1;var Wt=V.indentation;if(V.indentationDiff===null&&(V.indentationDiff=V.indentation,xt)){for(V.list=null;Wt<V.listStack[V.listStack.length-1];)V.listStack.pop(),V.listStack.length?V.indentation=V.listStack[V.listStack.length-1]:V.list=!1;V.list!==!1&&(V.indentationDiff=Wt-V.listStack[V.listStack.length-1])}var _t=!Ae&&!ut&&!V.prevLine.header&&(!xt||!Ne)&&!V.prevLine.fencedCodeEnd,Ft=(V.list===!1||ut||Ae)&&V.indentation<=et&&ae.match(v),st=null;if(V.indentationDiff>=4&&(Ne||V.prevLine.fencedCodeEnd||V.prevLine.header||Ae))return ae.skipToEnd(),V.indentedCode=!0,a.code;if(ae.eatSpace())return null;if(me&&V.indentation<=et&&(st=ae.match(m))&&st[1].length<=6)return V.quote=0,V.header=st[1].length,V.thisLine.header=!0,o.highlightFormatting&&(V.formatting="header"),V.f=V.inline,Ue(V);if(V.indentation<=et&&ae.eat(">"))return V.quote=me?1:V.quote+1,o.highlightFormatting&&(V.formatting="quote"),ae.eatSpace(),Ue(V);if(!Ft&&!V.setext&&me&&V.indentation<=et&&(st=ae.match(f))){var At=st[1]?"ol":"ul";return V.indentation=Wt+ae.current().length,V.list=!0,V.quote=0,V.listStack.push(V.indentation),V.em=!1,V.strong=!1,V.code=!1,V.strikethrough=!1,o.taskLists&&ae.match(g,!1)&&(V.taskList=!0),V.f=V.inline,o.highlightFormatting&&(V.formatting=["list","list-"+At]),Ue(V)}else{if(me&&V.indentation<=et&&(st=ae.match(S,!0)))return V.quote=0,V.fencedEndRE=new RegExp(st[1]+"+ *$"),V.localMode=o.fencedCodeBlockHighlighting&&d(st[2]||o.fencedCodeBlockDefaultMode),V.localMode&&(V.localState=n.startState(V.localMode)),V.f=V.block=Fe,o.highlightFormatting&&(V.formatting="code-block"),V.code=-1,Ue(V);if(V.setext||(!_t||!xt)&&!V.quote&&V.list===!1&&!V.code&&!Ft&&!O.test(ae.string)&&(st=ae.lookAhead(1))&&(st=st.match(C)))return V.setext?(V.header=V.setext,V.setext=0,ae.skipToEnd(),o.highlightFormatting&&(V.formatting="header")):(V.header=st[0].charAt(0)=="="?1:2,V.setext=V.header),V.thisLine.header=!0,V.f=V.inline,Ue(V);if(Ft)return ae.skipToEnd(),V.hr=!0,V.thisLine.hr=!0,a.hr;if(ae.peek()==="[")return W(ae,V,ft)}return W(ae,V,V.inline)}function Se(ae,V){var me=u.token(ae,V.htmlState);if(!y){var Ae=n.innerMode(u,V.htmlState);(Ae.mode.name=="xml"&&Ae.state.tagStart===null&&!Ae.state.context&&Ae.state.tokenize.isInText||V.md_inside&&ae.current().indexOf(">")>-1)&&(V.f=mt,V.block=ve,V.htmlState=null)}return me}function Fe(ae,V){var me=V.listStack[V.listStack.length-1]||0,Ae=V.indentation<me,Ne=me+3;if(V.fencedEndRE&&V.indentation<=Ne&&(Ae||ae.match(V.fencedEndRE))){o.highlightFormatting&&(V.formatting="code-block");var ut;return Ae||(ut=Ue(V)),V.localMode=V.localState=null,V.block=ve,V.f=mt,V.fencedEndRE=null,V.code=0,V.thisLine.fencedCodeEnd=!0,Ae?q(ae,V,V.block):ut}else return V.localMode?V.localMode.token(ae,V.localState):(ae.skipToEnd(),a.code)}function Ue(ae){var V=[];if(ae.formatting){V.push(a.formatting),typeof ae.formatting=="string"&&(ae.formatting=[ae.formatting]);for(var me=0;me<ae.formatting.length;me++)V.push(a.formatting+"-"+ae.formatting[me]),ae.formatting[me]==="header"&&V.push(a.formatting+"-"+ae.formatting[me]+"-"+ae.header),ae.formatting[me]==="quote"&&(!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=ae.quote?V.push(a.formatting+"-"+ae.formatting[me]+"-"+ae.quote):V.push("error"))}if(ae.taskOpen)return V.push("meta"),V.length?V.join(" "):null;if(ae.taskClosed)return V.push("property"),V.length?V.join(" "):null;if(ae.linkHref?V.push(a.linkHref,"url"):(ae.strong&&V.push(a.strong),ae.em&&V.push(a.em),ae.strikethrough&&V.push(a.strikethrough),ae.emoji&&V.push(a.emoji),ae.linkText&&V.push(a.linkText),ae.code&&V.push(a.code),ae.image&&V.push(a.image),ae.imageAltText&&V.push(a.imageAltText,"link"),ae.imageMarker&&V.push(a.imageMarker)),ae.header&&V.push(a.header,a.header+"-"+ae.header),ae.quote&&(V.push(a.quote),!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=ae.quote?V.push(a.quote+"-"+ae.quote):V.push(a.quote+"-"+o.maxBlockquoteDepth)),ae.list!==!1){var Ae=(ae.listStack.length-1)%3;Ae?Ae===1?V.push(a.list2):V.push(a.list3):V.push(a.list1)}return ae.trailingSpaceNewLine?V.push("trailing-space-new-line"):ae.trailingSpace&&V.push("trailing-space-"+(ae.trailingSpace%2?"a":"b")),V.length?V.join(" "):null}function Ze(ae,V){if(ae.match(k,!0))return Ue(V)}function mt(ae,V){var me=V.text(ae,V);if(typeof me<"u")return me;if(V.list)return V.list=null,Ue(V);if(V.taskList){var Ae=ae.match(g,!0)[1]===" ";return Ae?V.taskOpen=!0:V.taskClosed=!0,o.highlightFormatting&&(V.formatting="task"),V.taskList=!1,Ue(V)}if(V.taskOpen=!1,V.taskClosed=!1,V.header&&ae.match(/^#+$/,!0))return o.highlightFormatting&&(V.formatting="header"),Ue(V);var Ne=ae.next();if(V.linkTitle){V.linkTitle=!1;var ut=Ne;Ne==="("&&(ut=")"),ut=(ut+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var xt="^\\s*(?:[^"+ut+"\\\\]+|\\\\\\\\|\\\\.)"+ut;if(ae.match(new RegExp(xt),!0))return a.linkHref}if(Ne==="`"){var et=V.formatting;o.highlightFormatting&&(V.formatting="code"),ae.eatWhile("`");var Wt=ae.current().length;if(V.code==0&&(!V.quote||Wt==1))return V.code=Wt,Ue(V);if(Wt==V.code){var _t=Ue(V);return V.code=0,_t}else return V.formatting=et,Ue(V)}else if(V.code)return Ue(V);if(Ne==="\\"&&(ae.next(),o.highlightFormatting)){var Ft=Ue(V),st=a.formatting+"-escape";return Ft?Ft+" "+st:st}if(Ne==="!"&&ae.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return V.imageMarker=!0,V.image=!0,o.highlightFormatting&&(V.formatting="image"),Ue(V);if(Ne==="["&&V.imageMarker&&ae.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return V.imageMarker=!1,V.imageAltText=!0,o.highlightFormatting&&(V.formatting="image"),Ue(V);if(Ne==="]"&&V.imageAltText){o.highlightFormatting&&(V.formatting="image");var Ft=Ue(V);return V.imageAltText=!1,V.image=!1,V.inline=V.f=ge,Ft}if(Ne==="["&&!V.image)return V.linkText&&ae.match(/^.*?\]/)||(V.linkText=!0,o.highlightFormatting&&(V.formatting="link")),Ue(V);if(Ne==="]"&&V.linkText){o.highlightFormatting&&(V.formatting="link");var Ft=Ue(V);return V.linkText=!1,V.inline=V.f=ae.match(/\(.*?\)| ?\[.*?\]/,!1)?ge:mt,Ft}if(Ne==="<"&&ae.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){V.f=V.inline=ct,o.highlightFormatting&&(V.formatting="link");var Ft=Ue(V);return Ft?Ft+=" ":Ft="",Ft+a.linkInline}if(Ne==="<"&&ae.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){V.f=V.inline=ct,o.highlightFormatting&&(V.formatting="link");var Ft=Ue(V);return Ft?Ft+=" ":Ft="",Ft+a.linkEmail}if(o.xml&&Ne==="<"&&ae.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var At=ae.string.indexOf(">",ae.pos);if(At!=-1){var St=ae.string.substring(ae.start,At);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(St)&&(V.md_inside=!0)}return ae.backUp(1),V.htmlState=n.startState(u),q(ae,V,Se)}if(o.xml&&Ne==="<"&&ae.match(/^\/\w*?>/))return V.md_inside=!1,"tag";if(Ne==="*"||Ne==="_"){for(var Kt=1,zt=ae.pos==1?" ":ae.string.charAt(ae.pos-2);Kt<3&&ae.eat(Ne);)Kt++;var Ut=ae.peek()||" ",Vt=!/\s/.test(Ut)&&(!N.test(Ut)||/\s/.test(zt)||N.test(zt)),un=!/\s/.test(zt)&&(!N.test(zt)||/\s/.test(Ut)||N.test(Ut)),Xt=null,qt=null;if(Kt%2&&(!V.em&&Vt&&(Ne==="*"||!un||N.test(zt))?Xt=!0:V.em==Ne&&un&&(Ne==="*"||!Vt||N.test(Ut))&&(Xt=!1)),Kt>1&&(!V.strong&&Vt&&(Ne==="*"||!un||N.test(zt))?qt=!0:V.strong==Ne&&un&&(Ne==="*"||!Vt||N.test(Ut))&&(qt=!1)),qt!=null||Xt!=null){o.highlightFormatting&&(V.formatting=Xt==null?"strong":qt==null?"em":"strong em"),Xt===!0&&(V.em=Ne),qt===!0&&(V.strong=Ne);var _t=Ue(V);return Xt===!1&&(V.em=!1),qt===!1&&(V.strong=!1),_t}}else if(Ne===" "&&(ae.eat("*")||ae.eat("_"))){if(ae.peek()===" ")return Ue(V);ae.backUp(1)}if(o.strikethrough){if(Ne==="~"&&ae.eatWhile(Ne)){if(V.strikethrough){o.highlightFormatting&&(V.formatting="strikethrough");var _t=Ue(V);return V.strikethrough=!1,_t}else if(ae.match(/^[^\s]/,!1))return V.strikethrough=!0,o.highlightFormatting&&(V.formatting="strikethrough"),Ue(V)}else if(Ne===" "&&ae.match("~~",!0)){if(ae.peek()===" ")return Ue(V);ae.backUp(2)}}if(o.emoji&&Ne===":"&&ae.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){V.emoji=!0,o.highlightFormatting&&(V.formatting="emoji");var Bn=Ue(V);return V.emoji=!1,Bn}return Ne===" "&&(ae.match(/^ +$/,!1)?V.trailingSpace++:V.trailingSpace&&(V.trailingSpaceNewLine=!0)),Ue(V)}function ct(ae,V){var me=ae.next();if(me===">"){V.f=V.inline=mt,o.highlightFormatting&&(V.formatting="link");var Ae=Ue(V);return Ae?Ae+=" ":Ae="",Ae+a.linkInline}return ae.match(/^[^>]+/,!0),a.linkInline}function ge(ae,V){if(ae.eatSpace())return null;var me=ae.next();return me==="("||me==="["?(V.f=V.inline=Re(me==="("?")":"]"),o.highlightFormatting&&(V.formatting="link-string"),V.linkHref=!0,Ue(V)):"error"}var ye={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Re(ae){return function(V,me){var Ae=V.next();if(Ae===ae){me.f=me.inline=mt,o.highlightFormatting&&(me.formatting="link-string");var Ne=Ue(me);return me.linkHref=!1,Ne}return V.match(ye[ae]),me.linkHref=!0,Ue(me)}}function ft(ae,V){return ae.match(/^([^\]\\]|\\.)*\]:/,!1)?(V.f=Me,ae.next(),o.highlightFormatting&&(V.formatting="link"),V.linkText=!0,Ue(V)):W(ae,V,mt)}function Me(ae,V){if(ae.match("]:",!0)){V.f=V.inline=ce,o.highlightFormatting&&(V.formatting="link");var me=Ue(V);return V.linkText=!1,me}return ae.match(/^([^\]\\]|\\.)+/,!0),a.linkText}function ce(ae,V){return ae.eatSpace()?null:(ae.match(/^[^\s]+/,!0),ae.peek()===void 0?V.linkTitle=!0:ae.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),V.f=V.inline=mt,a.linkHref+" url")}var le={startState:function(){return{f:ve,prevLine:{stream:null},thisLine:{stream:null},block:ve,htmlState:null,indentation:0,inline:mt,text:Ze,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ae){return{f:ae.f,prevLine:ae.prevLine,thisLine:ae.thisLine,block:ae.block,htmlState:ae.htmlState&&n.copyState(u,ae.htmlState),indentation:ae.indentation,localMode:ae.localMode,localState:ae.localMode?n.copyState(ae.localMode,ae.localState):null,inline:ae.inline,text:ae.text,formatting:!1,linkText:ae.linkText,linkTitle:ae.linkTitle,linkHref:ae.linkHref,code:ae.code,em:ae.em,strong:ae.strong,strikethrough:ae.strikethrough,emoji:ae.emoji,header:ae.header,setext:ae.setext,hr:ae.hr,taskList:ae.taskList,list:ae.list,listStack:ae.listStack.slice(0),quote:ae.quote,indentedCode:ae.indentedCode,trailingSpace:ae.trailingSpace,trailingSpaceNewLine:ae.trailingSpaceNewLine,md_inside:ae.md_inside,fencedEndRE:ae.fencedEndRE}},token:function(ae,V){if(V.formatting=!1,ae!=V.thisLine.stream){if(V.header=0,V.hr=!1,ae.match(/^\s*$/,!0))return ne(V),null;if(V.prevLine=V.thisLine,V.thisLine={stream:ae},V.taskList=!1,V.trailingSpace=0,V.trailingSpaceNewLine=!1,!V.localState&&(V.f=V.block,V.f!=Se)){var me=ae.match(/^\s*/,!0)[0].replace(/\t/g,U).length;if(V.indentation=me,V.indentationDiff=null,me>0)return null}}return V.f(ae,V)},innerMode:function(ae){return ae.block==Se?{state:ae.htmlState,mode:u}:ae.localState?{state:ae.localState,mode:ae.localMode}:{state:ae,mode:le}},indent:function(ae,V,me){return ae.block==Se&&u.indent?u.indent(ae.htmlState,V,me):ae.localState&&ae.localMode.indent?ae.localMode.indent(ae.localState,V,me):n.Pass},blankLine:ne,getType:Ue,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return le},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})})()),Zw.exports}var t5={exports:{}},n5;function A7(){return n5||(n5=1,(function(e,t){(function(n){n(yc())})(function(n){n.overlayMode=function(r,o,u){return{startState:function(){return{base:n.startState(r),overlay:n.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(y){return{base:n.copyState(r,y.base),overlay:n.copyState(o,y.overlay),basePos:y.basePos,baseCur:null,overlayPos:y.overlayPos,overlayCur:null}},token:function(y,d){return(y!=d.streamSeen||Math.min(d.basePos,d.overlayPos)<y.start)&&(d.streamSeen=y,d.basePos=d.overlayPos=y.start),y.start==d.basePos&&(d.baseCur=r.token(y,d.base),d.basePos=y.pos),y.start==d.overlayPos&&(y.pos=y.start,d.overlayCur=o.token(y,d.overlay),d.overlayPos=y.pos),y.pos=Math.min(d.basePos,d.overlayPos),d.overlayCur==null?d.baseCur:d.baseCur!=null&&d.overlay.combineTokens||u&&d.overlay.combineTokens==null?d.baseCur+" "+d.overlayCur:d.overlayCur},indent:r.indent&&function(y,d,a){return r.indent(y.base,d,a)},electricChars:r.electricChars,innerMode:function(y){return{state:y.base,mode:r}},blankLine:function(y){var d,a;return r.blankLine&&(d=r.blankLine(y.base)),o.blankLine&&(a=o.blankLine(y.overlay)),a==null?d:u&&d!=null?d+" "+a:a}}}})})()),t5.exports}var r5={exports:{}},i5;function dP(){return i5||(i5=1,(function(e,t){(function(n){n(yc())})(function(n){n.defineOption("placeholder","",function(c,v,f){var g=f&&f!=n.Init;if(v&&!g)c.on("blur",y),c.on("change",d),c.on("swapDoc",d),n.on(c.getInputField(),"compositionupdate",c.state.placeholderCompose=function(){u(c)}),d(c);else if(!v&&g){c.off("blur",y),c.off("change",d),c.off("swapDoc",d),n.off(c.getInputField(),"compositionupdate",c.state.placeholderCompose),r(c);var m=c.getWrapperElement();m.className=m.className.replace(" CodeMirror-empty","")}v&&!c.hasFocus()&&y(c)});function r(c){c.state.placeholder&&(c.state.placeholder.parentNode.removeChild(c.state.placeholder),c.state.placeholder=null)}function o(c){r(c);var v=c.state.placeholder=document.createElement("pre");v.style.cssText="height: 0; overflow: visible",v.style.direction=c.getOption("direction"),v.className="CodeMirror-placeholder CodeMirror-line-like";var f=c.getOption("placeholder");typeof f=="string"&&(f=document.createTextNode(f)),v.appendChild(f),c.display.lineSpace.insertBefore(v,c.display.lineSpace.firstChild)}function u(c){setTimeout(function(){var v=!1;if(c.lineCount()==1){var f=c.getInputField();v=f.nodeName=="TEXTAREA"?!c.getLine(0).length:!/[^\u200b]/.test(f.querySelector(".CodeMirror-line").textContent)}v?o(c):r(c)},20)}function y(c){a(c)&&o(c)}function d(c){var v=c.getWrapperElement(),f=a(c);v.className=v.className.replace(" CodeMirror-empty","")+(f?" CodeMirror-empty":""),f?o(c):r(c)}function a(c){return c.lineCount()===1&&c.getLine(0)===""}})})()),r5.exports}var a5={exports:{}},o5;function gP(){return o5||(o5=1,(function(e,t){(function(n){n(yc())})(function(n){n.defineOption("autoRefresh",!1,function(u,y){u.state.autoRefresh&&(o(u,u.state.autoRefresh),u.state.autoRefresh=null),y&&u.display.wrapper.offsetHeight==0&&r(u,u.state.autoRefresh={delay:y.delay||250})});function r(u,y){function d(){u.display.wrapper.offsetHeight?(o(u,y),u.display.lastWrapHeight!=u.display.wrapper.clientHeight&&u.refresh()):y.timeout=setTimeout(d,y.delay)}y.timeout=setTimeout(d,y.delay),y.hurry=function(){clearTimeout(y.timeout),y.timeout=setTimeout(d,50)},n.on(window,"mouseup",y.hurry),n.on(window,"keyup",y.hurry)}function o(u,y){clearTimeout(y.timeout),n.off(window,"mouseup",y.hurry),n.off(window,"keyup",y.hurry)}})})()),a5.exports}var s5={exports:{}},l5;function pP(){return l5||(l5=1,(function(e,t){(function(n){n(yc())})(function(n){n.defineOption("styleSelectedText",!1,function(g,m,C){var k=C&&C!=n.Init;m&&!k?(g.state.markedSelection=[],g.state.markedSelectionStyle=typeof m=="string"?m:"CodeMirror-selectedtext",v(g),g.on("cursorActivity",r),g.on("change",o)):!m&&k&&(g.off("cursorActivity",r),g.off("change",o),c(g),g.state.markedSelection=g.state.markedSelectionStyle=null)});function r(g){g.state.markedSelection&&g.operation(function(){f(g)})}function o(g){g.state.markedSelection&&g.state.markedSelection.length&&g.operation(function(){c(g)})}var u=8,y=n.Pos,d=n.cmpPos;function a(g,m,C,k){if(d(m,C)!=0)for(var S=g.state.markedSelection,O=g.state.markedSelectionStyle,N=m.line;;){var U=N==m.line?m:y(N,0),W=N+u,q=W>=C.line,J=q?C:y(W,0),ne=g.markText(U,J,{className:O});if(k==null?S.push(ne):S.splice(k++,0,ne),q)break;N=W}}function c(g){for(var m=g.state.markedSelection,C=0;C<m.length;++C)m[C].clear();m.length=0}function v(g){c(g);for(var m=g.listSelections(),C=0;C<m.length;C++)a(g,m[C].from(),m[C].to())}function f(g){if(!g.somethingSelected())return c(g);if(g.listSelections().length>1)return v(g);var m=g.getCursor("start"),C=g.getCursor("end"),k=g.state.markedSelection;if(!k.length)return a(g,m,C);var S=k[0].find(),O=k[k.length-1].find();if(!S||!O||C.line-m.line<=u||d(m,O.to)>=0||d(C,S.from)<=0)return v(g);for(;d(m,S.from)>0;)k.shift().clear(),S=k[0].find();for(d(m,S.from)<0&&(S.to.line-m.line<u?(k.shift().clear(),a(g,m,S.to,0)):a(g,m,S.from,0));d(C,O.to)<0;)k.pop().clear(),O=k[k.length-1].find();d(C,O.to)>0&&(C.line-O.from.line<u?(k.pop().clear(),a(g,O.from,C)):a(g,O.to,C))}})})()),s5.exports}var u5={exports:{}},c5;function mP(){return c5||(c5=1,(function(e,t){(function(n){n(yc())})(function(n){var r=n.Pos;function o(N){var U=N.flags;return U??(N.ignoreCase?"i":"")+(N.global?"g":"")+(N.multiline?"m":"")}function u(N,U){for(var W=o(N),q=W,J=0;J<U.length;J++)q.indexOf(U.charAt(J))==-1&&(q+=U.charAt(J));return W==q?N:new RegExp(N.source,q)}function y(N){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(N.source)}function d(N,U,W){U=u(U,"g");for(var q=W.line,J=W.ch,ne=N.lastLine();q<=ne;q++,J=0){U.lastIndex=J;var ve=N.getLine(q),Se=U.exec(ve);if(Se)return{from:r(q,Se.index),to:r(q,Se.index+Se[0].length),match:Se}}}function a(N,U,W){if(!y(U))return d(N,U,W);U=u(U,"gm");for(var q,J=1,ne=W.line,ve=N.lastLine();ne<=ve;){for(var Se=0;Se<J&&!(ne>ve);Se++){var Fe=N.getLine(ne++);q=q==null?Fe:q+`
`+Fe}J=J*2,U.lastIndex=W.ch;var Ue=U.exec(q);if(Ue){var Ze=q.slice(0,Ue.index).split(`
`),mt=Ue[0].split(`
`),ct=W.line+Ze.length-1,ge=Ze[Ze.length-1].length;return{from:r(ct,ge),to:r(ct+mt.length-1,mt.length==1?ge+mt[0].length:mt[mt.length-1].length),match:Ue}}}}function c(N,U,W){for(var q,J=0;J<=N.length;){U.lastIndex=J;var ne=U.exec(N);if(!ne)break;var ve=ne.index+ne[0].length;if(ve>N.length-W)break;(!q||ve>q.index+q[0].length)&&(q=ne),J=ne.index+1}return q}function v(N,U,W){U=u(U,"g");for(var q=W.line,J=W.ch,ne=N.firstLine();q>=ne;q--,J=-1){var ve=N.getLine(q),Se=c(ve,U,J<0?0:ve.length-J);if(Se)return{from:r(q,Se.index),to:r(q,Se.index+Se[0].length),match:Se}}}function f(N,U,W){if(!y(U))return v(N,U,W);U=u(U,"gm");for(var q,J=1,ne=N.getLine(W.line).length-W.ch,ve=W.line,Se=N.firstLine();ve>=Se;){for(var Fe=0;Fe<J&&ve>=Se;Fe++){var Ue=N.getLine(ve--);q=q==null?Ue:Ue+`
`+q}J*=2;var Ze=c(q,U,ne);if(Ze){var mt=q.slice(0,Ze.index).split(`
`),ct=Ze[0].split(`
`),ge=ve+mt.length,ye=mt[mt.length-1].length;return{from:r(ge,ye),to:r(ge+ct.length-1,ct.length==1?ye+ct[0].length:ct[ct.length-1].length),match:Ze}}}}var g,m;String.prototype.normalize?(g=function(N){return N.normalize("NFD").toLowerCase()},m=function(N){return N.normalize("NFD")}):(g=function(N){return N.toLowerCase()},m=function(N){return N});function C(N,U,W,q){if(N.length==U.length)return W;for(var J=0,ne=W+Math.max(0,N.length-U.length);;){if(J==ne)return J;var ve=J+ne>>1,Se=q(N.slice(0,ve)).length;if(Se==W)return ve;Se>W?ne=ve:J=ve+1}}function k(N,U,W,q){if(!U.length)return null;var J=q?g:m,ne=J(U).split(/\r|\n\r?/);e:for(var ve=W.line,Se=W.ch,Fe=N.lastLine()+1-ne.length;ve<=Fe;ve++,Se=0){var Ue=N.getLine(ve).slice(Se),Ze=J(Ue);if(ne.length==1){var mt=Ze.indexOf(ne[0]);if(mt==-1)continue e;var W=C(Ue,Ze,mt,J)+Se;return{from:r(ve,C(Ue,Ze,mt,J)+Se),to:r(ve,C(Ue,Ze,mt+ne[0].length,J)+Se)}}else{var ct=Ze.length-ne[0].length;if(Ze.slice(ct)!=ne[0])continue e;for(var ge=1;ge<ne.length-1;ge++)if(J(N.getLine(ve+ge))!=ne[ge])continue e;var ye=N.getLine(ve+ne.length-1),Re=J(ye),ft=ne[ne.length-1];if(Re.slice(0,ft.length)!=ft)continue e;return{from:r(ve,C(Ue,Ze,ct,J)+Se),to:r(ve+ne.length-1,C(ye,Re,ft.length,J))}}}}function S(N,U,W,q){if(!U.length)return null;var J=q?g:m,ne=J(U).split(/\r|\n\r?/);e:for(var ve=W.line,Se=W.ch,Fe=N.firstLine()-1+ne.length;ve>=Fe;ve--,Se=-1){var Ue=N.getLine(ve);Se>-1&&(Ue=Ue.slice(0,Se));var Ze=J(Ue);if(ne.length==1){var mt=Ze.lastIndexOf(ne[0]);if(mt==-1)continue e;return{from:r(ve,C(Ue,Ze,mt,J)),to:r(ve,C(Ue,Ze,mt+ne[0].length,J))}}else{var ct=ne[ne.length-1];if(Ze.slice(0,ct.length)!=ct)continue e;for(var ge=1,W=ve-ne.length+1;ge<ne.length-1;ge++)if(J(N.getLine(W+ge))!=ne[ge])continue e;var ye=N.getLine(ve+1-ne.length),Re=J(ye);if(Re.slice(Re.length-ne[0].length)!=ne[0])continue e;return{from:r(ve+1-ne.length,C(ye,Re,ye.length-ne[0].length,J)),to:r(ve,C(Ue,Ze,ct.length,J))}}}}function O(N,U,W,q){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=N,W=W?N.clipPos(W):r(0,0),this.pos={from:W,to:W};var J;typeof q=="object"?J=q.caseFold:(J=q,q=null),typeof U=="string"?(J==null&&(J=!1),this.matches=function(ne,ve){return(ne?S:k)(N,U,ve,J)}):(U=u(U,"gm"),!q||q.multiline!==!1?this.matches=function(ne,ve){return(ne?f:a)(N,U,ve)}:this.matches=function(ne,ve){return(ne?v:d)(N,U,ve)})}O.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(N){var U=this.doc.clipPos(N?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(U=r(U.line,U.ch),N?(U.ch--,U.ch<0&&(U.line--,U.ch=(this.doc.getLine(U.line)||"").length)):(U.ch++,U.ch>(this.doc.getLine(U.line)||"").length&&(U.ch=0,U.line++)),n.cmpPos(U,this.doc.clipPos(U))!=0))return this.atOccurrence=!1;var W=this.matches(N,U);if(this.afterEmptyMatch=W&&n.cmpPos(W.from,W.to)==0,W)return this.pos=W,this.atOccurrence=!0,this.pos.match||!0;var q=r(N?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:q,to:q},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(N,U){if(this.atOccurrence){var W=n.splitLines(N);this.doc.replaceRange(W,this.pos.from,this.pos.to,U),this.pos.to=r(this.pos.from.line+W.length-1,W[W.length-1].length+(W.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(N,U,W){return new O(this.doc,N,U,W)}),n.defineDocExtension("getSearchCursor",function(N,U,W){return new O(this,N,U,W)}),n.defineExtension("selectMatches",function(N,U){for(var W=[],q=this.getSearchCursor(N,this.getCursor("from"),U);q.findNext()&&!(n.cmpPos(q.to(),this.getCursor("to"))>0);)W.push({anchor:q.from(),head:q.to()});W.length&&this.setSelections(W,0)})})})()),u5.exports}var f5={exports:{}},h5;function vP(){return h5||(h5=1,(function(e,t){(function(n){n(yc(),E7(),A7())})(function(n){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(o,u){var y=0;function d(f){return f.code=!1,null}var a={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(f){return{code:f.code,codeBlock:f.codeBlock,ateSpace:f.ateSpace}},token:function(f,g){if(g.combineTokens=null,g.codeBlock)return f.match(/^```+/)?(g.codeBlock=!1,null):(f.skipToEnd(),null);if(f.sol()&&(g.code=!1),f.sol()&&f.match(/^```+/))return f.skipToEnd(),g.codeBlock=!0,null;if(f.peek()==="`"){f.next();var m=f.pos;f.eatWhile("`");var C=1+f.pos-m;return g.code?C===y&&(g.code=!1):(y=C,g.code=!0),null}else if(g.code)return f.next(),null;if(f.eatSpace())return g.ateSpace=!0,null;if((f.sol()||g.ateSpace)&&(g.ateSpace=!1,u.gitHubSpice!==!1)){if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return g.combineTokens=!0,"link";if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return g.combineTokens=!0,"link"}return f.match(r)&&f.string.slice(f.start-2,f.start)!="]("&&(f.start==0||/\W/.test(f.string.charAt(f.start-1)))?(g.combineTokens=!0,"link"):(f.next(),null)},blankLine:d},c={taskLists:!0,strikethrough:!0,emoji:!0};for(var v in u)c[v]=u[v];return c.name="markdown",n.overlayMode(n.getMode(o,c),a)},"markdown"),n.defineMIME("text/x-gfm","gfm")})})()),f5.exports}function yP(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var e2={exports:{}};const xP={},bP=Object.freeze(Object.defineProperty({__proto__:null,default:xP},Symbol.toStringTag,{value:"Module"})),bp=QT(bP);var d5;function wP(){return d5||(d5=1,(function(e){var t;(function(){t=function(n,r,o,u){u=u||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=u.flags||{},this.memoized={},this.loaded=!1;var y=this,d,a,c,v,f;if(n)if(y.dictionary=n,r&&o)S();else if(typeof window<"u"&&(window.chrome&&window.chrome.runtime||window.browser&&window.browser.runtime)){var g=window.chrome&&window.chrome.runtime?window.chrome.runtime:window.browser.runtime;u.dictionaryPath?d=u.dictionaryPath:d="typo/dictionaries",r||m(g.getURL(d+"/"+n+"/"+n+".aff"),C),o||m(g.getURL(d+"/"+n+"/"+n+".dic"),k)}else u.dictionaryPath?d=u.dictionaryPath:typeof __dirname<"u"?d=__dirname+"/dictionaries":d="./dictionaries",r||m(d+"/"+n+"/"+n+".aff",C),o||m(d+"/"+n+"/"+n+".dic",k);function m(O,N){var U=y._readFile(O,null,u?.asyncLoad);u?.asyncLoad?U.then(function(W){N(W)}):N(U)}function C(O){r=O,o&&S()}function k(O){o=O,r&&S()}function S(){for(y.rules=y._parseAFF(r),y.compoundRuleCodes={},a=0,v=y.compoundRules.length;a<v;a++){var O=y.compoundRules[a];for(c=0,f=O.length;c<f;c++)y.compoundRuleCodes[O[c]]=[]}"ONLYINCOMPOUND"in y.flags&&(y.compoundRuleCodes[y.flags.ONLYINCOMPOUND]=[]),y.dictionaryTable=y._parseDIC(o);for(a in y.compoundRuleCodes)y.compoundRuleCodes[a].length===0&&delete y.compoundRuleCodes[a];for(a=0,v=y.compoundRules.length;a<v;a++){var N=y.compoundRules[a],U="";for(c=0,f=N.length;c<f;c++){var W=N[c];W in y.compoundRuleCodes?U+="("+y.compoundRuleCodes[W].join("|")+")":U+=W}y.compoundRules[a]=new RegExp("^"+U+"$","i")}y.loaded=!0,u?.asyncLoad&&u?.loadedCallback&&u.loadedCallback(y)}return this},t.prototype={load:function(n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);return this},_readFile:function(n,r,o){var u;if(r=r||"utf8",typeof XMLHttpRequest<"u"){var y=new XMLHttpRequest;if(y.open("GET",n,!!o),(u=y.overrideMimeType)===null||u===void 0||u.call(y,"text/plain; charset="+r),o){var d=new Promise(function(c,v){y.onload=function(){y.status===200?c(y.responseText):v(y.statusText)},y.onerror=function(){v(y.statusText)}});return y.send(null),d}else return y.send(null),y.responseText}else if(typeof yP<"u"){var a=bp;try{if(a.existsSync(n))return a.readFileSync(n,r);console.log("Path "+n+" does not exist.")}catch(c){console.log(c)}return""}return""},_parseAFF:function(n){var r={},o,u,y,d,a,c,v,f,g=n.split(/\r?\n/);for(a=0,v=g.length;a<v;a++)if(o=this._removeAffixComments(g[a]),o=o.trim(),!!o){var m=o.split(/\s+/),C=m[0];if(C==="PFX"||C==="SFX"){var k=m[1],S=m[2];y=parseInt(m[3],10);var O=[];for(c=a+1,f=a+1+y;c<f;c++){u=g[c],d=u.split(/\s+/);var N=d[2],U=d[3].split("/"),W=U[0];W==="0"&&(W="");var q=this.parseRuleCodes(U[1]),J=d[4],ne={add:W};q.length>0&&(ne.continuationClasses=q),J!=="."&&(C==="SFX"?ne.match=new RegExp(J+"$"):ne.match=new RegExp("^"+J)),N!="0"&&(C==="SFX"?ne.remove=new RegExp(N+"$"):ne.remove=N),O.push(ne)}r[k]={type:C,combineable:S==="Y",entries:O},a+=y}else if(C==="COMPOUNDRULE"){for(y=parseInt(m[1],10),c=a+1,f=a+1+y;c<f;c++)o=g[c],d=o.split(/\s+/),this.compoundRules.push(d[1]);a+=y}else C==="REP"?(d=o.split(/\s+/),d.length===3&&this.replacementTable.push([d[1],d[2]])):this.flags[C]=m[1]}return r},_removeAffixComments:function(n){return n.match(/^\s*#/)?"":n},_parseDIC:function(n){n=this._removeDicComments(n);var r=n.split(/\r?\n/),o={};function u(Ze,mt){o.hasOwnProperty(Ze)||(o[Ze]=null),mt.length>0&&(o[Ze]===null&&(o[Ze]=[]),o[Ze].push(mt))}for(var y=1,d=r.length;y<d;y++){var a=r[y];if(a){var c=a.replace(/\s.*$/,""),v=c.split("/",2),f=v[0];if(v.length>1){var g=this.parseRuleCodes(v[1]);(!("NEEDAFFIX"in this.flags)||g.indexOf(this.flags.NEEDAFFIX)===-1)&&u(f,g);for(var m=0,C=g.length;m<C;m++){var k=g[m],S=this.rules[k];if(S)for(var O=this._applyRule(f,S),N=0,U=O.length;N<U;N++){var W=O[N];if(u(W,[]),S.combineable)for(var q=m+1;q<C;q++){var J=g[q],ne=this.rules[J];if(ne&&ne.combineable&&S.type!=ne.type)for(var ve=this._applyRule(W,ne),Se=0,Fe=ve.length;Se<Fe;Se++){var Ue=ve[Se];u(Ue,[])}}}k in this.compoundRuleCodes&&this.compoundRuleCodes[k].push(f)}}else u(f.trim(),[])}}return o},_removeDicComments:function(n){return n=n.replace(/^\t.*$/mg,""),n},parseRuleCodes:function(n){if(n)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],o=0,u=n.length;o<u;o+=2)r.push(n.substr(o,2));return r}else return this.flags.FLAG==="num"?n.split(","):this.flags.FLAG==="UTF-8"?Array.from(n):n.split("");else return n.split("");else return[]},_applyRule:function(n,r){for(var o=r.entries,u=[],y=0,d=o.length;y<d;y++){var a=o[y];if(!a.match||n.match(a.match)){var c=n;if(a.remove&&(c=c.replace(a.remove,"")),r.type==="SFX"?c=c+a.add:c=a.add+c,u.push(c),"continuationClasses"in a)for(var v=0,f=a.continuationClasses.length;v<f;v++){var g=this.rules[a.continuationClasses[v]];g&&(u=u.concat(this._applyRule(c,g)))}}}return u},check:function(n){if(!this.loaded)throw"Dictionary not loaded.";if(!n)return!1;var r=n.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var o=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(o,"KEEPCASE"))return!1;if(this.checkExact(o)||this.checkExact(r.toLowerCase()))return!0}var u=r[0].toLowerCase()+r.substring(1);if(u!==r){if(this.hasFlag(u,"KEEPCASE"))return!1;if(this.checkExact(u))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[n],o,u;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN){for(o=0,u=this.compoundRules.length;o<u;o++)if(n.match(this.compoundRules[o]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(o=0,u=r.length;o<u;o++)if(!this.hasFlag(n,"ONLYINCOMPOUND",r[o]))return!0}}return!1},hasFlag:function(n,r,o){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof o>"u"&&(o=Array.prototype.concat.apply([],this.dictionaryTable[n])),o&&o.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(n,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(n)){var o=this.memoized[n].limit;if(r<=o||this.memoized[n].suggestions.length<o)return this.memoized[n].suggestions.slice(0,r)}if(this.check(n))return[];for(var u=0,y=this.replacementTable.length;u<y;u++){var d=this.replacementTable[u];if(n.indexOf(d[0])!==-1){var a=n.replace(d[0],d[1]);if(this.check(a))return[a]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var c=this.alphabet.split("");c.sort();for(var v={},u=0;u<c.length;u++)v[c[u]]=!0;this.alphabet="";for(var u in v)this.alphabet+=u}var f=this;function g(C,k){var S={},O,N,U,W,q=f.alphabet.length;for(var J in C)for(O=0,U=J.length+1;O<U;O++){var ne=[J.substring(0,O),J.substring(O)];if(ne[1]&&(W=ne[0]+ne[1].substring(1),(!k||f.check(W))&&(W in S?S[W]+=1:S[W]=1)),ne[1].length>1&&ne[1][1]!==ne[1][0]&&(W=ne[0]+ne[1][1]+ne[1][0]+ne[1].substring(2),(!k||f.check(W))&&(W in S?S[W]+=1:S[W]=1)),ne[1]){var ve=ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase";for(N=0;N<q;N++){var Se=f.alphabet[N];ve==="uppercase"&&(Se=Se.toUpperCase()),Se!=ne[1].substring(0,1)&&(W=ne[0]+Se+ne[1].substring(1),(!k||f.check(W))&&(W in S?S[W]+=1:S[W]=1))}}if(ne[1])for(N=0;N<q;N++){var ve=ne[0].substring(-1).toUpperCase()===ne[0].substring(-1)&&ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase",Se=f.alphabet[N];ve==="uppercase"&&(Se=Se.toUpperCase()),W=ne[0]+Se+ne[1],(!k||f.check(W))&&(W in S?S[W]+=1:S[W]=1)}}return S}function m(C){var k,S=g((k={},k[C]=!0,k)),O=g(S,!0),N=O;for(var U in S)f.check(U)&&(U in N?N[U]+=S[U]:N[U]=S[U]);var W,q=[];for(W in N)N.hasOwnProperty(W)&&(f.hasFlag(W,"PRIORITYSUGGEST")&&(N[W]+=1e3),q.push([W,N[W]]));function J(Fe,Ue){var Ze=Fe[1],mt=Ue[1];return Ze<mt?-1:Ze>mt?1:Ue[0].localeCompare(Fe[0])}q.sort(J).reverse();var ne=[],ve="lowercase";C.toUpperCase()===C?ve="uppercase":C.substr(0,1).toUpperCase()+C.substr(1).toLowerCase()===C&&(ve="capitalized");var Se=r;for(W=0;W<Math.min(Se,q.length);W++)ve==="uppercase"?q[W][0]=q[W][0].toUpperCase():ve==="capitalized"&&(q[W][0]=q[W][0].substr(0,1).toUpperCase()+q[W][0].substr(1)),!f.hasFlag(q[W][0],"NOSUGGEST")&&ne.indexOf(q[W][0])===-1?ne.push(q[W][0]):Se++;return ne}return this.memoized[n]={suggestions:m(n),limit:r},this.memoized[n].suggestions}}})(),e.exports=t})(e2)),e2.exports}var t2,g5;function CP(){if(g5)return t2;g5=1;var e=wP();function t(n){if(n=n||{},typeof n.codeMirrorInstance!="function"||typeof n.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),n.codeMirrorInstance.defineMode("spell-checker",function(r){if(!t.aff_loading){t.aff_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),o.onload=function(){o.readyState===4&&o.status===200&&(t.aff_data=o.responseText,t.num_loaded++,t.num_loaded==2&&(t.typo=new e("en_US",t.aff_data,t.dic_data,{platform:"any"})))},o.send(null)}if(!t.dic_loading){t.dic_loading=!0;var u=new XMLHttpRequest;u.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),u.onload=function(){u.readyState===4&&u.status===200&&(t.dic_data=u.responseText,t.num_loaded++,t.num_loaded==2&&(t.typo=new e("en_US",t.aff_data,t.dic_data,{platform:"any"})))},u.send(null)}var y='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',d={token:function(c){var v=c.peek(),f="";if(y.includes(v))return c.next(),null;for(;(v=c.peek())!=null&&!y.includes(v);)f+=v,c.next();return t.typo&&!t.typo.check(f)?"spell-error":null}},a=n.codeMirrorInstance.getMode(r,r.backdrop||"text/plain");return n.codeMirrorInstance.overlayMode(a,d,!0)})}return t.num_loaded=0,t.aff_loading=!1,t.dic_loading=!1,t.aff_data="",t.dic_data="",t.typo,t2=t,t2}var n2={},p5;function SP(){return p5||(p5=1,(function(e){function t(gt,dt){for(var Pe=0;Pe<dt.length;Pe++){var be=dt[Pe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(gt,a(be.key),be)}}function n(gt,dt,Pe){return Pe&&t(gt,Pe),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function r(){return r=Object.assign?Object.assign.bind():function(gt){for(var dt=1;dt<arguments.length;dt++){var Pe=arguments[dt];for(var be in Pe)Object.prototype.hasOwnProperty.call(Pe,be)&&(gt[be]=Pe[be])}return gt},r.apply(this,arguments)}function o(gt,dt){if(gt){if(typeof gt=="string")return u(gt,dt);var Pe=Object.prototype.toString.call(gt).slice(8,-1);if(Pe==="Object"&&gt.constructor&&(Pe=gt.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(gt);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return u(gt,dt)}}function u(gt,dt){(dt==null||dt>gt.length)&&(dt=gt.length);for(var Pe=0,be=new Array(dt);Pe<dt;Pe++)be[Pe]=gt[Pe];return be}function y(gt,dt){var Pe=typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Pe)return(Pe=Pe.call(gt)).next.bind(Pe);if(Array.isArray(gt)||(Pe=o(gt))||dt){Pe&&(gt=Pe);var be=0;return function(){return be>=gt.length?{done:!0}:{done:!1,value:gt[be++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(gt,dt){if(typeof gt!="object"||gt===null)return gt;var Pe=gt[Symbol.toPrimitive];if(Pe!==void 0){var be=Pe.call(gt,dt);if(typeof be!="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(gt)}function a(gt){var dt=d(gt,"string");return typeof dt=="symbol"?dt:String(dt)}function c(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=c();function v(gt){e.defaults=gt}var f=/[&<>"']/,g=new RegExp(f.source,"g"),m=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,C=new RegExp(m.source,"g"),k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},S=function(dt){return k[dt]};function O(gt,dt){if(dt){if(f.test(gt))return gt.replace(g,S)}else if(m.test(gt))return gt.replace(C,S);return gt}var N=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function U(gt){return gt.replace(N,function(dt,Pe){return Pe=Pe.toLowerCase(),Pe==="colon"?":":Pe.charAt(0)==="#"?Pe.charAt(1)==="x"?String.fromCharCode(parseInt(Pe.substring(2),16)):String.fromCharCode(+Pe.substring(1)):""})}var W=/(^|[^\[])\^/g;function q(gt,dt){gt=typeof gt=="string"?gt:gt.source,dt=dt||"";var Pe={replace:function(Ee,qe){return qe=qe.source||qe,qe=qe.replace(W,"$1"),gt=gt.replace(Ee,qe),Pe},getRegex:function(){return new RegExp(gt,dt)}};return Pe}var J=/[^\w:]/g,ne=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ve(gt,dt,Pe){if(gt){var be;try{be=decodeURIComponent(U(Pe)).replace(J,"").toLowerCase()}catch{return null}if(be.indexOf("javascript:")===0||be.indexOf("vbscript:")===0||be.indexOf("data:")===0)return null}dt&&!ne.test(Pe)&&(Pe=mt(dt,Pe));try{Pe=encodeURI(Pe).replace(/%25/g,"%")}catch{return null}return Pe}var Se={},Fe=/^[^:]+:\/*[^/]*$/,Ue=/^([^:]+:)[\s\S]*$/,Ze=/^([^:]+:\/*[^/]*)[\s\S]*$/;function mt(gt,dt){Se[" "+gt]||(Fe.test(gt)?Se[" "+gt]=gt+"/":Se[" "+gt]=ye(gt,"/",!0)),gt=Se[" "+gt];var Pe=gt.indexOf(":")===-1;return dt.substring(0,2)==="//"?Pe?dt:gt.replace(Ue,"$1")+dt:dt.charAt(0)==="/"?Pe?dt:gt.replace(Ze,"$1")+dt:gt+dt}var ct={exec:function(){}};function ge(gt,dt){var Pe=gt.replace(/\|/g,function(qe,re,we){for(var Ve=!1,it=re;--it>=0&&we[it]==="\\";)Ve=!Ve;return Ve?"|":" |"}),be=Pe.split(/ \|/),Ee=0;if(be[0].trim()||be.shift(),be.length>0&&!be[be.length-1].trim()&&be.pop(),be.length>dt)be.splice(dt);else for(;be.length<dt;)be.push("");for(;Ee<be.length;Ee++)be[Ee]=be[Ee].trim().replace(/\\\|/g,"|");return be}function ye(gt,dt,Pe){var be=gt.length;if(be===0)return"";for(var Ee=0;Ee<be;){var qe=gt.charAt(be-Ee-1);if(qe===dt&&!Pe)Ee++;else if(qe!==dt&&Pe)Ee++;else break}return gt.slice(0,be-Ee)}function Re(gt,dt){if(gt.indexOf(dt[1])===-1)return-1;for(var Pe=gt.length,be=0,Ee=0;Ee<Pe;Ee++)if(gt[Ee]==="\\")Ee++;else if(gt[Ee]===dt[0])be++;else if(gt[Ee]===dt[1]&&(be--,be<0))return Ee;return-1}function ft(gt){gt&&gt.sanitize&&!gt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Me(gt,dt){if(dt<1)return"";for(var Pe="";dt>1;)dt&1&&(Pe+=gt),dt>>=1,gt+=gt;return Pe+gt}function ce(gt,dt,Pe,be){var Ee=dt.href,qe=dt.title?O(dt.title):null,re=gt[1].replace(/\\([\[\]])/g,"$1");if(gt[0].charAt(0)!=="!"){be.state.inLink=!0;var we={type:"link",raw:Pe,href:Ee,title:qe,text:re,tokens:be.inlineTokens(re)};return be.state.inLink=!1,we}return{type:"image",raw:Pe,href:Ee,title:qe,text:O(re)}}function le(gt,dt){var Pe=gt.match(/^(\s+)(?:```)/);if(Pe===null)return dt;var be=Pe[1];return dt.split(`
`).map(function(Ee){var qe=Ee.match(/^\s+/);if(qe===null)return Ee;var re=qe[0];return re.length>=be.length?Ee.slice(be.length):Ee}).join(`
`)}var ae=(function(){function gt(Pe){this.options=Pe||e.defaults}var dt=gt.prototype;return dt.space=function(be){var Ee=this.rules.block.newline.exec(be);if(Ee&&Ee[0].length>0)return{type:"space",raw:Ee[0]}},dt.code=function(be){var Ee=this.rules.block.code.exec(be);if(Ee){var qe=Ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ee[0],codeBlockStyle:"indented",text:this.options.pedantic?qe:ye(qe,`
`)}}},dt.fences=function(be){var Ee=this.rules.block.fences.exec(be);if(Ee){var qe=Ee[0],re=le(qe,Ee[3]||"");return{type:"code",raw:qe,lang:Ee[2]?Ee[2].trim().replace(this.rules.inline._escapes,"$1"):Ee[2],text:re}}},dt.heading=function(be){var Ee=this.rules.block.heading.exec(be);if(Ee){var qe=Ee[2].trim();if(/#$/.test(qe)){var re=ye(qe,"#");(this.options.pedantic||!re||/ $/.test(re))&&(qe=re.trim())}return{type:"heading",raw:Ee[0],depth:Ee[1].length,text:qe,tokens:this.lexer.inline(qe)}}},dt.hr=function(be){var Ee=this.rules.block.hr.exec(be);if(Ee)return{type:"hr",raw:Ee[0]}},dt.blockquote=function(be){var Ee=this.rules.block.blockquote.exec(be);if(Ee){var qe=Ee[0].replace(/^ *>[ \t]?/gm,""),re=this.lexer.state.top;this.lexer.state.top=!0;var we=this.lexer.blockTokens(qe);return this.lexer.state.top=re,{type:"blockquote",raw:Ee[0],tokens:we,text:qe}}},dt.list=function(be){var Ee=this.rules.block.list.exec(be);if(Ee){var qe,re,we,Ve,it,We,Et,Ye,at,Tt,yt,Pt,pn=Ee[1].trim(),Cn=pn.length>1,vn={type:"list",raw:"",ordered:Cn,start:Cn?+pn.slice(0,-1):"",loose:!1,items:[]};pn=Cn?"\\d{1,9}\\"+pn.slice(-1):"\\"+pn,this.options.pedantic&&(pn=Cn?pn:"[*+-]");for(var $n=new RegExp("^( {0,3}"+pn+")((?:[	 ][^\\n]*)?(?:\\n|$))");be&&(Pt=!1,!(!(Ee=$n.exec(be))||this.rules.block.hr.test(be)));){if(qe=Ee[0],be=be.substring(qe.length),Ye=Ee[2].split(`
`,1)[0].replace(/^\t+/,function(Jn){return" ".repeat(3*Jn.length)}),at=be.split(`
`,1)[0],this.options.pedantic?(Ve=2,yt=Ye.trimLeft()):(Ve=Ee[2].search(/[^ ]/),Ve=Ve>4?1:Ve,yt=Ye.slice(Ve),Ve+=Ee[1].length),We=!1,!Ye&&/^ *$/.test(at)&&(qe+=at+`
`,be=be.substring(at.length+1),Pt=!0),!Pt)for(var Yn=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),er=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Hn=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}(?:```|~~~)"),xr=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}#");be&&(Tt=be.split(`
`,1)[0],at=Tt,this.options.pedantic&&(at=at.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Hn.test(at)||xr.test(at)||Yn.test(at)||er.test(be)));){if(at.search(/[^ ]/)>=Ve||!at.trim())yt+=`
`+at.slice(Ve);else{if(We||Ye.search(/[^ ]/)>=4||Hn.test(Ye)||xr.test(Ye)||er.test(Ye))break;yt+=`
`+at}!We&&!at.trim()&&(We=!0),qe+=Tt+`
`,be=be.substring(Tt.length+1),Ye=at.slice(Ve)}vn.loose||(Et?vn.loose=!0:/\n *\n *$/.test(qe)&&(Et=!0)),this.options.gfm&&(re=/^\[[ xX]\] /.exec(yt),re&&(we=re[0]!=="[ ] ",yt=yt.replace(/^\[[ xX]\] +/,""))),vn.items.push({type:"list_item",raw:qe,task:!!re,checked:we,loose:!1,text:yt}),vn.raw+=qe}vn.items[vn.items.length-1].raw=qe.trimRight(),vn.items[vn.items.length-1].text=yt.trimRight(),vn.raw=vn.raw.trimRight();var Br=vn.items.length;for(it=0;it<Br;it++)if(this.lexer.state.top=!1,vn.items[it].tokens=this.lexer.blockTokens(vn.items[it].text,[]),!vn.loose){var mr=vn.items[it].tokens.filter(function(Jn){return Jn.type==="space"}),Oi=mr.length>0&&mr.some(function(Jn){return/\n.*\n/.test(Jn.raw)});vn.loose=Oi}if(vn.loose)for(it=0;it<Br;it++)vn.items[it].loose=!0;return vn}},dt.html=function(be){var Ee=this.rules.block.html.exec(be);if(Ee){var qe={type:"html",raw:Ee[0],pre:!this.options.sanitizer&&(Ee[1]==="pre"||Ee[1]==="script"||Ee[1]==="style"),text:Ee[0]};if(this.options.sanitize){var re=this.options.sanitizer?this.options.sanitizer(Ee[0]):O(Ee[0]);qe.type="paragraph",qe.text=re,qe.tokens=this.lexer.inline(re)}return qe}},dt.def=function(be){var Ee=this.rules.block.def.exec(be);if(Ee){var qe=Ee[1].toLowerCase().replace(/\s+/g," "),re=Ee[2]?Ee[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",we=Ee[3]?Ee[3].substring(1,Ee[3].length-1).replace(this.rules.inline._escapes,"$1"):Ee[3];return{type:"def",tag:qe,raw:Ee[0],href:re,title:we}}},dt.table=function(be){var Ee=this.rules.block.table.exec(be);if(Ee){var qe={type:"table",header:ge(Ee[1]).map(function(Et){return{text:Et}}),align:Ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ee[3]&&Ee[3].trim()?Ee[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(qe.header.length===qe.align.length){qe.raw=Ee[0];var re=qe.align.length,we,Ve,it,We;for(we=0;we<re;we++)/^ *-+: *$/.test(qe.align[we])?qe.align[we]="right":/^ *:-+: *$/.test(qe.align[we])?qe.align[we]="center":/^ *:-+ *$/.test(qe.align[we])?qe.align[we]="left":qe.align[we]=null;for(re=qe.rows.length,we=0;we<re;we++)qe.rows[we]=ge(qe.rows[we],qe.header.length).map(function(Et){return{text:Et}});for(re=qe.header.length,Ve=0;Ve<re;Ve++)qe.header[Ve].tokens=this.lexer.inline(qe.header[Ve].text);for(re=qe.rows.length,Ve=0;Ve<re;Ve++)for(We=qe.rows[Ve],it=0;it<We.length;it++)We[it].tokens=this.lexer.inline(We[it].text);return qe}}},dt.lheading=function(be){var Ee=this.rules.block.lheading.exec(be);if(Ee)return{type:"heading",raw:Ee[0],depth:Ee[2].charAt(0)==="="?1:2,text:Ee[1],tokens:this.lexer.inline(Ee[1])}},dt.paragraph=function(be){var Ee=this.rules.block.paragraph.exec(be);if(Ee){var qe=Ee[1].charAt(Ee[1].length-1)===`
`?Ee[1].slice(0,-1):Ee[1];return{type:"paragraph",raw:Ee[0],text:qe,tokens:this.lexer.inline(qe)}}},dt.text=function(be){var Ee=this.rules.block.text.exec(be);if(Ee)return{type:"text",raw:Ee[0],text:Ee[0],tokens:this.lexer.inline(Ee[0])}},dt.escape=function(be){var Ee=this.rules.inline.escape.exec(be);if(Ee)return{type:"escape",raw:Ee[0],text:O(Ee[1])}},dt.tag=function(be){var Ee=this.rules.inline.tag.exec(be);if(Ee)return!this.lexer.state.inLink&&/^<a /i.test(Ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ee[0]):O(Ee[0]):Ee[0]}},dt.link=function(be){var Ee=this.rules.inline.link.exec(be);if(Ee){var qe=Ee[2].trim();if(!this.options.pedantic&&/^</.test(qe)){if(!/>$/.test(qe))return;var re=ye(qe.slice(0,-1),"\\");if((qe.length-re.length)%2===0)return}else{var we=Re(Ee[2],"()");if(we>-1){var Ve=Ee[0].indexOf("!")===0?5:4,it=Ve+Ee[1].length+we;Ee[2]=Ee[2].substring(0,we),Ee[0]=Ee[0].substring(0,it).trim(),Ee[3]=""}}var We=Ee[2],Et="";if(this.options.pedantic){var Ye=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(We);Ye&&(We=Ye[1],Et=Ye[3])}else Et=Ee[3]?Ee[3].slice(1,-1):"";return We=We.trim(),/^</.test(We)&&(this.options.pedantic&&!/>$/.test(qe)?We=We.slice(1):We=We.slice(1,-1)),ce(Ee,{href:We&&We.replace(this.rules.inline._escapes,"$1"),title:Et&&Et.replace(this.rules.inline._escapes,"$1")},Ee[0],this.lexer)}},dt.reflink=function(be,Ee){var qe;if((qe=this.rules.inline.reflink.exec(be))||(qe=this.rules.inline.nolink.exec(be))){var re=(qe[2]||qe[1]).replace(/\s+/g," ");if(re=Ee[re.toLowerCase()],!re){var we=qe[0].charAt(0);return{type:"text",raw:we,text:we}}return ce(qe,re,qe[0],this.lexer)}},dt.emStrong=function(be,Ee,qe){qe===void 0&&(qe="");var re=this.rules.inline.emStrong.lDelim.exec(be);if(re&&!(re[3]&&qe.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var we=re[1]||re[2]||"";if(!we||we&&(qe===""||this.rules.inline.punctuation.exec(qe))){var Ve=re[0].length-1,it,We,Et=Ve,Ye=0,at=re[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(at.lastIndex=0,Ee=Ee.slice(-1*be.length+Ve);(re=at.exec(Ee))!=null;)if(it=re[1]||re[2]||re[3]||re[4]||re[5]||re[6],!!it){if(We=it.length,re[3]||re[4]){Et+=We;continue}else if((re[5]||re[6])&&Ve%3&&!((Ve+We)%3)){Ye+=We;continue}if(Et-=We,!(Et>0)){We=Math.min(We,We+Et+Ye);var Tt=be.slice(0,Ve+re.index+(re[0].length-it.length)+We);if(Math.min(Ve,We)%2){var yt=Tt.slice(1,-1);return{type:"em",raw:Tt,text:yt,tokens:this.lexer.inlineTokens(yt)}}var Pt=Tt.slice(2,-2);return{type:"strong",raw:Tt,text:Pt,tokens:this.lexer.inlineTokens(Pt)}}}}}},dt.codespan=function(be){var Ee=this.rules.inline.code.exec(be);if(Ee){var qe=Ee[2].replace(/\n/g," "),re=/[^ ]/.test(qe),we=/^ /.test(qe)&&/ $/.test(qe);return re&&we&&(qe=qe.substring(1,qe.length-1)),qe=O(qe,!0),{type:"codespan",raw:Ee[0],text:qe}}},dt.br=function(be){var Ee=this.rules.inline.br.exec(be);if(Ee)return{type:"br",raw:Ee[0]}},dt.del=function(be){var Ee=this.rules.inline.del.exec(be);if(Ee)return{type:"del",raw:Ee[0],text:Ee[2],tokens:this.lexer.inlineTokens(Ee[2])}},dt.autolink=function(be,Ee){var qe=this.rules.inline.autolink.exec(be);if(qe){var re,we;return qe[2]==="@"?(re=O(this.options.mangle?Ee(qe[1]):qe[1]),we="mailto:"+re):(re=O(qe[1]),we=re),{type:"link",raw:qe[0],text:re,href:we,tokens:[{type:"text",raw:re,text:re}]}}},dt.url=function(be,Ee){var qe;if(qe=this.rules.inline.url.exec(be)){var re,we;if(qe[2]==="@")re=O(this.options.mangle?Ee(qe[0]):qe[0]),we="mailto:"+re;else{var Ve;do Ve=qe[0],qe[0]=this.rules.inline._backpedal.exec(qe[0])[0];while(Ve!==qe[0]);re=O(qe[0]),qe[1]==="www."?we="http://"+qe[0]:we=qe[0]}return{type:"link",raw:qe[0],text:re,href:we,tokens:[{type:"text",raw:re,text:re}]}}},dt.inlineText=function(be,Ee){var qe=this.rules.inline.text.exec(be);if(qe){var re;return this.lexer.state.inRawBlock?re=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(qe[0]):O(qe[0]):qe[0]:re=O(this.options.smartypants?Ee(qe[0]):qe[0]),{type:"text",raw:qe[0],text:re}}},gt})(),V={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ct,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};V._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,V._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,V.def=q(V.def).replace("label",V._label).replace("title",V._title).getRegex(),V.bullet=/(?:[*+-]|\d{1,9}[.)])/,V.listItemStart=q(/^( *)(bull) */).replace("bull",V.bullet).getRegex(),V.list=q(V.list).replace(/bull/g,V.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+V.def.source+")").getRegex(),V._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",V._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,V.html=q(V.html,"i").replace("comment",V._comment).replace("tag",V._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),V.paragraph=q(V._paragraph).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex(),V.blockquote=q(V.blockquote).replace("paragraph",V.paragraph).getRegex(),V.normal=r({},V),V.gfm=r({},V.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),V.gfm.table=q(V.gfm.table).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex(),V.gfm.paragraph=q(V._paragraph).replace("hr",V.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",V.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",V._tag).getRegex(),V.pedantic=r({},V.normal,{html:q(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",V._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ct,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:q(V.normal._paragraph).replace("hr",V.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",V.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var me={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ct,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ct,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};me._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",me.punctuation=q(me.punctuation).replace(/punctuation/g,me._punctuation).getRegex(),me.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,me.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,me._comment=q(V._comment).replace("(?:-->|$)","-->").getRegex(),me.emStrong.lDelim=q(me.emStrong.lDelim).replace(/punct/g,me._punctuation).getRegex(),me.emStrong.rDelimAst=q(me.emStrong.rDelimAst,"g").replace(/punct/g,me._punctuation).getRegex(),me.emStrong.rDelimUnd=q(me.emStrong.rDelimUnd,"g").replace(/punct/g,me._punctuation).getRegex(),me._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,me._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,me._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,me.autolink=q(me.autolink).replace("scheme",me._scheme).replace("email",me._email).getRegex(),me._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,me.tag=q(me.tag).replace("comment",me._comment).replace("attribute",me._attribute).getRegex(),me._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,me._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,me._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,me.link=q(me.link).replace("label",me._label).replace("href",me._href).replace("title",me._title).getRegex(),me.reflink=q(me.reflink).replace("label",me._label).replace("ref",V._label).getRegex(),me.nolink=q(me.nolink).replace("ref",V._label).getRegex(),me.reflinkSearch=q(me.reflinkSearch,"g").replace("reflink",me.reflink).replace("nolink",me.nolink).getRegex(),me.normal=r({},me),me.pedantic=r({},me.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:q(/^!?\[(label)\]\((.*?)\)/).replace("label",me._label).getRegex(),reflink:q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",me._label).getRegex()}),me.gfm=r({},me.normal,{escape:q(me.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),me.gfm.url=q(me.gfm.url,"i").replace("email",me.gfm._extended_email).getRegex(),me.breaks=r({},me.gfm,{br:q(me.br).replace("{2,}","*").getRegex(),text:q(me.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ae(gt){return gt.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Ne(gt){var dt="",Pe,be,Ee=gt.length;for(Pe=0;Pe<Ee;Pe++)be=gt.charCodeAt(Pe),Math.random()>.5&&(be="x"+be.toString(16)),dt+="&#"+be+";";return dt}var ut=(function(){function gt(Pe){this.tokens=[],this.tokens.links=Object.create(null),this.options=Pe||e.defaults,this.options.tokenizer=this.options.tokenizer||new ae,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var be={block:V.normal,inline:me.normal};this.options.pedantic?(be.block=V.pedantic,be.inline=me.pedantic):this.options.gfm&&(be.block=V.gfm,this.options.breaks?be.inline=me.breaks:be.inline=me.gfm),this.tokenizer.rules=be}gt.lex=function(be,Ee){var qe=new gt(Ee);return qe.lex(be)},gt.lexInline=function(be,Ee){var qe=new gt(Ee);return qe.inlineTokens(be)};var dt=gt.prototype;return dt.lex=function(be){be=be.replace(/\r\n|\r/g,`
`),this.blockTokens(be,this.tokens);for(var Ee;Ee=this.inlineQueue.shift();)this.inlineTokens(Ee.src,Ee.tokens);return this.tokens},dt.blockTokens=function(be,Ee){var qe=this;Ee===void 0&&(Ee=[]),this.options.pedantic?be=be.replace(/\t/g,"    ").replace(/^ +$/gm,""):be=be.replace(/^( *)(\t+)/gm,function(Et,Ye,at){return Ye+"    ".repeat(at.length)});for(var re,we,Ve,it;be;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Et){return(re=Et.call({lexer:qe},be,Ee))?(be=be.substring(re.raw.length),Ee.push(re),!0):!1}))){if(re=this.tokenizer.space(be)){be=be.substring(re.raw.length),re.raw.length===1&&Ee.length>0?Ee[Ee.length-1].raw+=`
`:Ee.push(re);continue}if(re=this.tokenizer.code(be)){be=be.substring(re.raw.length),we=Ee[Ee.length-1],we&&(we.type==="paragraph"||we.type==="text")?(we.raw+=`
`+re.raw,we.text+=`
`+re.text,this.inlineQueue[this.inlineQueue.length-1].src=we.text):Ee.push(re);continue}if(re=this.tokenizer.fences(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.heading(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.hr(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.blockquote(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.list(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.html(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.def(be)){be=be.substring(re.raw.length),we=Ee[Ee.length-1],we&&(we.type==="paragraph"||we.type==="text")?(we.raw+=`
`+re.raw,we.text+=`
`+re.raw,this.inlineQueue[this.inlineQueue.length-1].src=we.text):this.tokens.links[re.tag]||(this.tokens.links[re.tag]={href:re.href,title:re.title});continue}if(re=this.tokenizer.table(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.lheading(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(Ve=be,this.options.extensions&&this.options.extensions.startBlock&&(function(){var Et=1/0,Ye=be.slice(1),at=void 0;qe.options.extensions.startBlock.forEach(function(Tt){at=Tt.call({lexer:this},Ye),typeof at=="number"&&at>=0&&(Et=Math.min(Et,at))}),Et<1/0&&Et>=0&&(Ve=be.substring(0,Et+1))})(),this.state.top&&(re=this.tokenizer.paragraph(Ve))){we=Ee[Ee.length-1],it&&we.type==="paragraph"?(we.raw+=`
`+re.raw,we.text+=`
`+re.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=we.text):Ee.push(re),it=Ve.length!==be.length,be=be.substring(re.raw.length);continue}if(re=this.tokenizer.text(be)){be=be.substring(re.raw.length),we=Ee[Ee.length-1],we&&we.type==="text"?(we.raw+=`
`+re.raw,we.text+=`
`+re.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=we.text):Ee.push(re);continue}if(be){var We="Infinite loop on byte: "+be.charCodeAt(0);if(this.options.silent){console.error(We);break}else throw new Error(We)}}return this.state.top=!0,Ee},dt.inline=function(be,Ee){return Ee===void 0&&(Ee=[]),this.inlineQueue.push({src:be,tokens:Ee}),Ee},dt.inlineTokens=function(be,Ee){var qe=this;Ee===void 0&&(Ee=[]);var re,we,Ve,it=be,We,Et,Ye;if(this.tokens.links){var at=Object.keys(this.tokens.links);if(at.length>0)for(;(We=this.tokenizer.rules.inline.reflinkSearch.exec(it))!=null;)at.includes(We[0].slice(We[0].lastIndexOf("[")+1,-1))&&(it=it.slice(0,We.index)+"["+Me("a",We[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(We=this.tokenizer.rules.inline.blockSkip.exec(it))!=null;)it=it.slice(0,We.index)+"["+Me("a",We[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(We=this.tokenizer.rules.inline.escapedEmSt.exec(it))!=null;)it=it.slice(0,We.index+We[0].length-2)+"++"+it.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;be;)if(Et||(Ye=""),Et=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(yt){return(re=yt.call({lexer:qe},be,Ee))?(be=be.substring(re.raw.length),Ee.push(re),!0):!1}))){if(re=this.tokenizer.escape(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.tag(be)){be=be.substring(re.raw.length),we=Ee[Ee.length-1],we&&re.type==="text"&&we.type==="text"?(we.raw+=re.raw,we.text+=re.text):Ee.push(re);continue}if(re=this.tokenizer.link(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.reflink(be,this.tokens.links)){be=be.substring(re.raw.length),we=Ee[Ee.length-1],we&&re.type==="text"&&we.type==="text"?(we.raw+=re.raw,we.text+=re.text):Ee.push(re);continue}if(re=this.tokenizer.emStrong(be,it,Ye)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.codespan(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.br(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.del(be)){be=be.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.autolink(be,Ne)){be=be.substring(re.raw.length),Ee.push(re);continue}if(!this.state.inLink&&(re=this.tokenizer.url(be,Ne))){be=be.substring(re.raw.length),Ee.push(re);continue}if(Ve=be,this.options.extensions&&this.options.extensions.startInline&&(function(){var yt=1/0,Pt=be.slice(1),pn=void 0;qe.options.extensions.startInline.forEach(function(Cn){pn=Cn.call({lexer:this},Pt),typeof pn=="number"&&pn>=0&&(yt=Math.min(yt,pn))}),yt<1/0&&yt>=0&&(Ve=be.substring(0,yt+1))})(),re=this.tokenizer.inlineText(Ve,Ae)){be=be.substring(re.raw.length),re.raw.slice(-1)!=="_"&&(Ye=re.raw.slice(-1)),Et=!0,we=Ee[Ee.length-1],we&&we.type==="text"?(we.raw+=re.raw,we.text+=re.text):Ee.push(re);continue}if(be){var Tt="Infinite loop on byte: "+be.charCodeAt(0);if(this.options.silent){console.error(Tt);break}else throw new Error(Tt)}}return Ee},n(gt,null,[{key:"rules",get:function(){return{block:V,inline:me}}}]),gt})(),xt=(function(){function gt(Pe){this.options=Pe||e.defaults}var dt=gt.prototype;return dt.code=function(be,Ee,qe){var re=(Ee||"").match(/\S*/)[0];if(this.options.highlight){var we=this.options.highlight(be,re);we!=null&&we!==be&&(qe=!0,be=we)}return be=be.replace(/\n$/,"")+`
`,re?'<pre><code class="'+this.options.langPrefix+O(re)+'">'+(qe?be:O(be,!0))+`</code></pre>
`:"<pre><code>"+(qe?be:O(be,!0))+`</code></pre>
`},dt.blockquote=function(be){return`<blockquote>
`+be+`</blockquote>
`},dt.html=function(be){return be},dt.heading=function(be,Ee,qe,re){if(this.options.headerIds){var we=this.options.headerPrefix+re.slug(qe);return"<h"+Ee+' id="'+we+'">'+be+"</h"+Ee+`>
`}return"<h"+Ee+">"+be+"</h"+Ee+`>
`},dt.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},dt.list=function(be,Ee,qe){var re=Ee?"ol":"ul",we=Ee&&qe!==1?' start="'+qe+'"':"";return"<"+re+we+`>
`+be+"</"+re+`>
`},dt.listitem=function(be){return"<li>"+be+`</li>
`},dt.checkbox=function(be){return"<input "+(be?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},dt.paragraph=function(be){return"<p>"+be+`</p>
`},dt.table=function(be,Ee){return Ee&&(Ee="<tbody>"+Ee+"</tbody>"),`<table>
<thead>
`+be+`</thead>
`+Ee+`</table>
`},dt.tablerow=function(be){return`<tr>
`+be+`</tr>
`},dt.tablecell=function(be,Ee){var qe=Ee.header?"th":"td",re=Ee.align?"<"+qe+' align="'+Ee.align+'">':"<"+qe+">";return re+be+("</"+qe+`>
`)},dt.strong=function(be){return"<strong>"+be+"</strong>"},dt.em=function(be){return"<em>"+be+"</em>"},dt.codespan=function(be){return"<code>"+be+"</code>"},dt.br=function(){return this.options.xhtml?"<br/>":"<br>"},dt.del=function(be){return"<del>"+be+"</del>"},dt.link=function(be,Ee,qe){if(be=ve(this.options.sanitize,this.options.baseUrl,be),be===null)return qe;var re='<a href="'+be+'"';return Ee&&(re+=' title="'+Ee+'"'),re+=">"+qe+"</a>",re},dt.image=function(be,Ee,qe){if(be=ve(this.options.sanitize,this.options.baseUrl,be),be===null)return qe;var re='<img src="'+be+'" alt="'+qe+'"';return Ee&&(re+=' title="'+Ee+'"'),re+=this.options.xhtml?"/>":">",re},dt.text=function(be){return be},gt})(),et=(function(){function gt(){}var dt=gt.prototype;return dt.strong=function(be){return be},dt.em=function(be){return be},dt.codespan=function(be){return be},dt.del=function(be){return be},dt.html=function(be){return be},dt.text=function(be){return be},dt.link=function(be,Ee,qe){return""+qe},dt.image=function(be,Ee,qe){return""+qe},dt.br=function(){return""},gt})(),Wt=(function(){function gt(){this.seen={}}var dt=gt.prototype;return dt.serialize=function(be){return be.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},dt.getNextSafeSlug=function(be,Ee){var qe=be,re=0;if(this.seen.hasOwnProperty(qe)){re=this.seen[be];do re++,qe=be+"-"+re;while(this.seen.hasOwnProperty(qe))}return Ee||(this.seen[be]=re,this.seen[qe]=0),qe},dt.slug=function(be,Ee){Ee===void 0&&(Ee={});var qe=this.serialize(be);return this.getNextSafeSlug(qe,Ee.dryrun)},gt})(),_t=(function(){function gt(Pe){this.options=Pe||e.defaults,this.options.renderer=this.options.renderer||new xt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new et,this.slugger=new Wt}gt.parse=function(be,Ee){var qe=new gt(Ee);return qe.parse(be)},gt.parseInline=function(be,Ee){var qe=new gt(Ee);return qe.parseInline(be)};var dt=gt.prototype;return dt.parse=function(be,Ee){Ee===void 0&&(Ee=!0);var qe="",re,we,Ve,it,We,Et,Ye,at,Tt,yt,Pt,pn,Cn,vn,$n,Yn,er,Hn,xr,Br=be.length;for(re=0;re<Br;re++){if(yt=be[re],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[yt.type]&&(xr=this.options.extensions.renderers[yt.type].call({parser:this},yt),xr!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(yt.type))){qe+=xr||"";continue}switch(yt.type){case"space":continue;case"hr":{qe+=this.renderer.hr();continue}case"heading":{qe+=this.renderer.heading(this.parseInline(yt.tokens),yt.depth,U(this.parseInline(yt.tokens,this.textRenderer)),this.slugger);continue}case"code":{qe+=this.renderer.code(yt.text,yt.lang,yt.escaped);continue}case"table":{for(at="",Ye="",it=yt.header.length,we=0;we<it;we++)Ye+=this.renderer.tablecell(this.parseInline(yt.header[we].tokens),{header:!0,align:yt.align[we]});for(at+=this.renderer.tablerow(Ye),Tt="",it=yt.rows.length,we=0;we<it;we++){for(Et=yt.rows[we],Ye="",We=Et.length,Ve=0;Ve<We;Ve++)Ye+=this.renderer.tablecell(this.parseInline(Et[Ve].tokens),{header:!1,align:yt.align[Ve]});Tt+=this.renderer.tablerow(Ye)}qe+=this.renderer.table(at,Tt);continue}case"blockquote":{Tt=this.parse(yt.tokens),qe+=this.renderer.blockquote(Tt);continue}case"list":{for(Pt=yt.ordered,pn=yt.start,Cn=yt.loose,it=yt.items.length,Tt="",we=0;we<it;we++)$n=yt.items[we],Yn=$n.checked,er=$n.task,vn="",$n.task&&(Hn=this.renderer.checkbox(Yn),Cn?$n.tokens.length>0&&$n.tokens[0].type==="paragraph"?($n.tokens[0].text=Hn+" "+$n.tokens[0].text,$n.tokens[0].tokens&&$n.tokens[0].tokens.length>0&&$n.tokens[0].tokens[0].type==="text"&&($n.tokens[0].tokens[0].text=Hn+" "+$n.tokens[0].tokens[0].text)):$n.tokens.unshift({type:"text",text:Hn}):vn+=Hn),vn+=this.parse($n.tokens,Cn),Tt+=this.renderer.listitem(vn,er,Yn);qe+=this.renderer.list(Tt,Pt,pn);continue}case"html":{qe+=this.renderer.html(yt.text);continue}case"paragraph":{qe+=this.renderer.paragraph(this.parseInline(yt.tokens));continue}case"text":{for(Tt=yt.tokens?this.parseInline(yt.tokens):yt.text;re+1<Br&&be[re+1].type==="text";)yt=be[++re],Tt+=`
`+(yt.tokens?this.parseInline(yt.tokens):yt.text);qe+=Ee?this.renderer.paragraph(Tt):Tt;continue}default:{var mr='Token with "'+yt.type+'" type was not found.';if(this.options.silent){console.error(mr);return}else throw new Error(mr)}}}return qe},dt.parseInline=function(be,Ee){Ee=Ee||this.renderer;var qe="",re,we,Ve,it=be.length;for(re=0;re<it;re++){if(we=be[re],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[we.type]&&(Ve=this.options.extensions.renderers[we.type].call({parser:this},we),Ve!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(we.type))){qe+=Ve||"";continue}switch(we.type){case"escape":{qe+=Ee.text(we.text);break}case"html":{qe+=Ee.html(we.text);break}case"link":{qe+=Ee.link(we.href,we.title,this.parseInline(we.tokens,Ee));break}case"image":{qe+=Ee.image(we.href,we.title,we.text);break}case"strong":{qe+=Ee.strong(this.parseInline(we.tokens,Ee));break}case"em":{qe+=Ee.em(this.parseInline(we.tokens,Ee));break}case"codespan":{qe+=Ee.codespan(we.text);break}case"br":{qe+=Ee.br();break}case"del":{qe+=Ee.del(this.parseInline(we.tokens,Ee));break}case"text":{qe+=Ee.text(we.text);break}default:{var We='Token with "'+we.type+'" type was not found.';if(this.options.silent){console.error(We);return}else throw new Error(We)}}}return qe},gt})(),Ft=(function(){function gt(Pe){this.options=Pe||e.defaults}var dt=gt.prototype;return dt.preprocess=function(be){return be},dt.postprocess=function(be){return be},gt})();Ft.passThroughHooks=new Set(["preprocess","postprocess"]);function st(gt,dt,Pe){return function(be){if(be.message+=`
Please report this to https://github.com/markedjs/marked.`,gt){var Ee="<p>An error occurred:</p><pre>"+O(be.message+"",!0)+"</pre>";if(dt)return Promise.resolve(Ee);if(Pe){Pe(null,Ee);return}return Ee}if(dt)return Promise.reject(be);if(Pe){Pe(be);return}throw be}}function At(gt,dt){return function(Pe,be,Ee){typeof be=="function"&&(Ee=be,be=null);var qe=r({},be);be=r({},St.defaults,qe);var re=st(be.silent,be.async,Ee);if(typeof Pe>"u"||Pe===null)return re(new Error("marked(): input parameter is undefined or null"));if(typeof Pe!="string")return re(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected"));if(ft(be),be.hooks&&(be.hooks.options=be),Ee){var we=be.highlight,Ve;try{be.hooks&&(Pe=be.hooks.preprocess(Pe)),Ve=gt(Pe,be)}catch(at){return re(at)}var it=function(Tt){var yt;if(!Tt)try{be.walkTokens&&St.walkTokens(Ve,be.walkTokens),yt=dt(Ve,be),be.hooks&&(yt=be.hooks.postprocess(yt))}catch(Pt){Tt=Pt}return be.highlight=we,Tt?re(Tt):Ee(null,yt)};if(!we||we.length<3||(delete be.highlight,!Ve.length))return it();var We=0;St.walkTokens(Ve,function(at){at.type==="code"&&(We++,setTimeout(function(){we(at.text,at.lang,function(Tt,yt){if(Tt)return it(Tt);yt!=null&&yt!==at.text&&(at.text=yt,at.escaped=!0),We--,We===0&&it()})},0))}),We===0&&it();return}if(be.async)return Promise.resolve(be.hooks?be.hooks.preprocess(Pe):Pe).then(function(at){return gt(at,be)}).then(function(at){return be.walkTokens?Promise.all(St.walkTokens(at,be.walkTokens)).then(function(){return at}):at}).then(function(at){return dt(at,be)}).then(function(at){return be.hooks?be.hooks.postprocess(at):at}).catch(re);try{be.hooks&&(Pe=be.hooks.preprocess(Pe));var Et=gt(Pe,be);be.walkTokens&&St.walkTokens(Et,be.walkTokens);var Ye=dt(Et,be);return be.hooks&&(Ye=be.hooks.postprocess(Ye)),Ye}catch(at){return re(at)}}}function St(gt,dt,Pe){return At(ut.lex,_t.parse)(gt,dt,Pe)}St.options=St.setOptions=function(gt){return St.defaults=r({},St.defaults,gt),v(St.defaults),St},St.getDefaults=c,St.defaults=e.defaults,St.use=function(){for(var gt=St.defaults.extensions||{renderers:{},childTokens:{}},dt=arguments.length,Pe=new Array(dt),be=0;be<dt;be++)Pe[be]=arguments[be];Pe.forEach(function(Ee){var qe=r({},Ee);if(qe.async=St.defaults.async||qe.async||!1,Ee.extensions&&(Ee.extensions.forEach(function(we){if(!we.name)throw new Error("extension name required");if(we.renderer){var Ve=gt.renderers[we.name];Ve?gt.renderers[we.name]=function(){for(var it=arguments.length,We=new Array(it),Et=0;Et<it;Et++)We[Et]=arguments[Et];var Ye=we.renderer.apply(this,We);return Ye===!1&&(Ye=Ve.apply(this,We)),Ye}:gt.renderers[we.name]=we.renderer}if(we.tokenizer){if(!we.level||we.level!=="block"&&we.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");gt[we.level]?gt[we.level].unshift(we.tokenizer):gt[we.level]=[we.tokenizer],we.start&&(we.level==="block"?gt.startBlock?gt.startBlock.push(we.start):gt.startBlock=[we.start]:we.level==="inline"&&(gt.startInline?gt.startInline.push(we.start):gt.startInline=[we.start]))}we.childTokens&&(gt.childTokens[we.name]=we.childTokens)}),qe.extensions=gt),Ee.renderer&&(function(){var we=St.defaults.renderer||new xt,Ve=function(Et){var Ye=we[Et];we[Et]=function(){for(var at=arguments.length,Tt=new Array(at),yt=0;yt<at;yt++)Tt[yt]=arguments[yt];var Pt=Ee.renderer[Et].apply(we,Tt);return Pt===!1&&(Pt=Ye.apply(we,Tt)),Pt}};for(var it in Ee.renderer)Ve(it);qe.renderer=we})(),Ee.tokenizer&&(function(){var we=St.defaults.tokenizer||new ae,Ve=function(Et){var Ye=we[Et];we[Et]=function(){for(var at=arguments.length,Tt=new Array(at),yt=0;yt<at;yt++)Tt[yt]=arguments[yt];var Pt=Ee.tokenizer[Et].apply(we,Tt);return Pt===!1&&(Pt=Ye.apply(we,Tt)),Pt}};for(var it in Ee.tokenizer)Ve(it);qe.tokenizer=we})(),Ee.hooks&&(function(){var we=St.defaults.hooks||new Ft,Ve=function(Et){var Ye=we[Et];Ft.passThroughHooks.has(Et)?we[Et]=function(at){if(St.defaults.async)return Promise.resolve(Ee.hooks[Et].call(we,at)).then(function(yt){return Ye.call(we,yt)});var Tt=Ee.hooks[Et].call(we,at);return Ye.call(we,Tt)}:we[Et]=function(){for(var at=arguments.length,Tt=new Array(at),yt=0;yt<at;yt++)Tt[yt]=arguments[yt];var Pt=Ee.hooks[Et].apply(we,Tt);return Pt===!1&&(Pt=Ye.apply(we,Tt)),Pt}};for(var it in Ee.hooks)Ve(it);qe.hooks=we})(),Ee.walkTokens){var re=St.defaults.walkTokens;qe.walkTokens=function(we){var Ve=[];return Ve.push(Ee.walkTokens.call(this,we)),re&&(Ve=Ve.concat(re.call(this,we))),Ve}}St.setOptions(qe)})},St.walkTokens=function(gt,dt){for(var Pe=[],be=function(){var we=qe.value;switch(Pe=Pe.concat(dt.call(St,we)),we.type){case"table":{for(var Ve=y(we.header),it;!(it=Ve()).done;){var We=it.value;Pe=Pe.concat(St.walkTokens(We.tokens,dt))}for(var Et=y(we.rows),Ye;!(Ye=Et()).done;)for(var at=Ye.value,Tt=y(at),yt;!(yt=Tt()).done;){var Pt=yt.value;Pe=Pe.concat(St.walkTokens(Pt.tokens,dt))}break}case"list":{Pe=Pe.concat(St.walkTokens(we.items,dt));break}default:St.defaults.extensions&&St.defaults.extensions.childTokens&&St.defaults.extensions.childTokens[we.type]?St.defaults.extensions.childTokens[we.type].forEach(function(pn){Pe=Pe.concat(St.walkTokens(we[pn],dt))}):we.tokens&&(Pe=Pe.concat(St.walkTokens(we.tokens,dt)))}},Ee=y(gt),qe;!(qe=Ee()).done;)be();return Pe},St.parseInline=At(ut.lexInline,_t.parseInline),St.Parser=_t,St.parser=_t.parse,St.Renderer=xt,St.TextRenderer=et,St.Lexer=ut,St.lexer=ut.lex,St.Tokenizer=ae,St.Slugger=Wt,St.Hooks=Ft,St.parse=St;var Kt=St.options,zt=St.setOptions,Ut=St.use,Vt=St.walkTokens,un=St.parseInline,Xt=St,qt=_t.parse,Bn=ut.lex;e.Hooks=Ft,e.Lexer=ut,e.Parser=_t,e.Renderer=xt,e.Slugger=Wt,e.TextRenderer=et,e.Tokenizer=ae,e.getDefaults=c,e.lexer=Bn,e.marked=St,e.options=Kt,e.parse=Xt,e.parseInline=un,e.parser=qt,e.setOptions=zt,e.use=Ut,e.walkTokens=Vt})(n2)),n2}var r2,m5;function EP(){if(m5)return r2;m5=1;var e=yc();uP(),cP(),fP(),E7(),A7(),dP(),gP(),pP(),mP(),vP(),S7();var t=CP(),n=SP().marked,r=/Mac/.test(navigator.platform),o=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),u={toggleBold:U,toggleItalic:W,drawLink:Me,toggleHeadingSmaller:ve,toggleHeadingBigger:Se,drawImage:ce,toggleBlockquote:ne,toggleOrderedList:Re,toggleUnorderedList:ye,toggleCodeBlock:J,togglePreview:et,toggleStrikethrough:q,toggleHeading1:Fe,toggleHeading2:Ue,toggleHeading3:Ze,toggleHeading4:mt,toggleHeading5:ct,toggleHeading6:ge,cleanBlock:ft,drawTable:me,drawHorizontalRule:Ae,undo:Ne,redo:ut,toggleSideBySide:xt,toggleFullScreen:N},y={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},d=function(re){for(var we in u)if(u[we]===re)return we;return null},a=function(){var re=!1;return(function(we){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(we)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(we.substr(0,4)))&&(re=!0)})(navigator.userAgent||navigator.vendor||window.opera),re};function c(re){for(var we;(we=o.exec(re))!==null;){var Ve=we[0];if(Ve.indexOf("target=")===-1){var it=Ve.replace(/>$/,' target="_blank">');re=re.replace(Ve,it)}}return re}function v(re){for(var we=new DOMParser,Ve=we.parseFromString(re,"text/html"),it=Ve.getElementsByTagName("li"),We=0;We<it.length;We++)for(var Et=it[We],Ye=0;Ye<Et.children.length;Ye++){var at=Et.children[Ye];at instanceof HTMLInputElement&&at.type==="checkbox"&&(Et.style.marginLeft="-1.5em",Et.style.listStyleType="none")}return Ve.documentElement.innerHTML}function f(re){return r?re=re.replace("Ctrl","Cmd"):re=re.replace("Cmd","Ctrl"),re}function g(re,we,Ve,it){var We=m(re,!1,we,Ve,"button",it);We.classList.add("easymde-dropdown"),We.onclick=function(){We.focus()};var Et=document.createElement("div");Et.className="easymde-dropdown-content";for(var Ye=0;Ye<re.children.length;Ye++){var at=re.children[Ye],Tt;typeof at=="string"&&at in Xt?Tt=m(Xt[at],!0,we,Ve,"button",it):Tt=m(at,!0,we,Ve,"button",it),Tt.addEventListener("click",function(yt){yt.stopPropagation()},!1),Et.appendChild(Tt)}return We.appendChild(Et),We}function m(re,we,Ve,it,We,Et){re=re||{};var Ye=document.createElement(We);if(re.attributes)for(var at in re.attributes)Object.prototype.hasOwnProperty.call(re.attributes,at)&&Ye.setAttribute(at,re.attributes[at]);var Tt=Et.options.toolbarButtonClassPrefix?Et.options.toolbarButtonClassPrefix+"-":"";Ye.className=Tt+re.name,Ye.setAttribute("type",We),Ve=Ve??!0,re.text&&(Ye.innerText=re.text),re.name&&re.name in it&&(u[re.name]=re.action),re.title&&Ve&&(Ye.title=k(re.title,re.action,it),r&&(Ye.title=Ye.title.replace("Ctrl",""),Ye.title=Ye.title.replace("Alt",""))),re.title&&Ye.setAttribute("aria-label",re.title),re.noDisable&&Ye.classList.add("no-disable"),re.noMobile&&Ye.classList.add("no-mobile");var yt=[];typeof re.className<"u"&&(yt=re.className.split(" "));for(var Pt=[],pn=0;pn<yt.length;pn++){var Cn=yt[pn];Cn.match(/^fa([srlb]|(-[\w-]*)|$)/)?Pt.push(Cn):Ye.classList.add(Cn)}if(Ye.tabIndex=-1,Pt.length>0){for(var vn=document.createElement("i"),$n=0;$n<Pt.length;$n++){var Yn=Pt[$n];vn.classList.add(Yn)}Ye.appendChild(vn)}return typeof re.icon<"u"&&(Ye.innerHTML=re.icon),re.action&&we&&(typeof re.action=="function"?Ye.onclick=function(er){er.preventDefault(),re.action(Et)}:typeof re.action=="string"&&(Ye.onclick=function(er){er.preventDefault(),window.open(re.action,"_blank")})),Ye}function C(){var re=document.createElement("i");return re.className="separator",re.innerHTML="|",re}function k(re,we,Ve){var it,We=re;return we&&(it=d(we),Ve[it]&&(We+=" ("+f(Ve[it])+")")),We}function S(re,we){we=we||re.getCursor("start");var Ve=re.getTokenAt(we);if(!Ve.type)return{};for(var it=Ve.type.split(" "),We={},Et,Ye,at=0;at<it.length;at++)Et=it[at],Et==="strong"?We.bold=!0:Et==="variable-2"?(Ye=re.getLine(we.line),/^\s*\d+\.\s/.test(Ye)?We["ordered-list"]=!0:We["unordered-list"]=!0):Et==="atom"?We.quote=!0:Et==="em"?We.italic=!0:Et==="quote"?We.quote=!0:Et==="strikethrough"?We.strikethrough=!0:Et==="comment"?We.code=!0:Et==="link"&&!We.image?We.link=!0:Et==="image"?We.image=!0:Et.match(/^header(-[1-6])?$/)&&(We[Et.replace("header","heading")]=!0);return We}var O="";function N(re){var we=re.codemirror;we.setOption("fullScreen",!we.getOption("fullScreen")),we.getOption("fullScreen")?(O=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=O;var Ve=we.getWrapperElement(),it=Ve.nextSibling;if(it.classList.contains("editor-preview-active-side"))if(re.options.sideBySideFullscreen===!1){var We=Ve.parentNode;we.getOption("fullScreen")?We.classList.remove("sided--no-fullscreen"):We.classList.add("sided--no-fullscreen")}else xt(re);if(re.options.onToggleFullScreen&&re.options.onToggleFullScreen(we.getOption("fullScreen")||!1),typeof re.options.maxHeight<"u"&&(we.getOption("fullScreen")?(we.getScrollerElement().style.removeProperty("height"),it.style.removeProperty("height")):(we.getScrollerElement().style.height=re.options.maxHeight,re.setPreviewMaxHeight())),re.toolbar_div.classList.toggle("fullscreen"),re.toolbarElements&&re.toolbarElements.fullscreen){var Et=re.toolbarElements.fullscreen;Et.classList.toggle("active")}}function U(re){At(re,"bold",re.options.blockStyles.bold)}function W(re){At(re,"italic",re.options.blockStyles.italic)}function q(re){At(re,"strikethrough","~~")}function J(re){var we=re.options.blockStyles.code;function Ve(ar){if(typeof ar!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof ar+": "+ar;return ar.styles&&ar.styles[2]&&ar.styles[2].indexOf("formatting-code-block")!==-1}function it(ar){return ar.state.base.base||ar.state.base}function We(ar,fi,yi,xi,Tr){yi=yi||ar.getLineHandle(fi),xi=xi||ar.getTokenAt({line:fi,ch:1}),Tr=Tr||!!yi.text&&ar.getTokenAt({line:fi,ch:yi.text.length-1});var zr=xi.type?xi.type.split(" "):[];return Tr&&it(Tr).indentedCode?"indented":zr.indexOf("comment")===-1?!1:it(xi).fencedChars||it(Tr).fencedChars||Ve(yi)?"fenced":"single"}function Et(ar,fi,yi,xi){var Tr=fi.line+1,zr=yi.line+1,gr=fi.line!==yi.line,oa=xi+`
`,Hr=`
`+xi;gr&&zr++,gr&&yi.ch===0&&(Hr=xi+`
`,zr--),Wt(ar,!1,[oa,Hr]),ar.setSelection({line:Tr,ch:0},{line:zr,ch:0})}var Ye=re.codemirror,at=Ye.getCursor("start"),Tt=Ye.getCursor("end"),yt=Ye.getTokenAt({line:at.line,ch:at.ch||1}),Pt=Ye.getLineHandle(at.line),pn=We(Ye,at.line,Pt,yt),Cn,vn,$n;if(pn==="single"){var Yn=Pt.text.slice(0,at.ch).replace("`",""),er=Pt.text.slice(at.ch).replace("`","");Ye.replaceRange(Yn+er,{line:at.line,ch:0},{line:at.line,ch:99999999999999}),at.ch--,at!==Tt&&Tt.ch--,Ye.setSelection(at,Tt),Ye.focus()}else if(pn==="fenced")if(at.line!==Tt.line||at.ch!==Tt.ch){for(Cn=at.line;Cn>=0&&(Pt=Ye.getLineHandle(Cn),!Ve(Pt));Cn--);var Hn=Ye.getTokenAt({line:Cn,ch:1}),xr=it(Hn).fencedChars,Br,mr,Oi,Jn;Ve(Ye.getLineHandle(at.line))?(Br="",mr=at.line):Ve(Ye.getLineHandle(at.line-1))?(Br="",mr=at.line-1):(Br=xr+`
`,mr=at.line),Ve(Ye.getLineHandle(Tt.line))?(Oi="",Jn=Tt.line,Tt.ch===0&&(Jn+=1)):Tt.ch!==0&&Ve(Ye.getLineHandle(Tt.line+1))?(Oi="",Jn=Tt.line+1):(Oi=xr+`
`,Jn=Tt.line+1),Tt.ch===0&&(Jn-=1),Ye.operation(function(){Ye.replaceRange(Oi,{line:Jn,ch:0},{line:Jn+(Oi?0:1),ch:0}),Ye.replaceRange(Br,{line:mr,ch:0},{line:mr+(Br?0:1),ch:0})}),Ye.setSelection({line:mr+(Br?1:0),ch:0},{line:Jn+(Br?1:-1),ch:0}),Ye.focus()}else{var Fr=at.line;if(Ve(Ye.getLineHandle(at.line))&&(We(Ye,at.line+1)==="fenced"?(Cn=at.line,Fr=at.line+1):(vn=at.line,Fr=at.line-1)),Cn===void 0)for(Cn=Fr;Cn>=0&&(Pt=Ye.getLineHandle(Cn),!Ve(Pt));Cn--);if(vn===void 0)for($n=Ye.lineCount(),vn=Fr;vn<$n&&(Pt=Ye.getLineHandle(vn),!Ve(Pt));vn++);Ye.operation(function(){Ye.replaceRange("",{line:Cn,ch:0},{line:Cn+1,ch:0}),Ye.replaceRange("",{line:vn-1,ch:0},{line:vn,ch:0})}),Ye.focus()}else if(pn==="indented"){if(at.line!==Tt.line||at.ch!==Tt.ch)Cn=at.line,vn=Tt.line,Tt.ch===0&&vn--;else{for(Cn=at.line;Cn>=0;Cn--)if(Pt=Ye.getLineHandle(Cn),!Pt.text.match(/^\s*$/)&&We(Ye,Cn,Pt)!=="indented"){Cn+=1;break}for($n=Ye.lineCount(),vn=at.line;vn<$n;vn++)if(Pt=Ye.getLineHandle(vn),!Pt.text.match(/^\s*$/)&&We(Ye,vn,Pt)!=="indented"){vn-=1;break}}var si=Ye.getLineHandle(vn+1),Yr=si&&Ye.getTokenAt({line:vn+1,ch:si.text.length-1}),vi=Yr&&it(Yr).indentedCode;vi&&Ye.replaceRange(`
`,{line:vn+1,ch:0});for(var Sn=Cn;Sn<=vn;Sn++)Ye.indentLine(Sn,"subtract");Ye.focus()}else{var vr=at.line===Tt.line&&at.ch===Tt.ch&&at.ch===0,Pr=at.line!==Tt.line;vr||Pr?Et(Ye,at,Tt,we):Wt(Ye,!1,["`","`"])}}function ne(re){Ft(re.codemirror,"quote")}function ve(re){_t(re.codemirror,"smaller")}function Se(re){_t(re.codemirror,"bigger")}function Fe(re){_t(re.codemirror,void 0,1)}function Ue(re){_t(re.codemirror,void 0,2)}function Ze(re){_t(re.codemirror,void 0,3)}function mt(re){_t(re.codemirror,void 0,4)}function ct(re){_t(re.codemirror,void 0,5)}function ge(re){_t(re.codemirror,void 0,6)}function ye(re){var we=re.codemirror,Ve="*";["-","+","*"].includes(re.options.unorderedListStyle)&&(Ve=re.options.unorderedListStyle),Ft(we,"unordered-list",Ve)}function Re(re){Ft(re.codemirror,"ordered-list")}function ft(re){St(re.codemirror)}function Me(re){var we=re.options,Ve="https://";if(we.promptURLs){var it=prompt(we.promptTexts.link,Ve);if(!it)return!1;Ve=le(it)}st(re,"link",we.insertTexts.link,Ve)}function ce(re){var we=re.options,Ve="https://";if(we.promptURLs){var it=prompt(we.promptTexts.image,Ve);if(!it)return!1;Ve=le(it)}st(re,"image",we.insertTexts.image,Ve)}function le(re){return encodeURI(re).replace(/([\\()])/g,"\\$1")}function ae(re){re.openBrowseFileWindow()}function V(re,we){var Ve=re.codemirror,it=S(Ve),We=re.options,Et=we.substr(we.lastIndexOf("/")+1),Ye=Et.substring(Et.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(Ye))Wt(Ve,it.image,We.insertTexts.uploadedImage,we);else{var at=We.insertTexts.link;at[0]="["+Et,Wt(Ve,it.link,at,we)}re.updateStatusBar("upload-image",re.options.imageTexts.sbOnUploaded.replace("#image_name#",Et)),setTimeout(function(){re.updateStatusBar("upload-image",re.options.imageTexts.sbInit)},1e3)}function me(re){var we=re.codemirror,Ve=S(we),it=re.options;Wt(we,Ve.table,it.insertTexts.table)}function Ae(re){var we=re.codemirror,Ve=S(we),it=re.options;Wt(we,Ve.image,it.insertTexts.horizontalRule)}function Ne(re){var we=re.codemirror;we.undo(),we.focus()}function ut(re){var we=re.codemirror;we.redo(),we.focus()}function xt(re){var we=re.codemirror,Ve=we.getWrapperElement(),it=Ve.nextSibling,We=re.toolbarElements&&re.toolbarElements["side-by-side"],Et=!1,Ye=Ve.parentNode;it.classList.contains("editor-preview-active-side")?(re.options.sideBySideFullscreen===!1&&Ye.classList.remove("sided--no-fullscreen"),it.classList.remove("editor-preview-active-side"),We&&We.classList.remove("active"),Ve.classList.remove("CodeMirror-sided")):(setTimeout(function(){we.getOption("fullScreen")||(re.options.sideBySideFullscreen===!1?Ye.classList.add("sided--no-fullscreen"):N(re)),it.classList.add("editor-preview-active-side")},1),We&&We.classList.add("active"),Ve.classList.add("CodeMirror-sided"),Et=!0);var at=Ve.lastChild;if(at.classList.contains("editor-preview-active")){at.classList.remove("editor-preview-active");var Tt=re.toolbarElements.preview,yt=re.toolbar_div;Tt.classList.remove("active"),yt.classList.remove("disabled-for-preview")}var Pt=function(){var Cn=re.options.previewRender(re.value(),it);Cn!=null&&(it.innerHTML=Cn)};if(we.sideBySideRenderingFunction||(we.sideBySideRenderingFunction=Pt),Et){var pn=re.options.previewRender(re.value(),it);pn!=null&&(it.innerHTML=pn),we.on("update",we.sideBySideRenderingFunction)}else we.off("update",we.sideBySideRenderingFunction);we.refresh()}function et(re){var we=re.codemirror,Ve=we.getWrapperElement(),it=re.toolbar_div,We=re.options.toolbar?re.toolbarElements.preview:!1,Et=Ve.lastChild,Ye=we.getWrapperElement().nextSibling;if(Ye.classList.contains("editor-preview-active-side")&&xt(re),!Et||!Et.classList.contains("editor-preview-full")){if(Et=document.createElement("div"),Et.className="editor-preview-full",re.options.previewClass)if(Array.isArray(re.options.previewClass))for(var at=0;at<re.options.previewClass.length;at++)Et.classList.add(re.options.previewClass[at]);else typeof re.options.previewClass=="string"&&Et.classList.add(re.options.previewClass);Ve.appendChild(Et)}Et.classList.contains("editor-preview-active")?(Et.classList.remove("editor-preview-active"),We&&(We.classList.remove("active"),it.classList.remove("disabled-for-preview"))):(setTimeout(function(){Et.classList.add("editor-preview-active")},1),We&&(We.classList.add("active"),it.classList.add("disabled-for-preview")));var Tt=re.options.previewRender(re.value(),Et);Tt!==null&&(Et.innerHTML=Tt)}function Wt(re,we,Ve,it){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var We,Et=Ve[0],Ye=Ve[1],at={},Tt={};Object.assign(at,re.getCursor("start")),Object.assign(Tt,re.getCursor("end")),it&&(Et=Et.replace("#url#",it),Ye=Ye.replace("#url#",it)),we?(We=re.getLine(at.line),Et=We.slice(0,at.ch),Ye=We.slice(at.ch),re.replaceRange(Et+Ye,{line:at.line,ch:0})):(We=re.getSelection(),re.replaceSelection(Et+We+Ye),at.ch+=Et.length,at!==Tt&&(Tt.ch+=Et.length)),re.setSelection(at,Tt),re.focus()}}function _t(re,we,Ve){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var it=re.getCursor("start"),We=re.getCursor("end"),Et=it.line;Et<=We.line;Et++)(function(Ye){var at=re.getLine(Ye),Tt=at.search(/[^#]/);we!==void 0?Tt<=0?we=="bigger"?at="###### "+at:at="# "+at:Tt==6&&we=="smaller"?at=at.substr(7):Tt==1&&we=="bigger"?at=at.substr(2):we=="bigger"?at=at.substr(1):at="#"+at:Tt<=0?at="#".repeat(Ve)+" "+at:Tt==Ve?at=at.substr(Tt+1):at="#".repeat(Ve)+" "+at.substr(Tt+1),re.replaceRange(at,{line:Ye,ch:0},{line:Ye,ch:99999999999999})})(Et);re.focus()}}function Ft(re,we,Ve){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var it=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,We=/^\s*/,Et=S(re),Ye=re.getCursor("start"),at=re.getCursor("end"),Tt={quote:/^(\s*)>\s+/,"unordered-list":it,"ordered-list":it},yt=function($n,Yn){var er={quote:">","unordered-list":Ve,"ordered-list":"%%i."};return er[$n].replace("%%i",Yn)},Pt=function($n,Yn){var er={quote:">","unordered-list":"\\"+Ve,"ordered-list":"\\d+."},Hn=new RegExp(er[$n]);return Yn&&Hn.test(Yn)},pn=function($n,Yn,er){var Hn=it.exec(Yn),xr=yt($n,Cn);return Hn!==null?(Pt($n,Hn[2])&&(xr=""),Yn=Hn[1]+xr+Hn[3]+Yn.replace(We,"").replace(Tt[$n],"$1")):er==!1&&(Yn=xr+" "+Yn),Yn},Cn=1,vn=Ye.line;vn<=at.line;vn++)(function($n){var Yn=re.getLine($n);Et[we]?Yn=Yn.replace(Tt[we],"$1"):(we=="unordered-list"&&(Yn=pn("ordered-list",Yn,!0)),Yn=pn(we,Yn,!1),Cn+=1),re.replaceRange(Yn,{line:$n,ch:0},{line:$n,ch:99999999999999})})(vn);re.focus()}}function st(re,we,Ve,it){if(!(!re.codemirror||re.isPreviewActive())){var We=re.codemirror,Et=S(We),Ye=Et[we];if(!Ye){Wt(We,Ye,Ve,it);return}var at=We.getCursor("start"),Tt=We.getCursor("end"),yt=We.getLine(at.line),Pt=yt.slice(0,at.ch),pn=yt.slice(at.ch);we=="link"?Pt=Pt.replace(/(.*)[^!]\[/,"$1"):we=="image"&&(Pt=Pt.replace(/(.*)!\[$/,"$1")),pn=pn.replace(/]\(.*?\)/,""),We.replaceRange(Pt+pn,{line:at.line,ch:0},{line:at.line,ch:99999999999999}),at.ch-=Ve[0].length,at!==Tt&&(Tt.ch-=Ve[0].length),We.setSelection(at,Tt),We.focus()}}function At(re,we,Ve,it){if(!(!re.codemirror||re.isPreviewActive())){it=typeof it>"u"?Ve:it;var We=re.codemirror,Et=S(We),Ye,at=Ve,Tt=it,yt=We.getCursor("start"),Pt=We.getCursor("end");Et[we]?(Ye=We.getLine(yt.line),at=Ye.slice(0,yt.ch),Tt=Ye.slice(yt.ch),we=="bold"?(at=at.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Tt=Tt.replace(/(\*\*|__)/,"")):we=="italic"?(at=at.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Tt=Tt.replace(/(\*|_)/,"")):we=="strikethrough"&&(at=at.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Tt=Tt.replace(/(\*\*|~~)/,"")),We.replaceRange(at+Tt,{line:yt.line,ch:0},{line:yt.line,ch:99999999999999}),we=="bold"||we=="strikethrough"?(yt.ch-=2,yt!==Pt&&(Pt.ch-=2)):we=="italic"&&(yt.ch-=1,yt!==Pt&&(Pt.ch-=1))):(Ye=We.getSelection(),we=="bold"?(Ye=Ye.split("**").join(""),Ye=Ye.split("__").join("")):we=="italic"?(Ye=Ye.split("*").join(""),Ye=Ye.split("_").join("")):we=="strikethrough"&&(Ye=Ye.split("~~").join("")),We.replaceSelection(at+Ye+Tt),yt.ch+=Ve.length,Pt.ch=yt.ch+Ye.length),We.setSelection(yt,Pt),We.focus()}}function St(re){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var we=re.getCursor("start"),Ve=re.getCursor("end"),it,We=we.line;We<=Ve.line;We++)it=re.getLine(We),it=it.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),re.replaceRange(it,{line:We,ch:0},{line:We,ch:99999999999999})}function Kt(re,we){if(Math.abs(re)<1024)return""+re+we[0];var Ve=0;do re/=1024,++Ve;while(Math.abs(re)>=1024&&Ve<we.length);return""+re.toFixed(1)+we[Ve]}function zt(re,we){for(var Ve in we)Object.prototype.hasOwnProperty.call(we,Ve)&&(we[Ve]instanceof Array?re[Ve]=we[Ve].concat(re[Ve]instanceof Array?re[Ve]:[]):we[Ve]!==null&&typeof we[Ve]=="object"&&we[Ve].constructor===Object?re[Ve]=zt(re[Ve]||{},we[Ve]):re[Ve]=we[Ve]);return re}function Ut(re){for(var we=1;we<arguments.length;we++)re=zt(re,arguments[we]);return re}function Vt(re){var we=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,Ve=re.match(we),it=0;if(Ve===null)return it;for(var We=0;We<Ve.length;We++)Ve[We].charCodeAt(0)>=19968?it+=Ve[We].length:it+=1;return it}var un={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},Xt={bold:{name:"bold",action:U,className:un.bold,title:"Bold",default:!0},italic:{name:"italic",action:W,className:un.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:q,className:un.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:ve,className:un.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:ve,className:un["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Se,className:un["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Fe,className:un["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Ue,className:un["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ze,className:un["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:J,className:un.code,title:"Code"},quote:{name:"quote",action:ne,className:un.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:ye,className:un["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Re,className:un["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:ft,className:un["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:Me,className:un.link,title:"Create Link",default:!0},image:{name:"image",action:ce,className:un.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:ae,className:un["upload-image"],title:"Import an image"},table:{name:"table",action:me,className:un.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Ae,className:un["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:et,className:un.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:xt,className:un["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:N,className:un.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:un.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:Ne,className:un.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:ut,className:un.redo,noDisable:!0,title:"Redo"}},qt={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},Bn={link:"URL for the link:",image:"URL of the image:"},gt={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},dt={bold:"**",code:"```",italic:"*"},Pe={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},be={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Ee(re){re=re||{},re.parent=this;var we=!0;if(re.autoDownloadFontAwesome===!1&&(we=!1),re.autoDownloadFontAwesome!==!0)for(var Ve=document.styleSheets,it=0;it<Ve.length;it++)Ve[it].href&&Ve[it].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(we=!1);if(we){var We=document.createElement("link");We.rel="stylesheet",We.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(We)}if(re.element)this.element=re.element;else if(re.element===null){console.log("EasyMDE: Error. No element was found.");return}if(re.toolbar===void 0){re.toolbar=[];for(var Et in Xt)Object.prototype.hasOwnProperty.call(Xt,Et)&&(Et.indexOf("separator-")!=-1&&re.toolbar.push("|"),(Xt[Et].default===!0||re.showIcons&&re.showIcons.constructor===Array&&re.showIcons.indexOf(Et)!=-1)&&re.toolbar.push(Et))}if(Object.prototype.hasOwnProperty.call(re,"previewClass")||(re.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(re,"status")||(re.status=["autosave","lines","words","cursor"],re.uploadImage&&re.status.unshift("upload-image")),re.previewRender||(re.previewRender=function(at){return this.parent.markdown(at)}),re.parsingConfig=Ut({highlightFormatting:!0},re.parsingConfig||{}),re.insertTexts=Ut({},qt,re.insertTexts||{}),re.promptTexts=Ut({},Bn,re.promptTexts||{}),re.blockStyles=Ut({},dt,re.blockStyles||{}),re.autosave!=null&&(re.autosave.timeFormat=Ut({},gt,re.autosave.timeFormat||{})),re.iconClassMap=Ut({},un,re.iconClassMap||{}),re.shortcuts=Ut({},y,re.shortcuts||{}),re.maxHeight=re.maxHeight||void 0,re.direction=re.direction||"ltr",typeof re.maxHeight<"u"?re.minHeight=re.maxHeight:re.minHeight=re.minHeight||"300px",re.errorCallback=re.errorCallback||function(at){alert(at)},re.uploadImage=re.uploadImage||!1,re.imageMaxSize=re.imageMaxSize||2097152,re.imageAccept=re.imageAccept||"image/png, image/jpeg, image/gif, image/avif",re.imageTexts=Ut({},Pe,re.imageTexts||{}),re.errorMessages=Ut({},be,re.errorMessages||{}),re.imagePathAbsolute=re.imagePathAbsolute||!1,re.imageCSRFName=re.imageCSRFName||"csrfmiddlewaretoken",re.imageCSRFHeader=re.imageCSRFHeader||!1,re.imageInputName=re.imageInputName||"image",re.autosave!=null&&re.autosave.unique_id!=null&&re.autosave.unique_id!=""&&(re.autosave.uniqueId=re.autosave.unique_id),re.overlayMode&&re.overlayMode.combine===void 0&&(re.overlayMode.combine=!0),this.options=re,this.render(),re.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(re.initialValue),re.uploadImage){var Ye=this;this.codemirror.on("dragenter",function(at,Tt){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbOnDragEnter),Tt.stopPropagation(),Tt.preventDefault()}),this.codemirror.on("dragend",function(at,Tt){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbInit),Tt.stopPropagation(),Tt.preventDefault()}),this.codemirror.on("dragleave",function(at,Tt){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbInit),Tt.stopPropagation(),Tt.preventDefault()}),this.codemirror.on("dragover",function(at,Tt){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbOnDragEnter),Tt.stopPropagation(),Tt.preventDefault()}),this.codemirror.on("drop",function(at,Tt){Tt.stopPropagation(),Tt.preventDefault(),re.imageUploadFunction?Ye.uploadImagesUsingCustomFunction(re.imageUploadFunction,Tt.dataTransfer.files):Ye.uploadImages(Tt.dataTransfer.files)}),this.codemirror.on("paste",function(at,Tt){re.imageUploadFunction?Ye.uploadImagesUsingCustomFunction(re.imageUploadFunction,Tt.clipboardData.files):Ye.uploadImages(Tt.clipboardData.files)})}}Ee.prototype.uploadImages=function(re,we,Ve){if(re.length!==0){for(var it=[],We=0;We<re.length;We++)it.push(re[We].name),this.uploadImage(re[We],we,Ve);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",it.join(", ")))}},Ee.prototype.uploadImagesUsingCustomFunction=function(re,we){if(we.length!==0){for(var Ve=[],it=0;it<we.length;it++)Ve.push(we[it].name),this.uploadImageUsingCustomFunction(re,we[it]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Ve.join(", ")))}},Ee.prototype.updateStatusBar=function(re,we){if(this.gui.statusbar){var Ve=this.gui.statusbar.getElementsByClassName(re);Ve.length===1?this.gui.statusbar.getElementsByClassName(re)[0].textContent=we:Ve.length===0?console.log("EasyMDE: status bar item "+re+" was not found."):console.log("EasyMDE: Several status bar items named "+re+" was found.")}},Ee.prototype.markdown=function(re){if(n){var we;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?we=this.options.renderingConfig.markedOptions:we={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?we.breaks=!1:we.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var Ve=this.options.renderingConfig.hljs||window.hljs;Ve&&(we.highlight=function(We,Et){return Et&&Ve.getLanguage(Et)?Ve.highlight(Et,We).value:Ve.highlightAuto(We).value})}n.use(we);var it=n.parse(re);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(it=this.options.renderingConfig.sanitizerFunction.call(this,it)),it=c(it),it=v(it),it}},Ee.prototype.render=function(re){if(re||(re=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===re)return;this.element=re;var we=this.options,Ve=this,it={};for(var We in we.shortcuts)we.shortcuts[We]!==null&&u[We]!==null&&(function(er){it[f(we.shortcuts[er])]=function(){var Hn=u[er];typeof Hn=="function"?Hn(Ve):typeof Hn=="string"&&window.open(Hn,"_blank")}})(We);it.Enter="newlineAndIndentContinueMarkdownList",it.Tab="tabAndIndentMarkdownList",it["Shift-Tab"]="shiftTabAndUnindentMarkdownList",it.Esc=function(er){er.getOption("fullScreen")&&N(Ve)},this.documentOnKeyDown=function(er){er=er||window.event,er.keyCode==27&&Ve.codemirror.getOption("fullScreen")&&N(Ve)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Et,Ye;we.overlayMode?(e.defineMode("overlay-mode",function(er){return e.overlayMode(e.getMode(er,we.spellChecker!==!1?"spell-checker":"gfm"),we.overlayMode.mode,we.overlayMode.combine)}),Et="overlay-mode",Ye=we.parsingConfig,Ye.gitHubSpice=!1):(Et=we.parsingConfig,Et.name="gfm",Et.gitHubSpice=!1),we.spellChecker!==!1&&(Et="spell-checker",Ye=we.parsingConfig,Ye.name="gfm",Ye.gitHubSpice=!1,typeof we.spellChecker=="function"?we.spellChecker({codeMirrorInstance:e}):t({codeMirrorInstance:e}));function at(er,Hn,xr){return{addNew:!1}}if(this.codemirror=e.fromTextArea(re,{mode:Et,backdrop:Ye,theme:we.theme!=null?we.theme:"easymde",tabSize:we.tabSize!=null?we.tabSize:2,indentUnit:we.tabSize!=null?we.tabSize:2,indentWithTabs:we.indentWithTabs!==!1,lineNumbers:we.lineNumbers===!0,autofocus:we.autofocus===!0,extraKeys:it,direction:we.direction,lineWrapping:we.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:we.placeholder||re.getAttribute("placeholder")||"",styleSelectedText:we.styleSelectedText!=null?we.styleSelectedText:!a(),scrollbarStyle:we.scrollbarStyle!=null?we.scrollbarStyle:"native",configureMouse:at,inputStyle:we.inputStyle!=null?we.inputStyle:a()?"contenteditable":"textarea",spellcheck:we.nativeSpellcheck!=null?we.nativeSpellcheck:!0,autoRefresh:we.autoRefresh!=null?we.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=we.minHeight,typeof we.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=we.maxHeight),we.forceSync===!0){var Tt=this.codemirror;Tt.on("change",function(){Tt.save()})}this.gui={};var yt=document.createElement("div");yt.classList.add("EasyMDEContainer"),yt.setAttribute("role","application");var Pt=this.codemirror.getWrapperElement();Pt.parentNode.insertBefore(yt,Pt),yt.appendChild(Pt),we.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),we.status!==!1&&(this.gui.statusbar=this.createStatusbar()),we.autosave!=null&&we.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(Ve._autosave_timeout),Ve._autosave_timeout=setTimeout(function(){Ve.autosave()},Ve.options.autosave.submit_delay||Ve.options.autosave.delay||1e3)}));function pn(er,Hn){var xr,Br=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return er<Br?xr=Hn+"px":xr=Hn/er*100+"%",xr}var Cn=this;function vn(er,Hn){var xr=new URL(Hn.url,document.baseURI).href;er.setAttribute("data-img-src",xr),er.setAttribute("style","--bg-image:url("+xr+");--width:"+Hn.naturalWidth+"px;--height:"+pn(Hn.naturalWidth,Hn.naturalHeight)),Cn.codemirror.setSize()}function $n(){we.previewImagesInEditor&&yt.querySelectorAll(".cm-image-marker").forEach(function(er){var Hn=er.parentElement;if(Hn.innerText.match(/^!\[.*?\]\(.*\)/g)&&!Hn.hasAttribute("data-img-src")){var xr=Hn.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),xr&&xr.length>=2){var Br=xr[1];if(we.imagesPreviewHandler){var mr=we.imagesPreviewHandler(xr[1]);typeof mr=="string"&&(Br=mr)}if(window.EMDEimagesCache[Br])vn(Hn,window.EMDEimagesCache[Br]);else{window.EMDEimagesCache[Br]={};var Oi=document.createElement("img");Oi.onload=function(){window.EMDEimagesCache[Br]={naturalWidth:Oi.naturalWidth,naturalHeight:Oi.naturalHeight,url:Br},vn(Hn,window.EMDEimagesCache[Br])},Oi.src=Br}}}})}this.codemirror.on("update",function(){$n()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(we.autofocus===!0||re.autofocus)&&this.codemirror.focus();var Yn=this.codemirror;setTimeout((function(){Yn.refresh()}).bind(Yn),0)},Ee.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function qe(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return Ee.prototype.autosave=function(){if(qe()){var re=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(re.element.form!=null&&re.element.form!=null&&re.element.form.addEventListener("submit",function(){clearTimeout(re.autosaveTimeoutId),re.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+re.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var we=re.value();we!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,we):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var Ve=document.getElementById("autosaved");if(Ve!=null&&Ve!=null&&Ve!=""){var it=new Date,We=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(it),Et=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;Ve.innerHTML=Et+We}}else console.log("EasyMDE: localStorage not available, cannot autosave")},Ee.prototype.clearAutosavedValue=function(){if(qe()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},Ee.prototype.openBrowseFileWindow=function(re,we){var Ve=this,it=this.gui.toolbar.getElementsByClassName("imageInput")[0];it.click();function We(Et){Ve.options.imageUploadFunction?Ve.uploadImagesUsingCustomFunction(Ve.options.imageUploadFunction,Et.target.files):Ve.uploadImages(Et.target.files,re,we),it.removeEventListener("change",We)}it.addEventListener("change",We)},Ee.prototype.uploadImage=function(re,we,Ve){var it=this;we=we||function(yt){V(it,yt)};function We(Tt){it.updateStatusBar("upload-image",Tt),setTimeout(function(){it.updateStatusBar("upload-image",it.options.imageTexts.sbInit)},1e4),Ve&&typeof Ve=="function"&&Ve(Tt),it.options.errorCallback(Tt)}function Et(Tt){var yt=it.options.imageTexts.sizeUnits.split(",");return Tt.replace("#image_name#",re.name).replace("#image_size#",Kt(re.size,yt)).replace("#image_max_size#",Kt(it.options.imageMaxSize,yt))}if(re.size>this.options.imageMaxSize){We(Et(this.options.errorMessages.fileTooLarge));return}var Ye=new FormData;Ye.append("image",re),it.options.imageCSRFToken&&!it.options.imageCSRFHeader&&Ye.append(it.options.imageCSRFName,it.options.imageCSRFToken);var at=new XMLHttpRequest;at.upload.onprogress=function(Tt){if(Tt.lengthComputable){var yt=""+Math.round(Tt.loaded*100/Tt.total);it.updateStatusBar("upload-image",it.options.imageTexts.sbProgress.replace("#file_name#",re.name).replace("#progress#",yt))}},at.open("POST",this.options.imageUploadEndpoint),it.options.imageCSRFToken&&it.options.imageCSRFHeader&&at.setRequestHeader(it.options.imageCSRFName,it.options.imageCSRFToken),at.onload=function(){try{var Tt=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),We(Et(it.options.errorMessages.importError));return}this.status===200&&Tt&&!Tt.error&&Tt.data&&Tt.data.filePath?we((it.options.imagePathAbsolute?"":window.location.origin+"/")+Tt.data.filePath):Tt.error&&Tt.error in it.options.errorMessages?We(Et(it.options.errorMessages[Tt.error])):Tt.error?We(Et(Tt.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),We(Et(it.options.errorMessages.importError)))},at.onerror=function(Tt){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+Tt.target.status+" ("+Tt.target.statusText+")"),We(it.options.errorMessages.importError)},at.send(Ye)},Ee.prototype.uploadImageUsingCustomFunction=function(re,we){var Ve=this;function it(Ye){V(Ve,Ye)}function We(Ye){var at=Et(Ye);Ve.updateStatusBar("upload-image",at),setTimeout(function(){Ve.updateStatusBar("upload-image",Ve.options.imageTexts.sbInit)},1e4),Ve.options.errorCallback(at)}function Et(Ye){var at=Ve.options.imageTexts.sizeUnits.split(",");return Ye.replace("#image_name#",we.name).replace("#image_size#",Kt(we.size,at)).replace("#image_max_size#",Kt(Ve.options.imageMaxSize,at))}re.apply(this,[we,it,We])},Ee.prototype.setPreviewMaxHeight=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.nextSibling,it=parseInt(window.getComputedStyle(we).paddingTop),We=parseInt(window.getComputedStyle(we).borderTopWidth),Et=parseInt(this.options.maxHeight),Ye=Et+it*2+We*2,at=Ye.toString()+"px";Ve.style.height=at},Ee.prototype.createSideBySide=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.nextSibling;if(!Ve||!Ve.classList.contains("editor-preview-side")){if(Ve=document.createElement("div"),Ve.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var it=0;it<this.options.previewClass.length;it++)Ve.classList.add(this.options.previewClass[it]);else typeof this.options.previewClass=="string"&&Ve.classList.add(this.options.previewClass);we.parentNode.insertBefore(Ve,we.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return Ve;var We=!1,Et=!1;return re.on("scroll",function(Ye){if(We){We=!1;return}Et=!0;var at=Ye.getScrollInfo().height-Ye.getScrollInfo().clientHeight,Tt=parseFloat(Ye.getScrollInfo().top)/at,yt=(Ve.scrollHeight-Ve.clientHeight)*Tt;Ve.scrollTop=yt}),Ve.onscroll=function(){if(Et){Et=!1;return}We=!0;var Ye=Ve.scrollHeight-Ve.clientHeight,at=parseFloat(Ve.scrollTop)/Ye,Tt=(re.getScrollInfo().height-re.getScrollInfo().clientHeight)*at;re.scrollTo(0,Tt)},Ve},Ee.prototype.createToolbar=function(re){if(re=re||this.options.toolbar,!(!re||re.length===0)){var we;for(we=0;we<re.length;we++)Xt[re[we]]!=null&&(re[we]=Xt[re[we]]);var Ve=document.createElement("div");Ve.className="editor-toolbar",Ve.setAttribute("role","toolbar");var it=this,We={};for(it.toolbar=re,we=0;we<re.length;we++)if(!(re[we].name=="guide"&&it.options.toolbarGuideIcon===!1)&&!(it.options.hideIcons&&it.options.hideIcons.indexOf(re[we].name)!=-1)&&!((re[we].name=="fullscreen"||re[we].name=="side-by-side")&&a())){if(re[we]==="|"){for(var Et=!1,Ye=we+1;Ye<re.length;Ye++)re[Ye]!=="|"&&(!it.options.hideIcons||it.options.hideIcons.indexOf(re[Ye].name)==-1)&&(Et=!0);if(!Et)continue}(function(yt){var Pt;if(yt==="|"?Pt=C():yt.children?Pt=g(yt,it.options.toolbarTips,it.options.shortcuts,it):Pt=m(yt,!0,it.options.toolbarTips,it.options.shortcuts,"button",it),We[yt.name||yt]=Pt,Ve.appendChild(Pt),yt.name==="upload-image"){var pn=document.createElement("input");pn.className="imageInput",pn.type="file",pn.multiple=!0,pn.name=it.options.imageInputName,pn.accept=it.options.imageAccept,pn.style.display="none",pn.style.opacity=0,Ve.appendChild(pn)}})(re[we])}it.toolbar_div=Ve,it.toolbarElements=We;var at=this.codemirror;at.on("cursorActivity",function(){var yt=S(at);for(var Pt in We)(function(pn){var Cn=We[pn];yt[pn]?Cn.classList.add("active"):pn!="fullscreen"&&pn!="side-by-side"&&Cn.classList.remove("active")})(Pt)});var Tt=at.getWrapperElement();return Tt.parentNode.insertBefore(Ve,Tt),Ve}},Ee.prototype.createStatusbar=function(re){re=re||this.options.status;var we=this.options,Ve=this.codemirror;if(!(!re||re.length===0)){var it=[],We,Et,Ye,at;for(We=0;We<re.length;We++)if(Et=void 0,Ye=void 0,at=void 0,typeof re[We]=="object")it.push({className:re[We].className,defaultValue:re[We].defaultValue,onUpdate:re[We].onUpdate,onActivity:re[We].onActivity});else{var Tt=re[We];Tt==="words"?(at=function(vn){vn.innerHTML=Vt(Ve.getValue())},Et=function(vn){vn.innerHTML=Vt(Ve.getValue())}):Tt==="lines"?(at=function(vn){vn.innerHTML=Ve.lineCount()},Et=function(vn){vn.innerHTML=Ve.lineCount()}):Tt==="cursor"?(at=function(vn){vn.innerHTML="1:1"},Ye=function(vn){var $n=Ve.getCursor(),Yn=$n.line+1,er=$n.ch+1;vn.innerHTML=Yn+":"+er}):Tt==="autosave"?at=function(vn){we.autosave!=null&&we.autosave.enabled===!0&&vn.setAttribute("id","autosaved")}:Tt==="upload-image"&&(at=function(vn){vn.innerHTML=we.imageTexts.sbInit}),it.push({className:Tt,defaultValue:at,onUpdate:Et,onActivity:Ye})}var yt=document.createElement("div");for(yt.className="editor-statusbar",We=0;We<it.length;We++){var Pt=it[We],pn=document.createElement("span");pn.className=Pt.className,typeof Pt.defaultValue=="function"&&Pt.defaultValue(pn),typeof Pt.onUpdate=="function"&&this.codemirror.on("update",(function(vn,$n){return function(){$n.onUpdate(vn)}})(pn,Pt)),typeof Pt.onActivity=="function"&&this.codemirror.on("cursorActivity",(function(vn,$n){return function(){$n.onActivity(vn)}})(pn,Pt)),yt.appendChild(pn)}var Cn=this.codemirror.getWrapperElement();return Cn.parentNode.insertBefore(yt,Cn.nextSibling),yt}},Ee.prototype.value=function(re){var we=this.codemirror;if(re===void 0)return we.getValue();if(we.getDoc().setValue(re),this.isPreviewActive()){var Ve=we.getWrapperElement(),it=Ve.lastChild,We=this.options.previewRender(re,it);We!==null&&(it.innerHTML=We)}return this},Ee.toggleBold=U,Ee.toggleItalic=W,Ee.toggleStrikethrough=q,Ee.toggleBlockquote=ne,Ee.toggleHeadingSmaller=ve,Ee.toggleHeadingBigger=Se,Ee.toggleHeading1=Fe,Ee.toggleHeading2=Ue,Ee.toggleHeading3=Ze,Ee.toggleHeading4=mt,Ee.toggleHeading5=ct,Ee.toggleHeading6=ge,Ee.toggleCodeBlock=J,Ee.toggleUnorderedList=ye,Ee.toggleOrderedList=Re,Ee.cleanBlock=ft,Ee.drawLink=Me,Ee.drawImage=ce,Ee.drawUploadedImage=ae,Ee.drawTable=me,Ee.drawHorizontalRule=Ae,Ee.undo=Ne,Ee.redo=ut,Ee.togglePreview=et,Ee.toggleSideBySide=xt,Ee.toggleFullScreen=N,Ee.prototype.toggleBold=function(){U(this)},Ee.prototype.toggleItalic=function(){W(this)},Ee.prototype.toggleStrikethrough=function(){q(this)},Ee.prototype.toggleBlockquote=function(){ne(this)},Ee.prototype.toggleHeadingSmaller=function(){ve(this)},Ee.prototype.toggleHeadingBigger=function(){Se(this)},Ee.prototype.toggleHeading1=function(){Fe(this)},Ee.prototype.toggleHeading2=function(){Ue(this)},Ee.prototype.toggleHeading3=function(){Ze(this)},Ee.prototype.toggleHeading4=function(){mt(this)},Ee.prototype.toggleHeading5=function(){ct(this)},Ee.prototype.toggleHeading6=function(){ge(this)},Ee.prototype.toggleCodeBlock=function(){J(this)},Ee.prototype.toggleUnorderedList=function(){ye(this)},Ee.prototype.toggleOrderedList=function(){Re(this)},Ee.prototype.cleanBlock=function(){ft(this)},Ee.prototype.drawLink=function(){Me(this)},Ee.prototype.drawImage=function(){ce(this)},Ee.prototype.drawUploadedImage=function(){ae(this)},Ee.prototype.drawTable=function(){me(this)},Ee.prototype.drawHorizontalRule=function(){Ae(this)},Ee.prototype.undo=function(){Ne(this)},Ee.prototype.redo=function(){ut(this)},Ee.prototype.togglePreview=function(){et(this)},Ee.prototype.toggleSideBySide=function(){xt(this)},Ee.prototype.toggleFullScreen=function(){N(this)},Ee.prototype.isPreviewActive=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.lastChild;return Ve.classList.contains("editor-preview-active")},Ee.prototype.isSideBySideActive=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.nextSibling;return Ve.classList.contains("editor-preview-active-side")},Ee.prototype.isFullscreenActive=function(){var re=this.codemirror;return re.getOption("fullScreen")},Ee.prototype.getState=function(){var re=this.codemirror;return S(re)},Ee.prototype.toTextArea=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.parentNode;Ve&&(this.gui.toolbar&&Ve.removeChild(this.gui.toolbar),this.gui.statusbar&&Ve.removeChild(this.gui.statusbar),this.gui.sideBySide&&Ve.removeChild(this.gui.sideBySide)),Ve.parentNode.insertBefore(we,Ve),Ve.remove(),re.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},r2=Ee,r2}var AP=EP();const TP=P0(AP);var kP=0,DP=()=>`simplemde-editor-${++kP}`,_P=({options:e,id:t,currentValueRef:n,textRef:r})=>{const[o,u]=Ie.useState(null),y=Ie.useCallback((c,v,f)=>{const g=e?.imageUploadFunction;g&&g(c,C=>{v(C)},f)},[e?.imageUploadFunction]),d=Ie.useRef(o);d.current=o,Ie.useEffect(()=>{let c;if(r){const v={element:r,initialValue:n.current},f=e?.imageUploadFunction?y:void 0;c=new TP(Object.assign({},v,e,{imageUploadFunction:f})),u(c)}return()=>{c?.toTextArea(),c?.cleanup()}},[r,n,t,y,e]);const a=Ie.useMemo(()=>o?.codemirror,[o?.codemirror]);return{editor:o,codemirror:a}},T7=kn.forwardRef((e,t)=>{const{events:n,value:r,options:o,children:u,extraKeys:y,getLineAndCursor:d,getMdeInstance:a,getCodemirrorInstance:c,onChange:v,id:f,placeholder:g,textareaProps:m,...C}=e,k=Ie.useMemo(()=>f??DP(),[f]),S=Ie.useRef(null),O=Ie.useRef(!0),N=Ie.useRef(r);N.current=r;const[U,W]=Ie.useState(null),{editor:q,codemirror:J}=_P({options:o,id:k,currentValueRef:N,textRef:U});Ie.useEffect(()=>{O.current&&q?.value(r??""),O.current=!0},[q,r]);const ne=Ie.useCallback((Fe,Ue)=>{q?.value()!==N.current&&(O.current=!1,v?.(q?.value()??"",Ue))},[q,v]);Ie.useEffect(()=>{o?.autofocus&&(J?.focus(),J?.setCursor(J?.lineCount(),0))},[J,o?.autofocus]);const ve=Ie.useCallback(()=>{J&&d?.(J.getDoc().getCursor())},[J,d]);Ie.useEffect(()=>{ve()},[ve]),Ie.useEffect(()=>{q&&a?.(q)},[q,a]),Ie.useEffect(()=>{J&&c?.(J)},[J,c,a]),Ie.useEffect(()=>{y&&J&&J.setOption("extraKeys",Object.assign({},J.getOption("extraKeys"),y))},[J,y]),Ie.useEffect(()=>{var Fe;const Ue=(Fe=S.current)==null?void 0:Fe.getElementsByClassName("editor-toolbarNode")[0],Ze=J&&ne;return Ze?(Ue?.addEventListener("click",Ze),()=>{Ue?.removeEventListener("click",Ze)}):()=>{}},[J,ne]),Ie.useEffect(()=>(J?.on("change",ne),J?.on("cursorActivity",ve),()=>{J?.off("change",ne),J?.off("cursorActivity",ve)}),[J,ve,ne]);const Se=Ie.useRef(n);return Ie.useEffect(()=>(n!==Se.current&&Se.current&&Object.entries(Se.current).forEach(([Ue,Ze])=>{Ze&&J?.off(Ue,Ze)}),n&&Object.entries(n).forEach(([Ue,Ze])=>{Ze&&J?.on(Ue,Ze)}),Se.current=n,()=>{n&&Object.entries(n).forEach(([Ue,Ze])=>{Ze&&J?.off(Ue,Ze)})}),[J,n]),kn.createElement("div",{id:`${k}-wrapper`,...C,ref:Fe=>{typeof t=="function"?t(Fe):t&&(t.current=Fe),S.current=Fe}},kn.createElement("textarea",{...m,id:k,placeholder:g,ref:W,style:{display:"none"}}))});T7.displayName="SimpleMdeReact";var MP=T7;function v5(e){const t=[],n=String(e||"");let r=n.indexOf(","),o=0,u=!1;for(;!u;){r===-1&&(r=n.length,u=!0);const y=n.slice(o,r).trim();(y||!u)&&t.push(y),o=r+1,r=n.indexOf(",",o)}return t}function OP(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const IP=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RP=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NP={};function y5(e,t){return(NP.jsx?RP:IP).test(e)}const LP=/[ \t\n\f\r]/g;function BP(e){return typeof e=="object"?e.type==="text"?x5(e.value):!1:x5(e)}function x5(e){return e.replace(LP,"")===""}class ag{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ag.prototype.normal={};ag.prototype.property={};ag.prototype.space=void 0;function k7(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new ag(n,r,t)}function K1(e){return e.toLowerCase()}class Gu{constructor(t,n){this.attribute=n,this.property=t}}Gu.prototype.attribute="";Gu.prototype.booleanish=!1;Gu.prototype.boolean=!1;Gu.prototype.commaOrSpaceSeparated=!1;Gu.prototype.commaSeparated=!1;Gu.prototype.defined=!1;Gu.prototype.mustUseProperty=!1;Gu.prototype.number=!1;Gu.prototype.overloadedBoolean=!1;Gu.prototype.property="";Gu.prototype.spaceSeparated=!1;Gu.prototype.space=void 0;let FP=0;const Si=H0(),Xs=H0(),gy=H0(),Pn=H0(),xo=H0(),bd=H0(),oc=H0();function H0(){return 2**++FP}const py=Object.freeze(Object.defineProperty({__proto__:null,boolean:Si,booleanish:Xs,commaOrSpaceSeparated:oc,commaSeparated:bd,number:Pn,overloadedBoolean:gy,spaceSeparated:xo},Symbol.toStringTag,{value:"Module"})),i2=Object.keys(py);class Rx extends Gu{constructor(t,n,r,o){let u=-1;if(super(t,n),b5(this,"space",o),typeof r=="number")for(;++u<i2.length;){const y=i2[u];b5(this,i2[u],(r&py[y])===py[y])}}}Rx.prototype.defined=!0;function b5(e,t,n){n&&(e[t]=n)}function jd(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const u=new Rx(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(u.mustUseProperty=!0),t[r]=u,n[K1(r)]=r,n[K1(u.attribute)]=r}return new ag(t,n,e.space)}const D7=jd({properties:{ariaActiveDescendant:null,ariaAtomic:Xs,ariaAutoComplete:null,ariaBusy:Xs,ariaChecked:Xs,ariaColCount:Pn,ariaColIndex:Pn,ariaColSpan:Pn,ariaControls:xo,ariaCurrent:null,ariaDescribedBy:xo,ariaDetails:null,ariaDisabled:Xs,ariaDropEffect:xo,ariaErrorMessage:null,ariaExpanded:Xs,ariaFlowTo:xo,ariaGrabbed:Xs,ariaHasPopup:null,ariaHidden:Xs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xo,ariaLevel:Pn,ariaLive:null,ariaModal:Xs,ariaMultiLine:Xs,ariaMultiSelectable:Xs,ariaOrientation:null,ariaOwns:xo,ariaPlaceholder:null,ariaPosInSet:Pn,ariaPressed:Xs,ariaReadOnly:Xs,ariaRelevant:null,ariaRequired:Xs,ariaRoleDescription:xo,ariaRowCount:Pn,ariaRowIndex:Pn,ariaRowSpan:Pn,ariaSelected:Xs,ariaSetSize:Pn,ariaSort:null,ariaValueMax:Pn,ariaValueMin:Pn,ariaValueNow:Pn,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function _7(e,t){return t in e?e[t]:t}function M7(e,t){return _7(e,t.toLowerCase())}const PP=jd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bd,acceptCharset:xo,accessKey:xo,action:null,allow:null,allowFullScreen:Si,allowPaymentRequest:Si,allowUserMedia:Si,alt:null,as:null,async:Si,autoCapitalize:null,autoComplete:xo,autoFocus:Si,autoPlay:Si,blocking:xo,capture:null,charSet:null,checked:Si,cite:null,className:xo,cols:Pn,colSpan:null,content:null,contentEditable:Xs,controls:Si,controlsList:xo,coords:Pn|bd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Si,defer:Si,dir:null,dirName:null,disabled:Si,download:gy,draggable:Xs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Si,formTarget:null,headers:xo,height:Pn,hidden:gy,high:Pn,href:null,hrefLang:null,htmlFor:xo,httpEquiv:xo,id:null,imageSizes:null,imageSrcSet:null,inert:Si,inputMode:null,integrity:null,is:null,isMap:Si,itemId:null,itemProp:xo,itemRef:xo,itemScope:Si,itemType:xo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Si,low:Pn,manifest:null,max:null,maxLength:Pn,media:null,method:null,min:null,minLength:Pn,multiple:Si,muted:Si,name:null,nonce:null,noModule:Si,noValidate:Si,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Si,optimum:Pn,pattern:null,ping:xo,placeholder:null,playsInline:Si,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Si,referrerPolicy:null,rel:xo,required:Si,reversed:Si,rows:Pn,rowSpan:Pn,sandbox:xo,scope:null,scoped:Si,seamless:Si,selected:Si,shadowRootClonable:Si,shadowRootDelegatesFocus:Si,shadowRootMode:null,shape:null,size:Pn,sizes:null,slot:null,span:Pn,spellCheck:Xs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pn,step:null,style:null,tabIndex:Pn,target:null,title:null,translate:null,type:null,typeMustMatch:Si,useMap:null,value:Xs,width:Pn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xo,axis:null,background:null,bgColor:null,border:Pn,borderColor:null,bottomMargin:Pn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Si,declare:Si,event:null,face:null,frame:null,frameBorder:null,hSpace:Pn,leftMargin:Pn,link:null,longDesc:null,lowSrc:null,marginHeight:Pn,marginWidth:Pn,noResize:Si,noHref:Si,noShade:Si,noWrap:Si,object:null,profile:null,prompt:null,rev:null,rightMargin:Pn,rules:null,scheme:null,scrolling:Xs,standby:null,summary:null,text:null,topMargin:Pn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Si,disableRemotePlayback:Si,prefix:null,property:null,results:Pn,security:null,unselectable:null},space:"html",transform:M7}),zP=jd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oc,accentHeight:Pn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pn,amplitude:Pn,arabicForm:null,ascent:Pn,attributeName:null,attributeType:null,azimuth:Pn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pn,by:null,calcMode:null,capHeight:Pn,className:xo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pn,diffuseConstant:Pn,direction:null,display:null,dur:null,divisor:Pn,dominantBaseline:null,download:Si,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pn,enableBackground:null,end:null,event:null,exponent:Pn,externalResourcesRequired:null,fill:null,fillOpacity:Pn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bd,g2:bd,glyphName:bd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pn,horizOriginX:Pn,horizOriginY:Pn,id:null,ideographic:Pn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pn,k:Pn,k1:Pn,k2:Pn,k3:Pn,k4:Pn,kernelMatrix:oc,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pn,overlineThickness:Pn,paintOrder:null,panose1:null,path:null,pathLength:Pn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pn,pointsAtY:Pn,pointsAtZ:Pn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oc,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oc,rev:oc,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oc,requiredFeatures:oc,requiredFonts:oc,requiredFormats:oc,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pn,specularExponent:Pn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pn,strikethroughThickness:Pn,string:null,stroke:null,strokeDashArray:oc,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pn,strokeOpacity:Pn,strokeWidth:null,style:null,surfaceScale:Pn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oc,tabIndex:Pn,tableValues:null,target:null,targetX:Pn,targetY:Pn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oc,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pn,underlineThickness:Pn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pn,values:null,vAlphabetic:Pn,vMathematical:Pn,vectorEffect:null,vHanging:Pn,vIdeographic:Pn,version:null,vertAdvY:Pn,vertOriginX:Pn,vertOriginY:Pn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_7}),O7=jd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),I7=jd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:M7}),R7=jd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),HP={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},UP=/[A-Z]/g,w5=/-[a-z]/g,jP=/^data[-\w.:]+$/i;function N7(e,t){const n=K1(t);let r=t,o=Gu;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jP.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(w5,GP);r="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!w5.test(u)){let y=u.replace(UP,WP);y.charAt(0)!=="-"&&(y="-"+y),t="data"+y}}o=Rx}return new o(r,t)}function WP(e){return"-"+e.toLowerCase()}function GP(e){return e.charAt(1).toUpperCase()}const L7=k7([D7,PP,O7,I7,R7],"html"),Sm=k7([D7,zP,O7,I7,R7],"svg");function C5(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function YP(e){return e.join(" ").trim()}var cd={},a2,S5;function XP(){if(S5)return a2;S5=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,y=/^[;\s]*/,d=/^\s+|\s+$/g,a=`
`,c="/",v="*",f="",g="comment",m="declaration";function C(S,O){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];O=O||{};var N=1,U=1;function W(ct){var ge=ct.match(t);ge&&(N+=ge.length);var ye=ct.lastIndexOf(a);U=~ye?ct.length-ye:U+ct.length}function q(){var ct={line:N,column:U};return function(ge){return ge.position=new J(ct),Se(),ge}}function J(ct){this.start=ct,this.end={line:N,column:U},this.source=O.source}J.prototype.content=S;function ne(ct){var ge=new Error(O.source+":"+N+":"+U+": "+ct);if(ge.reason=ct,ge.filename=O.source,ge.line=N,ge.column=U,ge.source=S,!O.silent)throw ge}function ve(ct){var ge=ct.exec(S);if(ge){var ye=ge[0];return W(ye),S=S.slice(ye.length),ge}}function Se(){ve(n)}function Fe(ct){var ge;for(ct=ct||[];ge=Ue();)ge!==!1&&ct.push(ge);return ct}function Ue(){var ct=q();if(!(c!=S.charAt(0)||v!=S.charAt(1))){for(var ge=2;f!=S.charAt(ge)&&(v!=S.charAt(ge)||c!=S.charAt(ge+1));)++ge;if(ge+=2,f===S.charAt(ge-1))return ne("End of comment missing");var ye=S.slice(2,ge-2);return U+=2,W(ye),S=S.slice(ge),U+=2,ct({type:g,comment:ye})}}function Ze(){var ct=q(),ge=ve(r);if(ge){if(Ue(),!ve(o))return ne("property missing ':'");var ye=ve(u),Re=ct({type:m,property:k(ge[0].replace(e,f)),value:ye?k(ye[0].replace(e,f)):f});return ve(y),Re}}function mt(){var ct=[];Fe(ct);for(var ge;ge=Ze();)ge!==!1&&(ct.push(ge),Fe(ct));return ct}return Se(),mt()}function k(S){return S?S.replace(d,f):f}return a2=C,a2}var E5;function VP(){if(E5)return cd;E5=1;var e=cd&&cd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=n;const t=e(XP());function n(r,o){let u=null;if(!r||typeof r!="string")return u;const y=(0,t.default)(r),d=typeof o=="function";return y.forEach(a=>{if(a.type!=="declaration")return;const{property:c,value:v}=a;d?o(c,v,a):v&&(u=u||{},u[c]=v)}),u}return cd}var m1={},A5;function KP(){if(A5)return m1;A5=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(c){return!c||n.test(c)||e.test(c)},y=function(c,v){return v.toUpperCase()},d=function(c,v){return"".concat(v,"-")},a=function(c,v){return v===void 0&&(v={}),u(c)?c:(c=c.toLowerCase(),v.reactCompat?c=c.replace(o,d):c=c.replace(r,d),c.replace(t,y))};return m1.camelCase=a,m1}var v1,T5;function ZP(){if(T5)return v1;T5=1;var e=v1&&v1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(VP()),n=KP();function r(o,u){var y={};return!o||typeof o!="string"||(0,t.default)(o,function(d,a){d&&a&&(y[(0,n.camelCase)(d,u)]=a)}),y}return r.default=r,v1=r,v1}var qP=ZP();const QP=P0(qP),B7=F7("end"),Nx=F7("start");function F7(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function JP(e){const t=Nx(e),n=B7(e);if(t&&n)return{start:t,end:n}}function R1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?k5(e.position):"start"in e||"end"in e?k5(e):"line"in e||"column"in e?my(e):""}function my(e){return D5(e&&e.line)+":"+D5(e&&e.column)}function k5(e){return my(e&&e.start)+"-"+my(e&&e.end)}function D5(e){return e&&typeof e=="number"?e:1}class nu extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",u={},y=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof t=="string"?o=t:!u.cause&&t&&(y=!0,o=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?u.ruleId=r:(u.source=r.slice(0,a),u.ruleId=r.slice(a+1))}if(!u.place&&u.ancestors&&u.ancestors){const a=u.ancestors[u.ancestors.length-1];a&&(u.place=a.position)}const d=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=d?d.line:void 0,this.name=R1(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=y&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}nu.prototype.file="";nu.prototype.name="";nu.prototype.reason="";nu.prototype.message="";nu.prototype.stack="";nu.prototype.column=void 0;nu.prototype.line=void 0;nu.prototype.ancestors=void 0;nu.prototype.cause=void 0;nu.prototype.fatal=void 0;nu.prototype.place=void 0;nu.prototype.ruleId=void 0;nu.prototype.source=void 0;const Lx={}.hasOwnProperty,$P=new Map,ez=/[A-Z]/g,tz=new Set(["table","tbody","thead","tfoot","tr"]),nz=new Set(["td","th"]),P7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cz(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Sm:L7,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=z7(o,e,void 0);return u&&typeof u!="string"?u:o.create(e,o.Fragment,{children:u||void 0},void 0)}function z7(e,t,n){if(t.type==="element")return iz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return az(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return sz(e,t,n);if(t.type==="mdxjsEsm")return oz(e,t);if(t.type==="root")return lz(e,t,n);if(t.type==="text")return uz(e,t)}function iz(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Sm,e.schema=o),e.ancestors.push(t);const u=U7(e,t.tagName,!1),y=hz(e,t);let d=Fx(e,t);return tz.has(t.tagName)&&(d=d.filter(function(a){return typeof a=="string"?!BP(a):!0})),H7(e,y,u,t),Bx(y,d),e.ancestors.pop(),e.schema=r,e.create(t,u,y,n)}function az(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Z1(e,t.position)}function oz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Z1(e,t.position)}function sz(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Sm,e.schema=o),e.ancestors.push(t);const u=t.name===null?e.Fragment:U7(e,t.name,!0),y=dz(e,t),d=Fx(e,t);return H7(e,y,u,t),Bx(y,d),e.ancestors.pop(),e.schema=r,e.create(t,u,y,n)}function lz(e,t,n){const r={};return Bx(r,Fx(e,t)),e.create(t,e.Fragment,r,n)}function uz(e,t){return t.value}function H7(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Bx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cz(e,t,n){return r;function r(o,u,y,d){const c=Array.isArray(y.children)?n:t;return d?c(u,y,d):c(u,y)}}function fz(e,t){return n;function n(r,o,u,y){const d=Array.isArray(u.children),a=Nx(r);return t(o,u,y,d,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function hz(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Lx.call(t.properties,o)){const u=gz(e,o,t.properties[o]);if(u){const[y,d]=u;e.tableCellAlignToStyle&&y==="align"&&typeof d=="string"&&nz.has(t.tagName)?r=d:n[y]=d}}if(r){const u=n.style||(n.style={});u[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function dz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const u=r.data.estree.body[0];u.type;const y=u.expression;y.type;const d=y.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else Z1(e,t.position);else{const o=r.name;let u;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const d=r.value.data.estree.body[0];d.type,u=e.evaluater.evaluateExpression(d.expression)}else Z1(e,t.position);else u=r.value===null?!0:r.value;n[o]=u}return n}function Fx(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:$P;for(;++r<t.children.length;){const u=t.children[r];let y;if(e.passKeys){const a=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(a){const c=o.get(a)||0;y=a+"-"+c,o.set(a,c+1)}}const d=z7(e,u,y);d!==void 0&&n.push(d)}return n}function gz(e,t,n){const r=N7(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?OP(n):YP(n)),r.property==="style"){let o=typeof n=="object"?n:pz(e,String(n));return e.stylePropertyNameCase==="css"&&(o=mz(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?HP[r.property]||r.property:r.attribute,n]}}function pz(e,t){try{return QP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new nu("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=P7+"#cannot-parse-style-attribute",o}}function U7(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let u=-1,y;for(;++u<o.length;){const d=y5(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};y=y?{type:"MemberExpression",object:y,property:d,computed:!!(u&&d.type==="Literal"),optional:!1}:d}r=y}else r=y5(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Lx.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Z1(e)}function Z1(e,t){const n=new nu("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=P7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function mz(e){const t={};let n;for(n in e)Lx.call(e,n)&&(t[vz(n)]=e[n]);return t}function vz(e){let t=e.replace(ez,yz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function yz(e){return"-"+e.toLowerCase()}const o2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xz={};function Px(e,t){const n=xz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return j7(e,r,o)}function j7(e,t,n){if(bz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _5(e.children,t,n)}return Array.isArray(e)?_5(e,t,n):""}function _5(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=j7(e[o],t,n);return r.join("")}function bz(e){return!!(e&&typeof e=="object")}const M5=document.createElement("i");function zx(e){const t="&"+e+";";M5.innerHTML=t;const n=M5.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function pc(e,t,n,r){const o=e.length;let u=0,y;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)y=Array.from(r),y.unshift(t,n),e.splice(...y);else for(n&&e.splice(t,n);u<r.length;)y=r.slice(u,u+1e4),y.unshift(t,0),e.splice(...y),u+=1e4,t+=1e4}function Rc(e,t){return e.length>0?(pc(e,e.length,0,t),e):t}const O5={}.hasOwnProperty;function W7(e){const t={};let n=-1;for(;++n<e.length;)wz(t,e[n]);return t}function wz(e,t){let n;for(n in t){const o=(O5.call(e,n)?e[n]:void 0)||(e[n]={}),u=t[n];let y;if(u)for(y in u){O5.call(o,y)||(o[y]=[]);const d=u[y];Cz(o[y],Array.isArray(d)?d:d?[d]:[])}}}function Cz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);pc(e,0,0,r)}function G7(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function lf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pu=i0(/[A-Za-z]/),tu=i0(/[\dA-Za-z]/),Sz=i0(/[#-'*+\--9=?A-Z^-~]/);function Zp(e){return e!==null&&(e<32||e===127)}const vy=i0(/\d/),Ez=i0(/[\dA-Fa-f]/),Az=i0(/[!-/:-@[-`{-~]/);function Sr(e){return e!==null&&e<-2}function lo(e){return e!==null&&(e<0||e===32)}function Ki(e){return e===-2||e===-1||e===32}const Em=i0(new RegExp("\\p{P}|\\p{S}","u")),F0=i0(/\s/);function i0(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Wd(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const u=e.charCodeAt(n);let y="";if(u===37&&tu(e.charCodeAt(n+1))&&tu(e.charCodeAt(n+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(y=String.fromCharCode(u));else if(u>55295&&u<57344){const d=e.charCodeAt(n+1);u<56320&&d>56319&&d<57344?(y=String.fromCharCode(u,d),o=1):y=""}else y=String.fromCharCode(u);y&&(t.push(e.slice(r,n),encodeURIComponent(y)),r=n+o+1,y=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Hi(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let u=0;return y;function y(a){return Ki(a)?(e.enter(n),d(a)):t(a)}function d(a){return Ki(a)&&u++<o?(e.consume(a),d):(e.exit(n),t(a))}}const Tz={tokenize:kz};function kz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Hi(e,t,"linePrefix")}function o(d){return e.enter("paragraph"),u(d)}function u(d){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,y(d)}function y(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return Sr(d)?(e.consume(d),e.exit("chunkText"),u):(e.consume(d),y)}}const Dz={tokenize:_z},I5={tokenize:Mz};function _z(e){const t=this,n=[];let r=0,o,u,y;return d;function d(U){if(r<n.length){const W=n[r];return t.containerState=W[1],e.attempt(W[0].continuation,a,c)(U)}return c(U)}function a(U){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&N();const W=t.events.length;let q=W,J;for(;q--;)if(t.events[q][0]==="exit"&&t.events[q][1].type==="chunkFlow"){J=t.events[q][1].end;break}O(r);let ne=W;for(;ne<t.events.length;)t.events[ne][1].end={...J},ne++;return pc(t.events,q+1,0,t.events.slice(W)),t.events.length=ne,c(U)}return d(U)}function c(U){if(r===n.length){if(!o)return g(U);if(o.currentConstruct&&o.currentConstruct.concrete)return C(U);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(I5,v,f)(U)}function v(U){return o&&N(),O(r),g(U)}function f(U){return t.parser.lazy[t.now().line]=r!==n.length,y=t.now().offset,C(U)}function g(U){return t.containerState={},e.attempt(I5,m,C)(U)}function m(U){return r++,n.push([t.currentConstruct,t.containerState]),g(U)}function C(U){if(U===null){o&&N(),O(0),e.consume(U);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),k(U)}function k(U){if(U===null){S(e.exit("chunkFlow"),!0),O(0),e.consume(U);return}return Sr(U)?(e.consume(U),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,d):(e.consume(U),k)}function S(U,W){const q=t.sliceStream(U);if(W&&q.push(null),U.previous=u,u&&(u.next=U),u=U,o.defineSkip(U.start),o.write(q),t.parser.lazy[U.start.line]){let J=o.events.length;for(;J--;)if(o.events[J][1].start.offset<y&&(!o.events[J][1].end||o.events[J][1].end.offset>y))return;const ne=t.events.length;let ve=ne,Se,Fe;for(;ve--;)if(t.events[ve][0]==="exit"&&t.events[ve][1].type==="chunkFlow"){if(Se){Fe=t.events[ve][1].end;break}Se=!0}for(O(r),J=ne;J<t.events.length;)t.events[J][1].end={...Fe},J++;pc(t.events,ve+1,0,t.events.slice(ne)),t.events.length=J}}function O(U){let W=n.length;for(;W-- >U;){const q=n[W];t.containerState=q[1],q[0].exit.call(t,e)}n.length=U}function N(){o.write([null]),u=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Mz(e,t,n){return Hi(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Id(e){if(e===null||lo(e)||F0(e))return 1;if(Em(e))return 2}function Am(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const u=e[o].resolveAll;u&&!r.includes(u)&&(t=u(t,n),r.push(u))}return t}const yy={name:"attention",resolveAll:Oz,tokenize:Iz};function Oz(e,t){let n=-1,r,o,u,y,d,a,c,v;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},g={...e[n][1].start};R5(f,-a),R5(g,a),y={type:a>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},d={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},u={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:a>1?"strong":"emphasis",start:{...y.start},end:{...d.end}},e[r][1].end={...y.start},e[n][1].start={...d.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Rc(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Rc(c,[["enter",o,t],["enter",y,t],["exit",y,t],["enter",u,t]]),c=Rc(c,Am(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Rc(c,[["exit",u,t],["enter",d,t],["exit",d,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(v=2,c=Rc(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):v=0,pc(e,r-1,n-r+3,c),n=r+c.length-v-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Iz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Id(r);let u;return y;function y(a){return u=a,e.enter("attentionSequence"),d(a)}function d(a){if(a===u)return e.consume(a),d;const c=e.exit("attentionSequence"),v=Id(a),f=!v||v===2&&o||n.includes(a),g=!o||o===2&&v||n.includes(r);return c._open=!!(u===42?f:f&&(o||!g)),c._close=!!(u===42?g:g&&(v||!f)),t(a)}}function R5(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Rz={name:"autolink",tokenize:Nz};function Nz(e,t,n){let r=0;return o;function o(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(m){return pu(m)?(e.consume(m),y):m===64?n(m):c(m)}function y(m){return m===43||m===45||m===46||tu(m)?(r=1,d(m)):c(m)}function d(m){return m===58?(e.consume(m),r=0,a):(m===43||m===45||m===46||tu(m))&&r++<32?(e.consume(m),d):(r=0,c(m))}function a(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Zp(m)?n(m):(e.consume(m),a)}function c(m){return m===64?(e.consume(m),v):Sz(m)?(e.consume(m),c):n(m)}function v(m){return tu(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,v):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||tu(m))&&r++<63){const C=m===45?g:f;return e.consume(m),C}return n(m)}}const og={partial:!0,tokenize:Lz};function Lz(e,t,n){return r;function r(u){return Ki(u)?Hi(e,o,"linePrefix")(u):o(u)}function o(u){return u===null||Sr(u)?t(u):n(u)}}const Y7={continuation:{tokenize:Fz},exit:Pz,name:"blockQuote",tokenize:Bz};function Bz(e,t,n){const r=this;return o;function o(y){if(y===62){const d=r.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(y),e.exit("blockQuoteMarker"),u}return n(y)}function u(y){return Ki(y)?(e.enter("blockQuotePrefixWhitespace"),e.consume(y),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(y))}}function Fz(e,t,n){const r=this;return o;function o(y){return Ki(y)?Hi(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):u(y)}function u(y){return e.attempt(Y7,t,n)(y)}}function Pz(e){e.exit("blockQuote")}const X7={name:"characterEscape",tokenize:zz};function zz(e,t,n){return r;function r(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),o}function o(u){return Az(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(u)}}const V7={name:"characterReference",tokenize:Hz};function Hz(e,t,n){const r=this;let o=0,u,y;return d;function d(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),a}function a(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),u=31,y=tu,v(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,y=Ez,v):(e.enter("characterReferenceValue"),u=7,y=vy,v(f))}function v(f){if(f===59&&o){const g=e.exit("characterReferenceValue");return y===tu&&!zx(r.sliceSerialize(g))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return y(f)&&o++<u?(e.consume(f),v):n(f)}}const N5={partial:!0,tokenize:jz},L5={concrete:!0,name:"codeFenced",tokenize:Uz};function Uz(e,t,n){const r=this,o={partial:!0,tokenize:q};let u=0,y=0,d;return a;function a(J){return c(J)}function c(J){const ne=r.events[r.events.length-1];return u=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,d=J,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),v(J)}function v(J){return J===d?(y++,e.consume(J),v):y<3?n(J):(e.exit("codeFencedFenceSequence"),Ki(J)?Hi(e,f,"whitespace")(J):f(J))}function f(J){return J===null||Sr(J)?(e.exit("codeFencedFence"),r.interrupt?t(J):e.check(N5,k,W)(J)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(J))}function g(J){return J===null||Sr(J)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(J)):Ki(J)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Hi(e,m,"whitespace")(J)):J===96&&J===d?n(J):(e.consume(J),g)}function m(J){return J===null||Sr(J)?f(J):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(J))}function C(J){return J===null||Sr(J)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(J)):J===96&&J===d?n(J):(e.consume(J),C)}function k(J){return e.attempt(o,W,S)(J)}function S(J){return e.enter("lineEnding"),e.consume(J),e.exit("lineEnding"),O}function O(J){return u>0&&Ki(J)?Hi(e,N,"linePrefix",u+1)(J):N(J)}function N(J){return J===null||Sr(J)?e.check(N5,k,W)(J):(e.enter("codeFlowValue"),U(J))}function U(J){return J===null||Sr(J)?(e.exit("codeFlowValue"),N(J)):(e.consume(J),U)}function W(J){return e.exit("codeFenced"),t(J)}function q(J,ne,ve){let Se=0;return Fe;function Fe(ge){return J.enter("lineEnding"),J.consume(ge),J.exit("lineEnding"),Ue}function Ue(ge){return J.enter("codeFencedFence"),Ki(ge)?Hi(J,Ze,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):Ze(ge)}function Ze(ge){return ge===d?(J.enter("codeFencedFenceSequence"),mt(ge)):ve(ge)}function mt(ge){return ge===d?(Se++,J.consume(ge),mt):Se>=y?(J.exit("codeFencedFenceSequence"),Ki(ge)?Hi(J,ct,"whitespace")(ge):ct(ge)):ve(ge)}function ct(ge){return ge===null||Sr(ge)?(J.exit("codeFencedFence"),ne(ge)):ve(ge)}}}function jz(e,t,n){const r=this;return o;function o(y){return y===null?n(y):(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),u)}function u(y){return r.parser.lazy[r.now().line]?n(y):t(y)}}const s2={name:"codeIndented",tokenize:Gz},Wz={partial:!0,tokenize:Yz};function Gz(e,t,n){const r=this;return o;function o(c){return e.enter("codeIndented"),Hi(e,u,"linePrefix",5)(c)}function u(c){const v=r.events[r.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?y(c):n(c)}function y(c){return c===null?a(c):Sr(c)?e.attempt(Wz,y,a)(c):(e.enter("codeFlowValue"),d(c))}function d(c){return c===null||Sr(c)?(e.exit("codeFlowValue"),y(c)):(e.consume(c),d)}function a(c){return e.exit("codeIndented"),t(c)}}function Yz(e,t,n){const r=this;return o;function o(y){return r.parser.lazy[r.now().line]?n(y):Sr(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),o):Hi(e,u,"linePrefix",5)(y)}function u(y){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(y):Sr(y)?o(y):n(y)}}const Xz={name:"codeText",previous:Kz,resolve:Vz,tokenize:Zz};function Vz(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function Kz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zz(e,t,n){let r=0,o,u;return y;function y(f){return e.enter("codeText"),e.enter("codeTextSequence"),d(f)}function d(f){return f===96?(e.consume(f),r++,d):(e.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),a):f===96?(u=e.enter("codeTextSequence"),o=0,v(f)):Sr(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Sr(f)?(e.exit("codeTextData"),a(f)):(e.consume(f),c)}function v(f){return f===96?(e.consume(f),o++,v):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(u.type="codeTextData",c(f))}}class qz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&y1(this.left,r),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),y1(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),y1(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);y1(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);y1(this.left,n.reverse())}}}function y1(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function K7(e){const t={};let n=-1,r,o,u,y,d,a,c;const v=new qz(e);for(;++n<v.length;){for(;n in t;)n=t[n];if(r=v.get(n),n&&r[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,u=0,u<a.length&&a[u][1].type==="lineEndingBlank"&&(u+=2),u<a.length&&a[u][1].type==="content"))for(;++u<a.length&&a[u][1].type!=="content";)a[u][1].type==="chunkText"&&(a[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Qz(v,n)),n=t[n],c=!0);else if(r[1]._container){for(u=n,o=void 0;u--;)if(y=v.get(u),y[1].type==="lineEnding"||y[1].type==="lineEndingBlank")y[0]==="enter"&&(o&&(v.get(o)[1].type="lineEndingBlank"),y[1].type="lineEnding",o=u);else if(!(y[1].type==="linePrefix"||y[1].type==="listItemIndent"))break;o&&(r[1].end={...v.get(o)[1].start},d=v.slice(o,n),d.unshift(r),v.splice(o,n-o+1,d))}}return pc(e,0,Number.POSITIVE_INFINITY,v.slice(0)),!c}function Qz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const u=[];let y=n._tokenizer;y||(y=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(y._contentTypeTextTrailing=!0));const d=y.events,a=[],c={};let v,f,g=-1,m=n,C=0,k=0;const S=[k];for(;m;){for(;e.get(++o)[1]!==m;);u.push(o),m._tokenizer||(v=r.sliceStream(m),m.next||v.push(null),f&&y.defineSkip(m.start),m._isInFirstContentOfListItem&&(y._gfmTasklistFirstContentOfListItem=!0),y.write(v),m._isInFirstContentOfListItem&&(y._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++g<d.length;)d[g][0]==="exit"&&d[g-1][0]==="enter"&&d[g][1].type===d[g-1][1].type&&d[g][1].start.line!==d[g][1].end.line&&(k=g+1,S.push(k),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(y.events=[],m?(m._tokenizer=void 0,m.previous=void 0):S.pop(),g=S.length;g--;){const O=d.slice(S[g],S[g+1]),N=u.pop();a.push([N,N+O.length-1]),e.splice(N,2,O)}for(a.reverse(),g=-1;++g<a.length;)c[C+a[g][0]]=C+a[g][1],C+=a[g][1]-a[g][0]-1;return c}const Jz={resolve:eH,tokenize:tH},$z={partial:!0,tokenize:nH};function eH(e){return K7(e),e}function tH(e,t){let n;return r;function r(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?u(d):Sr(d)?e.check($z,y,u)(d):(e.consume(d),o)}function u(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function y(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function nH(e,t,n){const r=this;return o;function o(y){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Hi(e,u,"linePrefix")}function u(y){if(y===null||Sr(y))return n(y);const d=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(y):e.interrupt(r.parser.constructs.flow,n,t)(y)}}function Z7(e,t,n,r,o,u,y,d,a){const c=a||Number.POSITIVE_INFINITY;let v=0;return f;function f(O){return O===60?(e.enter(r),e.enter(o),e.enter(u),e.consume(O),e.exit(u),g):O===null||O===32||O===41||Zp(O)?n(O):(e.enter(r),e.enter(y),e.enter(d),e.enter("chunkString",{contentType:"string"}),k(O))}function g(O){return O===62?(e.enter(u),e.consume(O),e.exit(u),e.exit(o),e.exit(r),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),m(O))}function m(O){return O===62?(e.exit("chunkString"),e.exit(d),g(O)):O===null||O===60||Sr(O)?n(O):(e.consume(O),O===92?C:m)}function C(O){return O===60||O===62||O===92?(e.consume(O),m):m(O)}function k(O){return!v&&(O===null||O===41||lo(O))?(e.exit("chunkString"),e.exit(d),e.exit(y),e.exit(r),t(O)):v<c&&O===40?(e.consume(O),v++,k):O===41?(e.consume(O),v--,k):O===null||O===32||O===40||Zp(O)?n(O):(e.consume(O),O===92?S:k)}function S(O){return O===40||O===41||O===92?(e.consume(O),k):k(O)}}function q7(e,t,n,r,o,u){const y=this;let d=0,a;return c;function c(m){return e.enter(r),e.enter(o),e.consume(m),e.exit(o),e.enter(u),v}function v(m){return d>999||m===null||m===91||m===93&&!a||m===94&&!d&&"_hiddenFootnoteSupport"in y.parser.constructs?n(m):m===93?(e.exit(u),e.enter(o),e.consume(m),e.exit(o),e.exit(r),t):Sr(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),v):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Sr(m)||d++>999?(e.exit("chunkString"),v(m)):(e.consume(m),a||(a=!Ki(m)),m===92?g:f)}function g(m){return m===91||m===92||m===93?(e.consume(m),d++,f):f(m)}}function Q7(e,t,n,r,o,u){let y;return d;function d(g){return g===34||g===39||g===40?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),y=g===40?41:g,a):n(g)}function a(g){return g===y?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):(e.enter(u),c(g))}function c(g){return g===y?(e.exit(u),a(y)):g===null?n(g):Sr(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Hi(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),v(g))}function v(g){return g===y||g===null||Sr(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?f:v)}function f(g){return g===y||g===92?(e.consume(g),v):v(g)}}function N1(e,t){let n;return r;function r(o){return Sr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Ki(o)?Hi(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const rH={name:"definition",tokenize:aH},iH={partial:!0,tokenize:oH};function aH(e,t,n){const r=this;let o;return u;function u(m){return e.enter("definition"),y(m)}function y(m){return q7.call(r,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function d(m){return o=lf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a):n(m)}function a(m){return lo(m)?N1(e,c)(m):c(m)}function c(m){return Z7(e,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function v(m){return e.attempt(iH,f,f)(m)}function f(m){return Ki(m)?Hi(e,g,"whitespace")(m):g(m)}function g(m){return m===null||Sr(m)?(e.exit("definition"),r.parser.defined.push(o),t(m)):n(m)}}function oH(e,t,n){return r;function r(d){return lo(d)?N1(e,o)(d):n(d)}function o(d){return Q7(e,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function u(d){return Ki(d)?Hi(e,y,"whitespace")(d):y(d)}function y(d){return d===null||Sr(d)?t(d):n(d)}}const sH={name:"hardBreakEscape",tokenize:lH};function lH(e,t,n){return r;function r(u){return e.enter("hardBreakEscape"),e.consume(u),o}function o(u){return Sr(u)?(e.exit("hardBreakEscape"),t(u)):n(u)}}const uH={name:"headingAtx",resolve:cH,tokenize:fH};function cH(e,t){let n=e.length-2,r=3,o,u;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},u={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},pc(e,r,n-r+1,[["enter",o,t],["enter",u,t],["exit",u,t],["exit",o,t]])),e}function fH(e,t,n){let r=0;return o;function o(v){return e.enter("atxHeading"),u(v)}function u(v){return e.enter("atxHeadingSequence"),y(v)}function y(v){return v===35&&r++<6?(e.consume(v),y):v===null||lo(v)?(e.exit("atxHeadingSequence"),d(v)):n(v)}function d(v){return v===35?(e.enter("atxHeadingSequence"),a(v)):v===null||Sr(v)?(e.exit("atxHeading"),t(v)):Ki(v)?Hi(e,d,"whitespace")(v):(e.enter("atxHeadingText"),c(v))}function a(v){return v===35?(e.consume(v),a):(e.exit("atxHeadingSequence"),d(v))}function c(v){return v===null||v===35||lo(v)?(e.exit("atxHeadingText"),d(v)):(e.consume(v),c)}}const hH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],B5=["pre","script","style","textarea"],dH={concrete:!0,name:"htmlFlow",resolveTo:mH,tokenize:vH},gH={partial:!0,tokenize:xH},pH={partial:!0,tokenize:yH};function mH(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function vH(e,t,n){const r=this;let o,u,y,d,a;return c;function c(V){return v(V)}function v(V){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(V),f}function f(V){return V===33?(e.consume(V),g):V===47?(e.consume(V),u=!0,k):V===63?(e.consume(V),o=3,r.interrupt?t:ce):pu(V)?(e.consume(V),y=String.fromCharCode(V),S):n(V)}function g(V){return V===45?(e.consume(V),o=2,m):V===91?(e.consume(V),o=5,d=0,C):pu(V)?(e.consume(V),o=4,r.interrupt?t:ce):n(V)}function m(V){return V===45?(e.consume(V),r.interrupt?t:ce):n(V)}function C(V){const me="CDATA[";return V===me.charCodeAt(d++)?(e.consume(V),d===me.length?r.interrupt?t:Ze:C):n(V)}function k(V){return pu(V)?(e.consume(V),y=String.fromCharCode(V),S):n(V)}function S(V){if(V===null||V===47||V===62||lo(V)){const me=V===47,Ae=y.toLowerCase();return!me&&!u&&B5.includes(Ae)?(o=1,r.interrupt?t(V):Ze(V)):hH.includes(y.toLowerCase())?(o=6,me?(e.consume(V),O):r.interrupt?t(V):Ze(V)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):u?N(V):U(V))}return V===45||tu(V)?(e.consume(V),y+=String.fromCharCode(V),S):n(V)}function O(V){return V===62?(e.consume(V),r.interrupt?t:Ze):n(V)}function N(V){return Ki(V)?(e.consume(V),N):Fe(V)}function U(V){return V===47?(e.consume(V),Fe):V===58||V===95||pu(V)?(e.consume(V),W):Ki(V)?(e.consume(V),U):Fe(V)}function W(V){return V===45||V===46||V===58||V===95||tu(V)?(e.consume(V),W):q(V)}function q(V){return V===61?(e.consume(V),J):Ki(V)?(e.consume(V),q):U(V)}function J(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),a=V,ne):Ki(V)?(e.consume(V),J):ve(V)}function ne(V){return V===a?(e.consume(V),a=null,Se):V===null||Sr(V)?n(V):(e.consume(V),ne)}function ve(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||lo(V)?q(V):(e.consume(V),ve)}function Se(V){return V===47||V===62||Ki(V)?U(V):n(V)}function Fe(V){return V===62?(e.consume(V),Ue):n(V)}function Ue(V){return V===null||Sr(V)?Ze(V):Ki(V)?(e.consume(V),Ue):n(V)}function Ze(V){return V===45&&o===2?(e.consume(V),ye):V===60&&o===1?(e.consume(V),Re):V===62&&o===4?(e.consume(V),le):V===63&&o===3?(e.consume(V),ce):V===93&&o===5?(e.consume(V),Me):Sr(V)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(gH,ae,mt)(V)):V===null||Sr(V)?(e.exit("htmlFlowData"),mt(V)):(e.consume(V),Ze)}function mt(V){return e.check(pH,ct,ae)(V)}function ct(V){return e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),ge}function ge(V){return V===null||Sr(V)?mt(V):(e.enter("htmlFlowData"),Ze(V))}function ye(V){return V===45?(e.consume(V),ce):Ze(V)}function Re(V){return V===47?(e.consume(V),y="",ft):Ze(V)}function ft(V){if(V===62){const me=y.toLowerCase();return B5.includes(me)?(e.consume(V),le):Ze(V)}return pu(V)&&y.length<8?(e.consume(V),y+=String.fromCharCode(V),ft):Ze(V)}function Me(V){return V===93?(e.consume(V),ce):Ze(V)}function ce(V){return V===62?(e.consume(V),le):V===45&&o===2?(e.consume(V),ce):Ze(V)}function le(V){return V===null||Sr(V)?(e.exit("htmlFlowData"),ae(V)):(e.consume(V),le)}function ae(V){return e.exit("htmlFlow"),t(V)}}function yH(e,t,n){const r=this;return o;function o(y){return Sr(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),u):n(y)}function u(y){return r.parser.lazy[r.now().line]?n(y):t(y)}}function xH(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(og,t,n)}}const bH={name:"htmlText",tokenize:wH};function wH(e,t,n){const r=this;let o,u,y;return d;function d(ce){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(ce),a}function a(ce){return ce===33?(e.consume(ce),c):ce===47?(e.consume(ce),q):ce===63?(e.consume(ce),U):pu(ce)?(e.consume(ce),ve):n(ce)}function c(ce){return ce===45?(e.consume(ce),v):ce===91?(e.consume(ce),u=0,C):pu(ce)?(e.consume(ce),N):n(ce)}function v(ce){return ce===45?(e.consume(ce),m):n(ce)}function f(ce){return ce===null?n(ce):ce===45?(e.consume(ce),g):Sr(ce)?(y=f,Re(ce)):(e.consume(ce),f)}function g(ce){return ce===45?(e.consume(ce),m):f(ce)}function m(ce){return ce===62?ye(ce):ce===45?g(ce):f(ce)}function C(ce){const le="CDATA[";return ce===le.charCodeAt(u++)?(e.consume(ce),u===le.length?k:C):n(ce)}function k(ce){return ce===null?n(ce):ce===93?(e.consume(ce),S):Sr(ce)?(y=k,Re(ce)):(e.consume(ce),k)}function S(ce){return ce===93?(e.consume(ce),O):k(ce)}function O(ce){return ce===62?ye(ce):ce===93?(e.consume(ce),O):k(ce)}function N(ce){return ce===null||ce===62?ye(ce):Sr(ce)?(y=N,Re(ce)):(e.consume(ce),N)}function U(ce){return ce===null?n(ce):ce===63?(e.consume(ce),W):Sr(ce)?(y=U,Re(ce)):(e.consume(ce),U)}function W(ce){return ce===62?ye(ce):U(ce)}function q(ce){return pu(ce)?(e.consume(ce),J):n(ce)}function J(ce){return ce===45||tu(ce)?(e.consume(ce),J):ne(ce)}function ne(ce){return Sr(ce)?(y=ne,Re(ce)):Ki(ce)?(e.consume(ce),ne):ye(ce)}function ve(ce){return ce===45||tu(ce)?(e.consume(ce),ve):ce===47||ce===62||lo(ce)?Se(ce):n(ce)}function Se(ce){return ce===47?(e.consume(ce),ye):ce===58||ce===95||pu(ce)?(e.consume(ce),Fe):Sr(ce)?(y=Se,Re(ce)):Ki(ce)?(e.consume(ce),Se):ye(ce)}function Fe(ce){return ce===45||ce===46||ce===58||ce===95||tu(ce)?(e.consume(ce),Fe):Ue(ce)}function Ue(ce){return ce===61?(e.consume(ce),Ze):Sr(ce)?(y=Ue,Re(ce)):Ki(ce)?(e.consume(ce),Ue):Se(ce)}function Ze(ce){return ce===null||ce===60||ce===61||ce===62||ce===96?n(ce):ce===34||ce===39?(e.consume(ce),o=ce,mt):Sr(ce)?(y=Ze,Re(ce)):Ki(ce)?(e.consume(ce),Ze):(e.consume(ce),ct)}function mt(ce){return ce===o?(e.consume(ce),o=void 0,ge):ce===null?n(ce):Sr(ce)?(y=mt,Re(ce)):(e.consume(ce),mt)}function ct(ce){return ce===null||ce===34||ce===39||ce===60||ce===61||ce===96?n(ce):ce===47||ce===62||lo(ce)?Se(ce):(e.consume(ce),ct)}function ge(ce){return ce===47||ce===62||lo(ce)?Se(ce):n(ce)}function ye(ce){return ce===62?(e.consume(ce),e.exit("htmlTextData"),e.exit("htmlText"),t):n(ce)}function Re(ce){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(ce),e.exit("lineEnding"),ft}function ft(ce){return Ki(ce)?Hi(e,Me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):Me(ce)}function Me(ce){return e.enter("htmlTextData"),y(ce)}}const Hx={name:"labelEnd",resolveAll:AH,resolveTo:TH,tokenize:kH},CH={tokenize:DH},SH={tokenize:_H},EH={tokenize:MH};function AH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&pc(e,0,e.length,n),e}function TH(e,t){let n=e.length,r=0,o,u,y,d;for(;n--;)if(o=e[n][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(y){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(y=n);const a={type:e[u][1].type==="labelLink"?"link":"image",start:{...e[u][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[u][1].start},end:{...e[y][1].end}},v={type:"labelText",start:{...e[u+r+2][1].end},end:{...e[y-2][1].start}};return d=[["enter",a,t],["enter",c,t]],d=Rc(d,e.slice(u+1,u+r+3)),d=Rc(d,[["enter",v,t]]),d=Rc(d,Am(t.parser.constructs.insideSpan.null,e.slice(u+r+4,y-3),t)),d=Rc(d,[["exit",v,t],e[y-2],e[y-1],["exit",c,t]]),d=Rc(d,e.slice(y+1)),d=Rc(d,[["exit",a,t]]),pc(e,u,e.length,d),e}function kH(e,t,n){const r=this;let o=r.events.length,u,y;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){u=r.events[o][1];break}return d;function d(g){return u?u._inactive?f(g):(y=r.parser.defined.includes(lf(r.sliceSerialize({start:u.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),a):n(g)}function a(g){return g===40?e.attempt(CH,v,y?v:f)(g):g===91?e.attempt(SH,v,y?c:f)(g):y?v(g):f(g)}function c(g){return e.attempt(EH,v,f)(g)}function v(g){return t(g)}function f(g){return u._balanced=!0,n(g)}}function DH(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),o}function o(f){return lo(f)?N1(e,u)(f):u(f)}function u(f){return f===41?v(f):Z7(e,y,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function y(f){return lo(f)?N1(e,a)(f):v(f)}function d(f){return n(f)}function a(f){return f===34||f===39||f===40?Q7(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):v(f)}function c(f){return lo(f)?N1(e,v)(f):v(f)}function v(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function _H(e,t,n){const r=this;return o;function o(d){return q7.call(r,e,u,y,"reference","referenceMarker","referenceString")(d)}function u(d){return r.parser.defined.includes(lf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function y(d){return n(d)}}function MH(e,t,n){return r;function r(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),o}function o(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),t):n(u)}}const OH={name:"labelStartImage",resolveAll:Hx.resolveAll,tokenize:IH};function IH(e,t,n){const r=this;return o;function o(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),u}function u(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),y):n(d)}function y(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(d):t(d)}}const RH={name:"labelStartLink",resolveAll:Hx.resolveAll,tokenize:NH};function NH(e,t,n){const r=this;return o;function o(y){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelLink"),u}function u(y){return y===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(y):t(y)}}const l2={name:"lineEnding",tokenize:LH};function LH(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Hi(e,t,"linePrefix")}}const wp={name:"thematicBreak",tokenize:BH};function BH(e,t,n){let r=0,o;return u;function u(c){return e.enter("thematicBreak"),y(c)}function y(c){return o=c,d(c)}function d(c){return c===o?(e.enter("thematicBreakSequence"),a(c)):r>=3&&(c===null||Sr(c))?(e.exit("thematicBreak"),t(c)):n(c)}function a(c){return c===o?(e.consume(c),r++,a):(e.exit("thematicBreakSequence"),Ki(c)?Hi(e,d,"whitespace")(c):d(c))}}const Hu={continuation:{tokenize:HH},exit:jH,name:"list",tokenize:zH},FH={partial:!0,tokenize:WH},PH={partial:!0,tokenize:UH};function zH(e,t,n){const r=this,o=r.events[r.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,y=0;return d;function d(m){const C=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:vy(m)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(wp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(m)}return n(m)}function a(m){return vy(m)&&++y<10?(e.consume(m),a):(!r.interrupt||y<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(og,r.interrupt?n:v,e.attempt(FH,g,f))}function v(m){return r.containerState.initialBlankLine=!0,u++,g(m)}function f(m){return Ki(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=u+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function HH(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(og,o,u);function o(d){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Hi(e,t,"listItemIndent",r.containerState.size+1)(d)}function u(d){return r.containerState.furtherBlankLines||!Ki(d)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,y(d)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(PH,t,y)(d))}function y(d){return r.containerState._closeFlow=!0,r.interrupt=void 0,Hi(e,e.attempt(Hu,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function UH(e,t,n){const r=this;return Hi(e,o,"listItemIndent",r.containerState.size+1);function o(u){const y=r.events[r.events.length-1];return y&&y[1].type==="listItemIndent"&&y[2].sliceSerialize(y[1],!0).length===r.containerState.size?t(u):n(u)}}function jH(e){e.exit(this.containerState.type)}function WH(e,t,n){const r=this;return Hi(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const y=r.events[r.events.length-1];return!Ki(u)&&y&&y[1].type==="listItemPrefixWhitespace"?t(u):n(u)}}const F5={name:"setextUnderline",resolveTo:GH,tokenize:YH};function GH(e,t){let n=e.length,r,o,u;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!u&&e[n][1].type==="definition"&&(u=n);const y={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",u?(e.splice(o,0,["enter",y,t]),e.splice(u+1,0,["exit",e[r][1],t]),e[r][1].end={...e[u][1].end}):e[r][1]=y,e.push(["exit",y,t]),e}function YH(e,t,n){const r=this;let o;return u;function u(c){let v=r.events.length,f;for(;v--;)if(r.events[v][1].type!=="lineEnding"&&r.events[v][1].type!=="linePrefix"&&r.events[v][1].type!=="content"){f=r.events[v][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),o=c,y(c)):n(c)}function y(c){return e.enter("setextHeadingLineSequence"),d(c)}function d(c){return c===o?(e.consume(c),d):(e.exit("setextHeadingLineSequence"),Ki(c)?Hi(e,a,"lineSuffix")(c):a(c))}function a(c){return c===null||Sr(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const XH={tokenize:VH};function VH(e){const t=this,n=e.attempt(og,r,e.attempt(this.parser.constructs.flowInitial,o,Hi(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Jz,o)),"linePrefix")));return n;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const KH={resolveAll:$7()},ZH=J7("string"),qH=J7("text");function J7(e){return{resolveAll:$7(e==="text"?QH:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],u=n.attempt(o,y,d);return y;function y(v){return c(v)?u(v):d(v)}function d(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),a}function a(v){return c(v)?(n.exit("data"),u(v)):(n.consume(v),a)}function c(v){if(v===null)return!0;const f=o[v];let g=-1;if(f)for(;++g<f.length;){const m=f[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function $7(e){return t;function t(n,r){let o=-1,u;for(;++o<=n.length;)u===void 0?n[o]&&n[o][1].type==="data"&&(u=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==u+2&&(n[u][1].end=n[o-1][1].end,n.splice(u+2,o-u-2),o=u+2),u=void 0);return e?e(n,r):n}}function QH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let u=o.length,y=-1,d=0,a;for(;u--;){const c=o[u];if(typeof c=="string"){for(y=c.length;c.charCodeAt(y-1)===32;)d++,y--;if(y)break;y=-1}else if(c===-2)a=!0,d++;else if(c!==-1){u++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const c={type:n===e.length||a||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?y:r.start._bufferIndex+y,_index:r.start._index+u,line:r.end.line,column:r.end.column-d,offset:r.end.offset-d},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const JH={42:Hu,43:Hu,45:Hu,48:Hu,49:Hu,50:Hu,51:Hu,52:Hu,53:Hu,54:Hu,55:Hu,56:Hu,57:Hu,62:Y7},$H={91:rH},eU={[-2]:s2,[-1]:s2,32:s2},tU={35:uH,42:wp,45:[F5,wp],60:dH,61:F5,95:wp,96:L5,126:L5},nU={38:V7,92:X7},rU={[-5]:l2,[-4]:l2,[-3]:l2,33:OH,38:V7,42:yy,60:[Rz,bH],91:RH,92:[sH,X7],93:Hx,95:yy,96:Xz},iU={null:[yy,KH]},aU={null:[42,95]},oU={null:[]},sU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aU,contentInitial:$H,disable:oU,document:JH,flow:tU,flowInitial:eU,insideSpan:iU,string:nU,text:rU},Symbol.toStringTag,{value:"Module"}));function lU(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},u=[];let y=[],d=[];const a={attempt:ne(q),check:ne(J),consume:N,enter:U,exit:W,interrupt:ne(J,{interrupt:!0})},c={code:null,containerState:{},defineSkip:k,events:[],now:C,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:f};let v=t.tokenize.call(c,a);return t.resolveAll&&u.push(t),c;function f(Ue){return y=Rc(y,Ue),S(),y[y.length-1]!==null?[]:(ve(t,0),c.events=Am(u,c.events,c),c.events)}function g(Ue,Ze){return cU(m(Ue),Ze)}function m(Ue){return uU(y,Ue)}function C(){const{_bufferIndex:Ue,_index:Ze,line:mt,column:ct,offset:ge}=r;return{_bufferIndex:Ue,_index:Ze,line:mt,column:ct,offset:ge}}function k(Ue){o[Ue.line]=Ue.column,Fe()}function S(){let Ue;for(;r._index<y.length;){const Ze=y[r._index];if(typeof Ze=="string")for(Ue=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Ue&&r._bufferIndex<Ze.length;)O(Ze.charCodeAt(r._bufferIndex));else O(Ze)}}function O(Ue){v=v(Ue)}function N(Ue){Sr(Ue)?(r.line++,r.column=1,r.offset+=Ue===-3?2:1,Fe()):Ue!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===y[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Ue}function U(Ue,Ze){const mt=Ze||{};return mt.type=Ue,mt.start=C(),c.events.push(["enter",mt,c]),d.push(mt),mt}function W(Ue){const Ze=d.pop();return Ze.end=C(),c.events.push(["exit",Ze,c]),Ze}function q(Ue,Ze){ve(Ue,Ze.from)}function J(Ue,Ze){Ze.restore()}function ne(Ue,Ze){return mt;function mt(ct,ge,ye){let Re,ft,Me,ce;return Array.isArray(ct)?ae(ct):"tokenize"in ct?ae([ct]):le(ct);function le(Ne){return ut;function ut(xt){const et=xt!==null&&Ne[xt],Wt=xt!==null&&Ne.null,_t=[...Array.isArray(et)?et:et?[et]:[],...Array.isArray(Wt)?Wt:Wt?[Wt]:[]];return ae(_t)(xt)}}function ae(Ne){return Re=Ne,ft=0,Ne.length===0?ye:V(Ne[ft])}function V(Ne){return ut;function ut(xt){return ce=Se(),Me=Ne,Ne.partial||(c.currentConstruct=Ne),Ne.name&&c.parser.constructs.disable.null.includes(Ne.name)?Ae():Ne.tokenize.call(Ze?Object.assign(Object.create(c),Ze):c,a,me,Ae)(xt)}}function me(Ne){return Ue(Me,ce),ge}function Ae(Ne){return ce.restore(),++ft<Re.length?V(Re[ft]):ye}}}function ve(Ue,Ze){Ue.resolveAll&&!u.includes(Ue)&&u.push(Ue),Ue.resolve&&pc(c.events,Ze,c.events.length-Ze,Ue.resolve(c.events.slice(Ze),c)),Ue.resolveTo&&(c.events=Ue.resolveTo(c.events,c))}function Se(){const Ue=C(),Ze=c.previous,mt=c.currentConstruct,ct=c.events.length,ge=Array.from(d);return{from:ct,restore:ye};function ye(){r=Ue,c.previous=Ze,c.currentConstruct=mt,c.events.length=ct,d=ge,Fe()}}function Fe(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function uU(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,u=t.end._bufferIndex;let y;if(n===o)y=[e[n].slice(r,u)];else{if(y=e.slice(n,o),r>-1){const d=y[0];typeof d=="string"?y[0]=d.slice(r):y.shift()}u>0&&y.push(e[o].slice(0,u))}return y}function cU(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const u=e[n];let y;if(typeof u=="string")y=u;else switch(u){case-5:{y="\r";break}case-4:{y=`
`;break}case-3:{y=`\r
`;break}case-2:{y=t?" ":"	";break}case-1:{if(!t&&o)continue;y=" ";break}default:y=String.fromCharCode(u)}o=u===-2,r.push(y)}return r.join("")}function fU(e){const r={constructs:W7([sU,...(e||{}).extensions||[]]),content:o(Tz),defined:[],document:o(Dz),flow:o(XH),lazy:{},string:o(ZH),text:o(qH)};return r;function o(u){return y;function y(d){return lU(r,u,d)}}}function hU(e){for(;!K7(e););return e}const P5=/[\0\t\n\r]/g;function dU(){let e=1,t="",n=!0,r;return o;function o(u,y,d){const a=[];let c,v,f,g,m;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(y||void 0).decode(u)),f=0,t="",n&&(u.charCodeAt(0)===65279&&f++,n=void 0);f<u.length;){if(P5.lastIndex=f,c=P5.exec(u),g=c&&c.index!==void 0?c.index:u.length,m=u.charCodeAt(g),!c){t=u.slice(f);break}if(m===10&&f===g&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<g&&(a.push(u.slice(f,g)),e+=g-f),m){case 0:{a.push(65533),e++;break}case 9:{for(v=Math.ceil(e/4)*4,a.push(-2);e++<v;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}f=g+1}return d&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const gU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pU(e){return e.replace(gU,mU)}function mU(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),u=o===120||o===88;return G7(n.slice(u?2:1),u?16:10)}return zx(n)||e}const eE={}.hasOwnProperty;function vU(e,t,n){return typeof t!="string"&&(n=t,t=void 0),yU(n)(hU(fU(n).document().write(dU()(e,t,!0))))}function yU(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Vt),autolinkProtocol:Se,autolinkEmail:Se,atxHeading:u(St),blockQuote:u(Wt),characterEscape:Se,characterReference:Se,codeFenced:u(_t),codeFencedFenceInfo:y,codeFencedFenceMeta:y,codeIndented:u(_t,y),codeText:u(Ft,y),codeTextData:Se,data:Se,codeFlowValue:Se,definition:u(st),definitionDestinationString:y,definitionLabelString:y,definitionTitleString:y,emphasis:u(At),hardBreakEscape:u(Kt),hardBreakTrailing:u(Kt),htmlFlow:u(zt,y),htmlFlowData:Se,htmlText:u(zt,y),htmlTextData:Se,image:u(Ut),label:y,link:u(Vt),listItem:u(Xt),listItemValue:g,listOrdered:u(un,f),listUnordered:u(un),paragraph:u(qt),reference:V,referenceString:y,resourceDestinationString:y,resourceTitleString:y,setextHeading:u(St),strong:u(Bn),thematicBreak:u(dt)},exit:{atxHeading:a(),atxHeadingSequence:q,autolink:a(),autolinkEmail:et,autolinkProtocol:xt,blockQuote:a(),characterEscapeValue:Fe,characterReferenceMarkerHexadecimal:Ae,characterReferenceMarkerNumeric:Ae,characterReferenceValue:Ne,characterReference:ut,codeFenced:a(S),codeFencedFence:k,codeFencedFenceInfo:m,codeFencedFenceMeta:C,codeFlowValue:Fe,codeIndented:a(O),codeText:a(ge),codeTextData:Fe,data:Fe,definition:a(),definitionDestinationString:W,definitionLabelString:N,definitionTitleString:U,emphasis:a(),hardBreakEscape:a(Ze),hardBreakTrailing:a(Ze),htmlFlow:a(mt),htmlFlowData:Fe,htmlText:a(ct),htmlTextData:Fe,image:a(Re),label:Me,labelText:ft,lineEnding:Ue,link:a(ye),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:me,resourceDestinationString:ce,resourceTitleString:le,resource:ae,setextHeading:a(ve),setextHeadingLineSequence:ne,setextHeadingText:J,strong:a(),thematicBreak:a()}};tE(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Pe){let be={type:"root",children:[]};const Ee={stack:[be],tokenStack:[],config:t,enter:d,exit:c,buffer:y,resume:v,data:n},qe=[];let re=-1;for(;++re<Pe.length;)if(Pe[re][1].type==="listOrdered"||Pe[re][1].type==="listUnordered")if(Pe[re][0]==="enter")qe.push(re);else{const we=qe.pop();re=o(Pe,we,re)}for(re=-1;++re<Pe.length;){const we=t[Pe[re][0]];eE.call(we,Pe[re][1].type)&&we[Pe[re][1].type].call(Object.assign({sliceSerialize:Pe[re][2].sliceSerialize},Ee),Pe[re][1])}if(Ee.tokenStack.length>0){const we=Ee.tokenStack[Ee.tokenStack.length-1];(we[1]||z5).call(Ee,void 0,we[0])}for(be.position={start:jh(Pe.length>0?Pe[0][1].start:{line:1,column:1,offset:0}),end:jh(Pe.length>0?Pe[Pe.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)be=t.transforms[re](be)||be;return be}function o(Pe,be,Ee){let qe=be-1,re=-1,we=!1,Ve,it,We,Et;for(;++qe<=Ee;){const Ye=Pe[qe];switch(Ye[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ye[0]==="enter"?re++:re--,Et=void 0;break}case"lineEndingBlank":{Ye[0]==="enter"&&(Ve&&!Et&&!re&&!We&&(We=qe),Et=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Et=void 0}if(!re&&Ye[0]==="enter"&&Ye[1].type==="listItemPrefix"||re===-1&&Ye[0]==="exit"&&(Ye[1].type==="listUnordered"||Ye[1].type==="listOrdered")){if(Ve){let at=qe;for(it=void 0;at--;){const Tt=Pe[at];if(Tt[1].type==="lineEnding"||Tt[1].type==="lineEndingBlank"){if(Tt[0]==="exit")continue;it&&(Pe[it][1].type="lineEndingBlank",we=!0),Tt[1].type="lineEnding",it=at}else if(!(Tt[1].type==="linePrefix"||Tt[1].type==="blockQuotePrefix"||Tt[1].type==="blockQuotePrefixWhitespace"||Tt[1].type==="blockQuoteMarker"||Tt[1].type==="listItemIndent"))break}We&&(!it||We<it)&&(Ve._spread=!0),Ve.end=Object.assign({},it?Pe[it][1].start:Ye[1].end),Pe.splice(it||qe,0,["exit",Ve,Ye[2]]),qe++,Ee++}if(Ye[1].type==="listItemPrefix"){const at={type:"listItem",_spread:!1,start:Object.assign({},Ye[1].start),end:void 0};Ve=at,Pe.splice(qe,0,["enter",at,Ye[2]]),qe++,Ee++,We=void 0,Et=!0}}}return Pe[be][1]._spread=we,Ee}function u(Pe,be){return Ee;function Ee(qe){d.call(this,Pe(qe),qe),be&&be.call(this,qe)}}function y(){this.stack.push({type:"fragment",children:[]})}function d(Pe,be,Ee){this.stack[this.stack.length-1].children.push(Pe),this.stack.push(Pe),this.tokenStack.push([be,Ee||void 0]),Pe.position={start:jh(be.start),end:void 0}}function a(Pe){return be;function be(Ee){Pe&&Pe.call(this,Ee),c.call(this,Ee)}}function c(Pe,be){const Ee=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==Pe.type&&(be?be.call(this,Pe,qe[0]):(qe[1]||z5).call(this,Pe,qe[0]));else throw new Error("Cannot close `"+Pe.type+"` ("+R1({start:Pe.start,end:Pe.end})+"): its not open");Ee.position.end=jh(Pe.end)}function v(){return Px(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(Pe){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(Pe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.lang=Pe}function C(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.meta=Pe}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.value=Pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function O(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.value=Pe.replace(/(\r?\n|\r)$/g,"")}function N(Pe){const be=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=be,Ee.identifier=lf(this.sliceSerialize(Pe)).toLowerCase()}function U(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.title=Pe}function W(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.url=Pe}function q(Pe){const be=this.stack[this.stack.length-1];if(!be.depth){const Ee=this.sliceSerialize(Pe).length;be.depth=Ee}}function J(){this.data.setextHeadingSlurpLineEnding=!0}function ne(Pe){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(Pe).codePointAt(0)===61?1:2}function ve(){this.data.setextHeadingSlurpLineEnding=void 0}function Se(Pe){const Ee=this.stack[this.stack.length-1].children;let qe=Ee[Ee.length-1];(!qe||qe.type!=="text")&&(qe=gt(),qe.position={start:jh(Pe.start),end:void 0},Ee.push(qe)),this.stack.push(qe)}function Fe(Pe){const be=this.stack.pop();be.value+=this.sliceSerialize(Pe),be.position.end=jh(Pe.end)}function Ue(Pe){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ee=be.children[be.children.length-1];Ee.position.end=jh(Pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(be.type)&&(Se.call(this,Pe),Fe.call(this,Pe))}function Ze(){this.data.atHardBreak=!0}function mt(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.value=Pe}function ct(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.value=Pe}function ge(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.value=Pe}function ye(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=be,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function Re(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=be,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function ft(Pe){const be=this.sliceSerialize(Pe),Ee=this.stack[this.stack.length-2];Ee.label=pU(be),Ee.identifier=lf(be).toLowerCase()}function Me(){const Pe=this.stack[this.stack.length-1],be=this.resume(),Ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ee.type==="link"){const qe=Pe.children;Ee.children=qe}else Ee.alt=be}function ce(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.url=Pe}function le(){const Pe=this.resume(),be=this.stack[this.stack.length-1];be.title=Pe}function ae(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function me(Pe){const be=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=be,Ee.identifier=lf(this.sliceSerialize(Pe)).toLowerCase(),this.data.referenceType="full"}function Ae(Pe){this.data.characterReferenceType=Pe.type}function Ne(Pe){const be=this.sliceSerialize(Pe),Ee=this.data.characterReferenceType;let qe;Ee?(qe=G7(be,Ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=zx(be);const re=this.stack[this.stack.length-1];re.value+=qe}function ut(Pe){const be=this.stack.pop();be.position.end=jh(Pe.end)}function xt(Pe){Fe.call(this,Pe);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(Pe)}function et(Pe){Fe.call(this,Pe);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(Pe)}function Wt(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function Ft(){return{type:"inlineCode",value:""}}function st(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function At(){return{type:"emphasis",children:[]}}function St(){return{type:"heading",depth:0,children:[]}}function Kt(){return{type:"break"}}function zt(){return{type:"html",value:""}}function Ut(){return{type:"image",title:null,url:"",alt:null}}function Vt(){return{type:"link",title:null,url:"",children:[]}}function un(Pe){return{type:"list",ordered:Pe.type==="listOrdered",start:null,spread:Pe._spread,children:[]}}function Xt(Pe){return{type:"listItem",spread:Pe._spread,checked:null,children:[]}}function qt(){return{type:"paragraph",children:[]}}function Bn(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function dt(){return{type:"thematicBreak"}}}function jh(e){return{line:e.line,column:e.column,offset:e.offset}}function tE(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?tE(e,r):xU(e,r)}}function xU(e,t){let n;for(n in t)if(eE.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function z5(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+R1({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+R1({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+R1({start:t.start,end:t.end})+") is still open")}function bU(e){const t=this;t.parser=n;function n(r){return vU(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function wU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function CU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function SU(e,t){const n=t.value?t.value+`
`:"",r={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let u={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(u.data={meta:t.meta}),e.patch(t,u),u=e.applyData(t,u),u={type:"element",tagName:"pre",properties:{},children:[u]},e.patch(t,u),u}function EU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Wd(r.toLowerCase()),u=e.footnoteOrder.indexOf(r);let y,d=e.footnoteCounts.get(r);d===void 0?(d=0,e.footnoteOrder.push(r),y=e.footnoteOrder.length):y=u+1,d+=1,e.footnoteCounts.set(r,d);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(y)}]};e.patch(t,a);const c={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,c),e.applyData(t,c)}function kU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function nE(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const y=o[o.length-1];return y&&y.type==="text"?y.value+=r:o.push({type:"text",value:r}),o}function _U(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nE(e,t);const o={src:Wd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const u={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,u),e.applyData(t,u)}function MU(e,t){const n={src:Wd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function OU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function IU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nE(e,t);const o={href:Wd(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const u={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,u),e.applyData(t,u)}function RU(e,t){const n={href:Wd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function NU(e,t,n){const r=e.all(t),o=n?LU(n):rE(t),u={},y=[];if(typeof t.checked=="boolean"){const v=r[0];let f;v&&v.type==="element"&&v.tagName==="p"?f=v:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let d=-1;for(;++d<r.length;){const v=r[d];(o||d!==0||v.type!=="element"||v.tagName!=="p")&&y.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!o?y.push(...v.children):y.push(v)}const a=r[r.length-1];a&&(o||a.type!=="element"||a.tagName!=="p")&&y.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:u,children:y};return e.patch(t,c),e.applyData(t,c)}function LU(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=rE(n[r])}return t}function rE(e){const t=e.spread;return t??e.children.length>1}function BU(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const y=r[o];if(y.type==="element"&&y.tagName==="li"&&y.properties&&Array.isArray(y.properties.className)&&y.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,u),e.applyData(t,u)}function FU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function zU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HU(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const y={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],y),o.push(y)}if(n.length>0){const y={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=Nx(t.children[1]),a=B7(t.children[t.children.length-1]);d&&a&&(y.position={start:d,end:a}),o.push(y)}const u={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,u),e.applyData(t,u)}function UU(e,t,n){const r=n?n.children:void 0,u=(r?r.indexOf(t):1)===0?"th":"td",y=n&&n.type==="table"?n.align:void 0,d=y?y.length:t.children.length;let a=-1;const c=[];for(;++a<d;){const f=t.children[a],g={},m=y?y[a]:void 0;m&&(g.align=m);let C={type:"element",tagName:u,properties:g,children:[]};f&&(C.children=e.all(f),e.patch(f,C),C=e.applyData(f,C)),c.push(C)}const v={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,v),e.applyData(t,v)}function jU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const H5=9,U5=32;function WU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const u=[];for(;r;)u.push(j5(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return u.push(j5(t.slice(o),o>0,!1)),u.join("")}function j5(e,t,n){let r=0,o=e.length;if(t){let u=e.codePointAt(r);for(;u===H5||u===U5;)r++,u=e.codePointAt(r)}if(n){let u=e.codePointAt(o-1);for(;u===H5||u===U5;)o--,u=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function GU(e,t){const n={type:"text",value:WU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function YU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const XU={blockquote:wU,break:CU,code:SU,delete:EU,emphasis:AU,footnoteReference:TU,heading:kU,html:DU,imageReference:_U,image:MU,inlineCode:OU,linkReference:IU,link:RU,listItem:NU,list:BU,paragraph:FU,root:PU,strong:zU,table:HU,tableCell:jU,tableRow:UU,text:GU,thematicBreak:YU,toml:Xg,yaml:Xg,definition:Xg,footnoteDefinition:Xg};function Xg(){}const iE=-1,Tm=0,L1=1,qp=2,Ux=3,jx=4,Wx=5,Gx=6,aE=7,oE=8,W5=typeof self=="object"?self:globalThis,VU=(e,t)=>{const n=(o,u)=>(e.set(u,o),o),r=o=>{if(e.has(o))return e.get(o);const[u,y]=t[o];switch(u){case Tm:case iE:return n(y,o);case L1:{const d=n([],o);for(const a of y)d.push(r(a));return d}case qp:{const d=n({},o);for(const[a,c]of y)d[r(a)]=r(c);return d}case Ux:return n(new Date(y),o);case jx:{const{source:d,flags:a}=y;return n(new RegExp(d,a),o)}case Wx:{const d=n(new Map,o);for(const[a,c]of y)d.set(r(a),r(c));return d}case Gx:{const d=n(new Set,o);for(const a of y)d.add(r(a));return d}case aE:{const{name:d,message:a}=y;return n(new W5[d](a),o)}case oE:return n(BigInt(y),o);case"BigInt":return n(Object(BigInt(y)),o);case"ArrayBuffer":return n(new Uint8Array(y).buffer,y);case"DataView":{const{buffer:d}=new Uint8Array(y);return n(new DataView(d),y)}}return n(new W5[u](y),o)};return r},G5=e=>VU(new Map,e)(0),fd="",{toString:KU}={},{keys:ZU}=Object,x1=e=>{const t=typeof e;if(t!=="object"||!e)return[Tm,t];const n=KU.call(e).slice(8,-1);switch(n){case"Array":return[L1,fd];case"Object":return[qp,fd];case"Date":return[Ux,fd];case"RegExp":return[jx,fd];case"Map":return[Wx,fd];case"Set":return[Gx,fd];case"DataView":return[L1,n]}return n.includes("Array")?[L1,n]:n.includes("Error")?[aE,n]:[qp,n]},Vg=([e,t])=>e===Tm&&(t==="function"||t==="symbol"),qU=(e,t,n,r)=>{const o=(y,d)=>{const a=r.push(y)-1;return n.set(d,a),a},u=y=>{if(n.has(y))return n.get(y);let[d,a]=x1(y);switch(d){case Tm:{let v=y;switch(a){case"bigint":d=oE,v=y.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);v=null;break;case"undefined":return o([iE],y)}return o([d,v],y)}case L1:{if(a){let g=y;return a==="DataView"?g=new Uint8Array(y.buffer):a==="ArrayBuffer"&&(g=new Uint8Array(y)),o([a,[...g]],y)}const v=[],f=o([d,v],y);for(const g of y)v.push(u(g));return f}case qp:{if(a)switch(a){case"BigInt":return o([a,y.toString()],y);case"Boolean":case"Number":case"String":return o([a,y.valueOf()],y)}if(t&&"toJSON"in y)return u(y.toJSON());const v=[],f=o([d,v],y);for(const g of ZU(y))(e||!Vg(x1(y[g])))&&v.push([u(g),u(y[g])]);return f}case Ux:return o([d,y.toISOString()],y);case jx:{const{source:v,flags:f}=y;return o([d,{source:v,flags:f}],y)}case Wx:{const v=[],f=o([d,v],y);for(const[g,m]of y)(e||!(Vg(x1(g))||Vg(x1(m))))&&v.push([u(g),u(m)]);return f}case Gx:{const v=[],f=o([d,v],y);for(const g of y)(e||!Vg(x1(g)))&&v.push(u(g));return f}}const{message:c}=y;return o([d,{name:a,message:c}],y)};return u},Y5=(e,{json:t,lossy:n}={})=>{const r=[];return qU(!(t||n),!!t,new Map,r)(e),r},Qp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?G5(Y5(e,t)):structuredClone(e):(e,t)=>G5(Y5(e,t));function QU(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function JU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function $U(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||QU,r=e.options.footnoteBackLabel||JU,o=e.options.footnoteLabel||"Footnotes",u=e.options.footnoteLabelTagName||"h2",y=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let a=-1;for(;++a<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[a]);if(!c)continue;const v=e.all(c),f=String(c.identifier).toUpperCase(),g=Wd(f.toLowerCase());let m=0;const C=[],k=e.footnoteCounts.get(f);for(;k!==void 0&&++m<=k;){C.length>0&&C.push({type:"text",value:" "});let N=typeof n=="string"?n:n(a,m);typeof N=="string"&&(N={type:"text",value:N}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const S=v[v.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const N=S.children[S.children.length-1];N&&N.type==="text"?N.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...C)}else v.push(...C);const O={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(v,!0)};e.patch(c,O),d.push(O)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Qp(y),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const sg=(function(e){if(e==null)return rj;if(typeof e=="function")return km(e);if(typeof e=="object")return Array.isArray(e)?ej(e):tj(e);if(typeof e=="string")return nj(e);throw new Error("Expected function, string, or object as test")});function ej(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sg(e[n]);return km(r);function r(...o){let u=-1;for(;++u<t.length;)if(t[u].apply(this,o))return!0;return!1}}function tj(e){const t=e;return km(n);function n(r){const o=r;let u;for(u in e)if(o[u]!==t[u])return!1;return!0}}function nj(e){return km(t);function t(n){return n&&n.type===e}}function km(e){return t;function t(n,r,o){return!!(ij(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function rj(){return!0}function ij(e){return e!==null&&typeof e=="object"&&"type"in e}const sE=[],aj=!0,xy=!1,lE="skip";function Yx(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const u=sg(o),y=r?-1:1;d(e,void 0,[])();function d(a,c,v){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=sE,C,k,S;if((!t||u(a,c,v[v.length-1]||void 0))&&(m=oj(n(a,v)),m[0]===xy))return m;if("children"in a&&a.children){const O=a;if(O.children&&m[0]!==lE)for(k=(r?O.children.length:-1)+y,S=v.concat(O);k>-1&&k<O.children.length;){const N=O.children[k];if(C=d(N,k,S)(),C[0]===xy)return C;k=typeof C[1]=="number"?C[1]:k+y}}return m}}}function oj(e){return Array.isArray(e)?e:typeof e=="number"?[aj,e]:e==null?sE:[e]}function Xx(e,t,n,r){let o,u,y;typeof t=="function"&&typeof n!="function"?(u=void 0,y=t,o=n):(u=t,y=n,o=r),Yx(e,u,d,o);function d(a,c){const v=c[c.length-1],f=v?v.children.indexOf(a):void 0;return y(a,f,v)}}const by={}.hasOwnProperty,sj={};function lj(e,t){const n=t||sj,r=new Map,o=new Map,u=new Map,y={...XU,...n.handlers},d={all:c,applyData:cj,definitionById:r,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:y,one:a,options:n,patch:uj,wrap:hj};return Xx(e,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const f=v.type==="definition"?r:o,g=String(v.identifier).toUpperCase();f.has(g)||f.set(g,v)}}),d;function a(v,f){const g=v.type,m=d.handlers[g];if(by.call(d.handlers,g)&&m)return m(d,v,f);if(d.options.passThrough&&d.options.passThrough.includes(g)){if("children"in v){const{children:k,...S}=v,O=Qp(S);return O.children=d.all(v),O}return Qp(v)}return(d.options.unknownHandler||fj)(d,v,f)}function c(v){const f=[];if("children"in v){const g=v.children;let m=-1;for(;++m<g.length;){const C=d.one(g[m],v);if(C){if(m&&g[m-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=X5(C.value)),!Array.isArray(C)&&C.type==="element")){const k=C.children[0];k&&k.type==="text"&&(k.value=X5(k.value))}Array.isArray(C)?f.push(...C):f.push(C)}}}return f}}function uj(e,t){e.position&&(t.position=JP(e))}function cj(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,u=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const y="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:y}}n.type==="element"&&u&&Object.assign(n.properties,Qp(u)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function fj(e,t){const n=t.data||{},r="value"in t&&!(by.call(n,"hProperties")||by.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hj(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function X5(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function V5(e,t){const n=lj(e,t),r=n.one(e,void 0),o=$U(n),u=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function dj(e,t){return e&&"run"in e?async function(n,r){const o=V5(n,{file:r,...t});await e.run(o,r)}:function(n,r){return V5(n,{file:r,...e||t})}}function K5(e){if(e)throw e}var u2,Z5;function gj(){if(Z5)return u2;Z5=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},u=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var v=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!v&&!f)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},y=function(c,v){n&&v.name==="__proto__"?n(c,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):c[v.name]=v.newValue},d=function(c,v){if(v==="__proto__")if(e.call(c,v)){if(r)return r(c,v).value}else return;return c[v]};return u2=function a(){var c,v,f,g,m,C,k=arguments[0],S=1,O=arguments.length,N=!1;for(typeof k=="boolean"&&(N=k,k=arguments[1]||{},S=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});S<O;++S)if(c=arguments[S],c!=null)for(v in c)f=d(k,v),g=d(c,v),k!==g&&(N&&g&&(u(g)||(m=o(g)))?(m?(m=!1,C=f&&o(f)?f:[]):C=f&&u(f)?f:{},y(k,{name:v,newValue:a(N,C,g)})):typeof g<"u"&&y(k,{name:v,newValue:g}));return k},u2}var pj=gj();const c2=P0(pj);function wy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mj(){const e=[],t={run:n,use:r};return t;function n(...o){let u=-1;const y=o.pop();if(typeof y!="function")throw new TypeError("Expected function as last argument, not "+y);d(null,...o);function d(a,...c){const v=e[++u];let f=-1;if(a){y(a);return}for(;++f<o.length;)(c[f]===null||c[f]===void 0)&&(c[f]=o[f]);o=c,v?vj(v,d)(...c):y(null,...c)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function vj(e,t){let n;return r;function r(...y){const d=e.length>y.length;let a;d&&y.push(o);try{a=e.apply(this,y)}catch(c){const v=c;if(d&&n)throw v;return o(v)}d||(a&&a.then&&typeof a.then=="function"?a.then(u,o):a instanceof Error?o(a):u(a))}function o(y,...d){n||(n=!0,t(y,...d))}function u(y){o(null,y)}}const Rf={basename:yj,dirname:xj,extname:bj,join:wj,sep:"/"};function yj(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');lg(e);let n=0,r=-1,o=e.length,u;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(u){n=o+1;break}}else r<0&&(u=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let y=-1,d=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(u){n=o+1;break}}else y<0&&(u=!0,y=o+1),d>-1&&(e.codePointAt(o)===t.codePointAt(d--)?d<0&&(r=o):(d=-1,r=y));return n===r?r=y:r<0&&(r=e.length),e.slice(n,r)}function xj(e){if(lg(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function bj(e){lg(e);let t=e.length,n=-1,r=0,o=-1,u=0,y;for(;t--;){const d=e.codePointAt(t);if(d===47){if(y){r=t+1;break}continue}n<0&&(y=!0,n=t+1),d===46?o<0?o=t:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||n<0||u===0||u===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function wj(...e){let t=-1,n;for(;++t<e.length;)lg(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Cj(n)}function Cj(e){lg(e);const t=e.codePointAt(0)===47;let n=Sj(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Sj(e,t){let n="",r=0,o=-1,u=0,y=-1,d,a;for(;++y<=e.length;){if(y<e.length)d=e.codePointAt(y);else{if(d===47)break;d=47}if(d===47){if(!(o===y-1||u===1))if(o!==y-1&&u===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),o=y,u=0;continue}}else if(n.length>0){n="",r=0,o=y,u=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,y):n=e.slice(o+1,y),r=y-o-1;o=y,u=0}else d===46&&u>-1?u++:u=-1}return n}function lg(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ej={cwd:Aj};function Aj(){return"/"}function Cy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Tj(e){if(typeof e=="string")e=new URL(e);else if(!Cy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return kj(e)}function kj(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const f2=["history","path","basename","stem","extname","dirname"];class uE{constructor(t){let n;t?Cy(t)?n={path:t}:typeof t=="string"||Dj(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ej.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<f2.length;){const u=f2[r];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let o;for(o in n)f2.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Rf.basename(this.path):void 0}set basename(t){d2(t,"basename"),h2(t,"basename"),this.path=Rf.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rf.dirname(this.path):void 0}set dirname(t){q5(this.basename,"dirname"),this.path=Rf.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rf.extname(this.path):void 0}set extname(t){if(h2(t,"extname"),q5(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rf.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Cy(t)&&(t=Tj(t)),d2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rf.basename(this.path,this.extname):void 0}set stem(t){d2(t,"stem"),h2(t,"stem"),this.path=Rf.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new nu(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function h2(e,t){if(e&&e.includes(Rf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rf.sep+"`")}function d2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function q5(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Dj(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _j=(function(e){const r=this.constructor.prototype,o=r[e],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,r),u}),Mj={}.hasOwnProperty;class Vx extends _j{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mj()}copy(){const t=new Vx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(c2(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(m2("data",this.frozen),this.namespace[t]=n,this):Mj.call(this.namespace,t)&&this.namespace[t]||void 0:t?(m2("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Kg(t),r=this.parser||this.Parser;return g2("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),g2("process",this.parser||this.Parser),p2("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(u,y){const d=Kg(t),a=r.parse(d);r.run(a,d,function(v,f,g){if(v||!f||!g)return c(v);const m=f,C=r.stringify(m,g);Rj(C)?g.value=C:g.result=C,c(v,g)});function c(v,f){v||!f?y(v):u?u(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),g2("processSync",this.parser||this.Parser),p2("processSync",this.compiler||this.Compiler),this.process(t,o),J5("processSync","process",n),r;function o(u,y){n=!0,K5(u),r=y}}run(t,n,r){Q5(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?u(void 0,r):new Promise(u);function u(y,d){const a=Kg(n);o.run(t,a,c);function c(v,f,g){const m=f||t;v?d(v):y?y(m):r(void 0,m,g)}}}runSync(t,n){let r=!1,o;return this.run(t,n,u),J5("runSync","run",r),o;function u(y,d){K5(y),o=d,r=!0}}stringify(t,n){this.freeze();const r=Kg(n),o=this.compiler||this.Compiler;return p2("stringify",o),Q5(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(m2("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):y(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(c){if(typeof c=="function")a(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[v,...f]=c;a(v,f)}else y(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function y(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(c.plugins),c.settings&&(o.settings=c2(!0,o.settings,c.settings))}function d(c){let v=-1;if(c!=null)if(Array.isArray(c))for(;++v<c.length;){const f=c[v];u(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function a(c,v){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===c){g=f;break}if(g===-1)r.push([c,...v]);else if(v.length>0){let[m,...C]=v;const k=r[g][1];wy(k)&&wy(m)&&(m=c2(!0,k,m)),r[g]=[c,m,...C]}}}}const Oj=new Vx().freeze();function g2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function p2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function m2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Q5(e){if(!wy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function J5(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Kg(e){return Ij(e)?e:new uE(e)}function Ij(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Rj(e){return typeof e=="string"||Nj(e)}function Nj(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Lj="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$5=[],e6={allowDangerousHtml:!0},Bj=/^(https?|ircs?|mailto|xmpp)$/i,Fj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cE(e){const t=Pj(e),n=zj(e);return Hj(t.runSync(t.parse(n),n),e)}function Pj(e){const t=e.rehypePlugins||$5,n=e.remarkPlugins||$5,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...e6}:e6;return Oj().use(bU).use(n).use(dj,r).use(t)}function zj(e){const t=e.children||"",n=new uE;return typeof t=="string"&&(n.value=t),n}function Hj(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,u=t.disallowedElements,y=t.skipHtml,d=t.unwrapDisallowed,a=t.urlTransform||Uj;for(const v of Fj)Object.hasOwn(t,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+Lj+v.id,void 0);return Xx(e,c),rz(e,{Fragment:te.Fragment,components:o,ignoreInvalidStyle:!0,jsx:te.jsx,jsxs:te.jsxs,passKeys:!0,passNode:!0});function c(v,f,g){if(v.type==="raw"&&g&&typeof f=="number")return y?g.children.splice(f,1):g.children[f]={type:"text",value:v.value},f;if(v.type==="element"){let m;for(m in o2)if(Object.hasOwn(o2,m)&&Object.hasOwn(v.properties,m)){const C=v.properties[m],k=o2[m];(k===null||k.includes(v.tagName))&&(v.properties[m]=a(String(C||""),m,v))}}if(v.type==="element"){let m=n?!n.includes(v.tagName):u?u.includes(v.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(v,f,g)),m&&g&&typeof f=="number")return d&&v.children?g.children.splice(f,1,...v.children):g.children.splice(f,1),f}}}function Uj(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||Bj.test(e.slice(0,t))?e:""}const t6=/[#.]/g;function jj(e,t){const n=e||"",r={};let o=0,u,y;for(;o<n.length;){t6.lastIndex=o;const d=t6.exec(n),a=n.slice(o,d?d.index:n.length);a&&(u?u==="#"?r.id=a:Array.isArray(r.className)?r.className.push(a):r.className=[a]:y=a,o+=a.length),d&&(u=d[0],o++)}return{type:"element",tagName:y||t||"div",properties:r,children:[]}}function fE(e,t,n){const r=n?Xj(n):void 0;function o(u,y,...d){let a;if(u==null){a={type:"root",children:[]};const c=y;d.unshift(c)}else{a=jj(u,t);const c=a.tagName.toLowerCase(),v=r?r.get(c):void 0;if(a.tagName=v||c,Wj(y))d.unshift(y);else for(const[f,g]of Object.entries(y))Gj(e,a.properties,f,g)}for(const c of d)Sy(a.children,c);return a.type==="element"&&a.tagName==="template"&&(a.content={type:"root",children:a.children},a.children=[]),a}return o}function Wj(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const o=t[r];if(o&&typeof o=="object"){if(!Array.isArray(o))return!0;const u=o;for(const y of u)if(typeof y!="number"&&typeof y!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Gj(e,t,n,r){const o=N7(e,n);let u;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;u=r}else typeof r=="boolean"?u=r:typeof r=="string"?o.spaceSeparated?u=C5(r):o.commaSeparated?u=v5(r):o.commaOrSpaceSeparated?u=C5(v5(r).join(" ")):u=n6(o,o.property,r):Array.isArray(r)?u=[...r]:u=o.property==="style"?Yj(r):String(r);if(Array.isArray(u)){const y=[];for(const d of u)y.push(n6(o,o.property,d));u=y}o.property==="className"&&Array.isArray(t.className)&&(u=t.className.concat(u)),t[o.property]=u}}function Sy(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Sy(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Sy(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function n6(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||K1(n)===K1(t)))return!0}return n}function Yj(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function Xj(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const Vj=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Kj=fE(L7,"div"),Zj=fE(Sm,"g",Vj),v2={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function qj(e,t){return hE(e,{})||{type:"root",children:[]}}function hE(e,t){const n=Qj(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function Qj(e,t){switch(e.nodeType){case 1:return tW(e,t);case 3:return $j(e);case 8:return eW(e);case 9:return r6(e,t);case 10:return Jj();case 11:return r6(e,t);default:return}}function r6(e,t){return{type:"root",children:dE(e,t)}}function Jj(){return{type:"doctype"}}function $j(e){return{type:"text",value:e.nodeValue||""}}function eW(e){return{type:"comment",value:e.nodeValue||""}}function tW(e,t){const n=e.namespaceURI,r=n===v2.svg?Zj:Kj,o=n===v2.html?e.tagName.toLowerCase():e.tagName,u=n===v2.html&&o==="template"?e.content:e,y=e.getAttributeNames(),d={};let a=-1;for(;++a<y.length;)d[y[a]]=e.getAttribute(y[a])||"";return r(o,d,dE(u,t))}function dE(e,t){const n=e.childNodes,r=[];let o=-1;for(;++o<n.length;){const u=hE(n[o],t);u!==void 0&&r.push(u)}return r}new DOMParser;function nW(e,t){const n=rW(e);return qj(n)}function rW(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const i6=(function(e,t,n){const r=sg(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),U0=(function(e){if(e==null)return oW;if(typeof e=="string")return aW(e);if(typeof e=="object")return iW(e);if(typeof e=="function")return Kx(e);throw new Error("Expected function, string, or array as `test`")});function iW(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=U0(e[n]);return Kx(r);function r(...o){let u=-1;for(;++u<t.length;)if(t[u].apply(this,o))return!0;return!1}}function aW(e){return Kx(t);function t(n){return n.tagName===e}}function Kx(e){return t;function t(n,r,o){return!!(sW(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function oW(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function sW(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const a6=/\n/g,o6=/[\t ]+/g,Ey=U0("br"),s6=U0(pW),lW=U0("p"),l6=U0("tr"),uW=U0(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",gW,mW]),gE=U0(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function cW(e,t){const n=t||{},r="children"in e?e.children:[],o=gE(e),u=vE(e,{whitespace:n.whitespace||"normal"}),y=[];(e.type==="text"||e.type==="comment")&&y.push(...mE(e,{breakBefore:!0,breakAfter:!0}));let d=-1;for(;++d<r.length;)y.push(...pE(r[d],e,{whitespace:u,breakBefore:d?void 0:o,breakAfter:d<r.length-1?Ey(r[d+1]):o}));const a=[];let c;for(d=-1;++d<y.length;){const v=y[d];typeof v=="number"?c!==void 0&&v>c&&(c=v):v&&(c!==void 0&&c>-1&&a.push(`
`.repeat(c)||" "),c=-1,a.push(v))}return a.join("")}function pE(e,t,n){return e.type==="element"?fW(e,t,n):e.type==="text"?n.whitespace==="normal"?mE(e,n):hW(e):[]}function fW(e,t,n){const r=vE(e,n),o=e.children||[];let u=-1,y=[];if(uW(e))return y;let d,a;for(Ey(e)||l6(e)&&i6(t,e,l6)?a=`
`:lW(e)?(d=2,a=2):gE(e)&&(d=1,a=1);++u<o.length;)y=y.concat(pE(o[u],e,{whitespace:r,breakBefore:u?void 0:d,breakAfter:u<o.length-1?Ey(o[u+1]):a}));return s6(e)&&i6(t,e,s6)&&y.push("	"),d&&y.unshift(d),a&&y.push(a),y}function mE(e,t){const n=String(e.value),r=[],o=[];let u=0;for(;u<=n.length;){a6.lastIndex=u;const a=a6.exec(n),c=a&&"index"in a?a.index:n.length;r.push(dW(n.slice(u,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),u===0?t.breakBefore:!0,c===n.length?t.breakAfter:!0)),u=c+1}let y=-1,d;for(;++y<r.length;)r[y].charCodeAt(r[y].length-1)===8203||y<r.length-1&&r[y+1].charCodeAt(0)===8203?(o.push(r[y]),d=void 0):r[y]?(typeof d=="number"&&o.push(d),o.push(r[y]),d=0):(y===0||y===r.length-1)&&o.push(0);return o}function hW(e){return[String(e.value)]}function dW(e,t,n){const r=[];let o=0,u;for(;o<e.length;){o6.lastIndex=o;const y=o6.exec(e);u=y?y.index:e.length,!o&&!u&&y&&!t&&r.push(""),o!==u&&r.push(e.slice(o,u)),o=y?u+y[0].length:u}return o!==u&&!n&&r.push(""),r.join(" ")}function vE(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function gW(e){return!!(e.properties||{}).hidden}function pW(e){return e.tagName==="td"||e.tagName==="th"}function mW(e){return e.tagName==="dialog"&&!(e.properties||{}).open}class ju{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new ju(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class mc{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new mc(n,ju.range(this,t))}}class Ln{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,o,u,y=n&&n.loc;if(y&&y.start<=y.end){var d=y.lexer.input;o=y.start,u=y.end,o===d.length?r+=" at end of input: ":r+=" at position "+(o+1)+": ";var a=d.slice(o,u).replace(/[^]/g,"$&"),c;o>15?c=""+d.slice(o-15,o):c=d.slice(0,o);var v;u+15<d.length?v=d.slice(u,u+15)+"":v=d.slice(u),r+=c+a+v}var f=new Error(r);return f.name="ParseError",f.__proto__=Ln.prototype,f.position=o,o!=null&&u!=null&&(f.length=u-o),f.rawMessage=t,f}}Ln.prototype.__proto__=Error.prototype;var vW=function(t,n){return t===void 0?n:t},yW=/([A-Z])/g,xW=function(t){return t.replace(yW,"-$1").toLowerCase()},bW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},wW=/[&><"']/g;function CW(e){return String(e).replace(wW,t=>bW[t])}var yE=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},SW=function(t){var n=yE(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},EW=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},AW=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ea={deflt:vW,escape:CW,hyphenate:xW,getBaseElem:yE,isCharacterBox:SW,protocolFromUrl:AW},Cp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function TW(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Zx{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Cp)if(Cp.hasOwnProperty(n)){var r=Cp[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:TW(r)}}reportNonstrict(t,n,r){var o=this.strict;if(typeof o=="function"&&(o=o(t,n,r)),!(!o||o==="ignore")){if(o===!0||o==="error")throw new Ln("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);o==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var o=this.strict;if(typeof o=="function")try{o=o(t,n,r)}catch{o="error"}return!o||o==="ignore"?!1:o===!0||o==="error"?!0:o==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Ea.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}class Wh{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return Lf[kW[this.id]]}sub(){return Lf[DW[this.id]]}fracNum(){return Lf[_W[this.id]]}fracDen(){return Lf[MW[this.id]]}cramp(){return Lf[OW[this.id]]}text(){return Lf[IW[this.id]]}isTight(){return this.size>=2}}var qx=0,Jp=1,wd=2,fh=3,q1=4,Lc=5,Rd=6,mu=7,Lf=[new Wh(qx,0,!1),new Wh(Jp,0,!0),new Wh(wd,1,!1),new Wh(fh,1,!0),new Wh(q1,2,!1),new Wh(Lc,2,!0),new Wh(Rd,3,!1),new Wh(mu,3,!0)],kW=[q1,Lc,q1,Lc,Rd,mu,Rd,mu],DW=[Lc,Lc,Lc,Lc,mu,mu,mu,mu],_W=[wd,fh,q1,Lc,Rd,mu,Rd,mu],MW=[fh,fh,Lc,Lc,mu,mu,mu,mu],OW=[Jp,Jp,fh,fh,Lc,Lc,mu,mu],IW=[qx,Jp,wd,fh,wd,fh,wd,fh],Vr={DISPLAY:Lf[qx],TEXT:Lf[wd],SCRIPT:Lf[q1],SCRIPTSCRIPT:Lf[Rd]},Ay=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function RW(e){for(var t=0;t<Ay.length;t++)for(var n=Ay[t],r=0;r<n.blocks.length;r++){var o=n.blocks[r];if(e>=o[0]&&e<=o[1])return n.name}return null}var Sp=[];Ay.forEach(e=>e.blocks.forEach(t=>Sp.push(...t)));function xE(e){for(var t=0;t<Sp.length;t+=2)if(e>=Sp[t]&&e<=Sp[t+1])return!0;return!1}var hd=80,NW=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},LW=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},BW=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},FW=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},PW=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},zW=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},HW=function(t,n,r){var o=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+o+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},UW=function(t,n,r){n=1e3*n;var o="";switch(t){case"sqrtMain":o=NW(n,hd);break;case"sqrtSize1":o=LW(n,hd);break;case"sqrtSize2":o=BW(n,hd);break;case"sqrtSize3":o=FW(n,hd);break;case"sqrtSize4":o=PW(n,hd);break;case"sqrtTall":o=HW(n,hd,r)}return o},jW=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},u6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},WW=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ug{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var Bf={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Zg={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},c6={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function GW(e,t){Bf[e]=t}function Qx(e,t,n){if(!Bf[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),o=Bf[t][r];if(!o&&e[0]in c6&&(r=c6[e[0]].charCodeAt(0),o=Bf[t][r]),!o&&n==="text"&&xE(r)&&(o=Bf[t][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var y2={};function YW(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!y2[t]){var n=y2[t]={cssEmPerMu:Zg.quad[t]/18};for(var r in Zg)Zg.hasOwnProperty(r)&&(n[r]=Zg[r][t])}return y2[t]}var XW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],f6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],h6=function(t,n){return n.size<2?t:XW[t-1][n.size-1]};class lh{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||lh.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=f6[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new lh(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:h6(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:f6[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=h6(lh.BASESIZE,t);return this.size===n&&this.textSize===lh.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==lh.BASESIZE?["sizing","reset-size"+this.size,"size"+lh.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=YW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}lh.BASESIZE=6;var Ty={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},VW={ex:!0,em:!0,mu:!0},bE=function(t){return typeof t!="string"&&(t=t.unit),t in Ty||t in VW||t==="ex"},ls=function(t,n){var r;if(t.unit in Ty)r=Ty[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var o;if(n.style.isTight()?o=n.havingStyle(n.style.text()):o=n,t.unit==="ex")r=o.fontMetrics().xHeight;else if(t.unit==="em")r=o.fontMetrics().quad;else throw new Ln("Invalid unit: '"+t.unit+"'");o!==n&&(r*=o.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Wn=function(t){return+t.toFixed(4)+"em"},t0=function(t){return t.filter(n=>n).join(" ")},wE=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var o=n.getColor();o&&(this.style.color=o)}},CE=function(t){var n=document.createElement(t);n.className=t0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&n.setAttribute(o,this.attributes[o]);for(var u=0;u<this.children.length;u++)n.appendChild(this.children[u].toNode());return n},KW=/[\s"'>/=\x00-\x1f]/,SE=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Ea.escape(t0(this.classes))+'"');var r="";for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Ea.hyphenate(o)+":"+this.style[o]+";");r&&(n+=' style="'+Ea.escape(r)+'"');for(var u in this.attributes)if(this.attributes.hasOwnProperty(u)){if(KW.test(u))throw new Ln("Invalid attribute name '"+u+"'");n+=" "+u+'="'+Ea.escape(this.attributes[u])+'"'}n+=">";for(var y=0;y<this.children.length;y++)n+=this.children[y].toMarkup();return n+="</"+t+">",n};class cg{constructor(t,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,wE.call(this,t,r,o),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return CE.call(this,"span")}toMarkup(){return SE.call(this,"span")}}class Jx{constructor(t,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,wE.call(this,n,o),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return CE.call(this,"a")}toMarkup(){return SE.call(this,"a")}}class ZW{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Ea.escape(this.src)+'"'+(' alt="'+Ea.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ea.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+Ea.escape(n)+'"'),t+="'/>",t}}var qW={:"",:"",:"",:""};class Pc{constructor(t,n,r,o,u,y,d,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=o||0,this.skew=u||0,this.width=y||0,this.classes=d||[],this.style=a||{},this.maxFontSize=0;var c=RW(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=qW[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Wn(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=t0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Ea.escape(t0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Ea.hyphenate(o)+":"+this.style[o]+";");r&&(t=!0,n+=' style="'+Ea.escape(r)+'"');var u=Ea.escape(this.text);return t?(n+=">",n+=u,n+="</span>",n):u}}class gh{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ea.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class n0{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",u6[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ea.escape(this.alternate)+'"/>':'<path d="'+Ea.escape(u6[this.pathName])+'"/>'}}class ky{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ea.escape(this.attributes[n])+'"');return t+="/>",t}}function d6(e){if(e instanceof Pc)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function QW(e){if(e instanceof cg)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var JW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},$W={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},bo={math:{},text:{}};function se(e,t,n,r,o,u){bo[e][o]={font:t,group:n,replace:r},u&&r&&(bo[e][r]=bo[e][o])}var pe="math",An="text",Le="main",pt="ams",Xo="accent-token",nr="bin",vu="close",Gd="inner",Xr="mathord",Ks="op-token",xc="open",Dm="punct",wt="rel",vh="spacing",Bt="textord";se(pe,Le,wt,"","\\equiv",!0);se(pe,Le,wt,"","\\prec",!0);se(pe,Le,wt,"","\\succ",!0);se(pe,Le,wt,"","\\sim",!0);se(pe,Le,wt,"","\\perp");se(pe,Le,wt,"","\\preceq",!0);se(pe,Le,wt,"","\\succeq",!0);se(pe,Le,wt,"","\\simeq",!0);se(pe,Le,wt,"","\\mid",!0);se(pe,Le,wt,"","\\ll",!0);se(pe,Le,wt,"","\\gg",!0);se(pe,Le,wt,"","\\asymp",!0);se(pe,Le,wt,"","\\parallel");se(pe,Le,wt,"","\\bowtie",!0);se(pe,Le,wt,"","\\smile",!0);se(pe,Le,wt,"","\\sqsubseteq",!0);se(pe,Le,wt,"","\\sqsupseteq",!0);se(pe,Le,wt,"","\\doteq",!0);se(pe,Le,wt,"","\\frown",!0);se(pe,Le,wt,"","\\ni",!0);se(pe,Le,wt,"","\\propto",!0);se(pe,Le,wt,"","\\vdash",!0);se(pe,Le,wt,"","\\dashv",!0);se(pe,Le,wt,"","\\owns");se(pe,Le,Dm,".","\\ldotp");se(pe,Le,Dm,"","\\cdotp");se(pe,Le,Bt,"#","\\#");se(An,Le,Bt,"#","\\#");se(pe,Le,Bt,"&","\\&");se(An,Le,Bt,"&","\\&");se(pe,Le,Bt,"","\\aleph",!0);se(pe,Le,Bt,"","\\forall",!0);se(pe,Le,Bt,"","\\hbar",!0);se(pe,Le,Bt,"","\\exists",!0);se(pe,Le,Bt,"","\\nabla",!0);se(pe,Le,Bt,"","\\flat",!0);se(pe,Le,Bt,"","\\ell",!0);se(pe,Le,Bt,"","\\natural",!0);se(pe,Le,Bt,"","\\clubsuit",!0);se(pe,Le,Bt,"","\\wp",!0);se(pe,Le,Bt,"","\\sharp",!0);se(pe,Le,Bt,"","\\diamondsuit",!0);se(pe,Le,Bt,"","\\Re",!0);se(pe,Le,Bt,"","\\heartsuit",!0);se(pe,Le,Bt,"","\\Im",!0);se(pe,Le,Bt,"","\\spadesuit",!0);se(pe,Le,Bt,"","\\S",!0);se(An,Le,Bt,"","\\S");se(pe,Le,Bt,"","\\P",!0);se(An,Le,Bt,"","\\P");se(pe,Le,Bt,"","\\dag");se(An,Le,Bt,"","\\dag");se(An,Le,Bt,"","\\textdagger");se(pe,Le,Bt,"","\\ddag");se(An,Le,Bt,"","\\ddag");se(An,Le,Bt,"","\\textdaggerdbl");se(pe,Le,vu,"","\\rmoustache",!0);se(pe,Le,xc,"","\\lmoustache",!0);se(pe,Le,vu,"","\\rgroup",!0);se(pe,Le,xc,"","\\lgroup",!0);se(pe,Le,nr,"","\\mp",!0);se(pe,Le,nr,"","\\ominus",!0);se(pe,Le,nr,"","\\uplus",!0);se(pe,Le,nr,"","\\sqcap",!0);se(pe,Le,nr,"","\\ast");se(pe,Le,nr,"","\\sqcup",!0);se(pe,Le,nr,"","\\bigcirc",!0);se(pe,Le,nr,"","\\bullet",!0);se(pe,Le,nr,"","\\ddagger");se(pe,Le,nr,"","\\wr",!0);se(pe,Le,nr,"","\\amalg");se(pe,Le,nr,"&","\\And");se(pe,Le,wt,"","\\longleftarrow",!0);se(pe,Le,wt,"","\\Leftarrow",!0);se(pe,Le,wt,"","\\Longleftarrow",!0);se(pe,Le,wt,"","\\longrightarrow",!0);se(pe,Le,wt,"","\\Rightarrow",!0);se(pe,Le,wt,"","\\Longrightarrow",!0);se(pe,Le,wt,"","\\leftrightarrow",!0);se(pe,Le,wt,"","\\longleftrightarrow",!0);se(pe,Le,wt,"","\\Leftrightarrow",!0);se(pe,Le,wt,"","\\Longleftrightarrow",!0);se(pe,Le,wt,"","\\mapsto",!0);se(pe,Le,wt,"","\\longmapsto",!0);se(pe,Le,wt,"","\\nearrow",!0);se(pe,Le,wt,"","\\hookleftarrow",!0);se(pe,Le,wt,"","\\hookrightarrow",!0);se(pe,Le,wt,"","\\searrow",!0);se(pe,Le,wt,"","\\leftharpoonup",!0);se(pe,Le,wt,"","\\rightharpoonup",!0);se(pe,Le,wt,"","\\swarrow",!0);se(pe,Le,wt,"","\\leftharpoondown",!0);se(pe,Le,wt,"","\\rightharpoondown",!0);se(pe,Le,wt,"","\\nwarrow",!0);se(pe,Le,wt,"","\\rightleftharpoons",!0);se(pe,pt,wt,"","\\nless",!0);se(pe,pt,wt,"","\\@nleqslant");se(pe,pt,wt,"","\\@nleqq");se(pe,pt,wt,"","\\lneq",!0);se(pe,pt,wt,"","\\lneqq",!0);se(pe,pt,wt,"","\\@lvertneqq");se(pe,pt,wt,"","\\lnsim",!0);se(pe,pt,wt,"","\\lnapprox",!0);se(pe,pt,wt,"","\\nprec",!0);se(pe,pt,wt,"","\\npreceq",!0);se(pe,pt,wt,"","\\precnsim",!0);se(pe,pt,wt,"","\\precnapprox",!0);se(pe,pt,wt,"","\\nsim",!0);se(pe,pt,wt,"","\\@nshortmid");se(pe,pt,wt,"","\\nmid",!0);se(pe,pt,wt,"","\\nvdash",!0);se(pe,pt,wt,"","\\nvDash",!0);se(pe,pt,wt,"","\\ntriangleleft");se(pe,pt,wt,"","\\ntrianglelefteq",!0);se(pe,pt,wt,"","\\subsetneq",!0);se(pe,pt,wt,"","\\@varsubsetneq");se(pe,pt,wt,"","\\subsetneqq",!0);se(pe,pt,wt,"","\\@varsubsetneqq");se(pe,pt,wt,"","\\ngtr",!0);se(pe,pt,wt,"","\\@ngeqslant");se(pe,pt,wt,"","\\@ngeqq");se(pe,pt,wt,"","\\gneq",!0);se(pe,pt,wt,"","\\gneqq",!0);se(pe,pt,wt,"","\\@gvertneqq");se(pe,pt,wt,"","\\gnsim",!0);se(pe,pt,wt,"","\\gnapprox",!0);se(pe,pt,wt,"","\\nsucc",!0);se(pe,pt,wt,"","\\nsucceq",!0);se(pe,pt,wt,"","\\succnsim",!0);se(pe,pt,wt,"","\\succnapprox",!0);se(pe,pt,wt,"","\\ncong",!0);se(pe,pt,wt,"","\\@nshortparallel");se(pe,pt,wt,"","\\nparallel",!0);se(pe,pt,wt,"","\\nVDash",!0);se(pe,pt,wt,"","\\ntriangleright");se(pe,pt,wt,"","\\ntrianglerighteq",!0);se(pe,pt,wt,"","\\@nsupseteqq");se(pe,pt,wt,"","\\supsetneq",!0);se(pe,pt,wt,"","\\@varsupsetneq");se(pe,pt,wt,"","\\supsetneqq",!0);se(pe,pt,wt,"","\\@varsupsetneqq");se(pe,pt,wt,"","\\nVdash",!0);se(pe,pt,wt,"","\\precneqq",!0);se(pe,pt,wt,"","\\succneqq",!0);se(pe,pt,wt,"","\\@nsubseteqq");se(pe,pt,nr,"","\\unlhd");se(pe,pt,nr,"","\\unrhd");se(pe,pt,wt,"","\\nleftarrow",!0);se(pe,pt,wt,"","\\nrightarrow",!0);se(pe,pt,wt,"","\\nLeftarrow",!0);se(pe,pt,wt,"","\\nRightarrow",!0);se(pe,pt,wt,"","\\nleftrightarrow",!0);se(pe,pt,wt,"","\\nLeftrightarrow",!0);se(pe,pt,wt,"","\\vartriangle");se(pe,pt,Bt,"","\\hslash");se(pe,pt,Bt,"","\\triangledown");se(pe,pt,Bt,"","\\lozenge");se(pe,pt,Bt,"","\\circledS");se(pe,pt,Bt,"","\\circledR");se(An,pt,Bt,"","\\circledR");se(pe,pt,Bt,"","\\measuredangle",!0);se(pe,pt,Bt,"","\\nexists");se(pe,pt,Bt,"","\\mho");se(pe,pt,Bt,"","\\Finv",!0);se(pe,pt,Bt,"","\\Game",!0);se(pe,pt,Bt,"","\\backprime");se(pe,pt,Bt,"","\\blacktriangle");se(pe,pt,Bt,"","\\blacktriangledown");se(pe,pt,Bt,"","\\blacksquare");se(pe,pt,Bt,"","\\blacklozenge");se(pe,pt,Bt,"","\\bigstar");se(pe,pt,Bt,"","\\sphericalangle",!0);se(pe,pt,Bt,"","\\complement",!0);se(pe,pt,Bt,"","\\eth",!0);se(An,Le,Bt,"","");se(pe,pt,Bt,"","\\diagup");se(pe,pt,Bt,"","\\diagdown");se(pe,pt,Bt,"","\\square");se(pe,pt,Bt,"","\\Box");se(pe,pt,Bt,"","\\Diamond");se(pe,pt,Bt,"","\\yen",!0);se(An,pt,Bt,"","\\yen",!0);se(pe,pt,Bt,"","\\checkmark",!0);se(An,pt,Bt,"","\\checkmark");se(pe,pt,Bt,"","\\beth",!0);se(pe,pt,Bt,"","\\daleth",!0);se(pe,pt,Bt,"","\\gimel",!0);se(pe,pt,Bt,"","\\digamma",!0);se(pe,pt,Bt,"","\\varkappa");se(pe,pt,xc,"","\\@ulcorner",!0);se(pe,pt,vu,"","\\@urcorner",!0);se(pe,pt,xc,"","\\@llcorner",!0);se(pe,pt,vu,"","\\@lrcorner",!0);se(pe,pt,wt,"","\\leqq",!0);se(pe,pt,wt,"","\\leqslant",!0);se(pe,pt,wt,"","\\eqslantless",!0);se(pe,pt,wt,"","\\lesssim",!0);se(pe,pt,wt,"","\\lessapprox",!0);se(pe,pt,wt,"","\\approxeq",!0);se(pe,pt,nr,"","\\lessdot");se(pe,pt,wt,"","\\lll",!0);se(pe,pt,wt,"","\\lessgtr",!0);se(pe,pt,wt,"","\\lesseqgtr",!0);se(pe,pt,wt,"","\\lesseqqgtr",!0);se(pe,pt,wt,"","\\doteqdot");se(pe,pt,wt,"","\\risingdotseq",!0);se(pe,pt,wt,"","\\fallingdotseq",!0);se(pe,pt,wt,"","\\backsim",!0);se(pe,pt,wt,"","\\backsimeq",!0);se(pe,pt,wt,"","\\subseteqq",!0);se(pe,pt,wt,"","\\Subset",!0);se(pe,pt,wt,"","\\sqsubset",!0);se(pe,pt,wt,"","\\preccurlyeq",!0);se(pe,pt,wt,"","\\curlyeqprec",!0);se(pe,pt,wt,"","\\precsim",!0);se(pe,pt,wt,"","\\precapprox",!0);se(pe,pt,wt,"","\\vartriangleleft");se(pe,pt,wt,"","\\trianglelefteq");se(pe,pt,wt,"","\\vDash",!0);se(pe,pt,wt,"","\\Vvdash",!0);se(pe,pt,wt,"","\\smallsmile");se(pe,pt,wt,"","\\smallfrown");se(pe,pt,wt,"","\\bumpeq",!0);se(pe,pt,wt,"","\\Bumpeq",!0);se(pe,pt,wt,"","\\geqq",!0);se(pe,pt,wt,"","\\geqslant",!0);se(pe,pt,wt,"","\\eqslantgtr",!0);se(pe,pt,wt,"","\\gtrsim",!0);se(pe,pt,wt,"","\\gtrapprox",!0);se(pe,pt,nr,"","\\gtrdot");se(pe,pt,wt,"","\\ggg",!0);se(pe,pt,wt,"","\\gtrless",!0);se(pe,pt,wt,"","\\gtreqless",!0);se(pe,pt,wt,"","\\gtreqqless",!0);se(pe,pt,wt,"","\\eqcirc",!0);se(pe,pt,wt,"","\\circeq",!0);se(pe,pt,wt,"","\\triangleq",!0);se(pe,pt,wt,"","\\thicksim");se(pe,pt,wt,"","\\thickapprox");se(pe,pt,wt,"","\\supseteqq",!0);se(pe,pt,wt,"","\\Supset",!0);se(pe,pt,wt,"","\\sqsupset",!0);se(pe,pt,wt,"","\\succcurlyeq",!0);se(pe,pt,wt,"","\\curlyeqsucc",!0);se(pe,pt,wt,"","\\succsim",!0);se(pe,pt,wt,"","\\succapprox",!0);se(pe,pt,wt,"","\\vartriangleright");se(pe,pt,wt,"","\\trianglerighteq");se(pe,pt,wt,"","\\Vdash",!0);se(pe,pt,wt,"","\\shortmid");se(pe,pt,wt,"","\\shortparallel");se(pe,pt,wt,"","\\between",!0);se(pe,pt,wt,"","\\pitchfork",!0);se(pe,pt,wt,"","\\varpropto");se(pe,pt,wt,"","\\blacktriangleleft");se(pe,pt,wt,"","\\therefore",!0);se(pe,pt,wt,"","\\backepsilon");se(pe,pt,wt,"","\\blacktriangleright");se(pe,pt,wt,"","\\because",!0);se(pe,pt,wt,"","\\llless");se(pe,pt,wt,"","\\gggtr");se(pe,pt,nr,"","\\lhd");se(pe,pt,nr,"","\\rhd");se(pe,pt,wt,"","\\eqsim",!0);se(pe,Le,wt,"","\\Join");se(pe,pt,wt,"","\\Doteq",!0);se(pe,pt,nr,"","\\dotplus",!0);se(pe,pt,nr,"","\\smallsetminus");se(pe,pt,nr,"","\\Cap",!0);se(pe,pt,nr,"","\\Cup",!0);se(pe,pt,nr,"","\\doublebarwedge",!0);se(pe,pt,nr,"","\\boxminus",!0);se(pe,pt,nr,"","\\boxplus",!0);se(pe,pt,nr,"","\\divideontimes",!0);se(pe,pt,nr,"","\\ltimes",!0);se(pe,pt,nr,"","\\rtimes",!0);se(pe,pt,nr,"","\\leftthreetimes",!0);se(pe,pt,nr,"","\\rightthreetimes",!0);se(pe,pt,nr,"","\\curlywedge",!0);se(pe,pt,nr,"","\\curlyvee",!0);se(pe,pt,nr,"","\\circleddash",!0);se(pe,pt,nr,"","\\circledast",!0);se(pe,pt,nr,"","\\centerdot");se(pe,pt,nr,"","\\intercal",!0);se(pe,pt,nr,"","\\doublecap");se(pe,pt,nr,"","\\doublecup");se(pe,pt,nr,"","\\boxtimes",!0);se(pe,pt,wt,"","\\dashrightarrow",!0);se(pe,pt,wt,"","\\dashleftarrow",!0);se(pe,pt,wt,"","\\leftleftarrows",!0);se(pe,pt,wt,"","\\leftrightarrows",!0);se(pe,pt,wt,"","\\Lleftarrow",!0);se(pe,pt,wt,"","\\twoheadleftarrow",!0);se(pe,pt,wt,"","\\leftarrowtail",!0);se(pe,pt,wt,"","\\looparrowleft",!0);se(pe,pt,wt,"","\\leftrightharpoons",!0);se(pe,pt,wt,"","\\curvearrowleft",!0);se(pe,pt,wt,"","\\circlearrowleft",!0);se(pe,pt,wt,"","\\Lsh",!0);se(pe,pt,wt,"","\\upuparrows",!0);se(pe,pt,wt,"","\\upharpoonleft",!0);se(pe,pt,wt,"","\\downharpoonleft",!0);se(pe,Le,wt,"","\\origof",!0);se(pe,Le,wt,"","\\imageof",!0);se(pe,pt,wt,"","\\multimap",!0);se(pe,pt,wt,"","\\leftrightsquigarrow",!0);se(pe,pt,wt,"","\\rightrightarrows",!0);se(pe,pt,wt,"","\\rightleftarrows",!0);se(pe,pt,wt,"","\\twoheadrightarrow",!0);se(pe,pt,wt,"","\\rightarrowtail",!0);se(pe,pt,wt,"","\\looparrowright",!0);se(pe,pt,wt,"","\\curvearrowright",!0);se(pe,pt,wt,"","\\circlearrowright",!0);se(pe,pt,wt,"","\\Rsh",!0);se(pe,pt,wt,"","\\downdownarrows",!0);se(pe,pt,wt,"","\\upharpoonright",!0);se(pe,pt,wt,"","\\downharpoonright",!0);se(pe,pt,wt,"","\\rightsquigarrow",!0);se(pe,pt,wt,"","\\leadsto");se(pe,pt,wt,"","\\Rrightarrow",!0);se(pe,pt,wt,"","\\restriction");se(pe,Le,Bt,"","`");se(pe,Le,Bt,"$","\\$");se(An,Le,Bt,"$","\\$");se(An,Le,Bt,"$","\\textdollar");se(pe,Le,Bt,"%","\\%");se(An,Le,Bt,"%","\\%");se(pe,Le,Bt,"_","\\_");se(An,Le,Bt,"_","\\_");se(An,Le,Bt,"_","\\textunderscore");se(pe,Le,Bt,"","\\angle",!0);se(pe,Le,Bt,"","\\infty",!0);se(pe,Le,Bt,"","\\prime");se(pe,Le,Bt,"","\\triangle");se(pe,Le,Bt,"","\\Gamma",!0);se(pe,Le,Bt,"","\\Delta",!0);se(pe,Le,Bt,"","\\Theta",!0);se(pe,Le,Bt,"","\\Lambda",!0);se(pe,Le,Bt,"","\\Xi",!0);se(pe,Le,Bt,"","\\Pi",!0);se(pe,Le,Bt,"","\\Sigma",!0);se(pe,Le,Bt,"","\\Upsilon",!0);se(pe,Le,Bt,"","\\Phi",!0);se(pe,Le,Bt,"","\\Psi",!0);se(pe,Le,Bt,"","\\Omega",!0);se(pe,Le,Bt,"A","");se(pe,Le,Bt,"B","");se(pe,Le,Bt,"E","");se(pe,Le,Bt,"Z","");se(pe,Le,Bt,"H","");se(pe,Le,Bt,"I","");se(pe,Le,Bt,"K","");se(pe,Le,Bt,"M","");se(pe,Le,Bt,"N","");se(pe,Le,Bt,"O","");se(pe,Le,Bt,"P","");se(pe,Le,Bt,"T","");se(pe,Le,Bt,"X","");se(pe,Le,Bt,"","\\neg",!0);se(pe,Le,Bt,"","\\lnot");se(pe,Le,Bt,"","\\top");se(pe,Le,Bt,"","\\bot");se(pe,Le,Bt,"","\\emptyset");se(pe,pt,Bt,"","\\varnothing");se(pe,Le,Xr,"","\\alpha",!0);se(pe,Le,Xr,"","\\beta",!0);se(pe,Le,Xr,"","\\gamma",!0);se(pe,Le,Xr,"","\\delta",!0);se(pe,Le,Xr,"","\\epsilon",!0);se(pe,Le,Xr,"","\\zeta",!0);se(pe,Le,Xr,"","\\eta",!0);se(pe,Le,Xr,"","\\theta",!0);se(pe,Le,Xr,"","\\iota",!0);se(pe,Le,Xr,"","\\kappa",!0);se(pe,Le,Xr,"","\\lambda",!0);se(pe,Le,Xr,"","\\mu",!0);se(pe,Le,Xr,"","\\nu",!0);se(pe,Le,Xr,"","\\xi",!0);se(pe,Le,Xr,"","\\omicron",!0);se(pe,Le,Xr,"","\\pi",!0);se(pe,Le,Xr,"","\\rho",!0);se(pe,Le,Xr,"","\\sigma",!0);se(pe,Le,Xr,"","\\tau",!0);se(pe,Le,Xr,"","\\upsilon",!0);se(pe,Le,Xr,"","\\phi",!0);se(pe,Le,Xr,"","\\chi",!0);se(pe,Le,Xr,"","\\psi",!0);se(pe,Le,Xr,"","\\omega",!0);se(pe,Le,Xr,"","\\varepsilon",!0);se(pe,Le,Xr,"","\\vartheta",!0);se(pe,Le,Xr,"","\\varpi",!0);se(pe,Le,Xr,"","\\varrho",!0);se(pe,Le,Xr,"","\\varsigma",!0);se(pe,Le,Xr,"","\\varphi",!0);se(pe,Le,nr,"","*",!0);se(pe,Le,nr,"+","+");se(pe,Le,nr,"","-",!0);se(pe,Le,nr,"","\\cdot",!0);se(pe,Le,nr,"","\\circ",!0);se(pe,Le,nr,"","\\div",!0);se(pe,Le,nr,"","\\pm",!0);se(pe,Le,nr,"","\\times",!0);se(pe,Le,nr,"","\\cap",!0);se(pe,Le,nr,"","\\cup",!0);se(pe,Le,nr,"","\\setminus",!0);se(pe,Le,nr,"","\\land");se(pe,Le,nr,"","\\lor");se(pe,Le,nr,"","\\wedge",!0);se(pe,Le,nr,"","\\vee",!0);se(pe,Le,Bt,"","\\surd");se(pe,Le,xc,"","\\langle",!0);se(pe,Le,xc,"","\\lvert");se(pe,Le,xc,"","\\lVert");se(pe,Le,vu,"?","?");se(pe,Le,vu,"!","!");se(pe,Le,vu,"","\\rangle",!0);se(pe,Le,vu,"","\\rvert");se(pe,Le,vu,"","\\rVert");se(pe,Le,wt,"=","=");se(pe,Le,wt,":",":");se(pe,Le,wt,"","\\approx",!0);se(pe,Le,wt,"","\\cong",!0);se(pe,Le,wt,"","\\ge");se(pe,Le,wt,"","\\geq",!0);se(pe,Le,wt,"","\\gets");se(pe,Le,wt,">","\\gt",!0);se(pe,Le,wt,"","\\in",!0);se(pe,Le,wt,"","\\@not");se(pe,Le,wt,"","\\subset",!0);se(pe,Le,wt,"","\\supset",!0);se(pe,Le,wt,"","\\subseteq",!0);se(pe,Le,wt,"","\\supseteq",!0);se(pe,pt,wt,"","\\nsubseteq",!0);se(pe,pt,wt,"","\\nsupseteq",!0);se(pe,Le,wt,"","\\models");se(pe,Le,wt,"","\\leftarrow",!0);se(pe,Le,wt,"","\\le");se(pe,Le,wt,"","\\leq",!0);se(pe,Le,wt,"<","\\lt",!0);se(pe,Le,wt,"","\\rightarrow",!0);se(pe,Le,wt,"","\\to");se(pe,pt,wt,"","\\ngeq",!0);se(pe,pt,wt,"","\\nleq",!0);se(pe,Le,vh,"","\\ ");se(pe,Le,vh,"","\\space");se(pe,Le,vh,"","\\nobreakspace");se(An,Le,vh,"","\\ ");se(An,Le,vh,""," ");se(An,Le,vh,"","\\space");se(An,Le,vh,"","\\nobreakspace");se(pe,Le,vh,null,"\\nobreak");se(pe,Le,vh,null,"\\allowbreak");se(pe,Le,Dm,",",",");se(pe,Le,Dm,";",";");se(pe,pt,nr,"","\\barwedge",!0);se(pe,pt,nr,"","\\veebar",!0);se(pe,Le,nr,"","\\odot",!0);se(pe,Le,nr,"","\\oplus",!0);se(pe,Le,nr,"","\\otimes",!0);se(pe,Le,Bt,"","\\partial",!0);se(pe,Le,nr,"","\\oslash",!0);se(pe,pt,nr,"","\\circledcirc",!0);se(pe,pt,nr,"","\\boxdot",!0);se(pe,Le,nr,"","\\bigtriangleup");se(pe,Le,nr,"","\\bigtriangledown");se(pe,Le,nr,"","\\dagger");se(pe,Le,nr,"","\\diamond");se(pe,Le,nr,"","\\star");se(pe,Le,nr,"","\\triangleleft");se(pe,Le,nr,"","\\triangleright");se(pe,Le,xc,"{","\\{");se(An,Le,Bt,"{","\\{");se(An,Le,Bt,"{","\\textbraceleft");se(pe,Le,vu,"}","\\}");se(An,Le,Bt,"}","\\}");se(An,Le,Bt,"}","\\textbraceright");se(pe,Le,xc,"{","\\lbrace");se(pe,Le,vu,"}","\\rbrace");se(pe,Le,xc,"[","\\lbrack",!0);se(An,Le,Bt,"[","\\lbrack",!0);se(pe,Le,vu,"]","\\rbrack",!0);se(An,Le,Bt,"]","\\rbrack",!0);se(pe,Le,xc,"(","\\lparen",!0);se(pe,Le,vu,")","\\rparen",!0);se(An,Le,Bt,"<","\\textless",!0);se(An,Le,Bt,">","\\textgreater",!0);se(pe,Le,xc,"","\\lfloor",!0);se(pe,Le,vu,"","\\rfloor",!0);se(pe,Le,xc,"","\\lceil",!0);se(pe,Le,vu,"","\\rceil",!0);se(pe,Le,Bt,"\\","\\backslash");se(pe,Le,Bt,"","|");se(pe,Le,Bt,"","\\vert");se(An,Le,Bt,"|","\\textbar",!0);se(pe,Le,Bt,"","\\|");se(pe,Le,Bt,"","\\Vert");se(An,Le,Bt,"","\\textbardbl");se(An,Le,Bt,"~","\\textasciitilde");se(An,Le,Bt,"\\","\\textbackslash");se(An,Le,Bt,"^","\\textasciicircum");se(pe,Le,wt,"","\\uparrow",!0);se(pe,Le,wt,"","\\Uparrow",!0);se(pe,Le,wt,"","\\downarrow",!0);se(pe,Le,wt,"","\\Downarrow",!0);se(pe,Le,wt,"","\\updownarrow",!0);se(pe,Le,wt,"","\\Updownarrow",!0);se(pe,Le,Ks,"","\\coprod");se(pe,Le,Ks,"","\\bigvee");se(pe,Le,Ks,"","\\bigwedge");se(pe,Le,Ks,"","\\biguplus");se(pe,Le,Ks,"","\\bigcap");se(pe,Le,Ks,"","\\bigcup");se(pe,Le,Ks,"","\\int");se(pe,Le,Ks,"","\\intop");se(pe,Le,Ks,"","\\iint");se(pe,Le,Ks,"","\\iiint");se(pe,Le,Ks,"","\\prod");se(pe,Le,Ks,"","\\sum");se(pe,Le,Ks,"","\\bigotimes");se(pe,Le,Ks,"","\\bigoplus");se(pe,Le,Ks,"","\\bigodot");se(pe,Le,Ks,"","\\oint");se(pe,Le,Ks,"","\\oiint");se(pe,Le,Ks,"","\\oiiint");se(pe,Le,Ks,"","\\bigsqcup");se(pe,Le,Ks,"","\\smallint");se(An,Le,Gd,"","\\textellipsis");se(pe,Le,Gd,"","\\mathellipsis");se(An,Le,Gd,"","\\ldots",!0);se(pe,Le,Gd,"","\\ldots",!0);se(pe,Le,Gd,"","\\@cdots",!0);se(pe,Le,Gd,"","\\ddots",!0);se(pe,Le,Bt,"","\\varvdots");se(An,Le,Bt,"","\\varvdots");se(pe,Le,Xo,"","\\acute");se(pe,Le,Xo,"","\\grave");se(pe,Le,Xo,"","\\ddot");se(pe,Le,Xo,"~","\\tilde");se(pe,Le,Xo,"","\\bar");se(pe,Le,Xo,"","\\breve");se(pe,Le,Xo,"","\\check");se(pe,Le,Xo,"^","\\hat");se(pe,Le,Xo,"","\\vec");se(pe,Le,Xo,"","\\dot");se(pe,Le,Xo,"","\\mathring");se(pe,Le,Xr,"","\\@imath");se(pe,Le,Xr,"","\\@jmath");se(pe,Le,Bt,"","");se(pe,Le,Bt,"","");se(An,Le,Bt,"","\\i",!0);se(An,Le,Bt,"","\\j",!0);se(An,Le,Bt,"","\\ss",!0);se(An,Le,Bt,"","\\ae",!0);se(An,Le,Bt,"","\\oe",!0);se(An,Le,Bt,"","\\o",!0);se(An,Le,Bt,"","\\AE",!0);se(An,Le,Bt,"","\\OE",!0);se(An,Le,Bt,"","\\O",!0);se(An,Le,Xo,"","\\'");se(An,Le,Xo,"","\\`");se(An,Le,Xo,"","\\^");se(An,Le,Xo,"","\\~");se(An,Le,Xo,"","\\=");se(An,Le,Xo,"","\\u");se(An,Le,Xo,"","\\.");se(An,Le,Xo,"","\\c");se(An,Le,Xo,"","\\r");se(An,Le,Xo,"","\\v");se(An,Le,Xo,"",'\\"');se(An,Le,Xo,"","\\H");se(An,Le,Xo,"","\\textcircled");var EE={"--":!0,"---":!0,"``":!0,"''":!0};se(An,Le,Bt,"","--",!0);se(An,Le,Bt,"","\\textendash");se(An,Le,Bt,"","---",!0);se(An,Le,Bt,"","\\textemdash");se(An,Le,Bt,"","`",!0);se(An,Le,Bt,"","\\textquoteleft");se(An,Le,Bt,"","'",!0);se(An,Le,Bt,"","\\textquoteright");se(An,Le,Bt,"","``",!0);se(An,Le,Bt,"","\\textquotedblleft");se(An,Le,Bt,"","''",!0);se(An,Le,Bt,"","\\textquotedblright");se(pe,Le,Bt,"","\\degree",!0);se(An,Le,Bt,"","\\degree");se(An,Le,Bt,"","\\textdegree",!0);se(pe,Le,Bt,"","\\pounds");se(pe,Le,Bt,"","\\mathsterling",!0);se(An,Le,Bt,"","\\pounds");se(An,Le,Bt,"","\\textsterling",!0);se(pe,pt,Bt,"","\\maltese");se(An,pt,Bt,"","\\maltese");var g6='0123456789/@."';for(var x2=0;x2<g6.length;x2++){var p6=g6.charAt(x2);se(pe,Le,Bt,p6,p6)}var m6='0123456789!@*()-=+";:?/.,';for(var b2=0;b2<m6.length;b2++){var v6=m6.charAt(b2);se(An,Le,Bt,v6,v6)}var $p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var w2=0;w2<$p.length;w2++){var qg=$p.charAt(w2);se(pe,Le,Xr,qg,qg),se(An,Le,Bt,qg,qg)}se(pe,pt,Bt,"C","");se(An,pt,Bt,"C","");se(pe,pt,Bt,"H","");se(An,pt,Bt,"H","");se(pe,pt,Bt,"N","");se(An,pt,Bt,"N","");se(pe,pt,Bt,"P","");se(An,pt,Bt,"P","");se(pe,pt,Bt,"Q","");se(An,pt,Bt,"Q","");se(pe,pt,Bt,"R","");se(An,pt,Bt,"R","");se(pe,pt,Bt,"Z","");se(An,pt,Bt,"Z","");se(pe,Le,Xr,"h","");se(An,Le,Xr,"h","");var ai="";for(var du=0;du<$p.length;du++){var Cs=$p.charAt(du);ai=String.fromCharCode(55349,56320+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56372+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56424+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56580+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56684+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56736+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56788+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56840+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56944+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),du<26&&(ai=String.fromCharCode(55349,56632+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai),ai=String.fromCharCode(55349,56476+du),se(pe,Le,Xr,Cs,ai),se(An,Le,Bt,Cs,ai))}ai="";se(pe,Le,Xr,"k",ai);se(An,Le,Bt,"k",ai);for(var x0=0;x0<10;x0++){var Gh=x0.toString();ai=String.fromCharCode(55349,57294+x0),se(pe,Le,Xr,Gh,ai),se(An,Le,Bt,Gh,ai),ai=String.fromCharCode(55349,57314+x0),se(pe,Le,Xr,Gh,ai),se(An,Le,Bt,Gh,ai),ai=String.fromCharCode(55349,57324+x0),se(pe,Le,Xr,Gh,ai),se(An,Le,Bt,Gh,ai),ai=String.fromCharCode(55349,57334+x0),se(pe,Le,Xr,Gh,ai),se(An,Le,Bt,Gh,ai)}var Dy="";for(var C2=0;C2<Dy.length;C2++){var Qg=Dy.charAt(C2);se(pe,Le,Xr,Qg,Qg),se(An,Le,Bt,Qg,Qg)}var Jg=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],y6=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],eG=function(t,n){var r=t.charCodeAt(0),o=t.charCodeAt(1),u=(r-55296)*1024+(o-56320)+65536,y=n==="math"?0:1;if(119808<=u&&u<120484){var d=Math.floor((u-119808)/26);return[Jg[d][2],Jg[d][y]]}else if(120782<=u&&u<=120831){var a=Math.floor((u-120782)/10);return[y6[a][2],y6[a][y]]}else{if(u===120485||u===120486)return[Jg[0][2],Jg[0][y]];if(120486<u&&u<120782)return["",""];throw new Ln("Unsupported character: "+t)}},_m=function(t,n,r){return bo[r][t]&&bo[r][t].replace&&(t=bo[r][t].replace),{value:t,metrics:Qx(t,n,r)}},af=function(t,n,r,o,u){var y=_m(t,n,r),d=y.metrics;t=y.value;var a;if(d){var c=d.italic;(r==="text"||o&&o.font==="mathit")&&(c=0),a=new Pc(t,d.height,d.depth,c,d.skew,d.width,u)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),a=new Pc(t,0,0,0,0,0,u);if(o){a.maxFontSize=o.sizeMultiplier,o.style.isTight()&&a.classes.push("mtight");var v=o.getColor();v&&(a.style.color=v)}return a},tG=function(t,n,r,o){return o===void 0&&(o=[]),r.font==="boldsymbol"&&_m(t,"Main-Bold",n).metrics?af(t,"Main-Bold",n,r,o.concat(["mathbf"])):t==="\\"||bo[n][t].font==="main"?af(t,"Main-Regular",n,r,o):af(t,"AMS-Regular",n,r,o.concat(["amsrm"]))},nG=function(t,n,r,o,u){return u!=="textord"&&_m(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},rG=function(t,n,r){var o=t.mode,u=t.text,y=["mord"],d=o==="math"||o==="text"&&n.font,a=d?n.font:n.fontFamily,c="",v="";if(u.charCodeAt(0)===55349&&([c,v]=eG(u,o)),c.length>0)return af(u,c,o,n,y.concat(v));if(a){var f,g;if(a==="boldsymbol"){var m=nG(u,o,n,y,r);f=m.fontName,g=[m.fontClass]}else d?(f=kE[a].fontName,g=[a]):(f=$g(a,n.fontWeight,n.fontShape),g=[a,n.fontWeight,n.fontShape]);if(_m(u,f,o).metrics)return af(u,f,o,n,y.concat(g));if(EE.hasOwnProperty(u)&&f.slice(0,10)==="Typewriter"){for(var C=[],k=0;k<u.length;k++)C.push(af(u[k],f,o,n,y.concat(g)));return TE(C)}}if(r==="mathord")return af(u,"Math-Italic",o,n,y.concat(["mathnormal"]));if(r==="textord"){var S=bo[o][u]&&bo[o][u].font;if(S==="ams"){var O=$g("amsrm",n.fontWeight,n.fontShape);return af(u,O,o,n,y.concat("amsrm",n.fontWeight,n.fontShape))}else if(S==="main"||!S){var N=$g("textrm",n.fontWeight,n.fontShape);return af(u,N,o,n,y.concat(n.fontWeight,n.fontShape))}else{var U=$g(S,n.fontWeight,n.fontShape);return af(u,U,o,n,y.concat(U,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},iG=(e,t)=>{if(t0(e.classes)!==t0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var o in t.style)if(t.style.hasOwnProperty(o)&&e.style[o]!==t.style[o])return!1;return!0},aG=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Pc&&r instanceof Pc&&iG(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},$x=function(t){for(var n=0,r=0,o=0,u=0;u<t.children.length;u++){var y=t.children[u];y.height>n&&(n=y.height),y.depth>r&&(r=y.depth),y.maxFontSize>o&&(o=y.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=o},Uu=function(t,n,r,o){var u=new cg(t,n,r,o);return $x(u),u},AE=(e,t,n,r)=>new cg(e,t,n,r),oG=function(t,n,r){var o=Uu([t],[],n);return o.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),o.style.borderBottomWidth=Wn(o.height),o.maxFontSize=1,o},sG=function(t,n,r,o){var u=new Jx(t,n,r,o);return $x(u),u},TE=function(t){var n=new ug(t);return $x(n),n},lG=function(t,n){return t instanceof ug?Uu([],[t],n):t},uG=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],o=-n[0].shift-n[0].elem.depth,u=o,y=1;y<n.length;y++){var d=-n[y].shift-u-n[y].elem.depth,a=d-(n[y-1].elem.height+n[y-1].elem.depth);u=u+d,r.push({type:"kern",size:a}),r.push(n[y])}return{children:r,depth:o}}var c;if(t.positionType==="top"){for(var v=t.positionData,f=0;f<t.children.length;f++){var g=t.children[f];v-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}c=v}else if(t.positionType==="bottom")c=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")c=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")c=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:c}},cG=function(t,n){for(var{children:r,depth:o}=uG(t),u=0,y=0;y<r.length;y++){var d=r[y];if(d.type==="elem"){var a=d.elem;u=Math.max(u,a.maxFontSize,a.height)}}u+=2;var c=Uu(["pstrut"],[]);c.style.height=Wn(u);for(var v=[],f=o,g=o,m=o,C=0;C<r.length;C++){var k=r[C];if(k.type==="kern")m+=k.size;else{var S=k.elem,O=k.wrapperClasses||[],N=k.wrapperStyle||{},U=Uu(O,[c,S],void 0,N);U.style.top=Wn(-u-m-S.depth),k.marginLeft&&(U.style.marginLeft=k.marginLeft),k.marginRight&&(U.style.marginRight=k.marginRight),v.push(U),m+=S.height+S.depth}f=Math.min(f,m),g=Math.max(g,m)}var W=Uu(["vlist"],v);W.style.height=Wn(g);var q;if(f<0){var J=Uu([],[]),ne=Uu(["vlist"],[J]);ne.style.height=Wn(-f);var ve=Uu(["vlist-s"],[new Pc("")]);q=[Uu(["vlist-r"],[W,ve]),Uu(["vlist-r"],[ne])]}else q=[Uu(["vlist-r"],[W])];var Se=Uu(["vlist-t"],q);return q.length===2&&Se.classes.push("vlist-t2"),Se.height=g,Se.depth=-f,Se},fG=(e,t)=>{var n=Uu(["mspace"],[],t),r=ls(e,t);return n.style.marginRight=Wn(r),n},$g=function(t,n,r){var o="";switch(t){case"amsrm":o="AMS";break;case"textrm":o="Main";break;case"textsf":o="SansSerif";break;case"texttt":o="Typewriter";break;default:o=t}var u;return n==="textbf"&&r==="textit"?u="BoldItalic":n==="textbf"?u="Bold":n==="textit"?u="Italic":u="Regular",o+"-"+u},kE={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},DE={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},hG=function(t,n){var[r,o,u]=DE[t],y=new n0(r),d=new gh([y],{width:Wn(o),height:Wn(u),style:"width:"+Wn(o),viewBox:"0 0 "+1e3*o+" "+1e3*u,preserveAspectRatio:"xMinYMin"}),a=AE(["overlay"],[d],n);return a.height=u,a.style.height=Wn(u),a.style.width=Wn(o),a},en={fontMap:kE,makeSymbol:af,mathsym:tG,makeSpan:Uu,makeSvgSpan:AE,makeLineSpan:oG,makeAnchor:sG,makeFragment:TE,wrapFragment:lG,makeVList:cG,makeOrd:rG,makeGlue:fG,staticSvg:hG,svgData:DE,tryCombineChars:aG},ss={number:3,unit:"mu"},b0={number:4,unit:"mu"},ah={number:5,unit:"mu"},dG={mord:{mop:ss,mbin:b0,mrel:ah,minner:ss},mop:{mord:ss,mop:ss,mrel:ah,minner:ss},mbin:{mord:b0,mop:b0,mopen:b0,minner:b0},mrel:{mord:ah,mop:ah,mopen:ah,minner:ah},mopen:{},mclose:{mop:ss,mbin:b0,mrel:ah,minner:ss},mpunct:{mord:ss,mop:ss,mrel:ah,mopen:ss,mclose:ss,mpunct:ss,minner:ss},minner:{mord:ss,mop:ss,mbin:b0,mrel:ah,mopen:ss,mpunct:ss,minner:ss}},gG={mord:{mop:ss},mop:{mord:ss,mop:ss},mbin:{},mrel:{},mopen:{},mclose:{mop:ss},mpunct:{},minner:{mop:ss}},_E={},em={},tm={};function Qn(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:u,mathmlBuilder:y}=e,d={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:o},a=0;a<n.length;++a)_E[n[a]]=d;t&&(u&&(em[t]=u),y&&(tm[t]=y))}function j0(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;Qn({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var nm=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Bs=function(t){return t.type==="ordgroup"?t.body:[t]},ph=en.makeSpan,pG=["leftmost","mbin","mopen","mrel","mop","mpunct"],mG=["rightmost","mrel","mclose","mpunct"],vG={display:Vr.DISPLAY,text:Vr.TEXT,script:Vr.SCRIPT,scriptscript:Vr.SCRIPTSCRIPT},yG={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},fl=function(t,n,r,o){o===void 0&&(o=[null,null]);for(var u=[],y=0;y<t.length;y++){var d=xa(t[y],n);if(d instanceof ug){var a=d.children;u.push(...a)}else u.push(d)}if(en.tryCombineChars(u),!r)return u;var c=n;if(t.length===1){var v=t[0];v.type==="sizing"?c=n.havingSize(v.size):v.type==="styling"&&(c=n.havingStyle(vG[v.style]))}var f=ph([o[0]||"leftmost"],[],n),g=ph([o[1]||"rightmost"],[],n),m=r==="root";return x6(u,(C,k)=>{var S=k.classes[0],O=C.classes[0];S==="mbin"&&mG.includes(O)?k.classes[0]="mord":O==="mbin"&&pG.includes(S)&&(C.classes[0]="mord")},{node:f},g,m),x6(u,(C,k)=>{var S=_y(k),O=_y(C),N=S&&O?C.hasClass("mtight")?gG[S][O]:dG[S][O]:null;if(N)return en.makeGlue(N,c)},{node:f},g,m),u},x6=function e(t,n,r,o,u){o&&t.push(o);for(var y=0;y<t.length;y++){var d=t[y],a=ME(d);if(a){e(a.children,n,r,null,u);continue}var c=!d.hasClass("mspace");if(c){var v=n(d,r.node);v&&(r.insertAfter?r.insertAfter(v):(t.unshift(v),y++))}c?r.node=d:u&&d.hasClass("newline")&&(r.node=ph(["leftmost"])),r.insertAfter=(f=>g=>{t.splice(f+1,0,g),y++})(y)}o&&t.pop()},ME=function(t){return t instanceof ug||t instanceof Jx||t instanceof cg&&t.hasClass("enclosing")?t:null},xG=function e(t,n){var r=ME(t);if(r){var o=r.children;if(o.length){if(n==="right")return e(o[o.length-1],"right");if(n==="left")return e(o[0],"left")}}return t},_y=function(t,n){return t?(n&&(t=xG(t,n)),yG[t.classes[0]]||null):null},Q1=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return ph(n.concat(r))},xa=function(t,n,r){if(!t)return ph();if(em[t.type]){var o=em[t.type](t,n);if(r&&n.size!==r.size){o=ph(n.sizingClasses(r),[o],n);var u=n.sizeMultiplier/r.sizeMultiplier;o.height*=u,o.depth*=u}return o}else throw new Ln("Got group of unknown type: '"+t.type+"'")};function ep(e,t){var n=ph(["base"],e,t),r=ph(["strut"]);return r.style.height=Wn(n.height+n.depth),n.depth&&(r.style.verticalAlign=Wn(-n.depth)),n.children.unshift(r),n}function My(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=fl(e,t,"root"),o;r.length===2&&r[1].hasClass("tag")&&(o=r.pop());for(var u=[],y=[],d=0;d<r.length;d++)if(y.push(r[d]),r[d].hasClass("mbin")||r[d].hasClass("mrel")||r[d].hasClass("allowbreak")){for(var a=!1;d<r.length-1&&r[d+1].hasClass("mspace")&&!r[d+1].hasClass("newline");)d++,y.push(r[d]),r[d].hasClass("nobreak")&&(a=!0);a||(u.push(ep(y,t)),y=[])}else r[d].hasClass("newline")&&(y.pop(),y.length>0&&(u.push(ep(y,t)),y=[]),u.push(r[d]));y.length>0&&u.push(ep(y,t));var c;n?(c=ep(fl(n,t,!0)),c.classes=["tag"],u.push(c)):o&&u.push(o);var v=ph(["katex-html"],u);if(v.setAttribute("aria-hidden","true"),c){var f=c.children[0];f.style.height=Wn(v.height+v.depth),v.depth&&(f.style.verticalAlign=Wn(-v.depth))}return v}function OE(e){return new ug(e)}class fc{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=t0(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Ff&&this.children[r+1]instanceof Ff){for(var o=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Ff;)o+=this.children[++r].toText();t.appendChild(new Ff(o).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Ea.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Ea.escape(t0(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Ff{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ea.escape(this.toText())}toText(){return this.text}}class bG{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Wn(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Wn(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Mn={MathNode:fc,TextNode:Ff,SpaceNode:bG,newDocumentFragment:OE},zc=function(t,n,r){return bo[n][t]&&bo[n][t].replace&&t.charCodeAt(0)!==55349&&!(EE.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=bo[n][t].replace),new Mn.TextNode(t)},eb=function(t){return t.length===1?t[0]:new Mn.MathNode("mrow",t)},tb=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var o=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var u=t.text;if(["\\imath","\\jmath"].includes(u))return null;bo[o][u]&&bo[o][u].replace&&(u=bo[o][u].replace);var y=en.fontMap[r].fontName;return Qx(u,y,o)?en.fontMap[r].variant:null};function S2(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Ff&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof Ff&&n.text===","}else return!1}var Yu=function(t,n,r){if(t.length===1){var o=uo(t[0],n);return r&&o instanceof fc&&o.type==="mo"&&(o.setAttribute("lspace","0em"),o.setAttribute("rspace","0em")),[o]}for(var u=[],y,d=0;d<t.length;d++){var a=uo(t[d],n);if(a instanceof fc&&y instanceof fc){if(a.type==="mtext"&&y.type==="mtext"&&a.getAttribute("mathvariant")===y.getAttribute("mathvariant")){y.children.push(...a.children);continue}else if(a.type==="mn"&&y.type==="mn"){y.children.push(...a.children);continue}else if(S2(a)&&y.type==="mn"){y.children.push(...a.children);continue}else if(a.type==="mn"&&S2(y))a.children=[...y.children,...a.children],u.pop();else if((a.type==="msup"||a.type==="msub")&&a.children.length>=1&&(y.type==="mn"||S2(y))){var c=a.children[0];c instanceof fc&&c.type==="mn"&&(c.children=[...y.children,...c.children],u.pop())}else if(y.type==="mi"&&y.children.length===1){var v=y.children[0];if(v instanceof Ff&&v.text===""&&(a.type==="mo"||a.type==="mi"||a.type==="mn")){var f=a.children[0];f instanceof Ff&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),u.pop())}}}u.push(a),y=a}return u},r0=function(t,n,r){return eb(Yu(t,n,r))},uo=function(t,n){if(!t)return new Mn.MathNode("mrow");if(tm[t.type]){var r=tm[t.type](t,n);return r}else throw new Ln("Got group of unknown type: '"+t.type+"'")};function b6(e,t,n,r,o){var u=Yu(e,n),y;u.length===1&&u[0]instanceof fc&&["mrow","mtable"].includes(u[0].type)?y=u[0]:y=new Mn.MathNode("mrow",u);var d=new Mn.MathNode("annotation",[new Mn.TextNode(t)]);d.setAttribute("encoding","application/x-tex");var a=new Mn.MathNode("semantics",[y,d]),c=new Mn.MathNode("math",[a]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var v=o?"katex":"katex-mathml";return en.makeSpan([v],[c])}var IE=function(t){return new lh({style:t.displayMode?Vr.DISPLAY:Vr.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},RE=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=en.makeSpan(r,[t])}return t},wG=function(t,n,r){var o=IE(r),u;if(r.output==="mathml")return b6(t,n,o,r.displayMode,!0);if(r.output==="html"){var y=My(t,o);u=en.makeSpan(["katex"],[y])}else{var d=b6(t,n,o,r.displayMode,!1),a=My(t,o);u=en.makeSpan(["katex"],[d,a])}return RE(u,r)},CG=function(t,n,r){var o=IE(r),u=My(t,o),y=en.makeSpan(["katex"],[u]);return RE(y,r)},SG={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},EG=function(t){var n=new Mn.MathNode("mo",[new Mn.TextNode(SG[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},AG={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},TG=function(t){return t.type==="ordgroup"?t.body.length:1},kG=function(t,n){function r(){var d=4e5,a=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(a)){var c=t,v=TG(c.base),f,g,m;if(v>5)a==="widehat"||a==="widecheck"?(f=420,d=2364,m=.42,g=a+"4"):(f=312,d=2340,m=.34,g="tilde4");else{var C=[1,1,2,2,3,3][v];a==="widehat"||a==="widecheck"?(d=[0,1062,2364,2364,2364][C],f=[0,239,300,360,420][C],m=[0,.24,.3,.3,.36,.42][C],g=a+C):(d=[0,600,1033,2339,2340][C],f=[0,260,286,306,312][C],m=[0,.26,.286,.3,.306,.34][C],g="tilde"+C)}var k=new n0(g),S=new gh([k],{width:"100%",height:Wn(m),viewBox:"0 0 "+d+" "+f,preserveAspectRatio:"none"});return{span:en.makeSvgSpan([],[S],n),minWidth:0,height:m}}else{var O=[],N=AG[a],[U,W,q]=N,J=q/1e3,ne=U.length,ve,Se;if(ne===1){var Fe=N[3];ve=["hide-tail"],Se=[Fe]}else if(ne===2)ve=["halfarrow-left","halfarrow-right"],Se=["xMinYMin","xMaxYMin"];else if(ne===3)ve=["brace-left","brace-center","brace-right"],Se=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+ne+" children.");for(var Ue=0;Ue<ne;Ue++){var Ze=new n0(U[Ue]),mt=new gh([Ze],{width:"400em",height:Wn(J),viewBox:"0 0 "+d+" "+q,preserveAspectRatio:Se[Ue]+" slice"}),ct=en.makeSvgSpan([ve[Ue]],[mt],n);if(ne===1)return{span:ct,minWidth:W,height:J};ct.style.height=Wn(J),O.push(ct)}return{span:en.makeSpan(["stretchy"],O,n),minWidth:W,height:J}}}var{span:o,minWidth:u,height:y}=r();return o.height=y,o.style.height=Wn(y),u>0&&(o.style.minWidth=Wn(u)),o},DG=function(t,n,r,o,u){var y,d=t.height+t.depth+r+o;if(/fbox|color|angl/.test(n)){if(y=en.makeSpan(["stretchy",n],[],u),n==="fbox"){var a=u.color&&u.getColor();a&&(y.style.borderColor=a)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new ky({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new ky({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var v=new gh(c,{width:"100%",height:Wn(d)});y=en.makeSvgSpan([],[v],u)}return y.height=d,y.style.height=Wn(d),y},mh={encloseSpan:DG,mathMLnode:EG,svgSpan:kG};function Ei(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function nb(e){var t=Mm(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Mm(e){return e&&(e.type==="atom"||$W.hasOwnProperty(e.type))?e:null}var rb=(e,t)=>{var n,r,o;e&&e.type==="supsub"?(r=Ei(e.base,"accent"),n=r.base,e.base=n,o=QW(xa(e,t)),e.base=r):(r=Ei(e,"accent"),n=r.base);var u=xa(n,t.havingCrampedStyle()),y=r.isShifty&&Ea.isCharacterBox(n),d=0;if(y){var a=Ea.getBaseElem(n),c=xa(a,t.havingCrampedStyle());d=d6(c).skew}var v=r.label==="\\c",f=v?u.height+u.depth:Math.min(u.height,t.fontMetrics().xHeight),g;if(r.isStretchy)g=mh.svgSpan(r,t),g=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:d>0?{width:"calc(100% - "+Wn(2*d)+")",marginLeft:Wn(2*d)}:void 0}]},t);else{var m,C;r.label==="\\vec"?(m=en.staticSvg("vec",t),C=en.svgData.vec[1]):(m=en.makeOrd({mode:r.mode,text:r.label},t,"textord"),m=d6(m),m.italic=0,C=m.width,v&&(f+=m.depth)),g=en.makeSpan(["accent-body"],[m]);var k=r.label==="\\textcircled";k&&(g.classes.push("accent-full"),f=u.height);var S=d;k||(S-=C/2),g.style.left=Wn(S),r.label==="\\textcircled"&&(g.style.top=".2em"),g=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:-f},{type:"elem",elem:g}]},t)}var O=en.makeSpan(["mord","accent"],[g],t);return o?(o.children[0]=O,o.height=Math.max(O.height,o.height),o.classes[0]="mord",o):O},NE=(e,t)=>{var n=e.isStretchy?mh.mathMLnode(e.label):new Mn.MathNode("mo",[zc(e.label,e.mode)]),r=new Mn.MathNode("mover",[uo(e.base,t),n]);return r.setAttribute("accent","true"),r},_G=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Qn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=nm(t[0]),r=!_G.test(e.funcName),o=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:o,base:n}},htmlBuilder:rb,mathmlBuilder:NE});Qn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:rb,mathmlBuilder:NE});Qn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:o}},htmlBuilder:(e,t)=>{var n=xa(e.base,t),r=mh.svgSpan(e,t),o=e.label==="\\utilde"?.12:0,u=en.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},t);return en.makeSpan(["mord","accentunder"],[u],t)},mathmlBuilder:(e,t)=>{var n=mh.mathMLnode(e.label),r=new Mn.MathNode("munder",[uo(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var tp=e=>{var t=new Mn.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Qn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:o}=e;return{type:"xArrow",mode:r.mode,label:o,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),o=en.wrapFragment(xa(e.body,r,t),t),u=e.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(u+"-arrow-pad");var y;e.below&&(r=t.havingStyle(n.sub()),y=en.wrapFragment(xa(e.below,r,t),t),y.classes.push(u+"-arrow-pad"));var d=mh.svgSpan(e,t),a=-t.fontMetrics().axisHeight+.5*d.height,c=-t.fontMetrics().axisHeight-.5*d.height-.111;(o.depth>.25||e.label==="\\xleftequilibrium")&&(c-=o.depth);var v;if(y){var f=-t.fontMetrics().axisHeight+y.height+.5*d.height+.111;v=en.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:d,shift:a},{type:"elem",elem:y,shift:f}]},t)}else v=en.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:c},{type:"elem",elem:d,shift:a}]},t);return v.children[0].children[0].children[1].classes.push("svg-align"),en.makeSpan(["mrel","x-arrow"],[v],t)},mathmlBuilder(e,t){var n=mh.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var o=tp(uo(e.body,t));if(e.below){var u=tp(uo(e.below,t));r=new Mn.MathNode("munderover",[n,u,o])}else r=new Mn.MathNode("mover",[n,o])}else if(e.below){var y=tp(uo(e.below,t));r=new Mn.MathNode("munder",[n,y])}else r=tp(),r=new Mn.MathNode("mover",[n,r]);return r}});var MG=en.makeSpan;function LE(e,t){var n=fl(e.body,t,!0);return MG([e.mclass],n,t)}function BE(e,t){var n,r=Yu(e.body,t);return e.mclass==="minner"?n=new Mn.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new Mn.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new Mn.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Qn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Bs(o),isCharacterBox:Ea.isCharacterBox(o)}},htmlBuilder:LE,mathmlBuilder:BE});var Om=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Qn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Om(t[0]),body:Bs(t[1]),isCharacterBox:Ea.isCharacterBox(t[1])}}});Qn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,o=t[1],u=t[0],y;r!=="\\stackrel"?y=Om(o):y="mrel";var d={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Bs(o)},a={type:"supsub",mode:u.mode,base:d,sup:r==="\\underset"?null:u,sub:r==="\\underset"?u:null};return{type:"mclass",mode:n.mode,mclass:y,body:[a],isCharacterBox:Ea.isCharacterBox(a)}},htmlBuilder:LE,mathmlBuilder:BE});Qn({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Om(t[0]),body:Bs(t[0])}},htmlBuilder(e,t){var n=fl(e.body,t,!0),r=en.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=Yu(e.body,t),r=new Mn.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var OG={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},w6=()=>({type:"styling",body:[],mode:"math",style:"display"}),C6=e=>e.type==="textord"&&e.text==="@",IG=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function RG(e,t,n){var r=OG[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var o=n.callFunction("\\\\cdleft",[t[0]],[]),u={type:"atom",text:r,mode:"math",family:"rel"},y=n.callFunction("\\Big",[u],[]),d=n.callFunction("\\\\cdright",[t[1]],[]),a={type:"ordgroup",mode:"math",body:[o,y,d]};return n.callFunction("\\\\cdparent",[a],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function NG(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Ln("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],o=[r],u=0;u<t.length;u++){for(var y=t[u],d=w6(),a=0;a<y.length;a++)if(!C6(y[a]))d.body.push(y[a]);else{r.push(d),a+=1;var c=nb(y[a]).text,v=new Array(2);if(v[0]={type:"ordgroup",mode:"math",body:[]},v[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var f=0;f<2;f++){for(var g=!0,m=a+1;m<y.length;m++){if(IG(y[m],c)){g=!1,a=m;break}if(C6(y[m]))throw new Ln("Missing a "+c+" character to complete a CD arrow.",y[m]);v[f].body.push(y[m])}if(g)throw new Ln("Missing a "+c+" character to complete a CD arrow.",y[a])}else throw new Ln('Expected one of "<>AV=|." after @',y[a]);var C=RG(c,v,e),k={type:"styling",body:[C],mode:"math",style:"display"};r.push(k),d=w6()}u%2===0?r.push(d):r.shift(),r=[],o.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var S=new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:S,colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}Qn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=en.wrapFragment(xa(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Wn(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new Mn.MathNode("mrow",[uo(e.label,t)]);return n=new Mn.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Mn.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Qn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=en.wrapFragment(xa(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new Mn.MathNode("mrow",[uo(e.fragment,t)])}});Qn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Ei(t[0],"ordgroup"),o=r.body,u="",y=0;y<o.length;y++){var d=Ei(o[y],"textord");u+=d.text}var a=parseInt(u),c;if(isNaN(a))throw new Ln("\\@char has non-numeric argument "+u);if(a<0||a>=1114111)throw new Ln("\\@char with invalid code point "+u);return a<=65535?c=String.fromCharCode(a):(a-=65536,c=String.fromCharCode((a>>10)+55296,(a&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var FE=(e,t)=>{var n=fl(e.body,t.withColor(e.color),!1);return en.makeFragment(n)},PE=(e,t)=>{var n=Yu(e.body,t.withColor(e.color)),r=new Mn.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};Qn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Ei(t[0],"color-token").color,o=t[1];return{type:"color",mode:n.mode,color:r,body:Bs(o)}},htmlBuilder:FE,mathmlBuilder:PE});Qn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,o=Ei(t[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var u=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:o,body:u}},htmlBuilder:FE,mathmlBuilder:PE});Qn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,o=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,u=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:u,size:o&&Ei(o,"size").value}},htmlBuilder(e,t){var n=en.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Wn(ls(e.size,t)))),n},mathmlBuilder(e,t){var n=new Mn.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Wn(ls(e.size,t)))),n}});var Oy={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},zE=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Ln("Expected a control sequence",e);return t},LG=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},HE=(e,t,n,r)=>{var o=e.gullet.macros.get(n.text);o==null&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,o,r)};Qn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(Oy[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Oy[r.text]),Ei(t.parseFunction(),"internal");throw new Ln("Invalid token after macro prefix",r)}});Qn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new Ln("Expected a control sequence",r);for(var u=0,y,d=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){y=t.gullet.future(),d[u].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ln('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==u+1)throw new Ln('Argument number "'+r.text+'" out of order');u++,d.push([])}else{if(r.text==="EOF")throw new Ln("Expected a macro definition");d[u].push(r.text)}var{tokens:a}=t.gullet.consumeArg();return y&&a.unshift(y),(n==="\\edef"||n==="\\xdef")&&(a=t.gullet.expandTokens(a),a.reverse()),t.gullet.macros.set(o,{tokens:a,numArgs:u,delimiters:d},n===Oy[n]),{type:"internal",mode:t.mode}}});Qn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=zE(t.gullet.popToken());t.gullet.consumeSpaces();var o=LG(t);return HE(t,r,o,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Qn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=zE(t.gullet.popToken()),o=t.gullet.popToken(),u=t.gullet.popToken();return HE(t,r,u,n==="\\\\globalfuture"),t.gullet.pushToken(u),t.gullet.pushToken(o),{type:"internal",mode:t.mode}}});var _1=function(t,n,r){var o=bo.math[t]&&bo.math[t].replace,u=Qx(o||t,n,r);if(!u)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return u},ib=function(t,n,r,o){var u=r.havingBaseStyle(n),y=en.makeSpan(o.concat(u.sizingClasses(r)),[t],r),d=u.sizeMultiplier/r.sizeMultiplier;return y.height*=d,y.depth*=d,y.maxFontSize=u.sizeMultiplier,y},UE=function(t,n,r){var o=n.havingBaseStyle(r),u=(1-n.sizeMultiplier/o.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Wn(u),t.height-=u,t.depth+=u},BG=function(t,n,r,o,u,y){var d=en.makeSymbol(t,"Main-Regular",u,o),a=ib(d,n,o,y);return r&&UE(a,o,n),a},FG=function(t,n,r,o){return en.makeSymbol(t,"Size"+n+"-Regular",r,o)},jE=function(t,n,r,o,u,y){var d=FG(t,n,u,o),a=ib(en.makeSpan(["delimsizing","size"+n],[d],o),Vr.TEXT,o,y);return r&&UE(a,o,Vr.TEXT),a},E2=function(t,n,r){var o;n==="Size1-Regular"?o="delim-size1":o="delim-size4";var u=en.makeSpan(["delimsizinginner",o],[en.makeSpan([],[en.makeSymbol(t,n,r)])]);return{type:"elem",elem:u}},A2=function(t,n,r){var o=Bf["Size4-Regular"][t.charCodeAt(0)]?Bf["Size4-Regular"][t.charCodeAt(0)][4]:Bf["Size1-Regular"][t.charCodeAt(0)][4],u=new n0("inner",jW(t,Math.round(1e3*n))),y=new gh([u],{width:Wn(o),height:Wn(n),style:"width:"+Wn(o),viewBox:"0 0 "+1e3*o+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),d=en.makeSvgSpan([],[y],r);return d.height=n,d.style.height=Wn(n),d.style.width=Wn(o),{type:"elem",elem:d}},Iy=.008,np={type:"kern",size:-1*Iy},PG=["|","\\lvert","\\rvert","\\vert"],zG=["\\|","\\lVert","\\rVert","\\Vert"],WE=function(t,n,r,o,u,y){var d,a,c,v,f="",g=0;d=c=v=t,a=null;var m="Size1-Regular";t==="\\uparrow"?c=v="":t==="\\Uparrow"?c=v="":t==="\\downarrow"?d=c="":t==="\\Downarrow"?d=c="":t==="\\updownarrow"?(d="\\uparrow",c="",v="\\downarrow"):t==="\\Updownarrow"?(d="\\Uparrow",c="",v="\\Downarrow"):PG.includes(t)?(c="",f="vert",g=333):zG.includes(t)?(c="",f="doublevert",g=556):t==="["||t==="\\lbrack"?(d="",c="",v="",m="Size4-Regular",f="lbrack",g=667):t==="]"||t==="\\rbrack"?(d="",c="",v="",m="Size4-Regular",f="rbrack",g=667):t==="\\lfloor"||t===""?(c=d="",v="",m="Size4-Regular",f="lfloor",g=667):t==="\\lceil"||t===""?(d="",c=v="",m="Size4-Regular",f="lceil",g=667):t==="\\rfloor"||t===""?(c=d="",v="",m="Size4-Regular",f="rfloor",g=667):t==="\\rceil"||t===""?(d="",c=v="",m="Size4-Regular",f="rceil",g=667):t==="("||t==="\\lparen"?(d="",c="",v="",m="Size4-Regular",f="lparen",g=875):t===")"||t==="\\rparen"?(d="",c="",v="",m="Size4-Regular",f="rparen",g=875):t==="\\{"||t==="\\lbrace"?(d="",a="",v="",c="",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(d="",a="",v="",c="",m="Size4-Regular"):t==="\\lgroup"||t===""?(d="",v="",c="",m="Size4-Regular"):t==="\\rgroup"||t===""?(d="",v="",c="",m="Size4-Regular"):t==="\\lmoustache"||t===""?(d="",v="",c="",m="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(d="",v="",c="",m="Size4-Regular");var C=_1(d,m,u),k=C.height+C.depth,S=_1(c,m,u),O=S.height+S.depth,N=_1(v,m,u),U=N.height+N.depth,W=0,q=1;if(a!==null){var J=_1(a,m,u);W=J.height+J.depth,q=2}var ne=k+U+W,ve=Math.max(0,Math.ceil((n-ne)/(q*O))),Se=ne+ve*q*O,Fe=o.fontMetrics().axisHeight;r&&(Fe*=o.sizeMultiplier);var Ue=Se/2-Fe,Ze=[];if(f.length>0){var mt=Se-k-U,ct=Math.round(Se*1e3),ge=WW(f,Math.round(mt*1e3)),ye=new n0(f,ge),Re=(g/1e3).toFixed(3)+"em",ft=(ct/1e3).toFixed(3)+"em",Me=new gh([ye],{width:Re,height:ft,viewBox:"0 0 "+g+" "+ct}),ce=en.makeSvgSpan([],[Me],o);ce.height=ct/1e3,ce.style.width=Re,ce.style.height=ft,Ze.push({type:"elem",elem:ce})}else{if(Ze.push(E2(v,m,u)),Ze.push(np),a===null){var le=Se-k-U+2*Iy;Ze.push(A2(c,le,o))}else{var ae=(Se-k-U-W)/2+2*Iy;Ze.push(A2(c,ae,o)),Ze.push(np),Ze.push(E2(a,m,u)),Ze.push(np),Ze.push(A2(c,ae,o))}Ze.push(np),Ze.push(E2(d,m,u))}var V=o.havingBaseStyle(Vr.TEXT),me=en.makeVList({positionType:"bottom",positionData:Ue,children:Ze},V);return ib(en.makeSpan(["delimsizing","mult"],[me],V),Vr.TEXT,o,y)},T2=80,k2=.08,D2=function(t,n,r,o,u){var y=UW(t,o,r),d=new n0(t,y),a=new gh([d],{width:"400em",height:Wn(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return en.makeSvgSpan(["hide-tail"],[a],u)},HG=function(t,n){var r=n.havingBaseSizing(),o=VE("\\surd",t*r.sizeMultiplier,XE,r),u=r.sizeMultiplier,y=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),d,a=0,c=0,v=0,f;return o.type==="small"?(v=1e3+1e3*y+T2,t<1?u=1:t<1.4&&(u=.7),a=(1+y+k2)/u,c=(1+y)/u,d=D2("sqrtMain",a,v,y,n),d.style.minWidth="0.853em",f=.833/u):o.type==="large"?(v=(1e3+T2)*B1[o.size],c=(B1[o.size]+y)/u,a=(B1[o.size]+y+k2)/u,d=D2("sqrtSize"+o.size,a,v,y,n),d.style.minWidth="1.02em",f=1/u):(a=t+y+k2,c=t+y,v=Math.floor(1e3*t+y)+T2,d=D2("sqrtTall",a,v,y,n),d.style.minWidth="0.742em",f=1.056),d.height=c,d.style.height=Wn(a),{span:d,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+y)*u}},GE=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],UG=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],YE=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],B1=[0,1.2,1.8,2.4,3],jG=function(t,n,r,o,u){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),GE.includes(t)||YE.includes(t))return jE(t,n,!1,r,o,u);if(UG.includes(t))return WE(t,B1[n],!1,r,o,u);throw new Ln("Illegal delimiter: '"+t+"'")},WG=[{type:"small",style:Vr.SCRIPTSCRIPT},{type:"small",style:Vr.SCRIPT},{type:"small",style:Vr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],GG=[{type:"small",style:Vr.SCRIPTSCRIPT},{type:"small",style:Vr.SCRIPT},{type:"small",style:Vr.TEXT},{type:"stack"}],XE=[{type:"small",style:Vr.SCRIPTSCRIPT},{type:"small",style:Vr.SCRIPT},{type:"small",style:Vr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],YG=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},VE=function(t,n,r,o){for(var u=Math.min(2,3-o.style.size),y=u;y<r.length&&r[y].type!=="stack";y++){var d=_1(t,YG(r[y]),"math"),a=d.height+d.depth;if(r[y].type==="small"){var c=o.havingBaseStyle(r[y].style);a*=c.sizeMultiplier}if(a>n)return r[y]}return r[r.length-1]},KE=function(t,n,r,o,u,y){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var d;YE.includes(t)?d=WG:GE.includes(t)?d=XE:d=GG;var a=VE(t,n,d,o);return a.type==="small"?BG(t,a.style,r,o,u,y):a.type==="large"?jE(t,a.size,r,o,u,y):WE(t,n,r,o,u,y)},XG=function(t,n,r,o,u,y){var d=o.fontMetrics().axisHeight*o.sizeMultiplier,a=901,c=5/o.fontMetrics().ptPerEm,v=Math.max(n-d,r+d),f=Math.max(v/500*a,2*v-c);return KE(t,f,!0,o,u,y)},hh={sqrtImage:HG,sizedDelim:jG,sizeToMaxHeight:B1,customSizedDelim:KE,leftRightDelim:XG},S6={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},VG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Im(e,t){var n=Mm(e);if(n&&VG.includes(n.text))return n;throw n?new Ln("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new Ln("Invalid delimiter type '"+e.type+"'",e)}Qn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Im(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:S6[e.funcName].size,mclass:S6[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?en.makeSpan([e.mclass]):hh.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(zc(e.delim,e.mode));var n=new Mn.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Wn(hh.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function E6(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Qn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ln("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Im(t[0],e).text,color:n}}});Qn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Im(t[0],e),r=e.parser;++r.leftrightDepth;var o=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var u=Ei(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:o,left:n.text,right:u.delim,rightColor:u.color}},htmlBuilder:(e,t)=>{E6(e);for(var n=fl(e.body,t,!0,["mopen","mclose"]),r=0,o=0,u=!1,y=0;y<n.length;y++)n[y].isMiddle?u=!0:(r=Math.max(n[y].height,r),o=Math.max(n[y].depth,o));r*=t.sizeMultiplier,o*=t.sizeMultiplier;var d;if(e.left==="."?d=Q1(t,["mopen"]):d=hh.leftRightDelim(e.left,r,o,t,e.mode,["mopen"]),n.unshift(d),u)for(var a=1;a<n.length;a++){var c=n[a],v=c.isMiddle;v&&(n[a]=hh.leftRightDelim(v.delim,r,o,v.options,e.mode,[]))}var f;if(e.right===".")f=Q1(t,["mclose"]);else{var g=e.rightColor?t.withColor(e.rightColor):t;f=hh.leftRightDelim(e.right,r,o,g,e.mode,["mclose"])}return n.push(f),en.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{E6(e);var n=Yu(e.body,t);if(e.left!=="."){var r=new Mn.MathNode("mo",[zc(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var o=new Mn.MathNode("mo",[zc(e.right,e.mode)]);o.setAttribute("fence","true"),e.rightColor&&o.setAttribute("mathcolor",e.rightColor),n.push(o)}return eb(n)}});Qn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Im(t[0],e);if(!e.parser.leftrightDepth)throw new Ln("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Q1(t,[]);else{n=hh.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?zc("|","text"):zc(e.delim,e.mode),r=new Mn.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var ab=(e,t)=>{var n=en.wrapFragment(xa(e.body,t),t),r=e.label.slice(1),o=t.sizeMultiplier,u,y=0,d=Ea.isCharacterBox(e.body);if(r==="sout")u=en.makeSpan(["stretchy","sout"]),u.height=t.fontMetrics().defaultRuleThickness/o,y=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var a=ls({number:.6,unit:"pt"},t),c=ls({number:.35,unit:"ex"},t),v=t.havingBaseSizing();o=o/v.sizeMultiplier;var f=n.height+n.depth+a+c;n.style.paddingLeft=Wn(f/2+a);var g=Math.floor(1e3*f*o),m=zW(g),C=new gh([new n0("phase",m)],{width:"400em",height:Wn(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});u=en.makeSvgSpan(["hide-tail"],[C],t),u.style.height=Wn(f),y=n.depth+a+c}else{/cancel/.test(r)?d||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var k=0,S=0,O=0;/box/.test(r)?(O=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),k=t.fontMetrics().fboxsep+(r==="colorbox"?0:O),S=k):r==="angl"?(O=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),k=4*O,S=Math.max(0,.25-n.depth)):(k=d?.2:0,S=k),u=mh.encloseSpan(n,r,k,S,t),/fbox|boxed|fcolorbox/.test(r)?(u.style.borderStyle="solid",u.style.borderWidth=Wn(O)):r==="angl"&&O!==.049&&(u.style.borderTopWidth=Wn(O),u.style.borderRightWidth=Wn(O)),y=n.depth+S,e.backgroundColor&&(u.style.backgroundColor=e.backgroundColor,e.borderColor&&(u.style.borderColor=e.borderColor))}var N;if(e.backgroundColor)N=en.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:n,shift:0}]},t);else{var U=/cancel|phase/.test(r)?["svg-align"]:[];N=en.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:u,shift:y,wrapperClasses:U}]},t)}return/cancel/.test(r)&&(N.height=n.height,N.depth=n.depth),/cancel/.test(r)&&!d?en.makeSpan(["mord","cancel-lap"],[N],t):en.makeSpan(["mord"],[N],t)},ob=(e,t)=>{var n=0,r=new Mn.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[uo(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var o=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+o+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};Qn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,u=Ei(t[0],"color-token").color,y=t[1];return{type:"enclose",mode:r.mode,label:o,backgroundColor:u,body:y}},htmlBuilder:ab,mathmlBuilder:ob});Qn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,u=Ei(t[0],"color-token").color,y=Ei(t[1],"color-token").color,d=t[2];return{type:"enclose",mode:r.mode,label:o,backgroundColor:y,borderColor:u,body:d}},htmlBuilder:ab,mathmlBuilder:ob});Qn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Qn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"enclose",mode:n.mode,label:r,body:o}},htmlBuilder:ab,mathmlBuilder:ob});Qn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var ZE={};function Pf(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:u,mathmlBuilder:y}=e,d={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},a=0;a<n.length;++a)ZE[n[a]]=d;u&&(em[t]=u),y&&(tm[t]=y)}var qE={};function Ge(e,t){qE[e]=t}function A6(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Rm=e=>{var t=e.parser.settings;if(!t.displayMode)throw new Ln("{"+e.envName+"} can be used only in display mode.")};function sb(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function a0(e,t,n){var{hskipBeforeAndAfter:r,addJot:o,cols:u,arraystretch:y,colSeparationType:d,autoTag:a,singleRow:c,emptySingleRow:v,maxNumCols:f,leqno:g}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!y){var m=e.gullet.expandMacroAsText("\\arraystretch");if(m==null)y=1;else if(y=parseFloat(m),!y||y<0)throw new Ln("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var C=[],k=[C],S=[],O=[],N=a!=null?[]:void 0;function U(){a&&e.gullet.macros.set("\\@eqnsw","1",!0)}function W(){N&&(e.gullet.macros.get("\\df@tag")?(N.push(e.subparse([new mc("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!a&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(U(),O.push(A6(e));;){var q=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),q={type:"ordgroup",mode:e.mode,body:q},n&&(q={type:"styling",mode:e.mode,style:n,body:[q]}),C.push(q);var J=e.fetch().text;if(J==="&"){if(f&&C.length===f){if(c||d)throw new Ln("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(J==="\\end"){W(),C.length===1&&q.type==="styling"&&q.body[0].body.length===0&&(k.length>1||!v)&&k.pop(),O.length<k.length+1&&O.push([]);break}else if(J==="\\\\"){e.consume();var ne=void 0;e.gullet.future().text!==" "&&(ne=e.parseSizeGroup(!0)),S.push(ne?ne.value:null),W(),O.push(A6(e)),C=[],k.push(C),U()}else throw new Ln("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:y,body:k,cols:u,rowGaps:S,hskipBeforeAndAfter:r,hLinesBeforeRow:O,colSeparationType:d,tags:N,leqno:g}}function lb(e){return e.slice(0,1)==="d"?"display":"text"}var zf=function(t,n){var r,o,u=t.body.length,y=t.hLinesBeforeRow,d=0,a=new Array(u),c=[],v=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,g=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var m=n.havingStyle(Vr.SCRIPT).sizeMultiplier;g=.2778*(m/n.sizeMultiplier)}var C=t.colSeparationType==="CD"?ls({number:3,unit:"ex"},n):12*f,k=3*f,S=t.arraystretch*C,O=.7*S,N=.3*S,U=0;function W(Ut){for(var Vt=0;Vt<Ut.length;++Vt)Vt>0&&(U+=.25),c.push({pos:U,isDashed:Ut[Vt]})}for(W(y[0]),r=0;r<t.body.length;++r){var q=t.body[r],J=O,ne=N;d<q.length&&(d=q.length);var ve=new Array(q.length);for(o=0;o<q.length;++o){var Se=xa(q[o],n);ne<Se.depth&&(ne=Se.depth),J<Se.height&&(J=Se.height),ve[o]=Se}var Fe=t.rowGaps[r],Ue=0;Fe&&(Ue=ls(Fe,n),Ue>0&&(Ue+=N,ne<Ue&&(ne=Ue),Ue=0)),t.addJot&&(ne+=k),ve.height=J,ve.depth=ne,U+=J,ve.pos=U,U+=ne+Ue,a[r]=ve,W(y[r+1])}var Ze=U/2+n.fontMetrics().axisHeight,mt=t.cols||[],ct=[],ge,ye,Re=[];if(t.tags&&t.tags.some(Ut=>Ut))for(r=0;r<u;++r){var ft=a[r],Me=ft.pos-Ze,ce=t.tags[r],le=void 0;ce===!0?le=en.makeSpan(["eqn-num"],[],n):ce===!1?le=en.makeSpan([],[],n):le=en.makeSpan([],fl(ce,n,!0),n),le.depth=ft.depth,le.height=ft.height,Re.push({type:"elem",elem:le,shift:Me})}for(o=0,ye=0;o<d||ye<mt.length;++o,++ye){for(var ae=mt[ye]||{},V=!0;ae.type==="separator";){if(V||(ge=en.makeSpan(["arraycolsep"],[]),ge.style.width=Wn(n.fontMetrics().doubleRuleSep),ct.push(ge)),ae.separator==="|"||ae.separator===":"){var me=ae.separator==="|"?"solid":"dashed",Ae=en.makeSpan(["vertical-separator"],[],n);Ae.style.height=Wn(U),Ae.style.borderRightWidth=Wn(v),Ae.style.borderRightStyle=me,Ae.style.margin="0 "+Wn(-v/2);var Ne=U-Ze;Ne&&(Ae.style.verticalAlign=Wn(-Ne)),ct.push(Ae)}else throw new Ln("Invalid separator type: "+ae.separator);ye++,ae=mt[ye]||{},V=!1}if(!(o>=d)){var ut=void 0;(o>0||t.hskipBeforeAndAfter)&&(ut=Ea.deflt(ae.pregap,g),ut!==0&&(ge=en.makeSpan(["arraycolsep"],[]),ge.style.width=Wn(ut),ct.push(ge)));var xt=[];for(r=0;r<u;++r){var et=a[r],Wt=et[o];if(Wt){var _t=et.pos-Ze;Wt.depth=et.depth,Wt.height=et.height,xt.push({type:"elem",elem:Wt,shift:_t})}}xt=en.makeVList({positionType:"individualShift",children:xt},n),xt=en.makeSpan(["col-align-"+(ae.align||"c")],[xt]),ct.push(xt),(o<d-1||t.hskipBeforeAndAfter)&&(ut=Ea.deflt(ae.postgap,g),ut!==0&&(ge=en.makeSpan(["arraycolsep"],[]),ge.style.width=Wn(ut),ct.push(ge)))}}if(a=en.makeSpan(["mtable"],ct),c.length>0){for(var Ft=en.makeLineSpan("hline",n,v),st=en.makeLineSpan("hdashline",n,v),At=[{type:"elem",elem:a,shift:0}];c.length>0;){var St=c.pop(),Kt=St.pos-Ze;St.isDashed?At.push({type:"elem",elem:st,shift:Kt}):At.push({type:"elem",elem:Ft,shift:Kt})}a=en.makeVList({positionType:"individualShift",children:At},n)}if(Re.length===0)return en.makeSpan(["mord"],[a],n);var zt=en.makeVList({positionType:"individualShift",children:Re},n);return zt=en.makeSpan(["tag"],[zt],n),en.makeFragment([a,zt])},KG={c:"center ",l:"left ",r:"right "},Hf=function(t,n){for(var r=[],o=new Mn.MathNode("mtd",[],["mtr-glue"]),u=new Mn.MathNode("mtd",[],["mml-eqn-num"]),y=0;y<t.body.length;y++){for(var d=t.body[y],a=[],c=0;c<d.length;c++)a.push(new Mn.MathNode("mtd",[uo(d[c],n)]));t.tags&&t.tags[y]&&(a.unshift(o),a.push(o),t.leqno?a.unshift(u):a.push(u)),r.push(new Mn.MathNode("mtr",a))}var v=new Mn.MathNode("mtable",r),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);v.setAttribute("rowspacing",Wn(f));var g="",m="";if(t.cols&&t.cols.length>0){var C=t.cols,k="",S=!1,O=0,N=C.length;C[0].type==="separator"&&(g+="top ",O=1),C[C.length-1].type==="separator"&&(g+="bottom ",N-=1);for(var U=O;U<N;U++)C[U].type==="align"?(m+=KG[C[U].align],S&&(k+="none "),S=!0):C[U].type==="separator"&&S&&(k+=C[U].separator==="|"?"solid ":"dashed ",S=!1);v.setAttribute("columnalign",m.trim()),/[sd]/.test(k)&&v.setAttribute("columnlines",k.trim())}if(t.colSeparationType==="align"){for(var W=t.cols||[],q="",J=1;J<W.length;J++)q+=J%2?"0em ":"1em ";v.setAttribute("columnspacing",q.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?v.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?v.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?v.setAttribute("columnspacing","0.5em"):v.setAttribute("columnspacing","1em");var ne="",ve=t.hLinesBeforeRow;g+=ve[0].length>0?"left ":"",g+=ve[ve.length-1].length>0?"right ":"";for(var Se=1;Se<ve.length-1;Se++)ne+=ve[Se].length===0?"none ":ve[Se][0]?"dashed ":"solid ";return/[sd]/.test(ne)&&v.setAttribute("rowlines",ne.trim()),g!==""&&(v=new Mn.MathNode("menclose",[v]),v.setAttribute("notation",g.trim())),t.arraystretch&&t.arraystretch<1&&(v=new Mn.MathNode("mstyle",[v]),v.setAttribute("scriptlevel","1")),v},QE=function(t,n){t.envName.indexOf("ed")===-1&&Rm(t);var r=[],o=t.envName.indexOf("at")>-1?"alignat":"align",u=t.envName==="split",y=a0(t.parser,{cols:r,addJot:!0,autoTag:u?void 0:sb(t.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:u?2:void 0,leqno:t.parser.settings.leqno},"display"),d,a=0,c={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var v="",f=0;f<n[0].body.length;f++){var g=Ei(n[0].body[f],"textord");v+=g.text}d=Number(v),a=d*2}var m=!a;y.body.forEach(function(O){for(var N=1;N<O.length;N+=2){var U=Ei(O[N],"styling"),W=Ei(U.body[0],"ordgroup");W.body.unshift(c)}if(m)a<O.length&&(a=O.length);else{var q=O.length/2;if(d<q)throw new Ln("Too many math in a row: "+("expected "+d+", but got "+q),O[0])}});for(var C=0;C<a;++C){var k="r",S=0;C%2===1?k="l":C>0&&m&&(S=1),r[C]={type:"align",align:k,pregap:S,postgap:0}}return y.colSeparationType=m?"align":"alignat",y};Pf({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=Mm(t[0]),r=n?[t[0]]:Ei(t[0],"ordgroup").body,o=r.map(function(y){var d=nb(y),a=d.text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new Ln("Unknown column alignment: "+a,y)}),u={cols:o,hskipBeforeAndAfter:!0,maxNumCols:o.length};return a0(e.parser,u,lb(e.envName))},htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var o=e.parser;if(o.consumeSpaces(),o.fetch().text==="["){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,"lcr".indexOf(n)===-1)throw new Ln("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),r.cols=[{type:"align",align:n}]}}var u=a0(e.parser,r,lb(e.envName)),y=Math.max(0,...u.body.map(d=>d.length));return u.cols=new Array(y).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[u],left:t[0],right:t[1],rightColor:void 0}:u},htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=a0(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=Mm(t[0]),r=n?[t[0]]:Ei(t[0],"ordgroup").body,o=r.map(function(y){var d=nb(y),a=d.text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new Ln("Unknown column alignment: "+a,y)});if(o.length>1)throw new Ln("{subarray} can contain only one column");var u={cols:o,hskipBeforeAndAfter:!1,arraystretch:.5};if(u=a0(e.parser,u,"script"),u.body.length>0&&u.body[0].length>1)throw new Ln("{subarray} can contain only one column");return u},htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=a0(e.parser,t,lb(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:QE,htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&Rm(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:sb(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return a0(e.parser,t,"display")},htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:QE,htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Rm(e);var t={autoTag:sb(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return a0(e.parser,t,"display")},htmlBuilder:zf,mathmlBuilder:Hf});Pf({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Rm(e),NG(e.parser)},htmlBuilder:zf,mathmlBuilder:Hf});Ge("\\nonumber","\\gdef\\@eqnsw{0}");Ge("\\notag","\\nonumber");Qn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new Ln(e.funcName+" valid only within array environment")}});var T6=ZE;Qn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];if(o.type!=="ordgroup")throw new Ln("Invalid environment name",o);for(var u="",y=0;y<o.body.length;++y)u+=Ei(o.body[y],"textord").text;if(r==="\\begin"){if(!T6.hasOwnProperty(u))throw new Ln("No such environment: "+u,o);var d=T6[u],{args:a,optArgs:c}=n.parseArguments("\\begin{"+u+"}",d),v={mode:n.mode,envName:u,parser:n},f=d.handler(v,a,c);n.expect("\\end",!1);var g=n.nextToken,m=Ei(n.parseFunction(),"environment");if(m.name!==u)throw new Ln("Mismatch: \\begin{"+u+"} matched by \\end{"+m.name+"}",g);return f}return{type:"environment",mode:n.mode,name:u,nameGroup:o}}});var JE=(e,t)=>{var n=e.font,r=t.withFont(n);return xa(e.body,r)},$E=(e,t)=>{var n=e.font,r=t.withFont(n);return uo(e.body,r)},k6={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Qn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=nm(t[0]),u=r;return u in k6&&(u=k6[u]),{type:"font",mode:n.mode,font:u.slice(1),body:o}},htmlBuilder:JE,mathmlBuilder:$E});Qn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],o=Ea.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Om(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:o}}});Qn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:o}=e,{mode:u}=n,y=n.parseExpression(!0,o),d="math"+r.slice(1);return{type:"font",mode:u,font:d,body:{type:"ordgroup",mode:n.mode,body:y}}},htmlBuilder:JE,mathmlBuilder:$E});var eA=(e,t)=>{var n=t;return e==="display"?n=n.id>=Vr.SCRIPT.id?n.text():Vr.DISPLAY:e==="text"&&n.size===Vr.DISPLAY.size?n=Vr.TEXT:e==="script"?n=Vr.SCRIPT:e==="scriptscript"&&(n=Vr.SCRIPTSCRIPT),n},ub=(e,t)=>{var n=eA(e.size,t.style),r=n.fracNum(),o=n.fracDen(),u;u=t.havingStyle(r);var y=xa(e.numer,u,t);if(e.continued){var d=8.5/t.fontMetrics().ptPerEm,a=3.5/t.fontMetrics().ptPerEm;y.height=y.height<d?d:y.height,y.depth=y.depth<a?a:y.depth}u=t.havingStyle(o);var c=xa(e.denom,u,t),v,f,g;e.hasBarLine?(e.barSize?(f=ls(e.barSize,t),v=en.makeLineSpan("frac-line",t,f)):v=en.makeLineSpan("frac-line",t),f=v.height,g=v.height):(v=null,f=0,g=t.fontMetrics().defaultRuleThickness);var m,C,k;n.size===Vr.DISPLAY.size||e.size==="display"?(m=t.fontMetrics().num1,f>0?C=3*g:C=7*g,k=t.fontMetrics().denom1):(f>0?(m=t.fontMetrics().num2,C=g):(m=t.fontMetrics().num3,C=3*g),k=t.fontMetrics().denom2);var S;if(v){var N=t.fontMetrics().axisHeight;m-y.depth-(N+.5*f)<C&&(m+=C-(m-y.depth-(N+.5*f))),N-.5*f-(c.height-k)<C&&(k+=C-(N-.5*f-(c.height-k)));var U=-(N-.5*f);S=en.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:k},{type:"elem",elem:v,shift:U},{type:"elem",elem:y,shift:-m}]},t)}else{var O=m-y.depth-(c.height-k);O<C&&(m+=.5*(C-O),k+=.5*(C-O)),S=en.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:k},{type:"elem",elem:y,shift:-m}]},t)}u=t.havingStyle(n),S.height*=u.sizeMultiplier/t.sizeMultiplier,S.depth*=u.sizeMultiplier/t.sizeMultiplier;var W;n.size===Vr.DISPLAY.size?W=t.fontMetrics().delim1:n.size===Vr.SCRIPTSCRIPT.size?W=t.havingStyle(Vr.SCRIPT).fontMetrics().delim2:W=t.fontMetrics().delim2;var q,J;return e.leftDelim==null?q=Q1(t,["mopen"]):q=hh.customSizedDelim(e.leftDelim,W,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?J=en.makeSpan([]):e.rightDelim==null?J=Q1(t,["mclose"]):J=hh.customSizedDelim(e.rightDelim,W,!0,t.havingStyle(n),e.mode,["mclose"]),en.makeSpan(["mord"].concat(u.sizingClasses(t)),[q,en.makeSpan(["mfrac"],[S]),J],t)},cb=(e,t)=>{var n=new Mn.MathNode("mfrac",[uo(e.numer,t),uo(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=ls(e.barSize,t);n.setAttribute("linethickness",Wn(r))}var o=eA(e.size,t.style);if(o.size!==t.style.size){n=new Mn.MathNode("mstyle",[n]);var u=o.size===Vr.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",u),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var y=[];if(e.leftDelim!=null){var d=new Mn.MathNode("mo",[new Mn.TextNode(e.leftDelim.replace("\\",""))]);d.setAttribute("fence","true"),y.push(d)}if(y.push(n),e.rightDelim!=null){var a=new Mn.MathNode("mo",[new Mn.TextNode(e.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),y.push(a)}return eb(y)}return n};Qn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],u=t[1],y,d=null,a=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":y=!0;break;case"\\\\atopfrac":y=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":y=!1,d="(",a=")";break;case"\\\\bracefrac":y=!1,d="\\{",a="\\}";break;case"\\\\brackfrac":y=!1,d="[",a="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:u,hasBarLine:y,leftDelim:d,rightDelim:a,size:c,barSize:null}},htmlBuilder:ub,mathmlBuilder:cb});Qn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],u=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:u,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Qn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,o;switch(n){case"\\over":o="\\frac";break;case"\\choose":o="\\binom";break;case"\\atop":o="\\\\atopfrac";break;case"\\brace":o="\\\\bracefrac";break;case"\\brack":o="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:o,token:r}}});var D6=["display","text","script","scriptscript"],_6=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Qn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],o=t[5],u=nm(t[0]),y=u.type==="atom"&&u.family==="open"?_6(u.text):null,d=nm(t[1]),a=d.type==="atom"&&d.family==="close"?_6(d.text):null,c=Ei(t[2],"size"),v,f=null;c.isBlank?v=!0:(f=c.value,v=f.number>0);var g="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var C=Ei(m.body[0],"textord");g=D6[Number(C.text)]}}else m=Ei(m,"textord"),g=D6[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:v,barSize:f,leftDelim:y,rightDelim:a,size:g}},htmlBuilder:ub,mathmlBuilder:cb});Qn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:o}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ei(t[0],"size").value,token:o}}});Qn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],u=EW(Ei(t[1],"infix").size),y=t[2],d=u.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:y,continued:!1,hasBarLine:d,barSize:u,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ub,mathmlBuilder:cb});var tA=(e,t)=>{var n=t.style,r,o;e.type==="supsub"?(r=e.sup?xa(e.sup,t.havingStyle(n.sup()),t):xa(e.sub,t.havingStyle(n.sub()),t),o=Ei(e.base,"horizBrace")):o=Ei(e,"horizBrace");var u=xa(o.base,t.havingBaseStyle(Vr.DISPLAY)),y=mh.svgSpan(o,t),d;if(o.isOver?(d=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.1},{type:"elem",elem:y}]},t),d.children[0].children[0].children[1].classes.push("svg-align")):(d=en.makeVList({positionType:"bottom",positionData:u.depth+.1+y.height,children:[{type:"elem",elem:y},{type:"kern",size:.1},{type:"elem",elem:u}]},t),d.children[0].children[0].children[0].classes.push("svg-align")),r){var a=en.makeSpan(["mord",o.isOver?"mover":"munder"],[d],t);o.isOver?d=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:r}]},t):d=en.makeVList({positionType:"bottom",positionData:a.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:a}]},t)}return en.makeSpan(["mord",o.isOver?"mover":"munder"],[d],t)},ZG=(e,t)=>{var n=mh.mathMLnode(e.label);return new Mn.MathNode(e.isOver?"mover":"munder",[uo(e.base,t),n])};Qn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:tA,mathmlBuilder:ZG});Qn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],o=Ei(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:Bs(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=fl(e.body,t,!1);return en.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=r0(e.body,t);return n instanceof fc||(n=new fc("mrow",[n])),n.setAttribute("href",e.href),n}});Qn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Ei(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var o=[],u=0;u<r.length;u++){var y=r[u];y==="~"&&(y="\\textasciitilde"),o.push({type:"textord",mode:"text",text:y})}var d={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:r,body:Bs(d)}}});Qn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:Bs(t[0])}},htmlBuilder(e,t){var n=fl(e.body,t,!1);return en.makeFragment(n)},mathmlBuilder(e,t){return new Mn.MathNode("mrow",Yu(e.body,t))}});Qn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:o}=e,u=Ei(t[0],"raw").string,y=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var d,a={};switch(r){case"\\htmlClass":a.class=u,d={command:"\\htmlClass",class:u};break;case"\\htmlId":a.id=u,d={command:"\\htmlId",id:u};break;case"\\htmlStyle":a.style=u,d={command:"\\htmlStyle",style:u};break;case"\\htmlData":{for(var c=u.split(","),v=0;v<c.length;v++){var f=c[v],g=f.indexOf("=");if(g<0)throw new Ln("\\htmlData key/value '"+f+"' missing equals sign");var m=f.slice(0,g),C=f.slice(g+1);a["data-"+m.trim()]=C}d={command:"\\htmlData",attributes:a};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(d)?{type:"html",mode:n.mode,attributes:a,body:Bs(y)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=fl(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var o=en.makeSpan(r,n,t);for(var u in e.attributes)u!=="class"&&e.attributes.hasOwnProperty(u)&&o.setAttribute(u,e.attributes[u]);return o},mathmlBuilder:(e,t)=>r0(e.body,t)});Qn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Bs(t[0]),mathml:Bs(t[1])}},htmlBuilder:(e,t)=>{var n=fl(e.html,t,!1);return en.makeFragment(n)},mathmlBuilder:(e,t)=>r0(e.mathml,t)});var _2=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new Ln("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!bE(r))throw new Ln("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Qn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,o={number:0,unit:"em"},u={number:.9,unit:"em"},y={number:0,unit:"em"},d="";if(n[0])for(var a=Ei(n[0],"raw").string,c=a.split(","),v=0;v<c.length;v++){var f=c[v].split("=");if(f.length===2){var g=f[1].trim();switch(f[0].trim()){case"alt":d=g;break;case"width":o=_2(g);break;case"height":u=_2(g);break;case"totalheight":y=_2(g);break;default:throw new Ln("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var m=Ei(t[0],"url").url;return d===""&&(d=m,d=d.replace(/^.*[\\/]/,""),d=d.substring(0,d.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:d,width:o,height:u,totalheight:y,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=ls(e.height,t),r=0;e.totalheight.number>0&&(r=ls(e.totalheight,t)-n);var o=0;e.width.number>0&&(o=ls(e.width,t));var u={height:Wn(n+r)};o>0&&(u.width=Wn(o)),r>0&&(u.verticalAlign=Wn(-r));var y=new ZW(e.src,e.alt,u);return y.height=n,y.depth=r,y},mathmlBuilder:(e,t)=>{var n=new Mn.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=ls(e.height,t),o=0;if(e.totalheight.number>0&&(o=ls(e.totalheight,t)-r,n.setAttribute("valign",Wn(-o))),n.setAttribute("height",Wn(r+o)),e.width.number>0){var u=ls(e.width,t);n.setAttribute("width",Wn(u))}return n.setAttribute("src",e.src),n}});Qn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=Ei(t[0],"size");if(n.settings.strict){var u=r[1]==="m",y=o.value.unit==="mu";u?(y||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+o.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):y&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(e,t){return en.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=ls(e.dimension,t);return new Mn.SpaceNode(n)}});Qn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:o}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=en.makeSpan([],[xa(e.body,t)]),n=en.makeSpan(["inner"],[n],t)):n=en.makeSpan(["inner"],[xa(e.body,t)]);var r=en.makeSpan(["fix"],[]),o=en.makeSpan([e.alignment],[n,r],t),u=en.makeSpan(["strut"]);return u.style.height=Wn(o.height+o.depth),o.depth&&(u.style.verticalAlign=Wn(-o.depth)),o.children.unshift(u),o=en.makeSpan(["thinbox"],[o],t),en.makeSpan(["mord","vbox"],[o],t)},mathmlBuilder:(e,t)=>{var n=new Mn.MathNode("mpadded",[uo(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Qn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,o=r.mode;r.switchMode("math");var u=n==="\\("?"\\)":"$",y=r.parseExpression(!1,u);return r.expect(u),r.switchMode(o),{type:"styling",mode:r.mode,style:"text",body:y}}});Qn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new Ln("Mismatched "+e.funcName)}});var M6=(e,t)=>{switch(t.style.size){case Vr.DISPLAY.size:return e.display;case Vr.TEXT.size:return e.text;case Vr.SCRIPT.size:return e.script;case Vr.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Qn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Bs(t[0]),text:Bs(t[1]),script:Bs(t[2]),scriptscript:Bs(t[3])}},htmlBuilder:(e,t)=>{var n=M6(e,t),r=fl(n,t,!1);return en.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=M6(e,t);return r0(n,t)}});var nA=(e,t,n,r,o,u,y)=>{e=en.makeSpan([],[e]);var d=n&&Ea.isCharacterBox(n),a,c;if(t){var v=xa(t,r.havingStyle(o.sup()),r);c={elem:v,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-v.depth)}}if(n){var f=xa(n,r.havingStyle(o.sub()),r);a={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var g;if(c&&a){var m=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+y;g=en.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Wn(-u)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:Wn(u)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var C=e.height-y;g=en.makeVList({positionType:"top",positionData:C,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Wn(-u)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},r)}else if(c){var k=e.depth+y;g=en.makeVList({positionType:"bottom",positionData:k,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:Wn(u)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var S=[g];if(a&&u!==0&&!d){var O=en.makeSpan(["mspace"],[],r);O.style.marginRight=Wn(u),S.unshift(O)}return en.makeSpan(["mop","op-limits"],S,r)},rA=["\\smallint"],Yd=(e,t)=>{var n,r,o=!1,u;e.type==="supsub"?(n=e.sup,r=e.sub,u=Ei(e.base,"op"),o=!0):u=Ei(e,"op");var y=t.style,d=!1;y.size===Vr.DISPLAY.size&&u.symbol&&!rA.includes(u.name)&&(d=!0);var a;if(u.symbol){var c=d?"Size2-Regular":"Size1-Regular",v="";if((u.name==="\\oiint"||u.name==="\\oiiint")&&(v=u.name.slice(1),u.name=v==="oiint"?"\\iint":"\\iiint"),a=en.makeSymbol(u.name,c,"math",t,["mop","op-symbol",d?"large-op":"small-op"]),v.length>0){var f=a.italic,g=en.staticSvg(v+"Size"+(d?"2":"1"),t);a=en.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:g,shift:d?.08:0}]},t),u.name="\\"+v,a.classes.unshift("mop"),a.italic=f}}else if(u.body){var m=fl(u.body,t,!0);m.length===1&&m[0]instanceof Pc?(a=m[0],a.classes[0]="mop"):a=en.makeSpan(["mop"],m,t)}else{for(var C=[],k=1;k<u.name.length;k++)C.push(en.mathsym(u.name[k],u.mode,t));a=en.makeSpan(["mop"],C,t)}var S=0,O=0;return(a instanceof Pc||u.name==="\\oiint"||u.name==="\\oiiint")&&!u.suppressBaseShift&&(S=(a.height-a.depth)/2-t.fontMetrics().axisHeight,O=a.italic),o?nA(a,n,r,t,y,O,S):(S&&(a.style.position="relative",a.style.top=Wn(S)),a)},fg=(e,t)=>{var n;if(e.symbol)n=new fc("mo",[zc(e.name,e.mode)]),rA.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new fc("mo",Yu(e.body,t));else{n=new fc("mi",[new Ff(e.name.slice(1))]);var r=new fc("mo",[zc("","text")]);e.parentIsSupSub?n=new fc("mrow",[n,r]):n=OE([n,r])}return n},qG={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Qn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=r;return o.length===1&&(o=qG[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:Yd,mathmlBuilder:fg});Qn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Bs(r)}},htmlBuilder:Yd,mathmlBuilder:fg});var QG={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Qn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yd,mathmlBuilder:fg});Qn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Yd,mathmlBuilder:fg});Qn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=QG[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Yd,mathmlBuilder:fg});var iA=(e,t)=>{var n,r,o=!1,u;e.type==="supsub"?(n=e.sup,r=e.sub,u=Ei(e.base,"operatorname"),o=!0):u=Ei(e,"operatorname");var y;if(u.body.length>0){for(var d=u.body.map(f=>{var g=f.text;return typeof g=="string"?{type:"textord",mode:f.mode,text:g}:f}),a=fl(d,t.withFont("mathrm"),!0),c=0;c<a.length;c++){var v=a[c];v instanceof Pc&&(v.text=v.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}y=en.makeSpan(["mop"],a,t)}else y=en.makeSpan(["mop"],[],t);return o?nA(y,n,r,t,t.style,0,0):y},JG=(e,t)=>{for(var n=Yu(e.body,t.withFont("mathrm")),r=!0,o=0;o<n.length;o++){var u=n[o];if(!(u instanceof Mn.SpaceNode))if(u instanceof Mn.MathNode)switch(u.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var y=u.children[0];u.children.length===1&&y instanceof Mn.TextNode?y.text=y.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var d=n.map(v=>v.toText()).join("");n=[new Mn.TextNode(d)]}var a=new Mn.MathNode("mi",n);a.setAttribute("mathvariant","normal");var c=new Mn.MathNode("mo",[zc("","text")]);return e.parentIsSupSub?new Mn.MathNode("mrow",[a,c]):Mn.newDocumentFragment([a,c])};Qn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"operatorname",mode:n.mode,body:Bs(o),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:iA,mathmlBuilder:JG});Ge("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");j0({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?en.makeFragment(fl(e.body,t,!1)):en.makeSpan(["mord"],fl(e.body,t,!0),t)},mathmlBuilder(e,t){return r0(e.body,t,!0)}});Qn({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=xa(e.body,t.havingCrampedStyle()),r=en.makeLineSpan("overline-line",t),o=t.fontMetrics().defaultRuleThickness,u=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:r},{type:"kern",size:o}]},t);return en.makeSpan(["mord","overline"],[u],t)},mathmlBuilder(e,t){var n=new Mn.MathNode("mo",[new Mn.TextNode("")]);n.setAttribute("stretchy","true");var r=new Mn.MathNode("mover",[uo(e.body,t),n]);return r.setAttribute("accent","true"),r}});Qn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:Bs(r)}},htmlBuilder:(e,t)=>{var n=fl(e.body,t.withPhantom(),!1);return en.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Yu(e.body,t);return new Mn.MathNode("mphantom",n)}});Qn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=en.makeSpan([],[xa(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),en.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Yu(Bs(e.body),t),r=new Mn.MathNode("mphantom",n),o=new Mn.MathNode("mpadded",[r]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}});Qn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=en.makeSpan(["inner"],[xa(e.body,t.withPhantom())]),r=en.makeSpan(["fix"],[]);return en.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=Yu(Bs(e.body),t),r=new Mn.MathNode("mphantom",n),o=new Mn.MathNode("mpadded",[r]);return o.setAttribute("width","0px"),o}});Qn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Ei(t[0],"size").value,o=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:o}},htmlBuilder(e,t){var n=xa(e.body,t),r=ls(e.dy,t);return en.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new Mn.MathNode("mpadded",[uo(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});Qn({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Qn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,o=n[0],u=Ei(t[0],"size"),y=Ei(t[1],"size");return{type:"rule",mode:r.mode,shift:o&&Ei(o,"size").value,width:u.value,height:y.value}},htmlBuilder(e,t){var n=en.makeSpan(["mord","rule"],[],t),r=ls(e.width,t),o=ls(e.height,t),u=e.shift?ls(e.shift,t):0;return n.style.borderRightWidth=Wn(r),n.style.borderTopWidth=Wn(o),n.style.bottom=Wn(u),n.width=r,n.height=o+u,n.depth=-u,n.maxFontSize=o*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=ls(e.width,t),r=ls(e.height,t),o=e.shift?ls(e.shift,t):0,u=t.color&&t.getColor()||"black",y=new Mn.MathNode("mspace");y.setAttribute("mathbackground",u),y.setAttribute("width",Wn(n)),y.setAttribute("height",Wn(r));var d=new Mn.MathNode("mpadded",[y]);return o>=0?d.setAttribute("height",Wn(o)):(d.setAttribute("height",Wn(o)),d.setAttribute("depth",Wn(-o))),d.setAttribute("voffset",Wn(o)),d}});function aA(e,t,n){for(var r=fl(e,t,!1),o=t.sizeMultiplier/n.sizeMultiplier,u=0;u<r.length;u++){var y=r[u].classes.indexOf("sizing");y<0?Array.prototype.push.apply(r[u].classes,t.sizingClasses(n)):r[u].classes[y+1]==="reset-size"+t.size&&(r[u].classes[y+1]="reset-size"+n.size),r[u].height*=o,r[u].depth*=o}return en.makeFragment(r)}var O6=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],$G=(e,t)=>{var n=t.havingSize(e.size);return aA(e.body,n,t)};Qn({type:"sizing",names:O6,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:o}=e,u=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:O6.indexOf(r)+1,body:u}},htmlBuilder:$G,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=Yu(e.body,n),o=new Mn.MathNode("mstyle",r);return o.setAttribute("mathsize",Wn(n.sizeMultiplier)),o}});Qn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,o=!1,u=!1,y=n[0]&&Ei(n[0],"ordgroup");if(y)for(var d="",a=0;a<y.body.length;++a){var c=y.body[a];if(d=c.text,d==="t")o=!0;else if(d==="b")u=!0;else{o=!1,u=!1;break}}else o=!0,u=!0;var v=t[0];return{type:"smash",mode:r.mode,body:v,smashHeight:o,smashDepth:u}},htmlBuilder:(e,t)=>{var n=en.makeSpan([],[xa(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var u=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return en.makeSpan(["mord"],[u],t)},mathmlBuilder:(e,t)=>{var n=new Mn.MathNode("mpadded",[uo(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});Qn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,o=n[0],u=t[0];return{type:"sqrt",mode:r.mode,body:u,index:o}},htmlBuilder(e,t){var n=xa(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=en.wrapFragment(n,t);var r=t.fontMetrics(),o=r.defaultRuleThickness,u=o;t.style.id<Vr.TEXT.id&&(u=t.fontMetrics().xHeight);var y=o+u/4,d=n.height+n.depth+y+o,{span:a,ruleWidth:c,advanceWidth:v}=hh.sqrtImage(d,t),f=a.height-c;f>n.height+n.depth+y&&(y=(y+f-n.height-n.depth)/2);var g=a.height-n.height-y-c;n.style.paddingLeft=Wn(v);var m=en.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:a},{type:"kern",size:c}]},t);if(e.index){var C=t.havingStyle(Vr.SCRIPTSCRIPT),k=xa(e.index,C,t),S=.6*(m.height-m.depth),O=en.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:k}]},t),N=en.makeSpan(["root"],[O]);return en.makeSpan(["mord","sqrt"],[N,m],t)}else return en.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new Mn.MathNode("mroot",[uo(n,t),uo(r,t)]):new Mn.MathNode("msqrt",[uo(n,t)])}});var I6={display:Vr.DISPLAY,text:Vr.TEXT,script:Vr.SCRIPT,scriptscript:Vr.SCRIPTSCRIPT};Qn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:o}=e,u=o.parseExpression(!0,n),y=r.slice(1,r.length-5);return{type:"styling",mode:o.mode,style:y,body:u}},htmlBuilder(e,t){var n=I6[e.style],r=t.havingStyle(n).withFont("");return aA(e.body,r,t)},mathmlBuilder(e,t){var n=I6[e.style],r=t.havingStyle(n),o=Yu(e.body,r),u=new Mn.MathNode("mstyle",o),y={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},d=y[e.style];return u.setAttribute("scriptlevel",d[0]),u.setAttribute("displaystyle",d[1]),u}});var eY=function(t,n){var r=t.base;if(r)if(r.type==="op"){var o=r.limits&&(n.style.size===Vr.DISPLAY.size||r.alwaysHandleSupSub);return o?Yd:null}else if(r.type==="operatorname"){var u=r.alwaysHandleSupSub&&(n.style.size===Vr.DISPLAY.size||r.limits);return u?iA:null}else{if(r.type==="accent")return Ea.isCharacterBox(r.base)?rb:null;if(r.type==="horizBrace"){var y=!t.sub;return y===r.isOver?tA:null}else return null}else return null};j0({type:"supsub",htmlBuilder(e,t){var n=eY(e,t);if(n)return n(e,t);var{base:r,sup:o,sub:u}=e,y=xa(r,t),d,a,c=t.fontMetrics(),v=0,f=0,g=r&&Ea.isCharacterBox(r);if(o){var m=t.havingStyle(t.style.sup());d=xa(o,m,t),g||(v=y.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(u){var C=t.havingStyle(t.style.sub());a=xa(u,C,t),g||(f=y.depth+C.fontMetrics().subDrop*C.sizeMultiplier/t.sizeMultiplier)}var k;t.style===Vr.DISPLAY?k=c.sup1:t.style.cramped?k=c.sup3:k=c.sup2;var S=t.sizeMultiplier,O=Wn(.5/c.ptPerEm/S),N=null;if(a){var U=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(y instanceof Pc||U)&&(N=Wn(-y.italic))}var W;if(d&&a){v=Math.max(v,k,d.depth+.25*c.xHeight),f=Math.max(f,c.sub2);var q=c.defaultRuleThickness,J=4*q;if(v-d.depth-(a.height-f)<J){f=J-(v-d.depth)+a.height;var ne=.8*c.xHeight-(v-d.depth);ne>0&&(v+=ne,f-=ne)}var ve=[{type:"elem",elem:a,shift:f,marginRight:O,marginLeft:N},{type:"elem",elem:d,shift:-v,marginRight:O}];W=en.makeVList({positionType:"individualShift",children:ve},t)}else if(a){f=Math.max(f,c.sub1,a.height-.8*c.xHeight);var Se=[{type:"elem",elem:a,marginLeft:N,marginRight:O}];W=en.makeVList({positionType:"shift",positionData:f,children:Se},t)}else if(d)v=Math.max(v,k,d.depth+.25*c.xHeight),W=en.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:d,marginRight:O}]},t);else throw new Error("supsub must have either sup or sub.");var Fe=_y(y,"right")||"mord";return en.makeSpan([Fe],[y,en.makeSpan(["msupsub"],[W])],t)},mathmlBuilder(e,t){var n=!1,r,o;e.base&&e.base.type==="horizBrace"&&(o=!!e.sup,o===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var u=[uo(e.base,t)];e.sub&&u.push(uo(e.sub,t)),e.sup&&u.push(uo(e.sup,t));var y;if(n)y=r?"mover":"munder";else if(e.sub)if(e.sup){var c=e.base;c&&c.type==="op"&&c.limits&&t.style===Vr.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(t.style===Vr.DISPLAY||c.limits)?y="munderover":y="msubsup"}else{var a=e.base;a&&a.type==="op"&&a.limits&&(t.style===Vr.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||t.style===Vr.DISPLAY)?y="munder":y="msub"}else{var d=e.base;d&&d.type==="op"&&d.limits&&(t.style===Vr.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||t.style===Vr.DISPLAY)?y="mover":y="msup"}return new Mn.MathNode(y,u)}});j0({type:"atom",htmlBuilder(e,t){return en.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new Mn.MathNode("mo",[zc(e.text,e.mode)]);if(e.family==="bin"){var r=tb(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var oA={mi:"italic",mn:"normal",mtext:"normal"};j0({type:"mathord",htmlBuilder(e,t){return en.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new Mn.MathNode("mi",[zc(e.text,e.mode,t)]),r=tb(e,t)||"italic";return r!==oA[n.type]&&n.setAttribute("mathvariant",r),n}});j0({type:"textord",htmlBuilder(e,t){return en.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=zc(e.text,e.mode,t),r=tb(e,t)||"normal",o;return e.mode==="text"?o=new Mn.MathNode("mtext",[n]):/[0-9]/.test(e.text)?o=new Mn.MathNode("mn",[n]):e.text==="\\prime"?o=new Mn.MathNode("mo",[n]):o=new Mn.MathNode("mi",[n]),r!==oA[o.type]&&o.setAttribute("mathvariant",r),o}});var M2={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},O2={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};j0({type:"spacing",htmlBuilder(e,t){if(O2.hasOwnProperty(e.text)){var n=O2[e.text].className||"";if(e.mode==="text"){var r=en.makeOrd(e,t,"textord");return r.classes.push(n),r}else return en.makeSpan(["mspace",n],[en.mathsym(e.text,e.mode,t)],t)}else{if(M2.hasOwnProperty(e.text))return en.makeSpan(["mspace",M2[e.text]],[],t);throw new Ln('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(O2.hasOwnProperty(e.text))n=new Mn.MathNode("mtext",[new Mn.TextNode("")]);else{if(M2.hasOwnProperty(e.text))return new Mn.MathNode("mspace");throw new Ln('Unknown type of space "'+e.text+'"')}return n}});var R6=()=>{var e=new Mn.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};j0({type:"tag",mathmlBuilder(e,t){var n=new Mn.MathNode("mtable",[new Mn.MathNode("mtr",[R6(),new Mn.MathNode("mtd",[r0(e.body,t)]),R6(),new Mn.MathNode("mtd",[r0(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var N6={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},L6={"\\textbf":"textbf","\\textmd":"textmd"},tY={"\\textit":"textit","\\textup":"textup"},B6=(e,t)=>{var n=e.font;if(n){if(N6[n])return t.withTextFontFamily(N6[n]);if(L6[n])return t.withTextFontWeight(L6[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(tY[n])};Qn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"text",mode:n.mode,body:Bs(o),font:r}},htmlBuilder(e,t){var n=B6(e,t),r=fl(e.body,n,!0);return en.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=B6(e,t);return r0(e.body,n)}});Qn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=xa(e.body,t),r=en.makeLineSpan("underline-line",t),o=t.fontMetrics().defaultRuleThickness,u=en.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:r},{type:"kern",size:3*o},{type:"elem",elem:n}]},t);return en.makeSpan(["mord","underline"],[u],t)},mathmlBuilder(e,t){var n=new Mn.MathNode("mo",[new Mn.TextNode("")]);n.setAttribute("stretchy","true");var r=new Mn.MathNode("munder",[uo(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});Qn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=xa(e.body,t),r=t.fontMetrics().axisHeight,o=.5*(n.height-r-(n.depth+r));return en.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new Mn.MathNode("mpadded",[uo(e.body,t)],["vcenter"])}});Qn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new Ln("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=F6(e),r=[],o=t.havingStyle(t.style.text()),u=0;u<n.length;u++){var y=n[u];y==="~"&&(y="\\textasciitilde"),r.push(en.makeSymbol(y,"Typewriter-Regular",e.mode,o,["mord","texttt"]))}return en.makeSpan(["mord","text"].concat(o.sizingClasses(t)),en.tryCombineChars(r),o)},mathmlBuilder(e,t){var n=new Mn.TextNode(F6(e)),r=new Mn.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var F6=e=>e.body.replace(/ /g,e.star?"":""),Xh=_E,sA=`[ \r
	]`,nY="\\\\[a-zA-Z@]+",rY="\\\\[^\uD800-\uDFFF]",iY="("+nY+")"+sA+"*",aY=`\\\\(
|[ \r	]+
?)[ \r	]*`,Ry="[-]",oY=new RegExp(Ry+"+$"),sY="("+sA+"+)|"+(aY+"|")+"([!-\\[\\]---]"+(Ry+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Ry+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+iY)+("|"+rY+")");class P6{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(sY,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new mc("EOF",new ju(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new Ln("Unexpected character: '"+t[n]+"'",new mc(t[n],new ju(this,n,n+1)));var o=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[o]===14){var u=t.indexOf(`
`,this.tokenRegex.lastIndex);return u===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=u+1,this.lex()}return new mc(o,new ju(this,n,this.tokenRegex.lastIndex))}}class lY{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ln("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var o=0;o<this.undefStack.length;o++)delete this.undefStack[o][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var u=this.undefStack[this.undefStack.length-1];u&&!u.hasOwnProperty(t)&&(u[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var uY=qE;Ge("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});Ge("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});Ge("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});Ge("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});Ge("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});Ge("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Ge("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var z6={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Ge("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Ln("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=z6[t.text],r==null||r>=n)throw new Ln("Invalid base-"+n+" digit "+t.text);for(var o;(o=z6[e.future().text])!=null&&o<n;)r*=n,r+=o,e.popToken()}return"\\@char{"+r+"}"});var fb=(e,t,n,r)=>{var o=e.consumeArg().tokens;if(o.length!==1)throw new Ln("\\newcommand's first argument must be a macro name");var u=o[0].text,y=e.isDefined(u);if(y&&!t)throw new Ln("\\newcommand{"+u+"} attempting to redefine "+(u+"; use \\renewcommand"));if(!y&&!n)throw new Ln("\\renewcommand{"+u+"} when command "+u+" does not yet exist; use \\newcommand");var d=0;if(o=e.consumeArg().tokens,o.length===1&&o[0].text==="["){for(var a="",c=e.expandNextToken();c.text!=="]"&&c.text!=="EOF";)a+=c.text,c=e.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new Ln("Invalid number of arguments: "+a);d=parseInt(a),o=e.consumeArg().tokens}return y&&r||e.macros.set(u,{tokens:o,numArgs:d}),""};Ge("\\newcommand",e=>fb(e,!1,!0,!1));Ge("\\renewcommand",e=>fb(e,!0,!1,!1));Ge("\\providecommand",e=>fb(e,!0,!0,!0));Ge("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});Ge("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});Ge("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Xh[n],bo.math[n],bo.text[n]),""});Ge("\\bgroup","{");Ge("\\egroup","}");Ge("~","\\nobreakspace");Ge("\\lq","`");Ge("\\rq","'");Ge("\\aa","\\r a");Ge("\\AA","\\r A");Ge("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");Ge("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Ge("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");Ge("","\\mathscr{B}");Ge("","\\mathscr{E}");Ge("","\\mathscr{F}");Ge("","\\mathscr{H}");Ge("","\\mathscr{I}");Ge("","\\mathscr{L}");Ge("","\\mathscr{M}");Ge("","\\mathscr{R}");Ge("","\\mathfrak{C}");Ge("","\\mathfrak{H}");Ge("","\\mathfrak{Z}");Ge("\\Bbbk","\\Bbb{k}");Ge("","\\cdotp");Ge("\\llap","\\mathllap{\\textrm{#1}}");Ge("\\rlap","\\mathrlap{\\textrm{#1}}");Ge("\\clap","\\mathclap{\\textrm{#1}}");Ge("\\mathstrut","\\vphantom{(}");Ge("\\underbar","\\underline{\\text{#1}}");Ge("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Ge("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");Ge("\\ne","\\neq");Ge("","\\neq");Ge("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");Ge("","\\notin");Ge("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");Ge("","\\perp");Ge("","\\mathclose{!\\mkern-0.8mu!}");Ge("","\\notni");Ge("","\\ulcorner");Ge("","\\urcorner");Ge("","\\llcorner");Ge("","\\lrcorner");Ge("","\\copyright");Ge("","\\textregistered");Ge("","\\textregistered");Ge("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Ge("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Ge("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Ge("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Ge("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");Ge("","\\vdots");Ge("\\varGamma","\\mathit{\\Gamma}");Ge("\\varDelta","\\mathit{\\Delta}");Ge("\\varTheta","\\mathit{\\Theta}");Ge("\\varLambda","\\mathit{\\Lambda}");Ge("\\varXi","\\mathit{\\Xi}");Ge("\\varPi","\\mathit{\\Pi}");Ge("\\varSigma","\\mathit{\\Sigma}");Ge("\\varUpsilon","\\mathit{\\Upsilon}");Ge("\\varPhi","\\mathit{\\Phi}");Ge("\\varPsi","\\mathit{\\Psi}");Ge("\\varOmega","\\mathit{\\Omega}");Ge("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Ge("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Ge("\\boxed","\\fbox{$\\displaystyle{#1}$}");Ge("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Ge("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Ge("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");Ge("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");Ge("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var H6={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Ge("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in H6?t=H6[n]:(n.slice(0,4)==="\\not"||n in bo.math&&["bin","rel"].includes(bo.math[n].group))&&(t="\\dotsb"),t});var hb={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Ge("\\dotso",function(e){var t=e.future().text;return t in hb?"\\ldots\\,":"\\ldots"});Ge("\\dotsc",function(e){var t=e.future().text;return t in hb&&t!==","?"\\ldots\\,":"\\ldots"});Ge("\\cdots",function(e){var t=e.future().text;return t in hb?"\\@cdots\\,":"\\@cdots"});Ge("\\dotsb","\\cdots");Ge("\\dotsm","\\cdots");Ge("\\dotsi","\\!\\cdots");Ge("\\dotsx","\\ldots\\,");Ge("\\DOTSI","\\relax");Ge("\\DOTSB","\\relax");Ge("\\DOTSX","\\relax");Ge("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Ge("\\,","\\tmspace+{3mu}{.1667em}");Ge("\\thinspace","\\,");Ge("\\>","\\mskip{4mu}");Ge("\\:","\\tmspace+{4mu}{.2222em}");Ge("\\medspace","\\:");Ge("\\;","\\tmspace+{5mu}{.2777em}");Ge("\\thickspace","\\;");Ge("\\!","\\tmspace-{3mu}{.1667em}");Ge("\\negthinspace","\\!");Ge("\\negmedspace","\\tmspace-{4mu}{.2222em}");Ge("\\negthickspace","\\tmspace-{5mu}{.277em}");Ge("\\enspace","\\kern.5em ");Ge("\\enskip","\\hskip.5em\\relax");Ge("\\quad","\\hskip1em\\relax");Ge("\\qquad","\\hskip2em\\relax");Ge("\\tag","\\@ifstar\\tag@literal\\tag@paren");Ge("\\tag@paren","\\tag@literal{({#1})}");Ge("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new Ln("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Ge("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Ge("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Ge("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Ge("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Ge("\\newline","\\\\\\relax");Ge("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var lA=Wn(Bf["Main-Regular"][84][1]-.7*Bf["Main-Regular"][65][1]);Ge("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+lA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Ge("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+lA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Ge("\\hspace","\\@ifstar\\@hspacer\\@hspace");Ge("\\@hspace","\\hskip #1\\relax");Ge("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Ge("\\ordinarycolon",":");Ge("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Ge("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Ge("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Ge("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Ge("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Ge("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Ge("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Ge("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Ge("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Ge("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Ge("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Ge("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Ge("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Ge("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Ge("","\\dblcolon");Ge("","\\eqcolon");Ge("","\\coloneqq");Ge("","\\eqqcolon");Ge("","\\Coloneqq");Ge("\\ratio","\\vcentcolon");Ge("\\coloncolon","\\dblcolon");Ge("\\colonequals","\\coloneqq");Ge("\\coloncolonequals","\\Coloneqq");Ge("\\equalscolon","\\eqqcolon");Ge("\\equalscoloncolon","\\Eqqcolon");Ge("\\colonminus","\\coloneq");Ge("\\coloncolonminus","\\Coloneq");Ge("\\minuscolon","\\eqcolon");Ge("\\minuscoloncolon","\\Eqcolon");Ge("\\coloncolonapprox","\\Colonapprox");Ge("\\coloncolonsim","\\Colonsim");Ge("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ge("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ge("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ge("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ge("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");Ge("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Ge("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Ge("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Ge("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Ge("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Ge("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Ge("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Ge("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Ge("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");Ge("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");Ge("\\ngeqq","\\html@mathml{\\@ngeqq}{}");Ge("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");Ge("\\nleqq","\\html@mathml{\\@nleqq}{}");Ge("\\nleqslant","\\html@mathml{\\@nleqslant}{}");Ge("\\nshortmid","\\html@mathml{\\@nshortmid}{}");Ge("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");Ge("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");Ge("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");Ge("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");Ge("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");Ge("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");Ge("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");Ge("\\imath","\\html@mathml{\\@imath}{}");Ge("\\jmath","\\html@mathml{\\@jmath}{}");Ge("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ge("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");Ge("","\\llbracket");Ge("","\\rrbracket");Ge("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ge("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");Ge("","\\lBrace");Ge("","\\rBrace");Ge("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");Ge("","\\minuso");Ge("\\darr","\\downarrow");Ge("\\dArr","\\Downarrow");Ge("\\Darr","\\Downarrow");Ge("\\lang","\\langle");Ge("\\rang","\\rangle");Ge("\\uarr","\\uparrow");Ge("\\uArr","\\Uparrow");Ge("\\Uarr","\\Uparrow");Ge("\\N","\\mathbb{N}");Ge("\\R","\\mathbb{R}");Ge("\\Z","\\mathbb{Z}");Ge("\\alef","\\aleph");Ge("\\alefsym","\\aleph");Ge("\\Alpha","\\mathrm{A}");Ge("\\Beta","\\mathrm{B}");Ge("\\bull","\\bullet");Ge("\\Chi","\\mathrm{X}");Ge("\\clubs","\\clubsuit");Ge("\\cnums","\\mathbb{C}");Ge("\\Complex","\\mathbb{C}");Ge("\\Dagger","\\ddagger");Ge("\\diamonds","\\diamondsuit");Ge("\\empty","\\emptyset");Ge("\\Epsilon","\\mathrm{E}");Ge("\\Eta","\\mathrm{H}");Ge("\\exist","\\exists");Ge("\\harr","\\leftrightarrow");Ge("\\hArr","\\Leftrightarrow");Ge("\\Harr","\\Leftrightarrow");Ge("\\hearts","\\heartsuit");Ge("\\image","\\Im");Ge("\\infin","\\infty");Ge("\\Iota","\\mathrm{I}");Ge("\\isin","\\in");Ge("\\Kappa","\\mathrm{K}");Ge("\\larr","\\leftarrow");Ge("\\lArr","\\Leftarrow");Ge("\\Larr","\\Leftarrow");Ge("\\lrarr","\\leftrightarrow");Ge("\\lrArr","\\Leftrightarrow");Ge("\\Lrarr","\\Leftrightarrow");Ge("\\Mu","\\mathrm{M}");Ge("\\natnums","\\mathbb{N}");Ge("\\Nu","\\mathrm{N}");Ge("\\Omicron","\\mathrm{O}");Ge("\\plusmn","\\pm");Ge("\\rarr","\\rightarrow");Ge("\\rArr","\\Rightarrow");Ge("\\Rarr","\\Rightarrow");Ge("\\real","\\Re");Ge("\\reals","\\mathbb{R}");Ge("\\Reals","\\mathbb{R}");Ge("\\Rho","\\mathrm{P}");Ge("\\sdot","\\cdot");Ge("\\sect","\\S");Ge("\\spades","\\spadesuit");Ge("\\sub","\\subset");Ge("\\sube","\\subseteq");Ge("\\supe","\\supseteq");Ge("\\Tau","\\mathrm{T}");Ge("\\thetasym","\\vartheta");Ge("\\weierp","\\wp");Ge("\\Zeta","\\mathrm{Z}");Ge("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Ge("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Ge("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Ge("\\bra","\\mathinner{\\langle{#1}|}");Ge("\\ket","\\mathinner{|{#1}\\rangle}");Ge("\\braket","\\mathinner{\\langle{#1}\\rangle}");Ge("\\Bra","\\left\\langle#1\\right|");Ge("\\Ket","\\left|#1\\right\\rangle");var uA=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,o=t.consumeArg().tokens,u=t.consumeArg().tokens,y=t.macros.get("|"),d=t.macros.get("\\|");t.macros.beginGroup();var a=f=>g=>{e&&(g.macros.set("|",y),o.length&&g.macros.set("\\|",d));var m=f;if(!f&&o.length){var C=g.future();C.text==="|"&&(g.popToken(),m=!0)}return{tokens:m?o:r,numArgs:0}};t.macros.set("|",a(!1)),o.length&&t.macros.set("\\|",a(!0));var c=t.consumeArg().tokens,v=t.expandTokens([...u,...c,...n]);return t.macros.endGroup(),{tokens:v.reverse(),numArgs:0}};Ge("\\bra@ket",uA(!1));Ge("\\bra@set",uA(!0));Ge("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Ge("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Ge("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Ge("\\angln","{\\angl n}");Ge("\\blue","\\textcolor{##6495ed}{#1}");Ge("\\orange","\\textcolor{##ffa500}{#1}");Ge("\\pink","\\textcolor{##ff00af}{#1}");Ge("\\red","\\textcolor{##df0030}{#1}");Ge("\\green","\\textcolor{##28ae7b}{#1}");Ge("\\gray","\\textcolor{gray}{#1}");Ge("\\purple","\\textcolor{##9d38bd}{#1}");Ge("\\blueA","\\textcolor{##ccfaff}{#1}");Ge("\\blueB","\\textcolor{##80f6ff}{#1}");Ge("\\blueC","\\textcolor{##63d9ea}{#1}");Ge("\\blueD","\\textcolor{##11accd}{#1}");Ge("\\blueE","\\textcolor{##0c7f99}{#1}");Ge("\\tealA","\\textcolor{##94fff5}{#1}");Ge("\\tealB","\\textcolor{##26edd5}{#1}");Ge("\\tealC","\\textcolor{##01d1c1}{#1}");Ge("\\tealD","\\textcolor{##01a995}{#1}");Ge("\\tealE","\\textcolor{##208170}{#1}");Ge("\\greenA","\\textcolor{##b6ffb0}{#1}");Ge("\\greenB","\\textcolor{##8af281}{#1}");Ge("\\greenC","\\textcolor{##74cf70}{#1}");Ge("\\greenD","\\textcolor{##1fab54}{#1}");Ge("\\greenE","\\textcolor{##0d923f}{#1}");Ge("\\goldA","\\textcolor{##ffd0a9}{#1}");Ge("\\goldB","\\textcolor{##ffbb71}{#1}");Ge("\\goldC","\\textcolor{##ff9c39}{#1}");Ge("\\goldD","\\textcolor{##e07d10}{#1}");Ge("\\goldE","\\textcolor{##a75a05}{#1}");Ge("\\redA","\\textcolor{##fca9a9}{#1}");Ge("\\redB","\\textcolor{##ff8482}{#1}");Ge("\\redC","\\textcolor{##f9685d}{#1}");Ge("\\redD","\\textcolor{##e84d39}{#1}");Ge("\\redE","\\textcolor{##bc2612}{#1}");Ge("\\maroonA","\\textcolor{##ffbde0}{#1}");Ge("\\maroonB","\\textcolor{##ff92c6}{#1}");Ge("\\maroonC","\\textcolor{##ed5fa6}{#1}");Ge("\\maroonD","\\textcolor{##ca337c}{#1}");Ge("\\maroonE","\\textcolor{##9e034e}{#1}");Ge("\\purpleA","\\textcolor{##ddd7ff}{#1}");Ge("\\purpleB","\\textcolor{##c6b9fc}{#1}");Ge("\\purpleC","\\textcolor{##aa87ff}{#1}");Ge("\\purpleD","\\textcolor{##7854ab}{#1}");Ge("\\purpleE","\\textcolor{##543b78}{#1}");Ge("\\mintA","\\textcolor{##f5f9e8}{#1}");Ge("\\mintB","\\textcolor{##edf2df}{#1}");Ge("\\mintC","\\textcolor{##e0e5cc}{#1}");Ge("\\grayA","\\textcolor{##f6f7f7}{#1}");Ge("\\grayB","\\textcolor{##f0f1f2}{#1}");Ge("\\grayC","\\textcolor{##e3e5e6}{#1}");Ge("\\grayD","\\textcolor{##d6d8da}{#1}");Ge("\\grayE","\\textcolor{##babec2}{#1}");Ge("\\grayF","\\textcolor{##888d93}{#1}");Ge("\\grayG","\\textcolor{##626569}{#1}");Ge("\\grayH","\\textcolor{##3b3e40}{#1}");Ge("\\grayI","\\textcolor{##21242c}{#1}");Ge("\\kaBlue","\\textcolor{##314453}{#1}");Ge("\\kaGreen","\\textcolor{##71B307}{#1}");var cA={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class cY{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new lY(uY,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new P6(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,o;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:o,end:r}=this.consumeArg(["]"])}else({tokens:o,start:n,end:r}=this.consumeArg());return this.pushToken(new mc("EOF",r.loc)),this.pushTokens(o),new mc("",ju.range(n,r))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var o=this.future(),u,y=0,d=0;do{if(u=this.popToken(),n.push(u),u.text==="{")++y;else if(u.text==="}"){if(--y,y===-1)throw new Ln("Extra }",u)}else if(u.text==="EOF")throw new Ln("Unexpected end of input in a macro argument, expected '"+(t&&r?t[d]:"}")+"'",u);if(t&&r)if((y===0||y===1&&t[d]==="{")&&u.text===t[d]){if(++d,d===t.length){n.splice(-d,d);break}}else d=0}while(y!==0||r);return o.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:u}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new Ln("The length of delimiters doesn't match the number of args!");for(var r=n[0],o=0;o<r.length;o++){var u=this.popToken();if(r[o]!==u.text)throw new Ln("Use of the macro doesn't match its definition",u)}}for(var y=[],d=0;d<t;d++)y.push(this.consumeArg(n&&n[d+1]).tokens);return y}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Ln("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,o=n.noexpand?null:this._getExpansion(r);if(o==null||t&&o.unexpandable){if(t&&o==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ln("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var u=o.tokens,y=this.consumeArgs(o.numArgs,o.delimiters);if(o.numArgs){u=u.slice();for(var d=u.length-1;d>=0;--d){var a=u[d];if(a.text==="#"){if(d===0)throw new Ln("Incomplete placeholder at end of macro body",a);if(a=u[--d],a.text==="#")u.splice(d+1,1);else if(/^[1-9]$/.test(a.text))u.splice(d,2,...y[+a.text-1]);else throw new Ln("Not a valid argument number",a)}}}return this.pushTokens(u),u.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new mc(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var o=this.stack.pop();o.treatAsRelax&&(o.noexpand=!1,o.treatAsRelax=!1),n.push(o)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var o=typeof n=="function"?n(this):n;if(typeof o=="string"){var u=0;if(o.indexOf("#")!==-1)for(var y=o.replace(/##/g,"");y.indexOf("#"+(u+1))!==-1;)++u;for(var d=new P6(o,this.settings),a=[],c=d.lex();c.text!=="EOF";)a.push(c),c=d.lex();a.reverse();var v={tokens:a,numArgs:u};return v}return o}isDefined(t){return this.macros.has(t)||Xh.hasOwnProperty(t)||bo.math.hasOwnProperty(t)||bo.text.hasOwnProperty(t)||cA.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Xh.hasOwnProperty(t)&&!Xh[t].primitive}}var U6=/^[]/,rp=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),I2={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},j6={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Nm{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new cY(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new Ln("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new mc("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var o=this.fetch();if(Nm.endOfExpression.indexOf(o.text)!==-1||n&&o.text===n||t&&Xh[o.text]&&Xh[o.text].infix)break;var u=this.parseAtom(n);if(u){if(u.type==="internal")continue}else break;r.push(u)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,o=0;o<t.length;o++)if(t[o].type==="infix"){if(n!==-1)throw new Ln("only one infix operator per group",t[o].token);n=o,r=t[o].replaceWith}if(n!==-1&&r){var u,y,d=t.slice(0,n),a=t.slice(n+1);d.length===1&&d[0].type==="ordgroup"?u=d[0]:u={type:"ordgroup",mode:this.mode,body:d},a.length===1&&a[0].type==="ordgroup"?y=a[0]:y={type:"ordgroup",mode:this.mode,body:a};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[u,t[n],y],[]):c=this.callFunction(r,[u,y],[]),[c]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var o;do{var u;o=this.parseGroup(t)}while(((u=o)==null?void 0:u.type)==="internal");if(!o)throw new Ln("Expected group after '"+r+"'",n);return o}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var o={type:"text",mode:this.mode,body:n},u={type:"color",mode:this.mode,color:this.settings.errorColor,body:[o]};return u}parseAtom(t){var n=this.parseGroup("atom",t);if(n?.type==="internal"||this.mode==="text")return n;for(var r,o;;){this.consumeSpaces();var u=this.fetch();if(u.text==="\\limits"||u.text==="\\nolimits"){if(n&&n.type==="op"){var y=u.text==="\\limits";n.limits=y,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=u.text==="\\limits");else throw new Ln("Limit controls must follow a math operator",u);this.consume()}else if(u.text==="^"){if(r)throw new Ln("Double superscript",u);r=this.handleSupSubscript("superscript")}else if(u.text==="_"){if(o)throw new Ln("Double subscript",u);o=this.handleSupSubscript("subscript")}else if(u.text==="'"){if(r)throw new Ln("Double superscript",u);var d={type:"textord",mode:this.mode,text:"\\prime"},a=[d];for(this.consume();this.fetch().text==="'";)a.push(d),this.consume();this.fetch().text==="^"&&a.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:a}}else if(rp[u.text]){var c=U6.test(u.text),v=[];for(v.push(new mc(rp[u.text])),this.consume();;){var f=this.fetch().text;if(!rp[f]||U6.test(f)!==c)break;v.unshift(new mc(rp[f])),this.consume()}var g=this.subparse(v);c?o={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||o?{type:"supsub",mode:this.mode,base:n,sup:r,sub:o}:n}parseFunction(t,n){var r=this.fetch(),o=r.text,u=Xh[o];if(!u)return null;if(this.consume(),n&&n!=="atom"&&!u.allowedInArgument)throw new Ln("Got function '"+o+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!u.allowedInText)throw new Ln("Can't use function '"+o+"' in text mode",r);if(this.mode==="math"&&u.allowedInMath===!1)throw new Ln("Can't use function '"+o+"' in math mode",r);var{args:y,optArgs:d}=this.parseArguments(o,u);return this.callFunction(o,y,d,r,t)}callFunction(t,n,r,o,u){var y={funcName:t,parser:this,token:o,breakOnTokenText:u},d=Xh[t];if(d&&d.handler)return d.handler(y,n,r);throw new Ln("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var o=[],u=[],y=0;y<r;y++){var d=n.argTypes&&n.argTypes[y],a=y<n.numOptionalArgs;(n.primitive&&d==null||n.type==="sqrt"&&y===1&&u[0]==null)&&(d="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",d,a);if(a)u.push(c);else if(c!=null)o.push(c);else throw new Ln("Null argument, please report this as a bug")}return{args:o,optArgs:u}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var o=this.parseArgumentGroup(r,"text");return o!=null?{type:"styling",mode:o.mode,body:[o],style:"text"}:null}case"raw":{var u=this.parseStringGroup("raw",r);return u!=null?{type:"raw",mode:"text",string:u.text}:null}case"primitive":{if(r)throw new Ln("A primitive argument cannot be optional");var y=this.parseGroup(t);if(y==null)throw new Ln("Expected group as "+t,this.fetch());return y}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ln("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var o="",u;(u=this.fetch()).text!=="EOF";)o+=u.text,this.consume();return this.consume(),r.text=o,r}parseRegexGroup(t,n){for(var r=this.fetch(),o=r,u="",y;(y=this.fetch()).text!=="EOF"&&t.test(u+y.text);)o=y,u+=o.text,this.consume();if(u==="")throw new Ln("Invalid "+n+": '"+r.text+"'",r);return r.range(o,u)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ln("Invalid color: '"+n.text+"'",n);var o=r[0];return/^[0-9a-f]{6}$/i.test(o)&&(o="#"+o),{type:"color-token",mode:this.mode,color:o}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!o)throw new Ln("Invalid size: '"+n.text+"'",n);var u={number:+(o[1]+o[2]),unit:o[3]};if(!bE(u))throw new Ln("Invalid unit: '"+u.unit+"'",n);return{type:"size",mode:this.mode,value:u,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var o=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var u=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var y={type:"ordgroup",mode:this.mode,loc:r.loc,body:u};return n&&this.switchMode(o),y}parseGroup(t,n){var r=this.fetch(),o=r.text,u;if(o==="{"||o==="\\begingroup"){this.consume();var y=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var d=this.parseExpression(!1,y),a=this.fetch();this.expect(y),this.gullet.endGroup(),u={type:"ordgroup",mode:this.mode,loc:ju.range(r,a),body:d,semisimple:o==="\\begingroup"||void 0}}else if(u=this.parseFunction(n,t)||this.parseSymbol(),u==null&&o[0]==="\\"&&!cA.hasOwnProperty(o)){if(this.settings.throwOnError)throw new Ln("Undefined control sequence: "+o,r);u=this.formatUnsupportedCmd(o),this.consume()}return u}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var o=t[r],u=o.text;u==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:ju.range(o,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:ju.range(o,t[r+1]),text:"--"}),n-=1)),(u==="'"||u==="`")&&t[r+1].text===u&&(t.splice(r,2,{type:"textord",mode:"text",loc:ju.range(o,t[r+1]),text:u+u}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),o=r.charAt(0)==="*";if(o&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ln(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:o}}j6.hasOwnProperty(n[0])&&!bo[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=j6[n[0]]+n.slice(1));var u=oY.exec(n);u&&(n=n.substring(0,u.index),n==="i"?n="":n==="j"&&(n=""));var y;if(bo[this.mode][n]){this.settings.strict&&this.mode==="math"&&Dy.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var d=bo[this.mode][n].group,a=ju.range(t),c;if(JW.hasOwnProperty(d)){var v=d;c={type:"atom",mode:this.mode,family:v,loc:a,text:n}}else c={type:d,mode:this.mode,loc:a,text:n};y=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(xE(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),y={type:"textord",mode:"text",loc:ju.range(t),text:n};else return null;if(this.consume(),u)for(var f=0;f<u[0].length;f++){var g=u[0][f];if(!I2[g])throw new Ln("Unknown accent ' "+g+"'",t);var m=I2[g][this.mode]||I2[g].text;if(!m)throw new Ln("Accent "+g+" unsupported in "+this.mode+" mode",t);y={type:"accent",mode:this.mode,loc:ju.range(t),label:m,isStretchy:!1,isShifty:!0,base:y}}return y}}Nm.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var db=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Nm(t,n);delete r.gullet.macros.current["\\df@tag"];var o=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ln("\\tag works only in display equations");o=[{type:"tag",mode:"text",body:o,tag:r.subparse([new mc("\\df@tag")])}]}return o},fA=function(t,n,r){n.textContent="";var o=gb(t,r).toNode();n.appendChild(o)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),fA=function(){throw new Ln("KaTeX doesn't work in quirks mode.")});var fY=function(t,n){var r=gb(t,n).toMarkup();return r},hY=function(t,n){var r=new Zx(n);return db(t,r)},hA=function(t,n,r){if(r.throwOnError||!(t instanceof Ln))throw t;var o=en.makeSpan(["katex-error"],[new Pc(n)]);return o.setAttribute("title",t.toString()),o.setAttribute("style","color:"+r.errorColor),o},gb=function(t,n){var r=new Zx(n);try{var o=db(t,r);return wG(o,t,r)}catch(u){return hA(u,t,r)}},dY=function(t,n){var r=new Zx(n);try{var o=db(t,r);return CG(o,t,r)}catch(u){return hA(u,t,r)}},gY="0.16.27",pY={Span:cg,Anchor:Jx,SymbolNode:Pc,SvgNode:gh,PathNode:n0,LineNode:ky},W6={version:gY,render:fA,renderToString:fY,ParseError:Ln,SETTINGS_SCHEMA:Cp,__parse:hY,__renderToDomTree:gb,__renderToHTMLTree:dY,__setFontMetrics:GW,__defineSymbol:se,__defineFunction:Qn,__defineMacro:Ge,__domTree:pY};const mY={},vY=[];function dA(e){const t=e||mY;return function(n,r){Yx(n,"element",function(o,u){const y=Array.isArray(o.properties.className)?o.properties.className:vY,d=y.includes("language-math"),a=y.includes("math-display"),c=y.includes("math-inline");let v=a;if(!d&&!a&&!c)return;let f=u[u.length-1],g=o;if(o.tagName==="code"&&d&&f&&f.type==="element"&&f.tagName==="pre"&&(g=f,f=u[u.length-2],v=!0),!f)return;const m=cW(g,{whitespace:"pre"});let C;try{C=W6.renderToString(m,{...t,displayMode:v,throwOnError:!0})}catch(S){const O=S,N=O.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...u,o],cause:O,place:o.position,ruleId:N,source:"rehype-katex"});try{C=W6.renderToString(m,{...t,displayMode:v,strict:"ignore",throwOnError:!1})}catch{C=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(S)},children:[{type:"text",value:m}]}]}}typeof C=="string"&&(C=nW(C).children);const k=f.children.indexOf(g);return f.children.splice(k,1,...C),lE})}}function gA(e,t){const n=String(e);let r=n.indexOf(t),o=r,u=0,y=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++u>y&&(y=u):u=1,o=r+t.length,r=n.indexOf(t,o);return y}function yY(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:u},exit:{mathFlow:o,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:d,mathText:y,mathTextData:d}};function e(a){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},a)}function t(){this.buffer()}function n(){const a=this.resume(),c=this.stack[this.stack.length-1];c.type,c.meta=a}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function o(a){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),v=this.stack[this.stack.length-1];v.type,this.exit(a),v.value=c;const f=v.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function u(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}function y(a){const c=this.resume(),v=this.stack[this.stack.length-1];v.type,this.exit(a),v.value=c,v.data.hChildren.push({type:"text",value:c})}function d(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}function xY(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),r.peek=o,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(u,y,d,a){const c=u.value||"",v=d.createTracker(a),f="$".repeat(Math.max(gA(c,"$")+1,2)),g=d.enter("mathFlow");let m=v.move(f);if(u.meta){const C=d.enter("mathFlowMeta");m+=v.move(d.safe(u.meta,{after:`
`,before:m,encode:["$"],...v.current()})),C()}return m+=v.move(`
`),c&&(m+=v.move(c+`
`)),m+=v.move(f),g(),m}function r(u,y,d){let a=u.value||"",c=1;for(t||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(a);)c++;const v="$".repeat(c);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let f=-1;for(;++f<d.unsafe.length;){const g=d.unsafe[f];if(!g.atBreak)continue;const m=d.compilePattern(g);let C;for(;C=m.exec(a);){let k=C.index;a.codePointAt(k)===10&&a.codePointAt(k-1)===13&&k--,a=a.slice(0,k)+" "+a.slice(C.index+1)}}return v+a+v}function o(){return"$"}}const bY={tokenize:wY,concrete:!0,name:"mathFlow"},G6={tokenize:CY,partial:!0};function wY(e,t,n){const r=this,o=r.events[r.events.length-1],u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let y=0;return d;function d(N){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),a(N)}function a(N){return N===36?(e.consume(N),y++,a):y<2?n(N):(e.exit("mathFlowFenceSequence"),Hi(e,c,"whitespace")(N))}function c(N){return N===null||Sr(N)?f(N):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Sr(N)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),f(N)):N===36?n(N):(e.consume(N),v)}function f(N){return e.exit("mathFlowFence"),r.interrupt?t(N):e.attempt(G6,g,S)(N)}function g(N){return e.attempt({tokenize:O,partial:!0},S,m)(N)}function m(N){return(u?Hi(e,C,"linePrefix",u+1):C)(N)}function C(N){return N===null?S(N):Sr(N)?e.attempt(G6,g,S)(N):(e.enter("mathFlowValue"),k(N))}function k(N){return N===null||Sr(N)?(e.exit("mathFlowValue"),C(N)):(e.consume(N),k)}function S(N){return e.exit("mathFlow"),t(N)}function O(N,U,W){let q=0;return Hi(N,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function J(Se){return N.enter("mathFlowFence"),N.enter("mathFlowFenceSequence"),ne(Se)}function ne(Se){return Se===36?(q++,N.consume(Se),ne):q<y?W(Se):(N.exit("mathFlowFenceSequence"),Hi(N,ve,"whitespace")(Se))}function ve(Se){return Se===null||Sr(Se)?(N.exit("mathFlowFence"),U(Se)):W(Se)}}}function CY(e,t,n){const r=this;return o;function o(y){return y===null?t(y):(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),u)}function u(y){return r.parser.lazy[r.now().line]?n(y):t(y)}}function SY(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:EY,previous:AY,name:"mathText"};function r(o,u,y){let d=0,a,c;return v;function v(k){return o.enter("mathText"),o.enter("mathTextSequence"),f(k)}function f(k){return k===36?(o.consume(k),d++,f):d<2&&!n?y(k):(o.exit("mathTextSequence"),g(k))}function g(k){return k===null?y(k):k===36?(c=o.enter("mathTextSequence"),a=0,C(k)):k===32?(o.enter("space"),o.consume(k),o.exit("space"),g):Sr(k)?(o.enter("lineEnding"),o.consume(k),o.exit("lineEnding"),g):(o.enter("mathTextData"),m(k))}function m(k){return k===null||k===32||k===36||Sr(k)?(o.exit("mathTextData"),g(k)):(o.consume(k),m)}function C(k){return k===36?(o.consume(k),a++,C):a===d?(o.exit("mathTextSequence"),o.exit("mathText"),u(k)):(c.type="mathTextData",m(k))}}}function EY(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="mathTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function AY(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function TY(e){return{flow:{36:bY},text:{36:SY(e)}}}const kY={};function pA(e){const t=this,n=e||kY,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),y=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(TY(n)),u.push(yY()),y.push(xY(n))}var w0={},b1={};var Y6;function DY(){if(Y6)return b1;Y6=1;var e=Nd(),t=im();function n(R){var P="https://react.dev/errors/"+R;if(1<arguments.length){P+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)P+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+R+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.scope"),S=Symbol.for("react.activity"),O=Symbol.for("react.legacy_hidden"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.for("react.view_transition"),W=Symbol.iterator;function q(R){return R===null||typeof R!="object"?null:(R=W&&R[W]||R["@@iterator"],typeof R=="function"?R:null)}var J=Array.isArray;function ne(R,P){var Y=R.length&3,$=R.length-Y,oe=P;for(P=0;P<$;){var ke=R.charCodeAt(P)&255|(R.charCodeAt(++P)&255)<<8|(R.charCodeAt(++P)&255)<<16|(R.charCodeAt(++P)&255)<<24;++P,ke=3432918353*(ke&65535)+((3432918353*(ke>>>16)&65535)<<16)&4294967295,ke=ke<<15|ke>>>17,ke=461845907*(ke&65535)+((461845907*(ke>>>16)&65535)<<16)&4294967295,oe^=ke,oe=oe<<13|oe>>>19,oe=5*(oe&65535)+((5*(oe>>>16)&65535)<<16)&4294967295,oe=(oe&65535)+27492+(((oe>>>16)+58964&65535)<<16)}switch(ke=0,Y){case 3:ke^=(R.charCodeAt(P+2)&255)<<16;case 2:ke^=(R.charCodeAt(P+1)&255)<<8;case 1:ke^=R.charCodeAt(P)&255,ke=3432918353*(ke&65535)+((3432918353*(ke>>>16)&65535)<<16)&4294967295,ke=ke<<15|ke>>>17,oe^=461845907*(ke&65535)+((461845907*(ke>>>16)&65535)<<16)&4294967295}return oe^=R.length,oe^=oe>>>16,oe=2246822507*(oe&65535)+((2246822507*(oe>>>16)&65535)<<16)&4294967295,oe^=oe>>>13,oe=3266489909*(oe&65535)+((3266489909*(oe>>>16)&65535)<<16)&4294967295,(oe^oe>>>16)>>>0}var ve=Object.assign,Se=Object.prototype.hasOwnProperty,Fe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ue={},Ze={};function mt(R){return Se.call(Ze,R)?!0:Se.call(Ue,R)?!1:Fe.test(R)?Ze[R]=!0:(Ue[R]=!0,!1)}var ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),ge=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ye=/["'&<>]/;function Re(R){if(typeof R=="boolean"||typeof R=="number"||typeof R=="bigint")return""+R;R=""+R;var P=ye.exec(R);if(P){var Y="",$,oe=0;for($=P.index;$<R.length;$++){switch(R.charCodeAt($)){case 34:P="&quot;";break;case 38:P="&amp;";break;case 39:P="&#x27;";break;case 60:P="&lt;";break;case 62:P="&gt;";break;default:continue}oe!==$&&(Y+=R.slice(oe,$)),oe=$+1,Y+=P}R=oe!==$?Y+R.slice(oe,$):Y}return R}var ft=/([A-Z])/g,Me=/^ms-/,ce=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function le(R){return ce.test(""+R)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":R}var ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ae=V.d;V.d={f:Ae.f,r:Ae.r,D:oa,C:Hr,L:or,m:co,X:Ni,S:bi,M:hn};var Ne=[],ut=null,xt=/(<\/|<)(s)(cript)/gi;function et(R,P,Y,$){return""+P+(Y==="s"?"\\u0073":"\\u0053")+$}function Wt(R,P,Y,$,oe){return{idPrefix:R===void 0?"":R,nextFormID:0,streamingFormat:0,bootstrapScriptContent:Y,bootstrapScripts:$,bootstrapModules:oe,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function _t(R,P,Y,$){return{insertionMode:R,selectedValue:P,tagScope:Y,viewTransition:$}}function Ft(R,P,Y){var $=R.tagScope&-25;switch(P){case"noscript":return _t(2,null,$|1,null);case"select":return _t(2,Y.value!=null?Y.value:Y.defaultValue,$,null);case"svg":return _t(4,null,$,null);case"picture":return _t(2,null,$|2,null);case"math":return _t(5,null,$,null);case"foreignObject":return _t(2,null,$,null);case"table":return _t(6,null,$,null);case"thead":case"tbody":case"tfoot":return _t(7,null,$,null);case"colgroup":return _t(9,null,$,null);case"tr":return _t(8,null,$,null);case"head":if(2>R.insertionMode)return _t(3,null,$,null);break;case"html":if(R.insertionMode===0)return _t(1,null,$,null)}return 6<=R.insertionMode||2>R.insertionMode?_t(2,null,$,null):R.tagScope!==$?_t(R.insertionMode,R.selectedValue,$,null):R}function st(R){return R===null?null:{update:R.update,enter:"none",exit:"none",share:R.update,name:R.autoName,autoName:R.autoName,nameIdx:0}}function At(R,P){return P.tagScope&32&&(R.instructions|=128),_t(P.insertionMode,P.selectedValue,P.tagScope|12,st(P.viewTransition))}function St(R,P){R=st(P.viewTransition);var Y=P.tagScope|16;return R!==null&&R.share!=="none"&&(Y|=64),_t(P.insertionMode,P.selectedValue,Y,R)}var Kt=new Map;function zt(R,P){if(typeof P!="object")throw Error(n(62));var Y=!0,$;for($ in P)if(Se.call(P,$)){var oe=P[$];if(oe!=null&&typeof oe!="boolean"&&oe!==""){if($.indexOf("--")===0){var ke=Re($);oe=Re((""+oe).trim())}else ke=Kt.get($),ke===void 0&&(ke=Re($.replace(ft,"-$1").toLowerCase().replace(Me,"-ms-")),Kt.set($,ke)),oe=typeof oe=="number"?oe===0||ct.has($)?""+oe:oe+"px":Re((""+oe).trim());Y?(Y=!1,R.push(' style="',ke,":",oe)):R.push(";",ke,":",oe)}}Y||R.push('"')}function Ut(R,P,Y){Y&&typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'=""')}function Vt(R,P,Y){typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&R.push(" ",P,'="',Re(Y),'"')}var un=Re("javascript:throw new Error('React form unexpectedly submitted.')");function Xt(R,P){this.push('<input type="hidden"'),qt(R),Vt(this,"name",P),Vt(this,"value",R),this.push("/>")}function qt(R){if(typeof R!="string")throw Error(n(480))}function Bn(R,P){if(typeof P.$$FORM_ACTION=="function"){var Y=R.nextFormID++;R=R.idPrefix+Y;try{var $=P.$$FORM_ACTION(R);if($){var oe=$.data;oe?.forEach(qt)}return $}catch(ke){if(typeof ke=="object"&&ke!==null&&typeof ke.then=="function")throw ke}}return null}function gt(R,P,Y,$,oe,ke,ze,vt){var nt=null;if(typeof $=="function"){var bt=Bn(P,$);bt!==null?(vt=bt.name,$=bt.action||"",oe=bt.encType,ke=bt.method,ze=bt.target,nt=bt.data):(R.push(" ","formAction",'="',un,'"'),ze=ke=oe=$=vt=null,Ee(P,Y))}return vt!=null&&dt(R,"name",vt),$!=null&&dt(R,"formAction",$),oe!=null&&dt(R,"formEncType",oe),ke!=null&&dt(R,"formMethod",ke),ze!=null&&dt(R,"formTarget",ze),nt}function dt(R,P,Y){switch(P){case"className":Vt(R,"class",Y);break;case"tabIndex":Vt(R,"tabindex",Y);break;case"dir":case"role":case"viewBox":case"width":case"height":Vt(R,P,Y);break;case"style":zt(R,Y);break;case"src":case"href":if(Y==="")break;case"action":case"formAction":if(Y==null||typeof Y=="function"||typeof Y=="symbol"||typeof Y=="boolean")break;Y=le(""+Y),R.push(" ",P,'="',Re(Y),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Ut(R,P.toLowerCase(),Y);break;case"xlinkHref":if(typeof Y=="function"||typeof Y=="symbol"||typeof Y=="boolean")break;Y=le(""+Y),R.push(" ","xlink:href",'="',Re(Y),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'="',Re(Y),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Y&&typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'=""');break;case"capture":case"download":Y===!0?R.push(" ",P,'=""'):Y!==!1&&typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'="',Re(Y),'"');break;case"cols":case"rows":case"size":case"span":typeof Y!="function"&&typeof Y!="symbol"&&!isNaN(Y)&&1<=Y&&R.push(" ",P,'="',Re(Y),'"');break;case"rowSpan":case"start":typeof Y=="function"||typeof Y=="symbol"||isNaN(Y)||R.push(" ",P,'="',Re(Y),'"');break;case"xlinkActuate":Vt(R,"xlink:actuate",Y);break;case"xlinkArcrole":Vt(R,"xlink:arcrole",Y);break;case"xlinkRole":Vt(R,"xlink:role",Y);break;case"xlinkShow":Vt(R,"xlink:show",Y);break;case"xlinkTitle":Vt(R,"xlink:title",Y);break;case"xlinkType":Vt(R,"xlink:type",Y);break;case"xmlBase":Vt(R,"xml:base",Y);break;case"xmlLang":Vt(R,"xml:lang",Y);break;case"xmlSpace":Vt(R,"xml:space",Y);break;default:if((!(2<P.length)||P[0]!=="o"&&P[0]!=="O"||P[1]!=="n"&&P[1]!=="N")&&(P=ge.get(P)||P,mt(P))){switch(typeof Y){case"function":case"symbol":return;case"boolean":var $=P.toLowerCase().slice(0,5);if($!=="data-"&&$!=="aria-")return}R.push(" ",P,'="',Re(Y),'"')}}}function Pe(R,P,Y){if(P!=null){if(Y!=null)throw Error(n(60));if(typeof P!="object"||!("__html"in P))throw Error(n(61));P=P.__html,P!=null&&R.push(""+P)}}function be(R){var P="";return e.Children.forEach(R,function(Y){Y!=null&&(P+=Y)}),P}function Ee(R,P){if((R.instructions&16)===0){R.instructions|=16;var Y=P.preamble,$=P.bootstrapChunks;(Y.htmlChunks||Y.headChunks)&&$.length===0?($.push(P.startInlineScript),xi($,R),$.push(">",`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>")):$.unshift(P.startInlineScript,">",`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>")}}function qe(R,P){R.push(yt("link"));for(var Y in P)if(Se.call(P,Y)){var $=P[Y];if($!=null)switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:dt(R,Y,$)}}return R.push("/>"),null}var re=/(<\/|<)(s)(tyle)/gi;function we(R,P,Y,$){return""+P+(Y==="s"?"\\73 ":"\\53 ")+$}function Ve(R,P,Y){R.push(yt(Y));for(var $ in P)if(Se.call(P,$)){var oe=P[$];if(oe!=null)switch($){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,Y));default:dt(R,$,oe)}}return R.push("/>"),null}function it(R,P){R.push(yt("title"));var Y=null,$=null,oe;for(oe in P)if(Se.call(P,oe)){var ke=P[oe];if(ke!=null)switch(oe){case"children":Y=ke;break;case"dangerouslySetInnerHTML":$=ke;break;default:dt(R,oe,ke)}}return R.push(">"),P=Array.isArray(Y)?2>Y.length?Y[0]:null:Y,typeof P!="function"&&typeof P!="symbol"&&P!==null&&P!==void 0&&R.push(Re(""+P)),Pe(R,$,Y),R.push(Cn("title")),null}function We(R,P){R.push(yt("script"));var Y=null,$=null,oe;for(oe in P)if(Se.call(P,oe)){var ke=P[oe];if(ke!=null)switch(oe){case"children":Y=ke;break;case"dangerouslySetInnerHTML":$=ke;break;default:dt(R,oe,ke)}}return R.push(">"),Pe(R,$,Y),typeof Y=="string"&&R.push((""+Y).replace(xt,et)),R.push(Cn("script")),null}function Et(R,P,Y){R.push(yt(Y));var $=Y=null,oe;for(oe in P)if(Se.call(P,oe)){var ke=P[oe];if(ke!=null)switch(oe){case"children":Y=ke;break;case"dangerouslySetInnerHTML":$=ke;break;default:dt(R,oe,ke)}}return R.push(">"),Pe(R,$,Y),Y}function Ye(R,P,Y){R.push(yt(Y));var $=Y=null,oe;for(oe in P)if(Se.call(P,oe)){var ke=P[oe];if(ke!=null)switch(oe){case"children":Y=ke;break;case"dangerouslySetInnerHTML":$=ke;break;default:dt(R,oe,ke)}}return R.push(">"),Pe(R,$,Y),typeof Y=="string"?(R.push(Re(Y)),null):Y}var at=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Tt=new Map;function yt(R){var P=Tt.get(R);if(P===void 0){if(!at.test(R))throw Error(n(65,R));P="<"+R,Tt.set(R,P)}return P}function Pt(R,P,Y,$,oe,ke,ze,vt,nt){switch(P){case"div":case"span":case"svg":case"path":break;case"a":R.push(yt("a"));var bt=null,Rt=null,kt;for(kt in Y)if(Se.call(Y,kt)){var Zt=Y[kt];if(Zt!=null)switch(kt){case"children":bt=Zt;break;case"dangerouslySetInnerHTML":Rt=Zt;break;case"href":Zt===""?Vt(R,"href",""):dt(R,kt,Zt);break;default:dt(R,kt,Zt)}}if(R.push(">"),Pe(R,Rt,bt),typeof bt=="string"){R.push(Re(bt));var dn=null}else dn=bt;return dn;case"g":case"p":case"li":break;case"select":R.push(yt("select"));var Nn=null,In=null,rr;for(rr in Y)if(Se.call(Y,rr)){var Rn=Y[rr];if(Rn!=null)switch(rr){case"children":Nn=Rn;break;case"dangerouslySetInnerHTML":In=Rn;break;case"defaultValue":case"value":break;default:dt(R,rr,Rn)}}return R.push(">"),Pe(R,In,Nn),Nn;case"option":var sr=vt.selectedValue;R.push(yt("option"));var _r=null,ta=null,wr=null,jr=null,ui;for(ui in Y)if(Se.call(Y,ui)){var ca=Y[ui];if(ca!=null)switch(ui){case"children":_r=ca;break;case"selected":wr=ca;break;case"dangerouslySetInnerHTML":jr=ca;break;case"value":ta=ca;default:dt(R,ui,ca)}}if(sr!=null){var pi=ta!==null?""+ta:be(_r);if(J(sr)){for(var Ha=0;Ha<sr.length;Ha++)if(""+sr[Ha]===pi){R.push(' selected=""');break}}else""+sr===pi&&R.push(' selected=""')}else wr&&R.push(' selected=""');return R.push(">"),Pe(R,jr,_r),_r;case"textarea":R.push(yt("textarea"));var Pi=null,fa=null,ha=null,va;for(va in Y)if(Se.call(Y,va)){var Eo=Y[va];if(Eo!=null)switch(va){case"children":ha=Eo;break;case"value":Pi=Eo;break;case"defaultValue":fa=Eo;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:dt(R,va,Eo)}}if(Pi===null&&fa!==null&&(Pi=fa),R.push(">"),ha!=null){if(Pi!=null)throw Error(n(92));if(J(ha)){if(1<ha.length)throw Error(n(93));Pi=""+ha[0]}Pi=""+ha}return typeof Pi=="string"&&Pi[0]===`
`&&R.push(`
`),Pi!==null&&R.push(Re(""+Pi)),null;case"input":R.push(yt("input"));var iu=null,zs=null,ds=null,el=null,Ua=null,po=null,Ao=null,qa=null,ja=null,gs;for(gs in Y)if(Se.call(Y,gs)){var Wi=Y[gs];if(Wi!=null)switch(gs){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":iu=Wi;break;case"formAction":zs=Wi;break;case"formEncType":ds=Wi;break;case"formMethod":el=Wi;break;case"formTarget":Ua=Wi;break;case"defaultChecked":ja=Wi;break;case"defaultValue":Ao=Wi;break;case"checked":qa=Wi;break;case"value":po=Wi;break;default:dt(R,gs,Wi)}}var Jo=gt(R,$,oe,zs,ds,el,Ua,iu);return qa!==null?Ut(R,"checked",qa):ja!==null&&Ut(R,"checked",ja),po!==null?dt(R,"value",po):Ao!==null&&dt(R,"value",Ao),R.push("/>"),Jo?.forEach(Xt,R),null;case"button":R.push(yt("button"));var To=null,wu=null,Ol=null,Cu=null,au=null,Qa=null,ya=null,ri;for(ri in Y)if(Se.call(Y,ri)){var $o=Y[ri];if($o!=null)switch(ri){case"children":To=$o;break;case"dangerouslySetInnerHTML":wu=$o;break;case"name":Ol=$o;break;case"formAction":Cu=$o;break;case"formEncType":au=$o;break;case"formMethod":Qa=$o;break;case"formTarget":ya=$o;break;default:dt(R,ri,$o)}}var Ra=gt(R,$,oe,Cu,au,Qa,ya,Ol);if(R.push(">"),Ra?.forEach(Xt,R),Pe(R,wu,To),typeof To=="string"){R.push(Re(To));var vl=null}else vl=To;return vl;case"form":R.push(yt("form"));var Os=null,hf=null,tl=null,Gl=null,yl=null,Su=null,Ja;for(Ja in Y)if(Se.call(Y,Ja)){var sa=Y[Ja];if(sa!=null)switch(Ja){case"children":Os=sa;break;case"dangerouslySetInnerHTML":hf=sa;break;case"action":tl=sa;break;case"encType":Gl=sa;break;case"method":yl=sa;break;case"target":Su=sa;break;default:dt(R,Ja,sa)}}var Na=null,qr=null;if(typeof tl=="function"){var ko=Bn($,tl);ko!==null?(tl=ko.action||"",Gl=ko.encType,yl=ko.method,Su=ko.target,Na=ko.data,qr=ko.name):(R.push(" ","action",'="',un,'"'),Su=yl=Gl=tl=null,Ee($,oe))}if(tl!=null&&dt(R,"action",tl),Gl!=null&&dt(R,"encType",Gl),yl!=null&&dt(R,"method",yl),Su!=null&&dt(R,"target",Su),R.push(">"),qr!==null&&(R.push('<input type="hidden"'),Vt(R,"name",qr),R.push("/>"),Na?.forEach(Xt,R)),Pe(R,hf,Os),typeof Os=="string"){R.push(Re(Os));var Hs=null}else Hs=Os;return Hs;case"menuitem":R.push(yt("menuitem"));for(var nl in Y)if(Se.call(Y,nl)){var bc=Y[nl];if(bc!=null)switch(nl){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:dt(R,nl,bc)}}return R.push(">"),null;case"object":R.push(yt("object"));var es=null,Il=null,Is;for(Is in Y)if(Se.call(Y,Is)){var la=Y[Is];if(la!=null)switch(Is){case"children":es=la;break;case"dangerouslySetInnerHTML":Il=la;break;case"data":var $a=le(""+la);if($a==="")break;R.push(" ","data",'="',Re($a),'"');break;default:dt(R,Is,la)}}if(R.push(">"),Pe(R,Il,es),typeof es=="string"){R.push(Re(es));var Xu=null}else Xu=es;return Xu;case"title":var Uo=vt.tagScope&1,Uc=vt.tagScope&4;if(vt.insertionMode===4||Uo||Y.itemProp!=null)var wc=it(R,Y);else Uc?wc=null:(it(oe.hoistableChunks,Y),wc=void 0);return wc;case"link":var Ta=vt.tagScope&1,Cc=vt.tagScope&4,Vu=Y.rel,ts=Y.href,ou=Y.precedence;if(vt.insertionMode===4||Ta||Y.itemProp!=null||typeof Vu!="string"||typeof ts!="string"||ts===""){qe(R,Y);var ps=null}else if(Y.rel==="stylesheet")if(typeof ou!="string"||Y.disabled!=null||Y.onLoad||Y.onError)ps=qe(R,Y);else{var na=oe.styles.get(ou),Ku=$.styleResources.hasOwnProperty(ts)?$.styleResources[ts]:void 0;if(Ku!==null){$.styleResources[ts]=null,na||(na={precedence:Re(ou),rules:[],hrefs:[],sheets:new Map},oe.styles.set(ou,na));var Zu={state:0,props:ve({},Y,{"data-precedence":Y.precedence,precedence:null})};if(Ku){Ku.length===2&&wi(Zu.props,Ku);var jc=oe.preloads.stylesheets.get(ts);jc&&0<jc.length?jc.length=0:Zu.state=1}na.sheets.set(ts,Zu),ze&&ze.stylesheets.add(Zu)}else if(na){var ns=na.sheets.get(ts);ns&&ze&&ze.stylesheets.add(ns)}nt&&R.push("<!-- -->"),ps=null}else Y.onLoad||Y.onError?ps=qe(R,Y):(nt&&R.push("<!-- -->"),ps=Cc?null:qe(oe.hoistableChunks,Y));return ps;case"script":var li=vt.tagScope&1,ms=Y.async;if(typeof Y.src!="string"||!Y.src||!ms||typeof ms=="function"||typeof ms=="symbol"||Y.onLoad||Y.onError||vt.insertionMode===4||li||Y.itemProp!=null)var rl=We(R,Y);else{var ua=Y.src;if(Y.type==="module")var Yl=$.moduleScriptResources,Xl=oe.preloads.moduleScripts;else Yl=$.scriptResources,Xl=oe.preloads.scripts;var Vl=Yl.hasOwnProperty(ua)?Yl[ua]:void 0;if(Vl!==null){Yl[ua]=null;var Eu=Y;if(Vl){Vl.length===2&&(Eu=ve({},Y),wi(Eu,Vl));var qu=Xl.get(ua);qu&&(qu.length=0)}var Kl=[];oe.scripts.add(Kl),We(Kl,Eu)}nt&&R.push("<!-- -->"),rl=null}return rl;case"style":var xl=vt.tagScope&1,rs=Y.precedence,ao=Y.href,Wc=Y.nonce;if(vt.insertionMode===4||xl||Y.itemProp!=null||typeof rs!="string"||typeof ao!="string"||ao===""){R.push(yt("style"));var Us=null,Qu=null,Rs;for(Rs in Y)if(Se.call(Y,Rs)){var il=Y[Rs];if(il!=null)switch(Rs){case"children":Us=il;break;case"dangerouslySetInnerHTML":Qu=il;break;default:dt(R,Rs,il)}}R.push(">");var al=Array.isArray(Us)?2>Us.length?Us[0]:null:Us;typeof al!="function"&&typeof al!="symbol"&&al!==null&&al!==void 0&&R.push((""+al).replace(re,we)),Pe(R,Qu,Us),R.push(Cn("style"));var Ju=null}else{var vs=oe.styles.get(rs);if(($.styleResources.hasOwnProperty(ao)?$.styleResources[ao]:void 0)!==null){$.styleResources[ao]=null,vs||(vs={precedence:Re(rs),rules:[],hrefs:[],sheets:new Map},oe.styles.set(rs,vs));var df=oe.nonce.style;if(!df||df===Wc){vs.hrefs.push(Re(ao));var Zl=vs.rules,js=null,Au=null,Ws;for(Ws in Y)if(Se.call(Y,Ws)){var ys=Y[Ws];if(ys!=null)switch(Ws){case"children":js=ys;break;case"dangerouslySetInnerHTML":Au=ys}}var ol=Array.isArray(js)?2>js.length?js[0]:null:js;typeof ol!="function"&&typeof ol!="symbol"&&ol!==null&&ol!==void 0&&Zl.push((""+ol).replace(re,we)),Pe(Zl,Au,js)}}vs&&ze&&ze.styles.add(vs),nt&&R.push("<!-- -->"),Ju=void 0}return Ju;case"meta":var Do=vt.tagScope&1,Tu=vt.tagScope&4;if(vt.insertionMode===4||Do||Y.itemProp!=null)var ql=Ve(R,Y,"meta");else nt&&R.push("<!-- -->"),ql=Tu?null:typeof Y.charSet=="string"?Ve(oe.charsetChunks,Y,"meta"):Y.name==="viewport"?Ve(oe.viewportChunks,Y,"meta"):Ve(oe.hoistableChunks,Y,"meta");return ql;case"listing":case"pre":R.push(yt(P));var Rl=null,z=null,H;for(H in Y)if(Se.call(Y,H)){var Q=Y[H];if(Q!=null)switch(H){case"children":Rl=Q;break;case"dangerouslySetInnerHTML":z=Q;break;default:dt(R,H,Q)}}if(R.push(">"),z!=null){if(Rl!=null)throw Error(n(60));if(typeof z!="object"||!("__html"in z))throw Error(n(61));var ue=z.__html;ue!=null&&(typeof ue=="string"&&0<ue.length&&ue[0]===`
`?R.push(`
`,ue):R.push(""+ue))}return typeof Rl=="string"&&Rl[0]===`
`&&R.push(`
`),Rl;case"img":var de=vt.tagScope&3,He=Y.src,$e=Y.srcSet;if(!(Y.loading==="lazy"||!He&&!$e||typeof He!="string"&&He!=null||typeof $e!="string"&&$e!=null||Y.fetchPriority==="low"||de)&&(typeof He!="string"||He[4]!==":"||He[0]!=="d"&&He[0]!=="D"||He[1]!=="a"&&He[1]!=="A"||He[2]!=="t"&&He[2]!=="T"||He[3]!=="a"&&He[3]!=="A")&&(typeof $e!="string"||$e[4]!==":"||$e[0]!=="d"&&$e[0]!=="D"||$e[1]!=="a"&&$e[1]!=="A"||$e[2]!=="t"&&$e[2]!=="T"||$e[3]!=="a"&&$e[3]!=="A")){ze!==null&&vt.tagScope&64&&(ze.suspenseyImages=!0);var Ot=typeof Y.sizes=="string"?Y.sizes:void 0,ht=$e?$e+`
`+(Ot||""):He,Nt=oe.preloads.images,Qt=Nt.get(ht);if(Qt)(Y.fetchPriority==="high"||10>oe.highImagePreloads.size)&&(Nt.delete(ht),oe.highImagePreloads.add(Qt));else if(!$.imageResources.hasOwnProperty(ht)){$.imageResources[ht]=Ne;var on=Y.crossOrigin,Dn=typeof on=="string"?on==="use-credentials"?on:"":void 0,_n=oe.headers,lr;_n&&0<_n.remainingCapacity&&typeof Y.srcSet!="string"&&(Y.fetchPriority==="high"||500>_n.highImagePreloads.length)&&(lr=mn(He,"image",{imageSrcSet:Y.srcSet,imageSizes:Y.sizes,crossOrigin:Dn,integrity:Y.integrity,nonce:Y.nonce,type:Y.type,fetchPriority:Y.fetchPriority,referrerPolicy:Y.refererPolicy}),0<=(_n.remainingCapacity-=lr.length+2))?(oe.resets.image[ht]=Ne,_n.highImagePreloads&&(_n.highImagePreloads+=", "),_n.highImagePreloads+=lr):(Qt=[],qe(Qt,{rel:"preload",as:"image",href:$e?void 0:He,imageSrcSet:$e,imageSizes:Ot,crossOrigin:Dn,integrity:Y.integrity,type:Y.type,fetchPriority:Y.fetchPriority,referrerPolicy:Y.referrerPolicy}),Y.fetchPriority==="high"||10>oe.highImagePreloads.size?oe.highImagePreloads.add(Qt):(oe.bulkPreloads.add(Qt),Nt.set(ht,Qt)))}}return Ve(R,Y,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Ve(R,Y,P);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>vt.insertionMode){var ti=ke||oe.preamble;if(ti.headChunks)throw Error(n(545,"`<head>`"));ke!==null&&R.push("<!--head-->"),ti.headChunks=[];var Wr=Et(ti.headChunks,Y,"head")}else Wr=Ye(R,Y,"head");return Wr;case"body":if(2>vt.insertionMode){var qn=ke||oe.preamble;if(qn.bodyChunks)throw Error(n(545,"`<body>`"));ke!==null&&R.push("<!--body-->"),qn.bodyChunks=[];var cr=Et(qn.bodyChunks,Y,"body")}else cr=Ye(R,Y,"body");return cr;case"html":if(vt.insertionMode===0){var mi=ke||oe.preamble;if(mi.htmlChunks)throw Error(n(545,"`<html>`"));ke!==null&&R.push("<!--html-->"),mi.htmlChunks=[""];var eo=Et(mi.htmlChunks,Y,"html")}else eo=Ye(R,Y,"html");return eo;default:if(P.indexOf("-")!==-1){R.push(yt(P));var jo=null,Ar=null,mo;for(mo in Y)if(Se.call(Y,mo)){var ra=Y[mo];if(ra!=null){var La=mo;switch(mo){case"children":jo=ra;break;case"dangerouslySetInnerHTML":Ar=ra;break;case"style":zt(R,ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":La="class";default:if(mt(mo)&&typeof ra!="function"&&typeof ra!="symbol"&&ra!==!1){if(ra===!0)ra="";else if(typeof ra=="object")continue;R.push(" ",La,'="',Re(ra),'"')}}}}return R.push(">"),Pe(R,Ar,jo),jo}}return Ye(R,Y,P)}var pn=new Map;function Cn(R){var P=pn.get(R);return P===void 0&&(P="</"+R+">",pn.set(R,P)),P}function vn(R,P){R=R.preamble,R.htmlChunks===null&&P.htmlChunks&&(R.htmlChunks=P.htmlChunks),R.headChunks===null&&P.headChunks&&(R.headChunks=P.headChunks),R.bodyChunks===null&&P.bodyChunks&&(R.bodyChunks=P.bodyChunks)}function $n(R,P){P=P.bootstrapChunks;for(var Y=0;Y<P.length-1;Y++)R.push(P[Y]);return Y<P.length?(Y=P[Y],P.length=0,R.push(Y)):!0}function Yn(R,P,Y){if(R.push('<!--$?--><template id="'),Y===null)throw Error(n(395));return R.push(P.boundaryPrefix),P=Y.toString(16),R.push(P),R.push('"></template>')}function er(R,P,Y,$){switch(Y.insertionMode){case 0:case 1:case 3:case 2:return R.push('<div hidden id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 4:return R.push('<svg aria-hidden="true" style="display:none" id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 5:return R.push('<math aria-hidden="true" style="display:none" id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 6:return R.push('<table hidden id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 7:return R.push('<table hidden><tbody id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 8:return R.push('<table hidden><tr id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 9:return R.push('<table hidden><colgroup id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');default:throw Error(n(397))}}function Hn(R,P){switch(P.insertionMode){case 0:case 1:case 3:case 2:return R.push("</div>");case 4:return R.push("</svg>");case 5:return R.push("</math>");case 6:return R.push("</table>");case 7:return R.push("</tbody></table>");case 8:return R.push("</tr></table>");case 9:return R.push("</colgroup></table>");default:throw Error(n(397))}}var xr=/[<\u2028\u2029]/g;function Br(R){return JSON.stringify(R).replace(xr,function(P){switch(P){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var mr=/[&><\u2028\u2029]/g;function Oi(R){return JSON.stringify(R).replace(mr,function(P){switch(P){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Jn=!1,Fr=!0;function si(R){var P=R.rules,Y=R.hrefs,$=0;if(Y.length){for(this.push(ut.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(R.precedence),this.push('" data-href="');$<Y.length-1;$++)this.push(Y[$]),this.push(" ");for(this.push(Y[$]),this.push('">'),$=0;$<P.length;$++)this.push(P[$]);Fr=this.push("</style>"),Jn=!0,P.length=0,Y.length=0}}function Yr(R){return R.state!==2?Jn=!0:!1}function vi(R,P,Y){return Jn=!1,Fr=!0,ut=Y,P.styles.forEach(si,R),ut=null,P.stylesheets.forEach(Yr),Jn&&(Y.stylesToHoist=!0),Fr}function Sn(R){for(var P=0;P<R.length;P++)this.push(R[P]);R.length=0}var vr=[];function Pr(R){qe(vr,R.props);for(var P=0;P<vr.length;P++)this.push(vr[P]);vr.length=0,R.state=2}function ar(R){var P=0<R.sheets.size;R.sheets.forEach(Pr,this),R.sheets.clear();var Y=R.rules,$=R.hrefs;if(!P||$.length){if(this.push(ut.startInlineStyle),this.push(' data-precedence="'),this.push(R.precedence),R=0,$.length){for(this.push('" data-href="');R<$.length-1;R++)this.push($[R]),this.push(" ");this.push($[R])}for(this.push('">'),R=0;R<Y.length;R++)this.push(Y[R]);this.push("</style>"),Y.length=0,$.length=0}}function fi(R){if(R.state===0){R.state=1;var P=R.props;for(qe(vr,{rel:"preload",as:"style",href:R.props.href,crossOrigin:P.crossOrigin,fetchPriority:P.fetchPriority,integrity:P.integrity,media:P.media,hrefLang:P.hrefLang,referrerPolicy:P.referrerPolicy}),R=0;R<vr.length;R++)this.push(vr[R]);vr.length=0}}function yi(R){R.sheets.forEach(fi,this),R.sheets.clear()}function xi(R,P){(P.instructions&32)===0&&(P.instructions|=32,R.push(' id="',Re("_"+P.idPrefix+"R_"),'"'))}function Tr(R,P){R.push("[");var Y="[";P.stylesheets.forEach(function($){if($.state!==2)if($.state===3)R.push(Y),$=Oi(""+$.props.href),R.push($),R.push("]"),Y=",[";else{R.push(Y);var oe=$.props["data-precedence"],ke=$.props,ze=le(""+$.props.href);ze=Oi(ze),R.push(ze),oe=""+oe,R.push(","),oe=Oi(oe),R.push(oe);for(var vt in ke)if(Se.call(ke,vt)&&(oe=ke[vt],oe!=null))switch(vt){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:zr(R,vt,oe)}R.push("]"),Y=",[",$.state=3}}),R.push("]")}function zr(R,P,Y){var $=P.toLowerCase();switch(typeof Y){case"function":case"symbol":return}switch(P){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":$="class",P=""+Y;break;case"hidden":if(Y===!1)return;P="";break;case"src":case"href":Y=le(Y),P=""+Y;break;default:if(2<P.length&&(P[0]==="o"||P[0]==="O")&&(P[1]==="n"||P[1]==="N")||!mt(P))return;P=""+Y}R.push(","),$=Oi($),R.push($),R.push(","),$=Oi(P),R.push($)}function gr(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function oa(R){var P=jn||null;if(P){var Y=P.resumableState,$=P.renderState;if(typeof R=="string"&&R){if(!Y.dnsResources.hasOwnProperty(R)){Y.dnsResources[R]=null,Y=$.headers;var oe,ke;(ke=Y&&0<Y.remainingCapacity)&&(ke=(oe="<"+(""+R).replace(Zi,Bo)+">; rel=dns-prefetch",0<=(Y.remainingCapacity-=oe.length+2))),ke?($.resets.dns[R]=null,Y.preconnects&&(Y.preconnects+=", "),Y.preconnects+=oe):(oe=[],qe(oe,{href:R,rel:"dns-prefetch"}),$.preconnects.add(oe))}Be(P)}}else Ae.D(R)}function Hr(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,oe=Y.renderState;if(typeof R=="string"&&R){var ke=P==="use-credentials"?"credentials":typeof P=="string"?"anonymous":"default";if(!$.connectResources[ke].hasOwnProperty(R)){$.connectResources[ke][R]=null,$=oe.headers;var ze,vt;if(vt=$&&0<$.remainingCapacity){if(vt="<"+(""+R).replace(Zi,Bo)+">; rel=preconnect",typeof P=="string"){var nt=(""+P).replace(br,Xn);vt+='; crossorigin="'+nt+'"'}vt=(ze=vt,0<=($.remainingCapacity-=ze.length+2))}vt?(oe.resets.connect[ke][R]=null,$.preconnects&&($.preconnects+=", "),$.preconnects+=ze):(ke=[],qe(ke,{rel:"preconnect",href:R,crossOrigin:P}),oe.preconnects.add(ke))}Be(Y)}}else Ae.C(R,P)}function or(R,P,Y){var $=jn||null;if($){var oe=$.resumableState,ke=$.renderState;if(P&&R){switch(P){case"image":if(Y)var ze=Y.imageSrcSet,vt=Y.imageSizes,nt=Y.fetchPriority;var bt=ze?ze+`
`+(vt||""):R;if(oe.imageResources.hasOwnProperty(bt))return;oe.imageResources[bt]=Ne,oe=ke.headers;var Rt;oe&&0<oe.remainingCapacity&&typeof ze!="string"&&nt==="high"&&(Rt=mn(R,P,Y),0<=(oe.remainingCapacity-=Rt.length+2))?(ke.resets.image[bt]=Ne,oe.highImagePreloads&&(oe.highImagePreloads+=", "),oe.highImagePreloads+=Rt):(oe=[],qe(oe,ve({rel:"preload",href:ze?void 0:R,as:P},Y)),nt==="high"?ke.highImagePreloads.add(oe):(ke.bulkPreloads.add(oe),ke.preloads.images.set(bt,oe)));break;case"style":if(oe.styleResources.hasOwnProperty(R))return;ze=[],qe(ze,ve({rel:"preload",href:R,as:P},Y)),oe.styleResources[R]=!Y||typeof Y.crossOrigin!="string"&&typeof Y.integrity!="string"?Ne:[Y.crossOrigin,Y.integrity],ke.preloads.stylesheets.set(R,ze),ke.bulkPreloads.add(ze);break;case"script":if(oe.scriptResources.hasOwnProperty(R))return;ze=[],ke.preloads.scripts.set(R,ze),ke.bulkPreloads.add(ze),qe(ze,ve({rel:"preload",href:R,as:P},Y)),oe.scriptResources[R]=!Y||typeof Y.crossOrigin!="string"&&typeof Y.integrity!="string"?Ne:[Y.crossOrigin,Y.integrity];break;default:if(oe.unknownResources.hasOwnProperty(P)){if(ze=oe.unknownResources[P],ze.hasOwnProperty(R))return}else ze={},oe.unknownResources[P]=ze;ze[R]=Ne,(oe=ke.headers)&&0<oe.remainingCapacity&&P==="font"&&(bt=mn(R,P,Y),0<=(oe.remainingCapacity-=bt.length+2))?(ke.resets.font[R]=Ne,oe.fontPreloads&&(oe.fontPreloads+=", "),oe.fontPreloads+=bt):(oe=[],R=ve({rel:"preload",href:R,as:P},Y),qe(oe,R),P)==="font"?ke.fontPreloads.add(oe):ke.bulkPreloads.add(oe)}Be($)}}else Ae.L(R,P,Y)}function co(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,oe=Y.renderState;if(R){var ke=P&&typeof P.as=="string"?P.as:"script";switch(ke){case"script":if($.moduleScriptResources.hasOwnProperty(R))return;ke=[],$.moduleScriptResources[R]=!P||typeof P.crossOrigin!="string"&&typeof P.integrity!="string"?Ne:[P.crossOrigin,P.integrity],oe.preloads.moduleScripts.set(R,ke);break;default:if($.moduleUnknownResources.hasOwnProperty(ke)){var ze=$.unknownResources[ke];if(ze.hasOwnProperty(R))return}else ze={},$.moduleUnknownResources[ke]=ze;ke=[],ze[R]=Ne}qe(ke,ve({rel:"modulepreload",href:R},P)),oe.bulkPreloads.add(ke),Be(Y)}}else Ae.m(R,P)}function bi(R,P,Y){var $=jn||null;if($){var oe=$.resumableState,ke=$.renderState;if(R){P=P||"default";var ze=ke.styles.get(P),vt=oe.styleResources.hasOwnProperty(R)?oe.styleResources[R]:void 0;vt!==null&&(oe.styleResources[R]=null,ze||(ze={precedence:Re(P),rules:[],hrefs:[],sheets:new Map},ke.styles.set(P,ze)),P={state:0,props:ve({rel:"stylesheet",href:R,"data-precedence":P},Y)},vt&&(vt.length===2&&wi(P.props,vt),(ke=ke.preloads.stylesheets.get(R))&&0<ke.length?ke.length=0:P.state=1),ze.sheets.set(R,P),Be($))}}else Ae.S(R,P,Y)}function Ni(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,oe=Y.renderState;if(R){var ke=$.scriptResources.hasOwnProperty(R)?$.scriptResources[R]:void 0;ke!==null&&($.scriptResources[R]=null,P=ve({src:R,async:!0},P),ke&&(ke.length===2&&wi(P,ke),R=oe.preloads.scripts.get(R))&&(R.length=0),R=[],oe.scripts.add(R),We(R,P),Be(Y))}}else Ae.X(R,P)}function hn(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,oe=Y.renderState;if(R){var ke=$.moduleScriptResources.hasOwnProperty(R)?$.moduleScriptResources[R]:void 0;ke!==null&&($.moduleScriptResources[R]=null,P=ve({src:R,type:"module",async:!0},P),ke&&(ke.length===2&&wi(P,ke),R=oe.preloads.moduleScripts.get(R))&&(R.length=0),R=[],oe.scripts.add(R),We(R,P),Be(Y))}}else Ae.M(R,P)}function wi(R,P){R.crossOrigin==null&&(R.crossOrigin=P[0]),R.integrity==null&&(R.integrity=P[1])}function mn(R,P,Y){R=(""+R).replace(Zi,Bo),P=(""+P).replace(br,Xn),P="<"+R+'>; rel=preload; as="'+P+'"';for(var $ in Y)Se.call(Y,$)&&(R=Y[$],typeof R=="string"&&(P+="; "+$.toLowerCase()+'="'+(""+R).replace(br,Xn)+'"'));return P}var Zi=/[<>\r\n]/g;function Bo(R){switch(R){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var br=/["';,\r\n]/g;function Xn(R){switch(R){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function fr(R){this.styles.add(R)}function Or(R){this.stylesheets.add(R)}function fo(R,P){P.styles.forEach(fr,R),P.stylesheets.forEach(Or,R),P.suspenseyImages&&(R.suspenseyImages=!0)}function cn(R,P){var Y=R.idPrefix,$=[],oe=R.bootstrapScriptContent,ke=R.bootstrapScripts,ze=R.bootstrapModules;oe!==void 0&&($.push("<script"),xi($,R),$.push(">",(""+oe).replace(xt,et),"<\/script>")),oe=Y+"P:";var vt=Y+"S:";Y+="B:";var nt=new Set,bt=new Set,Rt=new Set,kt=new Map,Zt=new Set,dn=new Set,Nn=new Set,In={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(ke!==void 0)for(var rr=0;rr<ke.length;rr++){var Rn=ke[rr],sr,_r=void 0,ta=void 0,wr={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof Rn=="string"?wr.href=sr=Rn:(wr.href=sr=Rn.src,wr.integrity=ta=typeof Rn.integrity=="string"?Rn.integrity:void 0,wr.crossOrigin=_r=typeof Rn=="string"||Rn.crossOrigin==null?void 0:Rn.crossOrigin==="use-credentials"?"use-credentials":""),Rn=R;var jr=sr;Rn.scriptResources[jr]=null,Rn.moduleScriptResources[jr]=null,Rn=[],qe(Rn,wr),Zt.add(Rn),$.push('<script src="',Re(sr),'"'),typeof ta=="string"&&$.push(' integrity="',Re(ta),'"'),typeof _r=="string"&&$.push(' crossorigin="',Re(_r),'"'),xi($,R),$.push(' async=""><\/script>')}if(ze!==void 0)for(ke=0;ke<ze.length;ke++)wr=ze[ke],_r=sr=void 0,ta={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof wr=="string"?ta.href=rr=wr:(ta.href=rr=wr.src,ta.integrity=_r=typeof wr.integrity=="string"?wr.integrity:void 0,ta.crossOrigin=sr=typeof wr=="string"||wr.crossOrigin==null?void 0:wr.crossOrigin==="use-credentials"?"use-credentials":""),wr=R,Rn=rr,wr.scriptResources[Rn]=null,wr.moduleScriptResources[Rn]=null,wr=[],qe(wr,ta),Zt.add(wr),$.push('<script type="module" src="',Re(rr),'"'),typeof _r=="string"&&$.push(' integrity="',Re(_r),'"'),typeof sr=="string"&&$.push(' crossorigin="',Re(sr),'"'),xi($,R),$.push(' async=""><\/script>');return{placeholderPrefix:oe,segmentPrefix:vt,boundaryPrefix:Y,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:$,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:nt,fontPreloads:bt,highImagePreloads:Rt,styles:kt,bootstrapScripts:Zt,scripts:dn,bulkPreloads:Nn,preloads:In,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:P}}function On(R,P,Y,$){return Y.generateStaticMarkup?(R.push(Re(P)),!1):(P===""?R=$:($&&R.push("<!-- -->"),R.push(Re(P)),R=!0),R)}function qi(R,P,Y,$){P.generateStaticMarkup||Y&&$&&R.push("<!-- -->")}var hl=Function.prototype.bind,Ai=Symbol.for("react.client.reference");function _a(R){if(R==null)return null;if(typeof R=="function")return R.$$typeof===Ai?null:R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case u:return"Fragment";case d:return"Profiler";case y:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList";case S:return"Activity"}if(typeof R=="object")switch(R.$$typeof){case o:return"Portal";case c:return R.displayName||"Context";case a:return(R._context.displayName||"Context")+".Consumer";case v:var P=R.render;return R=R.displayName,R||(R=P.displayName||P.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case m:return P=R.displayName||null,P!==null?P:_a(R.type)||"Memo";case C:P=R._payload,R=R._init;try{return _a(R(P))}catch{}}return null}var pr={},Zn=null;function Ir(R,P){if(R!==P){R.context._currentValue2=R.parentValue,R=R.parent;var Y=P.parent;if(R===null){if(Y!==null)throw Error(n(401))}else{if(Y===null)throw Error(n(401));Ir(R,Y)}P.context._currentValue2=P.value}}function Ti(R){R.context._currentValue2=R.parentValue,R=R.parent,R!==null&&Ti(R)}function jt(R){var P=R.parent;P!==null&&jt(P),R.context._currentValue2=R.value}function Qe(R,P){if(R.context._currentValue2=R.parentValue,R=R.parent,R===null)throw Error(n(402));R.depth===P.depth?Ir(R,P):Qe(R,P)}function Gn(R,P){var Y=P.parent;if(Y===null)throw Error(n(402));R.depth===Y.depth?Ir(R,Y):Gn(R,Y),P.context._currentValue2=P.value}function ki(R){var P=Zn;P!==R&&(P===null?jt(R):R===null?Ti(P):P.depth===R.depth?Ir(P,R):P.depth>R.depth?Qe(P,R):Gn(P,R),Zn=R)}var ma={enqueueSetState:function(R,P){R=R._reactInternals,R.queue!==null&&R.queue.push(P)},enqueueReplaceState:function(R,P){R=R._reactInternals,R.replace=!0,R.queue=[P]},enqueueForceUpdate:function(){}},rt={id:1,overflow:""};function Gt(R,P,Y){var $=R.id;R=R.overflow;var oe=32-It($)-1;$&=~(1<<oe),Y+=1;var ke=32-It(P)+oe;if(30<ke){var ze=oe-oe%5;return ke=($&(1<<ze)-1).toString(32),$>>=ze,oe-=ze,{id:1<<32-It(P)+oe|Y<<oe|$,overflow:ke+R}}return{id:1<<ke|Y<<oe|$,overflow:R}}var It=Math.clz32?Math.clz32:hr,nn=Math.log,xn=Math.LN2;function hr(R){return R>>>=0,R===0?32:31-(nn(R)/xn|0)|0}function En(){}var kr=Error(n(460));function $r(R,P,Y){switch(Y=R[Y],Y===void 0?R.push(P):Y!==P&&(P.then(En,En),P=Y),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(En,En):(R=P,R.status="pending",R.then(function($){if(P.status==="pending"){var oe=P;oe.status="fulfilled",oe.value=$}},function($){if(P.status==="pending"){var oe=P;oe.status="rejected",oe.reason=$}})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}throw Rr=P,kr}}var Rr=null;function ei(){if(Rr===null)throw Error(n(459));var R=Rr;return Rr=null,R}function Ur(R,P){return R===P&&(R!==0||1/R===1/P)||R!==R&&P!==P}var Jr=typeof Object.is=="function"?Object.is:Ur,Dr=null,Vn=null,ba=null,tr=null,Zr=null,hi=null,Ui=!1,wo=!1,Fo=0,As=0,Co=-1,ho=0,io=null,us=null,Qi=0;function Ma(){if(Dr===null)throw Error(n(321));return Dr}function Aa(){if(0<Qi)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Ts(){return hi===null?Zr===null?(Ui=!1,Zr=hi=Aa()):(Ui=!0,hi=Zr):hi.next===null?(Ui=!1,hi=hi.next=Aa()):(Ui=!0,hi=hi.next),hi}function ks(){var R=io;return io=null,R}function Oa(){tr=ba=Vn=Dr=null,wo=!1,Zr=null,Qi=0,hi=us=null}function yu(R,P){return typeof P=="function"?P(R):P}function jl(R,P,Y){if(Dr=Ma(),hi=Ts(),Ui){var $=hi.queue;if(P=$.dispatch,us!==null&&(Y=us.get($),Y!==void 0)){us.delete($),$=hi.memoizedState;do $=R($,Y.action),Y=Y.next;while(Y!==null);return hi.memoizedState=$,[$,P]}return[hi.memoizedState,P]}return R=R===yu?typeof P=="function"?P():P:Y!==void 0?Y(P):P,hi.memoizedState=R,R=hi.queue={last:null,dispatch:null},R=R.dispatch=gi.bind(null,Dr,R),[hi.memoizedState,R]}function Dl(R,P){if(Dr=Ma(),hi=Ts(),P=P===void 0?null:P,hi!==null){var Y=hi.memoizedState;if(Y!==null&&P!==null){var $=Y[1];e:if($===null)$=!1;else{for(var oe=0;oe<$.length&&oe<P.length;oe++)if(!Jr(P[oe],$[oe])){$=!1;break e}$=!0}if($)return Y[0]}}return R=R(),hi.memoizedState=[R,P],R}function gi(R,P,Y){if(25<=Qi)throw Error(n(301));if(R===Dr)if(wo=!0,R={action:Y,next:null},us===null&&(us=new Map),Y=us.get(P),Y===void 0)us.set(P,R);else{for(P=Y;P.next!==null;)P=P.next;P.next=R}}function Ds(){throw Error(n(440))}function _l(){throw Error(n(394))}function Pa(){throw Error(n(479))}function _s(R,P,Y){Ma();var $=As++,oe=ba;if(typeof R.$$FORM_ACTION=="function"){var ke=null,ze=tr;oe=oe.formState;var vt=R.$$IS_SIGNATURE_EQUAL;if(oe!==null&&typeof vt=="function"){var nt=oe[1];vt.call(R,oe[2],oe[3])&&(ke=Y!==void 0?"p"+Y:"k"+ne(JSON.stringify([ze,null,$]),0),nt===ke&&(Co=$,P=oe[0]))}var bt=R.bind(null,P);return R=function(kt){bt(kt)},typeof bt.$$FORM_ACTION=="function"&&(R.$$FORM_ACTION=function(kt){kt=bt.$$FORM_ACTION(kt),Y!==void 0&&(Y+="",kt.action=Y);var Zt=kt.data;return Zt&&(ke===null&&(ke=Y!==void 0?"p"+Y:"k"+ne(JSON.stringify([ze,null,$]),0)),Zt.append("$ACTION_KEY",ke)),kt}),[P,R,!1]}var Rt=R.bind(null,P);return[P,function(kt){Rt(kt)},!1]}function Jt(R){var P=ho;return ho+=1,io===null&&(io=[]),$r(io,R,P)}function Nr(){throw Error(n(393))}var Ka={readContext:function(R){return R._currentValue2},use:function(R){if(R!==null&&typeof R=="object"){if(typeof R.then=="function")return Jt(R);if(R.$$typeof===c)return R._currentValue2}throw Error(n(438,String(R)))},useContext:function(R){return Ma(),R._currentValue2},useMemo:Dl,useReducer:jl,useRef:function(R){Dr=Ma(),hi=Ts();var P=hi.memoizedState;return P===null?(R={current:R},hi.memoizedState=R):P},useState:function(R){return jl(yu,R)},useInsertionEffect:En,useLayoutEffect:En,useCallback:function(R,P){return Dl(function(){return R},P)},useImperativeHandle:En,useEffect:En,useDebugValue:En,useDeferredValue:function(R,P){return Ma(),P!==void 0?P:R},useTransition:function(){return Ma(),[!1,_l]},useId:function(){var R=Vn.treeContext,P=R.overflow;R=R.id,R=(R&~(1<<32-It(R)-1)).toString(32)+P;var Y=cs;if(Y===null)throw Error(n(404));return P=Fo++,R="_"+Y.idPrefix+"R_"+R,0<P&&(R+="H"+P.toString(32)),R+"_"},useSyncExternalStore:function(R,P,Y){if(Y===void 0)throw Error(n(407));return Y()},useOptimistic:function(R){return Ma(),[R,Pa]},useActionState:_s,useFormState:_s,useHostTransitionStatus:function(){return Ma(),me},useMemoCache:function(R){for(var P=Array(R),Y=0;Y<R;Y++)P[Y]=N;return P},useCacheRefresh:function(){return Nr},useEffectEvent:function(){return Ds}},cs=null,xu={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}},Wl,ru;function Zs(R){if(Wl===void 0)try{throw Error()}catch(Y){var P=Y.stack.trim().match(/\n( *(at )?)/);Wl=P&&P[1]||"",ru=-1<Y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wl+R+ru}var Ia=!1;function Ji(R,P){if(!R||Ia)return"";Ia=!0;var Y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var $={DetermineComponentFrameRoot:function(){try{if(P){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(dn){var Zt=dn}Reflect.construct(R,[],kt)}else{try{kt.call()}catch(dn){Zt=dn}R.call(kt.prototype)}}else{try{throw Error()}catch(dn){Zt=dn}(kt=R())&&typeof kt.catch=="function"&&kt.catch(function(){})}}catch(dn){if(dn&&Zt&&typeof dn.stack=="string")return[dn.stack,Zt.stack]}return[null,null]}};$.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var oe=Object.getOwnPropertyDescriptor($.DetermineComponentFrameRoot,"name");oe&&oe.configurable&&Object.defineProperty($.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ke=$.DetermineComponentFrameRoot(),ze=ke[0],vt=ke[1];if(ze&&vt){var nt=ze.split(`
`),bt=vt.split(`
`);for(oe=$=0;$<nt.length&&!nt[$].includes("DetermineComponentFrameRoot");)$++;for(;oe<bt.length&&!bt[oe].includes("DetermineComponentFrameRoot");)oe++;if($===nt.length||oe===bt.length)for($=nt.length-1,oe=bt.length-1;1<=$&&0<=oe&&nt[$]!==bt[oe];)oe--;for(;1<=$&&0<=oe;$--,oe--)if(nt[$]!==bt[oe]){if($!==1||oe!==1)do if($--,oe--,0>oe||nt[$]!==bt[oe]){var Rt=`
`+nt[$].replace(" at new "," at ");return R.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",R.displayName)),Rt}while(1<=$&&0<=oe);break}}}finally{Ia=!1,Error.prepareStackTrace=Y}return(Y=R?R.displayName||R.name:"")?Zs(Y):""}function Fs(R){if(typeof R=="string")return Zs(R);if(typeof R=="function")return R.prototype&&R.prototype.isReactComponent?Ji(R,!0):Ji(R,!1);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return Ji(R.render,!1);case m:return Ji(R.type,!1);case C:var P=R,Y=P._payload;P=P._init;try{R=P(Y)}catch{return Zs("Lazy")}return Fs(R)}if(typeof R.name=="string"){e:{Y=R.name,P=R.env;var $=R.debugLocation;if($!=null&&(R=Error.prepareStackTrace,Error.prepareStackTrace=void 0,$=$.stack,Error.prepareStackTrace=R,$.startsWith(`Error: react-stack-top-frame
`)&&($=$.slice(29)),R=$.indexOf(`
`),R!==-1&&($=$.slice(R+1)),R=$.indexOf("react_stack_bottom_frame"),R!==-1&&(R=$.lastIndexOf(`
`,R)),R=R!==-1?$=$.slice(0,R):"",$=R.lastIndexOf(`
`),R=$===-1?R:R.slice($+1),R.indexOf(Y)!==-1)){Y=`
`+R;break e}Y=Zs(Y+(P?" ["+P+"]":""))}return Y}}switch(R){case g:return Zs("SuspenseList");case f:return Zs("Suspense")}return""}function Li(R,P){return(500<P.byteSize||!1)&&P.contentPreamble===null}function dl(R){if(typeof R=="object"&&R!==null&&typeof R.environmentName=="string"){var P=R.environmentName;R=[R].slice(0),typeof R[0]=="string"?R.splice(0,1,"[%s] "+R[0]," "+P+" "):R.splice(0,0,"[%s]"," "+P+" "),R.unshift(console),P=hl.apply(console.error,R),P()}else console.error(R);return null}function gl(R,P,Y,$,oe,ke,ze,vt,nt,bt,Rt){var kt=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=R,this.renderState=P,this.rootFormatContext=Y,this.progressiveChunkSize=$===void 0?12800:$,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=kt,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=oe===void 0?dl:oe,this.onPostpone=bt===void 0?En:bt,this.onAllReady=ke===void 0?En:ke,this.onShellReady=ze===void 0?En:ze,this.onShellError=vt===void 0?En:vt,this.onFatalError=nt===void 0?En:nt,this.formState=Rt===void 0?null:Rt}function Di(R,P,Y,$,oe,ke,ze,vt,nt,bt,Rt,kt){return P=new gl(P,Y,$,oe,ke,ze,vt,nt,bt,Rt,kt),Y=Po(P,0,null,$,!1,!1),Y.parentFlushed=!0,R=fs(P,null,R,-1,null,Y,null,null,P.abortableTasks,null,$,null,rt,null,null),oi(R),P.pingedTasks.push(R),P}var jn=null;function Vo(R,P){R.pingedTasks.push(P),R.pingedTasks.length===1&&(R.flushScheduled=R.destination!==null,A(R))}function di(R,P,Y,$,oe){return Y={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:P,completedSegments:[],byteSize:0,fallbackAbortableTasks:Y,errorDigest:null,contentState:gr(),fallbackState:gr(),contentPreamble:$,fallbackPreamble:oe,trackedContentKeyPath:null,trackedFallbackNode:null},P!==null&&(P.pendingTasks++,$=P.boundaries,$!==null&&(R.allPendingTasks++,Y.pendingTasks++,$.push(Y)),R=P.inheritedHoistables,R!==null&&fo(Y.contentState,R)),Y}function fs(R,P,Y,$,oe,ke,ze,vt,nt,bt,Rt,kt,Zt,dn,Nn){R.allPendingTasks++,oe===null?R.pendingRootTasks++:oe.pendingTasks++,dn!==null&&dn.pendingTasks++;var In={replay:null,node:Y,childIndex:$,ping:function(){return Vo(R,In)},blockedBoundary:oe,blockedSegment:ke,blockedPreamble:ze,hoistableState:vt,abortSet:nt,keyPath:bt,formatContext:Rt,context:kt,treeContext:Zt,row:dn,componentStack:Nn,thenableState:P};return nt.add(In),In}function qs(R,P,Y,$,oe,ke,ze,vt,nt,bt,Rt,kt,Zt,dn){R.allPendingTasks++,ke===null?R.pendingRootTasks++:ke.pendingTasks++,Zt!==null&&Zt.pendingTasks++,Y.pendingTasks++;var Nn={replay:Y,node:$,childIndex:oe,ping:function(){return Vo(R,Nn)},blockedBoundary:ke,blockedSegment:null,blockedPreamble:null,hoistableState:ze,abortSet:vt,keyPath:nt,formatContext:bt,context:Rt,treeContext:kt,row:Zt,componentStack:dn,thenableState:P};return vt.add(Nn),Nn}function Po(R,P,Y,$,oe,ke){return{status:0,parentFlushed:!1,id:-1,index:P,chunks:[],children:[],preambleChildren:[],parentFormatContext:$,boundary:Y,lastPushedText:oe,textEmbedded:ke}}function oi(R){var P=R.node;typeof P=="object"&&P!==null&&P.$$typeof===r&&(R.componentStack={parent:R.componentStack,type:P.type})}function pl(R){return R===null?null:{parent:R.parent,type:"Suspense Fallback"}}function Ps(R){var P={};return R&&Object.defineProperty(P,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var Y="",$=R;do Y+=Fs($.type),$=$.parent;while($);var oe=Y}catch(ke){oe=`
Error generating stack: `+ke.message+`
`+ke.stack}return Object.defineProperty(P,"componentStack",{value:oe}),oe}}),P}function $i(R,P,Y){if(R=R.onError,P=R(P,Y),P==null||typeof P=="string")return P}function zo(R,P){var Y=R.onShellError,$=R.onFatalError;Y(P),$(P),R.destination!==null?(R.status=14,R.destination.destroy(P)):(R.status=13,R.fatalError=P)}function Bi(R,P){Ko(R,P.next,P.hoistables)}function Ko(R,P,Y){for(;P!==null;){Y!==null&&(fo(P.hoistables,Y),P.inheritedHoistables=Y);var $=P.boundaries;if($!==null){P.boundaries=null;for(var oe=0;oe<$.length;oe++){var ke=$[oe];Y!==null&&fo(ke.contentState,Y),w(R,ke,null,null)}}if(P.pendingTasks--,0<P.pendingTasks)break;Y=P.hoistables,P=P.next}}function Zo(R,P){var Y=P.boundaries;if(Y!==null&&P.pendingTasks===Y.length){for(var $=!0,oe=0;oe<Y.length;oe++){var ke=Y[oe];if(ke.pendingTasks!==1||ke.parentFlushed||Li(R,ke)){$=!1;break}}$&&Ko(R,P,P.hoistables)}}function Qs(R){var P={pendingTasks:1,boundaries:null,hoistables:gr(),inheritedHoistables:null,together:!1,next:null};return R!==null&&0<R.pendingTasks&&(P.pendingTasks++,P.boundaries=[],R.next=P),P}function bu(R,P,Y,$,oe){var ke=P.keyPath,ze=P.treeContext,vt=P.row;P.keyPath=Y,Y=$.length;var nt=null;if(P.replay!==null){var bt=P.replay.slots;if(bt!==null&&typeof bt=="object")for(var Rt=0;Rt<Y;Rt++){var kt=oe!=="backwards"&&oe!=="unstable_legacy-backwards"?Rt:Y-1-Rt,Zt=$[kt];P.row=nt=Qs(nt),P.treeContext=Gt(ze,Y,kt);var dn=bt[kt];typeof dn=="number"?(Ml(R,P,dn,Zt,kt),delete bt[kt]):ji(R,P,Zt,kt),--nt.pendingTasks===0&&Bi(R,nt)}else for(bt=0;bt<Y;bt++)Rt=oe!=="backwards"&&oe!=="unstable_legacy-backwards"?bt:Y-1-bt,kt=$[Rt],P.row=nt=Qs(nt),P.treeContext=Gt(ze,Y,Rt),ji(R,P,kt,Rt),--nt.pendingTasks===0&&Bi(R,nt)}else if(oe!=="backwards"&&oe!=="unstable_legacy-backwards")for(oe=0;oe<Y;oe++)bt=$[oe],P.row=nt=Qs(nt),P.treeContext=Gt(ze,Y,oe),ji(R,P,bt,oe),--nt.pendingTasks===0&&Bi(R,nt);else{for(oe=P.blockedSegment,bt=oe.children.length,Rt=oe.chunks.length,kt=Y-1;0<=kt;kt--){Zt=$[kt],P.row=nt=Qs(nt),P.treeContext=Gt(ze,Y,kt),dn=Po(R,Rt,null,P.formatContext,kt===0?oe.lastPushedText:!0,!0),oe.children.splice(bt,0,dn),P.blockedSegment=dn;try{ji(R,P,Zt,kt),qi(dn.chunks,R.renderState,dn.lastPushedText,dn.textEmbedded),dn.status=1,--nt.pendingTasks===0&&Bi(R,nt)}catch(Nn){throw dn.status=R.status===12?3:4,Nn}}P.blockedSegment=oe,oe.lastPushedText=!1}vt!==null&&nt!==null&&0<nt.pendingTasks&&(vt.pendingTasks++,nt.next=vt),P.treeContext=ze,P.row=vt,P.keyPath=ke}function ml(R,P,Y,$,oe,ke){var ze=P.thenableState;for(P.thenableState=null,Dr={},Vn=P,ba=R,tr=Y,As=Fo=0,Co=-1,ho=0,io=ze,R=$(oe,ke);wo;)wo=!1,As=Fo=0,Co=-1,ho=0,Qi+=1,hi=null,R=$(oe,ke);return Oa(),R}function Js(R,P,Y,$,oe,ke,ze){var vt=!1;if(ke!==0&&R.formState!==null){var nt=P.blockedSegment;if(nt!==null){vt=!0,nt=nt.chunks;for(var bt=0;bt<ke;bt++)bt===ze?nt.push("<!--F!-->"):nt.push("<!--F-->")}}ke=P.keyPath,P.keyPath=Y,oe?(Y=P.treeContext,P.treeContext=Gt(Y,1,0),ji(R,P,$,-1),P.treeContext=Y):vt?ji(R,P,$,-1):Fi(R,P,$,-1),P.keyPath=ke}function qo(R,P,Y,$,oe,ke){if(typeof $=="function")if($.prototype&&$.prototype.isReactComponent){var ze=oe;if("ref"in oe){ze={};for(var vt in oe)vt!=="ref"&&(ze[vt]=oe[vt])}var nt=$.defaultProps;if(nt){ze===oe&&(ze=ve({},ze,oe));for(var bt in nt)ze[bt]===void 0&&(ze[bt]=nt[bt])}oe=ze,ze=pr,nt=$.contextType,typeof nt=="object"&&nt!==null&&(ze=nt._currentValue2),ze=new $(oe,ze);var Rt=ze.state!==void 0?ze.state:null;if(ze.updater=ma,ze.props=oe,ze.state=Rt,nt={queue:[],replace:!1},ze._reactInternals=nt,ke=$.contextType,ze.context=typeof ke=="object"&&ke!==null?ke._currentValue2:pr,ke=$.getDerivedStateFromProps,typeof ke=="function"&&(ke=ke(oe,Rt),Rt=ke==null?Rt:ve({},Rt,ke),ze.state=Rt),typeof $.getDerivedStateFromProps!="function"&&typeof ze.getSnapshotBeforeUpdate!="function"&&(typeof ze.UNSAFE_componentWillMount=="function"||typeof ze.componentWillMount=="function"))if($=ze.state,typeof ze.componentWillMount=="function"&&ze.componentWillMount(),typeof ze.UNSAFE_componentWillMount=="function"&&ze.UNSAFE_componentWillMount(),$!==ze.state&&ma.enqueueReplaceState(ze,ze.state,null),nt.queue!==null&&0<nt.queue.length)if($=nt.queue,ke=nt.replace,nt.queue=null,nt.replace=!1,ke&&$.length===1)ze.state=$[0];else{for(nt=ke?$[0]:ze.state,Rt=!0,ke=ke?1:0;ke<$.length;ke++)bt=$[ke],bt=typeof bt=="function"?bt.call(ze,nt,oe,void 0):bt,bt!=null&&(Rt?(Rt=!1,nt=ve({},nt,bt)):ve(nt,bt));ze.state=nt}else nt.queue=null;if($=ze.render(),R.status===12)throw null;oe=P.keyPath,P.keyPath=Y,Fi(R,P,$,-1),P.keyPath=oe}else{if($=ml(R,P,Y,$,oe,void 0),R.status===12)throw null;Js(R,P,Y,$,Fo!==0,As,Co)}else if(typeof $=="string")if(ze=P.blockedSegment,ze===null)ze=oe.children,nt=P.formatContext,Rt=P.keyPath,P.formatContext=Ft(nt,$,oe),P.keyPath=Y,ji(R,P,ze,-1),P.formatContext=nt,P.keyPath=Rt;else{if(Rt=Pt(ze.chunks,$,oe,R.resumableState,R.renderState,P.blockedPreamble,P.hoistableState,P.formatContext,ze.lastPushedText),ze.lastPushedText=!1,nt=P.formatContext,ke=P.keyPath,P.keyPath=Y,(P.formatContext=Ft(nt,$,oe)).insertionMode===3){Y=Po(R,0,null,P.formatContext,!1,!1),ze.preambleChildren.push(Y),P.blockedSegment=Y;try{Y.status=6,ji(R,P,Rt,-1),qi(Y.chunks,R.renderState,Y.lastPushedText,Y.textEmbedded),Y.status=1}finally{P.blockedSegment=ze}}else ji(R,P,Rt,-1);P.formatContext=nt,P.keyPath=ke;e:{switch(P=ze.chunks,R=R.resumableState,$){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=nt.insertionMode){R.hasBody=!0;break e}break;case"html":if(nt.insertionMode===0){R.hasHtml=!0;break e}break;case"head":if(1>=nt.insertionMode)break e}P.push(Cn($))}ze.lastPushedText=!1}else{switch($){case O:case y:case d:case u:$=P.keyPath,P.keyPath=Y,Fi(R,P,oe.children,-1),P.keyPath=$;return;case S:$=P.blockedSegment,$===null?oe.mode!=="hidden"&&($=P.keyPath,P.keyPath=Y,ji(R,P,oe.children,-1),P.keyPath=$):oe.mode!=="hidden"&&(R.renderState.generateStaticMarkup||$.chunks.push("<!--&-->"),$.lastPushedText=!1,ze=P.keyPath,P.keyPath=Y,ji(R,P,oe.children,-1),P.keyPath=ze,R.renderState.generateStaticMarkup||$.chunks.push("<!--/&-->"),$.lastPushedText=!1);return;case g:e:{if($=oe.children,oe=oe.revealOrder,oe==="forwards"||oe==="backwards"||oe==="unstable_legacy-backwards"){if(J($)){bu(R,P,Y,$,oe);break e}if((ze=q($))&&(ze=ze.call($))){if(nt=ze.next(),!nt.done){do nt=ze.next();while(!nt.done);bu(R,P,Y,$,oe)}break e}}oe==="together"?(oe=P.keyPath,ze=P.row,nt=P.row=Qs(null),nt.boundaries=[],nt.together=!0,P.keyPath=Y,Fi(R,P,$,-1),--nt.pendingTasks===0&&Bi(R,nt),P.keyPath=oe,P.row=ze,ze!==null&&0<nt.pendingTasks&&(ze.pendingTasks++,nt.next=ze)):(oe=P.keyPath,P.keyPath=Y,Fi(R,P,$,-1),P.keyPath=oe)}return;case U:case k:throw Error(n(343));case f:e:if(P.replay!==null){$=P.keyPath,ze=P.formatContext,nt=P.row,P.keyPath=Y,P.formatContext=St(R.resumableState,ze),P.row=null,Y=oe.children;try{ji(R,P,Y,-1)}finally{P.keyPath=$,P.formatContext=ze,P.row=nt}}else{$=P.keyPath,ke=P.formatContext;var kt=P.row,Zt=P.blockedBoundary;bt=P.blockedPreamble;var dn=P.hoistableState;vt=P.blockedSegment;var Nn=oe.fallback;oe=oe.children;var In=new Set,rr=di(R,P.row,In,null,null);R.trackedPostpones!==null&&(rr.trackedContentKeyPath=Y);var Rn=Po(R,vt.chunks.length,rr,P.formatContext,!1,!1);vt.children.push(Rn),vt.lastPushedText=!1;var sr=Po(R,0,null,P.formatContext,!1,!1);if(sr.parentFlushed=!0,R.trackedPostpones!==null){ze=P.componentStack,nt=[Y[0],"Suspense Fallback",Y[2]],Rt=[nt[1],nt[2],[],null],R.trackedPostpones.workingMap.set(nt,Rt),rr.trackedFallbackNode=Rt,P.blockedSegment=Rn,P.blockedPreamble=rr.fallbackPreamble,P.keyPath=nt,P.formatContext=At(R.resumableState,ke),P.componentStack=pl(ze),Rn.status=6;try{ji(R,P,Nn,-1),qi(Rn.chunks,R.renderState,Rn.lastPushedText,Rn.textEmbedded),Rn.status=1}catch(_r){throw Rn.status=R.status===12?3:4,_r}finally{P.blockedSegment=vt,P.blockedPreamble=bt,P.keyPath=$,P.formatContext=ke}P=fs(R,null,oe,-1,rr,sr,rr.contentPreamble,rr.contentState,P.abortSet,Y,St(R.resumableState,P.formatContext),P.context,P.treeContext,null,ze),oi(P),R.pingedTasks.push(P)}else{P.blockedBoundary=rr,P.blockedPreamble=rr.contentPreamble,P.hoistableState=rr.contentState,P.blockedSegment=sr,P.keyPath=Y,P.formatContext=St(R.resumableState,ke),P.row=null,sr.status=6;try{if(ji(R,P,oe,-1),qi(sr.chunks,R.renderState,sr.lastPushedText,sr.textEmbedded),sr.status=1,p(rr,sr),rr.pendingTasks===0&&rr.status===0){if(rr.status=1,!Li(R,rr)){kt!==null&&--kt.pendingTasks===0&&Bi(R,kt),R.pendingRootTasks===0&&P.blockedPreamble&&b(R);break e}}else kt!==null&&kt.together&&Zo(R,kt)}catch(_r){rr.status=4,R.status===12?(sr.status=3,ze=R.fatalError):(sr.status=4,ze=_r),nt=Ps(P.componentStack),Rt=$i(R,ze,nt),rr.errorDigest=Rt,Qo(R,rr)}finally{P.blockedBoundary=Zt,P.blockedPreamble=bt,P.hoistableState=dn,P.blockedSegment=vt,P.keyPath=$,P.formatContext=ke,P.row=kt}P=fs(R,null,Nn,-1,Zt,Rn,rr.fallbackPreamble,rr.fallbackState,In,[Y[0],"Suspense Fallback",Y[2]],At(R.resumableState,P.formatContext),P.context,P.treeContext,P.row,pl(P.componentStack)),oi(P),R.pingedTasks.push(P)}}return}if(typeof $=="object"&&$!==null)switch($.$$typeof){case v:if("ref"in oe)for(Nn in ze={},oe)Nn!=="ref"&&(ze[Nn]=oe[Nn]);else ze=oe;$=ml(R,P,Y,$.render,ze,ke),Js(R,P,Y,$,Fo!==0,As,Co);return;case m:qo(R,P,Y,$.type,oe,ke);return;case c:if(nt=oe.children,ze=P.keyPath,oe=oe.value,Rt=$._currentValue2,$._currentValue2=oe,ke=Zn,Zn=$={parent:ke,depth:ke===null?0:ke.depth+1,context:$,parentValue:Rt,value:oe},P.context=$,P.keyPath=Y,Fi(R,P,nt,-1),R=Zn,R===null)throw Error(n(403));R.context._currentValue2=R.parentValue,R=Zn=R.parent,P.context=R,P.keyPath=ze;return;case a:oe=oe.children,$=oe($._context._currentValue2),oe=P.keyPath,P.keyPath=Y,Fi(R,P,$,-1),P.keyPath=oe;return;case C:if(ze=$._init,$=ze($._payload),R.status===12)throw null;qo(R,P,Y,$,oe,ke);return}throw Error(n(130,$==null?$:typeof $,""))}}function Ml(R,P,Y,$,oe){var ke=P.replay,ze=P.blockedBoundary,vt=Po(R,0,null,P.formatContext,!1,!1);vt.id=Y,vt.parentFlushed=!0;try{P.replay=null,P.blockedSegment=vt,ji(R,P,$,oe),vt.status=1,ze===null?R.completedRootSegment=vt:(p(ze,vt),ze.parentFlushed&&R.partialBoundaries.push(ze))}finally{P.replay=ke,P.blockedSegment=null}}function Fi(R,P,Y,$){P.replay!==null&&typeof P.replay.slots=="number"?Ml(R,P,P.replay.slots,Y,$):(P.node=Y,P.childIndex=$,Y=P.componentStack,oi(P),So(R,P),P.componentStack=Y)}function So(R,P){var Y=P.node,$=P.childIndex;if(Y!==null){if(typeof Y=="object"){switch(Y.$$typeof){case r:var oe=Y.type,ke=Y.key,ze=Y.props;Y=ze.ref;var vt=Y!==void 0?Y:null,nt=_a(oe),bt=ke??($===-1?0:$);if(ke=[P.keyPath,nt,bt],P.replay!==null)e:{var Rt=P.replay;for($=Rt.nodes,Y=0;Y<$.length;Y++){var kt=$[Y];if(bt===kt[1]){if(kt.length===4){if(nt!==null&&nt!==kt[0])throw Error(n(490,kt[0],nt));var Zt=kt[2];nt=kt[3],bt=P.node,P.replay={nodes:Zt,slots:nt,pendingTasks:1};try{if(qo(R,P,ke,oe,ze,vt),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));P.replay.pendingTasks--}catch(jr){if(typeof jr=="object"&&jr!==null&&(jr===kr||typeof jr.then=="function"))throw P.node===bt?P.replay=Rt:$.splice(Y,1),jr;P.replay.pendingTasks--,ze=Ps(P.componentStack),ke=R,R=P.blockedBoundary,oe=jr,ze=$i(ke,oe,ze),go(ke,R,Zt,nt,oe,ze)}P.replay=Rt}else{if(oe!==f)throw Error(n(490,"Suspense",_a(oe)||"Unknown"));t:{Rt=void 0,oe=kt[5],vt=kt[2],nt=kt[3],bt=kt[4]===null?[]:kt[4][2],kt=kt[4]===null?null:kt[4][3];var dn=P.keyPath,Nn=P.formatContext,In=P.row,rr=P.replay,Rn=P.blockedBoundary,sr=P.hoistableState,_r=ze.children,ta=ze.fallback,wr=new Set;ze=di(R,P.row,wr,null,null),ze.parentFlushed=!0,ze.rootSegmentID=oe,P.blockedBoundary=ze,P.hoistableState=ze.contentState,P.keyPath=ke,P.formatContext=St(R.resumableState,Nn),P.row=null,P.replay={nodes:vt,slots:nt,pendingTasks:1};try{if(ji(R,P,_r,-1),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));if(P.replay.pendingTasks--,ze.pendingTasks===0&&ze.status===0){ze.status=1,R.completedBoundaries.push(ze);break t}}catch(jr){ze.status=4,Zt=Ps(P.componentStack),Rt=$i(R,jr,Zt),ze.errorDigest=Rt,P.replay.pendingTasks--,R.clientRenderedBoundaries.push(ze)}finally{P.blockedBoundary=Rn,P.hoistableState=sr,P.replay=rr,P.keyPath=dn,P.formatContext=Nn,P.row=In}Zt=qs(R,null,{nodes:bt,slots:kt,pendingTasks:0},ta,-1,Rn,ze.fallbackState,wr,[ke[0],"Suspense Fallback",ke[2]],At(R.resumableState,P.formatContext),P.context,P.treeContext,P.row,pl(P.componentStack)),oi(Zt),R.pingedTasks.push(Zt)}}$.splice(Y,1);break e}}}else qo(R,P,ke,oe,ze,vt);return;case o:throw Error(n(257));case C:if(Zt=Y._init,Y=Zt(Y._payload),R.status===12)throw null;Fi(R,P,Y,$);return}if(J(Y)){Za(R,P,Y,$);return}if((Zt=q(Y))&&(Zt=Zt.call(Y))){if(Y=Zt.next(),!Y.done){ze=[];do ze.push(Y.value),Y=Zt.next();while(!Y.done);Za(R,P,ze,$)}return}if(typeof Y.then=="function")return P.thenableState=null,Fi(R,P,Jt(Y),$);if(Y.$$typeof===c)return Fi(R,P,Y._currentValue2,$);throw $=Object.prototype.toString.call(Y),Error(n(31,$==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":$))}typeof Y=="string"?($=P.blockedSegment,$!==null&&($.lastPushedText=On($.chunks,Y,R.renderState,$.lastPushedText))):(typeof Y=="number"||typeof Y=="bigint")&&($=P.blockedSegment,$!==null&&($.lastPushedText=On($.chunks,""+Y,R.renderState,$.lastPushedText)))}}function Za(R,P,Y,$){var oe=P.keyPath;if($!==-1&&(P.keyPath=[P.keyPath,"Fragment",$],P.replay!==null)){for(var ke=P.replay,ze=ke.nodes,vt=0;vt<ze.length;vt++){var nt=ze[vt];if(nt[1]===$){$=nt[2],nt=nt[3],P.replay={nodes:$,slots:nt,pendingTasks:1};try{if(Za(R,P,Y,-1),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));P.replay.pendingTasks--}catch(kt){if(typeof kt=="object"&&kt!==null&&(kt===kr||typeof kt.then=="function"))throw kt;P.replay.pendingTasks--,Y=Ps(P.componentStack);var bt=P.blockedBoundary,Rt=kt;Y=$i(R,Rt,Y),go(R,bt,$,nt,Rt,Y)}P.replay=ke,ze.splice(vt,1);break}}P.keyPath=oe;return}if(ke=P.treeContext,ze=Y.length,P.replay!==null&&(vt=P.replay.slots,vt!==null&&typeof vt=="object")){for($=0;$<ze;$++)nt=Y[$],P.treeContext=Gt(ke,ze,$),bt=vt[$],typeof bt=="number"?(Ml(R,P,bt,nt,$),delete vt[$]):ji(R,P,nt,$);P.treeContext=ke,P.keyPath=oe;return}for(vt=0;vt<ze;vt++)$=Y[vt],P.treeContext=Gt(ke,ze,vt),ji(R,P,$,vt);P.treeContext=ke,P.keyPath=oe}function hs(R,P,Y){if(Y.status=5,Y.rootSegmentID=R.nextSegmentId++,R=Y.trackedContentKeyPath,R===null)throw Error(n(486));var $=Y.trackedFallbackNode,oe=[],ke=P.workingMap.get(R);return ke===void 0?(Y=[R[1],R[2],oe,null,$,Y.rootSegmentID],P.workingMap.set(R,Y),ot(Y,R[0],P),Y):(ke[4]=$,ke[5]=Y.rootSegmentID,ke)}function Ms(R,P,Y,$){$.status=5;var oe=Y.keyPath,ke=Y.blockedBoundary;if(ke===null)$.id=R.nextSegmentId++,P.rootSlots=$.id,R.completedRootSegment!==null&&(R.completedRootSegment.status=5);else{if(ke!==null&&ke.status===0){var ze=hs(R,P,ke);if(ke.trackedContentKeyPath===oe&&Y.childIndex===-1){$.id===-1&&($.id=$.parentFlushed?ke.rootSegmentID:R.nextSegmentId++),ze[3]=$.id;return}}if($.id===-1&&($.id=$.parentFlushed&&ke!==null?ke.rootSegmentID:R.nextSegmentId++),Y.childIndex===-1)oe===null?P.rootSlots=$.id:(Y=P.workingMap.get(oe),Y===void 0?(Y=[oe[1],oe[2],[],$.id],ot(Y,oe[0],P)):Y[3]=$.id);else{if(oe===null){if(R=P.rootSlots,R===null)R=P.rootSlots={};else if(typeof R=="number")throw Error(n(491))}else if(ke=P.workingMap,ze=ke.get(oe),ze===void 0)R={},ze=[oe[1],oe[2],[],R],ke.set(oe,ze),ot(ze,oe[0],P);else if(R=ze[3],R===null)R=ze[3]={};else if(typeof R=="number")throw Error(n(491));R[Y.childIndex]=$.id}}}function Qo(R,P){R=R.trackedPostpones,R!==null&&(P=P.trackedContentKeyPath,P!==null&&(P=R.workingMap.get(P),P!==void 0&&(P.length=4,P[2]=[],P[3]=null)))}function Ho(R,P,Y){return qs(R,Y,P.replay,P.node,P.childIndex,P.blockedBoundary,P.hoistableState,P.abortSet,P.keyPath,P.formatContext,P.context,P.treeContext,P.row,P.componentStack)}function za(R,P,Y){var $=P.blockedSegment,oe=Po(R,$.chunks.length,null,P.formatContext,$.lastPushedText,!0);return $.children.push(oe),$.lastPushedText=!1,fs(R,Y,P.node,P.childIndex,P.blockedBoundary,oe,P.blockedPreamble,P.hoistableState,P.abortSet,P.keyPath,P.formatContext,P.context,P.treeContext,P.row,P.componentStack)}function ji(R,P,Y,$){var oe=P.formatContext,ke=P.context,ze=P.keyPath,vt=P.treeContext,nt=P.componentStack,bt=P.blockedSegment;if(bt===null){bt=P.replay;try{return Fi(R,P,Y,$)}catch(Zt){if(Oa(),Y=Zt===kr?ei():Zt,R.status!==12&&typeof Y=="object"&&Y!==null){if(typeof Y.then=="function"){$=Zt===kr?ks():null,R=Ho(R,P,$).ping,Y.then(R,R),P.formatContext=oe,P.context=ke,P.keyPath=ze,P.treeContext=vt,P.componentStack=nt,P.replay=bt,ki(ke);return}if(Y.message==="Maximum call stack size exceeded"){Y=Zt===kr?ks():null,Y=Ho(R,P,Y),R.pingedTasks.push(Y),P.formatContext=oe,P.context=ke,P.keyPath=ze,P.treeContext=vt,P.componentStack=nt,P.replay=bt,ki(ke);return}}}}else{var Rt=bt.children.length,kt=bt.chunks.length;try{return Fi(R,P,Y,$)}catch(Zt){if(Oa(),bt.children.length=Rt,bt.chunks.length=kt,Y=Zt===kr?ei():Zt,R.status!==12&&typeof Y=="object"&&Y!==null){if(typeof Y.then=="function"){bt=Y,Y=Zt===kr?ks():null,R=za(R,P,Y).ping,bt.then(R,R),P.formatContext=oe,P.context=ke,P.keyPath=ze,P.treeContext=vt,P.componentStack=nt,ki(ke);return}if(Y.message==="Maximum call stack size exceeded"){bt=Zt===kr?ks():null,bt=za(R,P,bt),R.pingedTasks.push(bt),P.formatContext=oe,P.context=ke,P.keyPath=ze,P.treeContext=vt,P.componentStack=nt,ki(ke);return}}}}throw P.formatContext=oe,P.context=ke,P.keyPath=ze,P.treeContext=vt,ki(ke),Y}function ea(R){var P=R.blockedBoundary,Y=R.blockedSegment;Y!==null&&(Y.status=3,w(this,P,R.row,Y))}function go(R,P,Y,$,oe,ke){for(var ze=0;ze<Y.length;ze++){var vt=Y[ze];if(vt.length===4)go(R,P,vt[2],vt[3],oe,ke);else{vt=vt[5];var nt=R,bt=ke,Rt=di(nt,null,new Set,null,null);Rt.parentFlushed=!0,Rt.rootSegmentID=vt,Rt.status=4,Rt.errorDigest=bt,Rt.parentFlushed&&nt.clientRenderedBoundaries.push(Rt)}}if(Y.length=0,$!==null){if(P===null)throw Error(n(487));if(P.status!==4&&(P.status=4,P.errorDigest=ke,P.parentFlushed&&R.clientRenderedBoundaries.push(P)),typeof $=="object")for(var kt in $)delete $[kt]}}function Er(R,P,Y){var $=R.blockedBoundary,oe=R.blockedSegment;if(oe!==null){if(oe.status===6)return;oe.status=3}var ke=Ps(R.componentStack);if($===null){if(P.status!==13&&P.status!==14){if($=R.replay,$===null){P.trackedPostpones!==null&&oe!==null?($=P.trackedPostpones,$i(P,Y,ke),Ms(P,$,R,oe),w(P,null,R.row,oe)):($i(P,Y,ke),zo(P,Y));return}$.pendingTasks--,$.pendingTasks===0&&0<$.nodes.length&&(oe=$i(P,Y,ke),go(P,null,$.nodes,$.slots,Y,oe)),P.pendingRootTasks--,P.pendingRootTasks===0&&_e(P)}}else{var ze=P.trackedPostpones;if($.status!==4){if(ze!==null&&oe!==null)return $i(P,Y,ke),Ms(P,ze,R,oe),$.fallbackAbortableTasks.forEach(function(vt){return Er(vt,P,Y)}),$.fallbackAbortableTasks.clear(),w(P,$,R.row,oe);$.status=4,oe=$i(P,Y,ke),$.status=4,$.errorDigest=oe,Qo(P,$),$.parentFlushed&&P.clientRenderedBoundaries.push($)}$.pendingTasks--,oe=$.row,oe!==null&&--oe.pendingTasks===0&&Bi(P,oe),$.fallbackAbortableTasks.forEach(function(vt){return Er(vt,P,Y)}),$.fallbackAbortableTasks.clear()}R=R.row,R!==null&&--R.pendingTasks===0&&Bi(P,R),P.allPendingTasks--,P.allPendingTasks===0&&s(P)}function $s(R,P){try{var Y=R.renderState,$=Y.onHeaders;if($){var oe=Y.headers;if(oe){Y.headers=null;var ke=oe.preconnects;if(oe.fontPreloads&&(ke&&(ke+=", "),ke+=oe.fontPreloads),oe.highImagePreloads&&(ke&&(ke+=", "),ke+=oe.highImagePreloads),!P){var ze=Y.styles.values(),vt=ze.next();e:for(;0<oe.remainingCapacity&&!vt.done;vt=ze.next())for(var nt=vt.value.sheets.values(),bt=nt.next();0<oe.remainingCapacity&&!bt.done;bt=nt.next()){var Rt=bt.value,kt=Rt.props,Zt=kt.href,dn=Rt.props,Nn=mn(dn.href,"style",{crossOrigin:dn.crossOrigin,integrity:dn.integrity,nonce:dn.nonce,type:dn.type,fetchPriority:dn.fetchPriority,referrerPolicy:dn.referrerPolicy,media:dn.media});if(0<=(oe.remainingCapacity-=Nn.length+2))Y.resets.style[Zt]=Ne,ke&&(ke+=", "),ke+=Nn,Y.resets.style[Zt]=typeof kt.crossOrigin=="string"||typeof kt.integrity=="string"?[kt.crossOrigin,kt.integrity]:Ne;else break e}}$(ke?{Link:ke}:{})}}}catch(In){$i(R,In,{})}}function _e(R){R.trackedPostpones===null&&$s(R,!0),R.trackedPostpones===null&&b(R),R.onShellError=En,R=R.onShellReady,R()}function s(R){$s(R,R.trackedPostpones===null?!0:R.completedRootSegment===null||R.completedRootSegment.status!==5),b(R),R=R.onAllReady,R()}function p(R,P){if(P.chunks.length===0&&P.children.length===1&&P.children[0].boundary===null&&P.children[0].id===-1){var Y=P.children[0];Y.id=P.id,Y.parentFlushed=!0,Y.status!==1&&Y.status!==3&&Y.status!==4||p(R,Y)}else R.completedSegments.push(P)}function w(R,P,Y,$){if(Y!==null&&(--Y.pendingTasks===0?Bi(R,Y):Y.together&&Zo(R,Y)),R.allPendingTasks--,P===null){if($!==null&&$.parentFlushed){if(R.completedRootSegment!==null)throw Error(n(389));R.completedRootSegment=$}R.pendingRootTasks--,R.pendingRootTasks===0&&_e(R)}else if(P.pendingTasks--,P.status!==4)if(P.pendingTasks===0){if(P.status===0&&(P.status=1),$!==null&&$.parentFlushed&&($.status===1||$.status===3)&&p(P,$),P.parentFlushed&&R.completedBoundaries.push(P),P.status===1)Y=P.row,Y!==null&&fo(Y.hoistables,P.contentState),Li(R,P)||(P.fallbackAbortableTasks.forEach(ea,R),P.fallbackAbortableTasks.clear(),Y!==null&&--Y.pendingTasks===0&&Bi(R,Y)),R.pendingRootTasks===0&&R.trackedPostpones===null&&P.contentPreamble!==null&&b(R);else if(P.status===5&&(P=P.row,P!==null)){if(R.trackedPostpones!==null){Y=R.trackedPostpones;var oe=P.next;if(oe!==null&&($=oe.boundaries,$!==null))for(oe.boundaries=null,oe=0;oe<$.length;oe++){var ke=$[oe];hs(R,Y,ke),w(R,ke,null,null)}}--P.pendingTasks===0&&Bi(R,P)}}else $===null||!$.parentFlushed||$.status!==1&&$.status!==3||(p(P,$),P.completedSegments.length===1&&P.parentFlushed&&R.partialBoundaries.push(P)),P=P.row,P!==null&&P.together&&Zo(R,P);R.allPendingTasks===0&&s(R)}function A(R){if(R.status!==14&&R.status!==13){var P=Zn,Y=ae.H;ae.H=Ka;var $=ae.A;ae.A=xu;var oe=jn;jn=R;var ke=cs;cs=R.resumableState;try{var ze=R.pingedTasks,vt;for(vt=0;vt<ze.length;vt++){var nt=ze[vt],bt=R,Rt=nt.blockedSegment;if(Rt===null){var kt=bt;if(nt.replay.pendingTasks!==0){ki(nt.context);try{if(typeof nt.replay.slots=="number"?Ml(kt,nt,nt.replay.slots,nt.node,nt.childIndex):So(kt,nt),nt.replay.pendingTasks===1&&0<nt.replay.nodes.length)throw Error(n(488));nt.replay.pendingTasks--,nt.abortSet.delete(nt),w(kt,nt.blockedBoundary,nt.row,null)}catch(va){Oa();var Zt=va===kr?ei():va;if(typeof Zt=="object"&&Zt!==null&&typeof Zt.then=="function"){var dn=nt.ping;Zt.then(dn,dn),nt.thenableState=va===kr?ks():null}else{nt.replay.pendingTasks--,nt.abortSet.delete(nt);var Nn=Ps(nt.componentStack);bt=void 0;var In=kt,rr=nt.blockedBoundary,Rn=kt.status===12?kt.fatalError:Zt,sr=nt.replay.nodes,_r=nt.replay.slots;bt=$i(In,Rn,Nn),go(In,rr,sr,_r,Rn,bt),kt.pendingRootTasks--,kt.pendingRootTasks===0&&_e(kt),kt.allPendingTasks--,kt.allPendingTasks===0&&s(kt)}}}}else if(kt=void 0,In=Rt,In.status===0){In.status=6,ki(nt.context);var ta=In.children.length,wr=In.chunks.length;try{So(bt,nt),qi(In.chunks,bt.renderState,In.lastPushedText,In.textEmbedded),nt.abortSet.delete(nt),In.status=1,w(bt,nt.blockedBoundary,nt.row,In)}catch(va){Oa(),In.children.length=ta,In.chunks.length=wr;var jr=va===kr?ei():bt.status===12?bt.fatalError:va;if(bt.status===12&&bt.trackedPostpones!==null){var ui=bt.trackedPostpones,ca=Ps(nt.componentStack);nt.abortSet.delete(nt),$i(bt,jr,ca),Ms(bt,ui,nt,In),w(bt,nt.blockedBoundary,nt.row,In)}else if(typeof jr=="object"&&jr!==null&&typeof jr.then=="function"){In.status=0,nt.thenableState=va===kr?ks():null;var pi=nt.ping;jr.then(pi,pi)}else{var Ha=Ps(nt.componentStack);nt.abortSet.delete(nt),In.status=4;var Pi=nt.blockedBoundary,fa=nt.row;if(fa!==null&&--fa.pendingTasks===0&&Bi(bt,fa),bt.allPendingTasks--,kt=$i(bt,jr,Ha),Pi===null)zo(bt,jr);else if(Pi.pendingTasks--,Pi.status!==4){Pi.status=4,Pi.errorDigest=kt,Qo(bt,Pi);var ha=Pi.row;ha!==null&&--ha.pendingTasks===0&&Bi(bt,ha),Pi.parentFlushed&&bt.clientRenderedBoundaries.push(Pi),bt.pendingRootTasks===0&&bt.trackedPostpones===null&&Pi.contentPreamble!==null&&b(bt)}bt.allPendingTasks===0&&s(bt)}}}}ze.splice(0,vt),R.destination!==null&&Oe(R,R.destination)}catch(va){$i(R,va,{}),zo(R,va)}finally{cs=ke,ae.H=Y,ae.A=$,Y===Ka&&ki(P),jn=oe}}}function D(R,P,Y){P.preambleChildren.length&&Y.push(P.preambleChildren);for(var $=!1,oe=0;oe<P.children.length;oe++)$=L(R,P.children[oe],Y)||$;return $}function L(R,P,Y){var $=P.boundary;if($===null)return D(R,P,Y);var oe=$.contentPreamble,ke=$.fallbackPreamble;if(oe===null||ke===null)return!1;switch($.status){case 1:if(vn(R.renderState,oe),R.byteSize+=$.byteSize,P=$.completedSegments[0],!P)throw Error(n(391));return D(R,P,Y);case 5:if(R.trackedPostpones!==null)return!0;case 4:if(P.status===1)return vn(R.renderState,ke),D(R,P,Y);default:return!0}}function b(R){if(R.completedRootSegment&&R.completedPreambleSegments===null){var P=[],Y=R.byteSize,$=L(R,R.completedRootSegment,P),oe=R.renderState.preamble;$===!1||oe.headChunks&&oe.bodyChunks?R.completedPreambleSegments=P:R.byteSize=Y}}function T(R,P,Y,$){switch(Y.parentFlushed=!0,Y.status){case 0:Y.id=R.nextSegmentId++;case 5:return $=Y.id,Y.lastPushedText=!1,Y.textEmbedded=!1,R=R.renderState,P.push('<template id="'),P.push(R.placeholderPrefix),R=$.toString(16),P.push(R),P.push('"></template>');case 1:Y.status=2;var oe=!0,ke=Y.chunks,ze=0;Y=Y.children;for(var vt=0;vt<Y.length;vt++){for(oe=Y[vt];ze<oe.index;ze++)P.push(ke[ze]);oe=j(R,P,oe,$)}for(;ze<ke.length-1;ze++)P.push(ke[ze]);return ze<ke.length&&(oe=P.push(ke[ze])),oe;case 3:return!0;default:throw Error(n(390))}}var B=0;function j(R,P,Y,$){var oe=Y.boundary;if(oe===null)return T(R,P,Y,$);if(oe.parentFlushed=!0,oe.status===4){var ke=oe.row;return ke!==null&&--ke.pendingTasks===0&&Bi(R,ke),R.renderState.generateStaticMarkup||(oe=oe.errorDigest,P.push("<!--$!-->"),P.push("<template"),oe&&(P.push(' data-dgst="'),oe=Re(oe),P.push(oe),P.push('"')),P.push("></template>")),T(R,P,Y,$),R=R.renderState.generateStaticMarkup?!0:P.push("<!--/$-->"),R}if(oe.status!==1)return oe.status===0&&(oe.rootSegmentID=R.nextSegmentId++),0<oe.completedSegments.length&&R.partialBoundaries.push(oe),Yn(P,R.renderState,oe.rootSegmentID),$&&fo($,oe.fallbackState),T(R,P,Y,$),P.push("<!--/$-->");if(!Te&&Li(R,oe)&&B+oe.byteSize>R.progressiveChunkSize)return oe.rootSegmentID=R.nextSegmentId++,R.completedBoundaries.push(oe),Yn(P,R.renderState,oe.rootSegmentID),T(R,P,Y,$),P.push("<!--/$-->");if(B+=oe.byteSize,$&&fo($,oe.contentState),Y=oe.row,Y!==null&&Li(R,oe)&&--Y.pendingTasks===0&&Bi(R,Y),R.renderState.generateStaticMarkup||P.push("<!--$-->"),Y=oe.completedSegments,Y.length!==1)throw Error(n(391));return j(R,P,Y[0],$),R=R.renderState.generateStaticMarkup?!0:P.push("<!--/$-->"),R}function K(R,P,Y,$){return er(P,R.renderState,Y.parentFormatContext,Y.id),j(R,P,Y,$),Hn(P,Y.parentFormatContext)}function ee(R,P,Y){B=Y.byteSize;for(var $=Y.completedSegments,oe=0;oe<$.length;oe++)he(R,P,Y,$[oe]);$.length=0,$=Y.row,$!==null&&Li(R,Y)&&--$.pendingTasks===0&&Bi(R,$),vi(P,Y.contentState,R.renderState),$=R.resumableState,R=R.renderState,oe=Y.rootSegmentID,Y=Y.contentState;var ke=R.stylesToHoist;return R.stylesToHoist=!1,P.push(R.startInlineScript),P.push(">"),ke?(($.instructions&4)===0&&($.instructions|=4,P.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),($.instructions&2)===0&&($.instructions|=2,P.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)),($.instructions&8)===0?($.instructions|=8,P.push(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`)):P.push('$RR("')):(($.instructions&2)===0&&($.instructions|=2,P.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)),P.push('$RC("')),$=oe.toString(16),P.push(R.boundaryPrefix),P.push($),P.push('","'),P.push(R.segmentPrefix),P.push($),ke?(P.push('",'),Tr(P,Y)):P.push('"'),Y=P.push(")<\/script>"),$n(P,R)&&Y}function he(R,P,Y,$){if($.status===2)return!0;var oe=Y.contentState,ke=$.id;if(ke===-1){if(($.id=Y.rootSegmentID)===-1)throw Error(n(392));return K(R,P,$,oe)}return ke===Y.rootSegmentID?K(R,P,$,oe):(K(R,P,$,oe),Y=R.resumableState,R=R.renderState,P.push(R.startInlineScript),P.push(">"),(Y.instructions&1)===0?(Y.instructions|=1,P.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):P.push('$RS("'),P.push(R.segmentPrefix),ke=ke.toString(16),P.push(ke),P.push('","'),P.push(R.placeholderPrefix),P.push(ke),P=P.push('")<\/script>'),P)}var Te=!1;function Oe(R,P){try{if(!(0<R.pendingRootTasks)){var Y,$=R.completedRootSegment;if($!==null){if($.status===5)return;var oe=R.completedPreambleSegments;if(oe===null)return;B=R.byteSize;var ke=R.resumableState,ze=R.renderState,vt=ze.preamble,nt=vt.htmlChunks,bt=vt.headChunks,Rt;if(nt){for(Rt=0;Rt<nt.length;Rt++)P.push(nt[Rt]);if(bt)for(Rt=0;Rt<bt.length;Rt++)P.push(bt[Rt]);else{var kt=yt("head");P.push(kt),P.push(">")}}else if(bt)for(Rt=0;Rt<bt.length;Rt++)P.push(bt[Rt]);var Zt=ze.charsetChunks;for(Rt=0;Rt<Zt.length;Rt++)P.push(Zt[Rt]);Zt.length=0,ze.preconnects.forEach(Sn,P),ze.preconnects.clear();var dn=ze.viewportChunks;for(Rt=0;Rt<dn.length;Rt++)P.push(dn[Rt]);dn.length=0,ze.fontPreloads.forEach(Sn,P),ze.fontPreloads.clear(),ze.highImagePreloads.forEach(Sn,P),ze.highImagePreloads.clear(),ut=ze,ze.styles.forEach(ar,P),ut=null;var Nn=ze.importMapChunks;for(Rt=0;Rt<Nn.length;Rt++)P.push(Nn[Rt]);Nn.length=0,ze.bootstrapScripts.forEach(Sn,P),ze.scripts.forEach(Sn,P),ze.scripts.clear(),ze.bulkPreloads.forEach(Sn,P),ze.bulkPreloads.clear(),ke.instructions|=32;var In=ze.hoistableChunks;for(Rt=0;Rt<In.length;Rt++)P.push(In[Rt]);for(ke=In.length=0;ke<oe.length;ke++){var rr=oe[ke];for(ze=0;ze<rr.length;ze++)j(R,P,rr[ze],null)}var Rn=R.renderState.preamble,sr=Rn.headChunks;if(Rn.htmlChunks||sr){var _r=Cn("head");P.push(_r)}var ta=Rn.bodyChunks;if(ta)for(oe=0;oe<ta.length;oe++)P.push(ta[oe]);j(R,P,$,null),R.completedRootSegment=null;var wr=R.renderState;if(R.allPendingTasks!==0||R.clientRenderedBoundaries.length!==0||R.completedBoundaries.length!==0||R.trackedPostpones!==null&&(R.trackedPostpones.rootNodes.length!==0||R.trackedPostpones.rootSlots!==null)){var jr=R.resumableState;if((jr.instructions&64)===0){if(jr.instructions|=64,P.push(wr.startInlineScript),(jr.instructions&32)===0){jr.instructions|=32;var ui="_"+jr.idPrefix+"R_";P.push(' id="');var ca=Re(ui);P.push(ca),P.push('"')}P.push(">"),P.push("requestAnimationFrame(function(){$RT=performance.now()});"),P.push("<\/script>")}}$n(P,wr)}var pi=R.renderState;$=0;var Ha=pi.viewportChunks;for($=0;$<Ha.length;$++)P.push(Ha[$]);Ha.length=0,pi.preconnects.forEach(Sn,P),pi.preconnects.clear(),pi.fontPreloads.forEach(Sn,P),pi.fontPreloads.clear(),pi.highImagePreloads.forEach(Sn,P),pi.highImagePreloads.clear(),pi.styles.forEach(yi,P),pi.scripts.forEach(Sn,P),pi.scripts.clear(),pi.bulkPreloads.forEach(Sn,P),pi.bulkPreloads.clear();var Pi=pi.hoistableChunks;for($=0;$<Pi.length;$++)P.push(Pi[$]);Pi.length=0;var fa=R.clientRenderedBoundaries;for(Y=0;Y<fa.length;Y++){var ha=fa[Y];pi=P;var va=R.resumableState,Eo=R.renderState,iu=ha.rootSegmentID,zs=ha.errorDigest;pi.push(Eo.startInlineScript),pi.push(">"),(va.instructions&4)===0?(va.instructions|=4,pi.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):pi.push('$RX("'),pi.push(Eo.boundaryPrefix);var ds=iu.toString(16);if(pi.push(ds),pi.push('"'),zs){pi.push(",");var el=Br(zs||"");pi.push(el)}var Ua=pi.push(")<\/script>");if(!Ua){R.destination=null,Y++,fa.splice(0,Y);return}}fa.splice(0,Y);var po=R.completedBoundaries;for(Y=0;Y<po.length;Y++)if(!ee(R,P,po[Y])){R.destination=null,Y++,po.splice(0,Y);return}po.splice(0,Y),Te=!0;var Ao=R.partialBoundaries;for(Y=0;Y<Ao.length;Y++){var qa=Ao[Y];e:{fa=R,ha=P,B=qa.byteSize;var ja=qa.completedSegments;for(Ua=0;Ua<ja.length;Ua++)if(!he(fa,ha,qa,ja[Ua])){Ua++,ja.splice(0,Ua);var gs=!1;break e}ja.splice(0,Ua);var Wi=qa.row;Wi!==null&&Wi.together&&qa.pendingTasks===1&&(Wi.pendingTasks===1?Ko(fa,Wi,Wi.hoistables):Wi.pendingTasks--),gs=vi(ha,qa.contentState,fa.renderState)}if(!gs){R.destination=null,Y++,Ao.splice(0,Y);return}}Ao.splice(0,Y),Te=!1;var Jo=R.completedBoundaries;for(Y=0;Y<Jo.length;Y++)if(!ee(R,P,Jo[Y])){R.destination=null,Y++,Jo.splice(0,Y);return}Jo.splice(0,Y)}}finally{Te=!1,R.allPendingTasks===0&&R.clientRenderedBoundaries.length===0&&R.completedBoundaries.length===0&&(R.flushScheduled=!1,Y=R.resumableState,Y.hasBody&&(Ao=Cn("body"),P.push(Ao)),Y.hasHtml&&(Y=Cn("html"),P.push(Y)),R.status=14,P.push(null),R.destination=null)}}function Be(R){if(R.flushScheduled===!1&&R.pingedTasks.length===0&&R.destination!==null){R.flushScheduled=!0;var P=R.destination;P?Oe(R,P):R.flushScheduled=!1}}function Xe(R,P){if(R.status===13)R.status=14,P.destroy(R.fatalError);else if(R.status!==14&&R.destination===null){R.destination=P;try{Oe(R,P)}catch(Y){$i(R,Y,{}),zo(R,Y)}}}function Ke(R,P){(R.status===11||R.status===10)&&(R.status=12);try{var Y=R.abortableTasks;if(0<Y.size){var $=P===void 0?Error(n(432)):typeof P=="object"&&P!==null&&typeof P.then=="function"?Error(n(530)):P;R.fatalError=$,Y.forEach(function(oe){return Er(oe,R,$)}),Y.clear()}R.destination!==null&&Oe(R,R.destination)}catch(oe){$i(R,oe,{}),zo(R,oe)}}function ot(R,P,Y){if(P===null)Y.rootNodes.push(R);else{var $=Y.workingMap,oe=$.get(P);oe===void 0&&(oe=[P[1],P[2],[],null],$.set(P,oe),ot(oe,P[0],Y)),oe[2].push(R)}}function Je(){}function Ct(R,P,Y,$){var oe=!1,ke=null,ze="",vt=!1;if(P=Wt(P?P.identifierPrefix:void 0),R=Di(R,P,cn(P,Y),_t(0,null,0,null),1/0,Je,void 0,function(){vt=!0},void 0,void 0,void 0),R.flushScheduled=R.destination!==null,A(R),R.status===10&&(R.status=11),R.trackedPostpones===null&&$s(R,R.pendingRootTasks===0),Ke(R,$),Xe(R,{push:function(nt){return nt!==null&&(ze+=nt),!0},destroy:function(nt){oe=!0,ke=nt}}),oe&&ke!==$)throw ke;if(!vt)throw Error(n(426));return ze}return b1.renderToStaticMarkup=function(R,P){return Ct(R,P,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},b1.renderToString=function(R,P){return Ct(R,P,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},b1.version="19.2.3",b1}var C0={};var X6;function _Y(){if(X6)return C0;X6=1;var e=Nd(),t=im();function n(z){var H="https://react.dev/errors/"+z;if(1<arguments.length){H+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)H+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+z+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.scope"),S=Symbol.for("react.activity"),O=Symbol.for("react.legacy_hidden"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.for("react.view_transition"),W=Symbol.iterator;function q(z){return z===null||typeof z!="object"?null:(z=W&&z[W]||z["@@iterator"],typeof z=="function"?z:null)}var J=Array.isArray;function ne(z,H){var Q=z.length&3,ue=z.length-Q,de=H;for(H=0;H<ue;){var He=z.charCodeAt(H)&255|(z.charCodeAt(++H)&255)<<8|(z.charCodeAt(++H)&255)<<16|(z.charCodeAt(++H)&255)<<24;++H,He=3432918353*(He&65535)+((3432918353*(He>>>16)&65535)<<16)&4294967295,He=He<<15|He>>>17,He=461845907*(He&65535)+((461845907*(He>>>16)&65535)<<16)&4294967295,de^=He,de=de<<13|de>>>19,de=5*(de&65535)+((5*(de>>>16)&65535)<<16)&4294967295,de=(de&65535)+27492+(((de>>>16)+58964&65535)<<16)}switch(He=0,Q){case 3:He^=(z.charCodeAt(H+2)&255)<<16;case 2:He^=(z.charCodeAt(H+1)&255)<<8;case 1:He^=z.charCodeAt(H)&255,He=3432918353*(He&65535)+((3432918353*(He>>>16)&65535)<<16)&4294967295,He=He<<15|He>>>17,de^=461845907*(He&65535)+((461845907*(He>>>16)&65535)<<16)&4294967295}return de^=z.length,de^=de>>>16,de=2246822507*(de&65535)+((2246822507*(de>>>16)&65535)<<16)&4294967295,de^=de>>>13,de=3266489909*(de&65535)+((3266489909*(de>>>16)&65535)<<16)&4294967295,(de^de>>>16)>>>0}var ve=new MessageChannel,Se=[];ve.port1.onmessage=function(){var z=Se.shift();z&&z()};function Fe(z){Se.push(z),ve.port2.postMessage(null)}function Ue(z){setTimeout(function(){throw z})}var Ze=Promise,mt=typeof queueMicrotask=="function"?queueMicrotask:function(z){Ze.resolve(null).then(z).catch(Ue)},ct=null,ge=0;function ye(z,H){if(H.byteLength!==0)if(2048<H.byteLength)0<ge&&(z.enqueue(new Uint8Array(ct.buffer,0,ge)),ct=new Uint8Array(2048),ge=0),z.enqueue(H);else{var Q=ct.length-ge;Q<H.byteLength&&(Q===0?z.enqueue(ct):(ct.set(H.subarray(0,Q),ge),z.enqueue(ct),H=H.subarray(Q)),ct=new Uint8Array(2048),ge=0),ct.set(H,ge),ge+=H.byteLength}}function Re(z,H){return ye(z,H),!0}function ft(z){ct&&0<ge&&(z.enqueue(new Uint8Array(ct.buffer,0,ge)),ct=null,ge=0)}var Me=new TextEncoder;function ce(z){return Me.encode(z)}function le(z){return Me.encode(z)}function ae(z){return z.byteLength}function V(z,H){typeof z.error=="function"?z.error(H):z.close()}var me=Object.assign,Ae=Object.prototype.hasOwnProperty,Ne=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ut={},xt={};function et(z){return Ae.call(xt,z)?!0:Ae.call(ut,z)?!1:Ne.test(z)?xt[z]=!0:(ut[z]=!0,!1)}var Wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),_t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ft=/["'&<>]/;function st(z){if(typeof z=="boolean"||typeof z=="number"||typeof z=="bigint")return""+z;z=""+z;var H=Ft.exec(z);if(H){var Q="",ue,de=0;for(ue=H.index;ue<z.length;ue++){switch(z.charCodeAt(ue)){case 34:H="&quot;";break;case 38:H="&amp;";break;case 39:H="&#x27;";break;case 60:H="&lt;";break;case 62:H="&gt;";break;default:continue}de!==ue&&(Q+=z.slice(de,ue)),de=ue+1,Q+=H}z=de!==ue?Q+z.slice(de,ue):Q}return z}var At=/([A-Z])/g,St=/^ms-/,Kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zt(z){return Kt.test(""+z)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":z}var Ut=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vt=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,un={pending:!1,data:null,method:null,action:null},Xt=Vt.d;Vt.d={f:Xt.f,r:Xt.r,D:Er,C:$s,L:_e,m:s,X:w,S:p,M:A};var qt=[],Bn=null;le('"></template>');var gt=le("<script"),dt=le("<\/script>"),Pe=le('<script src="'),be=le('<script type="module" src="'),Ee=le(' nonce="'),qe=le(' integrity="'),re=le(' crossorigin="'),we=le(' async=""><\/script>'),Ve=le("<style"),it=/(<\/|<)(s)(cript)/gi;function We(z,H,Q,ue){return""+H+(Q==="s"?"\\u0073":"\\u0053")+ue}var Et=le('<script type="importmap">'),Ye=le("<\/script>");function at(z,H,Q,ue,de,He){Q=typeof H=="string"?H:H&&H.script;var $e=Q===void 0?gt:le('<script nonce="'+st(Q)+'"'),Ot=typeof H=="string"?void 0:H&&H.style,ht=Ot===void 0?Ve:le('<style nonce="'+st(Ot)+'"'),Nt=z.idPrefix,Qt=[],on=z.bootstrapScriptContent,Dn=z.bootstrapScripts,_n=z.bootstrapModules;if(on!==void 0&&(Qt.push($e),hs(Qt,z),Qt.push(gr,ce((""+on).replace(it,We)),dt)),on=[],ue!==void 0&&(on.push(Et),on.push(ce((""+JSON.stringify(ue)).replace(it,We))),on.push(Ye)),ue=de?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof He=="number"?He:2e3)}:null,de={placeholderPrefix:le(Nt+"P:"),segmentPrefix:le(Nt+"S:"),boundaryPrefix:le(Nt+"B:"),startInlineScript:$e,startInlineStyle:ht,preamble:yt(),externalRuntimeScript:null,bootstrapChunks:Qt,importMapChunks:on,onHeaders:de,headers:ue,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:Q,style:Ot},hoistableState:null,stylesToHoist:!1},Dn!==void 0)for(ue=0;ue<Dn.length;ue++)Nt=Dn[ue],Ot=$e=void 0,ht={rel:"preload",as:"script",fetchPriority:"low",nonce:H},typeof Nt=="string"?ht.href=He=Nt:(ht.href=He=Nt.src,ht.integrity=Ot=typeof Nt.integrity=="string"?Nt.integrity:void 0,ht.crossOrigin=$e=typeof Nt=="string"||Nt.crossOrigin==null?void 0:Nt.crossOrigin==="use-credentials"?"use-credentials":""),Nt=z,on=He,Nt.scriptResources[on]=null,Nt.moduleScriptResources[on]=null,Nt=[],mn(Nt,ht),de.bootstrapScripts.add(Nt),Qt.push(Pe,ce(st(He)),Yr),Q&&Qt.push(Ee,ce(st(Q)),Yr),typeof Ot=="string"&&Qt.push(qe,ce(st(Ot)),Yr),typeof $e=="string"&&Qt.push(re,ce(st($e)),Yr),hs(Qt,z),Qt.push(we);if(_n!==void 0)for(H=0;H<_n.length;H++)Ot=_n[H],He=ue=void 0,$e={rel:"modulepreload",fetchPriority:"low",nonce:Q},typeof Ot=="string"?$e.href=Dn=Ot:($e.href=Dn=Ot.src,$e.integrity=He=typeof Ot.integrity=="string"?Ot.integrity:void 0,$e.crossOrigin=ue=typeof Ot=="string"||Ot.crossOrigin==null?void 0:Ot.crossOrigin==="use-credentials"?"use-credentials":""),Ot=z,ht=Dn,Ot.scriptResources[ht]=null,Ot.moduleScriptResources[ht]=null,Ot=[],mn(Ot,$e),de.bootstrapScripts.add(Ot),Qt.push(be,ce(st(Dn)),Yr),Q&&Qt.push(Ee,ce(st(Q)),Yr),typeof He=="string"&&Qt.push(qe,ce(st(He)),Yr),typeof ue=="string"&&Qt.push(re,ce(st(ue)),Yr),hs(Qt,z),Qt.push(we);return de}function Tt(z,H,Q,ue,de){return{idPrefix:z===void 0?"":z,nextFormID:0,streamingFormat:0,bootstrapScriptContent:Q,bootstrapScripts:ue,bootstrapModules:de,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function yt(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function Pt(z,H,Q,ue){return{insertionMode:z,selectedValue:H,tagScope:Q,viewTransition:ue}}function pn(z){return Pt(z==="http://www.w3.org/2000/svg"?4:z==="http://www.w3.org/1998/Math/MathML"?5:0,null,0,null)}function Cn(z,H,Q){var ue=z.tagScope&-25;switch(H){case"noscript":return Pt(2,null,ue|1,null);case"select":return Pt(2,Q.value!=null?Q.value:Q.defaultValue,ue,null);case"svg":return Pt(4,null,ue,null);case"picture":return Pt(2,null,ue|2,null);case"math":return Pt(5,null,ue,null);case"foreignObject":return Pt(2,null,ue,null);case"table":return Pt(6,null,ue,null);case"thead":case"tbody":case"tfoot":return Pt(7,null,ue,null);case"colgroup":return Pt(9,null,ue,null);case"tr":return Pt(8,null,ue,null);case"head":if(2>z.insertionMode)return Pt(3,null,ue,null);break;case"html":if(z.insertionMode===0)return Pt(1,null,ue,null)}return 6<=z.insertionMode||2>z.insertionMode?Pt(2,null,ue,null):z.tagScope!==ue?Pt(z.insertionMode,z.selectedValue,ue,null):z}function vn(z){return z===null?null:{update:z.update,enter:"none",exit:"none",share:z.update,name:z.autoName,autoName:z.autoName,nameIdx:0}}function $n(z,H){return H.tagScope&32&&(z.instructions|=128),Pt(H.insertionMode,H.selectedValue,H.tagScope|12,vn(H.viewTransition))}function Yn(z,H){z=vn(H.viewTransition);var Q=H.tagScope|16;return z!==null&&z.share!=="none"&&(Q|=64),Pt(H.insertionMode,H.selectedValue,Q,z)}var er=le("<!-- -->");function Hn(z,H,Q,ue){return H===""?ue:(ue&&z.push(er),z.push(ce(st(H))),!0)}var xr=new Map,Br=le(' style="'),mr=le(":"),Oi=le(";");function Jn(z,H){if(typeof H!="object")throw Error(n(62));var Q=!0,ue;for(ue in H)if(Ae.call(H,ue)){var de=H[ue];if(de!=null&&typeof de!="boolean"&&de!==""){if(ue.indexOf("--")===0){var He=ce(st(ue));de=ce(st((""+de).trim()))}else He=xr.get(ue),He===void 0&&(He=le(st(ue.replace(At,"-$1").toLowerCase().replace(St,"-ms-"))),xr.set(ue,He)),de=typeof de=="number"?de===0||Wt.has(ue)?ce(""+de):ce(de+"px"):ce(st((""+de).trim()));Q?(Q=!1,z.push(Br,He,mr,de)):z.push(Oi,He,mr,de)}}Q||z.push(Yr)}var Fr=le(" "),si=le('="'),Yr=le('"'),vi=le('=""');function Sn(z,H,Q){Q&&typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ce(H),vi)}function vr(z,H,Q){typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&z.push(Fr,ce(H),si,ce(st(Q)),Yr)}var Pr=le(st("javascript:throw new Error('React form unexpectedly submitted.')")),ar=le('<input type="hidden"');function fi(z,H){this.push(ar),yi(z),vr(this,"name",H),vr(this,"value",z),this.push(oa)}function yi(z){if(typeof z!="string")throw Error(n(480))}function xi(z,H){if(typeof H.$$FORM_ACTION=="function"){var Q=z.nextFormID++;z=z.idPrefix+Q;try{var ue=H.$$FORM_ACTION(z);if(ue){var de=ue.data;de?.forEach(yi)}return ue}catch(He){if(typeof He=="object"&&He!==null&&typeof He.then=="function")throw He}}return null}function Tr(z,H,Q,ue,de,He,$e,Ot){var ht=null;if(typeof ue=="function"){var Nt=xi(H,ue);Nt!==null?(Ot=Nt.name,ue=Nt.action||"",de=Nt.encType,He=Nt.method,$e=Nt.target,ht=Nt.data):(z.push(Fr,ce("formAction"),si,Pr,Yr),$e=He=de=ue=Ot=null,Ni(H,Q))}return Ot!=null&&zr(z,"name",Ot),ue!=null&&zr(z,"formAction",ue),de!=null&&zr(z,"formEncType",de),He!=null&&zr(z,"formMethod",He),$e!=null&&zr(z,"formTarget",$e),ht}function zr(z,H,Q){switch(H){case"className":vr(z,"class",Q);break;case"tabIndex":vr(z,"tabindex",Q);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(z,H,Q);break;case"style":Jn(z,Q);break;case"src":case"href":if(Q==="")break;case"action":case"formAction":if(Q==null||typeof Q=="function"||typeof Q=="symbol"||typeof Q=="boolean")break;Q=zt(""+Q),z.push(Fr,ce(H),si,ce(st(Q)),Yr);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Sn(z,H.toLowerCase(),Q);break;case"xlinkHref":if(typeof Q=="function"||typeof Q=="symbol"||typeof Q=="boolean")break;Q=zt(""+Q),z.push(Fr,ce("xlink:href"),si,ce(st(Q)),Yr);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ce(H),si,ce(st(Q)),Yr);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Q&&typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ce(H),vi);break;case"capture":case"download":Q===!0?z.push(Fr,ce(H),vi):Q!==!1&&typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ce(H),si,ce(st(Q)),Yr);break;case"cols":case"rows":case"size":case"span":typeof Q!="function"&&typeof Q!="symbol"&&!isNaN(Q)&&1<=Q&&z.push(Fr,ce(H),si,ce(st(Q)),Yr);break;case"rowSpan":case"start":typeof Q=="function"||typeof Q=="symbol"||isNaN(Q)||z.push(Fr,ce(H),si,ce(st(Q)),Yr);break;case"xlinkActuate":vr(z,"xlink:actuate",Q);break;case"xlinkArcrole":vr(z,"xlink:arcrole",Q);break;case"xlinkRole":vr(z,"xlink:role",Q);break;case"xlinkShow":vr(z,"xlink:show",Q);break;case"xlinkTitle":vr(z,"xlink:title",Q);break;case"xlinkType":vr(z,"xlink:type",Q);break;case"xmlBase":vr(z,"xml:base",Q);break;case"xmlLang":vr(z,"xml:lang",Q);break;case"xmlSpace":vr(z,"xml:space",Q);break;default:if((!(2<H.length)||H[0]!=="o"&&H[0]!=="O"||H[1]!=="n"&&H[1]!=="N")&&(H=_t.get(H)||H,et(H))){switch(typeof Q){case"function":case"symbol":return;case"boolean":var ue=H.toLowerCase().slice(0,5);if(ue!=="data-"&&ue!=="aria-")return}z.push(Fr,ce(H),si,ce(st(Q)),Yr)}}}var gr=le(">"),oa=le("/>");function Hr(z,H,Q){if(H!=null){if(Q!=null)throw Error(n(60));if(typeof H!="object"||!("__html"in H))throw Error(n(61));H=H.__html,H!=null&&z.push(ce(""+H))}}function or(z){var H="";return e.Children.forEach(z,function(Q){Q!=null&&(H+=Q)}),H}var co=le(' selected=""'),bi=le(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function Ni(z,H){if((z.instructions&16)===0){z.instructions|=16;var Q=H.preamble,ue=H.bootstrapChunks;(Q.htmlChunks||Q.headChunks)&&ue.length===0?(ue.push(H.startInlineScript),hs(ue,z),ue.push(gr,bi,dt)):ue.unshift(H.startInlineScript,gr,bi,dt)}}var hn=le("<!--F!-->"),wi=le("<!--F-->");function mn(z,H){z.push(pr("link"));for(var Q in H)if(Ae.call(H,Q)){var ue=H[Q];if(ue!=null)switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:zr(z,Q,ue)}}return z.push(oa),null}var Zi=/(<\/|<)(s)(tyle)/gi;function Bo(z,H,Q,ue){return""+H+(Q==="s"?"\\73 ":"\\53 ")+ue}function br(z,H,Q){z.push(pr(Q));for(var ue in H)if(Ae.call(H,ue)){var de=H[ue];if(de!=null)switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,Q));default:zr(z,ue,de)}}return z.push(oa),null}function Xn(z,H){z.push(pr("title"));var Q=null,ue=null,de;for(de in H)if(Ae.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":ue=He;break;default:zr(z,de,He)}}return z.push(gr),H=Array.isArray(Q)?2>Q.length?Q[0]:null:Q,typeof H!="function"&&typeof H!="symbol"&&H!==null&&H!==void 0&&z.push(ce(st(""+H))),Hr(z,ue,Q),z.push(jt("title")),null}var fr=le("<!--head-->"),Or=le("<!--body-->"),fo=le("<!--html-->");function cn(z,H){z.push(pr("script"));var Q=null,ue=null,de;for(de in H)if(Ae.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":ue=He;break;default:zr(z,de,He)}}return z.push(gr),Hr(z,ue,Q),typeof Q=="string"&&z.push(ce((""+Q).replace(it,We))),z.push(jt("script")),null}function On(z,H,Q){z.push(pr(Q));var ue=Q=null,de;for(de in H)if(Ae.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":ue=He;break;default:zr(z,de,He)}}return z.push(gr),Hr(z,ue,Q),Q}function qi(z,H,Q){z.push(pr(Q));var ue=Q=null,de;for(de in H)if(Ae.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":ue=He;break;default:zr(z,de,He)}}return z.push(gr),Hr(z,ue,Q),typeof Q=="string"?(z.push(ce(st(Q))),null):Q}var hl=le(`
`),Ai=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,_a=new Map;function pr(z){var H=_a.get(z);if(H===void 0){if(!Ai.test(z))throw Error(n(65,z));H=le("<"+z),_a.set(z,H)}return H}var Zn=le("<!DOCTYPE html>");function Ir(z,H,Q,ue,de,He,$e,Ot,ht){switch(H){case"div":case"span":case"svg":case"path":break;case"a":z.push(pr("a"));var Nt=null,Qt=null,on;for(on in Q)if(Ae.call(Q,on)){var Dn=Q[on];if(Dn!=null)switch(on){case"children":Nt=Dn;break;case"dangerouslySetInnerHTML":Qt=Dn;break;case"href":Dn===""?vr(z,"href",""):zr(z,on,Dn);break;default:zr(z,on,Dn)}}if(z.push(gr),Hr(z,Qt,Nt),typeof Nt=="string"){z.push(ce(st(Nt)));var _n=null}else _n=Nt;return _n;case"g":case"p":case"li":break;case"select":z.push(pr("select"));var lr=null,ti=null,Wr;for(Wr in Q)if(Ae.call(Q,Wr)){var qn=Q[Wr];if(qn!=null)switch(Wr){case"children":lr=qn;break;case"dangerouslySetInnerHTML":ti=qn;break;case"defaultValue":case"value":break;default:zr(z,Wr,qn)}}return z.push(gr),Hr(z,ti,lr),lr;case"option":var cr=Ot.selectedValue;z.push(pr("option"));var mi=null,eo=null,jo=null,Ar=null,mo;for(mo in Q)if(Ae.call(Q,mo)){var ra=Q[mo];if(ra!=null)switch(mo){case"children":mi=ra;break;case"selected":jo=ra;break;case"dangerouslySetInnerHTML":Ar=ra;break;case"value":eo=ra;default:zr(z,mo,ra)}}if(cr!=null){var La=eo!==null?""+eo:or(mi);if(J(cr)){for(var sl=0;sl<cr.length;sl++)if(""+cr[sl]===La){z.push(co);break}}else""+cr===La&&z.push(co)}else jo&&z.push(co);return z.push(gr),Hr(z,Ar,mi),mi;case"textarea":z.push(pr("textarea"));var Gr=null,Nl=null,bl=null,_o;for(_o in Q)if(Ae.call(Q,_o)){var vo=Q[_o];if(vo!=null)switch(_o){case"children":bl=vo;break;case"value":Gr=vo;break;case"defaultValue":Nl=vo;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:zr(z,_o,vo)}}if(Gr===null&&Nl!==null&&(Gr=Nl),z.push(gr),bl!=null){if(Gr!=null)throw Error(n(92));if(J(bl)){if(1<bl.length)throw Error(n(93));Gr=""+bl[0]}Gr=""+bl}return typeof Gr=="string"&&Gr[0]===`
`&&z.push(hl),Gr!==null&&z.push(ce(st(""+Gr))),null;case"input":z.push(pr("input"));var Ql=null,Ll=null,su=null,ku=null,is=null,da=null,lu=null,Mo=null,Gc=null,Yc;for(Yc in Q)if(Ae.call(Q,Yc)){var as=Q[Yc];if(as!=null)switch(Yc){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":Ql=as;break;case"formAction":Ll=as;break;case"formEncType":su=as;break;case"formMethod":ku=as;break;case"formTarget":is=as;break;case"defaultChecked":Gc=as;break;case"defaultValue":lu=as;break;case"checked":Mo=as;break;case"value":da=as;break;default:zr(z,Yc,as)}}var jf=Tr(z,ue,de,Ll,su,ku,is,Ql);return Mo!==null?Sn(z,"checked",Mo):Gc!==null&&Sn(z,"checked",Gc),da!==null?zr(z,"value",da):lu!==null&&zr(z,"value",lu),z.push(oa),jf?.forEach(fi,z),null;case"button":z.push(pr("button"));var Sc=null,Wf=null,xh=null,o0=null,s0=null,l0=null,Du=null,_u;for(_u in Q)if(Ae.call(Q,_u)){var wl=Q[_u];if(wl!=null)switch(_u){case"children":Sc=wl;break;case"dangerouslySetInnerHTML":Wf=wl;break;case"name":xh=wl;break;case"formAction":o0=wl;break;case"formEncType":s0=wl;break;case"formMethod":l0=wl;break;case"formTarget":Du=wl;break;default:zr(z,_u,wl)}}var Xc=Tr(z,ue,de,o0,s0,l0,Du,xh);if(z.push(gr),Xc?.forEach(fi,z),Hr(z,Wf,Sc),typeof Sc=="string"){z.push(ce(st(Sc)));var Mu=null}else Mu=Sc;return Mu;case"form":z.push(pr("form"));var gf=null,u0=null,Bl=null,Ec=null,Vc=null,Kc=null,$u;for($u in Q)if(Ae.call(Q,$u)){var Cl=Q[$u];if(Cl!=null)switch($u){case"children":gf=Cl;break;case"dangerouslySetInnerHTML":u0=Cl;break;case"action":Bl=Cl;break;case"encType":Ec=Cl;break;case"method":Vc=Cl;break;case"target":Kc=Cl;break;default:zr(z,$u,Cl)}}var pf=null,Gf=null;if(typeof Bl=="function"){var Ou=xi(ue,Bl);Ou!==null?(Bl=Ou.action||"",Ec=Ou.encType,Vc=Ou.method,Kc=Ou.target,pf=Ou.data,Gf=Ou.name):(z.push(Fr,ce("action"),si,Pr,Yr),Kc=Vc=Ec=Bl=null,Ni(ue,de))}if(Bl!=null&&zr(z,"action",Bl),Ec!=null&&zr(z,"encType",Ec),Vc!=null&&zr(z,"method",Vc),Kc!=null&&zr(z,"target",Kc),z.push(gr),Gf!==null&&(z.push(ar),vr(z,"name",Gf),z.push(oa),pf?.forEach(fi,z)),Hr(z,u0,gf),typeof gf=="string"){z.push(ce(st(gf)));var Zc=null}else Zc=gf;return Zc;case"menuitem":z.push(pr("menuitem"));for(var ec in Q)if(Ae.call(Q,ec)){var mf=Q[ec];if(mf!=null)switch(ec){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:zr(z,ec,mf)}}return z.push(gr),null;case"object":z.push(pr("object"));var Ac=null,bh=null,Iu;for(Iu in Q)if(Ae.call(Q,Iu)){var Yf=Q[Iu];if(Yf!=null)switch(Iu){case"children":Ac=Yf;break;case"dangerouslySetInnerHTML":bh=Yf;break;case"data":var c0=zt(""+Yf);if(c0==="")break;z.push(Fr,ce("data"),si,ce(st(c0)),Yr);break;default:zr(z,Iu,Yf)}}if(z.push(gr),Hr(z,bh,Ac),typeof Ac=="string"){z.push(ce(st(Ac)));var qc=null}else qc=Ac;return qc;case"title":var f0=Ot.tagScope&1,h0=Ot.tagScope&4;if(Ot.insertionMode===4||f0||Q.itemProp!=null)var wh=Xn(z,Q);else h0?wh=null:(Xn(de.hoistableChunks,Q),wh=void 0);return wh;case"link":var Xf=Ot.tagScope&1,d0=Ot.tagScope&4,W0=Q.rel,uu=Q.href,vf=Q.precedence;if(Ot.insertionMode===4||Xf||Q.itemProp!=null||typeof W0!="string"||typeof uu!="string"||uu===""){mn(z,Q);var yf=null}else if(Q.rel==="stylesheet")if(typeof vf!="string"||Q.disabled!=null||Q.onLoad||Q.onError)yf=mn(z,Q);else{var Tc=de.styles.get(vf),Ru=ue.styleResources.hasOwnProperty(uu)?ue.styleResources[uu]:void 0;if(Ru!==null){ue.styleResources[uu]=null,Tc||(Tc={precedence:ce(st(vf)),rules:[],hrefs:[],sheets:new Map},de.styles.set(vf,Tc));var tc={state:0,props:me({},Q,{"data-precedence":Q.precedence,precedence:null})};if(Ru){Ru.length===2&&D(tc.props,Ru);var Ch=de.preloads.stylesheets.get(uu);Ch&&0<Ch.length?Ch.length=0:tc.state=1}Tc.sheets.set(uu,tc),$e&&$e.stylesheets.add(tc)}else if(Tc){var Vf=Tc.sheets.get(uu);Vf&&$e&&$e.stylesheets.add(Vf)}ht&&z.push(er),yf=null}else Q.onLoad||Q.onError?yf=mn(z,Q):(ht&&z.push(er),yf=d0?null:mn(de.hoistableChunks,Q));return yf;case"script":var G0=Ot.tagScope&1,Sh=Q.async;if(typeof Q.src!="string"||!Q.src||!Sh||typeof Sh=="function"||typeof Sh=="symbol"||Q.onLoad||Q.onError||Ot.insertionMode===4||G0||Q.itemProp!=null)var Y0=cn(z,Q);else{var Eh=Q.src;if(Q.type==="module")var xf=ue.moduleScriptResources,bf=de.preloads.moduleScripts;else xf=ue.scriptResources,bf=de.preloads.scripts;var wf=xf.hasOwnProperty(Eh)?xf[Eh]:void 0;if(wf!==null){xf[Eh]=null;var Qc=Q;if(wf){wf.length===2&&(Qc=me({},Q),D(Qc,wf));var Kf=bf.get(Eh);Kf&&(Kf.length=0)}var Ah=[];de.scripts.add(Ah),cn(Ah,Qc)}ht&&z.push(er),Y0=null}return Y0;case"style":var Zf=Ot.tagScope&1,Cf=Q.precedence,Fl=Q.href,g0=Q.nonce;if(Ot.insertionMode===4||Zf||Q.itemProp!=null||typeof Cf!="string"||typeof Fl!="string"||Fl===""){z.push(pr("style"));var cu=null,Th=null,Sf;for(Sf in Q)if(Ae.call(Q,Sf)){var qf=Q[Sf];if(qf!=null)switch(Sf){case"children":cu=qf;break;case"dangerouslySetInnerHTML":Th=qf;break;default:zr(z,Sf,qf)}}z.push(gr);var Ii=Array.isArray(cu)?2>cu.length?cu[0]:null:cu;typeof Ii!="function"&&typeof Ii!="symbol"&&Ii!==null&&Ii!==void 0&&z.push(ce((""+Ii).replace(Zi,Bo))),Hr(z,Th,cu),z.push(jt("style"));var p0=null}else{var Nu=de.styles.get(Cf);if((ue.styleResources.hasOwnProperty(Fl)?ue.styleResources[Fl]:void 0)!==null){ue.styleResources[Fl]=null,Nu||(Nu={precedence:ce(st(Cf)),rules:[],hrefs:[],sheets:new Map},de.styles.set(Cf,Nu));var Jc=de.nonce.style;if(!Jc||Jc===g0){Nu.hrefs.push(ce(st(Fl)));var ll=Nu.rules,Lu=null,Ef=null,Af;for(Af in Q)if(Ae.call(Q,Af)){var Qf=Q[Af];if(Qf!=null)switch(Af){case"children":Lu=Qf;break;case"dangerouslySetInnerHTML":Ef=Qf}}var Tf=Array.isArray(Lu)?2>Lu.length?Lu[0]:null:Lu;typeof Tf!="function"&&typeof Tf!="symbol"&&Tf!==null&&Tf!==void 0&&ll.push(ce((""+Tf).replace(Zi,Bo))),Hr(ll,Ef,Lu)}}Nu&&$e&&$e.styles.add(Nu),ht&&z.push(er),p0=void 0}return p0;case"meta":var Jf=Ot.tagScope&1,Oo=Ot.tagScope&4;if(Ot.insertionMode===4||Jf||Q.itemProp!=null)var xs=br(z,Q,"meta");else ht&&z.push(er),xs=Oo?null:typeof Q.charSet=="string"?br(de.charsetChunks,Q,"meta"):Q.name==="viewport"?br(de.viewportChunks,Q,"meta"):br(de.hoistableChunks,Q,"meta");return xs;case"listing":case"pre":z.push(pr(H));var kc=null,$c=null,Ri;for(Ri in Q)if(Ae.call(Q,Ri)){var kf=Q[Ri];if(kf!=null)switch(Ri){case"children":kc=kf;break;case"dangerouslySetInnerHTML":$c=kf;break;default:zr(z,Ri,kf)}}if(z.push(gr),$c!=null){if(kc!=null)throw Error(n(60));if(typeof $c!="object"||!("__html"in $c))throw Error(n(61));var fu=$c.__html;fu!=null&&(typeof fu=="string"&&0<fu.length&&fu[0]===`
`?z.push(hl,ce(fu)):z.push(ce(""+fu)))}return typeof kc=="string"&&kc[0]===`
`&&z.push(hl),kc;case"img":var ef=Ot.tagScope&3,os=Q.src,Io=Q.srcSet;if(!(Q.loading==="lazy"||!os&&!Io||typeof os!="string"&&os!=null||typeof Io!="string"&&Io!=null||Q.fetchPriority==="low"||ef)&&(typeof os!="string"||os[4]!==":"||os[0]!=="d"&&os[0]!=="D"||os[1]!=="a"&&os[1]!=="A"||os[2]!=="t"&&os[2]!=="T"||os[3]!=="a"&&os[3]!=="A")&&(typeof Io!="string"||Io[4]!==":"||Io[0]!=="d"&&Io[0]!=="D"||Io[1]!=="a"&&Io[1]!=="A"||Io[2]!=="t"&&Io[2]!=="T"||Io[3]!=="a"&&Io[3]!=="A")){$e!==null&&Ot.tagScope&64&&($e.suspenseyImages=!0);var X0=typeof Q.sizes=="string"?Q.sizes:void 0,ga=Io?Io+`
`+(X0||""):os,$f=de.preloads.images,Dc=$f.get(ga);if(Dc)(Q.fetchPriority==="high"||10>de.highImagePreloads.size)&&($f.delete(ga),de.highImagePreloads.add(Dc));else if(!ue.imageResources.hasOwnProperty(ga)){ue.imageResources[ga]=qt;var kh=Q.crossOrigin,Df=typeof kh=="string"?kh==="use-credentials"?kh:"":void 0,l=de.headers,x;l&&0<l.remainingCapacity&&typeof Q.srcSet!="string"&&(Q.fetchPriority==="high"||500>l.highImagePreloads.length)&&(x=L(os,"image",{imageSrcSet:Q.srcSet,imageSizes:Q.sizes,crossOrigin:Df,integrity:Q.integrity,nonce:Q.nonce,type:Q.type,fetchPriority:Q.fetchPriority,referrerPolicy:Q.refererPolicy}),0<=(l.remainingCapacity-=x.length+2))?(de.resets.image[ga]=qt,l.highImagePreloads&&(l.highImagePreloads+=", "),l.highImagePreloads+=x):(Dc=[],mn(Dc,{rel:"preload",as:"image",href:Io?void 0:os,imageSrcSet:Io,imageSizes:X0,crossOrigin:Df,integrity:Q.integrity,type:Q.type,fetchPriority:Q.fetchPriority,referrerPolicy:Q.referrerPolicy}),Q.fetchPriority==="high"||10>de.highImagePreloads.size?de.highImagePreloads.add(Dc):(de.bulkPreloads.add(Dc),$f.set(ga,Dc)))}}return br(z,Q,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return br(z,Q,H);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>Ot.insertionMode){var M=He||de.preamble;if(M.headChunks)throw Error(n(545,"`<head>`"));He!==null&&z.push(fr),M.headChunks=[];var _=On(M.headChunks,Q,"head")}else _=qi(z,Q,"head");return _;case"body":if(2>Ot.insertionMode){var F=He||de.preamble;if(F.bodyChunks)throw Error(n(545,"`<body>`"));He!==null&&z.push(Or),F.bodyChunks=[];var X=On(F.bodyChunks,Q,"body")}else X=qi(z,Q,"body");return X;case"html":if(Ot.insertionMode===0){var ie=He||de.preamble;if(ie.htmlChunks)throw Error(n(545,"`<html>`"));He!==null&&z.push(fo),ie.htmlChunks=[Zn];var fe=On(ie.htmlChunks,Q,"html")}else fe=qi(z,Q,"html");return fe;default:if(H.indexOf("-")!==-1){z.push(pr(H));var xe=null,De=null,tt;for(tt in Q)if(Ae.call(Q,tt)){var lt=Q[tt];if(lt!=null){var Ht=tt;switch(tt){case"children":xe=lt;break;case"dangerouslySetInnerHTML":De=lt;break;case"style":Jn(z,lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Ht="class";default:if(et(tt)&&typeof lt!="function"&&typeof lt!="symbol"&&lt!==!1){if(lt===!0)lt="";else if(typeof lt=="object")continue;z.push(Fr,ce(Ht),si,ce(st(lt)),Yr)}}}}return z.push(gr),Hr(z,De,xe),xe}}return qi(z,Q,H)}var Ti=new Map;function jt(z){var H=Ti.get(z);return H===void 0&&(H=le("</"+z+">"),Ti.set(z,H)),H}function Qe(z,H){z=z.preamble,z.htmlChunks===null&&H.htmlChunks&&(z.htmlChunks=H.htmlChunks),z.headChunks===null&&H.headChunks&&(z.headChunks=H.headChunks),z.bodyChunks===null&&H.bodyChunks&&(z.bodyChunks=H.bodyChunks)}function Gn(z,H){H=H.bootstrapChunks;for(var Q=0;Q<H.length-1;Q++)ye(z,H[Q]);return Q<H.length?(Q=H[Q],H.length=0,Re(z,Q)):!0}var ki=le("requestAnimationFrame(function(){$RT=performance.now()});"),ma=le('<template id="'),rt=le('"></template>'),Gt=le("<!--&-->"),It=le("<!--/&-->"),nn=le("<!--$-->"),xn=le('<!--$?--><template id="'),hr=le('"></template>'),En=le("<!--$!-->"),kr=le("<!--/$-->"),$r=le("<template"),Rr=le('"'),ei=le(' data-dgst="');le(' data-msg="'),le(' data-stck="'),le(' data-cstck="');var Ur=le("></template>");function Jr(z,H,Q){if(ye(z,xn),Q===null)throw Error(n(395));return ye(z,H.boundaryPrefix),ye(z,ce(Q.toString(16))),Re(z,hr)}var Dr=le('<div hidden id="'),Vn=le('">'),ba=le("</div>"),tr=le('<svg aria-hidden="true" style="display:none" id="'),Zr=le('">'),hi=le("</svg>"),Ui=le('<math aria-hidden="true" style="display:none" id="'),wo=le('">'),Fo=le("</math>"),As=le('<table hidden id="'),Co=le('">'),ho=le("</table>"),io=le('<table hidden><tbody id="'),us=le('">'),Qi=le("</tbody></table>"),Ma=le('<table hidden><tr id="'),Aa=le('">'),Ts=le("</tr></table>"),ks=le('<table hidden><colgroup id="'),Oa=le('">'),yu=le("</colgroup></table>");function jl(z,H,Q,ue){switch(Q.insertionMode){case 0:case 1:case 3:case 2:return ye(z,Dr),ye(z,H.segmentPrefix),ye(z,ce(ue.toString(16))),Re(z,Vn);case 4:return ye(z,tr),ye(z,H.segmentPrefix),ye(z,ce(ue.toString(16))),Re(z,Zr);case 5:return ye(z,Ui),ye(z,H.segmentPrefix),ye(z,ce(ue.toString(16))),Re(z,wo);case 6:return ye(z,As),ye(z,H.segmentPrefix),ye(z,ce(ue.toString(16))),Re(z,Co);case 7:return ye(z,io),ye(z,H.segmentPrefix),ye(z,ce(ue.toString(16))),Re(z,us);case 8:return ye(z,Ma),ye(z,H.segmentPrefix),ye(z,ce(ue.toString(16))),Re(z,Aa);case 9:return ye(z,ks),ye(z,H.segmentPrefix),ye(z,ce(ue.toString(16))),Re(z,Oa);default:throw Error(n(397))}}function Dl(z,H){switch(H.insertionMode){case 0:case 1:case 3:case 2:return Re(z,ba);case 4:return Re(z,hi);case 5:return Re(z,Fo);case 6:return Re(z,ho);case 7:return Re(z,Qi);case 8:return Re(z,Ts);case 9:return Re(z,yu);default:throw Error(n(397))}}var gi=le('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ds=le('$RS("'),_l=le('","'),Pa=le('")<\/script>');le('<template data-rsi="" data-sid="'),le('" data-pid="');var _s=le(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`);ce(`$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),
H=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll('img[src]:not([loading="lazy"])'))}}}if(B){var z=
document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=
performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);`);var Jt=le('$RC("'),Nr=le(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`),Ka=le('$RR("'),cs=le('","'),xu=le('",'),Wl=le('"'),ru=le(")<\/script>");le('<template data-rci="" data-bid="'),le('<template data-rri="" data-bid="'),le('" data-sid="'),le('" data-sty="');var Zs=le('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),Ia=le('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),Ji=le('$RX("'),Fs=le('"'),Li=le(","),dl=le(")<\/script>");le('<template data-rxi="" data-bid="'),le('" data-dgst="'),le('" data-msg="'),le('" data-stck="'),le('" data-cstck="');var gl=/[<\u2028\u2029]/g;function Di(z){return JSON.stringify(z).replace(gl,function(H){switch(H){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var jn=/[&><\u2028\u2029]/g;function Vo(z){return JSON.stringify(z).replace(jn,function(H){switch(H){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var di=le(' media="not all" data-precedence="'),fs=le('" data-href="'),qs=le('">'),Po=le("</style>"),oi=!1,pl=!0;function Ps(z){var H=z.rules,Q=z.hrefs,ue=0;if(Q.length){for(ye(this,Bn.startInlineStyle),ye(this,di),ye(this,z.precedence),ye(this,fs);ue<Q.length-1;ue++)ye(this,Q[ue]),ye(this,ml);for(ye(this,Q[ue]),ye(this,qs),ue=0;ue<H.length;ue++)ye(this,H[ue]);pl=Re(this,Po),oi=!0,H.length=0,Q.length=0}}function $i(z){return z.state!==2?oi=!0:!1}function zo(z,H,Q){return oi=!1,pl=!0,Bn=Q,H.styles.forEach(Ps,z),Bn=null,H.stylesheets.forEach($i),oi&&(Q.stylesToHoist=!0),pl}function Bi(z){for(var H=0;H<z.length;H++)ye(this,z[H]);z.length=0}var Ko=[];function Zo(z){mn(Ko,z.props);for(var H=0;H<Ko.length;H++)ye(this,Ko[H]);Ko.length=0,z.state=2}var Qs=le(' data-precedence="'),bu=le('" data-href="'),ml=le(" "),Js=le('">'),qo=le("</style>");function Ml(z){var H=0<z.sheets.size;z.sheets.forEach(Zo,this),z.sheets.clear();var Q=z.rules,ue=z.hrefs;if(!H||ue.length){if(ye(this,Bn.startInlineStyle),ye(this,Qs),ye(this,z.precedence),z=0,ue.length){for(ye(this,bu);z<ue.length-1;z++)ye(this,ue[z]),ye(this,ml);ye(this,ue[z])}for(ye(this,Js),z=0;z<Q.length;z++)ye(this,Q[z]);ye(this,qo),Q.length=0,ue.length=0}}function Fi(z){if(z.state===0){z.state=1;var H=z.props;for(mn(Ko,{rel:"preload",as:"style",href:z.props.href,crossOrigin:H.crossOrigin,fetchPriority:H.fetchPriority,integrity:H.integrity,media:H.media,hrefLang:H.hrefLang,referrerPolicy:H.referrerPolicy}),z=0;z<Ko.length;z++)ye(this,Ko[z]);Ko.length=0}}function So(z){z.sheets.forEach(Fi,this),z.sheets.clear()}le('<link rel="expect" href="#'),le('" blocking="render"/>');var Za=le(' id="');function hs(z,H){(H.instructions&32)===0&&(H.instructions|=32,z.push(Za,ce(st("_"+H.idPrefix+"R_")),Yr))}var Ms=le("["),Qo=le(",["),Ho=le(","),za=le("]");function ji(z,H){ye(z,Ms);var Q=Ms;H.stylesheets.forEach(function(ue){if(ue.state!==2)if(ue.state===3)ye(z,Q),ye(z,ce(Vo(""+ue.props.href))),ye(z,za),Q=Qo;else{ye(z,Q);var de=ue.props["data-precedence"],He=ue.props,$e=zt(""+ue.props.href);ye(z,ce(Vo($e))),de=""+de,ye(z,Ho),ye(z,ce(Vo(de)));for(var Ot in He)if(Ae.call(He,Ot)&&(de=He[Ot],de!=null))switch(Ot){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:ea(z,Ot,de)}ye(z,za),Q=Qo,ue.state=3}}),ye(z,za)}function ea(z,H,Q){var ue=H.toLowerCase();switch(typeof Q){case"function":case"symbol":return}switch(H){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":ue="class",H=""+Q;break;case"hidden":if(Q===!1)return;H="";break;case"src":case"href":Q=zt(Q),H=""+Q;break;default:if(2<H.length&&(H[0]==="o"||H[0]==="O")&&(H[1]==="n"||H[1]==="N")||!et(H))return;H=""+Q}ye(z,Ho),ye(z,ce(Vo(ue))),ye(z,Ho),ye(z,ce(Vo(H)))}function go(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function Er(z){var H=qr||null;if(H){var Q=H.resumableState,ue=H.renderState;if(typeof z=="string"&&z){if(!Q.dnsResources.hasOwnProperty(z)){Q.dnsResources[z]=null,Q=ue.headers;var de,He;(He=Q&&0<Q.remainingCapacity)&&(He=(de="<"+(""+z).replace(b,T)+">; rel=dns-prefetch",0<=(Q.remainingCapacity-=de.length+2))),He?(ue.resets.dns[z]=null,Q.preconnects&&(Q.preconnects+=", "),Q.preconnects+=de):(de=[],mn(de,{href:z,rel:"dns-prefetch"}),ue.preconnects.add(de))}ys(H)}}else Xt.D(z)}function $s(z,H){var Q=qr||null;if(Q){var ue=Q.resumableState,de=Q.renderState;if(typeof z=="string"&&z){var He=H==="use-credentials"?"credentials":typeof H=="string"?"anonymous":"default";if(!ue.connectResources[He].hasOwnProperty(z)){ue.connectResources[He][z]=null,ue=de.headers;var $e,Ot;if(Ot=ue&&0<ue.remainingCapacity){if(Ot="<"+(""+z).replace(b,T)+">; rel=preconnect",typeof H=="string"){var ht=(""+H).replace(B,j);Ot+='; crossorigin="'+ht+'"'}Ot=($e=Ot,0<=(ue.remainingCapacity-=$e.length+2))}Ot?(de.resets.connect[He][z]=null,ue.preconnects&&(ue.preconnects+=", "),ue.preconnects+=$e):(He=[],mn(He,{rel:"preconnect",href:z,crossOrigin:H}),de.preconnects.add(He))}ys(Q)}}else Xt.C(z,H)}function _e(z,H,Q){var ue=qr||null;if(ue){var de=ue.resumableState,He=ue.renderState;if(H&&z){switch(H){case"image":if(Q)var $e=Q.imageSrcSet,Ot=Q.imageSizes,ht=Q.fetchPriority;var Nt=$e?$e+`
`+(Ot||""):z;if(de.imageResources.hasOwnProperty(Nt))return;de.imageResources[Nt]=qt,de=He.headers;var Qt;de&&0<de.remainingCapacity&&typeof $e!="string"&&ht==="high"&&(Qt=L(z,H,Q),0<=(de.remainingCapacity-=Qt.length+2))?(He.resets.image[Nt]=qt,de.highImagePreloads&&(de.highImagePreloads+=", "),de.highImagePreloads+=Qt):(de=[],mn(de,me({rel:"preload",href:$e?void 0:z,as:H},Q)),ht==="high"?He.highImagePreloads.add(de):(He.bulkPreloads.add(de),He.preloads.images.set(Nt,de)));break;case"style":if(de.styleResources.hasOwnProperty(z))return;$e=[],mn($e,me({rel:"preload",href:z,as:H},Q)),de.styleResources[z]=!Q||typeof Q.crossOrigin!="string"&&typeof Q.integrity!="string"?qt:[Q.crossOrigin,Q.integrity],He.preloads.stylesheets.set(z,$e),He.bulkPreloads.add($e);break;case"script":if(de.scriptResources.hasOwnProperty(z))return;$e=[],He.preloads.scripts.set(z,$e),He.bulkPreloads.add($e),mn($e,me({rel:"preload",href:z,as:H},Q)),de.scriptResources[z]=!Q||typeof Q.crossOrigin!="string"&&typeof Q.integrity!="string"?qt:[Q.crossOrigin,Q.integrity];break;default:if(de.unknownResources.hasOwnProperty(H)){if($e=de.unknownResources[H],$e.hasOwnProperty(z))return}else $e={},de.unknownResources[H]=$e;$e[z]=qt,(de=He.headers)&&0<de.remainingCapacity&&H==="font"&&(Nt=L(z,H,Q),0<=(de.remainingCapacity-=Nt.length+2))?(He.resets.font[z]=qt,de.fontPreloads&&(de.fontPreloads+=", "),de.fontPreloads+=Nt):(de=[],z=me({rel:"preload",href:z,as:H},Q),mn(de,z),H)==="font"?He.fontPreloads.add(de):He.bulkPreloads.add(de)}ys(ue)}}else Xt.L(z,H,Q)}function s(z,H){var Q=qr||null;if(Q){var ue=Q.resumableState,de=Q.renderState;if(z){var He=H&&typeof H.as=="string"?H.as:"script";switch(He){case"script":if(ue.moduleScriptResources.hasOwnProperty(z))return;He=[],ue.moduleScriptResources[z]=!H||typeof H.crossOrigin!="string"&&typeof H.integrity!="string"?qt:[H.crossOrigin,H.integrity],de.preloads.moduleScripts.set(z,He);break;default:if(ue.moduleUnknownResources.hasOwnProperty(He)){var $e=ue.unknownResources[He];if($e.hasOwnProperty(z))return}else $e={},ue.moduleUnknownResources[He]=$e;He=[],$e[z]=qt}mn(He,me({rel:"modulepreload",href:z},H)),de.bulkPreloads.add(He),ys(Q)}}else Xt.m(z,H)}function p(z,H,Q){var ue=qr||null;if(ue){var de=ue.resumableState,He=ue.renderState;if(z){H=H||"default";var $e=He.styles.get(H),Ot=de.styleResources.hasOwnProperty(z)?de.styleResources[z]:void 0;Ot!==null&&(de.styleResources[z]=null,$e||($e={precedence:ce(st(H)),rules:[],hrefs:[],sheets:new Map},He.styles.set(H,$e)),H={state:0,props:me({rel:"stylesheet",href:z,"data-precedence":H},Q)},Ot&&(Ot.length===2&&D(H.props,Ot),(He=He.preloads.stylesheets.get(z))&&0<He.length?He.length=0:H.state=1),$e.sheets.set(z,H),ys(ue))}}else Xt.S(z,H,Q)}function w(z,H){var Q=qr||null;if(Q){var ue=Q.resumableState,de=Q.renderState;if(z){var He=ue.scriptResources.hasOwnProperty(z)?ue.scriptResources[z]:void 0;He!==null&&(ue.scriptResources[z]=null,H=me({src:z,async:!0},H),He&&(He.length===2&&D(H,He),z=de.preloads.scripts.get(z))&&(z.length=0),z=[],de.scripts.add(z),cn(z,H),ys(Q))}}else Xt.X(z,H)}function A(z,H){var Q=qr||null;if(Q){var ue=Q.resumableState,de=Q.renderState;if(z){var He=ue.moduleScriptResources.hasOwnProperty(z)?ue.moduleScriptResources[z]:void 0;He!==null&&(ue.moduleScriptResources[z]=null,H=me({src:z,type:"module",async:!0},H),He&&(He.length===2&&D(H,He),z=de.preloads.moduleScripts.get(z))&&(z.length=0),z=[],de.scripts.add(z),cn(z,H),ys(Q))}}else Xt.M(z,H)}function D(z,H){z.crossOrigin==null&&(z.crossOrigin=H[0]),z.integrity==null&&(z.integrity=H[1])}function L(z,H,Q){z=(""+z).replace(b,T),H=(""+H).replace(B,j),H="<"+z+'>; rel=preload; as="'+H+'"';for(var ue in Q)Ae.call(Q,ue)&&(z=Q[ue],typeof z=="string"&&(H+="; "+ue.toLowerCase()+'="'+(""+z).replace(B,j)+'"'));return H}var b=/[<>\r\n]/g;function T(z){switch(z){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var B=/["';,\r\n]/g;function j(z){switch(z){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function K(z){this.styles.add(z)}function ee(z){this.stylesheets.add(z)}function he(z,H){H.styles.forEach(K,z),H.stylesheets.forEach(ee,z),H.suspenseyImages&&(z.suspenseyImages=!0)}function Te(z){return 0<z.stylesheets.size||z.suspenseyImages}var Oe=Function.prototype.bind,Be=Symbol.for("react.client.reference");function Xe(z){if(z==null)return null;if(typeof z=="function")return z.$$typeof===Be?null:z.displayName||z.name||null;if(typeof z=="string")return z;switch(z){case u:return"Fragment";case d:return"Profiler";case y:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList";case S:return"Activity"}if(typeof z=="object")switch(z.$$typeof){case o:return"Portal";case c:return z.displayName||"Context";case a:return(z._context.displayName||"Context")+".Consumer";case v:var H=z.render;return z=z.displayName,z||(z=H.displayName||H.name||"",z=z!==""?"ForwardRef("+z+")":"ForwardRef"),z;case m:return H=z.displayName||null,H!==null?H:Xe(z.type)||"Memo";case C:H=z._payload,z=z._init;try{return Xe(z(H))}catch{}}return null}var Ke={},ot=null;function Je(z,H){if(z!==H){z.context._currentValue=z.parentValue,z=z.parent;var Q=H.parent;if(z===null){if(Q!==null)throw Error(n(401))}else{if(Q===null)throw Error(n(401));Je(z,Q)}H.context._currentValue=H.value}}function Ct(z){z.context._currentValue=z.parentValue,z=z.parent,z!==null&&Ct(z)}function R(z){var H=z.parent;H!==null&&R(H),z.context._currentValue=z.value}function P(z,H){if(z.context._currentValue=z.parentValue,z=z.parent,z===null)throw Error(n(402));z.depth===H.depth?Je(z,H):P(z,H)}function Y(z,H){var Q=H.parent;if(Q===null)throw Error(n(402));z.depth===Q.depth?Je(z,Q):Y(z,Q),H.context._currentValue=H.value}function $(z){var H=ot;H!==z&&(H===null?R(z):z===null?Ct(H):H.depth===z.depth?Je(H,z):H.depth>z.depth?P(H,z):Y(H,z),ot=z)}var oe={enqueueSetState:function(z,H){z=z._reactInternals,z.queue!==null&&z.queue.push(H)},enqueueReplaceState:function(z,H){z=z._reactInternals,z.replace=!0,z.queue=[H]},enqueueForceUpdate:function(){}},ke={id:1,overflow:""};function ze(z,H,Q){var ue=z.id;z=z.overflow;var de=32-vt(ue)-1;ue&=~(1<<de),Q+=1;var He=32-vt(H)+de;if(30<He){var $e=de-de%5;return He=(ue&(1<<$e)-1).toString(32),ue>>=$e,de-=$e,{id:1<<32-vt(H)+de|Q<<de|ue,overflow:He+z}}return{id:1<<He|Q<<de|ue,overflow:z}}var vt=Math.clz32?Math.clz32:Rt,nt=Math.log,bt=Math.LN2;function Rt(z){return z>>>=0,z===0?32:31-(nt(z)/bt|0)|0}function kt(){}var Zt=Error(n(460));function dn(z,H,Q){switch(Q=z[Q],Q===void 0?z.push(H):Q!==H&&(H.then(kt,kt),H=Q),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(kt,kt):(z=H,z.status="pending",z.then(function(ue){if(H.status==="pending"){var de=H;de.status="fulfilled",de.value=ue}},function(ue){if(H.status==="pending"){var de=H;de.status="rejected",de.reason=ue}})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}throw Nn=H,Zt}}var Nn=null;function In(){if(Nn===null)throw Error(n(459));var z=Nn;return Nn=null,z}function rr(z,H){return z===H&&(z!==0||1/z===1/H)||z!==z&&H!==H}var Rn=typeof Object.is=="function"?Object.is:rr,sr=null,_r=null,ta=null,wr=null,jr=null,ui=null,ca=!1,pi=!1,Ha=0,Pi=0,fa=-1,ha=0,va=null,Eo=null,iu=0;function zs(){if(sr===null)throw Error(n(321));return sr}function ds(){if(0<iu)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function el(){return ui===null?jr===null?(ca=!1,jr=ui=ds()):(ca=!0,ui=jr):ui.next===null?(ca=!1,ui=ui.next=ds()):(ca=!0,ui=ui.next),ui}function Ua(){var z=va;return va=null,z}function po(){wr=ta=_r=sr=null,pi=!1,jr=null,iu=0,ui=Eo=null}function Ao(z,H){return typeof H=="function"?H(z):H}function qa(z,H,Q){if(sr=zs(),ui=el(),ca){var ue=ui.queue;if(H=ue.dispatch,Eo!==null&&(Q=Eo.get(ue),Q!==void 0)){Eo.delete(ue),ue=ui.memoizedState;do ue=z(ue,Q.action),Q=Q.next;while(Q!==null);return ui.memoizedState=ue,[ue,H]}return[ui.memoizedState,H]}return z=z===Ao?typeof H=="function"?H():H:Q!==void 0?Q(H):H,ui.memoizedState=z,z=ui.queue={last:null,dispatch:null},z=z.dispatch=gs.bind(null,sr,z),[ui.memoizedState,z]}function ja(z,H){if(sr=zs(),ui=el(),H=H===void 0?null:H,ui!==null){var Q=ui.memoizedState;if(Q!==null&&H!==null){var ue=Q[1];e:if(ue===null)ue=!1;else{for(var de=0;de<ue.length&&de<H.length;de++)if(!Rn(H[de],ue[de])){ue=!1;break e}ue=!0}if(ue)return Q[0]}}return z=z(),ui.memoizedState=[z,H],z}function gs(z,H,Q){if(25<=iu)throw Error(n(301));if(z===sr)if(pi=!0,z={action:Q,next:null},Eo===null&&(Eo=new Map),Q=Eo.get(H),Q===void 0)Eo.set(H,z);else{for(H=Q;H.next!==null;)H=H.next;H.next=z}}function Wi(){throw Error(n(440))}function Jo(){throw Error(n(394))}function To(){throw Error(n(479))}function wu(z,H,Q){zs();var ue=Pi++,de=ta;if(typeof z.$$FORM_ACTION=="function"){var He=null,$e=wr;de=de.formState;var Ot=z.$$IS_SIGNATURE_EQUAL;if(de!==null&&typeof Ot=="function"){var ht=de[1];Ot.call(z,de[2],de[3])&&(He=Q!==void 0?"p"+Q:"k"+ne(JSON.stringify([$e,null,ue]),0),ht===He&&(fa=ue,H=de[0]))}var Nt=z.bind(null,H);return z=function(on){Nt(on)},typeof Nt.$$FORM_ACTION=="function"&&(z.$$FORM_ACTION=function(on){on=Nt.$$FORM_ACTION(on),Q!==void 0&&(Q+="",on.action=Q);var Dn=on.data;return Dn&&(He===null&&(He=Q!==void 0?"p"+Q:"k"+ne(JSON.stringify([$e,null,ue]),0)),Dn.append("$ACTION_KEY",He)),on}),[H,z,!1]}var Qt=z.bind(null,H);return[H,function(on){Qt(on)},!1]}function Ol(z){var H=ha;return ha+=1,va===null&&(va=[]),dn(va,z,H)}function Cu(){throw Error(n(393))}var au={readContext:function(z){return z._currentValue},use:function(z){if(z!==null&&typeof z=="object"){if(typeof z.then=="function")return Ol(z);if(z.$$typeof===c)return z._currentValue}throw Error(n(438,String(z)))},useContext:function(z){return zs(),z._currentValue},useMemo:ja,useReducer:qa,useRef:function(z){sr=zs(),ui=el();var H=ui.memoizedState;return H===null?(z={current:z},ui.memoizedState=z):H},useState:function(z){return qa(Ao,z)},useInsertionEffect:kt,useLayoutEffect:kt,useCallback:function(z,H){return ja(function(){return z},H)},useImperativeHandle:kt,useEffect:kt,useDebugValue:kt,useDeferredValue:function(z,H){return zs(),H!==void 0?H:z},useTransition:function(){return zs(),[!1,Jo]},useId:function(){var z=_r.treeContext,H=z.overflow;z=z.id,z=(z&~(1<<32-vt(z)-1)).toString(32)+H;var Q=Qa;if(Q===null)throw Error(n(404));return H=Ha++,z="_"+Q.idPrefix+"R_"+z,0<H&&(z+="H"+H.toString(32)),z+"_"},useSyncExternalStore:function(z,H,Q){if(Q===void 0)throw Error(n(407));return Q()},useOptimistic:function(z){return zs(),[z,To]},useActionState:wu,useFormState:wu,useHostTransitionStatus:function(){return zs(),un},useMemoCache:function(z){for(var H=Array(z),Q=0;Q<z;Q++)H[Q]=N;return H},useCacheRefresh:function(){return Cu},useEffectEvent:function(){return Wi}},Qa=null,ya={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}},ri,$o;function Ra(z){if(ri===void 0)try{throw Error()}catch(Q){var H=Q.stack.trim().match(/\n( *(at )?)/);ri=H&&H[1]||"",$o=-1<Q.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Q.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+z+$o}var vl=!1;function Os(z,H){if(!z||vl)return"";vl=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ue={DetermineComponentFrameRoot:function(){try{if(H){var on=function(){throw Error()};if(Object.defineProperty(on.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(on,[])}catch(_n){var Dn=_n}Reflect.construct(z,[],on)}else{try{on.call()}catch(_n){Dn=_n}z.call(on.prototype)}}else{try{throw Error()}catch(_n){Dn=_n}(on=z())&&typeof on.catch=="function"&&on.catch(function(){})}}catch(_n){if(_n&&Dn&&typeof _n.stack=="string")return[_n.stack,Dn.stack]}return[null,null]}};ue.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var de=Object.getOwnPropertyDescriptor(ue.DetermineComponentFrameRoot,"name");de&&de.configurable&&Object.defineProperty(ue.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var He=ue.DetermineComponentFrameRoot(),$e=He[0],Ot=He[1];if($e&&Ot){var ht=$e.split(`
`),Nt=Ot.split(`
`);for(de=ue=0;ue<ht.length&&!ht[ue].includes("DetermineComponentFrameRoot");)ue++;for(;de<Nt.length&&!Nt[de].includes("DetermineComponentFrameRoot");)de++;if(ue===ht.length||de===Nt.length)for(ue=ht.length-1,de=Nt.length-1;1<=ue&&0<=de&&ht[ue]!==Nt[de];)de--;for(;1<=ue&&0<=de;ue--,de--)if(ht[ue]!==Nt[de]){if(ue!==1||de!==1)do if(ue--,de--,0>de||ht[ue]!==Nt[de]){var Qt=`
`+ht[ue].replace(" at new "," at ");return z.displayName&&Qt.includes("<anonymous>")&&(Qt=Qt.replace("<anonymous>",z.displayName)),Qt}while(1<=ue&&0<=de);break}}}finally{vl=!1,Error.prepareStackTrace=Q}return(Q=z?z.displayName||z.name:"")?Ra(Q):""}function hf(z){if(typeof z=="string")return Ra(z);if(typeof z=="function")return z.prototype&&z.prototype.isReactComponent?Os(z,!0):Os(z,!1);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return Os(z.render,!1);case m:return Os(z.type,!1);case C:var H=z,Q=H._payload;H=H._init;try{z=H(Q)}catch{return Ra("Lazy")}return hf(z)}if(typeof z.name=="string"){e:{Q=z.name,H=z.env;var ue=z.debugLocation;if(ue!=null&&(z=Error.prepareStackTrace,Error.prepareStackTrace=void 0,ue=ue.stack,Error.prepareStackTrace=z,ue.startsWith(`Error: react-stack-top-frame
`)&&(ue=ue.slice(29)),z=ue.indexOf(`
`),z!==-1&&(ue=ue.slice(z+1)),z=ue.indexOf("react_stack_bottom_frame"),z!==-1&&(z=ue.lastIndexOf(`
`,z)),z=z!==-1?ue=ue.slice(0,z):"",ue=z.lastIndexOf(`
`),z=ue===-1?z:z.slice(ue+1),z.indexOf(Q)!==-1)){Q=`
`+z;break e}Q=Ra(Q+(H?" ["+H+"]":""))}return Q}}switch(z){case g:return Ra("SuspenseList");case f:return Ra("Suspense")}return""}function tl(z,H){return(500<H.byteSize||Te(H.contentState))&&H.contentPreamble===null}function Gl(z){if(typeof z=="object"&&z!==null&&typeof z.environmentName=="string"){var H=z.environmentName;z=[z].slice(0),typeof z[0]=="string"?z.splice(0,1,"%c%s%c "+z[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+H+" ",""):z.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+H+" ",""),z.unshift(console),H=Oe.apply(console.error,z),H()}else console.error(z);return null}function yl(z,H,Q,ue,de,He,$e,Ot,ht,Nt,Qt){var on=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=z,this.renderState=H,this.rootFormatContext=Q,this.progressiveChunkSize=ue===void 0?12800:ue,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=on,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=de===void 0?Gl:de,this.onPostpone=Nt===void 0?kt:Nt,this.onAllReady=He===void 0?kt:He,this.onShellReady=$e===void 0?kt:$e,this.onShellError=Ot===void 0?kt:Ot,this.onFatalError=ht===void 0?kt:ht,this.formState=Qt===void 0?null:Qt}function Su(z,H,Q,ue,de,He,$e,Ot,ht,Nt,Qt,on){return H=new yl(H,Q,ue,de,He,$e,Ot,ht,Nt,Qt,on),Q=es(H,0,null,ue,!1,!1),Q.parentFlushed=!0,z=nl(H,null,z,-1,null,Q,null,null,H.abortableTasks,null,ue,null,ke,null,null),Il(z),H.pingedTasks.push(z),H}function Ja(z,H,Q,ue,de,He,$e,Ot,ht,Nt,Qt){return z=Su(z,H,Q,ue,de,He,$e,Ot,ht,Nt,Qt,void 0),z.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},z}function sa(z,H,Q,ue,de,He,$e,Ot,ht){return Q=new yl(H.resumableState,Q,H.rootFormatContext,H.progressiveChunkSize,ue,de,He,$e,Ot,ht,null),Q.nextSegmentId=H.nextSegmentId,typeof H.replaySlots=="number"?(ue=es(Q,0,null,H.rootFormatContext,!1,!1),ue.parentFlushed=!0,z=nl(Q,null,z,-1,null,ue,null,null,Q.abortableTasks,null,H.rootFormatContext,null,ke,null,null),Il(z),Q.pingedTasks.push(z),Q):(z=bc(Q,null,{nodes:H.replayNodes,slots:H.replaySlots,pendingTasks:0},z,-1,null,null,Q.abortableTasks,null,H.rootFormatContext,null,ke,null,null),Il(z),Q.pingedTasks.push(z),Q)}function Na(z,H,Q,ue,de,He,$e,Ot,ht){return z=sa(z,H,Q,ue,de,He,$e,Ot,ht),z.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},z}var qr=null;function ko(z,H){z.pingedTasks.push(H),z.pingedTasks.length===1&&(z.flushScheduled=z.destination!==null,z.trackedPostpones!==null||z.status===10?mt(function(){return Wc(z)}):Fe(function(){return Wc(z)}))}function Hs(z,H,Q,ue,de){return Q={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:H,completedSegments:[],byteSize:0,fallbackAbortableTasks:Q,errorDigest:null,contentState:go(),fallbackState:go(),contentPreamble:ue,fallbackPreamble:de,trackedContentKeyPath:null,trackedFallbackNode:null},H!==null&&(H.pendingTasks++,ue=H.boundaries,ue!==null&&(z.allPendingTasks++,Q.pendingTasks++,ue.push(Q)),z=H.inheritedHoistables,z!==null&&he(Q.contentState,z)),Q}function nl(z,H,Q,ue,de,He,$e,Ot,ht,Nt,Qt,on,Dn,_n,lr){z.allPendingTasks++,de===null?z.pendingRootTasks++:de.pendingTasks++,_n!==null&&_n.pendingTasks++;var ti={replay:null,node:Q,childIndex:ue,ping:function(){return ko(z,ti)},blockedBoundary:de,blockedSegment:He,blockedPreamble:$e,hoistableState:Ot,abortSet:ht,keyPath:Nt,formatContext:Qt,context:on,treeContext:Dn,row:_n,componentStack:lr,thenableState:H};return ht.add(ti),ti}function bc(z,H,Q,ue,de,He,$e,Ot,ht,Nt,Qt,on,Dn,_n){z.allPendingTasks++,He===null?z.pendingRootTasks++:He.pendingTasks++,Dn!==null&&Dn.pendingTasks++,Q.pendingTasks++;var lr={replay:Q,node:ue,childIndex:de,ping:function(){return ko(z,lr)},blockedBoundary:He,blockedSegment:null,blockedPreamble:null,hoistableState:$e,abortSet:Ot,keyPath:ht,formatContext:Nt,context:Qt,treeContext:on,row:Dn,componentStack:_n,thenableState:H};return Ot.add(lr),lr}function es(z,H,Q,ue,de,He){return{status:0,parentFlushed:!1,id:-1,index:H,chunks:[],children:[],preambleChildren:[],parentFormatContext:ue,boundary:Q,lastPushedText:de,textEmbedded:He}}function Il(z){var H=z.node;typeof H=="object"&&H!==null&&H.$$typeof===r&&(z.componentStack={parent:z.componentStack,type:H.type})}function Is(z){return z===null?null:{parent:z.parent,type:"Suspense Fallback"}}function la(z){var H={};return z&&Object.defineProperty(H,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var Q="",ue=z;do Q+=hf(ue.type),ue=ue.parent;while(ue);var de=Q}catch(He){de=`
Error generating stack: `+He.message+`
`+He.stack}return Object.defineProperty(H,"componentStack",{value:de}),de}}),H}function $a(z,H,Q){if(z=z.onError,H=z(H,Q),H==null||typeof H=="string")return H}function Xu(z,H){var Q=z.onShellError,ue=z.onFatalError;Q(H),ue(H),z.destination!==null?(z.status=14,V(z.destination,H)):(z.status=13,z.fatalError=H)}function Uo(z,H){Uc(z,H.next,H.hoistables)}function Uc(z,H,Q){for(;H!==null;){Q!==null&&(he(H.hoistables,Q),H.inheritedHoistables=Q);var ue=H.boundaries;if(ue!==null){H.boundaries=null;for(var de=0;de<ue.length;de++){var He=ue[de];Q!==null&&he(He.contentState,Q),ao(z,He,null,null)}}if(H.pendingTasks--,0<H.pendingTasks)break;Q=H.hoistables,H=H.next}}function wc(z,H){var Q=H.boundaries;if(Q!==null&&H.pendingTasks===Q.length){for(var ue=!0,de=0;de<Q.length;de++){var He=Q[de];if(He.pendingTasks!==1||He.parentFlushed||tl(z,He)){ue=!1;break}}ue&&Uc(z,H,H.hoistables)}}function Ta(z){var H={pendingTasks:1,boundaries:null,hoistables:go(),inheritedHoistables:null,together:!1,next:null};return z!==null&&0<z.pendingTasks&&(H.pendingTasks++,H.boundaries=[],z.next=H),H}function Cc(z,H,Q,ue,de){var He=H.keyPath,$e=H.treeContext,Ot=H.row;H.keyPath=Q,Q=ue.length;var ht=null;if(H.replay!==null){var Nt=H.replay.slots;if(Nt!==null&&typeof Nt=="object")for(var Qt=0;Qt<Q;Qt++){var on=de!=="backwards"&&de!=="unstable_legacy-backwards"?Qt:Q-1-Qt,Dn=ue[on];H.row=ht=Ta(ht),H.treeContext=ze($e,Q,on);var _n=Nt[on];typeof _n=="number"?(ps(z,H,_n,Dn,on),delete Nt[on]):ua(z,H,Dn,on),--ht.pendingTasks===0&&Uo(z,ht)}else for(Nt=0;Nt<Q;Nt++)Qt=de!=="backwards"&&de!=="unstable_legacy-backwards"?Nt:Q-1-Nt,on=ue[Qt],H.row=ht=Ta(ht),H.treeContext=ze($e,Q,Qt),ua(z,H,on,Qt),--ht.pendingTasks===0&&Uo(z,ht)}else if(de!=="backwards"&&de!=="unstable_legacy-backwards")for(de=0;de<Q;de++)Nt=ue[de],H.row=ht=Ta(ht),H.treeContext=ze($e,Q,de),ua(z,H,Nt,de),--ht.pendingTasks===0&&Uo(z,ht);else{for(de=H.blockedSegment,Nt=de.children.length,Qt=de.chunks.length,on=Q-1;0<=on;on--){Dn=ue[on],H.row=ht=Ta(ht),H.treeContext=ze($e,Q,on),_n=es(z,Qt,null,H.formatContext,on===0?de.lastPushedText:!0,!0),de.children.splice(Nt,0,_n),H.blockedSegment=_n;try{ua(z,H,Dn,on),_n.lastPushedText&&_n.textEmbedded&&_n.chunks.push(er),_n.status=1,rs(z,H.blockedBoundary,_n),--ht.pendingTasks===0&&Uo(z,ht)}catch(lr){throw _n.status=z.status===12?3:4,lr}}H.blockedSegment=de,de.lastPushedText=!1}Ot!==null&&ht!==null&&0<ht.pendingTasks&&(Ot.pendingTasks++,ht.next=Ot),H.treeContext=$e,H.row=Ot,H.keyPath=He}function Vu(z,H,Q,ue,de,He){var $e=H.thenableState;for(H.thenableState=null,sr={},_r=H,ta=z,wr=Q,Pi=Ha=0,fa=-1,ha=0,va=$e,z=ue(de,He);pi;)pi=!1,Pi=Ha=0,fa=-1,ha=0,iu+=1,ui=null,z=ue(de,He);return po(),z}function ts(z,H,Q,ue,de,He,$e){var Ot=!1;if(He!==0&&z.formState!==null){var ht=H.blockedSegment;if(ht!==null){Ot=!0,ht=ht.chunks;for(var Nt=0;Nt<He;Nt++)Nt===$e?ht.push(hn):ht.push(wi)}}He=H.keyPath,H.keyPath=Q,de?(Q=H.treeContext,H.treeContext=ze(Q,1,0),ua(z,H,ue,-1),H.treeContext=Q):Ot?ua(z,H,ue,-1):na(z,H,ue,-1),H.keyPath=He}function ou(z,H,Q,ue,de,He){if(typeof ue=="function")if(ue.prototype&&ue.prototype.isReactComponent){var $e=de;if("ref"in de){$e={};for(var Ot in de)Ot!=="ref"&&($e[Ot]=de[Ot])}var ht=ue.defaultProps;if(ht){$e===de&&($e=me({},$e,de));for(var Nt in ht)$e[Nt]===void 0&&($e[Nt]=ht[Nt])}de=$e,$e=Ke,ht=ue.contextType,typeof ht=="object"&&ht!==null&&($e=ht._currentValue),$e=new ue(de,$e);var Qt=$e.state!==void 0?$e.state:null;if($e.updater=oe,$e.props=de,$e.state=Qt,ht={queue:[],replace:!1},$e._reactInternals=ht,He=ue.contextType,$e.context=typeof He=="object"&&He!==null?He._currentValue:Ke,He=ue.getDerivedStateFromProps,typeof He=="function"&&(He=He(de,Qt),Qt=He==null?Qt:me({},Qt,He),$e.state=Qt),typeof ue.getDerivedStateFromProps!="function"&&typeof $e.getSnapshotBeforeUpdate!="function"&&(typeof $e.UNSAFE_componentWillMount=="function"||typeof $e.componentWillMount=="function"))if(ue=$e.state,typeof $e.componentWillMount=="function"&&$e.componentWillMount(),typeof $e.UNSAFE_componentWillMount=="function"&&$e.UNSAFE_componentWillMount(),ue!==$e.state&&oe.enqueueReplaceState($e,$e.state,null),ht.queue!==null&&0<ht.queue.length)if(ue=ht.queue,He=ht.replace,ht.queue=null,ht.replace=!1,He&&ue.length===1)$e.state=ue[0];else{for(ht=He?ue[0]:$e.state,Qt=!0,He=He?1:0;He<ue.length;He++)Nt=ue[He],Nt=typeof Nt=="function"?Nt.call($e,ht,de,void 0):Nt,Nt!=null&&(Qt?(Qt=!1,ht=me({},ht,Nt)):me(ht,Nt));$e.state=ht}else ht.queue=null;if(ue=$e.render(),z.status===12)throw null;de=H.keyPath,H.keyPath=Q,na(z,H,ue,-1),H.keyPath=de}else{if(ue=Vu(z,H,Q,ue,de,void 0),z.status===12)throw null;ts(z,H,Q,ue,Ha!==0,Pi,fa)}else if(typeof ue=="string")if($e=H.blockedSegment,$e===null)$e=de.children,ht=H.formatContext,Qt=H.keyPath,H.formatContext=Cn(ht,ue,de),H.keyPath=Q,ua(z,H,$e,-1),H.formatContext=ht,H.keyPath=Qt;else{if(Qt=Ir($e.chunks,ue,de,z.resumableState,z.renderState,H.blockedPreamble,H.hoistableState,H.formatContext,$e.lastPushedText),$e.lastPushedText=!1,ht=H.formatContext,He=H.keyPath,H.keyPath=Q,(H.formatContext=Cn(ht,ue,de)).insertionMode===3){Q=es(z,0,null,H.formatContext,!1,!1),$e.preambleChildren.push(Q),H.blockedSegment=Q;try{Q.status=6,ua(z,H,Qt,-1),Q.lastPushedText&&Q.textEmbedded&&Q.chunks.push(er),Q.status=1,rs(z,H.blockedBoundary,Q)}finally{H.blockedSegment=$e}}else ua(z,H,Qt,-1);H.formatContext=ht,H.keyPath=He;e:{switch(H=$e.chunks,z=z.resumableState,ue){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=ht.insertionMode){z.hasBody=!0;break e}break;case"html":if(ht.insertionMode===0){z.hasHtml=!0;break e}break;case"head":if(1>=ht.insertionMode)break e}H.push(jt(ue))}$e.lastPushedText=!1}else{switch(ue){case O:case y:case d:case u:ue=H.keyPath,H.keyPath=Q,na(z,H,de.children,-1),H.keyPath=ue;return;case S:ue=H.blockedSegment,ue===null?de.mode!=="hidden"&&(ue=H.keyPath,H.keyPath=Q,ua(z,H,de.children,-1),H.keyPath=ue):de.mode!=="hidden"&&(ue.chunks.push(Gt),ue.lastPushedText=!1,$e=H.keyPath,H.keyPath=Q,ua(z,H,de.children,-1),H.keyPath=$e,ue.chunks.push(It),ue.lastPushedText=!1);return;case g:e:{if(ue=de.children,de=de.revealOrder,de==="forwards"||de==="backwards"||de==="unstable_legacy-backwards"){if(J(ue)){Cc(z,H,Q,ue,de);break e}if(($e=q(ue))&&($e=$e.call(ue))){if(ht=$e.next(),!ht.done){do ht=$e.next();while(!ht.done);Cc(z,H,Q,ue,de)}break e}}de==="together"?(de=H.keyPath,$e=H.row,ht=H.row=Ta(null),ht.boundaries=[],ht.together=!0,H.keyPath=Q,na(z,H,ue,-1),--ht.pendingTasks===0&&Uo(z,ht),H.keyPath=de,H.row=$e,$e!==null&&0<ht.pendingTasks&&($e.pendingTasks++,ht.next=$e)):(de=H.keyPath,H.keyPath=Q,na(z,H,ue,-1),H.keyPath=de)}return;case U:case k:throw Error(n(343));case f:e:if(H.replay!==null){ue=H.keyPath,$e=H.formatContext,ht=H.row,H.keyPath=Q,H.formatContext=Yn(z.resumableState,$e),H.row=null,Q=de.children;try{ua(z,H,Q,-1)}finally{H.keyPath=ue,H.formatContext=$e,H.row=ht}}else{ue=H.keyPath,He=H.formatContext;var on=H.row;Nt=H.blockedBoundary,Ot=H.blockedPreamble;var Dn=H.hoistableState,_n=H.blockedSegment,lr=de.fallback;de=de.children;var ti=new Set,Wr=2>H.formatContext.insertionMode?Hs(z,H.row,ti,yt(),yt()):Hs(z,H.row,ti,null,null);z.trackedPostpones!==null&&(Wr.trackedContentKeyPath=Q);var qn=es(z,_n.chunks.length,Wr,H.formatContext,!1,!1);_n.children.push(qn),_n.lastPushedText=!1;var cr=es(z,0,null,H.formatContext,!1,!1);if(cr.parentFlushed=!0,z.trackedPostpones!==null){$e=H.componentStack,ht=[Q[0],"Suspense Fallback",Q[2]],Qt=[ht[1],ht[2],[],null],z.trackedPostpones.workingMap.set(ht,Qt),Wr.trackedFallbackNode=Qt,H.blockedSegment=qn,H.blockedPreamble=Wr.fallbackPreamble,H.keyPath=ht,H.formatContext=$n(z.resumableState,He),H.componentStack=Is($e),qn.status=6;try{ua(z,H,lr,-1),qn.lastPushedText&&qn.textEmbedded&&qn.chunks.push(er),qn.status=1,rs(z,Nt,qn)}catch(mi){throw qn.status=z.status===12?3:4,mi}finally{H.blockedSegment=_n,H.blockedPreamble=Ot,H.keyPath=ue,H.formatContext=He}H=nl(z,null,de,-1,Wr,cr,Wr.contentPreamble,Wr.contentState,H.abortSet,Q,Yn(z.resumableState,H.formatContext),H.context,H.treeContext,null,$e),Il(H),z.pingedTasks.push(H)}else{H.blockedBoundary=Wr,H.blockedPreamble=Wr.contentPreamble,H.hoistableState=Wr.contentState,H.blockedSegment=cr,H.keyPath=Q,H.formatContext=Yn(z.resumableState,He),H.row=null,cr.status=6;try{if(ua(z,H,de,-1),cr.lastPushedText&&cr.textEmbedded&&cr.chunks.push(er),cr.status=1,rs(z,Wr,cr),xl(Wr,cr),Wr.pendingTasks===0&&Wr.status===0){if(Wr.status=1,!tl(z,Wr)){on!==null&&--on.pendingTasks===0&&Uo(z,on),z.pendingRootTasks===0&&H.blockedPreamble&&Rs(z);break e}}else on!==null&&on.together&&wc(z,on)}catch(mi){Wr.status=4,z.status===12?(cr.status=3,$e=z.fatalError):(cr.status=4,$e=mi),ht=la(H.componentStack),Qt=$a(z,$e,ht),Wr.errorDigest=Qt,li(z,Wr)}finally{H.blockedBoundary=Nt,H.blockedPreamble=Ot,H.hoistableState=Dn,H.blockedSegment=_n,H.keyPath=ue,H.formatContext=He,H.row=on}H=nl(z,null,lr,-1,Nt,qn,Wr.fallbackPreamble,Wr.fallbackState,ti,[Q[0],"Suspense Fallback",Q[2]],$n(z.resumableState,H.formatContext),H.context,H.treeContext,H.row,Is(H.componentStack)),Il(H),z.pingedTasks.push(H)}}return}if(typeof ue=="object"&&ue!==null)switch(ue.$$typeof){case v:if("ref"in de)for(_n in $e={},de)_n!=="ref"&&($e[_n]=de[_n]);else $e=de;ue=Vu(z,H,Q,ue.render,$e,He),ts(z,H,Q,ue,Ha!==0,Pi,fa);return;case m:ou(z,H,Q,ue.type,de,He);return;case c:if(ht=de.children,$e=H.keyPath,de=de.value,Qt=ue._currentValue,ue._currentValue=de,He=ot,ot=ue={parent:He,depth:He===null?0:He.depth+1,context:ue,parentValue:Qt,value:de},H.context=ue,H.keyPath=Q,na(z,H,ht,-1),z=ot,z===null)throw Error(n(403));z.context._currentValue=z.parentValue,z=ot=z.parent,H.context=z,H.keyPath=$e;return;case a:de=de.children,ue=de(ue._context._currentValue),de=H.keyPath,H.keyPath=Q,na(z,H,ue,-1),H.keyPath=de;return;case C:if($e=ue._init,ue=$e(ue._payload),z.status===12)throw null;ou(z,H,Q,ue,de,He);return}throw Error(n(130,ue==null?ue:typeof ue,""))}}function ps(z,H,Q,ue,de){var He=H.replay,$e=H.blockedBoundary,Ot=es(z,0,null,H.formatContext,!1,!1);Ot.id=Q,Ot.parentFlushed=!0;try{H.replay=null,H.blockedSegment=Ot,ua(z,H,ue,de),Ot.status=1,rs(z,$e,Ot),$e===null?z.completedRootSegment=Ot:(xl($e,Ot),$e.parentFlushed&&z.partialBoundaries.push($e))}finally{H.replay=He,H.blockedSegment=null}}function na(z,H,Q,ue){H.replay!==null&&typeof H.replay.slots=="number"?ps(z,H,H.replay.slots,Q,ue):(H.node=Q,H.childIndex=ue,Q=H.componentStack,Il(H),Ku(z,H),H.componentStack=Q)}function Ku(z,H){var Q=H.node,ue=H.childIndex;if(Q!==null){if(typeof Q=="object"){switch(Q.$$typeof){case r:var de=Q.type,He=Q.key,$e=Q.props;Q=$e.ref;var Ot=Q!==void 0?Q:null,ht=Xe(de),Nt=He??(ue===-1?0:ue);if(He=[H.keyPath,ht,Nt],H.replay!==null)e:{var Qt=H.replay;for(ue=Qt.nodes,Q=0;Q<ue.length;Q++){var on=ue[Q];if(Nt===on[1]){if(on.length===4){if(ht!==null&&ht!==on[0])throw Error(n(490,on[0],ht));var Dn=on[2];ht=on[3],Nt=H.node,H.replay={nodes:Dn,slots:ht,pendingTasks:1};try{if(ou(z,H,He,de,$e,Ot),H.replay.pendingTasks===1&&0<H.replay.nodes.length)throw Error(n(488));H.replay.pendingTasks--}catch(Ar){if(typeof Ar=="object"&&Ar!==null&&(Ar===Zt||typeof Ar.then=="function"))throw H.node===Nt?H.replay=Qt:ue.splice(Q,1),Ar;H.replay.pendingTasks--,$e=la(H.componentStack),He=z,z=H.blockedBoundary,de=Ar,$e=$a(He,de,$e),Xl(He,z,Dn,ht,de,$e)}H.replay=Qt}else{if(de!==f)throw Error(n(490,"Suspense",Xe(de)||"Unknown"));t:{Qt=void 0,de=on[5],Ot=on[2],ht=on[3],Nt=on[4]===null?[]:on[4][2],on=on[4]===null?null:on[4][3];var _n=H.keyPath,lr=H.formatContext,ti=H.row,Wr=H.replay,qn=H.blockedBoundary,cr=H.hoistableState,mi=$e.children,eo=$e.fallback,jo=new Set;$e=2>H.formatContext.insertionMode?Hs(z,H.row,jo,yt(),yt()):Hs(z,H.row,jo,null,null),$e.parentFlushed=!0,$e.rootSegmentID=de,H.blockedBoundary=$e,H.hoistableState=$e.contentState,H.keyPath=He,H.formatContext=Yn(z.resumableState,lr),H.row=null,H.replay={nodes:Ot,slots:ht,pendingTasks:1};try{if(ua(z,H,mi,-1),H.replay.pendingTasks===1&&0<H.replay.nodes.length)throw Error(n(488));if(H.replay.pendingTasks--,$e.pendingTasks===0&&$e.status===0){$e.status=1,z.completedBoundaries.push($e);break t}}catch(Ar){$e.status=4,Dn=la(H.componentStack),Qt=$a(z,Ar,Dn),$e.errorDigest=Qt,H.replay.pendingTasks--,z.clientRenderedBoundaries.push($e)}finally{H.blockedBoundary=qn,H.hoistableState=cr,H.replay=Wr,H.keyPath=_n,H.formatContext=lr,H.row=ti}Dn=bc(z,null,{nodes:Nt,slots:on,pendingTasks:0},eo,-1,qn,$e.fallbackState,jo,[He[0],"Suspense Fallback",He[2]],$n(z.resumableState,H.formatContext),H.context,H.treeContext,H.row,Is(H.componentStack)),Il(Dn),z.pingedTasks.push(Dn)}}ue.splice(Q,1);break e}}}else ou(z,H,He,de,$e,Ot);return;case o:throw Error(n(257));case C:if(Dn=Q._init,Q=Dn(Q._payload),z.status===12)throw null;na(z,H,Q,ue);return}if(J(Q)){Zu(z,H,Q,ue);return}if((Dn=q(Q))&&(Dn=Dn.call(Q))){if(Q=Dn.next(),!Q.done){$e=[];do $e.push(Q.value),Q=Dn.next();while(!Q.done);Zu(z,H,$e,ue)}return}if(typeof Q.then=="function")return H.thenableState=null,na(z,H,Ol(Q),ue);if(Q.$$typeof===c)return na(z,H,Q._currentValue,ue);throw ue=Object.prototype.toString.call(Q),Error(n(31,ue==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ue))}typeof Q=="string"?(ue=H.blockedSegment,ue!==null&&(ue.lastPushedText=Hn(ue.chunks,Q,z.renderState,ue.lastPushedText))):(typeof Q=="number"||typeof Q=="bigint")&&(ue=H.blockedSegment,ue!==null&&(ue.lastPushedText=Hn(ue.chunks,""+Q,z.renderState,ue.lastPushedText)))}}function Zu(z,H,Q,ue){var de=H.keyPath;if(ue!==-1&&(H.keyPath=[H.keyPath,"Fragment",ue],H.replay!==null)){for(var He=H.replay,$e=He.nodes,Ot=0;Ot<$e.length;Ot++){var ht=$e[Ot];if(ht[1]===ue){ue=ht[2],ht=ht[3],H.replay={nodes:ue,slots:ht,pendingTasks:1};try{if(Zu(z,H,Q,-1),H.replay.pendingTasks===1&&0<H.replay.nodes.length)throw Error(n(488));H.replay.pendingTasks--}catch(on){if(typeof on=="object"&&on!==null&&(on===Zt||typeof on.then=="function"))throw on;H.replay.pendingTasks--,Q=la(H.componentStack);var Nt=H.blockedBoundary,Qt=on;Q=$a(z,Qt,Q),Xl(z,Nt,ue,ht,Qt,Q)}H.replay=He,$e.splice(Ot,1);break}}H.keyPath=de;return}if(He=H.treeContext,$e=Q.length,H.replay!==null&&(Ot=H.replay.slots,Ot!==null&&typeof Ot=="object")){for(ue=0;ue<$e;ue++)ht=Q[ue],H.treeContext=ze(He,$e,ue),Nt=Ot[ue],typeof Nt=="number"?(ps(z,H,Nt,ht,ue),delete Ot[ue]):ua(z,H,ht,ue);H.treeContext=He,H.keyPath=de;return}for(Ot=0;Ot<$e;Ot++)ue=Q[Ot],H.treeContext=ze(He,$e,Ot),ua(z,H,ue,Ot);H.treeContext=He,H.keyPath=de}function jc(z,H,Q){if(Q.status=5,Q.rootSegmentID=z.nextSegmentId++,z=Q.trackedContentKeyPath,z===null)throw Error(n(486));var ue=Q.trackedFallbackNode,de=[],He=H.workingMap.get(z);return He===void 0?(Q=[z[1],z[2],de,null,ue,Q.rootSegmentID],H.workingMap.set(z,Q),Tu(Q,z[0],H),Q):(He[4]=ue,He[5]=Q.rootSegmentID,He)}function ns(z,H,Q,ue){ue.status=5;var de=Q.keyPath,He=Q.blockedBoundary;if(He===null)ue.id=z.nextSegmentId++,H.rootSlots=ue.id,z.completedRootSegment!==null&&(z.completedRootSegment.status=5);else{if(He!==null&&He.status===0){var $e=jc(z,H,He);if(He.trackedContentKeyPath===de&&Q.childIndex===-1){ue.id===-1&&(ue.id=ue.parentFlushed?He.rootSegmentID:z.nextSegmentId++),$e[3]=ue.id;return}}if(ue.id===-1&&(ue.id=ue.parentFlushed&&He!==null?He.rootSegmentID:z.nextSegmentId++),Q.childIndex===-1)de===null?H.rootSlots=ue.id:(Q=H.workingMap.get(de),Q===void 0?(Q=[de[1],de[2],[],ue.id],Tu(Q,de[0],H)):Q[3]=ue.id);else{if(de===null){if(z=H.rootSlots,z===null)z=H.rootSlots={};else if(typeof z=="number")throw Error(n(491))}else if(He=H.workingMap,$e=He.get(de),$e===void 0)z={},$e=[de[1],de[2],[],z],He.set(de,$e),Tu($e,de[0],H);else if(z=$e[3],z===null)z=$e[3]={};else if(typeof z=="number")throw Error(n(491));z[Q.childIndex]=ue.id}}}function li(z,H){z=z.trackedPostpones,z!==null&&(H=H.trackedContentKeyPath,H!==null&&(H=z.workingMap.get(H),H!==void 0&&(H.length=4,H[2]=[],H[3]=null)))}function ms(z,H,Q){return bc(z,Q,H.replay,H.node,H.childIndex,H.blockedBoundary,H.hoistableState,H.abortSet,H.keyPath,H.formatContext,H.context,H.treeContext,H.row,H.componentStack)}function rl(z,H,Q){var ue=H.blockedSegment,de=es(z,ue.chunks.length,null,H.formatContext,ue.lastPushedText,!0);return ue.children.push(de),ue.lastPushedText=!1,nl(z,Q,H.node,H.childIndex,H.blockedBoundary,de,H.blockedPreamble,H.hoistableState,H.abortSet,H.keyPath,H.formatContext,H.context,H.treeContext,H.row,H.componentStack)}function ua(z,H,Q,ue){var de=H.formatContext,He=H.context,$e=H.keyPath,Ot=H.treeContext,ht=H.componentStack,Nt=H.blockedSegment;if(Nt===null){Nt=H.replay;try{return na(z,H,Q,ue)}catch(Dn){if(po(),Q=Dn===Zt?In():Dn,z.status!==12&&typeof Q=="object"&&Q!==null){if(typeof Q.then=="function"){ue=Dn===Zt?Ua():null,z=ms(z,H,ue).ping,Q.then(z,z),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,H.replay=Nt,$(He);return}if(Q.message==="Maximum call stack size exceeded"){Q=Dn===Zt?Ua():null,Q=ms(z,H,Q),z.pingedTasks.push(Q),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,H.replay=Nt,$(He);return}}}}else{var Qt=Nt.children.length,on=Nt.chunks.length;try{return na(z,H,Q,ue)}catch(Dn){if(po(),Nt.children.length=Qt,Nt.chunks.length=on,Q=Dn===Zt?In():Dn,z.status!==12&&typeof Q=="object"&&Q!==null){if(typeof Q.then=="function"){Nt=Q,Q=Dn===Zt?Ua():null,z=rl(z,H,Q).ping,Nt.then(z,z),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,$(He);return}if(Q.message==="Maximum call stack size exceeded"){Nt=Dn===Zt?Ua():null,Nt=rl(z,H,Nt),z.pingedTasks.push(Nt),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,$(He);return}}}}throw H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,$(He),Q}function Yl(z){var H=z.blockedBoundary,Q=z.blockedSegment;Q!==null&&(Q.status=3,ao(this,H,z.row,Q))}function Xl(z,H,Q,ue,de,He){for(var $e=0;$e<Q.length;$e++){var Ot=Q[$e];if(Ot.length===4)Xl(z,H,Ot[2],Ot[3],de,He);else{Ot=Ot[5];var ht=z,Nt=He,Qt=Hs(ht,null,new Set,null,null);Qt.parentFlushed=!0,Qt.rootSegmentID=Ot,Qt.status=4,Qt.errorDigest=Nt,Qt.parentFlushed&&ht.clientRenderedBoundaries.push(Qt)}}if(Q.length=0,ue!==null){if(H===null)throw Error(n(487));if(H.status!==4&&(H.status=4,H.errorDigest=He,H.parentFlushed&&z.clientRenderedBoundaries.push(H)),typeof ue=="object")for(var on in ue)delete ue[on]}}function Vl(z,H,Q){var ue=z.blockedBoundary,de=z.blockedSegment;if(de!==null){if(de.status===6)return;de.status=3}var He=la(z.componentStack);if(ue===null){if(H.status!==13&&H.status!==14){if(ue=z.replay,ue===null){H.trackedPostpones!==null&&de!==null?(ue=H.trackedPostpones,$a(H,Q,He),ns(H,ue,z,de),ao(H,null,z.row,de)):($a(H,Q,He),Xu(H,Q));return}ue.pendingTasks--,ue.pendingTasks===0&&0<ue.nodes.length&&(de=$a(H,Q,He),Xl(H,null,ue.nodes,ue.slots,Q,de)),H.pendingRootTasks--,H.pendingRootTasks===0&&qu(H)}}else{var $e=H.trackedPostpones;if(ue.status!==4){if($e!==null&&de!==null)return $a(H,Q,He),ns(H,$e,z,de),ue.fallbackAbortableTasks.forEach(function(Ot){return Vl(Ot,H,Q)}),ue.fallbackAbortableTasks.clear(),ao(H,ue,z.row,de);ue.status=4,de=$a(H,Q,He),ue.status=4,ue.errorDigest=de,li(H,ue),ue.parentFlushed&&H.clientRenderedBoundaries.push(ue)}ue.pendingTasks--,de=ue.row,de!==null&&--de.pendingTasks===0&&Uo(H,de),ue.fallbackAbortableTasks.forEach(function(Ot){return Vl(Ot,H,Q)}),ue.fallbackAbortableTasks.clear()}z=z.row,z!==null&&--z.pendingTasks===0&&Uo(H,z),H.allPendingTasks--,H.allPendingTasks===0&&Kl(H)}function Eu(z,H){try{var Q=z.renderState,ue=Q.onHeaders;if(ue){var de=Q.headers;if(de){Q.headers=null;var He=de.preconnects;if(de.fontPreloads&&(He&&(He+=", "),He+=de.fontPreloads),de.highImagePreloads&&(He&&(He+=", "),He+=de.highImagePreloads),!H){var $e=Q.styles.values(),Ot=$e.next();e:for(;0<de.remainingCapacity&&!Ot.done;Ot=$e.next())for(var ht=Ot.value.sheets.values(),Nt=ht.next();0<de.remainingCapacity&&!Nt.done;Nt=ht.next()){var Qt=Nt.value,on=Qt.props,Dn=on.href,_n=Qt.props,lr=L(_n.href,"style",{crossOrigin:_n.crossOrigin,integrity:_n.integrity,nonce:_n.nonce,type:_n.type,fetchPriority:_n.fetchPriority,referrerPolicy:_n.referrerPolicy,media:_n.media});if(0<=(de.remainingCapacity-=lr.length+2))Q.resets.style[Dn]=qt,He&&(He+=", "),He+=lr,Q.resets.style[Dn]=typeof on.crossOrigin=="string"||typeof on.integrity=="string"?[on.crossOrigin,on.integrity]:qt;else break e}}ue(He?{Link:He}:{})}}}catch(ti){$a(z,ti,{})}}function qu(z){z.trackedPostpones===null&&Eu(z,!0),z.trackedPostpones===null&&Rs(z),z.onShellError=kt,z=z.onShellReady,z()}function Kl(z){Eu(z,z.trackedPostpones===null?!0:z.completedRootSegment===null||z.completedRootSegment.status!==5),Rs(z),z=z.onAllReady,z()}function xl(z,H){if(H.chunks.length===0&&H.children.length===1&&H.children[0].boundary===null&&H.children[0].id===-1){var Q=H.children[0];Q.id=H.id,Q.parentFlushed=!0,Q.status!==1&&Q.status!==3&&Q.status!==4||xl(z,Q)}else z.completedSegments.push(H)}function rs(z,H,Q){if(ae!==null){Q=Q.chunks;for(var ue=0,de=0;de<Q.length;de++)ue+=Q[de].byteLength;H===null?z.byteSize+=ue:H.byteSize+=ue}}function ao(z,H,Q,ue){if(Q!==null&&(--Q.pendingTasks===0?Uo(z,Q):Q.together&&wc(z,Q)),z.allPendingTasks--,H===null){if(ue!==null&&ue.parentFlushed){if(z.completedRootSegment!==null)throw Error(n(389));z.completedRootSegment=ue}z.pendingRootTasks--,z.pendingRootTasks===0&&qu(z)}else if(H.pendingTasks--,H.status!==4)if(H.pendingTasks===0){if(H.status===0&&(H.status=1),ue!==null&&ue.parentFlushed&&(ue.status===1||ue.status===3)&&xl(H,ue),H.parentFlushed&&z.completedBoundaries.push(H),H.status===1)Q=H.row,Q!==null&&he(Q.hoistables,H.contentState),tl(z,H)||(H.fallbackAbortableTasks.forEach(Yl,z),H.fallbackAbortableTasks.clear(),Q!==null&&--Q.pendingTasks===0&&Uo(z,Q)),z.pendingRootTasks===0&&z.trackedPostpones===null&&H.contentPreamble!==null&&Rs(z);else if(H.status===5&&(H=H.row,H!==null)){if(z.trackedPostpones!==null){Q=z.trackedPostpones;var de=H.next;if(de!==null&&(ue=de.boundaries,ue!==null))for(de.boundaries=null,de=0;de<ue.length;de++){var He=ue[de];jc(z,Q,He),ao(z,He,null,null)}}--H.pendingTasks===0&&Uo(z,H)}}else ue===null||!ue.parentFlushed||ue.status!==1&&ue.status!==3||(xl(H,ue),H.completedSegments.length===1&&H.parentFlushed&&z.partialBoundaries.push(H)),H=H.row,H!==null&&H.together&&wc(z,H);z.allPendingTasks===0&&Kl(z)}function Wc(z){if(z.status!==14&&z.status!==13){var H=ot,Q=Ut.H;Ut.H=au;var ue=Ut.A;Ut.A=ya;var de=qr;qr=z;var He=Qa;Qa=z.resumableState;try{var $e=z.pingedTasks,Ot;for(Ot=0;Ot<$e.length;Ot++){var ht=$e[Ot],Nt=z,Qt=ht.blockedSegment;if(Qt===null){var on=Nt;if(ht.replay.pendingTasks!==0){$(ht.context);try{if(typeof ht.replay.slots=="number"?ps(on,ht,ht.replay.slots,ht.node,ht.childIndex):Ku(on,ht),ht.replay.pendingTasks===1&&0<ht.replay.nodes.length)throw Error(n(488));ht.replay.pendingTasks--,ht.abortSet.delete(ht),ao(on,ht.blockedBoundary,ht.row,null)}catch(_o){po();var Dn=_o===Zt?In():_o;if(typeof Dn=="object"&&Dn!==null&&typeof Dn.then=="function"){var _n=ht.ping;Dn.then(_n,_n),ht.thenableState=_o===Zt?Ua():null}else{ht.replay.pendingTasks--,ht.abortSet.delete(ht);var lr=la(ht.componentStack);Nt=void 0;var ti=on,Wr=ht.blockedBoundary,qn=on.status===12?on.fatalError:Dn,cr=ht.replay.nodes,mi=ht.replay.slots;Nt=$a(ti,qn,lr),Xl(ti,Wr,cr,mi,qn,Nt),on.pendingRootTasks--,on.pendingRootTasks===0&&qu(on),on.allPendingTasks--,on.allPendingTasks===0&&Kl(on)}}}}else if(on=void 0,ti=Qt,ti.status===0){ti.status=6,$(ht.context);var eo=ti.children.length,jo=ti.chunks.length;try{Ku(Nt,ht),ti.lastPushedText&&ti.textEmbedded&&ti.chunks.push(er),ht.abortSet.delete(ht),ti.status=1,rs(Nt,ht.blockedBoundary,ti),ao(Nt,ht.blockedBoundary,ht.row,ti)}catch(_o){po(),ti.children.length=eo,ti.chunks.length=jo;var Ar=_o===Zt?In():Nt.status===12?Nt.fatalError:_o;if(Nt.status===12&&Nt.trackedPostpones!==null){var mo=Nt.trackedPostpones,ra=la(ht.componentStack);ht.abortSet.delete(ht),$a(Nt,Ar,ra),ns(Nt,mo,ht,ti),ao(Nt,ht.blockedBoundary,ht.row,ti)}else if(typeof Ar=="object"&&Ar!==null&&typeof Ar.then=="function"){ti.status=0,ht.thenableState=_o===Zt?Ua():null;var La=ht.ping;Ar.then(La,La)}else{var sl=la(ht.componentStack);ht.abortSet.delete(ht),ti.status=4;var Gr=ht.blockedBoundary,Nl=ht.row;if(Nl!==null&&--Nl.pendingTasks===0&&Uo(Nt,Nl),Nt.allPendingTasks--,on=$a(Nt,Ar,sl),Gr===null)Xu(Nt,Ar);else if(Gr.pendingTasks--,Gr.status!==4){Gr.status=4,Gr.errorDigest=on,li(Nt,Gr);var bl=Gr.row;bl!==null&&--bl.pendingTasks===0&&Uo(Nt,bl),Gr.parentFlushed&&Nt.clientRenderedBoundaries.push(Gr),Nt.pendingRootTasks===0&&Nt.trackedPostpones===null&&Gr.contentPreamble!==null&&Rs(Nt)}Nt.allPendingTasks===0&&Kl(Nt)}}}}$e.splice(0,Ot),z.destination!==null&&Au(z,z.destination)}catch(_o){$a(z,_o,{}),Xu(z,_o)}finally{Qa=He,Ut.H=Q,Ut.A=ue,Q===au&&$(H),qr=de}}}function Us(z,H,Q){H.preambleChildren.length&&Q.push(H.preambleChildren);for(var ue=!1,de=0;de<H.children.length;de++)ue=Qu(z,H.children[de],Q)||ue;return ue}function Qu(z,H,Q){var ue=H.boundary;if(ue===null)return Us(z,H,Q);var de=ue.contentPreamble,He=ue.fallbackPreamble;if(de===null||He===null)return!1;switch(ue.status){case 1:if(Qe(z.renderState,de),z.byteSize+=ue.byteSize,H=ue.completedSegments[0],!H)throw Error(n(391));return Us(z,H,Q);case 5:if(z.trackedPostpones!==null)return!0;case 4:if(H.status===1)return Qe(z.renderState,He),Us(z,H,Q);default:return!0}}function Rs(z){if(z.completedRootSegment&&z.completedPreambleSegments===null){var H=[],Q=z.byteSize,ue=Qu(z,z.completedRootSegment,H),de=z.renderState.preamble;ue===!1||de.headChunks&&de.bodyChunks?z.completedPreambleSegments=H:z.byteSize=Q}}function il(z,H,Q,ue){switch(Q.parentFlushed=!0,Q.status){case 0:Q.id=z.nextSegmentId++;case 5:return ue=Q.id,Q.lastPushedText=!1,Q.textEmbedded=!1,z=z.renderState,ye(H,ma),ye(H,z.placeholderPrefix),z=ce(ue.toString(16)),ye(H,z),Re(H,rt);case 1:Q.status=2;var de=!0,He=Q.chunks,$e=0;Q=Q.children;for(var Ot=0;Ot<Q.length;Ot++){for(de=Q[Ot];$e<de.index;$e++)ye(H,He[$e]);de=Ju(z,H,de,ue)}for(;$e<He.length-1;$e++)ye(H,He[$e]);return $e<He.length&&(de=Re(H,He[$e])),de;case 3:return!0;default:throw Error(n(390))}}var al=0;function Ju(z,H,Q,ue){var de=Q.boundary;if(de===null)return il(z,H,Q,ue);if(de.parentFlushed=!0,de.status===4){var He=de.row;He!==null&&--He.pendingTasks===0&&Uo(z,He),de=de.errorDigest,Re(H,En),ye(H,$r),de&&(ye(H,ei),ye(H,ce(st(de))),ye(H,Rr)),Re(H,Ur),il(z,H,Q,ue)}else if(de.status!==1)de.status===0&&(de.rootSegmentID=z.nextSegmentId++),0<de.completedSegments.length&&z.partialBoundaries.push(de),Jr(H,z.renderState,de.rootSegmentID),ue&&he(ue,de.fallbackState),il(z,H,Q,ue);else if(!js&&tl(z,de)&&(al+de.byteSize>z.progressiveChunkSize||Te(de.contentState)))de.rootSegmentID=z.nextSegmentId++,z.completedBoundaries.push(de),Jr(H,z.renderState,de.rootSegmentID),il(z,H,Q,ue);else{if(al+=de.byteSize,ue&&he(ue,de.contentState),Q=de.row,Q!==null&&tl(z,de)&&--Q.pendingTasks===0&&Uo(z,Q),Re(H,nn),Q=de.completedSegments,Q.length!==1)throw Error(n(391));Ju(z,H,Q[0],ue)}return Re(H,kr)}function vs(z,H,Q,ue){return jl(H,z.renderState,Q.parentFormatContext,Q.id),Ju(z,H,Q,ue),Dl(H,Q.parentFormatContext)}function df(z,H,Q){al=Q.byteSize;for(var ue=Q.completedSegments,de=0;de<ue.length;de++)Zl(z,H,Q,ue[de]);ue.length=0,ue=Q.row,ue!==null&&tl(z,Q)&&--ue.pendingTasks===0&&Uo(z,ue),zo(H,Q.contentState,z.renderState),ue=z.resumableState,z=z.renderState,de=Q.rootSegmentID,Q=Q.contentState;var He=z.stylesToHoist;return z.stylesToHoist=!1,ye(H,z.startInlineScript),ye(H,gr),He?((ue.instructions&4)===0&&(ue.instructions|=4,ye(H,Zs)),(ue.instructions&2)===0&&(ue.instructions|=2,ye(H,_s)),(ue.instructions&8)===0?(ue.instructions|=8,ye(H,Nr)):ye(H,Ka)):((ue.instructions&2)===0&&(ue.instructions|=2,ye(H,_s)),ye(H,Jt)),ue=ce(de.toString(16)),ye(H,z.boundaryPrefix),ye(H,ue),ye(H,cs),ye(H,z.segmentPrefix),ye(H,ue),He?(ye(H,xu),ji(H,Q)):ye(H,Wl),Q=Re(H,ru),Gn(H,z)&&Q}function Zl(z,H,Q,ue){if(ue.status===2)return!0;var de=Q.contentState,He=ue.id;if(He===-1){if((ue.id=Q.rootSegmentID)===-1)throw Error(n(392));return vs(z,H,ue,de)}return He===Q.rootSegmentID?vs(z,H,ue,de):(vs(z,H,ue,de),Q=z.resumableState,z=z.renderState,ye(H,z.startInlineScript),ye(H,gr),(Q.instructions&1)===0?(Q.instructions|=1,ye(H,gi)):ye(H,Ds),ye(H,z.segmentPrefix),He=ce(He.toString(16)),ye(H,He),ye(H,_l),ye(H,z.placeholderPrefix),ye(H,He),H=Re(H,Pa),H)}var js=!1;function Au(z,H){ct=new Uint8Array(2048),ge=0;try{if(!(0<z.pendingRootTasks)){var Q,ue=z.completedRootSegment;if(ue!==null){if(ue.status===5)return;var de=z.completedPreambleSegments;if(de===null)return;al=z.byteSize;var He=z.resumableState,$e=z.renderState,Ot=$e.preamble,ht=Ot.htmlChunks,Nt=Ot.headChunks,Qt;if(ht){for(Qt=0;Qt<ht.length;Qt++)ye(H,ht[Qt]);if(Nt)for(Qt=0;Qt<Nt.length;Qt++)ye(H,Nt[Qt]);else ye(H,pr("head")),ye(H,gr)}else if(Nt)for(Qt=0;Qt<Nt.length;Qt++)ye(H,Nt[Qt]);var on=$e.charsetChunks;for(Qt=0;Qt<on.length;Qt++)ye(H,on[Qt]);on.length=0,$e.preconnects.forEach(Bi,H),$e.preconnects.clear();var Dn=$e.viewportChunks;for(Qt=0;Qt<Dn.length;Qt++)ye(H,Dn[Qt]);Dn.length=0,$e.fontPreloads.forEach(Bi,H),$e.fontPreloads.clear(),$e.highImagePreloads.forEach(Bi,H),$e.highImagePreloads.clear(),Bn=$e,$e.styles.forEach(Ml,H),Bn=null;var _n=$e.importMapChunks;for(Qt=0;Qt<_n.length;Qt++)ye(H,_n[Qt]);_n.length=0,$e.bootstrapScripts.forEach(Bi,H),$e.scripts.forEach(Bi,H),$e.scripts.clear(),$e.bulkPreloads.forEach(Bi,H),$e.bulkPreloads.clear(),ht||Nt||(He.instructions|=32);var lr=$e.hoistableChunks;for(Qt=0;Qt<lr.length;Qt++)ye(H,lr[Qt]);for(He=lr.length=0;He<de.length;He++){var ti=de[He];for($e=0;$e<ti.length;$e++)Ju(z,H,ti[$e],null)}var Wr=z.renderState.preamble,qn=Wr.headChunks;(Wr.htmlChunks||qn)&&ye(H,jt("head"));var cr=Wr.bodyChunks;if(cr)for(de=0;de<cr.length;de++)ye(H,cr[de]);Ju(z,H,ue,null),z.completedRootSegment=null;var mi=z.renderState;if(z.allPendingTasks!==0||z.clientRenderedBoundaries.length!==0||z.completedBoundaries.length!==0||z.trackedPostpones!==null&&(z.trackedPostpones.rootNodes.length!==0||z.trackedPostpones.rootSlots!==null)){var eo=z.resumableState;if((eo.instructions&64)===0){if(eo.instructions|=64,ye(H,mi.startInlineScript),(eo.instructions&32)===0){eo.instructions|=32;var jo="_"+eo.idPrefix+"R_";ye(H,Za),ye(H,ce(st(jo))),ye(H,Yr)}ye(H,gr),ye(H,ki),Re(H,dt)}}Gn(H,mi)}var Ar=z.renderState;ue=0;var mo=Ar.viewportChunks;for(ue=0;ue<mo.length;ue++)ye(H,mo[ue]);mo.length=0,Ar.preconnects.forEach(Bi,H),Ar.preconnects.clear(),Ar.fontPreloads.forEach(Bi,H),Ar.fontPreloads.clear(),Ar.highImagePreloads.forEach(Bi,H),Ar.highImagePreloads.clear(),Ar.styles.forEach(So,H),Ar.scripts.forEach(Bi,H),Ar.scripts.clear(),Ar.bulkPreloads.forEach(Bi,H),Ar.bulkPreloads.clear();var ra=Ar.hoistableChunks;for(ue=0;ue<ra.length;ue++)ye(H,ra[ue]);ra.length=0;var La=z.clientRenderedBoundaries;for(Q=0;Q<La.length;Q++){var sl=La[Q];Ar=H;var Gr=z.resumableState,Nl=z.renderState,bl=sl.rootSegmentID,_o=sl.errorDigest;ye(Ar,Nl.startInlineScript),ye(Ar,gr),(Gr.instructions&4)===0?(Gr.instructions|=4,ye(Ar,Ia)):ye(Ar,Ji),ye(Ar,Nl.boundaryPrefix),ye(Ar,ce(bl.toString(16))),ye(Ar,Fs),_o&&(ye(Ar,Li),ye(Ar,ce(Di(_o||""))));var vo=Re(Ar,dl);if(!vo){z.destination=null,Q++,La.splice(0,Q);return}}La.splice(0,Q);var Ql=z.completedBoundaries;for(Q=0;Q<Ql.length;Q++)if(!df(z,H,Ql[Q])){z.destination=null,Q++,Ql.splice(0,Q);return}Ql.splice(0,Q),ft(H),ct=new Uint8Array(2048),ge=0,js=!0;var Ll=z.partialBoundaries;for(Q=0;Q<Ll.length;Q++){var su=Ll[Q];e:{La=z,sl=H,al=su.byteSize;var ku=su.completedSegments;for(vo=0;vo<ku.length;vo++)if(!Zl(La,sl,su,ku[vo])){vo++,ku.splice(0,vo);var is=!1;break e}ku.splice(0,vo);var da=su.row;da!==null&&da.together&&su.pendingTasks===1&&(da.pendingTasks===1?Uc(La,da,da.hoistables):da.pendingTasks--),is=zo(sl,su.contentState,La.renderState)}if(!is){z.destination=null,Q++,Ll.splice(0,Q);return}}Ll.splice(0,Q),js=!1;var lu=z.completedBoundaries;for(Q=0;Q<lu.length;Q++)if(!df(z,H,lu[Q])){z.destination=null,Q++,lu.splice(0,Q);return}lu.splice(0,Q)}}finally{js=!1,z.allPendingTasks===0&&z.clientRenderedBoundaries.length===0&&z.completedBoundaries.length===0?(z.flushScheduled=!1,Q=z.resumableState,Q.hasBody&&ye(H,jt("body")),Q.hasHtml&&ye(H,jt("html")),ft(H),z.status=14,H.close(),z.destination=null):ft(H)}}function Ws(z){z.flushScheduled=z.destination!==null,mt(function(){return Wc(z)}),Fe(function(){z.status===10&&(z.status=11),z.trackedPostpones===null&&Eu(z,z.pendingRootTasks===0)})}function ys(z){z.flushScheduled===!1&&z.pingedTasks.length===0&&z.destination!==null&&(z.flushScheduled=!0,Fe(function(){var H=z.destination;H?Au(z,H):z.flushScheduled=!1}))}function ol(z,H){if(z.status===13)z.status=14,V(H,z.fatalError);else if(z.status!==14&&z.destination===null){z.destination=H;try{Au(z,H)}catch(Q){$a(z,Q,{}),Xu(z,Q)}}}function Do(z,H){(z.status===11||z.status===10)&&(z.status=12);try{var Q=z.abortableTasks;if(0<Q.size){var ue=H===void 0?Error(n(432)):typeof H=="object"&&H!==null&&typeof H.then=="function"?Error(n(530)):H;z.fatalError=ue,Q.forEach(function(de){return Vl(de,z,ue)}),Q.clear()}z.destination!==null&&Au(z,z.destination)}catch(de){$a(z,de,{}),Xu(z,de)}}function Tu(z,H,Q){if(H===null)Q.rootNodes.push(z);else{var ue=Q.workingMap,de=ue.get(H);de===void 0&&(de=[H[1],H[2],[],null],ue.set(H,de),Tu(de,H[0],Q)),de[2].push(z)}}function ql(z){var H=z.trackedPostpones;if(H===null||H.rootNodes.length===0&&H.rootSlots===null)return z.trackedPostpones=null;if(z.completedRootSegment===null||z.completedRootSegment.status!==5&&z.completedPreambleSegments!==null){var Q=z.nextSegmentId,ue=H.rootSlots,de=z.resumableState;de.bootstrapScriptContent=void 0,de.bootstrapScripts=void 0,de.bootstrapModules=void 0}else{Q=0,ue=-1,de=z.resumableState;var He=z.renderState;de.nextFormID=0,de.hasBody=!1,de.hasHtml=!1,de.unknownResources={font:He.resets.font},de.dnsResources=He.resets.dns,de.connectResources=He.resets.connect,de.imageResources=He.resets.image,de.styleResources=He.resets.style,de.scriptResources={},de.moduleUnknownResources={},de.moduleScriptResources={},de.instructions=0}return{nextSegmentId:Q,rootFormatContext:z.rootFormatContext,progressiveChunkSize:z.progressiveChunkSize,resumableState:z.resumableState,replayNodes:H.rootNodes,replaySlots:ue}}function Rl(){var z=e.version;if(z!=="19.2.3")throw Error(n(527,z,"19.2.3"))}return Rl(),Rl(),C0.prerender=function(z,H){return new Promise(function(Q,ue){var de=H?H.onHeaders:void 0,He;de&&(He=function(Qt){de(new Headers(Qt))});var $e=Tt(H?H.identifierPrefix:void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.bootstrapScriptContent:void 0,H?H.bootstrapScripts:void 0,H?H.bootstrapModules:void 0),Ot=Ja(z,$e,at($e,void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.importMap:void 0,He,H?H.maxHeadersLength:void 0),pn(H?H.namespaceURI:void 0),H?H.progressiveChunkSize:void 0,H?H.onError:void 0,function(){var Qt=new ReadableStream({type:"bytes",pull:function(on){ol(Ot,on)},cancel:function(on){Ot.destination=null,Do(Ot,on)}},{highWaterMark:0});Qt={postponed:ql(Ot),prelude:Qt},Q(Qt)},void 0,void 0,ue,H?H.onPostpone:void 0);if(H&&H.signal){var ht=H.signal;if(ht.aborted)Do(Ot,ht.reason);else{var Nt=function(){Do(Ot,ht.reason),ht.removeEventListener("abort",Nt)};ht.addEventListener("abort",Nt)}}Ws(Ot)})},C0.renderToReadableStream=function(z,H){return new Promise(function(Q,ue){var de,He,$e=new Promise(function(_n,lr){He=_n,de=lr}),Ot=H?H.onHeaders:void 0,ht;Ot&&(ht=function(_n){Ot(new Headers(_n))});var Nt=Tt(H?H.identifierPrefix:void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.bootstrapScriptContent:void 0,H?H.bootstrapScripts:void 0,H?H.bootstrapModules:void 0),Qt=Su(z,Nt,at(Nt,H?H.nonce:void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.importMap:void 0,ht,H?H.maxHeadersLength:void 0),pn(H?H.namespaceURI:void 0),H?H.progressiveChunkSize:void 0,H?H.onError:void 0,He,function(){var _n=new ReadableStream({type:"bytes",pull:function(lr){ol(Qt,lr)},cancel:function(lr){Qt.destination=null,Do(Qt,lr)}},{highWaterMark:0});_n.allReady=$e,Q(_n)},function(_n){$e.catch(function(){}),ue(_n)},de,H?H.onPostpone:void 0,H?H.formState:void 0);if(H&&H.signal){var on=H.signal;if(on.aborted)Do(Qt,on.reason);else{var Dn=function(){Do(Qt,on.reason),on.removeEventListener("abort",Dn)};on.addEventListener("abort",Dn)}}Ws(Qt)})},C0.resume=function(z,H,Q){return new Promise(function(ue,de){var He,$e,Ot=new Promise(function(on,Dn){$e=on,He=Dn}),ht=sa(z,H,at(H.resumableState,Q?Q.nonce:void 0,void 0,void 0,void 0,void 0),Q?Q.onError:void 0,$e,function(){var on=new ReadableStream({type:"bytes",pull:function(Dn){ol(ht,Dn)},cancel:function(Dn){ht.destination=null,Do(ht,Dn)}},{highWaterMark:0});on.allReady=Ot,ue(on)},function(on){Ot.catch(function(){}),de(on)},He,Q?Q.onPostpone:void 0);if(Q&&Q.signal){var Nt=Q.signal;if(Nt.aborted)Do(ht,Nt.reason);else{var Qt=function(){Do(ht,Nt.reason),Nt.removeEventListener("abort",Qt)};Nt.addEventListener("abort",Qt)}}Ws(ht)})},C0.resumeAndPrerender=function(z,H,Q){return new Promise(function(ue,de){var He=Na(z,H,at(H.resumableState,void 0,void 0,void 0,void 0,void 0),Q?Q.onError:void 0,function(){var ht=new ReadableStream({type:"bytes",pull:function(Nt){ol(He,Nt)},cancel:function(Nt){He.destination=null,Do(He,Nt)}},{highWaterMark:0});ht={postponed:ql(He),prelude:ht},ue(ht)},void 0,void 0,de,Q?Q.onPostpone:void 0);if(Q&&Q.signal){var $e=Q.signal;if($e.aborted)Do(He,$e.reason);else{var Ot=function(){Do(He,$e.reason),$e.removeEventListener("abort",Ot)};$e.addEventListener("abort",Ot)}}Ws(He)})},C0.version="19.2.3",C0}var V6;function MY(){if(V6)return w0;V6=1;var e,t;return e=DY(),t=_Y(),w0.version=e.version,w0.renderToString=e.renderToString,w0.renderToStaticMarkup=e.renderToStaticMarkup,w0.renderToReadableStream=t.renderToReadableStream,w0.resume=t.resume,w0}var OY=MY(),R2={},K6;function IY(){return K6||(K6=1,(function(e){var t=t||{version:"5.5.2"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=bp,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=bp.implForWrapper,t.nodeCanvas=bp.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),(function(){function d(m,C){if(this.__eventListeners[m]){var k=this.__eventListeners[m];C?k[k.indexOf(C)]=!1:t.util.array.fill(k,!1)}}function a(m,C){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var k in m)this.on(k,m[k]);else this.__eventListeners[m]||(this.__eventListeners[m]=[]),this.__eventListeners[m].push(C);return this}function c(m,C){var k=(function(){C.apply(this,arguments),this.off(m,k)}).bind(this);this.on(m,k)}function v(m,C){if(arguments.length===1)for(var k in m)c.call(this,k,m[k]);else c.call(this,m,C);return this}function f(m,C){if(!this.__eventListeners)return this;if(arguments.length===0)for(m in this.__eventListeners)d.call(this,m);else if(arguments.length===1&&typeof arguments[0]=="object")for(var k in m)d.call(this,k,m[k]);else d.call(this,m,C);return this}function g(m,C){if(!this.__eventListeners)return this;var k=this.__eventListeners[m];if(!k)return this;for(var S=0,O=k.length;S<O;S++)k[S]&&k[S].call(this,C||{});return this.__eventListeners[m]=k.filter(function(N){return N!==!1}),this}t.Observable={fire:g,on:a,once:v,off:f}})(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var d=0,a=arguments.length;d<a;d++)this._onObjectAdded(arguments[d]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(d,a,c){var v=this._objects;return c?v[a]=d:v.splice(a,0,d),this._onObjectAdded&&this._onObjectAdded(d),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var d=this._objects,a,c=!1,v=0,f=arguments.length;v<f;v++)a=d.indexOf(arguments[v]),a!==-1&&(c=!0,d.splice(a,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[v]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(d,a){for(var c=this.getObjects(),v=0,f=c.length;v<f;v++)d.call(a,c[v],v,c);return this},getObjects:function(d){return typeof d>"u"?this._objects.concat():this._objects.filter(function(a){return a.type===d})},item:function(d){return this._objects[d]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(d,a){return this._objects.indexOf(d)>-1?!0:a?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(d,!0)}):!1},complexity:function(){return this._objects.reduce(function(d,a){return d+=a.complexity?a.complexity():0,d},0)}},t.CommonMethods={_setOptions:function(d){for(var a in d)this.set(a,d[a])},_initGradient:function(d,a){d&&d.colorStops&&!(d instanceof t.Gradient)&&this.set(a,new t.Gradient(d))},_initPattern:function(d,a,c){d&&d.source&&!(d instanceof t.Pattern)?this.set(a,new t.Pattern(d,c)):c&&c()},_setObject:function(d){for(var a in d)this._set(a,d[a])},set:function(d,a){return typeof d=="object"?this._setObject(d):this._set(d,a),this},_set:function(d,a){this[d]=a},toggle:function(d){var a=this.get(d);return typeof a=="boolean"&&this.set(d,!a),this},get:function(d){return this[d]}},(function(d){var a=Math.sqrt,c=Math.atan2,v=Math.pow,f=Math.PI/180,g=Math.PI/2;t.util={cos:function(m){if(m===0)return 1;m<0&&(m=-m);var C=m/g;switch(C){case 1:case 3:return 0;case 2:return-1}return Math.cos(m)},sin:function(m){if(m===0)return 0;var C=m/g,k=1;switch(m<0&&(k=-1),C){case 1:return k;case 2:return 0;case 3:return-k}return Math.sin(m)},removeFromArray:function(m,C){var k=m.indexOf(C);return k!==-1&&m.splice(k,1),m},getRandomInt:function(m,C){return Math.floor(Math.random()*(C-m+1))+m},degreesToRadians:function(m){return m*f},radiansToDegrees:function(m){return m/f},rotatePoint:function(m,C,k){var S=new t.Point(m.x-C.x,m.y-C.y),O=t.util.rotateVector(S,k);return new t.Point(O.x,O.y).addEquals(C)},rotateVector:function(m,C){var k=t.util.sin(C),S=t.util.cos(C),O=m.x*S-m.y*k,N=m.x*k+m.y*S;return{x:O,y:N}},createVector:function(m,C){return new t.Point(C.x-m.x,C.y-m.y)},calcAngleBetweenVectors:function(m,C){return Math.acos((m.x*C.x+m.y*C.y)/(Math.hypot(m.x,m.y)*Math.hypot(C.x,C.y)))},getHatVector:function(m){return new t.Point(m.x,m.y).multiply(1/Math.hypot(m.x,m.y))},getBisector:function(m,C,k){var S=t.util.createVector(m,C),O=t.util.createVector(m,k),N=t.util.calcAngleBetweenVectors(S,O),U=t.util.calcAngleBetweenVectors(t.util.rotateVector(S,N),O),W=N*(U===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(S,W)),angle:N}},projectStrokeOnPoints:function(m,C,k){var S=[],O=C.strokeWidth/2,N=C.strokeUniform?new t.Point(1/C.scaleX,1/C.scaleY):new t.Point(1,1),U=function(W){var q=O/Math.hypot(W.x,W.y);return new t.Point(W.x*q*N.x,W.y*q*N.y)};return m.length<=1||m.forEach(function(W,q){var J=new t.Point(W.x,W.y),ne,ve;q===0?(ve=m[q+1],ne=k?U(t.util.createVector(ve,J)).addEquals(J):m[m.length-1]):q===m.length-1?(ne=m[q-1],ve=k?U(t.util.createVector(ne,J)).addEquals(J):m[0]):(ne=m[q-1],ve=m[q+1]);var Se=t.util.getBisector(J,ne,ve),Fe=Se.vector,Ue=Se.angle,Ze,mt;if(C.strokeLineJoin==="miter"&&(Ze=-O/Math.sin(Ue/2),mt=new t.Point(Fe.x*Ze*N.x,Fe.y*Ze*N.y),Math.hypot(mt.x,mt.y)/O<=C.strokeMiterLimit)){S.push(J.add(mt)),S.push(J.subtract(mt));return}Ze=-O*Math.SQRT2,mt=new t.Point(Fe.x*Ze*N.x,Fe.y*Ze*N.y),S.push(J.add(mt)),S.push(J.subtract(mt))}),S},transformPoint:function(m,C,k){return k?new t.Point(C[0]*m.x+C[2]*m.y,C[1]*m.x+C[3]*m.y):new t.Point(C[0]*m.x+C[2]*m.y+C[4],C[1]*m.x+C[3]*m.y+C[5])},makeBoundingBoxFromPoints:function(m,C){if(C)for(var k=0;k<m.length;k++)m[k]=t.util.transformPoint(m[k],C);var S=[m[0].x,m[1].x,m[2].x,m[3].x],O=t.util.array.min(S),N=t.util.array.max(S),U=N-O,W=[m[0].y,m[1].y,m[2].y,m[3].y],q=t.util.array.min(W),J=t.util.array.max(W),ne=J-q;return{left:O,top:q,width:U,height:ne}},invertTransform:function(m){var C=1/(m[0]*m[3]-m[1]*m[2]),k=[C*m[3],-C*m[1],-C*m[2],C*m[0]],S=t.util.transformPoint({x:m[4],y:m[5]},k,!0);return k[4]=-S.x,k[5]=-S.y,k},toFixed:function(m,C){return parseFloat(Number(m).toFixed(C))},parseUnit:function(m,C){var k=/\D{0,2}$/.exec(m),S=parseFloat(m);switch(C||(C=t.Text.DEFAULT_SVG_FONT_SIZE),k[0]){case"mm":return S*t.DPI/25.4;case"cm":return S*t.DPI/2.54;case"in":return S*t.DPI;case"pt":return S*t.DPI/72;case"pc":return S*t.DPI/72*12;case"em":return S*C;default:return S}},falseFunction:function(){return!1},getKlass:function(m,C){return m=t.util.string.camelize(m.charAt(0).toUpperCase()+m.slice(1)),t.util.resolveNamespace(C)[m]},getSvgAttributes:function(m){var C=["instantiated_by_use","style","id","class"];switch(m){case"linearGradient":C=C.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":C=C.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":C=C.concat(["offset","stop-color","stop-opacity"]);break}return C},resolveNamespace:function(m){if(!m)return t;var C=m.split("."),k=C.length,S,O=d||t.window;for(S=0;S<k;++S)O=O[C[S]];return O},loadImage:function(m,C,k,S){if(!m){C&&C.call(k,m);return}var O=t.util.createImage(),N=function(){C&&C.call(k,O,!1),O=O.onload=O.onerror=null};O.onload=N,O.onerror=function(){t.log("Error loading "+O.src),C&&C.call(k,null,!0),O=O.onload=O.onerror=null},m.indexOf("data")!==0&&S!==void 0&&S!==null&&(O.crossOrigin=S),m.substring(0,14)==="data:image/svg"&&(O.onload=null,t.util.loadImageInDom(O,N)),O.src=m},loadImageInDom:function(m,C){var k=t.document.createElement("div");k.style.width=k.style.height="1px",k.style.left=k.style.top="-100%",k.style.position="absolute",k.appendChild(m),t.document.querySelector("body").appendChild(k),m.onload=function(){C(),k.parentNode.removeChild(k),k=null}},enlivenObjects:function(m,C,k,S){m=m||[];var O=[],N=0,U=m.length;function W(){++N===U&&C&&C(O.filter(function(q){return q}))}if(!U){C&&C(O);return}m.forEach(function(q,J){if(!q||!q.type){W();return}var ne=t.util.getKlass(q.type,k);ne.fromObject(q,function(ve,Se){Se||(O[J]=ve),S&&S(q,ve,Se),W()})})},enlivenObjectEnlivables:function(m,C,k){var S=t.Object.ENLIVEN_PROPS.filter(function(O){return!!m[O]});t.util.enlivenObjects(S.map(function(O){return m[O]}),function(O){var N={};S.forEach(function(U,W){N[U]=O[W],C&&(C[U]=O[W])}),k&&k(N)})},enlivenPatterns:function(m,C){m=m||[];function k(){++O===N&&C&&C(S)}var S=[],O=0,N=m.length;if(!N){C&&C(S);return}m.forEach(function(U,W){U&&U.source?new t.Pattern(U,function(q){S[W]=q,k()}):(S[W]=U,k())})},groupSVGElements:function(m,C,k){var S;return m&&m.length===1?(typeof k<"u"&&(m[0].sourcePath=k),m[0]):(C&&(C.width&&C.height?C.centerPoint={x:C.width/2,y:C.height/2}:(delete C.width,delete C.height)),S=new t.Group(m,C),typeof k<"u"&&(S.sourcePath=k),S)},populateWithProperties:function(m,C,k){if(k&&Array.isArray(k))for(var S=0,O=k.length;S<O;S++)k[S]in m&&(C[k[S]]=m[k[S]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(m){var C=t.util.createCanvasElement();return C.width=m.width,C.height=m.height,C.getContext("2d").drawImage(m,0,0),C},toDataURL:function(m,C,k){return m.toDataURL("image/"+C,k)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(m,C,k){return[m[0]*C[0]+m[2]*C[1],m[1]*C[0]+m[3]*C[1],m[0]*C[2]+m[2]*C[3],m[1]*C[2]+m[3]*C[3],k?0:m[0]*C[4]+m[2]*C[5]+m[4],k?0:m[1]*C[4]+m[3]*C[5]+m[5]]},qrDecompose:function(m){var C=c(m[1],m[0]),k=v(m[0],2)+v(m[1],2),S=a(k),O=(m[0]*m[3]-m[2]*m[1])/S,N=c(m[0]*m[2]+m[1]*m[3],k);return{angle:C/f,scaleX:S,scaleY:O,skewX:N/f,skewY:0,translateX:m[4],translateY:m[5]}},calcRotateMatrix:function(m){if(!m.angle)return t.iMatrix.concat();var C=t.util.degreesToRadians(m.angle),k=t.util.cos(C),S=t.util.sin(C);return[k,S,-S,k,0,0]},calcDimensionsMatrix:function(m){var C=typeof m.scaleX>"u"?1:m.scaleX,k=typeof m.scaleY>"u"?1:m.scaleY,S=[m.flipX?-C:C,0,0,m.flipY?-k:k,0,0],O=t.util.multiplyTransformMatrices,N=t.util.degreesToRadians;return m.skewX&&(S=O(S,[1,0,Math.tan(N(m.skewX)),1],!0)),m.skewY&&(S=O(S,[1,Math.tan(N(m.skewY)),0,1],!0)),S},composeMatrix:function(m){var C=[1,0,0,1,m.translateX||0,m.translateY||0],k=t.util.multiplyTransformMatrices;return m.angle&&(C=k(C,t.util.calcRotateMatrix(m))),(m.scaleX!==1||m.scaleY!==1||m.skewX||m.skewY||m.flipX||m.flipY)&&(C=k(C,t.util.calcDimensionsMatrix(m))),C},resetObjectTransform:function(m){m.scaleX=1,m.scaleY=1,m.skewX=0,m.skewY=0,m.flipX=!1,m.flipY=!1,m.rotate(0)},saveObjectTransform:function(m){return{scaleX:m.scaleX,scaleY:m.scaleY,skewX:m.skewX,skewY:m.skewY,angle:m.angle,left:m.left,flipX:m.flipX,flipY:m.flipY,top:m.top}},isTransparent:function(m,C,k,S){S>0&&(C>S?C-=S:C=0,k>S?k-=S:k=0);var O=!0,N,U,W=m.getImageData(C,k,S*2||1,S*2||1),q=W.data.length;for(N=3;N<q&&(U=W.data[N],O=U<=0,O!==!1);N+=4);return W=null,O},parsePreserveAspectRatioAttribute:function(m){var C="meet",k="Mid",S="Mid",O=m.split(" "),N;return O&&O.length&&(C=O.pop(),C!=="meet"&&C!=="slice"?(N=C,C="meet"):O.length&&(N=O.pop())),k=N!=="none"?N.slice(1,4):"none",S=N!=="none"?N.slice(5,8):"none",{meetOrSlice:C,alignX:k,alignY:S}},clearFabricFontCache:function(m){m=(m||"").toLowerCase(),m?t.charWidthsCache[m]&&delete t.charWidthsCache[m]:t.charWidthsCache={}},limitDimsByArea:function(m,C){var k=Math.sqrt(C*m),S=Math.floor(C/k);return{x:Math.floor(k),y:S}},capValue:function(m,C,k){return Math.max(m,Math.min(C,k))},findScaleToFit:function(m,C){return Math.min(C.width/m.width,C.height/m.height)},findScaleToCover:function(m,C){return Math.max(C.width/m.width,C.height/m.height)},matrixToSVG:function(m){return"matrix("+m.map(function(C){return t.util.toFixed(C,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(m,C){var k=t.util.invertTransform(C),S=t.util.multiplyTransformMatrices(k,m.calcOwnMatrix());t.util.applyTransformToObject(m,S)},addTransformToObject:function(m,C){t.util.applyTransformToObject(m,t.util.multiplyTransformMatrices(C,m.calcOwnMatrix()))},applyTransformToObject:function(m,C){var k=t.util.qrDecompose(C),S=new t.Point(k.translateX,k.translateY);m.flipX=!1,m.flipY=!1,m.set("scaleX",k.scaleX),m.set("scaleY",k.scaleY),m.skewX=k.skewX,m.skewY=k.skewY,m.angle=k.angle,m.setPositionByOrigin(S,"center","center")},sizeAfterTransform:function(m,C,k){var S=m/2,O=C/2,N=[{x:-S,y:-O},{x:S,y:-O},{x:-S,y:O},{x:S,y:O}],U=t.util.calcDimensionsMatrix(k),W=t.util.makeBoundingBoxFromPoints(N,U);return{x:W.width,y:W.height}},mergeClipPaths:function(m,C){var k=m,S=C;k.inverted&&!S.inverted&&(k=C,S=m),t.util.applyTransformToObject(S,t.util.multiplyTransformMatrices(t.util.invertTransform(k.calcTransformMatrix()),S.calcTransformMatrix()));var O=k.inverted&&S.inverted;return O&&(k.inverted=S.inverted=!1),new t.Group([k],{clipPath:S,inverted:O})},hasStyleChanged:function(m,C,k){return k=k||!1,m.fill!==C.fill||m.stroke!==C.stroke||m.strokeWidth!==C.strokeWidth||m.fontSize!==C.fontSize||m.fontFamily!==C.fontFamily||m.fontWeight!==C.fontWeight||m.fontStyle!==C.fontStyle||m.textBackgroundColor!==C.textBackgroundColor||m.deltaY!==C.deltaY||k&&(m.overline!==C.overline||m.underline!==C.underline||m.linethrough!==C.linethrough)},stylesToArray:function(k,C){for(var k=t.util.object.clone(k,!0),S=C.split(`
`),O=-1,N={},U=[],W=0;W<S.length;W++){if(!k[W]){O+=S[W].length;continue}for(var q=0;q<S[W].length;q++){O++;var J=k[W][q];if(J&&Object.keys(J).length>0){var ne=t.util.hasStyleChanged(N,J,!0);ne?U.push({start:O,end:O+1,style:J}):U[U.length-1].end++}N=J||{}}}return U},stylesFromArray:function(m,C){if(!Array.isArray(m))return m;for(var k=C.split(`
`),S=-1,O=0,N={},U=0;U<k.length;U++)for(var W=0;W<k[U].length;W++)S++,m[O]&&m[O].start<=S&&S<m[O].end&&(N[U]=N[U]||{},N[U][W]=Object.assign({},m[O].style),S===m[O].end-1&&O++);return N}}})(e),(function(){var d=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function v(Me,ce,le,ae,V,me,Ae,Ne,ut,xt,et){var Wt=t.util.cos(Me),_t=t.util.sin(Me),Ft=t.util.cos(ce),st=t.util.sin(ce),At=le*V*Ft-ae*me*st+Ae,St=ae*V*Ft+le*me*st+Ne,Kt=xt+ut*(-le*V*_t-ae*me*Wt),zt=et+ut*(-ae*V*_t+le*me*Wt),Ut=At+ut*(le*V*st+ae*me*Ft),Vt=St+ut*(ae*V*st-le*me*Ft);return["C",Kt,zt,Ut,Vt,At,St]}function f(Me,ce,le,ae,V,me,Ae){var Ne=Math.PI,ut=Ae*Ne/180,xt=t.util.sin(ut),et=t.util.cos(ut),Wt=0,_t=0;le=Math.abs(le),ae=Math.abs(ae);var Ft=-et*Me*.5-xt*ce*.5,st=-et*ce*.5+xt*Me*.5,At=le*le,St=ae*ae,Kt=st*st,zt=Ft*Ft,Ut=At*St-At*Kt-St*zt,Vt=0;if(Ut<0){var un=Math.sqrt(1-Ut/(At*St));le*=un,ae*=un}else Vt=(V===me?-1:1)*Math.sqrt(Ut/(At*Kt+St*zt));var Xt=Vt*le*st/ae,qt=-Vt*ae*Ft/le,Bn=et*Xt-xt*qt+Me*.5,gt=xt*Xt+et*qt+ce*.5,dt=g(1,0,(Ft-Xt)/le,(st-qt)/ae),Pe=g((Ft-Xt)/le,(st-qt)/ae,(-Ft-Xt)/le,(-st-qt)/ae);me===0&&Pe>0?Pe-=2*Ne:me===1&&Pe<0&&(Pe+=2*Ne);for(var be=Math.ceil(Math.abs(Pe/Ne*2)),Ee=[],qe=Pe/be,re=8/3*Math.sin(qe/4)*Math.sin(qe/4)/Math.sin(qe/2),we=dt+qe,Ve=0;Ve<be;Ve++)Ee[Ve]=v(dt,we,et,xt,le,ae,Bn,gt,re,Wt,_t),Wt=Ee[Ve][5],_t=Ee[Ve][6],dt=we,we+=qe;return Ee}function g(Me,ce,le,ae){var V=Math.atan2(ce,Me),me=Math.atan2(ae,le);return me>=V?me-V:2*Math.PI-(V-me)}function m(Me,ce,le,ae,V,me,Ae,Ne){var ut;if(t.cachesBoundsOfCurve&&(ut=d.call(arguments),t.boundsOfCurveCache[ut]))return t.boundsOfCurveCache[ut];var xt=Math.sqrt,et=Math.min,Wt=Math.max,_t=Math.abs,Ft=[],st=[[],[]],At,St,Kt,zt,Ut,Vt,un,Xt;St=6*Me-12*le+6*V,At=-3*Me+9*le-9*V+3*Ae,Kt=3*le-3*Me;for(var qt=0;qt<2;++qt){if(qt>0&&(St=6*ce-12*ae+6*me,At=-3*ce+9*ae-9*me+3*Ne,Kt=3*ae-3*ce),_t(At)<1e-12){if(_t(St)<1e-12)continue;zt=-Kt/St,0<zt&&zt<1&&Ft.push(zt);continue}un=St*St-4*Kt*At,!(un<0)&&(Xt=xt(un),Ut=(-St+Xt)/(2*At),0<Ut&&Ut<1&&Ft.push(Ut),Vt=(-St-Xt)/(2*At),0<Vt&&Vt<1&&Ft.push(Vt))}for(var Bn,gt,dt=Ft.length,Pe=dt,be;dt--;)zt=Ft[dt],be=1-zt,Bn=be*be*be*Me+3*be*be*zt*le+3*be*zt*zt*V+zt*zt*zt*Ae,st[0][dt]=Bn,gt=be*be*be*ce+3*be*be*zt*ae+3*be*zt*zt*me+zt*zt*zt*Ne,st[1][dt]=gt;st[0][Pe]=Me,st[1][Pe]=ce,st[0][Pe+1]=Ae,st[1][Pe+1]=Ne;var Ee=[{x:et.apply(null,st[0]),y:et.apply(null,st[1])},{x:Wt.apply(null,st[0]),y:Wt.apply(null,st[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[ut]=Ee),Ee}function C(Me,ce,le){for(var ae=le[1],V=le[2],me=le[3],Ae=le[4],Ne=le[5],ut=le[6],xt=le[7],et=f(ut-Me,xt-ce,ae,V,Ae,Ne,me),Wt=0,_t=et.length;Wt<_t;Wt++)et[Wt][1]+=Me,et[Wt][2]+=ce,et[Wt][3]+=Me,et[Wt][4]+=ce,et[Wt][5]+=Me,et[Wt][6]+=ce;return et}function k(Me){var ce=0,le=0,ae=Me.length,V=0,me=0,Ae,Ne,ut,xt=[],et,Wt,_t;for(Ne=0;Ne<ae;++Ne){switch(ut=!1,Ae=Me[Ne].slice(0),Ae[0]){case"l":Ae[0]="L",Ae[1]+=ce,Ae[2]+=le;case"L":ce=Ae[1],le=Ae[2];break;case"h":Ae[1]+=ce;case"H":Ae[0]="L",Ae[2]=le,ce=Ae[1];break;case"v":Ae[1]+=le;case"V":Ae[0]="L",le=Ae[1],Ae[1]=ce,Ae[2]=le;break;case"m":Ae[0]="M",Ae[1]+=ce,Ae[2]+=le;case"M":ce=Ae[1],le=Ae[2],V=Ae[1],me=Ae[2];break;case"c":Ae[0]="C",Ae[1]+=ce,Ae[2]+=le,Ae[3]+=ce,Ae[4]+=le,Ae[5]+=ce,Ae[6]+=le;case"C":Wt=Ae[3],_t=Ae[4],ce=Ae[5],le=Ae[6];break;case"s":Ae[0]="S",Ae[1]+=ce,Ae[2]+=le,Ae[3]+=ce,Ae[4]+=le;case"S":et==="C"?(Wt=2*ce-Wt,_t=2*le-_t):(Wt=ce,_t=le),ce=Ae[3],le=Ae[4],Ae[0]="C",Ae[5]=Ae[3],Ae[6]=Ae[4],Ae[3]=Ae[1],Ae[4]=Ae[2],Ae[1]=Wt,Ae[2]=_t,Wt=Ae[3],_t=Ae[4];break;case"q":Ae[0]="Q",Ae[1]+=ce,Ae[2]+=le,Ae[3]+=ce,Ae[4]+=le;case"Q":Wt=Ae[1],_t=Ae[2],ce=Ae[3],le=Ae[4];break;case"t":Ae[0]="T",Ae[1]+=ce,Ae[2]+=le;case"T":et==="Q"?(Wt=2*ce-Wt,_t=2*le-_t):(Wt=ce,_t=le),Ae[0]="Q",ce=Ae[1],le=Ae[2],Ae[1]=Wt,Ae[2]=_t,Ae[3]=ce,Ae[4]=le;break;case"a":Ae[0]="A",Ae[6]+=ce,Ae[7]+=le;case"A":ut=!0,xt=xt.concat(C(ce,le,Ae)),ce=Ae[6],le=Ae[7];break;case"z":case"Z":ce=V,le=me;break}ut||xt.push(Ae),et=Ae[0]}return xt}function S(Me,ce,le,ae){return Math.sqrt((le-Me)*(le-Me)+(ae-ce)*(ae-ce))}function O(Me){return Me*Me*Me}function N(Me){return 3*Me*Me*(1-Me)}function U(Me){return 3*Me*(1-Me)*(1-Me)}function W(Me){return(1-Me)*(1-Me)*(1-Me)}function q(Me,ce,le,ae,V,me,Ae,Ne){return function(ut){var xt=O(ut),et=N(ut),Wt=U(ut),_t=W(ut);return{x:Ae*xt+V*et+le*Wt+Me*_t,y:Ne*xt+me*et+ae*Wt+ce*_t}}}function J(Me,ce,le,ae,V,me,Ae,Ne){return function(ut){var xt=1-ut,et=3*xt*xt*(le-Me)+6*xt*ut*(V-le)+3*ut*ut*(Ae-V),Wt=3*xt*xt*(ae-ce)+6*xt*ut*(me-ae)+3*ut*ut*(Ne-me);return Math.atan2(Wt,et)}}function ne(Me){return Me*Me}function ve(Me){return 2*Me*(1-Me)}function Se(Me){return(1-Me)*(1-Me)}function Fe(Me,ce,le,ae,V,me){return function(Ae){var Ne=ne(Ae),ut=ve(Ae),xt=Se(Ae);return{x:V*Ne+le*ut+Me*xt,y:me*Ne+ae*ut+ce*xt}}}function Ue(Me,ce,le,ae,V,me){return function(Ae){var Ne=1-Ae,ut=2*Ne*(le-Me)+2*Ae*(V-le),xt=2*Ne*(ae-ce)+2*Ae*(me-ae);return Math.atan2(xt,ut)}}function Ze(Me,ce,le){var ae={x:ce,y:le},V,me=0,Ae;for(Ae=1;Ae<=100;Ae+=1)V=Me(Ae/100),me+=S(ae.x,ae.y,V.x,V.y),ae=V;return me}function mt(Me,ce){for(var le=0,ae=0,V=Me.iterator,me={x:Me.x,y:Me.y},Ae,Ne,ut=.01,xt=Me.angleFinder,et;ae<ce&&ut>1e-4;)Ae=V(le),et=le,Ne=S(me.x,me.y,Ae.x,Ae.y),Ne+ae>ce?(le-=ut,ut/=2):(me=Ae,le+=ut,ae+=Ne);return Ae.angle=xt(et),Ae}function ct(Me){for(var ce=0,le=Me.length,ae,V=0,me=0,Ae=0,Ne=0,ut=[],xt,et,Wt,_t=0;_t<le;_t++){switch(ae=Me[_t],et={x:V,y:me,command:ae[0]},ae[0]){case"M":et.length=0,Ae=V=ae[1],Ne=me=ae[2];break;case"L":et.length=S(V,me,ae[1],ae[2]),V=ae[1],me=ae[2];break;case"C":xt=q(V,me,ae[1],ae[2],ae[3],ae[4],ae[5],ae[6]),Wt=J(V,me,ae[1],ae[2],ae[3],ae[4],ae[5],ae[6]),et.iterator=xt,et.angleFinder=Wt,et.length=Ze(xt,V,me),V=ae[5],me=ae[6];break;case"Q":xt=Fe(V,me,ae[1],ae[2],ae[3],ae[4]),Wt=Ue(V,me,ae[1],ae[2],ae[3],ae[4]),et.iterator=xt,et.angleFinder=Wt,et.length=Ze(xt,V,me),V=ae[3],me=ae[4];break;case"Z":case"z":et.destX=Ae,et.destY=Ne,et.length=S(V,me,Ae,Ne),V=Ae,me=Ne;break}ce+=et.length,ut.push(et)}return ut.push({length:ce,x:V,y:me}),ut}function ge(Me,ce,le){le||(le=ct(Me));for(var ae=0;ce-le[ae].length>0&&ae<le.length-2;)ce-=le[ae].length,ae++;var V=le[ae],me=ce/V.length,Ae=V.command,Ne=Me[ae],ut;switch(Ae){case"M":return{x:V.x,y:V.y,angle:0};case"Z":case"z":return ut=new t.Point(V.x,V.y).lerp(new t.Point(V.destX,V.destY),me),ut.angle=Math.atan2(V.destY-V.y,V.destX-V.x),ut;case"L":return ut=new t.Point(V.x,V.y).lerp(new t.Point(Ne[1],Ne[2]),me),ut.angle=Math.atan2(Ne[2]-V.y,Ne[1]-V.x),ut;case"C":return mt(V,ce);case"Q":return mt(V,ce)}}function ye(Me){var ce=[],le=[],ae,V,me=t.rePathCommand,Ae="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Ne="("+Ae+")"+t.commaWsp,ut="([01])"+t.commaWsp+"?",xt=Ne+"?"+Ne+"?"+Ne+ut+ut+Ne+"?("+Ae+")",et=new RegExp(xt,"g"),Wt,_t,Ft;if(!Me||!Me.match)return ce;Ft=Me.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var st=0,At,St=Ft.length;st<St;st++){ae=Ft[st],_t=ae.slice(1).trim(),le.length=0;var Kt=ae.charAt(0);if(At=[Kt],Kt.toLowerCase()==="a")for(var zt;zt=et.exec(_t);)for(var Ut=1;Ut<zt.length;Ut++)le.push(zt[Ut]);else for(;Wt=me.exec(_t);)le.push(Wt[0]);for(var Ut=0,Vt=le.length;Ut<Vt;Ut++)V=parseFloat(le[Ut]),isNaN(V)||At.push(V);var un=a[Kt.toLowerCase()],Xt=c[Kt]||Kt;if(At.length-1>un)for(var qt=1,Bn=At.length;qt<Bn;qt+=un)ce.push([Kt].concat(At.slice(qt,qt+un))),Kt=Xt;else ce.push(At)}return ce}function Re(Me,ce){var le=[],ae,V=new t.Point(Me[0].x,Me[0].y),me=new t.Point(Me[1].x,Me[1].y),Ae=Me.length,Ne=1,ut=0,xt=Ae>2;for(ce=ce||0,xt&&(Ne=Me[2].x<me.x?-1:Me[2].x===me.x?0:1,ut=Me[2].y<me.y?-1:Me[2].y===me.y?0:1),le.push(["M",V.x-Ne*ce,V.y-ut*ce]),ae=1;ae<Ae;ae++){if(!V.eq(me)){var et=V.midPointFrom(me);le.push(["Q",V.x,V.y,et.x,et.y])}V=Me[ae],ae+1<Me.length&&(me=Me[ae+1])}return xt&&(Ne=V.x>Me[ae-2].x?1:V.x===Me[ae-2].x?0:-1,ut=V.y>Me[ae-2].y?1:V.y===Me[ae-2].y?0:-1),le.push(["L",V.x+Ne*ce,V.y+ut*ce]),le}function ft(Me,ce,le){return le&&(ce=t.util.multiplyTransformMatrices(ce,[1,0,0,1,-le.x,-le.y])),Me.map(function(ae){for(var V=ae.slice(0),me={},Ae=1;Ae<ae.length-1;Ae+=2)me.x=ae[Ae],me.y=ae[Ae+1],me=t.util.transformPoint(me,ce),V[Ae]=me.x,V[Ae+1]=me.y;return V})}t.util.joinPath=function(Me){return Me.map(function(ce){return ce.join(" ")}).join(" ")},t.util.parsePath=ye,t.util.makePathSimpler=k,t.util.getSmoothPathFromPoints=Re,t.util.getPathSegmentsInfo=ct,t.util.getBoundsOfCurve=m,t.util.getPointOnPath=ge,t.util.transformPath=ft})(),(function(){var d=Array.prototype.slice;function a(m,C){for(var k=d.call(arguments,2),S=[],O=0,N=m.length;O<N;O++)S[O]=k.length?m[O][C].apply(m[O],k):m[O][C].call(m[O]);return S}function c(m,C){return g(m,C,function(k,S){return k>=S})}function v(m,C){return g(m,C,function(k,S){return k<S})}function f(m,C){for(var k=m.length;k--;)m[k]=C;return m}function g(m,C,k){if(!(!m||m.length===0)){var S=m.length-1,O=C?m[S][C]:m[S];if(C)for(;S--;)k(m[S][C],O)&&(O=m[S][C]);else for(;S--;)k(m[S],O)&&(O=m[S]);return O}}t.util.array={fill:f,invoke:a,min:v,max:c}})(),(function(){function d(c,v,f){if(f)if(!t.isLikelyNode&&v instanceof Element)c=v;else if(v instanceof Array){c=[];for(var g=0,m=v.length;g<m;g++)c[g]=d({},v[g],f)}else if(v&&typeof v=="object")for(var C in v)C==="canvas"||C==="group"?c[C]=null:v.hasOwnProperty(C)&&(c[C]=d({},v[C],f));else c=v;else for(var C in v)c[C]=v[C];return c}function a(c,v){return d({},c,v)}t.util.object={extend:d,clone:a},t.util.object.extend(t.util,t.Observable)})(),(function(){function d(g){return g.replace(/-+(.)?/g,function(m,C){return C?C.toUpperCase():""})}function a(g,m){return g.charAt(0).toUpperCase()+(m?g.slice(1):g.slice(1).toLowerCase())}function c(g){return g.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(g){var m=0,C,k=[];for(m=0,C;m<g.length;m++)(C=f(g,m))!==!1&&k.push(C);return k}function f(g,m){var C=g.charCodeAt(m);if(isNaN(C))return"";if(C<55296||C>57343)return g.charAt(m);if(55296<=C&&C<=56319){if(g.length<=m+1)throw"High surrogate without following low surrogate";var k=g.charCodeAt(m+1);if(56320>k||k>57343)throw"High surrogate without following low surrogate";return g.charAt(m)+g.charAt(m+1)}if(m===0)throw"Low surrogate without preceding high surrogate";var S=g.charCodeAt(m-1);if(55296>S||S>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:d,capitalize:a,escapeXml:c,graphemeSplit:v}})(),(function(){var d=Array.prototype.slice,a=function(){},c=(function(){for(var C in{toString:1})if(C==="toString")return!1;return!0})(),v=function(C,k,S){for(var O in k)O in C.prototype&&typeof C.prototype[O]=="function"&&(k[O]+"").indexOf("callSuper")>-1?C.prototype[O]=(function(N){return function(){var U=this.constructor.superclass;this.constructor.superclass=S;var W=k[N].apply(this,arguments);if(this.constructor.superclass=U,N!=="initialize")return W}})(O):C.prototype[O]=k[O],c&&(k.toString!==Object.prototype.toString&&(C.prototype.toString=k.toString),k.valueOf!==Object.prototype.valueOf&&(C.prototype.valueOf=k.valueOf))};function f(){}function g(C){for(var k=null,S=this;S.constructor.superclass;){var O=S.constructor.superclass.prototype[C];if(S[C]!==O){k=O;break}S=S.constructor.superclass.prototype}return k?arguments.length>1?k.apply(this,d.call(arguments,1)):k.call(this):console.log("tried to callSuper "+C+", method not found in prototype chain",this)}function m(){var C=null,k=d.call(arguments,0);typeof k[0]=="function"&&(C=k.shift());function S(){this.initialize.apply(this,arguments)}S.superclass=C,S.subclasses=[],C&&(f.prototype=C.prototype,S.prototype=new f,C.subclasses.push(S));for(var O=0,N=k.length;O<N;O++)v(S,k[O],C);return S.prototype.initialize||(S.prototype.initialize=a),S.prototype.constructor=S,S.prototype.callSuper=g,S}t.util.createClass=m})(),(function(){var d=!!t.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];t.util.addListener=function(v,f,g,m){v&&v.addEventListener(f,g,d?!1:m)},t.util.removeListener=function(v,f,g,m){v&&v.removeEventListener(f,g,d?!1:m)};function c(v){var f=v.changedTouches;return f&&f[0]?f[0]:v}t.util.getPointer=function(v){var f=v.target,g=t.util.getScrollLeftTop(f),m=c(v);return{x:m.clientX+g.left,y:m.clientY+g.top}},t.util.isTouchEvent=function(v){return a.indexOf(v.type)>-1||v.pointerType==="touch"}})(),(function(){function d(m,C){var k=m.style;if(!k)return m;if(typeof C=="string")return m.style.cssText+=";"+C,C.indexOf("opacity")>-1?g(m,C.match(/opacity:\s*(\d?\.?\d*)/)[1]):m;for(var S in C)if(S==="opacity")g(m,C[S]);else{var O=S==="float"||S==="cssFloat"?typeof k.styleFloat>"u"?"cssFloat":"styleFloat":S;k.setProperty(O,C[S])}return m}var a=t.document.createElement("div"),c=typeof a.style.opacity=="string",v=typeof a.style.filter=="string",f=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,g=function(m){return m};c?g=function(m,C){return m.style.opacity=C,m}:v&&(g=function(m,C){var k=m.style;return m.currentStyle&&!m.currentStyle.hasLayout&&(k.zoom=1),f.test(k.filter)?(C=C>=.9999?"":"alpha(opacity="+C*100+")",k.filter=k.filter.replace(f,C)):k.filter+=" alpha(opacity="+C*100+")",m}),t.util.setStyle=d})(),(function(){var d=Array.prototype.slice;function a(W){return typeof W=="string"?t.document.getElementById(W):W}var c,v=function(W){return d.call(W,0)};try{c=v(t.document.childNodes)instanceof Array}catch{}c||(v=function(W){for(var q=new Array(W.length),J=W.length;J--;)q[J]=W[J];return q});function f(W,q){var J=t.document.createElement(W);for(var ne in q)ne==="class"?J.className=q[ne]:ne==="for"?J.htmlFor=q[ne]:J.setAttribute(ne,q[ne]);return J}function g(W,q){W&&(" "+W.className+" ").indexOf(" "+q+" ")===-1&&(W.className+=(W.className?" ":"")+q)}function m(W,q,J){return typeof q=="string"&&(q=f(q,J)),W.parentNode&&W.parentNode.replaceChild(q,W),q.appendChild(W),q}function C(W){for(var q=0,J=0,ne=t.document.documentElement,ve=t.document.body||{scrollLeft:0,scrollTop:0};W&&(W.parentNode||W.host)&&(W=W.parentNode||W.host,W===t.document?(q=ve.scrollLeft||ne.scrollLeft||0,J=ve.scrollTop||ne.scrollTop||0):(q+=W.scrollLeft||0,J+=W.scrollTop||0),!(W.nodeType===1&&W.style.position==="fixed")););return{left:q,top:J}}function k(W){var q,J=W&&W.ownerDocument,ne={left:0,top:0},ve={left:0,top:0},Se,Fe={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!J)return ve;for(var Ue in Fe)ve[Fe[Ue]]+=parseInt(S(W,Ue),10)||0;return q=J.documentElement,typeof W.getBoundingClientRect<"u"&&(ne=W.getBoundingClientRect()),Se=C(W),{left:ne.left+Se.left-(q.clientLeft||0)+ve.left,top:ne.top+Se.top-(q.clientTop||0)+ve.top}}var S;t.document.defaultView&&t.document.defaultView.getComputedStyle?S=function(W,q){var J=t.document.defaultView.getComputedStyle(W,null);return J?J[q]:void 0}:S=function(W,q){var J=W.style[q];return!J&&W.currentStyle&&(J=W.currentStyle[q]),J},(function(){var W=t.document.documentElement.style,q="userSelect"in W?"userSelect":"MozUserSelect"in W?"MozUserSelect":"WebkitUserSelect"in W?"WebkitUserSelect":"KhtmlUserSelect"in W?"KhtmlUserSelect":"";function J(ve){return typeof ve.onselectstart<"u"&&(ve.onselectstart=t.util.falseFunction),q?ve.style[q]="none":typeof ve.unselectable=="string"&&(ve.unselectable="on"),ve}function ne(ve){return typeof ve.onselectstart<"u"&&(ve.onselectstart=null),q?ve.style[q]="":typeof ve.unselectable=="string"&&(ve.unselectable=""),ve}t.util.makeElementUnselectable=J,t.util.makeElementSelectable=ne})();function O(W){var q=t.jsdomImplForWrapper(W);return q._canvas||q._image}function N(W){if(t.isLikelyNode){var q=t.jsdomImplForWrapper(W);q&&(q._image=null,q._canvas=null,q._currentSrc=null,q._attributes=null,q._classList=null)}}function U(W,q){W.imageSmoothingEnabled=W.imageSmoothingEnabled||W.webkitImageSmoothingEnabled||W.mozImageSmoothingEnabled||W.msImageSmoothingEnabled||W.oImageSmoothingEnabled,W.imageSmoothingEnabled=q}t.util.setImageSmoothing=U,t.util.getById=a,t.util.toArray=v,t.util.addClass=g,t.util.makeElement=f,t.util.wrapElement=m,t.util.getScrollLeftTop=C,t.util.getElementOffset=k,t.util.getNodeCanvas=O,t.util.cleanUpJsdomNode=N})(),(function(){function d(v,f){return v+(/\?/.test(v)?"&":"?")+f}function a(){}function c(v,f){f||(f={});var g=f.method?f.method.toUpperCase():"GET",m=f.onComplete||function(){},C=new t.window.XMLHttpRequest,k=f.body||f.parameters;return C.onreadystatechange=function(){C.readyState===4&&(m(C),C.onreadystatechange=a)},g==="GET"&&(k=null,typeof f.parameters=="string"&&(v=d(v,f.parameters))),C.open(g,v,!0),(g==="POST"||g==="PUT")&&C.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),C.send(k),C}t.util.request=c})(),t.log=console.log,t.warn=console.warn,(function(){var d=t.util.object.extend,a=t.util.object.clone,c=[];t.util.object.extend(c,{cancelAll:function(){var O=this.splice(0);return O.forEach(function(N){N.cancel()}),O},cancelByCanvas:function(O){if(!O)return[];var N=this.filter(function(U){return typeof U.target=="object"&&U.target.canvas===O});return N.forEach(function(U){U.cancel()}),N},cancelByTarget:function(O){var N=this.findAnimationsByTarget(O);return N.forEach(function(U){U.cancel()}),N},findAnimationIndex:function(O){return this.indexOf(this.findAnimation(O))},findAnimation:function(O){return this.find(function(N){return N.cancel===O})},findAnimationsByTarget:function(O){return O?this.filter(function(N){return N.target===O}):[]}});function v(){return!1}function f(O,N,U,W){return-U*Math.cos(O/W*(Math.PI/2))+U+N}function g(O){O||(O={});var N=!1,U,W=function(){var q=t.runningAnimations.indexOf(U);return q>-1&&t.runningAnimations.splice(q,1)[0]};return U=d(a(O),{cancel:function(){return N=!0,W()},currentValue:"startValue"in O?O.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(U),k(function(q){var J=q||+new Date,ne=O.duration||500,ve=J+ne,Se,Fe=O.onChange||v,Ue=O.abort||v,Ze=O.onComplete||v,mt=O.easing||f,ct="startValue"in O?O.startValue.length>0:!1,ge="startValue"in O?O.startValue:0,ye="endValue"in O?O.endValue:100,Re=O.byValue||(ct?ge.map(function(ft,Me){return ye[Me]-ge[Me]}):ye-ge);O.onStart&&O.onStart(),(function ft(Me){Se=Me||+new Date;var ce=Se>ve?ne:Se-J,le=ce/ne,ae=ct?ge.map(function(me,Ae){return mt(ce,ge[Ae],Re[Ae],ne)}):mt(ce,ge,Re,ne),V=Math.abs(ct?(ae[0]-ge[0])/Re[0]:(ae-ge)/Re);if(U.currentValue=ct?ae.slice():ae,U.completionRate=V,U.durationRate=le,!N){if(Ue(ae,V,le)){W();return}if(Se>ve){U.currentValue=ct?ye.slice():ye,U.completionRate=1,U.durationRate=1,Fe(ct?ye.slice():ye,1,1),Ze(ye,1,1),W();return}else Fe(ae,V,le),k(ft)}})(J)}),U.cancel}var m=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(O){return t.window.setTimeout(O,1e3/60)},C=t.window.cancelAnimationFrame||t.window.clearTimeout;function k(){return m.apply(t.window,arguments)}function S(){return C.apply(t.window,arguments)}t.util.animate=g,t.util.requestAnimFrame=k,t.util.cancelAnimFrame=S,t.runningAnimations=c})(),(function(){function d(c,v,f){var g="rgba("+parseInt(c[0]+f*(v[0]-c[0]),10)+","+parseInt(c[1]+f*(v[1]-c[1]),10)+","+parseInt(c[2]+f*(v[2]-c[2]),10);return g+=","+(c&&v?parseFloat(c[3]+f*(v[3]-c[3])):1),g+=")",g}function a(c,v,f,g){var m=new t.Color(c).getSource(),C=new t.Color(v).getSource(),k=g.onComplete,S=g.onChange;return g=g||{},t.util.animate(t.util.object.extend(g,{duration:f||500,startValue:m,endValue:C,byValue:C,easing:function(O,N,U,W){var q=g.colorEasing?g.colorEasing(O,W):1-Math.cos(O/W*(Math.PI/2));return d(N,U,q)},onComplete:function(O,N,U){if(k)return k(d(C,C,0),N,U)},onChange:function(O,N,U){if(S){if(Array.isArray(O))return S(d(O,O,0),N,U);S(O,N,U)}}}))}t.util.animateColor=a})(),(function(){function d(Me,ce,le,ae){return Me<Math.abs(ce)?(Me=ce,ae=le/4):ce===0&&Me===0?ae=le/(2*Math.PI)*Math.asin(1):ae=le/(2*Math.PI)*Math.asin(ce/Me),{a:Me,c:ce,p:le,s:ae}}function a(Me,ce,le){return Me.a*Math.pow(2,10*(ce-=1))*Math.sin((ce*le-Me.s)*(2*Math.PI)/Me.p)}function c(Me,ce,le,ae){return le*((Me=Me/ae-1)*Me*Me+1)+ce}function v(Me,ce,le,ae){return Me/=ae/2,Me<1?le/2*Me*Me*Me+ce:le/2*((Me-=2)*Me*Me+2)+ce}function f(Me,ce,le,ae){return le*(Me/=ae)*Me*Me*Me+ce}function g(Me,ce,le,ae){return-le*((Me=Me/ae-1)*Me*Me*Me-1)+ce}function m(Me,ce,le,ae){return Me/=ae/2,Me<1?le/2*Me*Me*Me*Me+ce:-le/2*((Me-=2)*Me*Me*Me-2)+ce}function C(Me,ce,le,ae){return le*(Me/=ae)*Me*Me*Me*Me+ce}function k(Me,ce,le,ae){return le*((Me=Me/ae-1)*Me*Me*Me*Me+1)+ce}function S(Me,ce,le,ae){return Me/=ae/2,Me<1?le/2*Me*Me*Me*Me*Me+ce:le/2*((Me-=2)*Me*Me*Me*Me+2)+ce}function O(Me,ce,le,ae){return-le*Math.cos(Me/ae*(Math.PI/2))+le+ce}function N(Me,ce,le,ae){return le*Math.sin(Me/ae*(Math.PI/2))+ce}function U(Me,ce,le,ae){return-le/2*(Math.cos(Math.PI*Me/ae)-1)+ce}function W(Me,ce,le,ae){return Me===0?ce:le*Math.pow(2,10*(Me/ae-1))+ce}function q(Me,ce,le,ae){return Me===ae?ce+le:le*(-Math.pow(2,-10*Me/ae)+1)+ce}function J(Me,ce,le,ae){return Me===0?ce:Me===ae?ce+le:(Me/=ae/2,Me<1?le/2*Math.pow(2,10*(Me-1))+ce:le/2*(-Math.pow(2,-10*--Me)+2)+ce)}function ne(Me,ce,le,ae){return-le*(Math.sqrt(1-(Me/=ae)*Me)-1)+ce}function ve(Me,ce,le,ae){return le*Math.sqrt(1-(Me=Me/ae-1)*Me)+ce}function Se(Me,ce,le,ae){return Me/=ae/2,Me<1?-le/2*(Math.sqrt(1-Me*Me)-1)+ce:le/2*(Math.sqrt(1-(Me-=2)*Me)+1)+ce}function Fe(Me,ce,le,ae){var V=1.70158,me=0,Ae=le;if(Me===0)return ce;if(Me/=ae,Me===1)return ce+le;me||(me=ae*.3);var Ne=d(Ae,le,me,V);return-a(Ne,Me,ae)+ce}function Ue(Me,ce,le,ae){var V=1.70158,me=0,Ae=le;if(Me===0)return ce;if(Me/=ae,Me===1)return ce+le;me||(me=ae*.3);var Ne=d(Ae,le,me,V);return Ne.a*Math.pow(2,-10*Me)*Math.sin((Me*ae-Ne.s)*(2*Math.PI)/Ne.p)+Ne.c+ce}function Ze(Me,ce,le,ae){var V=1.70158,me=0,Ae=le;if(Me===0)return ce;if(Me/=ae/2,Me===2)return ce+le;me||(me=ae*(.3*1.5));var Ne=d(Ae,le,me,V);return Me<1?-.5*a(Ne,Me,ae)+ce:Ne.a*Math.pow(2,-10*(Me-=1))*Math.sin((Me*ae-Ne.s)*(2*Math.PI)/Ne.p)*.5+Ne.c+ce}function mt(Me,ce,le,ae,V){return V===void 0&&(V=1.70158),le*(Me/=ae)*Me*((V+1)*Me-V)+ce}function ct(Me,ce,le,ae,V){return V===void 0&&(V=1.70158),le*((Me=Me/ae-1)*Me*((V+1)*Me+V)+1)+ce}function ge(Me,ce,le,ae,V){return V===void 0&&(V=1.70158),Me/=ae/2,Me<1?le/2*(Me*Me*(((V*=1.525)+1)*Me-V))+ce:le/2*((Me-=2)*Me*(((V*=1.525)+1)*Me+V)+2)+ce}function ye(Me,ce,le,ae){return le-Re(ae-Me,0,le,ae)+ce}function Re(Me,ce,le,ae){return(Me/=ae)<1/2.75?le*(7.5625*Me*Me)+ce:Me<2/2.75?le*(7.5625*(Me-=1.5/2.75)*Me+.75)+ce:Me<2.5/2.75?le*(7.5625*(Me-=2.25/2.75)*Me+.9375)+ce:le*(7.5625*(Me-=2.625/2.75)*Me+.984375)+ce}function ft(Me,ce,le,ae){return Me<ae/2?ye(Me*2,0,le,ae)*.5+ce:Re(Me*2-ae,0,le,ae)*.5+le*.5+ce}t.util.ease={easeInQuad:function(Me,ce,le,ae){return le*(Me/=ae)*Me+ce},easeOutQuad:function(Me,ce,le,ae){return-le*(Me/=ae)*(Me-2)+ce},easeInOutQuad:function(Me,ce,le,ae){return Me/=ae/2,Me<1?le/2*Me*Me+ce:-le/2*(--Me*(Me-2)-1)+ce},easeInCubic:function(Me,ce,le,ae){return le*(Me/=ae)*Me*Me+ce},easeOutCubic:c,easeInOutCubic:v,easeInQuart:f,easeOutQuart:g,easeInOutQuart:m,easeInQuint:C,easeOutQuint:k,easeInOutQuint:S,easeInSine:O,easeOutSine:N,easeInOutSine:U,easeInExpo:W,easeOutExpo:q,easeInOutExpo:J,easeInCirc:ne,easeOutCirc:ve,easeInOutCirc:Se,easeInElastic:Fe,easeOutElastic:Ue,easeInOutElastic:Ze,easeInBack:mt,easeOutBack:ct,easeInOutBack:ge,easeInBounce:ye,easeOutBounce:Re,easeInOutBounce:ft}})(),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend,v=a.util.object.clone,f=a.util.toFixed,g=a.util.parseUnit,m=a.util.multiplyTransformMatrices,C=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],k=["symbol","image","marker","pattern","view","svg"],S=["pattern","defs","symbol","metadata","clipPath","mask","desc"],O=["symbol","g","a","svg","clipPath","defs"],N={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},U={stroke:"strokeOpacity",fill:"fillOpacity"},W="font-size",q="clip-path";a.svgValidTagNamesRegEx=ve(C),a.svgViewBoxElementsRegEx=ve(k),a.svgInvalidAncestorsRegEx=ve(S),a.svgValidParentsRegEx=ve(O),a.cssRules={},a.gradientDefs={},a.clipPaths={};function J(me){return me in N?N[me]:me}function ne(me,Ae,Ne,ut){var xt=Array.isArray(Ae),et;if((me==="fill"||me==="stroke")&&Ae==="none")Ae="";else{if(me==="strokeUniform")return Ae==="non-scaling-stroke";if(me==="strokeDashArray")Ae==="none"?Ae=null:Ae=Ae.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(me==="transformMatrix")Ne&&Ne.transformMatrix?Ae=m(Ne.transformMatrix,a.parseTransformAttribute(Ae)):Ae=a.parseTransformAttribute(Ae);else if(me==="visible")Ae=Ae!=="none"&&Ae!=="hidden",Ne&&Ne.visible===!1&&(Ae=!1);else if(me==="opacity")Ae=parseFloat(Ae),Ne&&typeof Ne.opacity<"u"&&(Ae*=Ne.opacity);else if(me==="textAnchor")Ae=Ae==="start"?"left":Ae==="end"?"right":"center";else if(me==="charSpacing")et=g(Ae,ut)/ut*1e3;else if(me==="paintFirst"){var Wt=Ae.indexOf("fill"),_t=Ae.indexOf("stroke"),Ae="fill";(Wt>-1&&_t>-1&&_t<Wt||Wt===-1&&_t>-1)&&(Ae="stroke")}else{if(me==="href"||me==="xlink:href"||me==="font")return Ae;if(me==="imageSmoothing")return Ae==="optimizeQuality";et=xt?Ae.map(g):g(Ae,ut)}}return!xt&&isNaN(et)?Ae:et}function ve(me){return new RegExp("^("+me.join("|")+")\\b","i")}function Se(me){for(var Ae in U)if(!(typeof me[U[Ae]]>"u"||me[Ae]==="")){if(typeof me[Ae]>"u"){if(!a.Object.prototype[Ae])continue;me[Ae]=a.Object.prototype[Ae]}if(me[Ae].indexOf("url(")!==0){var Ne=new a.Color(me[Ae]);me[Ae]=Ne.setAlpha(f(Ne.getAlpha()*me[U[Ae]],2)).toRgba()}}return me}function Fe(me,Ae){var Ne,ut=[],xt,et,Wt;for(et=0,Wt=Ae.length;et<Wt;et++)Ne=Ae[et],xt=me.getElementsByTagName(Ne),ut=ut.concat(Array.prototype.slice.call(xt));return ut}a.parseTransformAttribute=(function(){function me(qt,Bn){var gt=a.util.cos(Bn[0]),dt=a.util.sin(Bn[0]),Pe=0,be=0;Bn.length===3&&(Pe=Bn[1],be=Bn[2]),qt[0]=gt,qt[1]=dt,qt[2]=-dt,qt[3]=gt,qt[4]=Pe-(gt*Pe-dt*be),qt[5]=be-(dt*Pe+gt*be)}function Ae(qt,Bn){var gt=Bn[0],dt=Bn.length===2?Bn[1]:Bn[0];qt[0]=gt,qt[3]=dt}function Ne(qt,Bn,gt){qt[gt]=Math.tan(a.util.degreesToRadians(Bn[0]))}function ut(qt,Bn){qt[4]=Bn[0],Bn.length===2&&(qt[5]=Bn[1])}var xt=a.iMatrix,et=a.reNum,Wt=a.commaWsp,_t="(?:(skewX)\\s*\\(\\s*("+et+")\\s*\\))",Ft="(?:(skewY)\\s*\\(\\s*("+et+")\\s*\\))",st="(?:(rotate)\\s*\\(\\s*("+et+")(?:"+Wt+"("+et+")"+Wt+"("+et+"))?\\s*\\))",At="(?:(scale)\\s*\\(\\s*("+et+")(?:"+Wt+"("+et+"))?\\s*\\))",St="(?:(translate)\\s*\\(\\s*("+et+")(?:"+Wt+"("+et+"))?\\s*\\))",Kt="(?:(matrix)\\s*\\(\\s*("+et+")"+Wt+"("+et+")"+Wt+"("+et+")"+Wt+"("+et+")"+Wt+"("+et+")"+Wt+"("+et+")\\s*\\))",zt="(?:"+Kt+"|"+St+"|"+At+"|"+st+"|"+_t+"|"+Ft+")",Ut="(?:"+zt+"(?:"+Wt+"*"+zt+")*)",Vt="^\\s*(?:"+Ut+"?)\\s*$",un=new RegExp(Vt),Xt=new RegExp(zt,"g");return function(qt){var Bn=xt.concat(),gt=[];if(!qt||qt&&!un.test(qt))return Bn;qt.replace(Xt,function(Pe){var be=new RegExp(zt).exec(Pe).filter(function(re){return!!re}),Ee=be[1],qe=be.slice(2).map(parseFloat);switch(Ee){case"translate":ut(Bn,qe);break;case"rotate":qe[0]=a.util.degreesToRadians(qe[0]),me(Bn,qe);break;case"scale":Ae(Bn,qe);break;case"skewX":Ne(Bn,qe,2);break;case"skewY":Ne(Bn,qe,1);break;case"matrix":Bn=qe;break}gt.push(Bn.concat()),Bn=xt.concat()});for(var dt=gt[0];gt.length>1;)gt.shift(),dt=a.util.multiplyTransformMatrices(dt,gt[0]);return dt}})();function Ue(me,Ae){var Ne,ut;me.replace(/;\s*$/,"").split(";").forEach(function(xt){var et=xt.split(":");Ne=et[0].trim().toLowerCase(),ut=et[1].trim(),Ae[Ne]=ut})}function Ze(me,Ae){var Ne,ut;for(var xt in me)typeof me[xt]>"u"||(Ne=xt.toLowerCase(),ut=me[xt],Ae[Ne]=ut)}function mt(me,Ae){var Ne={};for(var ut in a.cssRules[Ae])if(ct(me,ut.split(" ")))for(var xt in a.cssRules[Ae][ut])Ne[xt]=a.cssRules[Ae][ut][xt];return Ne}function ct(me,Ae){var Ne,ut=!0;return Ne=ye(me,Ae.pop()),Ne&&Ae.length&&(ut=ge(me,Ae)),Ne&&ut&&Ae.length===0}function ge(me,Ae){for(var Ne,ut=!0;me.parentNode&&me.parentNode.nodeType===1&&Ae.length;)ut&&(Ne=Ae.pop()),me=me.parentNode,ut=ye(me,Ne);return Ae.length===0}function ye(me,Ae){var Ne=me.nodeName,ut=me.getAttribute("class"),xt=me.getAttribute("id"),et,Wt;if(et=new RegExp("^"+Ne,"i"),Ae=Ae.replace(et,""),xt&&Ae.length&&(et=new RegExp("#"+xt+"(?![a-zA-Z\\-]+)","i"),Ae=Ae.replace(et,"")),ut&&Ae.length)for(ut=ut.split(" "),Wt=ut.length;Wt--;)et=new RegExp("\\."+ut[Wt]+"(?![a-zA-Z\\-]+)","i"),Ae=Ae.replace(et,"");return Ae.length===0}function Re(me,Ae){var Ne;if(me.getElementById&&(Ne=me.getElementById(Ae)),Ne)return Ne;var ut,xt,et,Wt=me.getElementsByTagName("*");for(xt=0,et=Wt.length;xt<et;xt++)if(ut=Wt[xt],Ae===ut.getAttribute("id"))return ut}function ft(me){for(var Ae=Fe(me,["use","svg:use"]),Ne=0;Ae.length&&Ne<Ae.length;){var ut=Ae[Ne],xt=ut.getAttribute("xlink:href")||ut.getAttribute("href");if(xt===null)return;var et=xt.slice(1),Wt=ut.getAttribute("x")||0,_t=ut.getAttribute("y")||0,Ft=Re(me,et).cloneNode(!0),st=(Ft.getAttribute("transform")||"")+" translate("+Wt+", "+_t+")",At,St=Ae.length,Kt,zt,Ut,Vt,un=a.svgNS;if(ce(Ft),/^svg$/i.test(Ft.nodeName)){var Xt=Ft.ownerDocument.createElementNS(un,"g");for(zt=0,Ut=Ft.attributes,Vt=Ut.length;zt<Vt;zt++)Kt=Ut.item(zt),Xt.setAttributeNS(un,Kt.nodeName,Kt.nodeValue);for(;Ft.firstChild;)Xt.appendChild(Ft.firstChild);Ft=Xt}for(zt=0,Ut=ut.attributes,Vt=Ut.length;zt<Vt;zt++)Kt=Ut.item(zt),!(Kt.nodeName==="x"||Kt.nodeName==="y"||Kt.nodeName==="xlink:href"||Kt.nodeName==="href")&&(Kt.nodeName==="transform"?st=Kt.nodeValue+" "+st:Ft.setAttribute(Kt.nodeName,Kt.nodeValue));Ft.setAttribute("transform",st),Ft.setAttribute("instantiated_by_use","1"),Ft.removeAttribute("id"),At=ut.parentNode,At.replaceChild(Ft,ut),Ae.length===St&&Ne++}}var Me=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function ce(me){if(!a.svgViewBoxElementsRegEx.test(me.nodeName))return{};var Ae=me.getAttribute("viewBox"),Ne=1,ut=1,xt=0,et=0,Wt,_t,Ft,st,At=me.getAttribute("width"),St=me.getAttribute("height"),Kt=me.getAttribute("x")||0,zt=me.getAttribute("y")||0,Ut=me.getAttribute("preserveAspectRatio")||"",Vt=!Ae||!(Ae=Ae.match(Me)),un=!At||!St||At==="100%"||St==="100%",Xt=Vt&&un,qt={},Bn="",gt=0,dt=0;if(qt.width=0,qt.height=0,qt.toBeParsed=Xt,Vt&&(Kt||zt)&&me.parentNode&&me.parentNode.nodeName!=="#document"&&(Bn=" translate("+g(Kt)+" "+g(zt)+") ",Ft=(me.getAttribute("transform")||"")+Bn,me.setAttribute("transform",Ft),me.removeAttribute("x"),me.removeAttribute("y")),Xt)return qt;if(Vt)return qt.width=g(At),qt.height=g(St),qt;if(xt=-parseFloat(Ae[1]),et=-parseFloat(Ae[2]),Wt=parseFloat(Ae[3]),_t=parseFloat(Ae[4]),qt.minX=xt,qt.minY=et,qt.viewBoxWidth=Wt,qt.viewBoxHeight=_t,un?(qt.width=Wt,qt.height=_t):(qt.width=g(At),qt.height=g(St),Ne=qt.width/Wt,ut=qt.height/_t),Ut=a.util.parsePreserveAspectRatioAttribute(Ut),Ut.alignX!=="none"&&(Ut.meetOrSlice==="meet"&&(ut=Ne=Ne>ut?ut:Ne),Ut.meetOrSlice==="slice"&&(ut=Ne=Ne>ut?Ne:ut),gt=qt.width-Wt*Ne,dt=qt.height-_t*Ne,Ut.alignX==="Mid"&&(gt/=2),Ut.alignY==="Mid"&&(dt/=2),Ut.alignX==="Min"&&(gt=0),Ut.alignY==="Min"&&(dt=0)),Ne===1&&ut===1&&xt===0&&et===0&&Kt===0&&zt===0)return qt;if((Kt||zt)&&me.parentNode.nodeName!=="#document"&&(Bn=" translate("+g(Kt)+" "+g(zt)+") "),Ft=Bn+" matrix("+Ne+" 0 0 "+ut+" "+(xt*Ne+gt)+" "+(et*ut+dt)+") ",me.nodeName==="svg"){for(st=me.ownerDocument.createElementNS(a.svgNS,"g");me.firstChild;)st.appendChild(me.firstChild);me.appendChild(st)}else st=me,st.removeAttribute("x"),st.removeAttribute("y"),Ft=st.getAttribute("transform")+Ft;return st.setAttribute("transform",Ft),qt}function le(me,Ae){for(;me&&(me=me.parentNode);)if(me.nodeName&&Ae.test(me.nodeName.replace("svg:",""))&&!me.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(me,Ae,Ne,ut){if(me){ft(me);var xt=a.Object.__uid++,et,Wt,_t=ce(me),Ft=a.util.toArray(me.getElementsByTagName("*"));if(_t.crossOrigin=ut&&ut.crossOrigin,_t.svgUid=xt,Ft.length===0&&a.isLikelyNode){Ft=me.selectNodes('//*[name(.)!="svg"]');var st=[];for(et=0,Wt=Ft.length;et<Wt;et++)st[et]=Ft[et];Ft=st}var At=Ft.filter(function(Kt){return ce(Kt),a.svgValidTagNamesRegEx.test(Kt.nodeName.replace("svg:",""))&&!le(Kt,a.svgInvalidAncestorsRegEx)});if(!At||At&&!At.length){Ae&&Ae([],{});return}var St={};Ft.filter(function(Kt){return Kt.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Kt){var zt=Kt.getAttribute("id");St[zt]=a.util.toArray(Kt.getElementsByTagName("*")).filter(function(Ut){return a.svgValidTagNamesRegEx.test(Ut.nodeName.replace("svg:",""))})}),a.gradientDefs[xt]=a.getGradientDefs(me),a.cssRules[xt]=a.getCSSRules(me),a.clipPaths[xt]=St,a.parseElements(At,function(Kt,zt){Ae&&(Ae(Kt,_t,zt,Ft),delete a.gradientDefs[xt],delete a.cssRules[xt],delete a.clipPaths[xt])},v(_t),Ne,ut)}};function ae(me,Ae){var Ne=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],ut="xlink:href",xt=Ae.getAttribute(ut).slice(1),et=Re(me,xt);if(et&&et.getAttribute(ut)&&ae(me,et),Ne.forEach(function(_t){et&&!Ae.hasAttribute(_t)&&et.hasAttribute(_t)&&Ae.setAttribute(_t,et.getAttribute(_t))}),!Ae.children.length)for(var Wt=et.cloneNode(!0);Wt.firstChild;)Ae.appendChild(Wt.firstChild);Ae.removeAttribute(ut)}var V=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");c(a,{parseFontDeclaration:function(me,Ae){var Ne=me.match(V);if(Ne){var ut=Ne[1],xt=Ne[3],et=Ne[4],Wt=Ne[5],_t=Ne[6];ut&&(Ae.fontStyle=ut),xt&&(Ae.fontWeight=isNaN(parseFloat(xt))?xt:parseFloat(xt)),et&&(Ae.fontSize=g(et)),_t&&(Ae.fontFamily=_t),Wt&&(Ae.lineHeight=Wt==="normal"?1:Wt)}},getGradientDefs:function(me){var Ae=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Ne=Fe(me,Ae),ut,xt=0,et={};for(xt=Ne.length;xt--;)ut=Ne[xt],ut.getAttribute("xlink:href")&&ae(me,ut),et[ut.getAttribute("id")]=ut;return et},parseAttributes:function(me,Ae,Ne){if(me){var ut,xt={},et,Wt;typeof Ne>"u"&&(Ne=me.getAttribute("svgUid")),me.parentNode&&a.svgValidParentsRegEx.test(me.parentNode.nodeName)&&(xt=a.parseAttributes(me.parentNode,Ae,Ne));var _t=Ae.reduce(function(Ut,Vt){return ut=me.getAttribute(Vt),ut&&(Ut[Vt]=ut),Ut},{}),Ft=c(mt(me,Ne),a.parseStyleAttribute(me));_t=c(_t,Ft),Ft[q]&&me.setAttribute(q,Ft[q]),et=Wt=xt.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,_t[W]&&(_t[W]=et=g(_t[W],Wt));var st,At,St={};for(var Kt in _t)st=J(Kt),At=ne(st,_t[Kt],xt,et),St[st]=At;St&&St.font&&a.parseFontDeclaration(St.font,St);var zt=c(xt,St);return a.svgValidParentsRegEx.test(me.nodeName)?zt:Se(zt)}},parseElements:function(me,Ae,Ne,ut,xt){new a.ElementsParser(me,Ae,Ne,ut,xt).parse()},parseStyleAttribute:function(me){var Ae={},Ne=me.getAttribute("style");return Ne&&(typeof Ne=="string"?Ue(Ne,Ae):Ze(Ne,Ae)),Ae},parsePointsAttribute:function(me){if(!me)return null;me=me.replace(/,/g," ").trim(),me=me.split(/\s+/);var Ae=[],Ne,ut;for(Ne=0,ut=me.length;Ne<ut;Ne+=2)Ae.push({x:parseFloat(me[Ne]),y:parseFloat(me[Ne+1])});return Ae},getCSSRules:function(me){var Ae=me.getElementsByTagName("style"),Ne,ut,xt={},et;for(Ne=0,ut=Ae.length;Ne<ut;Ne++){var Wt=Ae[Ne].textContent;Wt=Wt.replace(/\/\*[\s\S]*?\*\//g,""),Wt.trim()!==""&&(et=Wt.split("}"),et=et.filter(function(_t){return _t.trim()}),et.forEach(function(_t){var Ft=_t.split("{"),st={},At=Ft[1].trim(),St=At.split(";").filter(function(Vt){return Vt.trim()});for(Ne=0,ut=St.length;Ne<ut;Ne++){var Kt=St[Ne].split(":"),zt=Kt[0].trim(),Ut=Kt[1].trim();st[zt]=Ut}_t=Ft[0].trim(),_t.split(",").forEach(function(Vt){Vt=Vt.replace(/^svg/i,"").trim(),Vt!==""&&(xt[Vt]?a.util.object.extend(xt[Vt],st):xt[Vt]=a.util.object.clone(st))})}))}return xt},loadSVGFromURL:function(me,Ae,Ne,ut){me=me.replace(/^\n\s*/,"").trim(),new a.util.request(me,{method:"get",onComplete:xt});function xt(et){var Wt=et.responseXML;if(!Wt||!Wt.documentElement)return Ae&&Ae(null),!1;a.parseSVGDocument(Wt.documentElement,function(_t,Ft,st,At){Ae&&Ae(_t,Ft,st,At)},Ne,ut)}},loadSVGFromString:function(me,Ae,Ne,ut){var xt=new a.window.DOMParser,et=xt.parseFromString(me.trim(),"text/xml");a.parseSVGDocument(et.documentElement,function(Wt,_t,Ft,st){Ae(Wt,_t,Ft,st)},Ne,ut)}})})(e),t.ElementsParser=function(d,a,c,v,f,g){this.elements=d,this.callback=a,this.options=c,this.reviver=v,this.svgUid=c&&c.svgUid||0,this.parsingOptions=f,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=g},(function(d){d.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},d.createObjects=function(){var a=this;this.elements.forEach(function(c,v){c.setAttribute("svgUid",a.svgUid),a.createObject(c,v)})},d.findTag=function(a){return t[t.util.string.capitalize(a.tagName.replace("svg:",""))]},d.createObject=function(a,c){var v=this.findTag(a);if(v&&v.fromElement)try{v.fromElement(a,this.createCallback(c,a),this.options)}catch(f){t.log(f)}else this.checkIfDone()},d.createCallback=function(a,c){var v=this;return function(f){var g;v.resolveGradient(f,c,"fill"),v.resolveGradient(f,c,"stroke"),f instanceof t.Image&&f._originalElement&&(g=f.parsePreserveAspectRatioAttribute(c)),f._removeTransformMatrix(g),v.resolveClipPath(f,c),v.reviver&&v.reviver(c,f),v.instances[a]=f,v.checkIfDone()}},d.extractPropertyDefinition=function(a,c,v){var f=a[c],g=this.regexUrl;if(g.test(f)){g.lastIndex=0;var m=g.exec(f)[1];return g.lastIndex=0,t[v][this.svgUid][m]}},d.resolveGradient=function(a,c,v){var f=this.extractPropertyDefinition(a,v,"gradientDefs");if(f){var g=c.getAttribute(v+"-opacity"),m=t.Gradient.fromElement(f,a,g,this.options);a.set(v,m)}},d.createClipPathCallback=function(a,c){return function(v){v._removeTransformMatrix(),v.fillRule=v.clipRule,c.push(v)}},d.resolveClipPath=function(a,c){var v=this.extractPropertyDefinition(a,"clipPath","clipPaths"),f,g,m,C,k,S;if(v){C=[],m=t.util.invertTransform(a.calcTransformMatrix());for(var O=v[0].parentNode,N=c;N.parentNode&&N.getAttribute("clip-path")!==a.clipPath;)N=N.parentNode;N.parentNode.appendChild(O);for(var U=0;U<v.length;U++)f=v[U],g=this.findTag(f),g.fromElement(f,this.createClipPathCallback(a,C),this.options);C.length===1?v=C[0]:v=new t.Group(C),k=t.util.multiplyTransformMatrices(m,v.calcTransformMatrix()),v.clipPath&&this.resolveClipPath(v,N);var S=t.util.qrDecompose(k);v.flipX=!1,v.flipY=!1,v.set("scaleX",S.scaleX),v.set("scaleY",S.scaleY),v.angle=S.angle,v.skewX=S.skewX,v.skewY=0,v.setPositionByOrigin({x:S.translateX,y:S.translateY},"center","center"),a.clipPath=v}else delete a.clipPath},d.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}})(t.ElementsParser.prototype),(function(d){var a=d.fabric||(d.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=c;function c(v,f){this.x=v,this.y=f}c.prototype={type:"point",constructor:c,add:function(v){return new c(this.x+v.x,this.y+v.y)},addEquals:function(v){return this.x+=v.x,this.y+=v.y,this},scalarAdd:function(v){return new c(this.x+v,this.y+v)},scalarAddEquals:function(v){return this.x+=v,this.y+=v,this},subtract:function(v){return new c(this.x-v.x,this.y-v.y)},subtractEquals:function(v){return this.x-=v.x,this.y-=v.y,this},scalarSubtract:function(v){return new c(this.x-v,this.y-v)},scalarSubtractEquals:function(v){return this.x-=v,this.y-=v,this},multiply:function(v){return new c(this.x*v,this.y*v)},multiplyEquals:function(v){return this.x*=v,this.y*=v,this},divide:function(v){return new c(this.x/v,this.y/v)},divideEquals:function(v){return this.x/=v,this.y/=v,this},eq:function(v){return this.x===v.x&&this.y===v.y},lt:function(v){return this.x<v.x&&this.y<v.y},lte:function(v){return this.x<=v.x&&this.y<=v.y},gt:function(v){return this.x>v.x&&this.y>v.y},gte:function(v){return this.x>=v.x&&this.y>=v.y},lerp:function(v,f){return typeof f>"u"&&(f=.5),f=Math.max(Math.min(1,f),0),new c(this.x+(v.x-this.x)*f,this.y+(v.y-this.y)*f)},distanceFrom:function(v){var f=this.x-v.x,g=this.y-v.y;return Math.sqrt(f*f+g*g)},midPointFrom:function(v){return this.lerp(v)},min:function(v){return new c(Math.min(this.x,v.x),Math.min(this.y,v.y))},max:function(v){return new c(Math.max(this.x,v.x),Math.max(this.y,v.y))},toString:function(){return this.x+","+this.y},setXY:function(v,f){return this.x=v,this.y=f,this},setX:function(v){return this.x=v,this},setY:function(v){return this.y=v,this},setFromPoint:function(v){return this.x=v.x,this.y=v.y,this},swap:function(v){var f=this.x,g=this.y;this.x=v.x,this.y=v.y,v.x=f,v.y=g},clone:function(){return new c(this.x,this.y)}}})(e),(function(d){var a=d.fabric||(d.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function c(v){this.status=v,this.points=[]}a.Intersection=c,a.Intersection.prototype={constructor:c,appendPoint:function(v){return this.points.push(v),this},appendPoints:function(v){return this.points=this.points.concat(v),this}},a.Intersection.intersectLineLine=function(v,f,g,m){var C,k=(m.x-g.x)*(v.y-g.y)-(m.y-g.y)*(v.x-g.x),S=(f.x-v.x)*(v.y-g.y)-(f.y-v.y)*(v.x-g.x),O=(m.y-g.y)*(f.x-v.x)-(m.x-g.x)*(f.y-v.y);if(O!==0){var N=k/O,U=S/O;0<=N&&N<=1&&0<=U&&U<=1?(C=new c("Intersection"),C.appendPoint(new a.Point(v.x+N*(f.x-v.x),v.y+N*(f.y-v.y)))):C=new c}else k===0||S===0?C=new c("Coincident"):C=new c("Parallel");return C},a.Intersection.intersectLinePolygon=function(v,f,g){var m=new c,C=g.length,k,S,O,N;for(N=0;N<C;N++)k=g[N],S=g[(N+1)%C],O=c.intersectLineLine(v,f,k,S),m.appendPoints(O.points);return m.points.length>0&&(m.status="Intersection"),m},a.Intersection.intersectPolygonPolygon=function(v,f){var g=new c,m=v.length,C;for(C=0;C<m;C++){var k=v[C],S=v[(C+1)%m],O=c.intersectLinePolygon(k,S,f);g.appendPoints(O.points)}return g.points.length>0&&(g.status="Intersection"),g},a.Intersection.intersectPolygonRectangle=function(v,f,g){var m=f.min(g),C=f.max(g),k=new a.Point(C.x,m.y),S=new a.Point(m.x,C.y),O=c.intersectLinePolygon(m,k,v),N=c.intersectLinePolygon(k,C,v),U=c.intersectLinePolygon(C,S,v),W=c.intersectLinePolygon(S,m,v),q=new c;return q.appendPoints(O.points),q.appendPoints(N.points),q.appendPoints(U.points),q.appendPoints(W.points),q.points.length>0&&(q.status="Intersection"),q}})(e),(function(d){var a=d.fabric||(d.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function c(f){f?this._tryParsingColor(f):this.setSource([0,0,0,1])}a.Color=c,a.Color.prototype={_tryParsingColor:function(f){var g;f in c.colorNameMap&&(f=c.colorNameMap[f]),f==="transparent"&&(g=[255,255,255,0]),g||(g=c.sourceFromHex(f)),g||(g=c.sourceFromRgb(f)),g||(g=c.sourceFromHsl(f)),g||(g=[0,0,0,1]),g&&this.setSource(g)},_rgbToHsl:function(f,g,m){f/=255,g/=255,m/=255;var C,k,S,O=a.util.array.max([f,g,m]),N=a.util.array.min([f,g,m]);if(S=(O+N)/2,O===N)C=k=0;else{var U=O-N;switch(k=S>.5?U/(2-O-N):U/(O+N),O){case f:C=(g-m)/U+(g<m?6:0);break;case g:C=(m-f)/U+2;break;case m:C=(f-g)/U+4;break}C/=6}return[Math.round(C*360),Math.round(k*100),Math.round(S*100)]},getSource:function(){return this._source},setSource:function(f){this._source=f},toRgb:function(){var f=this.getSource();return"rgb("+f[0]+","+f[1]+","+f[2]+")"},toRgba:function(){var f=this.getSource();return"rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+")"},toHsl:function(){var f=this.getSource(),g=this._rgbToHsl(f[0],f[1],f[2]);return"hsl("+g[0]+","+g[1]+"%,"+g[2]+"%)"},toHsla:function(){var f=this.getSource(),g=this._rgbToHsl(f[0],f[1],f[2]);return"hsla("+g[0]+","+g[1]+"%,"+g[2]+"%,"+f[3]+")"},toHex:function(){var f=this.getSource(),g,m,C;return g=f[0].toString(16),g=g.length===1?"0"+g:g,m=f[1].toString(16),m=m.length===1?"0"+m:m,C=f[2].toString(16),C=C.length===1?"0"+C:C,g.toUpperCase()+m.toUpperCase()+C.toUpperCase()},toHexa:function(){var f=this.getSource(),g;return g=Math.round(f[3]*255),g=g.toString(16),g=g.length===1?"0"+g:g,this.toHex()+g.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(f){var g=this.getSource();return g[3]=f,this.setSource(g),this},toGrayscale:function(){var f=this.getSource(),g=parseInt((f[0]*.3+f[1]*.59+f[2]*.11).toFixed(0),10),m=f[3];return this.setSource([g,g,g,m]),this},toBlackWhite:function(f){var g=this.getSource(),m=(g[0]*.3+g[1]*.59+g[2]*.11).toFixed(0),C=g[3];return f=f||127,m=Number(m)<Number(f)?0:255,this.setSource([m,m,m,C]),this},overlayWith:function(f){f instanceof c||(f=new c(f));var g=[],m=this.getAlpha(),C=.5,k=this.getSource(),S=f.getSource(),O;for(O=0;O<3;O++)g.push(Math.round(k[O]*(1-C)+S[O]*C));return g[3]=m,this.setSource(g),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function v(f,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?f+(g-f)*6*m:m<1/2?g:m<2/3?f+(g-f)*(2/3-m)*6:f}a.Color.fromRgb=function(f){return c.fromSource(c.sourceFromRgb(f))},a.Color.sourceFromRgb=function(f){var g=f.match(c.reRGBa);if(g){var m=parseInt(g[1],10)/(/%$/.test(g[1])?100:1)*(/%$/.test(g[1])?255:1),C=parseInt(g[2],10)/(/%$/.test(g[2])?100:1)*(/%$/.test(g[2])?255:1),k=parseInt(g[3],10)/(/%$/.test(g[3])?100:1)*(/%$/.test(g[3])?255:1);return[parseInt(m,10),parseInt(C,10),parseInt(k,10),g[4]?parseFloat(g[4]):1]}},a.Color.fromRgba=c.fromRgb,a.Color.fromHsl=function(f){return c.fromSource(c.sourceFromHsl(f))},a.Color.sourceFromHsl=function(f){var g=f.match(c.reHSLa);if(g){var m=(parseFloat(g[1])%360+360)%360/360,C=parseFloat(g[2])/(/%$/.test(g[2])?100:1),k=parseFloat(g[3])/(/%$/.test(g[3])?100:1),S,O,N;if(C===0)S=O=N=k;else{var U=k<=.5?k*(C+1):k+C-k*C,W=k*2-U;S=v(W,U,m+1/3),O=v(W,U,m),N=v(W,U,m-1/3)}return[Math.round(S*255),Math.round(O*255),Math.round(N*255),g[4]?parseFloat(g[4]):1]}},a.Color.fromHsla=c.fromHsl,a.Color.fromHex=function(f){return c.fromSource(c.sourceFromHex(f))},a.Color.sourceFromHex=function(f){if(f.match(c.reHex)){var g=f.slice(f.indexOf("#")+1),m=g.length===3||g.length===4,C=g.length===8||g.length===4,k=m?g.charAt(0)+g.charAt(0):g.substring(0,2),S=m?g.charAt(1)+g.charAt(1):g.substring(2,4),O=m?g.charAt(2)+g.charAt(2):g.substring(4,6),N=C?m?g.charAt(3)+g.charAt(3):g.substring(6,8):"FF";return[parseInt(k,16),parseInt(S,16),parseInt(O,16),parseFloat((parseInt(N,16)/255).toFixed(2))]}},a.Color.fromSource=function(f){var g=new c;return g.setSource(f),g}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],v=["ns","nesw","ew","nwse"],f={},g="left",m="top",C="right",k="bottom",S="center",O={top:k,bottom:m,left:C,right:g,center:S},N=a.util.radiansToDegrees,U=Math.sign||function(st){return(st>0)-(st<0)||+st};function W(st,At){var St=st.angle+N(Math.atan2(At.y,At.x))+360;return Math.round(St%360/45)}function q(st,At){var St=At.transform.target,Kt=St.canvas,zt=a.util.object.clone(At);zt.target=St,Kt&&Kt.fire("object:"+st,zt),St.fire(st,At)}function J(st,At){var St=At.canvas,Kt=St.uniScaleKey,zt=st[Kt];return St.uniformScaling&&!zt||!St.uniformScaling&&zt}function ne(st){return st.originX===S&&st.originY===S}function ve(st,At,St){var Kt=st.lockScalingX,zt=st.lockScalingY;return!!(Kt&&zt||!At&&(Kt||zt)&&St||Kt&&At==="x"||zt&&At==="y")}function Se(st,At,St){var Kt="not-allowed",zt=J(st,St),Ut="";if(At.x!==0&&At.y===0?Ut="x":At.x===0&&At.y!==0&&(Ut="y"),ve(St,Ut,zt))return Kt;var Vt=W(St,At);return c[Vt]+"-resize"}function Fe(st,At,St){var Kt="not-allowed";if(At.x!==0&&St.lockSkewingY||At.y!==0&&St.lockSkewingX)return Kt;var zt=W(St,At)%4;return v[zt]+"-resize"}function Ue(st,At,St){return st[St.canvas.altActionKey]?f.skewCursorStyleHandler(st,At,St):f.scaleCursorStyleHandler(st,At,St)}function Ze(st,At,St){var Kt=st[St.canvas.altActionKey];if(At.x===0)return Kt?"skewX":"scaleY";if(At.y===0)return Kt?"skewY":"scaleX"}function mt(st,At,St){return St.lockRotation?"not-allowed":At.cursorStyle}function ct(st,At,St,Kt){return{e:st,transform:At,pointer:{x:St,y:Kt}}}function ge(st){return function(At,St,Kt,zt){var Ut=St.target,Vt=Ut.getCenterPoint(),un=Ut.translateToOriginPoint(Vt,St.originX,St.originY),Xt=st(At,St,Kt,zt);return Ut.setPositionByOrigin(un,St.originX,St.originY),Xt}}function ye(st,At){return function(St,Kt,zt,Ut){var Vt=At(St,Kt,zt,Ut);return Vt&&q(st,ct(St,Kt,zt,Ut)),Vt}}function Re(st,At,St,Kt,zt){var Ut=st.target,Vt=Ut.controls[st.corner],un=Ut.canvas.getZoom(),Xt=Ut.padding/un,qt=Ut.toLocalPoint(new a.Point(Kt,zt),At,St);return qt.x>=Xt&&(qt.x-=Xt),qt.x<=-Xt&&(qt.x+=Xt),qt.y>=Xt&&(qt.y-=Xt),qt.y<=Xt&&(qt.y+=Xt),qt.x-=Vt.offsetX,qt.y-=Vt.offsetY,qt}function ft(st){return st.flipX!==st.flipY}function Me(st,At,St,Kt,zt){if(st[At]!==0){var Ut=st._getTransformedDimensions()[Kt],Vt=zt/Ut*st[St];st.set(St,Vt)}}function ce(st,At,St,Kt){var zt=At.target,Ut=zt._getTransformedDimensions(0,zt.skewY),Vt=Re(At,At.originX,At.originY,St,Kt),un=Math.abs(Vt.x*2)-Ut.x,Xt=zt.skewX,qt;un<2?qt=0:(qt=N(Math.atan2(un/zt.scaleX,Ut.y/zt.scaleY)),At.originX===g&&At.originY===k&&(qt=-qt),At.originX===C&&At.originY===m&&(qt=-qt),ft(zt)&&(qt=-qt));var Bn=Xt!==qt;if(Bn){var gt=zt._getTransformedDimensions().y;zt.set("skewX",qt),Me(zt,"skewY","scaleY","y",gt)}return Bn}function le(st,At,St,Kt){var zt=At.target,Ut=zt._getTransformedDimensions(zt.skewX,0),Vt=Re(At,At.originX,At.originY,St,Kt),un=Math.abs(Vt.y*2)-Ut.y,Xt=zt.skewY,qt;un<2?qt=0:(qt=N(Math.atan2(un/zt.scaleY,Ut.x/zt.scaleX)),At.originX===g&&At.originY===k&&(qt=-qt),At.originX===C&&At.originY===m&&(qt=-qt),ft(zt)&&(qt=-qt));var Bn=Xt!==qt;if(Bn){var gt=zt._getTransformedDimensions().x;zt.set("skewY",qt),Me(zt,"skewX","scaleX","x",gt)}return Bn}function ae(st,At,St,Kt){var zt=At.target,Ut=zt.skewX,Vt,un=At.originY;if(zt.lockSkewingX)return!1;if(Ut===0){var Xt=Re(At,S,S,St,Kt);Xt.x>0?Vt=g:Vt=C}else Ut>0&&(Vt=un===m?g:C),Ut<0&&(Vt=un===m?C:g),ft(zt)&&(Vt=Vt===g?C:g);At.originX=Vt;var qt=ye("skewing",ge(ce));return qt(st,At,St,Kt)}function V(st,At,St,Kt){var zt=At.target,Ut=zt.skewY,Vt,un=At.originX;if(zt.lockSkewingY)return!1;if(Ut===0){var Xt=Re(At,S,S,St,Kt);Xt.y>0?Vt=m:Vt=k}else Ut>0&&(Vt=un===g?m:k),Ut<0&&(Vt=un===g?k:m),ft(zt)&&(Vt=Vt===m?k:m);At.originY=Vt;var qt=ye("skewing",ge(le));return qt(st,At,St,Kt)}function me(st,At,St,Kt){var zt=At,Ut=zt.target,Vt=Ut.translateToOriginPoint(Ut.getCenterPoint(),zt.originX,zt.originY);if(Ut.lockRotation)return!1;var un=Math.atan2(zt.ey-Vt.y,zt.ex-Vt.x),Xt=Math.atan2(Kt-Vt.y,St-Vt.x),qt=N(Xt-un+zt.theta),Bn=!0;if(Ut.snapAngle>0){var gt=Ut.snapAngle,dt=Ut.snapThreshold||gt,Pe=Math.ceil(qt/gt)*gt,be=Math.floor(qt/gt)*gt;Math.abs(qt-be)<dt?qt=be:Math.abs(qt-Pe)<dt&&(qt=Pe)}return qt<0&&(qt=360+qt),qt%=360,Bn=Ut.angle!==qt,Ut.angle=qt,Bn}function Ae(st,At,St,Kt,zt){zt=zt||{};var Ut=At.target,Vt=Ut.lockScalingX,un=Ut.lockScalingY,Xt=zt.by,qt,Bn,gt,dt,Pe=J(st,Ut),be=ve(Ut,Xt,Pe),Ee,qe,re=At.gestureScale;if(be)return!1;if(re)Bn=At.scaleX*re,gt=At.scaleY*re;else{if(qt=Re(At,At.originX,At.originY,St,Kt),Ee=Xt!=="y"?U(qt.x):1,qe=Xt!=="x"?U(qt.y):1,At.signX||(At.signX=Ee),At.signY||(At.signY=qe),Ut.lockScalingFlip&&(At.signX!==Ee||At.signY!==qe))return!1;if(dt=Ut._getTransformedDimensions(),Pe&&!Xt){var we=Math.abs(qt.x)+Math.abs(qt.y),Ve=At.original,it=Math.abs(dt.x*Ve.scaleX/Ut.scaleX)+Math.abs(dt.y*Ve.scaleY/Ut.scaleY),We=we/it;Bn=Ve.scaleX*We,gt=Ve.scaleY*We}else Bn=Math.abs(qt.x*Ut.scaleX/dt.x),gt=Math.abs(qt.y*Ut.scaleY/dt.y);ne(At)&&(Bn*=2,gt*=2),At.signX!==Ee&&Xt!=="y"&&(At.originX=O[At.originX],Bn*=-1,At.signX=Ee),At.signY!==qe&&Xt!=="x"&&(At.originY=O[At.originY],gt*=-1,At.signY=qe)}var Et=Ut.scaleX,Ye=Ut.scaleY;return Xt?(Xt==="x"&&Ut.set("scaleX",Bn),Xt==="y"&&Ut.set("scaleY",gt)):(!Vt&&Ut.set("scaleX",Bn),!un&&Ut.set("scaleY",gt)),Et!==Ut.scaleX||Ye!==Ut.scaleY}function Ne(st,At,St,Kt){return Ae(st,At,St,Kt)}function ut(st,At,St,Kt){return Ae(st,At,St,Kt,{by:"x"})}function xt(st,At,St,Kt){return Ae(st,At,St,Kt,{by:"y"})}function et(st,At,St,Kt){return st[At.target.canvas.altActionKey]?f.skewHandlerX(st,At,St,Kt):f.scalingY(st,At,St,Kt)}function Wt(st,At,St,Kt){return st[At.target.canvas.altActionKey]?f.skewHandlerY(st,At,St,Kt):f.scalingX(st,At,St,Kt)}function _t(st,At,St,Kt){var zt=At.target,Ut=Re(At,At.originX,At.originY,St,Kt),Vt=zt.strokeWidth/(zt.strokeUniform?zt.scaleX:1),un=ne(At)?2:1,Xt=zt.width,qt=Math.abs(Ut.x*un/zt.scaleX)-Vt;return zt.set("width",Math.max(qt,0)),Xt!==qt}function Ft(st,At,St,Kt){var zt=At.target,Ut=St-At.offsetX,Vt=Kt-At.offsetY,un=!zt.get("lockMovementX")&&zt.left!==Ut,Xt=!zt.get("lockMovementY")&&zt.top!==Vt;return un&&zt.set("left",Ut),Xt&&zt.set("top",Vt),(un||Xt)&&q("moving",ct(st,At,St,Kt)),un||Xt}f.scaleCursorStyleHandler=Se,f.skewCursorStyleHandler=Fe,f.scaleSkewCursorStyleHandler=Ue,f.rotationWithSnapping=ye("rotating",ge(me)),f.scalingEqually=ye("scaling",ge(Ne)),f.scalingX=ye("scaling",ge(ut)),f.scalingY=ye("scaling",ge(xt)),f.scalingYOrSkewingX=et,f.scalingXOrSkewingY=Wt,f.changeWidth=ye("resizing",ge(_t)),f.skewHandlerX=ae,f.skewHandlerY=V,f.dragHandler=Ft,f.scaleOrSkewActionName=Ze,f.rotationStyleHandler=mt,f.fireEvent=q,f.wrapWithFixedAnchor=ge,f.wrapWithFireEvent=ye,f.getLocalPoint=Re,a.controlsUtils=f})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.degreesToRadians,v=a.controlsUtils;function f(m,C,k,S,O){S=S||{};var N=this.sizeX||S.cornerSize||O.cornerSize,U=this.sizeY||S.cornerSize||O.cornerSize,W=typeof S.transparentCorners<"u"?S.transparentCorners:O.transparentCorners,q=W?"stroke":"fill",J=!W&&(S.cornerStrokeColor||O.cornerStrokeColor),ne=C,ve=k,Se;m.save(),m.fillStyle=S.cornerColor||O.cornerColor,m.strokeStyle=S.cornerStrokeColor||O.cornerStrokeColor,N>U?(Se=N,m.scale(1,U/N),ve=k*N/U):U>N?(Se=U,m.scale(N/U,1),ne=C*U/N):Se=N,m.lineWidth=1,m.beginPath(),m.arc(ne,ve,Se/2,0,2*Math.PI,!1),m[q](),J&&m.stroke(),m.restore()}function g(m,C,k,S,O){S=S||{};var N=this.sizeX||S.cornerSize||O.cornerSize,U=this.sizeY||S.cornerSize||O.cornerSize,W=typeof S.transparentCorners<"u"?S.transparentCorners:O.transparentCorners,q=W?"stroke":"fill",J=!W&&(S.cornerStrokeColor||O.cornerStrokeColor),ne=N/2,ve=U/2;m.save(),m.fillStyle=S.cornerColor||O.cornerColor,m.strokeStyle=S.cornerStrokeColor||O.cornerStrokeColor,m.lineWidth=1,m.translate(C,k),m.rotate(c(O.angle)),m[q+"Rect"](-ne,-ve,N,U),J&&m.strokeRect(-ne,-ve,N,U),m.restore()}v.renderCircleControl=f,v.renderSquareControl=g})(e),(function(d){var a=d.fabric||(d.fabric={});function c(v){for(var f in v)this[f]=v[f]}a.Control=c,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(v,f){return f.cursorStyle},getActionName:function(v,f){return f.actionName},getVisibility:function(v,f){var g=v._controlsVisibility;return g&&typeof g[f]<"u"?g[f]:this.visible},setVisibility:function(v){this.visible=v},positionHandler:function(v,f){var g=a.util.transformPoint({x:this.x*v.x+this.offsetX,y:this.y*v.y+this.offsetY},f);return g},calcCornerCoords:function(v,f,g,m,C){var k,S,O,N,U=C?this.touchSizeX:this.sizeX,W=C?this.touchSizeY:this.sizeY;if(U&&W&&U!==W){var q=Math.atan2(W,U),J=Math.sqrt(U*U+W*W)/2,ne=q-a.util.degreesToRadians(v),ve=Math.PI/2-q-a.util.degreesToRadians(v);k=J*a.util.cos(ne),S=J*a.util.sin(ne),O=J*a.util.cos(ve),N=J*a.util.sin(ve)}else{var Se=U&&W?U:f;J=Se*.7071067812;var ne=a.util.degreesToRadians(45-v);k=O=J*a.util.cos(ne),S=N=J*a.util.sin(ne)}return{tl:{x:g-N,y:m-O},tr:{x:g+k,y:m-S},bl:{x:g-k,y:m+S},br:{x:g+N,y:m+O}}},render:function(v,f,g,m,C){m=m||{},(m.cornerStyle||C.cornerStyle)==="circle"?a.controlsUtils.renderCircleControl.call(this,v,f,g,m,C):a.controlsUtils.renderSquareControl.call(this,v,f,g,m,C)}}})(e),(function(){function d(g,m){var C=g.getAttribute("style"),k=g.getAttribute("offset")||0,S,O,N,U;if(k=parseFloat(k)/(/%$/.test(k)?100:1),k=k<0?0:k>1?1:k,C){var W=C.split(/\s*;\s*/);for(W[W.length-1]===""&&W.pop(),U=W.length;U--;){var q=W[U].split(/\s*:\s*/),J=q[0].trim(),ne=q[1].trim();J==="stop-color"?S=ne:J==="stop-opacity"&&(N=ne)}}return S||(S=g.getAttribute("stop-color")||"rgb(0,0,0)"),N||(N=g.getAttribute("stop-opacity")),S=new t.Color(S),O=S.getAlpha(),N=isNaN(parseFloat(N))?1:parseFloat(N),N*=O*m,{offset:k,color:S.toRgb(),opacity:N}}function a(g){return{x1:g.getAttribute("x1")||0,y1:g.getAttribute("y1")||0,x2:g.getAttribute("x2")||"100%",y2:g.getAttribute("y2")||0}}function c(g){return{x1:g.getAttribute("fx")||g.getAttribute("cx")||"50%",y1:g.getAttribute("fy")||g.getAttribute("cy")||"50%",r1:0,x2:g.getAttribute("cx")||"50%",y2:g.getAttribute("cy")||"50%",r2:g.getAttribute("r")||"50%"}}var v=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(g){g||(g={}),g.coords||(g.coords={});var m,C=this;Object.keys(g).forEach(function(k){C[k]=g[k]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,m={x1:g.coords.x1||0,y1:g.coords.y1||0,x2:g.coords.x2||0,y2:g.coords.y2||0},this.type==="radial"&&(m.r1=g.coords.r1||0,m.r2=g.coords.r2||0),this.coords=m,this.colorStops=g.colorStops.slice()},addColorStop:function(g){for(var m in g){var C=new t.Color(g[m]);this.colorStops.push({offset:parseFloat(m),color:C.toRgb(),opacity:C.getAlpha()})}return this},toObject:function(g){var m={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,m,g),m},toSVG:function(g,O){var C=v(this.coords,!0),k,S,O=O||{},N,U,W=v(this.colorStops,!0),q=C.r1>C.r2,J=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),ne=-this.offsetX,ve=-this.offsetY,Se=!!O.additionalTransform,Fe=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(W.sort(function(ge,ye){return ge.offset-ye.offset}),Fe==="objectBoundingBox"?(ne/=g.width,ve/=g.height):(ne+=g.width/2,ve+=g.height/2),g.type==="path"&&this.gradientUnits!=="percentage"&&(ne-=g.pathOffset.x,ve-=g.pathOffset.y),J[4]-=ne,J[5]-=ve,U='id="SVGID_'+this.id+'" gradientUnits="'+Fe+'"',U+=' gradientTransform="'+(Se?O.additionalTransform+" ":"")+t.util.matrixToSVG(J)+'" ',this.type==="linear"?N=["<linearGradient ",U,' x1="',C.x1,'" y1="',C.y1,'" x2="',C.x2,'" y2="',C.y2,`">
`]:this.type==="radial"&&(N=["<radialGradient ",U,' cx="',q?C.x1:C.x2,'" cy="',q?C.y1:C.y2,'" r="',q?C.r1:C.r2,'" fx="',q?C.x2:C.x1,'" fy="',q?C.y2:C.y1,`">
`]),this.type==="radial"){if(q)for(W=W.concat(),W.reverse(),k=0,S=W.length;k<S;k++)W[k].offset=1-W[k].offset;var Ue=Math.min(C.r1,C.r2);if(Ue>0){var Ze=Math.max(C.r1,C.r2),mt=Ue/Ze;for(k=0,S=W.length;k<S;k++)W[k].offset+=mt*(1-W[k].offset)}}for(k=0,S=W.length;k<S;k++){var ct=W[k];N.push("<stop ",'offset="',ct.offset*100+"%",'" style="stop-color:',ct.color,typeof ct.opacity<"u"?";stop-opacity: "+ct.opacity:";",`"/>
`)}return N.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),N.join("")},toLive:function(g){var m,C=t.util.object.clone(this.coords),k,S;if(this.type){for(this.type==="linear"?m=g.createLinearGradient(C.x1,C.y1,C.x2,C.y2):this.type==="radial"&&(m=g.createRadialGradient(C.x1,C.y1,C.r1,C.x2,C.y2,C.r2)),k=0,S=this.colorStops.length;k<S;k++){var O=this.colorStops[k].color,N=this.colorStops[k].opacity,U=this.colorStops[k].offset;typeof N<"u"&&(O=new t.Color(O).setAlpha(N).toRgba()),m.addColorStop(U,O)}return m}}}),t.util.object.extend(t.Gradient,{fromElement:function(g,m,C,k){var S=parseFloat(C)/(/%$/.test(C)?100:1);S=S<0?0:S>1?1:S,isNaN(S)&&(S=1);var O=g.getElementsByTagName("stop"),N,U=g.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",W=g.getAttribute("gradientTransform")||"",q=[],J,ne,ve=0,Se=0,Fe;for(g.nodeName==="linearGradient"||g.nodeName==="LINEARGRADIENT"?(N="linear",J=a(g)):(N="radial",J=c(g)),ne=O.length;ne--;)q.push(d(O[ne],S));Fe=t.parseTransformAttribute(W),f(m,J,k,U),U==="pixels"&&(ve=-m.left,Se=-m.top);var Ue=new t.Gradient({id:g.getAttribute("id"),type:N,coords:J,colorStops:q,gradientUnits:U,gradientTransform:Fe,offsetX:ve,offsetY:Se});return Ue}});function f(g,m,C,k){var S,O;Object.keys(m).forEach(function(N){S=m[N],S==="Infinity"?O=1:S==="-Infinity"?O=0:(O=parseFloat(m[N],10),typeof S=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(S)&&(O*=.01,k==="pixels"&&((N==="x1"||N==="x2"||N==="r2")&&(O*=C.viewBoxWidth||C.width),(N==="y1"||N==="y2")&&(O*=C.viewBoxHeight||C.height)))),m[N]=O})}})(),(function(){var d=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(a,c){if(a||(a={}),this.id=t.Object.__uid++,this.setOptions(a),!a.source||a.source&&typeof a.source!="string"){c&&c(this);return}else{var v=this;this.source=t.util.createImage(),t.util.loadImage(a.source,function(f,g){v.source=f,c&&c(v,g)},null,this.crossOrigin)}},toObject:function(a){var c=t.Object.NUM_FRACTION_DIGITS,v,f;return typeof this.source.src=="string"?v=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(v=this.source.toDataURL()),f={type:"pattern",source:v,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:d(this.offsetX,c),offsetY:d(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,f,a),f},toSVG:function(a){var c=typeof this.source=="function"?this.source():this.source,v=c.width/a.width,f=c.height/a.height,g=this.offsetX/a.width,m=this.offsetY/a.height,C="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(f=1,m&&(f+=Math.abs(m))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(v=1,g&&(v+=Math.abs(g))),c.src?C=c.src:c.toDataURL&&(C=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+g+'" y="'+m+'" width="'+v+'" height="'+f+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+C+`"></image>
</pattern>
`},setOptions:function(a){for(var c in a)this[c]=a[c]},toLive:function(a){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":a.createPattern(c,this.repeat)}})})(),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(v){typeof v=="string"&&(v=this._parseShadow(v));for(var f in v)this[f]=v[f];this.id=a.Object.__uid++},_parseShadow:function(v){var f=v.trim(),g=a.Shadow.reOffsetsAndBlur.exec(f)||[],m=f.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:m.trim(),offsetX:parseFloat(g[1],10)||0,offsetY:parseFloat(g[2],10)||0,blur:parseFloat(g[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(v){var f=40,g=40,m=a.Object.NUM_FRACTION_DIGITS,C=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-v.angle)),k=20,S=new a.Color(this.color);return v.width&&v.height&&(f=c((Math.abs(C.x)+this.blur)/v.width,m)*100+k,g=c((Math.abs(C.y)+this.blur)/v.height,m)*100+k),v.flipX&&(C.x*=-1),v.flipY&&(C.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+g+'%" height="'+(100+2*g)+'%" x="-'+f+'%" width="'+(100+2*f)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,m)+`"></feGaussianBlur>
	<feOffset dx="`+c(C.x,m)+'" dy="'+c(C.y,m)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+S.toRgb()+'" flood-opacity="'+S.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var v={},f=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(g){this[g]!==f[g]&&(v[g]=this[g])},this),v}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/})(e),(function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var d=t.util.object.extend,a=t.util.getElementOffset,c=t.util.removeFromArray,v=t.util.toFixed,f=t.util.transformPoint,g=t.util.invertTransform,m=t.util.getNodeCanvas,C=t.util.createCanvasElement,k=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(S,O){O||(O={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(S,O)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(S,O){var N=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(S),this._initOptions(O),this.interactive||this._initRetinaScaling(),O.overlayImage&&this.setOverlayImage(O.overlayImage,N),O.backgroundImage&&this.setBackgroundImage(O.backgroundImage,N),O.backgroundColor&&this.setBackgroundColor(O.backgroundColor,N),O.overlayColor&&this.setOverlayColor(O.overlayColor,N),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var S=t.devicePixelRatio;this.__initRetinaScaling(S,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(S,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(S,O,N){O.setAttribute("width",this.width*S),O.setAttribute("height",this.height*S),N.scale(S,S)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(S,O,N){return this.__setBgOverlayImage("overlayImage",S,O,N)},setBackgroundImage:function(S,O,N){return this.__setBgOverlayImage("backgroundImage",S,O,N)},setOverlayColor:function(S,O){return this.__setBgOverlayColor("overlayColor",S,O)},setBackgroundColor:function(S,O){return this.__setBgOverlayColor("backgroundColor",S,O)},__setBgOverlayImage:function(S,O,N,U){return typeof O=="string"?t.util.loadImage(O,function(W,q){if(W){var J=new t.Image(W,U);this[S]=J,J.canvas=this}N&&N(W,q)},this,U&&U.crossOrigin):(U&&O.setOptions(U),this[S]=O,O&&(O.canvas=this),N&&N(O,!1)),this},__setBgOverlayColor:function(S,O,N){return this[S]=O,this._initGradient(O,S),this._initPattern(O,S,N),this},_createCanvasElement:function(){var S=C();if(!S||(S.style||(S.style={}),typeof S.getContext>"u"))throw k;return S},_initOptions:function(S){var O=this.lowerCanvasEl;this._setOptions(S),this.width=this.width||parseInt(O.width,10)||0,this.height=this.height||parseInt(O.height,10)||0,this.lowerCanvasEl.style&&(O.width=this.width,O.height=this.height,O.style.width=this.width+"px",O.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(S){S&&S.getContext?this.lowerCanvasEl=S:this.lowerCanvasEl=t.util.getById(S)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(S,O){return this.setDimensions({width:S},O)},setHeight:function(S,O){return this.setDimensions({height:S},O)},setDimensions:function(S,O){var N;O=O||{};for(var U in S)N=S[U],O.cssOnly||(this._setBackstoreDimension(U,S[U]),N+="px",this.hasLostContext=!0),O.backstoreOnly||this._setCssDimension(U,N);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),O.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(S,O){return this.lowerCanvasEl[S]=O,this.upperCanvasEl&&(this.upperCanvasEl[S]=O),this.cacheCanvasEl&&(this.cacheCanvasEl[S]=O),this[S]=O,this},_setCssDimension:function(S,O){return this.lowerCanvasEl.style[S]=O,this.upperCanvasEl&&(this.upperCanvasEl.style[S]=O),this.wrapperEl&&(this.wrapperEl.style[S]=O),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(S){var O=this._activeObject,N=this.backgroundImage,U=this.overlayImage,W,q,J;for(this.viewportTransform=S,q=0,J=this._objects.length;q<J;q++)W=this._objects[q],W.group||W.setCoords(!0);return O&&O.setCoords(),N&&N.setCoords(!0),U&&U.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(S,O){var N=S,U=this.viewportTransform.slice(0);S=f(S,g(this.viewportTransform)),U[0]=O,U[3]=O;var W=f(S,U);return U[4]+=N.x-W.x,U[5]+=N.y-W.y,this.setViewportTransform(U)},setZoom:function(S){return this.zoomToPoint(new t.Point(0,0),S),this},absolutePan:function(S){var O=this.viewportTransform.slice(0);return O[4]=-S.x,O[5]=-S.y,this.setViewportTransform(O)},relativePan:function(S){return this.absolutePan(new t.Point(-S.x-this.viewportTransform[4],-S.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(S){this.stateful&&S.setupState(),S._set("canvas",this),S.setCoords(),this.fire("object:added",{target:S}),S.fire("added")},_onObjectRemoved:function(S){this.fire("object:removed",{target:S}),S.fire("removed"),delete S.canvas},clearContext:function(S){return S.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var S=this.contextContainer;return this.renderCanvas(S,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var S={},O=this.width,N=this.height,U=g(this.viewportTransform);return S.tl=f({x:0,y:0},U),S.br=f({x:O,y:N},U),S.tr=new t.Point(S.br.x,S.tl.y),S.bl=new t.Point(S.tl.x,S.br.y),this.vptCoords=S,S},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(S,O){var N=this.viewportTransform,U=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(S),t.util.setImageSmoothing(S,this.imageSmoothingEnabled),this.fire("before:render",{ctx:S}),this._renderBackground(S),S.save(),S.transform(N[0],N[1],N[2],N[3],N[4],N[5]),this._renderObjects(S,O),S.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(S),U&&(U.canvas=this,U.shouldCache(),U._transformDone=!0,U.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(S)),this._renderOverlay(S),this.controlsAboveOverlay&&this.interactive&&this.drawControls(S),this.fire("after:render",{ctx:S})},drawClipPathOnCanvas:function(S){var O=this.viewportTransform,N=this.clipPath;S.save(),S.transform(O[0],O[1],O[2],O[3],O[4],O[5]),S.globalCompositeOperation="destination-in",N.transform(S),S.scale(1/N.zoomX,1/N.zoomY),S.drawImage(N._cacheCanvas,-N.cacheTranslationX,-N.cacheTranslationY),S.restore()},_renderObjects:function(S,O){var N,U;for(N=0,U=O.length;N<U;++N)O[N]&&O[N].render(S)},_renderBackgroundOrOverlay:function(S,O){var N=this[O+"Color"],U=this[O+"Image"],W=this.viewportTransform,q=this[O+"Vpt"];if(!(!N&&!U)){if(N){S.save(),S.beginPath(),S.moveTo(0,0),S.lineTo(this.width,0),S.lineTo(this.width,this.height),S.lineTo(0,this.height),S.closePath(),S.fillStyle=N.toLive?N.toLive(S,this):N,q&&S.transform(W[0],W[1],W[2],W[3],W[4],W[5]),S.transform(1,0,0,1,N.offsetX||0,N.offsetY||0);var J=N.gradientTransform||N.patternTransform;J&&S.transform(J[0],J[1],J[2],J[3],J[4],J[5]),S.fill(),S.restore()}if(U){S.save();var ne=this.skipOffscreen;this.skipOffscreen=q,q&&S.transform(W[0],W[1],W[2],W[3],W[4],W[5]),U.render(S),this.skipOffscreen=ne,S.restore()}}},_renderBackground:function(S){this._renderBackgroundOrOverlay(S,"background")},_renderOverlay:function(S){this._renderBackgroundOrOverlay(S,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(S){return this._centerObject(S,new t.Point(this.getCenterPoint().x,S.getCenterPoint().y))},centerObjectV:function(S){return this._centerObject(S,new t.Point(S.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(S){var O=this.getCenterPoint();return this._centerObject(S,O)},viewportCenterObject:function(S){var O=this.getVpCenter();return this._centerObject(S,O)},viewportCenterObjectH:function(S){var O=this.getVpCenter();return this._centerObject(S,new t.Point(O.x,S.getCenterPoint().y)),this},viewportCenterObjectV:function(S){var O=this.getVpCenter();return this._centerObject(S,new t.Point(S.getCenterPoint().x,O.y))},getVpCenter:function(){var S=this.getCenterPoint(),O=g(this.viewportTransform);return f(S,O)},_centerObject:function(S,O){return S.setPositionByOrigin(O,"center","center"),S.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(S){return this.toDatalessObject(S)},toObject:function(S){return this._toObjectMethod("toObject",S)},toDatalessObject:function(S){return this._toObjectMethod("toDatalessObject",S)},_toObjectMethod:function(S,O){var N=this.clipPath,U={version:t.version,objects:this._toObjects(S,O)};return N&&!N.excludeFromExport&&(U.clipPath=this._toObject(this.clipPath,S,O)),d(U,this.__serializeBgOverlay(S,O)),t.util.populateWithProperties(this,U,O),U},_toObjects:function(S,O){return this._objects.filter(function(N){return!N.excludeFromExport}).map(function(N){return this._toObject(N,S,O)},this)},_toObject:function(S,O,N){var U;this.includeDefaultValues||(U=S.includeDefaultValues,S.includeDefaultValues=!1);var W=S[O](N);return this.includeDefaultValues||(S.includeDefaultValues=U),W},__serializeBgOverlay:function(S,O){var N={},U=this.backgroundImage,W=this.overlayImage,q=this.backgroundColor,J=this.overlayColor;return q&&q.toObject?q.excludeFromExport||(N.background=q.toObject(O)):q&&(N.background=q),J&&J.toObject?J.excludeFromExport||(N.overlay=J.toObject(O)):J&&(N.overlay=J),U&&!U.excludeFromExport&&(N.backgroundImage=this._toObject(U,S,O)),W&&!W.excludeFromExport&&(N.overlayImage=this._toObject(W,S,O)),N},svgViewportTransformation:!0,toSVG:function(S,O){S||(S={}),S.reviver=O;var N=[];return this._setSVGPreamble(N,S),this._setSVGHeader(N,S),this.clipPath&&N.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(N,"background"),this._setSVGBgOverlayImage(N,"backgroundImage",O),this._setSVGObjects(N,O),this.clipPath&&N.push(`</g>
`),this._setSVGBgOverlayColor(N,"overlay"),this._setSVGBgOverlayImage(N,"overlayImage",O),N.push("</svg>"),N.join("")},_setSVGPreamble:function(S,O){O.suppressPreamble||S.push('<?xml version="1.0" encoding="',O.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(S,O){var N=O.width||this.width,U=O.height||this.height,W,q='viewBox="0 0 '+this.width+" "+this.height+'" ',J=t.Object.NUM_FRACTION_DIGITS;O.viewBox?q='viewBox="'+O.viewBox.x+" "+O.viewBox.y+" "+O.viewBox.width+" "+O.viewBox.height+'" ':this.svgViewportTransformation&&(W=this.viewportTransform,q='viewBox="'+v(-W[4]/W[0],J)+" "+v(-W[5]/W[3],J)+" "+v(this.width/W[0],J)+" "+v(this.height/W[3],J)+'" '),S.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',N,'" ','height="',U,'" ',q,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(O),`</defs>
`)},createSVGClipPathMarkup:function(S){var O=this.clipPath;return O?(O.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+O.clipPathId+`" >
`+this.clipPath.toClipPathSVG(S.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var S=this,O=["background","overlay"].map(function(N){var U=S[N+"Color"];if(U&&U.toLive){var W=S[N+"Vpt"],q=S.viewportTransform,J={width:S.width/(W?q[0]:1),height:S.height/(W?q[3]:1)};return U.toSVG(J,{additionalTransform:W?t.util.matrixToSVG(q):""})}});return O.join("")},createSVGFontFacesMarkup:function(){var S="",O={},N,U,W,q,J,ne,ve,Se,Fe,Ue=t.fontPaths,Ze=[];for(this._objects.forEach(function ct(ge){Ze.push(ge),ge._objects&&ge._objects.forEach(ct)}),Se=0,Fe=Ze.length;Se<Fe;Se++)if(N=Ze[Se],U=N.fontFamily,!(N.type.indexOf("text")===-1||O[U]||!Ue[U])&&(O[U]=!0,!!N.styles)){W=N.styles;for(J in W){q=W[J];for(ve in q)ne=q[ve],U=ne.fontFamily,!O[U]&&Ue[U]&&(O[U]=!0)}}for(var mt in O)S+=[`		@font-face {
`,"			font-family: '",mt,`';
`,"			src: url('",Ue[mt],`');
`,`		}
`].join("");return S&&(S=['	<style type="text/css">',`<![CDATA[
`,S,"]]>",`</style>
`].join("")),S},_setSVGObjects:function(S,O){var N,U,W,q=this._objects;for(U=0,W=q.length;U<W;U++)N=q[U],!N.excludeFromExport&&this._setSVGObject(S,N,O)},_setSVGObject:function(S,O,N){S.push(O.toSVG(N))},_setSVGBgOverlayImage:function(S,O,N){this[O]&&!this[O].excludeFromExport&&this[O].toSVG&&S.push(this[O].toSVG(N))},_setSVGBgOverlayColor:function(S,O){var N=this[O+"Color"],U=this.viewportTransform,W=this.width,q=this.height;if(N)if(N.toLive){var J=N.repeat,ne=t.util.invertTransform(U),ve=this[O+"Vpt"],Se=ve?t.util.matrixToSVG(ne):"";S.push('<rect transform="'+Se+" translate(",W/2,",",q/2,')"',' x="',N.offsetX-W/2,'" y="',N.offsetY-q/2,'" ','width="',J==="repeat-y"||J==="no-repeat"?N.source.width:W,'" height="',J==="repeat-x"||J==="no-repeat"?N.source.height:q,'" fill="url(#SVGID_'+N.id+')"',`></rect>
`)}else S.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',N,'"',`></rect>
`)},sendToBack:function(S){if(!S)return this;var O=this._activeObject,N,U,W;if(S===O&&S.type==="activeSelection")for(W=O._objects,N=W.length;N--;)U=W[N],c(this._objects,U),this._objects.unshift(U);else c(this._objects,S),this._objects.unshift(S);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(S){if(!S)return this;var O=this._activeObject,N,U,W;if(S===O&&S.type==="activeSelection")for(W=O._objects,N=0;N<W.length;N++)U=W[N],c(this._objects,U),this._objects.push(U);else c(this._objects,S),this._objects.push(S);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(S,O){if(!S)return this;var N=this._activeObject,U,W,q,J,ne,ve=0;if(S===N&&S.type==="activeSelection")for(ne=N._objects,U=0;U<ne.length;U++)W=ne[U],q=this._objects.indexOf(W),q>0+ve&&(J=q-1,c(this._objects,W),this._objects.splice(J,0,W)),ve++;else q=this._objects.indexOf(S),q!==0&&(J=this._findNewLowerIndex(S,q,O),c(this._objects,S),this._objects.splice(J,0,S));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(S,O,N){var U,W;if(N)for(U=O,W=O-1;W>=0;--W){var q=S.intersectsWithObject(this._objects[W])||S.isContainedWithinObject(this._objects[W])||this._objects[W].isContainedWithinObject(S);if(q){U=W;break}}else U=O-1;return U},bringForward:function(S,O){if(!S)return this;var N=this._activeObject,U,W,q,J,ne,ve=0;if(S===N&&S.type==="activeSelection")for(ne=N._objects,U=ne.length;U--;)W=ne[U],q=this._objects.indexOf(W),q<this._objects.length-1-ve&&(J=q+1,c(this._objects,W),this._objects.splice(J,0,W)),ve++;else q=this._objects.indexOf(S),q!==this._objects.length-1&&(J=this._findNewUpperIndex(S,q,O),c(this._objects,S),this._objects.splice(J,0,S));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(S,O,N){var U,W,q;if(N)for(U=O,W=O+1,q=this._objects.length;W<q;++W){var J=S.intersectsWithObject(this._objects[W])||S.isContainedWithinObject(this._objects[W])||this._objects[W].isContainedWithinObject(S);if(J){U=W;break}}else U=O+1;return U},moveTo:function(S,O){return c(this._objects,S),this._objects.splice(O,0,S),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(S){S.dispose&&S.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),d(t.StaticCanvas.prototype,t.Observable),d(t.StaticCanvas.prototype,t.Collection),d(t.StaticCanvas.prototype,t.DataURLExporter),d(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(S){var O=C();if(!O||!O.getContext)return null;var N=O.getContext("2d");return N&&S==="setLineDash"?typeof N.setLineDash<"u":null}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var S=m(this.lowerCanvasEl);return S&&S.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(S){var O=m(this.lowerCanvasEl);return O&&O.createJPEGStream(S)})})(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(d){d.strokeStyle=this.color,d.lineWidth=this.width,d.lineCap=this.strokeLineCap,d.miterLimit=this.strokeMiterLimit,d.lineJoin=this.strokeLineJoin,d.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(d){var a=this.canvas.viewportTransform;d.save(),d.transform(a[0],a[1],a[2],a[3],a[4],a[5])},_setShadow:function(){if(this.shadow){var d=this.canvas,a=this.shadow,c=d.contextTop,v=d.getZoom();d&&d._isRetinaScaling()&&(v*=t.devicePixelRatio),c.shadowColor=a.color,c.shadowBlur=a.blur*v,c.shadowOffsetX=a.offsetX*v,c.shadowOffsetY=a.offsetY*v}},needsFullRender:function(){var d=new t.Color(this.color);return d.getAlpha()<1||!!this.shadow},_resetShadow:function(){var d=this.canvas.contextTop;d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0},_isOutSideCanvas:function(d){return d.x<0||d.x>this.canvas.getWidth()||d.y<0||d.y>this.canvas.getHeight()}}),(function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(d){this.canvas=d,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(d,a,c){var v=a.midPointFrom(c);return d.quadraticCurveTo(a.x,a.y,v.x,v.y),v},onMouseDown:function(d,a){this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],this._prepareForDrawing(d),this._captureDrawingPath(d),this._render())},onMouseMove:function(d,a){if(this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d))&&this._captureDrawingPath(d)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,v=c.length,f=this.canvas.contextTop;this._saveAndTransform(f),this.oldEnd&&(f.beginPath(),f.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(f,c[v-2],c[v-1],!0),f.stroke(),f.restore()}},onMouseUp:function(d){return this.canvas._isMainEvent(d.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(d){var a=new t.Point(d.x,d.y);this._reset(),this._addPoint(a),this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(d){return this._points.length>1&&d.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(d),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(d){var a=new t.Point(d.x,d.y);return this._addPoint(a)},_render:function(d){var a,c,v=this._points[0],f=this._points[1];if(d=d||this.canvas.contextTop,this._saveAndTransform(d),d.beginPath(),this._points.length===2&&v.x===f.x&&v.y===f.y){var g=this.width/1e3;v=new t.Point(v.x,v.y),f=new t.Point(f.x,f.y),v.x-=g,f.x+=g}for(d.moveTo(v.x,v.y),a=1,c=this._points.length;a<c;a++)this._drawSegment(d,v,f),v=this._points[a],f=this._points[a+1];d.lineTo(v.x,v.y),d.stroke(),d.restore()},convertPointsToSVGPath:function(d){var a=this.width/1e3;return t.util.getSmoothPathFromPoints(d,a)},_isEmptySVGPath:function(d){var a=t.util.joinPath(d);return a==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(d){var a=new t.Path(d,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,a.shadow=new t.Shadow(this.shadow)),a},decimatePoints:function(d,a){if(d.length<=2)return d;var c=this.canvas.getZoom(),v=Math.pow(a/c,2),f,g=d.length-1,m=d[0],C=[m],k;for(f=1;f<g-1;f++)k=Math.pow(m.x-d[f].x,2)+Math.pow(m.y-d[f].y,2),k>=v&&(m=d[f],C.push(m));return C.push(d[g]),C},_finalizeAndAddPath:function(){var d=this.canvas.contextTop;d.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var a=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(a)){this.canvas.requestRenderAll();return}var c=this.createPath(a);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})})(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(d){this.canvas=d,this.points=[]},drawDot:function(d){var a=this.addPoint(d),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,a),c.restore()},dot:function(d,a){d.fillStyle=a.fill,d.beginPath(),d.arc(a.x,a.y,a.radius,0,Math.PI*2,!1),d.closePath(),d.fill()},onMouseDown:function(d){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(d)},_render:function(){var d=this.canvas.contextTop,a,c,v=this.points;for(this._saveAndTransform(d),a=0,c=v.length;a<c;a++)this.dot(d,v[a]);d.restore()},onMouseMove:function(d){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(d),this._render()):this.drawDot(d))},onMouseUp:function(){var d=this.canvas.renderOnAddRemove,a,c;this.canvas.renderOnAddRemove=!1;var v=[];for(a=0,c=this.points.length;a<c;a++){var f=this.points[a],g=new t.Circle({radius:f.radius,left:f.x,top:f.y,originX:"center",originY:"center",fill:f.fill});this.shadow&&(g.shadow=new t.Shadow(this.shadow)),v.push(g)}var m=new t.Group(v);m.canvas=this.canvas,this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.fire("path:created",{path:m}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=d,this.canvas.requestRenderAll()},addPoint:function(d){var a=new t.Point(d.x,d.y),c=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,v=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return a.radius=c,a.fill=v,this.points.push(a),a}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(d){this.canvas=d,this.sprayChunks=[]},onMouseDown:function(d){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(d),this.render(this.sprayChunkPoints)},onMouseMove:function(d){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d)||(this.addSprayChunk(d),this.render(this.sprayChunkPoints))},onMouseUp:function(){var d=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var a=[],c=0,v=this.sprayChunks.length;c<v;c++)for(var f=this.sprayChunks[c],g=0,m=f.length;g<m;g++){var C=new t.Rect({width:f[g].width,height:f[g].width,left:f[g].x+1,top:f[g].y+1,originX:"center",originY:"center",fill:this.color});a.push(C)}this.optimizeOverlapping&&(a=this._getOptimizedRects(a));var k=new t.Group(a);this.shadow&&k.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:k}),this.canvas.add(k),this.canvas.fire("path:created",{path:k}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=d,this.canvas.requestRenderAll()},_getOptimizedRects:function(d){var a={},c,v,f;for(v=0,f=d.length;v<f;v++)c=d[v].left+""+d[v].top,a[c]||(a[c]=d[v]);var g=[];for(c in a)g.push(a[c]);return g},render:function(d){var a=this.canvas.contextTop,c,v;for(a.fillStyle=this.color,this._saveAndTransform(a),c=0,v=d.length;c<v;c++){var f=d[c];typeof f.opacity<"u"&&(a.globalAlpha=f.opacity),a.fillRect(f.x,f.y,f.width,f.width)}a.restore()},_render:function(){var d=this.canvas.contextTop,a,c;for(d.fillStyle=this.color,this._saveAndTransform(d),a=0,c=this.sprayChunks.length;a<c;a++)this.render(this.sprayChunks[a]);d.restore()},addSprayChunk:function(d){this.sprayChunkPoints=[];var a,c,v,f=this.width/2,g;for(g=0;g<this.density;g++){a=t.util.getRandomInt(d.x-f,d.x+f),c=t.util.getRandomInt(d.y-f,d.y+f),this.dotWidthVariance?v=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):v=this.dotWidth;var m=new t.Point(a,c);m.width=v,this.randomOpacity&&(m.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(m)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var d=20,a=5,c=t.util.createCanvasElement(),v=c.getContext("2d");return c.width=c.height=d+a,v.fillStyle=this.color,v.beginPath(),v.arc(d/2,d/2,d/2,0,Math.PI*2,!1),v.closePath(),v.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(d){return d.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(d){this.callSuper("_setBrushStyles",d),d.strokeStyle=this.getPattern(d)},createPath:function(d){var a=this.callSuper("createPath",d),c=a._getLeftTopCoords().scalarAdd(a.strokeWidth/2);return a.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),a}}),(function(){var d=t.util.getPointer,a=t.util.degreesToRadians,c=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(f,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,g),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var f=this.getActiveObjects(),g,m,C;if(f.length>0&&!this.preserveObjectStacking){m=[],C=[];for(var k=0,S=this._objects.length;k<S;k++)g=this._objects[k],f.indexOf(g)===-1?m.push(g):C.push(g);f.length>1&&(this._activeObject._objects=C),m.push.apply(m,C)}else m=this._objects;return m},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var f=this.contextContainer;return this.renderCanvas(f,this._chooseObjectsToRender()),this},renderTopLayer:function(f){f.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(f),this.contextTopDirty=!0),f.restore()},renderTop:function(){var f=this.contextTop;return this.clearContext(f),this.renderTopLayer(f),this.fire("after:render"),this},_normalizePointer:function(f,g){var m=f.calcTransformMatrix(),C=t.util.invertTransform(m),k=this.restorePointerVpt(g);return t.util.transformPoint(k,C)},isTargetTransparent:function(f,g,m){if(f.shouldCache()&&f._cacheCanvas&&f!==this._activeObject){var C=this._normalizePointer(f,{x:g,y:m}),k=Math.max(f.cacheTranslationX+C.x*f.zoomX,0),S=Math.max(f.cacheTranslationY+C.y*f.zoomY,0),W=t.util.isTransparent(f._cacheContext,Math.round(k),Math.round(S),this.targetFindTolerance);return W}var O=this.contextCache,N=f.selectionBackgroundColor,U=this.viewportTransform;f.selectionBackgroundColor="",this.clearContext(O),O.save(),O.transform(U[0],U[1],U[2],U[3],U[4],U[5]),f.render(O),O.restore(),f.selectionBackgroundColor=N;var W=t.util.isTransparent(O,g,m,this.targetFindTolerance);return W},_isSelectionKeyPressed:function(f){var g=!1;return Array.isArray(this.selectionKey)?g=!!this.selectionKey.find(function(m){return f[m]===!0}):g=f[this.selectionKey],g},_shouldClearSelection:function(f,g){var m=this.getActiveObjects(),C=this._activeObject;return!g||g&&C&&m.length>1&&m.indexOf(g)===-1&&C!==g&&!this._isSelectionKeyPressed(f)||g&&!g.evented||g&&!g.selectable&&C&&C!==g},_shouldCenterTransform:function(f,g,m){if(f){var C;return g==="scale"||g==="scaleX"||g==="scaleY"||g==="resizing"?C=this.centeredScaling||f.centeredScaling:g==="rotate"&&(C=this.centeredRotation||f.centeredRotation),C?!m:m}},_getOriginFromCorner:function(f,g){var m={x:f.originX,y:f.originY};return g==="ml"||g==="tl"||g==="bl"?m.x="right":(g==="mr"||g==="tr"||g==="br")&&(m.x="left"),g==="tl"||g==="mt"||g==="tr"?m.y="bottom":(g==="bl"||g==="mb"||g==="br")&&(m.y="top"),m},_getActionFromCorner:function(f,g,m,C){if(!g||!f)return"drag";var k=C.controls[g];return k.getActionName(m,k,C)},_setupCurrentTransform:function(f,g,m){if(g){var C=this.getPointer(f),k=g.__corner,S=g.controls[k],O=m&&k?S.getActionHandler(f,g,S):t.controlsUtils.dragHandler,N=this._getActionFromCorner(m,k,f,g),U=this._getOriginFromCorner(g,k),W=f[this.centeredKey],q={target:g,action:N,actionHandler:O,corner:k,scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,offsetX:C.x-g.left,offsetY:C.y-g.top,originX:U.x,originY:U.y,ex:C.x,ey:C.y,lastX:C.x,lastY:C.y,theta:a(g.angle),width:g.width*g.scaleX,shiftKey:f.shiftKey,altKey:W,original:t.util.saveObjectTransform(g)};this._shouldCenterTransform(g,N,W)&&(q.originX="center",q.originY="center"),q.original.originX=U.x,q.original.originY=U.y,this._currentTransform=q,this._beforeTransform(f)}},setCursor:function(f){this.upperCanvasEl.style.cursor=f},_drawSelection:function(f){var g=this._groupSelector,m=new t.Point(g.ex,g.ey),C=t.util.transformPoint(m,this.viewportTransform),k=new t.Point(g.ex+g.left,g.ey+g.top),S=t.util.transformPoint(k,this.viewportTransform),O=Math.min(C.x,S.x),N=Math.min(C.y,S.y),U=Math.max(C.x,S.x),W=Math.max(C.y,S.y),q=this.selectionLineWidth/2;this.selectionColor&&(f.fillStyle=this.selectionColor,f.fillRect(O,N,U-O,W-N)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(f.lineWidth=this.selectionLineWidth,f.strokeStyle=this.selectionBorderColor,O+=q,N+=q,U-=q,W-=q,t.Object.prototype._setLineDash.call(this,f,this.selectionDashArray),f.strokeRect(O,N,U-O,W-N))},findTarget:function(f,g){if(!this.skipTargetFind){var m=!0,C=this.getPointer(f,m),k=this._activeObject,S=this.getActiveObjects(),O,N,U=c(f),W=S.length>1&&!g||S.length===1;if(this.targets=[],W&&k._findTargetCorner(C,U)||S.length>1&&!g&&k===this._searchPossibleTargets([k],C))return k;if(S.length===1&&k===this._searchPossibleTargets([k],C))if(this.preserveObjectStacking)O=k,N=this.targets,this.targets=[];else return k;var q=this._searchPossibleTargets(this._objects,C);return f[this.altSelectionKey]&&q&&O&&q!==O&&(q=O,this.targets=N),q}},_checkTarget:function(f,g,m){if(g&&g.visible&&g.evented&&g.containsPoint(f))if((this.perPixelTargetFind||g.perPixelTargetFind)&&!g.isEditing){var C=this.isTargetTransparent(g,m.x,m.y);if(!C)return!0}else return!0},_searchPossibleTargets:function(f,g){for(var m,C=f.length,k;C--;){var S=f[C],O=S.group?this._normalizePointer(S.group,g):g;if(this._checkTarget(O,S,g)){m=f[C],m.subTargetCheck&&m instanceof t.Group&&(k=this._searchPossibleTargets(m._objects,g),k&&this.targets.push(k));break}}return m},restorePointerVpt:function(f){return t.util.transformPoint(f,t.util.invertTransform(this.viewportTransform))},getPointer:function(f,g){if(this._absolutePointer&&!g)return this._absolutePointer;if(this._pointer&&g)return this._pointer;var m=d(f),C=this.upperCanvasEl,k=C.getBoundingClientRect(),S=k.width||0,O=k.height||0,N;(!S||!O)&&("top"in k&&"bottom"in k&&(O=Math.abs(k.top-k.bottom)),"right"in k&&"left"in k&&(S=Math.abs(k.right-k.left))),this.calcOffset(),m.x=m.x-this._offset.left,m.y=m.y-this._offset.top,g||(m=this.restorePointerVpt(m));var U=this.getRetinaScaling();return U!==1&&(m.x/=U,m.y/=U),S===0||O===0?N={width:1,height:1}:N={width:C.width/S,height:C.height/O},{x:m.x*N.width,y:m.y*N.height}},_createUpperCanvas:function(){var f=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),g=this.lowerCanvasEl,m=this.upperCanvasEl;m?m.className="":(m=this._createCanvasElement(),this.upperCanvasEl=m),t.util.addClass(m,"upper-canvas "+f),this.wrapperEl.appendChild(m),this._copyCanvasStyle(g,m),this._applyCanvasStyle(m),this.contextTop=m.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(f){var g=this.width||f.width,m=this.height||f.height;t.util.setStyle(f,{position:"absolute",width:g+"px",height:m+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),f.width=g,f.height=m,t.util.makeElementUnselectable(f)},_copyCanvasStyle:function(f,g){g.style.cssText=f.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var f=this._activeObject;return f?f.type==="activeSelection"&&f._objects?f._objects.slice(0):[f]:[]},_onObjectRemoved:function(f){f===this._activeObject&&(this.fire("before:selection:cleared",{target:f}),this._discardActiveObject(),this.fire("selection:cleared",{target:f}),f.fire("deselected")),f===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",f)},_fireSelectionEvents:function(f,g){var m=!1,C=this.getActiveObjects(),k=[],S=[];f.forEach(function(O){C.indexOf(O)===-1&&(m=!0,O.fire("deselected",{e:g,target:O}),S.push(O))}),C.forEach(function(O){f.indexOf(O)===-1&&(m=!0,O.fire("selected",{e:g,target:O}),k.push(O))}),f.length>0&&C.length>0?m&&this.fire("selection:updated",{e:g,selected:k,deselected:S}):C.length>0?this.fire("selection:created",{e:g,selected:k}):f.length>0&&this.fire("selection:cleared",{e:g,deselected:S})},setActiveObject:function(f,g){var m=this.getActiveObjects();return this._setActiveObject(f,g),this._fireSelectionEvents(m,g),this},_setActiveObject:function(f,g){return this._activeObject===f||!this._discardActiveObject(g,f)||f.onSelect({e:g})?!1:(this._activeObject=f,!0)},_discardActiveObject:function(f,g){var m=this._activeObject;if(m){if(m.onDeselect({e:f,object:g}))return!1;this._activeObject=null}return!0},discardActiveObject:function(f){var g=this.getActiveObjects(),m=this.getActiveObject();return g.length&&this.fire("before:selection:cleared",{target:m,e:f}),this._discardActiveObject(f),this._fireSelectionEvents(g,f),this},dispose:function(){var f=this.wrapperEl;return this.removeListeners(),f.removeChild(this.upperCanvasEl),f.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(g){t.util.cleanUpJsdomNode(this[g]),this[g]=void 0}).bind(this)),f.parentNode&&f.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(f){var g=this._activeObject;g&&g._renderControls(f)},_toObject:function(f,g,m){var C=this._realizeGroupTransformOnObject(f),k=this.callSuper("_toObject",f,g,m);return this._unwindGroupTransformOnObject(f,C),k},_realizeGroupTransformOnObject:function(f){if(f.group&&f.group.type==="activeSelection"&&this._activeObject===f.group){var g=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],m={};return g.forEach(function(C){m[C]=f[C]}),t.util.addTransformToObject(f,this._activeObject.calcOwnMatrix()),m}else return null},_unwindGroupTransformOnObject:function(f,g){g&&f.set(g)},_setSVGObject:function(f,g,m){var C=this._realizeGroupTransformOnObject(g);this.callSuper("_setSVGObject",f,g,m),this._unwindGroupTransformOnObject(g,C)},setViewportTransform:function(f){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,f)}});for(var v in t.StaticCanvas)v!=="prototype"&&(t.Canvas[v]=t.StaticCanvas[v])})(),(function(){var d=t.util.addListener,a=t.util.removeListener,c=3,v=2,f=1,g={passive:!1};function m(C,k){return C.button&&C.button===k-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(d,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(C,k){var S=this.upperCanvasEl,O=this._getEventPrefix();C(t.window,"resize",this._onResize),C(S,O+"down",this._onMouseDown),C(S,O+"move",this._onMouseMove,g),C(S,O+"out",this._onMouseOut),C(S,O+"enter",this._onMouseEnter),C(S,"wheel",this._onMouseWheel),C(S,"contextmenu",this._onContextMenu),C(S,"dblclick",this._onDoubleClick),C(S,"dragover",this._onDragOver),C(S,"dragenter",this._onDragEnter),C(S,"dragleave",this._onDragLeave),C(S,"drop",this._onDrop),this.enablePointerEvents||C(S,"touchstart",this._onTouchStart,g),typeof eventjs<"u"&&k in eventjs&&(eventjs[k](S,"gesture",this._onGesture),eventjs[k](S,"drag",this._onDrag),eventjs[k](S,"orientation",this._onOrientationChange),eventjs[k](S,"shake",this._onShake),eventjs[k](S,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var C=this._getEventPrefix();a(t.document,C+"up",this._onMouseUp),a(t.document,"touchend",this._onTouchEnd,g),a(t.document,C+"move",this._onMouseMove,g),a(t.document,"touchmove",this._onMouseMove,g)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(C,k){this.__onTransformGesture&&this.__onTransformGesture(C,k)},_onDrag:function(C,k){this.__onDrag&&this.__onDrag(C,k)},_onMouseWheel:function(C){this.__onMouseWheel(C)},_onMouseOut:function(C){var k=this._hoveredTarget;this.fire("mouse:out",{target:k,e:C}),this._hoveredTarget=null,k&&k.fire("mouseout",{e:C});var S=this;this._hoveredTargets.forEach(function(O){S.fire("mouse:out",{target:O,e:C}),O&&O.fire("mouseout",{e:C})}),this._hoveredTargets=[]},_onMouseEnter:function(C){!this._currentTransform&&!this.findTarget(C)&&(this.fire("mouse:over",{target:null,e:C}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(C,k){this.__onOrientationChange&&this.__onOrientationChange(C,k)},_onShake:function(C,k){this.__onShake&&this.__onShake(C,k)},_onLongPress:function(C,k){this.__onLongPress&&this.__onLongPress(C,k)},_onDragOver:function(C){C.preventDefault();var k=this._simpleEventHandler("dragover",C);this._fireEnterLeaveEvents(k,C)},_onDrop:function(C){return this._simpleEventHandler("drop:before",C),this._simpleEventHandler("drop",C)},_onContextMenu:function(C){return this.stopContextMenu&&(C.stopPropagation(),C.preventDefault()),!1},_onDoubleClick:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"dblclick"),this._resetTransformEventData(C)},getPointerId:function(C){var k=C.changedTouches;return k?k[0]&&k[0].identifier:this.enablePointerEvents?C.pointerId:-1},_isMainEvent:function(C){return C.isPrimary===!0?!0:C.isPrimary===!1?!1:C.type==="touchend"&&C.touches.length===0?!0:C.changedTouches?C.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(C){C.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(C)),this.__onMouseDown(C),this._resetTransformEventData();var k=this.upperCanvasEl,S=this._getEventPrefix();d(t.document,"touchend",this._onTouchEnd,g),d(t.document,"touchmove",this._onMouseMove,g),a(k,S+"down",this._onMouseDown)},_onMouseDown:function(C){this.__onMouseDown(C),this._resetTransformEventData();var k=this.upperCanvasEl,S=this._getEventPrefix();a(k,S+"move",this._onMouseMove,g),d(t.document,S+"up",this._onMouseUp),d(t.document,S+"move",this._onMouseMove,g)},_onTouchEnd:function(C){if(!(C.touches.length>0)){this.__onMouseUp(C),this._resetTransformEventData(),this.mainTouchId=null;var k=this._getEventPrefix();a(t.document,"touchend",this._onTouchEnd,g),a(t.document,"touchmove",this._onMouseMove,g);var S=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){d(S.upperCanvasEl,k+"down",S._onMouseDown),S._willAddMouseDown=0},400)}},_onMouseUp:function(C){this.__onMouseUp(C),this._resetTransformEventData();var k=this.upperCanvasEl,S=this._getEventPrefix();this._isMainEvent(C)&&(a(t.document,S+"up",this._onMouseUp),a(t.document,S+"move",this._onMouseMove,g),d(k,S+"move",this._onMouseMove,g))},_onMouseMove:function(C){!this.allowTouchScrolling&&C.preventDefault&&C.preventDefault(),this.__onMouseMove(C)},_onResize:function(){this.calcOffset()},_shouldRender:function(C){var k=this._activeObject;return!!k!=!!C||k&&C&&k!==C?!0:(k&&k.isEditing,!1)},__onMouseUp:function(C){var k,S=this._currentTransform,O=this._groupSelector,N=!1,U=!O||O.left===0&&O.top===0;if(this._cacheTransformEventData(C),k=this._target,this._handleEvent(C,"up:before"),m(C,c)){this.fireRightClick&&this._handleEvent(C,"up",c,U);return}if(m(C,v)){this.fireMiddleClick&&this._handleEvent(C,"up",v,U),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(C);return}if(this._isMainEvent(C)){if(S&&(this._finalizeCurrentTransform(C),N=S.actionPerformed),!U){var W=k===this._activeObject;this._maybeGroupObjects(C),N||(N=this._shouldRender(k)||!W&&k===this._activeObject)}var q,J;if(k){if(q=k._findTargetCorner(this.getPointer(C,!0),t.util.isTouchEvent(C)),k.selectable&&k!==this._activeObject&&k.activeOn==="up")this.setActiveObject(k,C),N=!0;else{var ne=k.controls[q],ve=ne&&ne.getMouseUpHandler(C,k,ne);ve&&(J=this.getPointer(C),ve(C,S,J.x,J.y))}k.isMoving=!1}if(S&&(S.target!==k||S.corner!==q)){var Se=S.target&&S.target.controls[S.corner],Fe=Se&&Se.getMouseUpHandler(C,k,ne);J=J||this.getPointer(C),Fe&&Fe(C,S,J.x,J.y)}this._setCursorFromEvent(C,k),this._handleEvent(C,"up",f,U),this._groupSelector=null,this._currentTransform=null,k&&(k.__corner=0),N?this.requestRenderAll():U||this.renderTop()}},_simpleEventHandler:function(C,k){var S=this.findTarget(k),O=this.targets,N={e:k,target:S,subTargets:O};if(this.fire(C,N),S&&S.fire(C,N),!O)return S;for(var U=0;U<O.length;U++)O[U].fire(C,N);return S},_handleEvent:function(C,k,S,O){var N=this._target,U=this.targets||[],W={e:C,target:N,subTargets:U,button:S||f,isClick:O||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};k==="up"&&(W.currentTarget=this.findTarget(C),W.currentSubTargets=this.targets),this.fire("mouse:"+k,W),N&&N.fire("mouse"+k,W);for(var q=0;q<U.length;q++)U[q].fire("mouse"+k,W)},_finalizeCurrentTransform:function(C){var k=this._currentTransform,S=k.target,O={e:C,target:S,transform:k,action:k.action};S._scaling&&(S._scaling=!1),S.setCoords(),(k.actionPerformed||this.stateful&&S.hasStateChanged())&&this._fire("modified",O)},_onMouseDownInDrawingMode:function(C){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(C).requestRenderAll();var k=this.getPointer(C);this.freeDrawingBrush.onMouseDown(k,{e:C,pointer:k}),this._handleEvent(C,"down")},_onMouseMoveInDrawingMode:function(C){if(this._isCurrentlyDrawing){var k=this.getPointer(C);this.freeDrawingBrush.onMouseMove(k,{e:C,pointer:k})}this.setCursor(this.freeDrawingCursor),this._handleEvent(C,"move")},_onMouseUpInDrawingMode:function(C){var k=this.getPointer(C);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:C,pointer:k}),this._handleEvent(C,"up")},__onMouseDown:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"down:before");var k=this._target;if(m(C,c)){this.fireRightClick&&this._handleEvent(C,"down",c);return}if(m(C,v)){this.fireMiddleClick&&this._handleEvent(C,"down",v);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(C);return}if(this._isMainEvent(C)&&!this._currentTransform){var S=this._pointer;this._previousPointer=S;var O=this._shouldRender(k),N=this._shouldGroup(C,k);if(this._shouldClearSelection(C,k)?this.discardActiveObject(C):N&&(this._handleGrouping(C,k),k=this._activeObject),this.selection&&(!k||!k.selectable&&!k.isEditing&&k!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),k){var U=k===this._activeObject;k.selectable&&k.activeOn==="down"&&this.setActiveObject(k,C);var W=k._findTargetCorner(this.getPointer(C,!0),t.util.isTouchEvent(C));if(k.__corner=W,k===this._activeObject&&(W||!N)){this._setupCurrentTransform(C,k,U);var q=k.controls[W],S=this.getPointer(C),J=q&&q.getMouseDownHandler(C,k,q);J&&J(C,this._currentTransform,S.x,S.y)}}this._handleEvent(C,"down"),(O||N)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(C){this._resetTransformEventData(),this._pointer=this.getPointer(C,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(C)||null},_beforeTransform:function(C){var k=this._currentTransform;this.stateful&&k.target.saveState(),this.fire("before:transform",{e:C,transform:k})},__onMouseMove:function(C){this._handleEvent(C,"move:before"),this._cacheTransformEventData(C);var k,S;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(C);return}if(this._isMainEvent(C)){var O=this._groupSelector;O?(S=this._absolutePointer,O.left=S.x-O.ex,O.top=S.y-O.ey,this.renderTop()):this._currentTransform?this._transformObject(C):(k=this.findTarget(C)||null,this._setCursorFromEvent(C,k),this._fireOverOutEvents(k,C)),this._handleEvent(C,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(C,k){var S=this._hoveredTarget,O=this._hoveredTargets,N=this.targets,U=Math.max(O.length,N.length);this.fireSyntheticInOutEvents(C,k,{oldTarget:S,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var W=0;W<U;W++)this.fireSyntheticInOutEvents(N[W],k,{oldTarget:O[W],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=C,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(C,k){var S=this._draggedoverTarget,O=this._hoveredTargets,N=this.targets,U=Math.max(O.length,N.length);this.fireSyntheticInOutEvents(C,k,{oldTarget:S,evtOut:"dragleave",evtIn:"dragenter"});for(var W=0;W<U;W++)this.fireSyntheticInOutEvents(N[W],k,{oldTarget:O[W],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=C},fireSyntheticInOutEvents:function(C,k,S){var O,N,U=S.oldTarget,W,q,J=U!==C,ne=S.canvasEvtIn,ve=S.canvasEvtOut;J&&(O={e:k,target:C,previousTarget:U},N={e:k,target:U,nextTarget:C}),q=C&&J,W=U&&J,W&&(ve&&this.fire(ve,N),U.fire(S.evtOut,N)),q&&(ne&&this.fire(ne,O),C.fire(S.evtIn,O))},__onMouseWheel:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"wheel"),this._resetTransformEventData()},_transformObject:function(C){var k=this.getPointer(C),S=this._currentTransform;S.reset=!1,S.shiftKey=C.shiftKey,S.altKey=C[this.centeredKey],this._performTransformAction(C,S,k),S.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(C,k,S){var O=S.x,N=S.y,U=k.action,W=!1,q=k.actionHandler;q&&(W=q(C,k,O,N)),U==="drag"&&W&&(k.target.isMoving=!0,this.setCursor(k.target.moveCursor||this.moveCursor)),k.actionPerformed=k.actionPerformed||W},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(C,k){if(!k)return this.setCursor(this.defaultCursor),!1;var S=k.hoverCursor||this.hoverCursor,O=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,N=(!O||!O.contains(k))&&k._findTargetCorner(this.getPointer(C,!0));N?this.setCursor(this.getCornerCursor(N,k,C)):(k.subTargetCheck&&this.targets.concat().reverse().map(function(U){S=U.hoverCursor||S}),this.setCursor(S))},getCornerCursor:function(C,k,S){var O=k.controls[C];return O.cursorStyleHandler(S,O,k)}})})(),(function(){var d=Math.min,a=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(c,v){var f=this._activeObject;return f&&this._isSelectionKeyPressed(c)&&v&&v.selectable&&this.selection&&(f!==v||f.type==="activeSelection")&&!v.onSelect({e:c})},_handleGrouping:function(c,v){var f=this._activeObject;f.__corner||v===f&&(v=this.findTarget(c,!0),!v||!v.selectable)||(f&&f.type==="activeSelection"?this._updateActiveSelection(v,c):this._createActiveSelection(v,c))},_updateActiveSelection:function(c,v){var f=this._activeObject,g=f._objects.slice(0);f.contains(c)?(f.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),f.size()===1&&this._setActiveObject(f.item(0),v)):(f.addWithUpdate(c),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(g,v)},_createActiveSelection:function(c,v){var f=this.getActiveObjects(),g=this._createGroup(c);this._hoveredTarget=g,this._setActiveObject(g,v),this._fireSelectionEvents(f,v)},_createGroup:function(c){var v=this._objects,f=v.indexOf(this._activeObject)<v.indexOf(c),g=f?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(g,{canvas:this})},_groupSelectedObjects:function(c){var v=this._collectObjects(c),f;v.length===1?this.setActiveObject(v[0],c):v.length>1&&(f=new t.ActiveSelection(v.reverse(),{canvas:this}),this.setActiveObject(f,c))},_collectObjects:function(c){for(var v=[],f,g=this._groupSelector.ex,m=this._groupSelector.ey,C=g+this._groupSelector.left,k=m+this._groupSelector.top,S=new t.Point(d(g,C),d(m,k)),O=new t.Point(a(g,C),a(m,k)),N=!this.selectionFullyContained,U=g===C&&m===k,W=this._objects.length;W--&&(f=this._objects[W],!(!(!f||!f.selectable||!f.visible)&&(N&&f.intersectsWithRect(S,O,!0)||f.isContainedWithinRect(S,O,!0)||N&&f.containsPoint(S,null,!0)||N&&f.containsPoint(O,null,!0))&&(v.push(f),U))););return v.length>1&&(v=v.filter(function(q){return!q.onSelect({e:c})})),v},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})})(),(function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(d){d||(d={});var a=d.format||"png",c=d.quality||1,v=(d.multiplier||1)*(d.enableRetinaScaling?this.getRetinaScaling():1),f=this.toCanvasElement(v,d);return t.util.toDataURL(f,a,c)},toCanvasElement:function(d,a){d=d||1,a=a||{};var c=(a.width||this.width)*d,v=(a.height||this.height)*d,f=this.getZoom(),g=this.width,m=this.height,C=f*d,k=this.viewportTransform,S=(k[4]-(a.left||0))*d,O=(k[5]-(a.top||0))*d,N=this.interactive,U=[C,0,0,C,S,O],W=this.enableRetinaScaling,q=t.util.createCanvasElement(),J=this.contextTop;return q.width=c,q.height=v,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=U,this.width=c,this.height=v,this.calcViewportBoundaries(),this.renderCanvas(q.getContext("2d"),this._objects),this.viewportTransform=k,this.width=g,this.height=m,this.calcViewportBoundaries(),this.interactive=N,this.enableRetinaScaling=W,this.contextTop=J,q}})})(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(d,a,c){if(d){var v=typeof d=="string"?JSON.parse(d):t.util.object.clone(d),f=this,g=v.clipPath,m=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete v.clipPath,this._enlivenObjects(v.objects,function(C){f.clear(),f._setBgOverlay(v,function(){g?f._enlivenObjects([g],function(k){f.clipPath=k[0],f.__setupCanvas.call(f,v,C,m,a)}):f.__setupCanvas.call(f,v,C,m,a)})},c),this}},__setupCanvas:function(d,a,c,v){var f=this;a.forEach(function(g,m){f.insertAt(g,m)}),this.renderOnAddRemove=c,delete d.objects,delete d.backgroundImage,delete d.overlayImage,delete d.background,delete d.overlay,this._setOptions(d),this.renderAll(),v&&v()},_setBgOverlay:function(d,a){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!d.backgroundImage&&!d.overlayImage&&!d.background&&!d.overlay){a&&a();return}var v=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&a&&a()};this.__setBgOverlay("backgroundImage",d.backgroundImage,c,v),this.__setBgOverlay("overlayImage",d.overlayImage,c,v),this.__setBgOverlay("backgroundColor",d.background,c,v),this.__setBgOverlay("overlayColor",d.overlay,c,v)},__setBgOverlay:function(d,a,c,v){var f=this;if(!a){c[d]=!0,v&&v();return}d==="backgroundImage"||d==="overlayImage"?t.util.enlivenObjects([a],function(g){f[d]=g[0],c[d]=!0,v&&v()}):this["set"+t.util.string.capitalize(d,!0)](a,function(){c[d]=!0,v&&v()})},_enlivenObjects:function(d,a,c){if(!d||d.length===0){a&&a([]);return}t.util.enlivenObjects(d,function(v){a&&a(v)},null,c)},_toDataURL:function(d,a){this.clone(function(c){a(c.toDataURL(d))})},_toDataURLWithMultiplier:function(d,a,c){this.clone(function(v){c(v.toDataURLWithMultiplier(d,a))})},clone:function(d,a){var c=JSON.stringify(this.toJSON(a));this.cloneWithoutData(function(v){v.loadFromJSON(c,function(){d&&d(v)})})},cloneWithoutData:function(d){var a=t.util.createCanvasElement();a.width=this.width,a.height=this.height;var c=new t.Canvas(a);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),d&&d(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):d&&d(c)}}),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend,v=a.util.object.clone,f=a.util.toFixed,g=a.util.string.capitalize,m=a.util.degreesToRadians,C=!a.isLikelyNode,k=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:C,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(S){S&&this.setOptions(S)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(S){var O=a.perfLimitSizeTotal,N=S.width,U=S.height,W=a.maxCacheSideLimit,q=a.minCacheSideLimit;if(N<=W&&U<=W&&N*U<=O)return N<q&&(S.width=q),U<q&&(S.height=q),S;var J=N/U,ne=a.util.limitDimsByArea(J,O),ve=a.util.capValue,Se=ve(q,ne.x,W),Fe=ve(q,ne.y,W);return N>Se&&(S.zoomX/=N/Se,S.width=Se,S.capped=!0),U>Fe&&(S.zoomY/=U/Fe,S.height=Fe,S.capped=!0),S},_getCacheCanvasDimensions:function(){var S=this.getTotalObjectScaling(),O=this._getTransformedDimensions(0,0),N=O.x*S.scaleX/this.scaleX,U=O.y*S.scaleY/this.scaleY;return{width:Math.ceil(N+k),height:Math.ceil(U+k),zoomX:S.scaleX,zoomY:S.scaleY,x:N,y:U}},_updateCacheCanvas:function(){var S=this.canvas;if(this.noScaleCache&&S&&S._currentTransform){var O=S._currentTransform.target,N=S._currentTransform.action;if(this===O&&N.slice&&N.slice(0,5)==="scale")return!1}var U=this._cacheCanvas,W=this._limitCacheSize(this._getCacheCanvasDimensions()),q=W.width,J=W.height,ne,ve,Se=W.zoomX,Fe=W.zoomY,Ue=q!==this.cacheWidth||J!==this.cacheHeight,Ze=this.zoomX!==Se||this.zoomY!==Fe,mt=Ue||Ze;return mt?(Ue?(U.width=q,U.height=J):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,U.width,U.height)),ne=W.x/2,ve=W.y/2,this.cacheTranslationX=Math.round(U.width/2-ne)+ne,this.cacheTranslationY=Math.round(U.height/2-ve)+ve,this.cacheWidth=q,this.cacheHeight=J,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Se,Fe),this.zoomX=Se,this.zoomY=Fe,!0):!1},setOptions:function(S){this._setOptions(S),this._initGradient(S.fill,"fill"),this._initGradient(S.stroke,"stroke"),this._initPattern(S.fill,"fill"),this._initPattern(S.stroke,"stroke")},transform:function(S){var O=this.group&&!this.group._transformDone||this.group&&this.canvas&&S===this.canvas.contextTop,N=this.calcTransformMatrix(!O);S.transform(N[0],N[1],N[2],N[3],N[4],N[5])},toObject:function(S){var O=a.Object.NUM_FRACTION_DIGITS,N={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:f(this.left,O),top:f(this.top,O),width:f(this.width,O),height:f(this.height,O),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:f(this.strokeWidth,O),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:f(this.strokeMiterLimit,O),scaleX:f(this.scaleX,O),scaleY:f(this.scaleY,O),angle:f(this.angle,O),flipX:this.flipX,flipY:this.flipY,opacity:f(this.opacity,O),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:f(this.skewX,O),skewY:f(this.skewY,O)};return this.clipPath&&!this.clipPath.excludeFromExport&&(N.clipPath=this.clipPath.toObject(S),N.clipPath.inverted=this.clipPath.inverted,N.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,N,S),this.includeDefaultValues||(N=this._removeDefaultValues(N)),N},toDatalessObject:function(S){return this.toObject(S)},_removeDefaultValues:function(S){var O=a.util.getKlass(S.type).prototype,N=O.stateProperties;return N.forEach(function(U){U==="left"||U==="top"||(S[U]===O[U]&&delete S[U],Array.isArray(S[U])&&Array.isArray(O[U])&&S[U].length===0&&O[U].length===0&&delete S[U])}),S},toString:function(){return"#<fabric."+g(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var S=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(S.scaleX),scaleY:Math.abs(S.scaleY)}},getTotalObjectScaling:function(){var S=this.getObjectScaling(),O=S.scaleX,N=S.scaleY;if(this.canvas){var U=this.canvas.getZoom(),W=this.canvas.getRetinaScaling();O*=U*W,N*=U*W}return{scaleX:O,scaleY:N}},getObjectOpacity:function(){var S=this.opacity;return this.group&&(S*=this.group.getObjectOpacity()),S},_set:function(S,O){var N=S==="scaleX"||S==="scaleY",U=this[S]!==O,W=!1;return N&&(O=this._constrainScale(O)),S==="scaleX"&&O<0?(this.flipX=!this.flipX,O*=-1):S==="scaleY"&&O<0?(this.flipY=!this.flipY,O*=-1):S==="shadow"&&O&&!(O instanceof a.Shadow)?O=new a.Shadow(O):S==="dirty"&&this.group&&this.group.set("dirty",O),this[S]=O,U&&(W=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(S)>-1?(this.dirty=!0,W&&this.group.set("dirty",!0)):W&&this.stateProperties.indexOf(S)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(S){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(S.save(),this._setupCompositeOperation(S),this.drawSelectionBackground(S),this.transform(S),this._setOpacity(S),this._setShadow(S,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(S)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(S),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),S.restore())},renderCache:function(S){S=S||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,S.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(S,O){if(S.save(),O.inverted?S.globalCompositeOperation="destination-out":S.globalCompositeOperation="destination-in",O.absolutePositioned){var N=a.util.invertTransform(this.calcTransformMatrix());S.transform(N[0],N[1],N[2],N[3],N[4],N[5])}O.transform(S),S.scale(1/O.zoomX,1/O.zoomY),S.drawImage(O._cacheCanvas,-O.cacheTranslationX,-O.cacheTranslationY),S.restore()},drawObject:function(S,O){var N=this.fill,U=this.stroke;O?(this.fill="black",this.stroke="",this._setClippingProperties(S)):this._renderBackground(S),this._render(S),this._drawClipPath(S,this.clipPath),this.fill=N,this.stroke=U},_drawClipPath:function(S,O){O&&(O.canvas=this.canvas,O.shouldCache(),O._transformDone=!0,O.renderCache({forClipping:!0}),this.drawClipPathOnCache(S,O))},drawCacheOnCanvas:function(S){S.scale(1/this.zoomX,1/this.zoomY),S.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(S){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!S&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!S){var O=this.cacheWidth/this.zoomX,N=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-O/2,-N/2,O,N)}return!0}return!1},_renderBackground:function(S){if(this.backgroundColor){var O=this._getNonTransformedDimensions();S.fillStyle=this.backgroundColor,S.fillRect(-O.x/2,-O.y/2,O.x,O.y),this._removeShadow(S)}},_setOpacity:function(S){this.group&&!this.group._transformDone?S.globalAlpha=this.getObjectOpacity():S.globalAlpha*=this.opacity},_setStrokeStyles:function(S,O){var N=O.stroke;N&&(S.lineWidth=O.strokeWidth,S.lineCap=O.strokeLineCap,S.lineDashOffset=O.strokeDashOffset,S.lineJoin=O.strokeLineJoin,S.miterLimit=O.strokeMiterLimit,N.toLive?N.gradientUnits==="percentage"||N.gradientTransform||N.patternTransform?this._applyPatternForTransformedGradient(S,N):(S.strokeStyle=N.toLive(S,this),this._applyPatternGradientTransform(S,N)):S.strokeStyle=O.stroke)},_setFillStyles:function(S,O){var N=O.fill;N&&(N.toLive?(S.fillStyle=N.toLive(S,this),this._applyPatternGradientTransform(S,O.fill)):S.fillStyle=N)},_setClippingProperties:function(S){S.globalAlpha=1,S.strokeStyle="transparent",S.fillStyle="#000000"},_setLineDash:function(S,O){!O||O.length===0||(1&O.length&&O.push.apply(O,O),S.setLineDash(O))},_renderControls:function(S,O){var N=this.getViewportTransform(),U=this.calcTransformMatrix(),W,q,J;O=O||{},q=typeof O.hasBorders<"u"?O.hasBorders:this.hasBorders,J=typeof O.hasControls<"u"?O.hasControls:this.hasControls,U=a.util.multiplyTransformMatrices(N,U),W=a.util.qrDecompose(U),S.save(),S.translate(W.translateX,W.translateY),S.lineWidth=1*this.borderScaleFactor,this.group||(S.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(W.angle-=180),S.rotate(m(this.group?W.angle:this.angle)),O.forActiveSelection||this.group?q&&this.drawBordersInGroup(S,W,O):q&&this.drawBorders(S,O),J&&this.drawControls(S,O),S.restore()},_setShadow:function(S){if(this.shadow){var O=this.shadow,N=this.canvas,U,W=N&&N.viewportTransform[0]||1,q=N&&N.viewportTransform[3]||1;O.nonScaling?U={scaleX:1,scaleY:1}:U=this.getObjectScaling(),N&&N._isRetinaScaling()&&(W*=a.devicePixelRatio,q*=a.devicePixelRatio),S.shadowColor=O.color,S.shadowBlur=O.blur*a.browserShadowBlurConstant*(W+q)*(U.scaleX+U.scaleY)/4,S.shadowOffsetX=O.offsetX*W*U.scaleX,S.shadowOffsetY=O.offsetY*q*U.scaleY}},_removeShadow:function(S){this.shadow&&(S.shadowColor="",S.shadowBlur=S.shadowOffsetX=S.shadowOffsetY=0)},_applyPatternGradientTransform:function(S,O){if(!O||!O.toLive)return{offsetX:0,offsetY:0};var N=O.gradientTransform||O.patternTransform,U=-this.width/2+O.offsetX||0,W=-this.height/2+O.offsetY||0;return O.gradientUnits==="percentage"?S.transform(this.width,0,0,this.height,U,W):S.transform(1,0,0,1,U,W),N&&S.transform(N[0],N[1],N[2],N[3],N[4],N[5]),{offsetX:U,offsetY:W}},_renderPaintInOrder:function(S){this.paintFirst==="stroke"?(this._renderStroke(S),this._renderFill(S)):(this._renderFill(S),this._renderStroke(S))},_render:function(){},_renderFill:function(S){this.fill&&(S.save(),this._setFillStyles(S,this),this.fillRule==="evenodd"?S.fill("evenodd"):S.fill(),S.restore())},_renderStroke:function(S){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(S),S.save(),this.strokeUniform&&this.group){var O=this.getObjectScaling();S.scale(1/O.scaleX,1/O.scaleY)}else this.strokeUniform&&S.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(S,this.strokeDashArray),this._setStrokeStyles(S,this),S.stroke(),S.restore()}},_applyPatternForTransformedGradient:function(S,O){var N=this._limitCacheSize(this._getCacheCanvasDimensions()),U=a.util.createCanvasElement(),W,q=this.canvas.getRetinaScaling(),J=N.x/this.scaleX/q,ne=N.y/this.scaleY/q;U.width=Math.ceil(J),U.height=Math.ceil(ne),W=U.getContext("2d"),W.beginPath(),W.moveTo(0,0),W.lineTo(J,0),W.lineTo(J,ne),W.lineTo(0,ne),W.closePath(),W.translate(J/2,ne/2),W.scale(N.zoomX/this.scaleX/q,N.zoomY/this.scaleY/q),this._applyPatternGradientTransform(W,O),W.fillStyle=O.toLive(S),W.fill(),S.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),S.scale(q*this.scaleX/N.zoomX,q*this.scaleY/N.zoomY),S.strokeStyle=W.createPattern(U,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var S=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",S.scaleX),this.set("scaleY",S.scaleY),this.angle=S.angle,this.skewX=S.skewX,this.skewY=0}},_removeTransformMatrix:function(S){var O=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),O=a.util.transformPoint(O,this.transformMatrix)),this.transformMatrix=null,S&&(this.scaleX*=S.scaleX,this.scaleY*=S.scaleY,this.cropX=S.cropX,this.cropY=S.cropY,O.x+=S.offsetLeft,O.y+=S.offsetTop,this.width=S.width,this.height=S.height),this.setPositionByOrigin(O,"center","center")},clone:function(S,O){var N=this.toObject(O);this.constructor.fromObject?this.constructor.fromObject(N,S):a.Object._fromObject("Object",N,S)},cloneAsImage:function(S,O){var N=this.toCanvasElement(O);return S&&S(new a.Image(N)),this},toCanvasElement:function(S){S||(S={});var O=a.util,N=O.saveObjectTransform(this),U=this.group,W=this.shadow,q=Math.abs,J=(S.multiplier||1)*(S.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,S.withoutTransform&&O.resetObjectTransform(this),S.withoutShadow&&(this.shadow=null);var ne=a.util.createCanvasElement(),ve=this.getBoundingRect(!0,!0),Se=this.shadow,Fe,Ue={x:0,y:0},Ze,mt,ct;Se&&(Ze=Se.blur,Se.nonScaling?Fe={scaleX:1,scaleY:1}:Fe=this.getObjectScaling(),Ue.x=2*Math.round(q(Se.offsetX)+Ze)*q(Fe.scaleX),Ue.y=2*Math.round(q(Se.offsetY)+Ze)*q(Fe.scaleY)),mt=ve.width+Ue.x,ct=ve.height+Ue.y,ne.width=Math.ceil(mt),ne.height=Math.ceil(ct);var ge=new a.StaticCanvas(ne,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});S.format==="jpeg"&&(ge.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(ge.width/2,ge.height/2),"center","center");var ye=this.canvas;ge.add(this);var Re=ge.toCanvasElement(J||1,S);return this.shadow=W,this.set("canvas",ye),U&&(this.group=U),this.set(N).setCoords(),ge._objects=[],ge.dispose(),ge=null,Re},toDataURL:function(S){return S||(S={}),a.util.toDataURL(this.toCanvasElement(S),S.format||"png",S.quality||1)},isType:function(S){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===S},complexity:function(){return 1},toJSON:function(S){return this.toObject(S)},rotate:function(S){var O=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return O&&this._setOriginToCenter(),this.set("angle",S),O&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(S,O){O=O||this.canvas.getPointer(S);var N=new a.Point(O.x,O.y),U=this._getLeftTopCoords();return this.angle&&(N=a.util.rotatePoint(N,U,m(-this.angle))),{x:N.x-U.x,y:N.y-U.y}},_setupCompositeOperation:function(S){this.globalCompositeOperation&&(S.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){a.runningAnimations&&a.runningAnimations.cancelByTarget(this)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),c(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object.ENLIVEN_PROPS=["clipPath"],a.Object._fromObject=function(S,O,N,U){var W=a[S];O=v(O,!0),a.util.enlivenPatterns([O.fill,O.stroke],function(q){typeof q[0]<"u"&&(O.fill=q[0]),typeof q[1]<"u"&&(O.stroke=q[1]),a.util.enlivenObjectEnlivables(O,O,function(){var J=U?new W(O[U],O):new W(O);N&&N(J)})})},a.Object.__uid=0)})(e),(function(){var d=t.util.degreesToRadians,a={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(v,f,g,m,C){var k=v.x,S=v.y,O,N,U;return typeof f=="string"?f=a[f]:f-=.5,typeof m=="string"?m=a[m]:m-=.5,O=m-f,typeof g=="string"?g=c[g]:g-=.5,typeof C=="string"?C=c[C]:C-=.5,N=C-g,(O||N)&&(U=this._getTransformedDimensions(),k=v.x+O*U.x,S=v.y+N*U.y),new t.Point(k,S)},translateToCenterPoint:function(v,f,g){var m=this.translateToGivenOrigin(v,f,g,"center","center");return this.angle?t.util.rotatePoint(m,v,d(this.angle)):m},translateToOriginPoint:function(v,f,g){var m=this.translateToGivenOrigin(v,"center","center",f,g);return this.angle?t.util.rotatePoint(m,v,d(this.angle)):m},getCenterPoint:function(){var v=new t.Point(this.left,this.top);return this.translateToCenterPoint(v,this.originX,this.originY)},getPointByOrigin:function(v,f){var g=this.getCenterPoint();return this.translateToOriginPoint(g,v,f)},toLocalPoint:function(v,f,g){var m=this.getCenterPoint(),C,k;return typeof f<"u"&&typeof g<"u"?C=this.translateToGivenOrigin(m,"center","center",f,g):C=new t.Point(this.left,this.top),k=new t.Point(v.x,v.y),this.angle&&(k=t.util.rotatePoint(k,m,-d(this.angle))),k.subtractEquals(C)},setPositionByOrigin:function(v,f,g){var m=this.translateToCenterPoint(v,f,g),C=this.translateToOriginPoint(m,this.originX,this.originY);this.set("left",C.x),this.set("top",C.y)},adjustPosition:function(v){var f=d(this.angle),g=this.getScaledWidth(),m=t.util.cos(f)*g,C=t.util.sin(f)*g,k,S;typeof this.originX=="string"?k=a[this.originX]:k=this.originX-.5,typeof v=="string"?S=a[v]:S=v-.5,this.left+=m*(S-k),this.top+=C*(S-k),this.setCoords(),this.originX=v},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var v=this.getCenterPoint();this.originX="center",this.originY="center",this.left=v.x,this.top=v.y},_resetOrigin:function(){var v=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=v.x,this.top=v.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})})(),(function(){function d(g){return[new t.Point(g.tl.x,g.tl.y),new t.Point(g.tr.x,g.tr.y),new t.Point(g.br.x,g.br.y),new t.Point(g.bl.x,g.bl.y)]}var a=t.util,c=a.degreesToRadians,v=a.multiplyTransformMatrices,f=a.transformPoint;a.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(g,m){return m?g?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),g?this.aCoords:this.lineCoords)},getCoords:function(g,m){return d(this._getCoords(g,m))},intersectsWithRect:function(g,m,C,k){var S=this.getCoords(C,k),O=t.Intersection.intersectPolygonRectangle(S,g,m);return O.status==="Intersection"},intersectsWithObject:function(g,m,C){var k=t.Intersection.intersectPolygonPolygon(this.getCoords(m,C),g.getCoords(m,C));return k.status==="Intersection"||g.isContainedWithinObject(this,m,C)||this.isContainedWithinObject(g,m,C)},isContainedWithinObject:function(g,m,C){for(var k=this.getCoords(m,C),S=m?g.aCoords:g.lineCoords,O=0,N=g._getImageLines(S);O<4;O++)if(!g.containsPoint(k[O],N))return!1;return!0},isContainedWithinRect:function(g,m,C,k){var S=this.getBoundingRect(C,k);return S.left>=g.x&&S.left+S.width<=m.x&&S.top>=g.y&&S.top+S.height<=m.y},containsPoint:function(g,O,C,k){var S=this._getCoords(C,k),O=O||this._getImageLines(S),N=this._findCrossPoints(g,O);return N!==0&&N%2===1},isOnScreen:function(g){if(!this.canvas)return!1;var m=this.canvas.vptCoords.tl,C=this.canvas.vptCoords.br,k=this.getCoords(!0,g);return k.some(function(S){return S.x<=C.x&&S.x>=m.x&&S.y<=C.y&&S.y>=m.y})||this.intersectsWithRect(m,C,!0,g)?!0:this._containsCenterOfCanvas(m,C,g)},_containsCenterOfCanvas:function(g,m,C){var k={x:(g.x+m.x)/2,y:(g.y+m.y)/2};return!!this.containsPoint(k,null,!0,C)},isPartiallyOnScreen:function(g){if(!this.canvas)return!1;var m=this.canvas.vptCoords.tl,C=this.canvas.vptCoords.br;if(this.intersectsWithRect(m,C,!0,g))return!0;var k=this.getCoords(!0,g).every(function(S){return(S.x>=C.x||S.x<=m.x)&&(S.y>=C.y||S.y<=m.y)});return k&&this._containsCenterOfCanvas(m,C,g)},_getImageLines:function(g){var m={topline:{o:g.tl,d:g.tr},rightline:{o:g.tr,d:g.br},bottomline:{o:g.br,d:g.bl},leftline:{o:g.bl,d:g.tl}};return m},_findCrossPoints:function(g,m){var C,k,S,O,N,U=0,W;for(var q in m)if(W=m[q],!(W.o.y<g.y&&W.d.y<g.y)&&!(W.o.y>=g.y&&W.d.y>=g.y)&&(W.o.x===W.d.x&&W.o.x>=g.x?N=W.o.x:(C=0,k=(W.d.y-W.o.y)/(W.d.x-W.o.x),S=g.y-C*g.x,O=W.o.y-k*W.o.x,N=-(S-O)/(C-k)),N>=g.x&&(U+=1),U===2))break;return U},getBoundingRect:function(g,m){var C=this.getCoords(g,m);return a.makeBoundingBoxFromPoints(C)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(g){return Math.abs(g)<this.minScaleLimit?g<0?-this.minScaleLimit:this.minScaleLimit:g===0?1e-4:g},scale:function(g){return this._set("scaleX",g),this._set("scaleY",g),this.setCoords()},scaleToWidth:function(g,m){var C=this.getBoundingRect(m).width/this.getScaledWidth();return this.scale(g/this.width/C)},scaleToHeight:function(g,m){var C=this.getBoundingRect(m).height/this.getScaledHeight();return this.scale(g/this.height/C)},calcLineCoords:function(){var g=this.getViewportTransform(),m=this.padding,C=c(this.angle),k=a.cos(C),S=a.sin(C),O=k*m,N=S*m,U=O+N,W=O-N,q=this.calcACoords(),J={tl:f(q.tl,g),tr:f(q.tr,g),bl:f(q.bl,g),br:f(q.br,g)};return m&&(J.tl.x-=W,J.tl.y-=U,J.tr.x+=U,J.tr.y-=W,J.bl.x-=U,J.bl.y+=W,J.br.x+=W,J.br.y+=U),J},calcOCoords:function(){var g=this._calcRotateMatrix(),m=this._calcTranslateMatrix(),C=this.getViewportTransform(),k=v(C,m),S=v(k,g),S=v(S,[1/C[0],0,0,1/C[3],0,0]),O=this._calculateCurrentDimensions(),N={};return this.forEachControl(function(U,W,q){N[W]=U.positionHandler(O,S,q)}),N},calcACoords:function(){var g=this._calcRotateMatrix(),m=this._calcTranslateMatrix(),C=v(m,g),k=this._getTransformedDimensions(),S=k.x/2,O=k.y/2;return{tl:f({x:-S,y:-O},C),tr:f({x:S,y:-O},C),bl:f({x:-S,y:O},C),br:f({x:S,y:O},C)}},setCoords:function(g){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),g?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var g=this.getCenterPoint();return[1,0,0,1,g.x,g.y]},transformMatrixKey:function(g){var m="_",C="";return!g&&this.group&&(C=this.group.transformMatrixKey(g)+m),C+this.top+m+this.left+m+this.scaleX+m+this.scaleY+m+this.skewX+m+this.skewY+m+this.angle+m+this.originX+m+this.originY+m+this.width+m+this.height+m+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(g){var m=this.calcOwnMatrix();if(g||!this.group)return m;var C=this.transformMatrixKey(g),k=this.matrixCache||(this.matrixCache={});return k.key===C?k.value:(this.group&&(m=v(this.group.calcTransformMatrix(!1),m)),k.key=C,k.value=m,m)},calcOwnMatrix:function(){var g=this.transformMatrixKey(!0),m=this.ownMatrixCache||(this.ownMatrixCache={});if(m.key===g)return m.value;var C=this._calcTranslateMatrix(),k={angle:this.angle,translateX:C[4],translateY:C[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return m.key=g,m.value=a.composeMatrix(k),m.value},_getNonTransformedDimensions:function(){var g=this.strokeWidth,m=this.width+g,C=this.height+g;return{x:m,y:C}},_getTransformedDimensions:function(g,m){typeof g>"u"&&(g=this.skewX),typeof m>"u"&&(m=this.skewY);var C,k,S,O=g===0&&m===0;if(this.strokeUniform?(k=this.width,S=this.height):(C=this._getNonTransformedDimensions(),k=C.x,S=C.y),O)return this._finalizeDimensions(k*this.scaleX,S*this.scaleY);var N=a.sizeAfterTransform(k,S,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:g,skewY:m});return this._finalizeDimensions(N.x,N.y)},_finalizeDimensions:function(g,m){return this.strokeUniform?{x:g+this.strokeWidth,y:m+this.strokeWidth}:{x:g,y:m}},_calculateCurrentDimensions:function(){var g=this.getViewportTransform(),m=this._getTransformedDimensions(),C=f(m,g,!0);return C.scalarAdd(2*this.padding)}})})(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(d){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,d):this.canvas&&this.canvas.sendBackwards(this,d),this},bringForward:function(d){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,d):this.canvas&&this.canvas.bringForward(this,d),this},moveTo:function(d){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,d):this.canvas&&this.canvas.moveTo(this,d),this}}),(function(){function d(c,v){if(v){if(v.toLive)return c+": url(#SVGID_"+v.id+"); ";var f=new t.Color(v),g=c+": "+f.toRgb()+"; ",m=f.getAlpha();return m!==1&&(g+=c+"-opacity: "+m.toString()+"; "),g}else return c+": none; "}var a=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(c){var v=this.fillRule?this.fillRule:"nonzero",f=this.strokeWidth?this.strokeWidth:"0",g=this.strokeDashArray?this.strokeDashArray.join(" "):"none",m=this.strokeDashOffset?this.strokeDashOffset:"0",C=this.strokeLineCap?this.strokeLineCap:"butt",k=this.strokeLineJoin?this.strokeLineJoin:"miter",S=this.strokeMiterLimit?this.strokeMiterLimit:"4",O=typeof this.opacity<"u"?this.opacity:"1",N=this.visible?"":" visibility: hidden;",U=c?"":this.getSvgFilter(),W=d("fill",this.fill),q=d("stroke",this.stroke);return[q,"stroke-width: ",f,"; ","stroke-dasharray: ",g,"; ","stroke-linecap: ",C,"; ","stroke-dashoffset: ",m,"; ","stroke-linejoin: ",k,"; ","stroke-miterlimit: ",S,"; ",W,"fill-rule: ",v,"; ","opacity: ",O,";",U,N].join("")},getSvgSpanStyles:function(c,v){var f="; ",m=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+f:"",g=c.strokeWidth?"stroke-width: "+c.strokeWidth+f:"",m=m,C=c.fontSize?"font-size: "+c.fontSize+"px"+f:"",k=c.fontStyle?"font-style: "+c.fontStyle+f:"",S=c.fontWeight?"font-weight: "+c.fontWeight+f:"",O=c.fill?d("fill",c.fill):"",N=c.stroke?d("stroke",c.stroke):"",U=this.getSvgTextDecoration(c),W=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return U&&(U="text-decoration: "+U+f),[N,g,m,C,k,S,U,O,W,v?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(v){return c[v.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,v){var f=c?this.calcTransformMatrix():this.calcOwnMatrix(),g='transform="'+t.util.matrixToSVG(f);return g+(v||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var v=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,v),'" y="',a(-this.height/2,v),'" width="',a(this.width,v),'" height="',a(this.height,v),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,v){v=v||{};var f=v.reviver,g=v.additionalTransform||"",m=[this.getSvgTransform(!0,g),this.getSvgCommons()].join(""),C=c.indexOf("COMMON_PARTS");return c[C]=m,f?f(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,v){v=v||{};var f=v.noStyle,g=v.reviver,m=f?"":'style="'+this.getSvgStyles()+'" ',C=v.withShadow?'style="'+this.getSvgFilter()+'" ':"",k=this.clipPath,S=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",O=k&&k.absolutePositioned,N=this.stroke,U=this.fill,W=this.shadow,q,J=[],ne,ve=c.indexOf("COMMON_PARTS"),Se=v.additionalTransform;return k&&(k.clipPathId="CLIPPATH_"+t.Object.__uid++,ne='<clipPath id="'+k.clipPathId+`" >
`+k.toClipPathSVG(g)+`</clipPath>
`),O&&J.push("<g ",C,this.getSvgCommons(),` >
`),J.push("<g ",this.getSvgTransform(!1),O?"":C+this.getSvgCommons(),` >
`),q=[m,S,f?"":this.addPaintOrder()," ",Se?'transform="'+Se+'" ':""].join(""),c[ve]=q,U&&U.toLive&&J.push(U.toSVG(this)),N&&N.toLive&&J.push(N.toSVG(this)),W&&J.push(W.toSVG(this)),k&&J.push(ne),J.push(c.join("")),J.push(`</g>
`),O&&J.push(`</g>
`),g?g(J.join("")):J.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})})(),(function(){var d=t.util.object.extend,a="stateProperties";function c(f,g,m){var C={},k=!0;m.forEach(function(S){C[S]=f[S]}),d(f[g],C,k)}function v(f,g,m){if(f===g)return!0;if(Array.isArray(f)){if(!Array.isArray(g)||f.length!==g.length)return!1;for(var C=0,k=f.length;C<k;C++)if(!v(f[C],g[C]))return!1;return!0}else if(f&&typeof f=="object"){var S=Object.keys(f),O;if(!g||typeof g!="object"||!m&&S.length!==Object.keys(g).length)return!1;for(var C=0,k=S.length;C<k;C++)if(O=S[C],!(O==="canvas"||O==="group")&&!v(f[O],g[O]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(f){f=f||a;var g="_"+f;return Object.keys(this[g]).length<this[f].length?!0:!v(this[g],this,!0)},saveState:function(f){var g=f&&f.propertySet||a,m="_"+g;return this[m]?(c(this,m,this[g]),f&&f.stateProperties&&c(this,m,f.stateProperties),this):this.setupState(f)},setupState:function(f){f=f||{};var g=f.propertySet||a;return f.propertySet=g,this["_"+g]={},this.saveState(f),this}})})(),(function(){var d=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(a,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var v=a.x,f=a.y,g,m,C=Object.keys(this.oCoords),k=C.length-1,S;for(this.__corner=0;k>=0;k--)if(S=C[k],!!this.isControlVisible(S)&&(m=this._getImageLines(c?this.oCoords[S].touchCorner:this.oCoords[S].corner),g=this._findCrossPoints({x:v,y:f},m),g!==0&&g%2===1))return this.__corner=S,S;return!1},forEachControl:function(a){for(var c in this.controls)a(this.controls[c],c,this)},_setCornerCoords:function(){var a=this.oCoords;for(var c in a){var v=this.controls[c];a[c].corner=v.calcCornerCoords(this.angle,this.cornerSize,a[c].x,a[c].y,!1),a[c].touchCorner=v.calcCornerCoords(this.angle,this.touchCornerSize,a[c].x,a[c].y,!0)}},drawSelectionBackground:function(a){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;a.save();var c=this.getCenterPoint(),v=this._calculateCurrentDimensions(),f=this.canvas.viewportTransform;return a.translate(c.x,c.y),a.scale(1/f[0],1/f[3]),a.rotate(d(this.angle)),a.fillStyle=this.selectionBackgroundColor,a.fillRect(-v.x/2,-v.y/2,v.x,v.y),a.restore(),this},drawBorders:function(a,c){c=c||{};var v=this._calculateCurrentDimensions(),f=this.borderScaleFactor,g=v.x+f,m=v.y+f,C=typeof c.hasControls<"u"?c.hasControls:this.hasControls,k=!1;return a.save(),a.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(a,c.borderDashArray||this.borderDashArray),a.strokeRect(-g/2,-m/2,g,m),C&&(a.beginPath(),this.forEachControl(function(S,O,N){S.withConnection&&S.getVisibility(N,O)&&(k=!0,a.moveTo(S.x*g,S.y*m),a.lineTo(S.x*g+S.offsetX,S.y*m+S.offsetY))}),k&&a.stroke()),a.restore(),this},drawBordersInGroup:function(a,c,v){v=v||{};var f=t.util.sizeAfterTransform(this.width,this.height,c),g=this.strokeWidth,m=this.strokeUniform,C=this.borderScaleFactor,k=f.x+g*(m?this.canvas.getZoom():c.scaleX)+C,S=f.y+g*(m?this.canvas.getZoom():c.scaleY)+C;return a.save(),this._setLineDash(a,v.borderDashArray||this.borderDashArray),a.strokeStyle=v.borderColor||this.borderColor,a.strokeRect(-k/2,-S/2,k,S),a.restore(),this},drawControls:function(a,c){c=c||{},a.save();var v=1,f,g;return this.canvas&&(v=this.canvas.getRetinaScaling()),a.setTransform(v,0,0,v,0,0),a.strokeStyle=a.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(a.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(a,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(f=this.group.calcTransformMatrix()),this.forEachControl(function(m,C,k){g=k.oCoords[C],m.getVisibility(k,C)&&(f&&(g=t.util.transformPoint(g,f)),m.render(a,g.x,g.y,c,k))}),a.restore(),this},isControlVisible:function(a){return this.controls[a]&&this.controls[a].getVisibility(this,a)},setControlVisible:function(a,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[a]=c,this},setControlsVisibility:function(a){a||(a={});for(var c in a)this.setControlVisible(c,a[c]);return this},onDeselect:function(){},onSelect:function(){}})})(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(d,a){a=a||{};var c=function(){},v=a.onComplete||c,f=a.onChange||c,g=this;return t.util.animate({target:this,startValue:d.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(m){d.set("left",m),g.requestRenderAll(),f()},onComplete:function(){d.setCoords(),v()}})},fxCenterObjectV:function(d,a){a=a||{};var c=function(){},v=a.onComplete||c,f=a.onChange||c,g=this;return t.util.animate({target:this,startValue:d.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(m){d.set("top",m),g.requestRenderAll(),f()},onComplete:function(){d.setCoords(),v()}})},fxRemove:function(d,a){a=a||{};var c=function(){},v=a.onComplete||c,f=a.onChange||c,g=this;return t.util.animate({target:this,startValue:d.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(m){d.set("opacity",m),g.requestRenderAll(),f()},onComplete:function(){g.remove(d),v()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var d=[],a,c,v=[];for(a in arguments[0])d.push(a);for(var f=0,g=d.length;f<g;f++)a=d[f],c=f!==g-1,v.push(this._animate(a,arguments[0][a],arguments[1],c));return v}else return this._animate.apply(this,arguments)},_animate:function(d,a,c,v){var f=this,g;a=a.toString(),c?c=t.util.object.clone(c):c={},~d.indexOf(".")&&(g=d.split("."));var m=f.colorProperties.indexOf(d)>-1||g&&f.colorProperties.indexOf(g[1])>-1,C=g?this.get(g[0])[g[1]]:this.get(d);"from"in c||(c.from=C),m||(~a.indexOf("=")?a=C+parseFloat(a.replace("=","")):a=parseFloat(a));var k={target:this,startValue:c.from,endValue:a,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(S,O,N){return c.abort.call(f,S,O,N)},onChange:function(S,O,N){g?f[g[0]][g[1]]=S:f.set(d,S),!v&&c.onChange&&c.onChange(S,O,N)},onComplete:function(S,O,N){v||(f.setCoords(),c.onComplete&&c.onComplete(S,O,N))}};return m?t.util.animateColor(k.startValue,k.endValue,k.duration,k):t.util.animate(k)}}),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend,v=a.util.object.clone,f={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(m,C){m||(m=[0,0,0,0]),this.callSuper("initialize",C),this.set("x1",m[0]),this.set("y1",m[1]),this.set("x2",m[2]),this.set("y2",m[3]),this._setWidthHeight(C)},_setWidthHeight:function(m){m||(m={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in m?m.left:this._getLeftToOriginX(),this.top="top"in m?m.top:this._getTopToOriginY()},_set:function(m,C){return this.callSuper("_set",m,C),typeof f[m]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:g({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:g({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(m){m.beginPath();var C=this.calcLinePoints();m.moveTo(C.x1,C.y1),m.lineTo(C.x2,C.y2),m.lineWidth=this.strokeWidth;var k=m.strokeStyle;m.strokeStyle=this.stroke||m.fillStyle,this.stroke&&this._renderStroke(m),m.strokeStyle=k},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(m){return c(this.callSuper("toObject",m),this.calcLinePoints())},_getNonTransformedDimensions:function(){var m=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(m.y-=this.strokeWidth),this.height===0&&(m.x-=this.strokeWidth)),m},calcLinePoints:function(){var m=this.x1<=this.x2?-1:1,C=this.y1<=this.y2?-1:1,k=m*this.width*.5,S=C*this.height*.5,O=m*this.width*-.5,N=C*this.height*-.5;return{x1:k,x2:O,y1:S,y2:N}},_toSVG:function(){var m=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',m.x1,'" y1="',m.y1,'" x2="',m.x2,'" y2="',m.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(m,C,k){k=k||{};var S=a.parseAttributes(m,a.Line.ATTRIBUTE_NAMES),O=[S.x1||0,S.y1||0,S.x2||0,S.y2||0];C(new a.Line(O,c(S,k)))},a.Line.fromObject=function(m,C){function k(O){delete O.points,C&&C(O)}var S=v(m,!0);S.points=[m.x1,m.y1,m.x2,m.y2],a.Object._fromObject("Line",S,k,"points")};function g(m,C){var k=m.origin,S=m.axis1,O=m.axis2,N=m.dimension,U=C.nearest,W=C.center,q=C.farthest;return function(){switch(this.get(k)){case U:return Math.min(this.get(S),this.get(O));case W:return Math.min(this.get(S),this.get(O))+.5*this.get(N);case q:return Math.max(this.get(S),this.get(O))}}}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.degreesToRadians;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(f,g){return this.callSuper("_set",f,g),f==="radius"&&this.setRadius(g),this},toObject:function(f){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(f))},_toSVG:function(){var f,g=0,m=0,C=(this.endAngle-this.startAngle)%360;if(C===0)f=["<circle ","COMMON_PARTS",'cx="'+g+'" cy="'+m+'" ','r="',this.radius,`" />
`];else{var k=c(this.startAngle),S=c(this.endAngle),O=this.radius,N=a.util.cos(k)*O,U=a.util.sin(k)*O,W=a.util.cos(S)*O,q=a.util.sin(S)*O,J=C>180?"1":"0";f=['<path d="M '+N+" "+U," A "+O+" "+O," 0 ",+J+" 1"," "+W+" "+q,'" ',"COMMON_PARTS",` />
`]}return f},_render:function(f){f.beginPath(),f.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(f)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(f){return this.radius=f,this.set("width",f*2).set("height",f*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(f,g){var m=a.parseAttributes(f,a.Circle.ATTRIBUTE_NAMES);if(!v(m))throw new Error("value of `r` attribute is required and can not be negative");m.left=(m.left||0)-m.radius,m.top=(m.top||0)-m.radius,g(new a.Circle(m))};function v(f){return"radius"in f&&f.radius>=0}a.Circle.fromObject=function(f,g){a.Object._fromObject("Circle",f,g)}})(e),(function(d){var a=d.fabric||(d.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(c){var v=this.width/2,f=this.height/2;c.beginPath(),c.moveTo(-v,f),c.lineTo(0,-f),c.lineTo(v,f),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,v=this.height/2,f=[-c+" "+v,"0 "+-v,c+" "+v].join(",");return["<polygon ","COMMON_PARTS",'points="',f,'" />']}}),a.Triangle.fromObject=function(c,v){return a.Object._fromObject("Triangle",c,v)}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(v){this.callSuper("initialize",v),this.set("rx",v&&v.rx||0),this.set("ry",v&&v.ry||0)},_set:function(v,f){switch(this.callSuper("_set",v,f),v){case"rx":this.rx=f,this.set("width",f*2);break;case"ry":this.ry=f,this.set("height",f*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(v){return this.callSuper("toObject",["rx","ry"].concat(v))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(v){v.beginPath(),v.save(),v.transform(1,0,0,this.ry/this.rx,0,0),v.arc(0,0,this.rx,0,c,!1),v.restore(),this._renderPaintInOrder(v)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(v,f){var g=a.parseAttributes(v,a.Ellipse.ATTRIBUTE_NAMES);g.left=(g.left||0)-g.rx,g.top=(g.top||0)-g.ry,f(new a.Ellipse(g))},a.Ellipse.fromObject=function(v,f){a.Object._fromObject("Ellipse",v,f)}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(v){this.callSuper("initialize",v),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(v){var f=this.rx?Math.min(this.rx,this.width/2):0,g=this.ry?Math.min(this.ry,this.height/2):0,m=this.width,C=this.height,k=-this.width/2,S=-this.height/2,O=f!==0||g!==0,N=1-.5522847498;v.beginPath(),v.moveTo(k+f,S),v.lineTo(k+m-f,S),O&&v.bezierCurveTo(k+m-N*f,S,k+m,S+N*g,k+m,S+g),v.lineTo(k+m,S+C-g),O&&v.bezierCurveTo(k+m,S+C-N*g,k+m-N*f,S+C,k+m-f,S+C),v.lineTo(k+f,S+C),O&&v.bezierCurveTo(k+N*f,S+C,k,S+C-N*g,k,S+C-g),v.lineTo(k,S+g),O&&v.bezierCurveTo(k,S+N*g,k+N*f,S,k+f,S),v.closePath(),this._renderPaintInOrder(v)},toObject:function(v){return this.callSuper("toObject",["rx","ry"].concat(v))},_toSVG:function(){var v=-this.width/2,f=-this.height/2;return["<rect ","COMMON_PARTS",'x="',v,'" y="',f,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(v,f,g){if(!v)return f(null);g=g||{};var m=a.parseAttributes(v,a.Rect.ATTRIBUTE_NAMES);m.left=m.left||0,m.top=m.top||0,m.height=m.height||0,m.width=m.width||0;var C=new a.Rect(c(g?a.util.object.clone(g):{},m));C.visible=C.visible&&C.width>0&&C.height>0,f(C)},a.Rect.fromObject=function(v,f){return a.Object._fromObject("Rect",v,f)}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend,v=a.util.array.min,f=a.util.array.max,g=a.util.toFixed,m=a.util.projectStrokeOnPoints;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(C,k){k=k||{},this.points=C||[],this.callSuper("initialize",k),this._setPositionDimensions(k)},_projectStrokeOnPoints:function(){return m(this.points,this,!0)},_setPositionDimensions:function(C){var k=this._calcDimensions(C),S,O=this.exactBoundingBox?this.strokeWidth:0;this.width=k.width-O,this.height=k.height-O,C.fromSVG||(S=this.translateToGivenOrigin({x:k.left-this.strokeWidth/2+O/2,y:k.top-this.strokeWidth/2+O/2},"left","top",this.originX,this.originY)),typeof C.left>"u"&&(this.left=C.fromSVG?k.left:S.x),typeof C.top>"u"&&(this.top=C.fromSVG?k.top:S.y),this.pathOffset={x:k.left+this.width/2+O/2,y:k.top+this.height/2+O/2}},_calcDimensions:function(){var C=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,k=v(C,"x")||0,S=v(C,"y")||0,O=f(C,"x")||0,N=f(C,"y")||0,U=O-k,W=N-S;return{left:k,top:S,width:U,height:W}},toObject:function(C){return c(this.callSuper("toObject",C),{points:this.points.concat()})},_toSVG:function(){for(var C=[],k=this.pathOffset.x,S=this.pathOffset.y,O=a.Object.NUM_FRACTION_DIGITS,N=0,U=this.points.length;N<U;N++)C.push(g(this.points[N].x-k,O),",",g(this.points[N].y-S,O)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',C.join(""),`" />
`]},commonRender:function(C){var k,S=this.points.length,O=this.pathOffset.x,N=this.pathOffset.y;if(!S||isNaN(this.points[S-1].y))return!1;C.beginPath(),C.moveTo(this.points[0].x-O,this.points[0].y-N);for(var U=0;U<S;U++)k=this.points[U],C.lineTo(k.x-O,k.y-N);return!0},_render:function(C){this.commonRender(C)&&this._renderPaintInOrder(C)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(C){return function(k,S,O){if(!k)return S(null);O||(O={});var N=a.parsePointsAttribute(k.getAttribute("points")),U=a.parseAttributes(k,a[C].ATTRIBUTE_NAMES);U.fromSVG=!0,S(new a[C](N,c(U,O)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(C,k){return a.Object._fromObject("Polyline",C,k,"points")}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.projectStrokeOnPoints;if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(v){this.commonRender(v)&&(v.closePath(),this._renderPaintInOrder(v))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(v,f){a.Object._fromObject("Polygon",v,f,"points")}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.array.min,v=a.util.array.max,f=a.util.object.extend,g=a.util.object.clone,m=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(C,k){k=g(k||{}),delete k.path,this.callSuper("initialize",k),this._setPath(C||[],k)},_setPath:function(C,k){this.path=a.util.makePathSimpler(Array.isArray(C)?C:a.util.parsePath(C)),a.Polyline.prototype._setPositionDimensions.call(this,k||{})},_renderPathCommands:function(C){var k,S=0,O=0,N=0,U=0,W=0,q=0,J=-this.pathOffset.x,ne=-this.pathOffset.y;C.beginPath();for(var ve=0,Se=this.path.length;ve<Se;++ve)switch(k=this.path[ve],k[0]){case"L":N=k[1],U=k[2],C.lineTo(N+J,U+ne);break;case"M":N=k[1],U=k[2],S=N,O=U,C.moveTo(N+J,U+ne);break;case"C":N=k[5],U=k[6],W=k[3],q=k[4],C.bezierCurveTo(k[1]+J,k[2]+ne,W+J,q+ne,N+J,U+ne);break;case"Q":C.quadraticCurveTo(k[1]+J,k[2]+ne,k[3]+J,k[4]+ne),N=k[3],U=k[4],W=k[1],q=k[2];break;case"z":case"Z":N=S,U=O,C.closePath();break}},_render:function(C){this._renderPathCommands(C),this._renderPaintInOrder(C)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(C){return f(this.callSuper("toObject",C),{path:this.path.map(function(k){return k.slice()})})},toDatalessObject:function(C){var k=this.toObject(["sourcePath"].concat(C));return k.sourcePath&&delete k.path,k},_toSVG:function(){var C=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',C,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var C=a.Object.NUM_FRACTION_DIGITS;return" translate("+m(-this.pathOffset.x,C)+", "+m(-this.pathOffset.y,C)+")"},toClipPathSVG:function(C){var k=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:C,additionalTransform:k})},toSVG:function(C){var k=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:C,additionalTransform:k})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var C=[],k=[],S,O=0,N=0,U=0,W=0,q,J=0,ne=this.path.length;J<ne;++J){switch(S=this.path[J],S[0]){case"L":U=S[1],W=S[2],q=[];break;case"M":U=S[1],W=S[2],O=U,N=W,q=[];break;case"C":q=a.util.getBoundsOfCurve(U,W,S[1],S[2],S[3],S[4],S[5],S[6]),U=S[5],W=S[6];break;case"Q":q=a.util.getBoundsOfCurve(U,W,S[1],S[2],S[1],S[2],S[3],S[4]),U=S[3],W=S[4];break;case"z":case"Z":U=O,W=N;break}q.forEach(function(ct){C.push(ct.x),k.push(ct.y)}),C.push(U),k.push(W)}var ve=c(C)||0,Se=c(k)||0,Fe=v(C)||0,Ue=v(k)||0,Ze=Fe-ve,mt=Ue-Se;return{left:ve,top:Se,width:Ze,height:mt}}}),a.Path.fromObject=function(C,k){if(typeof C.sourcePath=="string"){var S=C.sourcePath;a.loadSVGFromURL(S,function(O){var N=O[0];N.setOptions(C),C.clipPath?a.util.enlivenObjects([C.clipPath],function(U){N.clipPath=U[0],k&&k(N)}):k&&k(N)})}else a.Object._fromObject("Path",C,k,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(C,k,S){var O=a.parseAttributes(C,a.Path.ATTRIBUTE_NAMES);O.fromSVG=!0,k(new a.Path(O.d,f(O,S)))}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.array.min,v=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(f,g,m){g=g||{},this._objects=[],m&&this.callSuper("initialize",g),this._objects=f||[];for(var C=this._objects.length;C--;)this._objects[C].group=this;if(m)this._updateObjectsACoords();else{var k=g&&g.centerPoint;g.originX!==void 0&&(this.originX=g.originX),g.originY!==void 0&&(this.originY=g.originY),k||this._calcBounds(),this._updateObjectsCoords(k),delete g.centerPoint,this.callSuper("initialize",g)}this.setCoords()},_updateObjectsACoords:function(){for(var f=!0,g=this._objects.length;g--;)this._objects[g].setCoords(f)},_updateObjectsCoords:function(g){for(var g=g||this.getCenterPoint(),m=this._objects.length;m--;)this._updateObjectCoords(this._objects[m],g)},_updateObjectCoords:function(f,g){var m=f.left,C=f.top,k=!0;f.set({left:m-g.x,top:C-g.y}),f.group=this,f.setCoords(k)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(f){var g=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),f&&(g&&a.util.removeTransformFromObject(f,this.group.calcTransformMatrix()),this._objects.push(f),f.group=this,f._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,g?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(f){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(f),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(f){this.dirty=!0,f.group=this,f._set("canvas",this.canvas)},_onObjectRemoved:function(f){this.dirty=!0,delete f.group},_set:function(f,g){var m=this._objects.length;if(this.useSetOnGroup)for(;m--;)this._objects[m].setOnGroup(f,g);if(f==="canvas")for(;m--;)this._objects[m]._set(f,g);a.Object.prototype._set.call(this,f,g)},toObject:function(f){var g=this.includeDefaultValues,m=this._objects.filter(function(k){return!k.excludeFromExport}).map(function(k){var S=k.includeDefaultValues;k.includeDefaultValues=g;var O=k.toObject(f);return k.includeDefaultValues=S,O}),C=a.Object.prototype.toObject.call(this,f);return C.objects=m,C},toDatalessObject:function(f){var g,m=this.sourcePath;if(m)g=m;else{var C=this.includeDefaultValues;g=this._objects.map(function(S){var O=S.includeDefaultValues;S.includeDefaultValues=C;var N=S.toDatalessObject(f);return S.includeDefaultValues=O,N})}var k=a.Object.prototype.toDatalessObject.call(this,f);return k.objects=g,k},render:function(f){this._transformDone=!0,this.callSuper("render",f),this._transformDone=!1},shouldCache:function(){var f=a.Object.prototype.shouldCache.call(this);if(f){for(var g=0,m=this._objects.length;g<m;g++)if(this._objects[g].willDrawShadow())return this.ownCaching=!1,!1}return f},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var f=0,g=this._objects.length;f<g;f++)if(this._objects[f].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(f){for(var g=0,m=this._objects.length;g<m;g++)this._objects[g].render(f);this._drawClipPath(f,this.clipPath)},isCacheDirty:function(f){if(this.callSuper("isCacheDirty",f))return!0;if(!this.statefullCache)return!1;for(var g=0,m=this._objects.length;g<m;g++)if(this._objects[g].isCacheDirty(!0)){if(this._cacheCanvas){var C=this.cacheWidth/this.zoomX,k=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-C/2,-k/2,C,k)}return!0}return!1},_restoreObjectsState:function(){var f=this.calcOwnMatrix();return this._objects.forEach(function(g){a.util.addTransformToObject(g,f),delete g.group,g.setCoords()}),this},destroy:function(){return this._objects.forEach(function(f){f.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var f=this._objects,g=this.canvas;this._objects=[];var m=this.toObject();delete m.objects;var C=new a.ActiveSelection([]);return C.set(m),C.type="activeSelection",g.remove(this),f.forEach(function(k){k.group=C,k.dirty=!0,g.add(k)}),C.canvas=g,C._objects=f,g._activeObject=C,C.setCoords(),C}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var f=!0;return this.forEachObject(function(g){g.setCoords(f)}),this},_calcBounds:function(f){for(var g=[],m=[],C,k,S,O=["tr","br","bl","tl"],N=0,U=this._objects.length,W,q=O.length;N<U;++N){for(C=this._objects[N],S=C.calcACoords(),W=0;W<q;W++)k=O[W],g.push(S[k].x),m.push(S[k].y);C.aCoords=S}this._getBounds(g,m,f)},_getBounds:function(f,g,m){var C=new a.Point(c(f),c(g)),k=new a.Point(v(f),v(g)),S=C.y||0,O=C.x||0,N=k.x-C.x||0,U=k.y-C.y||0;this.width=N,this.height=U,m||this.setPositionByOrigin({x:O,y:S},"left","top")},_toSVG:function(f){for(var g=["<g ","COMMON_PARTS",` >
`],m=0,C=this._objects.length;m<C;m++)g.push("		",this._objects[m].toSVG(f));return g.push(`</g>
`),g},getSvgStyles:function(){var f=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",g=this.visible?"":" visibility: hidden;";return[f,this.getSvgFilter(),g].join("")},toClipPathSVG:function(f){for(var g=[],m=0,C=this._objects.length;m<C;m++)g.push("	",this._objects[m].toClipPathSVG(f));return this._createBaseClipPathSVGMarkup(g,{reviver:f})}}),a.Group.fromObject=function(f,g){var m=f.objects,C=a.util.object.clone(f,!0);if(delete C.objects,typeof m=="string"){a.loadSVGFromURL(m,function(k){var S=a.util.groupSVGElements(k,f,m),O=C.clipPath;delete C.clipPath,S.set(C),O?a.util.enlivenObjects([O],function(N){S.clipPath=N[0],g&&g(S)}):g&&g(S)});return}a.util.enlivenObjects(m,function(k){a.util.enlivenObjectEnlivables(f,C,function(){g&&g(new a.Group(k,C,!0))})})})})(e),(function(d){var a=d.fabric||(d.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(c,v){v=v||{},this._objects=c||[];for(var f=this._objects.length;f--;)this._objects[f].group=this;v.originX&&(this.originX=v.originX),v.originY&&(this.originY=v.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,v),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var v=a.Object.prototype.toObject.call(this),f=new a.Group([]);if(delete v.type,f.set(v),c.forEach(function(m){m.canvas.remove(m),m.group=f}),f._objects=c,!this.canvas)return f;var g=this.canvas;return g.add(f),g._activeObject=f,f.setCoords(),f},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,v,f){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,f=f||{},typeof f.hasControls>"u"&&(f.hasControls=!1),f.forActiveSelection=!0;for(var g=0,m=this._objects.length;g<m;g++)this._objects[g]._renderControls(c,f);this.callSuper("_renderControls",c,v),c.restore()}}),a.ActiveSelection.fromObject=function(c,v){a.util.enlivenObjects(c.objects,function(f){delete c.objects,v&&v(new a.ActiveSelection(f,c,!0))})})})(e),(function(d){var a=t.util.object.extend;if(d.fabric||(d.fabric={}),d.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,v){v||(v={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",v),this._initElement(c,v)},getElement:function(){return this._element||{}},setElement:function(c,v){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(v),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var v=t.filterBackend;v&&v.evictCachesForKey&&v.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var v=this.width/2,f=this.height/2;c.beginPath(),c.moveTo(-v,-f),c.lineTo(v,-f),c.lineTo(v,f),c.lineTo(-v,f),c.lineTo(-v,-f),c.closePath()}},toObject:function(c){var v=[];this.filters.forEach(function(g){g&&v.push(g.toObject())});var f=a(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:v});return this.resizeFilter&&(f.resizeFilter=this.resizeFilter.toObject()),f},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],v=[],f,g=this._element,m=-this.width/2,C=-this.height/2,k="",S="";if(!g)return[];if(this.hasCrop()){var O=t.Object.__uid++;c.push('<clipPath id="imageCrop_'+O+`">
`,'	<rect x="'+m+'" y="'+C+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),k=' clip-path="url(#imageCrop_'+O+')" '}if(this.imageSmoothing||(S='" image-rendering="optimizeSpeed'),v.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',m-this.cropX,'" y="',C-this.cropY,'" width="',g.width||g.naturalWidth,'" height="',g.height||g.height,S,'"',k,`></image>
`),this.stroke||this.strokeDashArray){var N=this.fill;this.fill=null,f=["	<rect ",'x="',m,'" y="',C,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=N}return this.paintFirst!=="fill"?c=c.concat(f,v):c=c.concat(v,f),c},getSrc:function(c){var v=c?this._element:this._originalElement;return v?v.toDataURL?v.toDataURL():this.srcFromAttribute?v.getAttribute("src"):v.src:this.src||""},setSrc:function(c,v,f){return t.util.loadImage(c,function(g,m){this.setElement(g,f),this._setWidthHeight(),v&&v(this,m)},this,f&&f.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,v=this.minimumScaleTrigger,f=this.getTotalObjectScaling(),g=f.scaleX,m=f.scaleY,C=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||g>v&&m>v){this._element=C,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=g,this._lastScaleY=m;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var k=t.util.createCanvasElement(),S=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,O=C.width,N=C.height;k.width=O,k.height=N,this._element=k,this._lastScaleX=c.scaleX=g,this._lastScaleY=c.scaleY=m,t.filterBackend.applyFilters([c],C,O,N,this._element,S),this._filterScalingX=k.width/this._originalElement.width,this._filterScalingY=k.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(C){return C&&!C.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var v=this._originalElement,f=v.naturalWidth||v.width,g=v.naturalHeight||v.height;if(this._element===this._originalElement){var m=t.util.createCanvasElement();m.width=f,m.height=g,this._element=m,this._filteredEl=m}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,f,g),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(c,this._originalElement,f,g,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var v=this._element;if(v){var f=this._filterScalingX,g=this._filterScalingY,m=this.width,C=this.height,k=Math.min,S=Math.max,O=S(this.cropX,0),N=S(this.cropY,0),U=v.naturalWidth||v.width,W=v.naturalHeight||v.height,q=O*f,J=N*g,ne=k(m*f,U-q),ve=k(C*g,W-J),Se=-m/2,Fe=-C/2,Ue=k(m,U/f-O),Ze=k(C,W/g-N);v&&c.drawImage(v,q,J,ne,ve,Se,Fe,Ue,Ze)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,v){this.setElement(t.util.getById(c),v),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,v){c&&c.length?t.util.enlivenObjects(c,function(f){v&&v(f)},"fabric.Image.filters"):v&&v()},_setWidthHeight:function(c){c||(c={});var v=this.getElement();this.width=c.width||v.naturalWidth||v.width||0,this.height=c.height||v.naturalHeight||v.height||0},parsePreserveAspectRatioAttribute:function(){var c=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),v=this._element.width,f=this._element.height,g=1,m=1,C=0,k=0,S=0,O=0,N,U=this.width,W=this.height,q={width:U,height:W};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(g=m=t.util.findScaleToFit(this._element,q),N=(U-v*g)/2,c.alignX==="Min"&&(C=-N),c.alignX==="Max"&&(C=N),N=(W-f*m)/2,c.alignY==="Min"&&(k=-N),c.alignY==="Max"&&(k=N)),c.meetOrSlice==="slice"&&(g=m=t.util.findScaleToCover(this._element,q),N=v-U/g,c.alignX==="Mid"&&(S=N/2),c.alignX==="Max"&&(S=N),N=f-W/m,c.alignY==="Mid"&&(O=N/2),c.alignY==="Max"&&(O=N),v=U/g,f=W/m)):(g=U/v,m=W/f),{width:v,height:f,scaleX:g,scaleY:m,offsetLeft:C,offsetTop:k,cropX:S,cropY:O}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(c,v){var f=t.util.object.clone(c);t.util.loadImage(f.src,function(g,m){if(m){v&&v(null,!0);return}t.Image.prototype._initFilters.call(f,f.filters,function(C){f.filters=C||[],t.Image.prototype._initFilters.call(f,[f.resizeFilter],function(k){f.resizeFilter=k[0],t.util.enlivenObjectEnlivables(f,f,function(){var S=new t.Image(g,f);v(S,!1)})})})},null,f.crossOrigin)},t.Image.fromURL=function(c,v,f){t.util.loadImage(c,function(g,m){v&&v(new t.Image(g,f),m)},null,f&&f.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(c,v,f){var g=t.parseAttributes(c,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(g["xlink:href"],v,a(f?t.util.object.clone(f):{},g))}})(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var d=this.angle%360;return d>0?Math.round((d-1)/90)*90:Math.round(d/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(d){d=d||{};var a=function(){},c=d.onComplete||a,v=d.onChange||a,f=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(g){f.rotate(g),v()},onComplete:function(){f.setCoords(),c()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(d){return d.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(d){return d.fxStraighten({onChange:this.requestRenderAllBound})}}),(function(){function d(c,v){var f="precision "+v+` float;
void main(){}`,g=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(g,f),c.compileShader(g),!!c.getShaderParameter(g,c.COMPILE_STATUS)}t.isWebglSupported=function(c){if(t.isLikelyNode)return!1;c=c||t.WebglFilterBackend.prototype.tileSize;var v=document.createElement("canvas"),f=v.getContext("webgl")||v.getContext("experimental-webgl"),g=!1;if(f){t.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE),g=t.maxTextureSize>=c;for(var m=["highp","mediump","lowp"],C=0;C<3;C++)if(d(f,m[C])){t.webGlPrecision=m[C];break}}return this.isSupported=g,g},t.WebglFilterBackend=a;function a(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(c,v){this.dispose(),this.createWebGLCanvas(c,v),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,v)},chooseFastestCopyGLTo2DMethod:function(c,v){var f=typeof window.performance<"u",g;try{new ImageData(1,1),g=!0}catch{g=!1}var m=typeof ArrayBuffer<"u",C=typeof Uint8ClampedArray<"u";if(f&&g&&m&&C){var k=t.util.createCanvasElement(),S=new ArrayBuffer(c*v*4);if(t.forceGLPutImageData){this.imageBuffer=S,this.copyGLTo2D=y;return}var O={imageBuffer:S,destinationWidth:c,destinationHeight:v,targetCanvas:k},N,U,W;k.width=c,k.height=v,N=window.performance.now(),u.call(O,this.gl,O),U=window.performance.now()-N,N=window.performance.now(),y.call(O,this.gl,O),W=window.performance.now()-N,U>W?(this.imageBuffer=S,this.copyGLTo2D=y):this.copyGLTo2D=u}},createWebGLCanvas:function(c,v){var f=t.util.createCanvasElement();f.width=c,f.height=v;var g={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},m=f.getContext("webgl",g);m||(m=f.getContext("experimental-webgl",g)),m&&(m.clearColor(0,0,0,0),this.canvas=f,this.gl=m)},applyFilters:function(c,v,f,g,m,C){var k=this.gl,S;C&&(S=this.getCachedTexture(C,v));var O={originalWidth:v.width||v.originalWidth,originalHeight:v.height||v.originalHeight,sourceWidth:f,sourceHeight:g,destinationWidth:f,destinationHeight:g,context:k,sourceTexture:this.createTexture(k,f,g,!S&&v),targetTexture:this.createTexture(k,f,g),originalTexture:S||this.createTexture(k,f,g,!S&&v),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:m},N=k.createFramebuffer();return k.bindFramebuffer(k.FRAMEBUFFER,N),c.forEach(function(U){U&&U.applyTo(O)}),o(O),this.copyGLTo2D(k,O),k.bindTexture(k.TEXTURE_2D,null),k.deleteTexture(O.sourceTexture),k.deleteTexture(O.targetTexture),k.deleteFramebuffer(N),m.getContext("2d").setTransform(1,0,0,1,0,0),O},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,v,f,g,m){var C=c.createTexture();return c.bindTexture(c.TEXTURE_2D,C),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,m||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,m||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),g?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,g):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,v,f,0,c.RGBA,c.UNSIGNED_BYTE,null),C},getCachedTexture:function(c,v){if(this.textureCache[c])return this.textureCache[c];var f=this.createTexture(this.gl,v.width,v.height,v);return this.textureCache[c]=f,f},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:u,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,v={renderer:"",vendor:""};if(!c)return v;var f=c.getExtension("WEBGL_debug_renderer_info");if(f){var g=c.getParameter(f.UNMASKED_RENDERER_WEBGL),m=c.getParameter(f.UNMASKED_VENDOR_WEBGL);g&&(v.renderer=g.toLowerCase()),m&&(v.vendor=m.toLowerCase())}return this.gpuInfo=v,v}}})();function o(d){var a=d.targetCanvas,c=a.width,v=a.height,f=d.destinationWidth,g=d.destinationHeight;(c!==f||v!==g)&&(a.width=f,a.height=g)}function u(d,a){var c=d.canvas,v=a.targetCanvas,f=v.getContext("2d");f.translate(0,v.height),f.scale(1,-1);var g=c.height-v.height;f.drawImage(c,0,g,v.width,v.height,0,0,v.width,v.height)}function y(d,a){var c=a.targetCanvas,v=c.getContext("2d"),f=a.destinationWidth,g=a.destinationHeight,m=f*g*4,C=new Uint8Array(this.imageBuffer,0,m),k=new Uint8ClampedArray(this.imageBuffer,0,m);d.readPixels(0,0,f,g,d.RGBA,d.UNSIGNED_BYTE,C);var S=new ImageData(k,f,g);v.putImageData(S,0,0)}(function(){var d=function(){};t.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:d,dispose:d,clearWebGLCaches:d,resources:{},applyFilters:function(c,v,f,g,m){var C=m.getContext("2d");C.drawImage(v,0,0,f,g);var k=C.getImageData(0,0,f,g),S=C.getImageData(0,0,f,g),O={sourceWidth:f,sourceHeight:g,imageData:k,originalEl:v,originalImageData:S,canvasEl:m,ctx:C,filterBackend:this};return c.forEach(function(N){N.applyTo(O)}),(O.imageData.width!==f||O.imageData.height!==g)&&(m.width=O.imageData.width,m.height=O.imageData.height),C.putImageData(O.imageData,0,0),O}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(d){d&&this.setOptions(d)},setOptions:function(d){for(var a in d)this[a]=d[a]},createProgram:function(d,a,c){a=a||this.fragmentSource,c=c||this.vertexSource,t.webGlPrecision!=="highp"&&(a=a.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var v=d.createShader(d.VERTEX_SHADER);if(d.shaderSource(v,c),d.compileShader(v),!d.getShaderParameter(v,d.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+d.getShaderInfoLog(v));var f=d.createShader(d.FRAGMENT_SHADER);if(d.shaderSource(f,a),d.compileShader(f),!d.getShaderParameter(f,d.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+d.getShaderInfoLog(f));var g=d.createProgram();if(d.attachShader(g,v),d.attachShader(g,f),d.linkProgram(g),!d.getProgramParameter(g,d.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+d.getProgramInfoLog(g));var m=this.getAttributeLocations(d,g),C=this.getUniformLocations(d,g)||{};return C.uStepW=d.getUniformLocation(g,"uStepW"),C.uStepH=d.getUniformLocation(g,"uStepH"),{program:g,attributeLocations:m,uniformLocations:C}},getAttributeLocations:function(d,a){return{aPosition:d.getAttribLocation(a,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(d,a,c){var v=a.aPosition,f=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,f),d.enableVertexAttribArray(v),d.vertexAttribPointer(v,2,d.FLOAT,!1,0,0),d.bufferData(d.ARRAY_BUFFER,c,d.STATIC_DRAW)},_setupFrameBuffer:function(d){var a=d.context,c,v;d.passes>1?(c=d.destinationWidth,v=d.destinationHeight,(d.sourceWidth!==c||d.sourceHeight!==v)&&(a.deleteTexture(d.targetTexture),d.targetTexture=d.filterBackend.createTexture(a,c,v)),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,d.targetTexture,0)):(a.bindFramebuffer(a.FRAMEBUFFER,null),a.finish())},_swapTextures:function(d){d.passes--,d.pass++;var a=d.targetTexture;d.targetTexture=d.sourceTexture,d.sourceTexture=a},isNeutralState:function(){var d=this.mainParameter,a=t.Image.filters[this.type].prototype;if(d)if(Array.isArray(a[d])){for(var c=a[d].length;c--;)if(this[d][c]!==a[d][c])return!1;return!0}else return a[d]===this[d];else return!1},applyTo:function(d){d.webgl?(this._setupFrameBuffer(d),this.applyToWebGL(d),this._swapTextures(d)):this.applyTo2d(d)},retrieveShader:function(d){return d.programCache.hasOwnProperty(this.type)||(d.programCache[this.type]=this.createProgram(d.context)),d.programCache[this.type]},applyToWebGL:function(d){var a=d.context,c=this.retrieveShader(d);d.pass===0&&d.originalTexture?a.bindTexture(a.TEXTURE_2D,d.originalTexture):a.bindTexture(a.TEXTURE_2D,d.sourceTexture),a.useProgram(c.program),this.sendAttributeData(a,c.attributeLocations,d.aPosition),a.uniform1f(c.uniformLocations.uStepW,1/d.sourceWidth),a.uniform1f(c.uniformLocations.uStepH,1/d.sourceHeight),this.sendUniformData(a,c.uniformLocations),a.viewport(0,0,d.destinationWidth,d.destinationHeight),a.drawArrays(a.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(d,a,c){d.activeTexture(c),d.bindTexture(d.TEXTURE_2D,a),d.activeTexture(d.TEXTURE0)},unbindAdditionalTexture:function(d,a){d.activeTexture(a),d.bindTexture(d.TEXTURE_2D,null),d.activeTexture(d.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(d){this[this.mainParameter]=d},sendUniformData:function(){},createHelpLayer:function(d){if(!d.helpLayer){var a=document.createElement("canvas");a.width=d.sourceWidth,a.height=d.sourceHeight,d.helpLayer=a}},toObject:function(){var d={type:this.type},a=this.mainParameter;return a&&(d[a]=this[a]),d},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(d,a){var c=new t.Image.filters[d.type](d);return a&&a(c),c},(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.ColorMatrix=v(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(f){this.callSuper("initialize",f),this.matrix=this.matrix.slice(0)},applyTo2d:function(f){var g=f.imageData,m=g.data,C=m.length,k=this.matrix,S,O,N,U,W,q=this.colorsOnly;for(W=0;W<C;W+=4)S=m[W],O=m[W+1],N=m[W+2],q?(m[W]=S*k[0]+O*k[1]+N*k[2]+k[4]*255,m[W+1]=S*k[5]+O*k[6]+N*k[7]+k[9]*255,m[W+2]=S*k[10]+O*k[11]+N*k[12]+k[14]*255):(U=m[W+3],m[W]=S*k[0]+O*k[1]+N*k[2]+U*k[3]+k[4]*255,m[W+1]=S*k[5]+O*k[6]+N*k[7]+U*k[8]+k[9]*255,m[W+2]=S*k[10]+O*k[11]+N*k[12]+U*k[13]+k[14]*255,m[W+3]=S*k[15]+O*k[16]+N*k[17]+U*k[18]+k[19]*255)},getUniformLocations:function(f,g){return{uColorMatrix:f.getUniformLocation(g,"uColorMatrix"),uConstants:f.getUniformLocation(g,"uConstants")}},sendUniformData:function(f,g){var m=this.matrix,C=[m[0],m[1],m[2],m[3],m[5],m[6],m[7],m[8],m[10],m[11],m[12],m[13],m[15],m[16],m[17],m[18]],k=[m[4],m[9],m[14],m[19]];f.uniformMatrix4fv(g.uColorMatrix,!1,C),f.uniform4fv(g.uConstants,k)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Brightness=v(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(f){if(this.brightness!==0){var g=f.imageData,m=g.data,C,k=m.length,S=Math.round(this.brightness*255);for(C=0;C<k;C+=4)m[C]=m[C]+S,m[C+1]=m[C+1]+S,m[C+2]=m[C+2]+S}},getUniformLocations:function(f,g){return{uBrightness:f.getUniformLocation(g,"uBrightness")}},sendUniformData:function(f,g){f.uniform1f(g.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend,v=a.Image.filters,f=a.util.createClass;v.Convolute=f(v.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(g){var m=Math.sqrt(this.matrix.length),C=this.type+"_"+m+"_"+(this.opaque?1:0),k=this.fragmentSource[C];return g.programCache.hasOwnProperty(C)||(g.programCache[C]=this.createProgram(g.context,k)),g.programCache[C]},applyTo2d:function(g){var m=g.imageData,C=m.data,k=this.matrix,S=Math.round(Math.sqrt(k.length)),O=Math.floor(S/2),N=m.width,U=m.height,W=g.ctx.createImageData(N,U),q=W.data,J=this.opaque?1:0,ne,ve,Se,Fe,Ue,Ze,mt,ct,ge,ye,Re,ft,Me;for(Re=0;Re<U;Re++)for(ye=0;ye<N;ye++){for(Ue=(Re*N+ye)*4,ne=0,ve=0,Se=0,Fe=0,Me=0;Me<S;Me++)for(ft=0;ft<S;ft++)mt=Re+Me-O,Ze=ye+ft-O,!(mt<0||mt>=U||Ze<0||Ze>=N)&&(ct=(mt*N+Ze)*4,ge=k[Me*S+ft],ne+=C[ct]*ge,ve+=C[ct+1]*ge,Se+=C[ct+2]*ge,J||(Fe+=C[ct+3]*ge));q[Ue]=ne,q[Ue+1]=ve,q[Ue+2]=Se,J?q[Ue+3]=C[Ue+3]:q[Ue+3]=Fe}g.imageData=W},getUniformLocations:function(g,m){return{uMatrix:g.getUniformLocation(m,"uMatrix"),uOpaque:g.getUniformLocation(m,"uOpaque"),uHalfSize:g.getUniformLocation(m,"uHalfSize"),uSize:g.getUniformLocation(m,"uSize")}},sendUniformData:function(g,m){g.uniform1fv(m.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Grayscale=v(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(f){var g=f.imageData,m=g.data,C,k=m.length,S,O=this.mode;for(C=0;C<k;C+=4)O==="average"?S=(m[C]+m[C+1]+m[C+2])/3:O==="lightness"?S=(Math.min(m[C],m[C+1],m[C+2])+Math.max(m[C],m[C+1],m[C+2]))/2:O==="luminosity"&&(S=.21*m[C]+.72*m[C+1]+.07*m[C+2]),m[C]=S,m[C+1]=S,m[C+2]=S},retrieveShader:function(f){var g=this.type+"_"+this.mode;if(!f.programCache.hasOwnProperty(g)){var m=this.fragmentSource[this.mode];f.programCache[g]=this.createProgram(f.context,m)}return f.programCache[g]},getUniformLocations:function(f,g){return{uMode:f.getUniformLocation(g,"uMode")}},sendUniformData:function(f,g){var m=1;f.uniform1i(g.uMode,m)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Invert=v(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(f){var g=f.imageData,m=g.data,C,k=m.length;for(C=0;C<k;C+=4)m[C]=255-m[C],m[C+1]=255-m[C+1],m[C+2]=255-m[C+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(f,g){return{uInvert:f.getUniformLocation(g,"uInvert")}},sendUniformData:function(f,g){f.uniform1i(g.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend,v=a.Image.filters,f=a.util.createClass;v.Noise=f(v.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(g){if(this.noise!==0){var m=g.imageData,C=m.data,k,S=C.length,O=this.noise,N;for(k=0,S=C.length;k<S;k+=4)N=(.5-Math.random())*O,C[k]+=N,C[k+1]+=N,C[k+2]+=N}},getUniformLocations:function(g,m){return{uNoise:g.getUniformLocation(m,"uNoise"),uSeed:g.getUniformLocation(m,"uSeed")}},sendUniformData:function(g,m){g.uniform1f(m.uNoise,this.noise/255),g.uniform1f(m.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Pixelate=v(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(f){var g=f.imageData,m=g.data,C=g.height,k=g.width,S,O,N,U,W,q,J,ne,ve,Se,Fe;for(O=0;O<C;O+=this.blocksize)for(N=0;N<k;N+=this.blocksize)for(S=O*4*k+N*4,U=m[S],W=m[S+1],q=m[S+2],J=m[S+3],Se=Math.min(O+this.blocksize,C),Fe=Math.min(N+this.blocksize,k),ne=O;ne<Se;ne++)for(ve=N;ve<Fe;ve++)S=ne*4*k+ve*4,m[S]=U,m[S+1]=W,m[S+2]=q,m[S+3]=J},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(f,g){return{uBlocksize:f.getUniformLocation(g,"uBlocksize"),uStepW:f.getUniformLocation(g,"uStepW"),uStepH:f.getUniformLocation(g,"uStepH")}},sendUniformData:function(f,g){f.uniform1f(g.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.extend,v=a.Image.filters,f=a.util.createClass;v.RemoveColor=f(v.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(g){var m=g.imageData,C=m.data,k,S=this.distance*255,O,N,U,W=new a.Color(this.color).getSource(),q=[W[0]-S,W[1]-S,W[2]-S],J=[W[0]+S,W[1]+S,W[2]+S];for(k=0;k<C.length;k+=4)O=C[k],N=C[k+1],U=C[k+2],O>q[0]&&N>q[1]&&U>q[2]&&O<J[0]&&N<J[1]&&U<J[2]&&(C[k+3]=0)},getUniformLocations:function(g,m){return{uLow:g.getUniformLocation(m,"uLow"),uHigh:g.getUniformLocation(m,"uHigh")}},sendUniformData:function(g,m){var C=new a.Color(this.color).getSource(),k=parseFloat(this.distance),S=[0+C[0]/255-k,0+C[1]/255-k,0+C[2]/255-k,1],O=[C[0]/255+k,C[1]/255+k,C[2]/255+k,1];g.uniform4fv(m.uLow,S),g.uniform4fv(m.uHigh,O)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass,f={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var g in f)c[g]=v(c.ColorMatrix,{type:g,matrix:f[g],mainParameter:!1,colorsOnly:!0}),a.Image.filters[g].fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric,c=a.Image.filters,v=a.util.createClass;c.BlendColor=v(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(f){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[f]+`}
}`},retrieveShader:function(f){var g=this.type+"_"+this.mode,m;return f.programCache.hasOwnProperty(g)||(m=this.buildSource(this.mode),f.programCache[g]=this.createProgram(f.context,m)),f.programCache[g]},applyTo2d:function(f){var g=f.imageData,m=g.data,C=m.length,k,S,O,N,U,W,q,J=1-this.alpha;q=new a.Color(this.color).getSource(),k=q[0]*this.alpha,S=q[1]*this.alpha,O=q[2]*this.alpha;for(var ne=0;ne<C;ne+=4)switch(N=m[ne],U=m[ne+1],W=m[ne+2],this.mode){case"multiply":m[ne]=N*k/255,m[ne+1]=U*S/255,m[ne+2]=W*O/255;break;case"screen":m[ne]=255-(255-N)*(255-k)/255,m[ne+1]=255-(255-U)*(255-S)/255,m[ne+2]=255-(255-W)*(255-O)/255;break;case"add":m[ne]=N+k,m[ne+1]=U+S,m[ne+2]=W+O;break;case"diff":case"difference":m[ne]=Math.abs(N-k),m[ne+1]=Math.abs(U-S),m[ne+2]=Math.abs(W-O);break;case"subtract":m[ne]=N-k,m[ne+1]=U-S,m[ne+2]=W-O;break;case"darken":m[ne]=Math.min(N,k),m[ne+1]=Math.min(U,S),m[ne+2]=Math.min(W,O);break;case"lighten":m[ne]=Math.max(N,k),m[ne+1]=Math.max(U,S),m[ne+2]=Math.max(W,O);break;case"overlay":m[ne]=k<128?2*N*k/255:255-2*(255-N)*(255-k)/255,m[ne+1]=S<128?2*U*S/255:255-2*(255-U)*(255-S)/255,m[ne+2]=O<128?2*W*O/255:255-2*(255-W)*(255-O)/255;break;case"exclusion":m[ne]=k+N-2*k*N/255,m[ne+1]=S+U-2*S*U/255,m[ne+2]=O+W-2*O*W/255;break;case"tint":m[ne]=k+N*J,m[ne+1]=S+U*J,m[ne+2]=O+W*J}},getUniformLocations:function(f,g){return{uColor:f.getUniformLocation(g,"uColor")}},sendUniformData:function(f,g){var m=new a.Color(this.color).getSource();m[0]=this.alpha*m[0]/255,m[1]=this.alpha*m[1]/255,m[2]=this.alpha*m[2]/255,m[3]=this.alpha,f.uniform4fv(g.uColor,m)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric,c=a.Image.filters,v=a.util.createClass;c.BlendImage=v(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(f){var g=this.type+"_"+this.mode,m=this.fragmentSource[this.mode];return f.programCache.hasOwnProperty(g)||(f.programCache[g]=this.createProgram(f.context,m)),f.programCache[g]},applyToWebGL:function(f){var g=f.context,m=this.createTexture(f.filterBackend,this.image);this.bindAdditionalTexture(g,m,g.TEXTURE1),this.callSuper("applyToWebGL",f),this.unbindAdditionalTexture(g,g.TEXTURE1)},createTexture:function(f,g){return f.getCachedTexture(g.cacheKey,g._element)},calculateMatrix:function(){var f=this.image,g=f._element.width,m=f._element.height;return[1/f.scaleX,0,0,0,1/f.scaleY,0,-f.left/g,-f.top/m,1]},applyTo2d:function(f){var g=f.imageData,m=f.filterBackend.resources,C=g.data,k=C.length,S=g.width,O=g.height,N,U,W,q,J,ne,ve,Se,Fe,Ue,Ze=this.image,mt;m.blendImage||(m.blendImage=a.util.createCanvasElement()),Fe=m.blendImage,Ue=Fe.getContext("2d"),Fe.width!==S||Fe.height!==O?(Fe.width=S,Fe.height=O):Ue.clearRect(0,0,S,O),Ue.setTransform(Ze.scaleX,0,0,Ze.scaleY,Ze.left,Ze.top),Ue.drawImage(Ze._element,0,0,S,O),mt=Ue.getImageData(0,0,S,O).data;for(var ct=0;ct<k;ct+=4)switch(J=C[ct],ne=C[ct+1],ve=C[ct+2],Se=C[ct+3],N=mt[ct],U=mt[ct+1],W=mt[ct+2],q=mt[ct+3],this.mode){case"multiply":C[ct]=J*N/255,C[ct+1]=ne*U/255,C[ct+2]=ve*W/255,C[ct+3]=Se*q/255;break;case"mask":C[ct+3]=q;break}},getUniformLocations:function(f,g){return{uTransformMatrix:f.getUniformLocation(g,"uTransformMatrix"),uImage:f.getUniformLocation(g,"uImage")}},sendUniformData:function(f,g){var m=this.calculateMatrix();f.uniform1i(g.uImage,1),f.uniformMatrix3fv(g.uTransformMatrix,!1,m)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(f,g){a.Image.fromObject(f.image,function(m){var C=a.util.object.clone(f);C.image=m,g(new a.Image.filters.BlendImage(C))})}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=Math.pow,v=Math.floor,f=Math.sqrt,g=Math.abs,m=Math.round,C=Math.sin,k=Math.ceil,S=a.Image.filters,O=a.util.createClass;S.Resize=O(S.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(N,U){return{uDelta:N.getUniformLocation(U,"uDelta"),uTaps:N.getUniformLocation(U,"uTaps")}},sendUniformData:function(N,U){N.uniform2fv(U.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),N.uniform1fv(U.uTaps,this.taps)},retrieveShader:function(N){var U=this.getFilterWindow(),W=this.type+"_"+U;if(!N.programCache.hasOwnProperty(W)){var q=this.generateShader(U);N.programCache[W]=this.createProgram(N.context,q)}return N.programCache[W]},getFilterWindow:function(){var N=this.tempScale;return Math.ceil(this.lanczosLobes/N)},getTaps:function(){for(var N=this.lanczosCreate(this.lanczosLobes),U=this.tempScale,W=this.getFilterWindow(),q=new Array(W),J=1;J<=W;J++)q[J-1]=N(J*U);return q},generateShader:function(q){for(var U=new Array(q),W=this.fragmentSourceTOP,q,J=1;J<=q;J++)U[J-1]=J+".0 * uDelta";return W+="uniform float uTaps["+q+`];
`,W+=`void main() {
`,W+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,W+=`  float sum = 1.0;
`,U.forEach(function(ne,ve){W+="  color += texture2D(uTexture, vTexCoord + "+ne+") * uTaps["+ve+`];
`,W+="  color += texture2D(uTexture, vTexCoord - "+ne+") * uTaps["+ve+`];
`,W+="  sum += 2.0 * uTaps["+ve+`];
`}),W+=`  gl_FragColor = color / sum;
`,W+="}",W},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(N){N.webgl?(N.passes++,this.width=N.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=N.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),N.destinationWidth=this.dW,this._setupFrameBuffer(N),this.applyToWebGL(N),this._swapTextures(N),N.sourceWidth=N.destinationWidth,this.height=N.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),N.destinationHeight=this.dH,this._setupFrameBuffer(N),this.applyToWebGL(N),this._swapTextures(N),N.sourceHeight=N.destinationHeight):this.applyTo2d(N)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(N){return function(U){if(U>=N||U<=-N)return 0;if(U<11920929e-14&&U>-11920929e-14)return 1;U*=Math.PI;var W=U/N;return C(U)/U*C(W)/W}},applyTo2d:function(N){var U=N.imageData,W=this.scaleX,q=this.scaleY;this.rcpScaleX=1/W,this.rcpScaleY=1/q;var J=U.width,ne=U.height,ve=m(J*W),Se=m(ne*q),Fe;this.resizeType==="sliceHack"?Fe=this.sliceByTwo(N,J,ne,ve,Se):this.resizeType==="hermite"?Fe=this.hermiteFastResize(N,J,ne,ve,Se):this.resizeType==="bilinear"?Fe=this.bilinearFiltering(N,J,ne,ve,Se):this.resizeType==="lanczos"&&(Fe=this.lanczosResize(N,J,ne,ve,Se)),N.imageData=Fe},sliceByTwo:function(N,U,W,q,J){var ne=N.imageData,ve=.5,Se=!1,Fe=!1,Ue=U*ve,Ze=W*ve,mt=a.filterBackend.resources,ct,ge,ye=0,Re=0,ft=U,Me=0;for(mt.sliceByTwo||(mt.sliceByTwo=document.createElement("canvas")),ct=mt.sliceByTwo,(ct.width<U*1.5||ct.height<W)&&(ct.width=U*1.5,ct.height=W),ge=ct.getContext("2d"),ge.clearRect(0,0,U*1.5,W),ge.putImageData(ne,0,0),q=v(q),J=v(J);!Se||!Fe;)U=Ue,W=Ze,q<v(Ue*ve)?Ue=v(Ue*ve):(Ue=q,Se=!0),J<v(Ze*ve)?Ze=v(Ze*ve):(Ze=J,Fe=!0),ge.drawImage(ct,ye,Re,U,W,ft,Me,Ue,Ze),ye=ft,Re=Me,Me+=Ze;return ge.getImageData(ye,Re,q,J)},lanczosResize:function(N,U,W,q,J){function ne(le){var ae,V,me,Ae,Ne,ut,xt,et,Wt,_t,Ft;for(Me.x=(le+.5)*Ze,ce.x=v(Me.x),ae=0;ae<J;ae++){for(Me.y=(ae+.5)*mt,ce.y=v(Me.y),Ne=0,ut=0,xt=0,et=0,Wt=0,V=ce.x-ye;V<=ce.x+ye;V++)if(!(V<0||V>=U)){_t=v(1e3*g(V-Me.x)),ft[_t]||(ft[_t]={});for(var st=ce.y-Re;st<=ce.y+Re;st++)st<0||st>=W||(Ft=v(1e3*g(st-Me.y)),ft[_t][Ft]||(ft[_t][Ft]=Ue(f(c(_t*ct,2)+c(Ft*ge,2))/1e3)),me=ft[_t][Ft],me>0&&(Ae=(st*U+V)*4,Ne+=me,ut+=me*ve[Ae],xt+=me*ve[Ae+1],et+=me*ve[Ae+2],Wt+=me*ve[Ae+3]))}Ae=(ae*q+le)*4,Fe[Ae]=ut/Ne,Fe[Ae+1]=xt/Ne,Fe[Ae+2]=et/Ne,Fe[Ae+3]=Wt/Ne}return++le<q?ne(le):Se}var ve=N.imageData.data,Se=N.ctx.createImageData(q,J),Fe=Se.data,Ue=this.lanczosCreate(this.lanczosLobes),Ze=this.rcpScaleX,mt=this.rcpScaleY,ct=2/this.rcpScaleX,ge=2/this.rcpScaleY,ye=k(Ze*this.lanczosLobes/2),Re=k(mt*this.lanczosLobes/2),ft={},Me={},ce={};return ne(0)},bilinearFiltering:function(N,U,W,q,J){var ne,ve,Se,Fe,Ue,Ze,mt,ct,ge,ye,Re,ft,Me=0,ce,le=this.rcpScaleX,ae=this.rcpScaleY,V=4*(U-1),me=N.imageData,Ae=me.data,Ne=N.ctx.createImageData(q,J),ut=Ne.data;for(mt=0;mt<J;mt++)for(ct=0;ct<q;ct++)for(Ue=v(le*ct),Ze=v(ae*mt),ge=le*ct-Ue,ye=ae*mt-Ze,ce=4*(Ze*U+Ue),Re=0;Re<4;Re++)ne=Ae[ce+Re],ve=Ae[ce+4+Re],Se=Ae[ce+V+Re],Fe=Ae[ce+V+4+Re],ft=ne*(1-ge)*(1-ye)+ve*ge*(1-ye)+Se*ye*(1-ge)+Fe*ge*ye,ut[Me++]=ft;return Ne},hermiteFastResize:function(N,U,W,q,J){for(var ne=this.rcpScaleX,ve=this.rcpScaleY,Se=k(ne/2),Fe=k(ve/2),Ue=N.imageData,Ze=Ue.data,mt=N.ctx.createImageData(q,J),ct=mt.data,ge=0;ge<J;ge++)for(var ye=0;ye<q;ye++){for(var Re=(ye+ge*q)*4,ft=0,Me=0,ce=0,le=0,ae=0,V=0,me=0,Ae=(ge+.5)*ve,Ne=v(ge*ve);Ne<(ge+1)*ve;Ne++)for(var ut=g(Ae-(Ne+.5))/Fe,xt=(ye+.5)*ne,et=ut*ut,Wt=v(ye*ne);Wt<(ye+1)*ne;Wt++){var _t=g(xt-(Wt+.5))/Se,Ft=f(et+_t*_t);Ft>1&&Ft<-1||(ft=2*Ft*Ft*Ft-3*Ft*Ft+1,ft>0&&(_t=4*(Wt+Ne*U),me+=ft*Ze[_t+3],ce+=ft,Ze[_t+3]<255&&(ft=ft*Ze[_t+3]/250),le+=ft*Ze[_t],ae+=ft*Ze[_t+1],V+=ft*Ze[_t+2],Me+=ft))}ct[Re]=le/Me,ct[Re+1]=ae/Me,ct[Re+2]=V/Me,ct[Re+3]=me/ce}return mt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Contrast=v(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(f){if(this.contrast!==0){var g=f.imageData,m,k,C=g.data,k=C.length,S=Math.floor(this.contrast*255),O=259*(S+255)/(255*(259-S));for(m=0;m<k;m+=4)C[m]=O*(C[m]-128)+128,C[m+1]=O*(C[m+1]-128)+128,C[m+2]=O*(C[m+2]-128)+128}},getUniformLocations:function(f,g){return{uContrast:f.getUniformLocation(g,"uContrast")}},sendUniformData:function(f,g){f.uniform1f(g.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Saturation=v(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(f){if(this.saturation!==0){var g=f.imageData,m=g.data,C=m.length,k=-this.saturation,S,O;for(S=0;S<C;S+=4)O=Math.max(m[S],m[S+1],m[S+2]),m[S]+=O!==m[S]?(O-m[S])*k:0,m[S+1]+=O!==m[S+1]?(O-m[S+1])*k:0,m[S+2]+=O!==m[S+2]?(O-m[S+2])*k:0}},getUniformLocations:function(f,g){return{uSaturation:f.getUniformLocation(g,"uSaturation")}},sendUniformData:function(f,g){f.uniform1f(g.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Vibrance=v(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(f){if(this.vibrance!==0){var g=f.imageData,m=g.data,C=m.length,k=-this.vibrance,S,O,N,U;for(S=0;S<C;S+=4)O=Math.max(m[S],m[S+1],m[S+2]),N=(m[S]+m[S+1]+m[S+2])/3,U=Math.abs(O-N)*2/255*k,m[S]+=O!==m[S]?(O-m[S])*U:0,m[S+1]+=O!==m[S+1]?(O-m[S+1])*U:0,m[S+2]+=O!==m[S+2]?(O-m[S+2])*U:0}},getUniformLocations:function(f,g){return{uVibrance:f.getUniformLocation(g,"uVibrance")}},sendUniformData:function(f,g){f.uniform1f(g.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Blur=v(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(f){f.webgl?(this.aspectRatio=f.sourceWidth/f.sourceHeight,f.passes++,this._setupFrameBuffer(f),this.horizontal=!0,this.applyToWebGL(f),this._swapTextures(f),this._setupFrameBuffer(f),this.horizontal=!1,this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},applyTo2d:function(f){f.imageData=this.simpleBlur(f)},simpleBlur:function(f){var g=f.filterBackend.resources,m,C,k=f.imageData.width,S=f.imageData.height;g.blurLayer1||(g.blurLayer1=a.util.createCanvasElement(),g.blurLayer2=a.util.createCanvasElement()),m=g.blurLayer1,C=g.blurLayer2,(m.width!==k||m.height!==S)&&(C.width=m.width=k,C.height=m.height=S);var O=m.getContext("2d"),N=C.getContext("2d"),U=15,W,q,J,ne,ve=this.blur*.06*.5;for(O.putImageData(f.imageData,0,0),N.clearRect(0,0,k,S),ne=-U;ne<=U;ne++)W=(Math.random()-.5)/4,q=ne/U,J=ve*q*k+W,N.globalAlpha=1-Math.abs(q),N.drawImage(m,J,W),O.drawImage(C,0,0),N.globalAlpha=1,N.clearRect(0,0,C.width,C.height);for(ne=-U;ne<=U;ne++)W=(Math.random()-.5)/4,q=ne/U,J=ve*q*S+W,N.globalAlpha=1-Math.abs(q),N.drawImage(m,W,J),O.drawImage(C,0,0),N.globalAlpha=1,N.clearRect(0,0,C.width,C.height);f.ctx.drawImage(m,0,0);var Se=f.ctx.getImageData(0,0,m.width,m.height);return O.globalAlpha=1,O.clearRect(0,0,m.width,m.height),Se},getUniformLocations:function(f,g){return{delta:f.getUniformLocation(g,"uDelta")}},sendUniformData:function(f,g){var m=this.chooseRightDelta();f.uniform2fv(g.delta,m)},chooseRightDelta:function(){var f=1,g=[0,0],m;return this.horizontal?this.aspectRatio>1&&(f=1/this.aspectRatio):this.aspectRatio<1&&(f=this.aspectRatio),m=f*this.blur*.12,this.horizontal?g[0]=m:g[1]=m,g}}),c.Blur.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Gamma=v(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(f){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,f)},applyTo2d:function(f){var g=f.imageData,m=g.data,C=this.gamma,k=m.length,S=1/C[0],O=1/C[1],N=1/C[2],U;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),U=0,k=256;U<k;U++)this.rVals[U]=Math.pow(U/255,S)*255,this.gVals[U]=Math.pow(U/255,O)*255,this.bVals[U]=Math.pow(U/255,N)*255;for(U=0,k=m.length;U<k;U+=4)m[U]=this.rVals[m[U]],m[U+1]=this.gVals[m[U+1]],m[U+2]=this.bVals[m[U+2]]},getUniformLocations:function(f,g){return{uGamma:f.getUniformLocation(g,"uGamma")}},sendUniformData:function(f,g){f.uniform3fv(g.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.Composed=v(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(f){this.callSuper("initialize",f),this.subFilters=this.subFilters.slice(0)},applyTo:function(f){f.passes+=this.subFilters.length-1,this.subFilters.forEach(function(g){g.applyTo(f)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(f){return f.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(f){return!f.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(f,g){var m=f.subFilters||[],C=m.map(function(S){return new a.Image.filters[S.type](S)}),k=new a.Image.filters.Composed({subFilters:C});return g&&g(k),k}})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.Image.filters,v=a.util.createClass;c.HueRotation=v(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var f=this.rotation*Math.PI,g=a.util.cos(f),m=a.util.sin(f),C=1/3,k=Math.sqrt(C)*m,S=1-g;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=g+S/3,this.matrix[1]=C*S-k,this.matrix[2]=C*S+k,this.matrix[5]=C*S+k,this.matrix[6]=g+C*S,this.matrix[7]=C*S-k,this.matrix[10]=C*S-k,this.matrix[11]=C*S+k,this.matrix[12]=g+C*S},isNeutralState:function(f){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,f)},applyTo:function(f){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,f)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),c=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var v="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(v),cacheProperties:a.Object.prototype.cacheProperties.concat(v),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(f,g){this.styles=g?g.styles||{}:{},this.text=f,this.__skipDimension=!0,this.callSuper("initialize",g),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var f=this.path;f&&(f.segmentsInfo=a.util.getPathSegmentsInfo(f.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var f=this._splitTextIntoLines(this.text);return this.textLines=f.lines,this._textLines=f.graphemeLines,this._unwrappedTextLines=f._unwrappedLines,this._text=f.graphemeText,f},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var f=this.getHeightOfLine(0)*1.1;this.width=this.path.width+f,this.height=this.path.height+f}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var f,g,m,C,k,S,O,N=0,U=this._textLines.length;N<U;N++)if(!(this.textAlign!=="justify"&&(N===U-1||this.isEndOfWrapping(N)))&&(C=0,k=this._textLines[N],g=this.getLineWidth(N),g<this.width&&(O=this.textLines[N].match(this._reSpacesAndTabs)))){m=O.length,f=(this.width-g)/m;for(var W=0,q=k.length;W<=q;W++)S=this.__charBounds[N][W],this._reSpaceAndTab.test(k[W])?(S.width+=f,S.kernedWidth+=f,S.left+=C,C+=f):S.left+=C}},isEndOfWrapping:function(f){return f===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var f=this.callSuper("_getCacheCanvasDimensions"),g=this.fontSize;return f.width+=g*f.zoomX,f.height+=g*f.zoomY,f},_render:function(f){var g=this.path;g&&!g.isNotVisible()&&g._render(f),this._setTextStyles(f),this._renderTextLinesBackground(f),this._renderTextDecoration(f,"underline"),this._renderText(f),this._renderTextDecoration(f,"overline"),this._renderTextDecoration(f,"linethrough")},_renderText:function(f){this.paintFirst==="stroke"?(this._renderTextStroke(f),this._renderTextFill(f)):(this._renderTextFill(f),this._renderTextStroke(f))},_setTextStyles:function(f,g,m){if(f.textBaseline="alphabetic",this.path)switch(this.pathAlign){case"center":f.textBaseline="middle";break;case"ascender":f.textBaseline="top";break;case"descender":f.textBaseline="bottom";break}f.font=this._getFontDeclaration(g,m)},calcTextWidth:function(){for(var f=this.getLineWidth(0),g=1,m=this._textLines.length;g<m;g++){var C=this.getLineWidth(g);C>f&&(f=C)}return f},_renderTextLine:function(f,g,m,C,k,S){this._renderChars(f,g,m,C,k,S)},_renderTextLinesBackground:function(f){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var g,m,C=f.fillStyle,k,S,O=this._getLeftOffset(),N=this._getTopOffset(),U=0,W=0,q,J,ne=this.path,ve,Se=0,Fe=this._textLines.length;Se<Fe;Se++){if(g=this.getHeightOfLine(Se),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Se)){N+=g;continue}k=this._textLines[Se],m=this._getLineLeftOffset(Se),W=0,U=0,S=this.getValueOfPropertyAt(Se,0,"textBackgroundColor");for(var Ue=0,Ze=k.length;Ue<Ze;Ue++)q=this.__charBounds[Se][Ue],J=this.getValueOfPropertyAt(Se,Ue,"textBackgroundColor"),ne?(f.save(),f.translate(q.renderLeft,q.renderTop),f.rotate(q.angle),f.fillStyle=J,J&&f.fillRect(-q.width/2,-g/this.lineHeight*(1-this._fontSizeFraction),q.width,g/this.lineHeight),f.restore()):J!==S?(ve=O+m+U,this.direction==="rtl"&&(ve=this.width-ve-W),f.fillStyle=S,S&&f.fillRect(ve,N,W,g/this.lineHeight),U=q.left,W=q.width,S=J):W+=q.kernedWidth;J&&!ne&&(ve=O+m+U,this.direction==="rtl"&&(ve=this.width-ve-W),f.fillStyle=J,f.fillRect(ve,N,W,g/this.lineHeight)),N+=g}f.fillStyle=C,this._removeShadow(f)}},getFontCache:function(f){var g=f.fontFamily.toLowerCase();a.charWidthsCache[g]||(a.charWidthsCache[g]={});var m=a.charWidthsCache[g],C=f.fontStyle.toLowerCase()+"_"+(f.fontWeight+"").toLowerCase();return m[C]||(m[C]={}),m[C]},_measureChar:function(f,g,m,C){var k=this.getFontCache(g),S=this._getFontDeclaration(g),O=this._getFontDeclaration(C),N=m+f,U=S===O,W,q,J,ne=g.fontSize/this.CACHE_FONT_SIZE,ve;if(m&&k[m]!==void 0&&(J=k[m]),k[f]!==void 0&&(ve=W=k[f]),U&&k[N]!==void 0&&(q=k[N],ve=q-J),W===void 0||J===void 0||q===void 0){var Se=this.getMeasuringContext();this._setTextStyles(Se,g,!0)}return W===void 0&&(ve=W=Se.measureText(f).width,k[f]=W),J===void 0&&U&&m&&(J=Se.measureText(m).width,k[m]=J),U&&q===void 0&&(q=Se.measureText(N).width,k[N]=q,ve=q-J),{width:W*ne,kernedWidth:ve*ne}},getHeightOfChar:function(f,g){return this.getValueOfPropertyAt(f,g,"fontSize")},measureLine:function(f){var g=this._measureLine(f);return this.charSpacing!==0&&(g.width-=this._getWidthOfCharSpacing()),g.width<0&&(g.width=0),g},_measureLine:function(f){var g=0,m,C,k=this._textLines[f],S,O,N=0,U=new Array(k.length),W=0,q,J,ne=this.path,ve=this.pathSide==="right";for(this.__charBounds[f]=U,m=0;m<k.length;m++)C=k[m],O=this._getGraphemeBox(C,f,m,S),U[m]=O,g+=O.kernedWidth,S=C;if(U[m]={left:O?O.left+O.width:0,width:0,kernedWidth:0,height:this.fontSize},ne){switch(J=ne.segmentsInfo[ne.segmentsInfo.length-1].length,q=a.util.getPointOnPath(ne.path,0,ne.segmentsInfo),q.x+=ne.pathOffset.x,q.y+=ne.pathOffset.y,this.textAlign){case"left":W=ve?J-g:0;break;case"center":W=(J-g)/2;break;case"right":W=ve?0:J-g;break}for(W+=this.pathStartOffset*(ve?-1:1),m=ve?k.length-1:0;ve?m>=0:m<k.length;ve?m--:m++)O=U[m],W>J?W%=J:W<0&&(W+=J),this._setGraphemeOnPath(W,O,q),W+=O.kernedWidth}return{width:g,numOfSpaces:N}},_setGraphemeOnPath:function(f,g,m){var C=f+g.kernedWidth/2,k=this.path,S=a.util.getPointOnPath(k.path,C,k.segmentsInfo);g.renderLeft=S.x-m.x,g.renderTop=S.y-m.y,g.angle=S.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(f,g,m,C,k){var S=this.getCompleteStyleDeclaration(g,m),O=C?this.getCompleteStyleDeclaration(g,m-1):{},N=this._measureChar(f,S,C,O),U=N.kernedWidth,W=N.width,q;this.charSpacing!==0&&(q=this._getWidthOfCharSpacing(),W+=q,U+=q);var J={width:W,left:0,height:S.fontSize,kernedWidth:U,deltaY:S.deltaY};if(m>0&&!k){var ne=this.__charBounds[g][m-1];J.left=ne.left+ne.width+N.kernedWidth-N.width}return J},getHeightOfLine:function(f){if(this.__lineHeights[f])return this.__lineHeights[f];for(var g=this._textLines[f],m=this.getHeightOfChar(f,0),C=1,k=g.length;C<k;C++)m=Math.max(this.getHeightOfChar(f,C),m);return this.__lineHeights[f]=m*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var f,g=0,m=0,C=this._textLines.length;m<C;m++)f=this.getHeightOfLine(m),g+=m===C-1?f/this.lineHeight:f;return g},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(f,g){f.save();for(var m=0,C=this._getLeftOffset(),k=this._getTopOffset(),S=0,O=this._textLines.length;S<O;S++){var N=this.getHeightOfLine(S),U=N/this.lineHeight,W=this._getLineLeftOffset(S);this._renderTextLine(g,f,this._textLines[S],C+W,k+m+U,S),m+=N}f.restore()},_renderTextFill:function(f){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(f,"fillText")},_renderTextStroke:function(f){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this._setLineDash(f,this.strokeDashArray),f.beginPath(),this._renderTextCommon(f,"strokeText"),f.closePath(),f.restore())},_renderChars:function(f,g,m,C,k,S){var O=this.getHeightOfLine(S),N=this.textAlign.indexOf("justify")!==-1,U,W,q="",J,ne=0,ve,Se=this.path,Fe=!N&&this.charSpacing===0&&this.isEmptyStyles(S)&&!Se,Ue=this.direction==="ltr",Ze=this.direction==="ltr"?1:-1,mt,ct=g.canvas.getAttribute("dir");if(g.save(),ct!==this.direction&&(g.canvas.setAttribute("dir",Ue?"ltr":"rtl"),g.direction=Ue?"ltr":"rtl",g.textAlign=Ue?"left":"right"),k-=O*this._fontSizeFraction/this.lineHeight,Fe){this._renderChar(f,g,S,0,m.join(""),C,k,O),g.restore();return}for(var ge=0,ye=m.length-1;ge<=ye;ge++)ve=ge===ye||this.charSpacing||Se,q+=m[ge],J=this.__charBounds[S][ge],ne===0?(C+=Ze*(J.kernedWidth-J.width),ne+=J.width):ne+=J.kernedWidth,N&&!ve&&this._reSpaceAndTab.test(m[ge])&&(ve=!0),ve||(U=U||this.getCompleteStyleDeclaration(S,ge),W=this.getCompleteStyleDeclaration(S,ge+1),ve=a.util.hasStyleChanged(U,W,!1)),ve&&(Se?(g.save(),g.translate(J.renderLeft,J.renderTop),g.rotate(J.angle),this._renderChar(f,g,S,ge,q,-ne/2,0,O),g.restore()):(mt=C,this._renderChar(f,g,S,ge,q,mt,k,O)),q="",U=W,C+=Ze*ne,ne=0);g.restore()},_applyPatternGradientTransformText:function(f){var g=a.util.createCanvasElement(),m,C=this.width+this.strokeWidth,k=this.height+this.strokeWidth;return g.width=C,g.height=k,m=g.getContext("2d"),m.beginPath(),m.moveTo(0,0),m.lineTo(C,0),m.lineTo(C,k),m.lineTo(0,k),m.closePath(),m.translate(C/2,k/2),m.fillStyle=f.toLive(m),this._applyPatternGradientTransform(m,f),m.fill(),m.createPattern(g,"no-repeat")},handleFiller:function(f,g,m){var C,k;return m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?(C=-this.width/2,k=-this.height/2,f.translate(C,k),f[g]=this._applyPatternGradientTransformText(m),{offsetX:C,offsetY:k}):(f[g]=m.toLive(f,this),this._applyPatternGradientTransform(f,m)):(f[g]=m,{offsetX:0,offsetY:0})},_setStrokeStyles:function(f,g){return f.lineWidth=g.strokeWidth,f.lineCap=this.strokeLineCap,f.lineDashOffset=this.strokeDashOffset,f.lineJoin=this.strokeLineJoin,f.miterLimit=this.strokeMiterLimit,this.handleFiller(f,"strokeStyle",g.stroke)},_setFillStyles:function(f,g){return this.handleFiller(f,"fillStyle",g.fill)},_renderChar:function(f,g,m,C,k,S,O){var N=this._getStyleDeclaration(m,C),U=this.getCompleteStyleDeclaration(m,C),W=f==="fillText"&&U.fill,q=f==="strokeText"&&U.stroke&&U.strokeWidth,J,ne;!q&&!W||(g.save(),W&&(J=this._setFillStyles(g,U)),q&&(ne=this._setStrokeStyles(g,U)),g.font=this._getFontDeclaration(U),N&&N.textBackgroundColor&&this._removeShadow(g),N&&N.deltaY&&(O+=N.deltaY),W&&g.fillText(k,S-J.offsetX,O-J.offsetY),q&&g.strokeText(k,S-ne.offsetX,O-ne.offsetY),g.restore())},setSuperscript:function(f,g){return this._setScript(f,g,this.superscript)},setSubscript:function(f,g){return this._setScript(f,g,this.subscript)},_setScript:function(f,g,m){var C=this.get2DCursorLocation(f,!0),k=this.getValueOfPropertyAt(C.lineIndex,C.charIndex,"fontSize"),S=this.getValueOfPropertyAt(C.lineIndex,C.charIndex,"deltaY"),O={fontSize:k*m.size,deltaY:S+k*m.baseline};return this.setSelectionStyles(O,f,g),this},_getLineLeftOffset:function(f){var g=this.getLineWidth(f),m=this.width-g,C=this.textAlign,k=this.direction,O,S=0,O=this.isEndOfWrapping(f);return C==="justify"||C==="justify-center"&&!O||C==="justify-right"&&!O||C==="justify-left"&&!O?0:(C==="center"&&(S=m/2),C==="right"&&(S=m),C==="justify-center"&&(S=m/2),C==="justify-right"&&(S=m),k==="rtl"&&(S-=m),S)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var f=this._forceClearCache;return f||(f=this.hasStateChanged("_dimensionAffectingProps")),f&&(this.dirty=!0,this._forceClearCache=!1),f},getLineWidth:function(f){if(this.__lineWidths[f]!==void 0)return this.__lineWidths[f];var g=this.measureLine(f),m=g.width;return this.__lineWidths[f]=m,m},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(f,g,m){var C=this._getStyleDeclaration(f,g);return C&&typeof C[m]<"u"?C[m]:this[m]},_renderTextDecoration:function(f,g){if(!(!this[g]&&!this.styleHas(g))){f.save(),(g==="overline"||g==="linethrough")&&this._removeShadow(f);for(var m,C,k,S,O,N,U,W,q=this._getLeftOffset(),J=this._getTopOffset(),ne,ve,Se,Fe,Ue,Ze,mt,ct,ge=this.path,ye=this._getWidthOfCharSpacing(),Re=this.offsets[g],ft=0,Me=this._textLines.length;ft<Me;ft++){if(m=this.getHeightOfLine(ft),!this[g]&&!this.styleHas(g,ft)){J+=m;continue}U=this._textLines[ft],Ze=m/this.lineHeight,S=this._getLineLeftOffset(ft),ve=0,Se=0,W=this.getValueOfPropertyAt(ft,0,g),ct=this.getValueOfPropertyAt(ft,0,"fill"),ne=J+Ze*(1-this._fontSizeFraction),C=this.getHeightOfChar(ft,0),O=this.getValueOfPropertyAt(ft,0,"deltaY");for(var ce=0,le=U.length;ce<le;ce++)if(Fe=this.__charBounds[ft][ce],Ue=this.getValueOfPropertyAt(ft,ce,g),mt=this.getValueOfPropertyAt(ft,ce,"fill"),k=this.getHeightOfChar(ft,ce),N=this.getValueOfPropertyAt(ft,ce,"deltaY"),ge&&Ue&&mt)f.save(),f.fillStyle=ct,f.translate(Fe.renderLeft,Fe.renderTop),f.rotate(Fe.angle),f.fillRect(-Fe.kernedWidth/2,Re*k+N,Fe.kernedWidth,this.fontSize/15),f.restore();else if((Ue!==W||mt!==ct||k!==C||N!==O)&&Se>0){var ae=q+S+ve;this.direction==="rtl"&&(ae=this.width-ae-Se),W&&ct&&(f.fillStyle=ct,f.fillRect(ae,ne+Re*C+O,Se,this.fontSize/15)),ve=Fe.left,Se=Fe.width,W=Ue,ct=mt,C=k,O=N}else Se+=Fe.kernedWidth;var ae=q+S+ve;this.direction==="rtl"&&(ae=this.width-ae-Se),f.fillStyle=mt,Ue&&mt&&f.fillRect(ae,ne+Re*C+O,Se-ye,this.fontSize/15),J+=m}f.restore()}},_getFontDeclaration:function(f,g){var m=f||this,C=this.fontFamily,k=a.Text.genericFonts.indexOf(C.toLowerCase())>-1,S=C===void 0||C.indexOf("'")>-1||C.indexOf(",")>-1||C.indexOf('"')>-1||k?m.fontFamily:'"'+m.fontFamily+'"';return[a.isLikelyNode?m.fontWeight:m.fontStyle,a.isLikelyNode?m.fontStyle:m.fontWeight,g?this.CACHE_FONT_SIZE+"px":m.fontSize+"px",S].join(" ")},render:function(f){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",f)))},_splitTextIntoLines:function(f){for(var g=f.split(this._reNewline),m=new Array(g.length),C=[`
`],k=[],S=0;S<g.length;S++)m[S]=a.util.string.graphemeSplit(g[S]),k=k.concat(m[S],C);return k.pop(),{_unwrappedLines:m,lines:g,graphemeText:k,graphemeLines:m}},toObject:function(f){var g=v.concat(f),m=this.callSuper("toObject",g);return m.styles=a.util.stylesToArray(this.styles,this.text),m.path&&(m.path=this.path.toObject()),m},set:function(f,g){this.callSuper("set",f,g);var m=!1,C=!1;if(typeof f=="object")for(var k in f)k==="path"&&this.setPathInfo(),m=m||this._dimensionAffectingProps.indexOf(k)!==-1,C=C||k==="path";else m=this._dimensionAffectingProps.indexOf(f)!==-1,C=f==="path";return C&&this.setPathInfo(),m&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(f,g,m){if(!f)return g(null);var C=a.parseAttributes(f,a.Text.ATTRIBUTE_NAMES),k=C.textAnchor||"left";if(m=a.util.object.extend(m?c(m):{},C),m.top=m.top||0,m.left=m.left||0,C.textDecoration){var S=C.textDecoration;S.indexOf("underline")!==-1&&(m.underline=!0),S.indexOf("overline")!==-1&&(m.overline=!0),S.indexOf("line-through")!==-1&&(m.linethrough=!0),delete m.textDecoration}"dx"in C&&(m.left+=C.dx),"dy"in C&&(m.top+=C.dy),"fontSize"in m||(m.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var O="";"textContent"in f?O=f.textContent:"firstChild"in f&&f.firstChild!==null&&"data"in f.firstChild&&f.firstChild.data!==null&&(O=f.firstChild.data),O=O.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var N=m.strokeWidth;m.strokeWidth=0;var U=new a.Text(O,m),W=U.getScaledHeight()/U.height,q=(U.height+U.strokeWidth)*U.lineHeight-U.height,J=q*W,ne=U.getScaledHeight()+J,ve=0;k==="center"&&(ve=U.getScaledWidth()/2),k==="right"&&(ve=U.getScaledWidth()),U.set({left:U.left-ve,top:U.top-(ne-U.fontSize*(.07+U._fontSizeFraction))/U.lineHeight,strokeWidth:typeof N<"u"?N:1}),g(U)},a.Text.fromObject=function(f,g){var m=c(f),C=f.path;return delete m.path,a.Object._fromObject("Text",m,function(k){k.styles=a.util.stylesFromArray(f.styles,f.text),C?a.Object._fromObject("Path",C,function(S){k.set("path",S),g(k)},"path"):g(k)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)})(e),(function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(d){if(!this.styles||typeof d<"u"&&!this.styles[d])return!0;var a=typeof d>"u"?this.styles:{line:this.styles[d]};for(var c in a)for(var v in a[c])for(var f in a[c][v])return!1;return!0},styleHas:function(d,a){if(!this.styles||!d||d===""||typeof a<"u"&&!this.styles[a])return!1;var c=typeof a>"u"?this.styles:{0:this.styles[a]};for(var v in c)for(var f in c[v])if(typeof c[v][f][d]<"u")return!0;return!1},cleanStyle:function(d){if(!this.styles||!d||d==="")return!1;var a=this.styles,c=0,v,f,g=!0,m=0,C;for(var k in a){v=0;for(var S in a[k]){var C=a[k][S],O=C.hasOwnProperty(d);c++,O?(f?C[d]!==f&&(g=!1):f=C[d],C[d]===this[d]&&delete C[d]):g=!1,Object.keys(C).length!==0?v++:delete a[k][S]}v===0&&delete a[k]}for(var N=0;N<this._textLines.length;N++)m+=this._textLines[N].length;g&&c===m&&(this[d]=f,this.removeStyle(d))},removeStyle:function(d){if(!(!this.styles||!d||d==="")){var a=this.styles,c,v,f;for(v in a){c=a[v];for(f in c)delete c[f][d],Object.keys(c[f]).length===0&&delete c[f];Object.keys(c).length===0&&delete a[v]}}},_extendStyles:function(d,a){var c=this.get2DCursorLocation(d);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),a)},get2DCursorLocation:function(d,a){typeof d>"u"&&(d=this.selectionStart);for(var c=a?this._unwrappedTextLines:this._textLines,v=c.length,f=0;f<v;f++){if(d<=c[f].length)return{lineIndex:f,charIndex:d};d-=c[f].length+this.missingNewlineOffset(f,a)}return{lineIndex:f-1,charIndex:c[f-1].length<d?c[f-1].length:d}},getSelectionStyles:function(d,a,c){typeof d>"u"&&(d=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||d);for(var v=[],f=d;f<a;f++)v.push(this.getStyleAtPosition(f,c));return v},getStyleAtPosition:function(d,a){var c=this.get2DCursorLocation(d),v=a?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return v||{}},setSelectionStyles:function(d,a,c){typeof a>"u"&&(a=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||a);for(var v=a;v<c;v++)this._extendStyles(v,d);return this._forceClearCache=!0,this},_getStyleDeclaration:function(d,a){var c=this.styles&&this.styles[d];return c?c[a]:null},getCompleteStyleDeclaration:function(d,a){for(var c=this._getStyleDeclaration(d,a)||{},v={},f,g=0;g<this._styleProperties.length;g++)f=this._styleProperties[g],v[f]=typeof c[f]>"u"?this[f]:c[f];return v},_setStyleDeclaration:function(d,a,c){this.styles[d][a]=c},_deleteStyleDeclaration:function(d,a){delete this.styles[d][a]},_getLineStyle:function(d){return!!this.styles[d]},_setLineStyle:function(d){this.styles[d]={}},_deleteLineStyle:function(d){delete this.styles[d]}})})(),(function(){function d(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(a,c){this.callSuper("initialize",a,c),this.initBehavior()},setSelectionStart:function(a){a=Math.max(a,0),this._updateAndFire("selectionStart",a)},setSelectionEnd:function(a){a=Math.min(a,this.text.length),this._updateAndFire("selectionEnd",a)},_updateAndFire:function(a,c){this[a]!==c&&(this._fireSelectionChanged(),this[a]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(a){this.clearContextTop(),this.callSuper("render",a),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(a){this.callSuper("_render",a)},clearContextTop:function(a){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,v=this.canvas.viewportTransform;c.save(),c.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this.transform(c),this._clearTextArea(c),a||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(a,c):this.renderSelection(a,c),c.restore()}},_clearTextArea:function(a){var c=this.width+4,v=this.height+4;a.clearRect(-c/2,-v/2,c,v)},_getCursorBoundaries:function(a){typeof a>"u"&&(a=this.selectionStart);var c=this._getLeftOffset(),v=this._getTopOffset(),f=this._getCursorBoundariesOffsets(a);return{left:c,top:v,leftOffset:f.left,topOffset:f.top}},_getCursorBoundariesOffsets:function(a){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,v,f,g=0,m=0,C,k=this.get2DCursorLocation(a);f=k.charIndex,v=k.lineIndex;for(var S=0;S<v;S++)g+=this.getHeightOfLine(S);c=this._getLineLeftOffset(v);var O=this.__charBounds[v][f];return O&&(m=O.left),this.charSpacing!==0&&f===this._textLines[v].length&&(m-=this._getWidthOfCharSpacing()),C={top:g,left:c+(m>0?m:0)},this.direction==="rtl"&&(C.left*=-1),this.cursorOffsetCache=C,this.cursorOffsetCache},renderCursor:function(a,c){var v=this.get2DCursorLocation(),f=v.lineIndex,g=v.charIndex>0?v.charIndex-1:0,m=this.getValueOfPropertyAt(f,g,"fontSize"),C=this.scaleX*this.canvas.getZoom(),k=this.cursorWidth/C,S=a.topOffset,O=this.getValueOfPropertyAt(f,g,"deltaY");S+=(1-this._fontSizeFraction)*this.getHeightOfLine(f)/this.lineHeight-m*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(a,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(f,g,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(a.left+a.leftOffset-k/2,S+a.top+O,k,m)},renderSelection:function(a,c){for(var v=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,f=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,g=this.textAlign.indexOf("justify")!==-1,m=this.get2DCursorLocation(v),C=this.get2DCursorLocation(f),k=m.lineIndex,S=C.lineIndex,O=m.charIndex<0?0:m.charIndex,N=C.charIndex<0?0:C.charIndex,U=k;U<=S;U++){var W=this._getLineLeftOffset(U)||0,q=this.getHeightOfLine(U),J=0,ne=0,ve=0;if(U===k&&(ne=this.__charBounds[k][O].left),U>=k&&U<S)ve=g&&!this.isEndOfWrapping(U)?this.width:this.getLineWidth(U)||5;else if(U===S)if(N===0)ve=this.__charBounds[S][N].left;else{var Se=this._getWidthOfCharSpacing();ve=this.__charBounds[S][N-1].left+this.__charBounds[S][N-1].width-Se}J=q,(this.lineHeight<1||U===S&&this.lineHeight>1)&&(q/=this.lineHeight);var Fe=a.left+W+ne,Ue=ve-ne,Ze=q,mt=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",Ze=1,mt=q):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(Fe=this.width-Fe-Ue),c.fillRect(Fe,a.top+a.topOffset+mt,Ue,Ze),a.topOffset+=J}},getCurrentCharFontSize:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fontSize")},getCurrentCharColor:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fill")},_getCurrentCharIndex:function(){var a=this.get2DCursorLocation(this.selectionStart,!0),c=a.charIndex>0?a.charIndex-1:0;return{l:a.lineIndex,c}}}),t.IText.fromObject=function(a,c){var v=t.util.stylesFromArray(a.styles,a.text),f=Object.assign({},a,{styles:v});if(delete f.path,d(f),f.styles)for(var g in f.styles)for(var m in f.styles[g])d(f.styles[g][m]);t.Object._fromObject("IText",f,function(C){a.path?t.Object._fromObject("Path",a.path,function(k){C.set("path",k),c(C)},"path"):c(C)},"text")}})(),(function(){var d=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var a=this;this.on("added",function(){var c=a.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,a._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(a))})},initRemovedHandler:function(){var a=this;this.on("removed",function(){var c=a.canvas;c&&(c._iTextInstances=c._iTextInstances||[],t.util.removeFromArray(c._iTextInstances,a),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,a._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(a){a._mouseUpITextHandler=function(){a._iTextInstances&&a._iTextInstances.forEach(function(c){c.__isMousedown=!1})},a.on("mouse:up",a._mouseUpITextHandler)},_removeCanvasHandlers:function(a){a.off("mouse:up",a._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(a,c,v,f){var g;return g={isAborted:!1,abort:function(){this.isAborted=!0}},a.animate("_currentCursorOpacity",c,{duration:v,onComplete:function(){g.isAborted||a[f]()},onChange:function(){a.canvas&&a.selectionStart===a.selectionEnd&&a.renderCursorOrSelection()},abort:function(){return g.isAborted}}),g},_onTickComplete:function(){var a=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){a._currentTickCompleteState=a._animateCursor(a,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(a){var c=this,v=a?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},v)},abortCursorAnimation:function(){var a=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,a&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(a){var c=0,v=a-1;if(this._reSpace.test(this._text[v]))for(;this._reSpace.test(this._text[v]);)c++,v--;for(;/\S/.test(this._text[v])&&v>-1;)c++,v--;return a-c},findWordBoundaryRight:function(a){var c=0,v=a;if(this._reSpace.test(this._text[v]))for(;this._reSpace.test(this._text[v]);)c++,v++;for(;/\S/.test(this._text[v])&&v<this._text.length;)c++,v++;return a+c},findLineBoundaryLeft:function(a){for(var c=0,v=a-1;!/\n/.test(this._text[v])&&v>-1;)c++,v--;return a-c},findLineBoundaryRight:function(a){for(var c=0,v=a;!/\n/.test(this._text[v])&&v<this._text.length;)c++,v++;return a+c},searchWordBoundary:function(a,c){for(var v=this._text,f=this._reSpace.test(v[a])?a-1:a,g=v[f],m=t.reNonWord;!m.test(g)&&f>0&&f<v.length;)f+=c,g=v[f];return m.test(g)&&(f+=c===1?0:1),f},selectWord:function(a){a=a||this.selectionStart;var c=this.searchWordBoundary(a,-1),v=this.searchWordBoundary(a,1);this.selectionStart=c,this.selectionEnd=v,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(a){a=a||this.selectionStart;var c=this.findLineBoundaryLeft(a),v=this.findLineBoundaryRight(a);return this.selectionStart=c,this.selectionEnd=v,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(a){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(a),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(a){a._iTextInstances&&a._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(a){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(a.e),v=this.selectionStart,f=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||v===f)&&(v===c||f===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==v||this.selectionEnd!==f)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(a,c,v){var f=v.slice(0,a),g=t.util.string.graphemeSplit(f).length;if(a===c)return{selectionStart:g,selectionEnd:g};var m=v.slice(a,c),C=t.util.string.graphemeSplit(m).length;return{selectionStart:g,selectionEnd:g+C}},fromGraphemeToStringSelection:function(a,c,v){var f=v.slice(0,a),g=f.join("").length;if(a===c)return{selectionStart:g,selectionEnd:g};var m=v.slice(a,c),C=m.join("").length;return{selectionStart:g,selectionEnd:g+C}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var a=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=a.selectionStart,this.hiddenTextarea.selectionEnd=a.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=a.selectionEnd,this.inCompositionMode||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var a=this._calcTextareaPosition();this.hiddenTextarea.style.left=a.left,this.hiddenTextarea.style.top=a.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var a=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(a),v=this.get2DCursorLocation(a),f=v.lineIndex,g=v.charIndex,m=this.getValueOfPropertyAt(f,g,"fontSize")*this.lineHeight,C=c.leftOffset,k=this.calcTransformMatrix(),S={x:c.left+C,y:c.top+c.topOffset+m},O=this.canvas.getRetinaScaling(),N=this.canvas.upperCanvasEl,U=N.width/O,W=N.height/O,q=U-m,J=W-m,ne=N.clientWidth/U,ve=N.clientHeight/W;return S=t.util.transformPoint(S,k),S=t.util.transformPoint(S,this.canvas.viewportTransform),S.x*=ne,S.y*=ve,S.x<0&&(S.x=0),S.x>q&&(S.x=q),S.y<0&&(S.y=0),S.y>J&&(S.y=J),S.x+=this.canvas._offset.left,S.y+=this.canvas._offset.top,{left:S.x+"px",top:S.y+"px",fontSize:m+"px",charHeight:m}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var a=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),a&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),a&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var a in this.styles)this._textLines[a]||delete this.styles[a]},removeStyleFromTo:function(a,c){var v=this.get2DCursorLocation(a,!0),f=this.get2DCursorLocation(c,!0),g=v.lineIndex,m=v.charIndex,C=f.lineIndex,k=f.charIndex,S,O;if(g!==C){if(this.styles[g])for(S=m;S<this._unwrappedTextLines[g].length;S++)delete this.styles[g][S];if(this.styles[C])for(S=k;S<this._unwrappedTextLines[C].length;S++)O=this.styles[C][S],O&&(this.styles[g]||(this.styles[g]={}),this.styles[g][m+S-k]=O);for(S=g+1;S<=C;S++)delete this.styles[S];this.shiftLineStyles(C,g-C)}else if(this.styles[g]){O=this.styles[g];var N=k-m,U,W;for(S=m;S<k;S++)delete O[S];for(W in this.styles[g])U=parseInt(W,10),U>=k&&(O[U-N]=O[W],delete O[W])}},shiftLineStyles:function(a,c){var v=d(this.styles);for(var f in this.styles){var g=parseInt(f,10);g>a&&(this.styles[g+c]=v[g],v[g-c]||delete this.styles[g])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(a,c,v,f){var g,m={},C=!1,k=this._unwrappedTextLines[a].length,S=k===c;v||(v=1),this.shiftLineStyles(a,v),this.styles[a]&&(g=this.styles[a][c===0?c:c-1]);for(var O in this.styles[a]){var N=parseInt(O,10);N>=c&&(C=!0,m[N-c]=this.styles[a][O],S&&c===0||delete this.styles[a][O])}var U=!1;for(C&&!S&&(this.styles[a+v]=m,U=!0),(U||k>c)&&v--;v>0;)f&&f[v-1]?this.styles[a+v]={0:d(f[v-1])}:g?this.styles[a+v]={0:d(g)}:delete this.styles[a+v],v--;this._forceClearCache=!0},insertCharStyleObject:function(a,c,v,f){this.styles||(this.styles={});var g=this.styles[a],m=g?d(g):{};v||(v=1);for(var C in m){var k=parseInt(C,10);k>=c&&(g[k+v]=m[k],m[k-v]||delete g[k])}if(this._forceClearCache=!0,f){for(;v--;)Object.keys(f[v]).length&&(this.styles[a]||(this.styles[a]={}),this.styles[a][c+v]=d(f[v]));return}if(g)for(var S=g[c?c-1:1];S&&v--;)this.styles[a][c+v]=d(S)},insertNewStyleBlock:function(a,c,v){for(var f=this.get2DCursorLocation(c,!0),g=[0],m=0,C=0;C<a.length;C++)a[C]===`
`?(m++,g[m]=0):g[m]++;g[0]>0&&(this.insertCharStyleObject(f.lineIndex,f.charIndex,g[0],v),v=v&&v.slice(g[0]+1)),m&&this.insertNewlineStyleObject(f.lineIndex,f.charIndex+g[0],m);for(var C=1;C<m;C++)g[C]>0?this.insertCharStyleObject(f.lineIndex+C,0,g[C],v):v&&this.styles[f.lineIndex+C]&&v[0]&&(this.styles[f.lineIndex+C][0]=v[0]),v=v&&v.slice(g[C]+1);g[C]>0&&this.insertCharStyleObject(f.lineIndex+C,0,g[C],v)},setSelectionStartEndWithShift:function(a,c,v){v<=a?(c===a?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=a),this.selectionStart=v):v>a&&v<c?this._selectionDirection==="right"?this.selectionEnd=v:this.selectionStart=v:(c===a?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=v)},setSelectionInBoundaries:function(){var a=this.text.length;this.selectionStart>a?this.selectionStart=a:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>a?this.selectionEnd=a:this.selectionEnd<0&&(this.selectionEnd=0)}})})(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(d){if(this.canvas){this.__newClickTime=+new Date;var a=d.pointer;this.isTripleClick(a)&&(this.fire("tripleclick",d),this._stopEvent(d.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=a,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(d){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===d.x&&this.__lastPointer.y===d.y},_stopEvent:function(d){d.preventDefault&&d.preventDefault(),d.stopPropagation&&d.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(d){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(d.e))},tripleClickHandler:function(d){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(d.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(d){!this.canvas||!this.editable||d.e.button&&d.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(d.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(d){!this.canvas||!this.editable||d.e.button&&d.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(d){if(this.__isMousedown=!1,!(!this.editable||this.group||d.transform&&d.transform.actionPerformed||d.e.button&&d.e.button!==1)){if(this.canvas){var a=this.canvas._activeObject;if(a&&a!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(d.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(d){var a=this.getSelectionStartFromPointer(d),c=this.selectionStart,v=this.selectionEnd;d.shiftKey?this.setSelectionStartEndWithShift(c,v,a):(this.selectionStart=a,this.selectionEnd=a),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(d){for(var a=this.getLocalPointer(d),c=0,v=0,f=0,g=0,m=0,C,k,S=0,O=this._textLines.length;S<O&&f<=a.y;S++)f+=this.getHeightOfLine(S)*this.scaleY,m=S,S>0&&(g+=this._textLines[S-1].length+this.missingNewlineOffset(S-1));C=this._getLineLeftOffset(m),v=C*this.scaleX,k=this._textLines[m],this.direction==="rtl"&&(a.x=this.width*this.scaleX-a.x+v);for(var N=0,U=k.length;N<U&&(c=v,v+=this.__charBounds[m][N].kernedWidth*this.scaleX,v<=a.x);N++)g++;return this._getNewSelectionStartFromOffset(a,c,v,g,U)},_getNewSelectionStartFromOffset:function(d,a,c,v,f){var g=d.x-a,m=c-d.x,C=m>g||m<0?0:1,k=v+C;return this.flipX&&(k=f-k),k>this._text.length&&(k=this._text.length),k}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var d=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+d.top+"; left: "+d.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+d.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(d){if(this.isEditing){var a=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(d.keyCode in a)this[a[d.keyCode]](d);else if(d.keyCode in this.ctrlKeysMapDown&&(d.ctrlKey||d.metaKey))this[this.ctrlKeysMapDown[d.keyCode]](d);else return;d.stopImmediatePropagation(),d.preventDefault(),d.keyCode>=33&&d.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(d){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(d.keyCode in this.ctrlKeysMapUp&&(d.ctrlKey||d.metaKey))this[this.ctrlKeysMapUp[d.keyCode]](d);else return;d.stopImmediatePropagation(),d.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(d){var a=this.fromPaste;if(this.fromPaste=!1,d&&d.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,v=this._text.length,f=c.length,g,m,C=f-v,k=this.selectionStart,S=this.selectionEnd,O=k!==S,N,U,W;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var q=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),J=k>q.selectionStart;O?(g=this._text.slice(k,S),C+=S-k):f<v&&(J?g=this._text.slice(S+C,S):g=this._text.slice(k,k-C)),m=c.slice(q.selectionEnd-C,q.selectionEnd),g&&g.length&&(m.length&&(N=this.getSelectionStyles(k,k+1,!1),N=m.map(function(){return N[0]})),O?(U=k,W=S):J?(U=S-g.length,W=S):(U=S,W=S+g.length),this.removeStyleFromTo(U,W)),m.length&&(a&&m.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(N=t.copiedTextStyle),this.insertNewStyleBlock(m,k,N)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(d){this.compositionStart=d.target.selectionStart,this.compositionEnd=d.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(d){return d&&d.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(d,a){var c=this._getLineLeftOffset(d),v;return a>0&&(v=this.__charBounds[d][a-1],c+=v.left+v.width),c},getDownCursorOffset:function(d,a){var c=this._getSelectionForOffset(d,a),v=this.get2DCursorLocation(c),f=v.lineIndex;if(f===this._textLines.length-1||d.metaKey||d.keyCode===34)return this._text.length-c;var g=v.charIndex,m=this._getWidthBeforeCursor(f,g),C=this._getIndexOnLine(f+1,m),k=this._textLines[f].slice(g);return k.length+C+1+this.missingNewlineOffset(f)},_getSelectionForOffset:function(d,a){return d.shiftKey&&this.selectionStart!==this.selectionEnd&&a?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(d,a){var c=this._getSelectionForOffset(d,a),v=this.get2DCursorLocation(c),f=v.lineIndex;if(f===0||d.metaKey||d.keyCode===33)return-c;var g=v.charIndex,m=this._getWidthBeforeCursor(f,g),C=this._getIndexOnLine(f-1,m),k=this._textLines[f].slice(0,g),S=this.missingNewlineOffset(f-1);return-this._textLines[f-1].length+C-k.length+(1-S)},_getIndexOnLine:function(d,a){for(var c=this._textLines[d],v=this._getLineLeftOffset(d),f=v,g=0,m,C,k=0,S=c.length;k<S;k++)if(m=this.__charBounds[d][k].width,f+=m,f>a){C=!0;var O=f-m,N=f,U=Math.abs(O-a),W=Math.abs(N-a);g=W<U?k:k-1;break}return C||(g=c.length-1),g},moveCursorDown:function(d){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",d)},moveCursorUp:function(d){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",d)},_moveCursorUpOrDown:function(d,a){var c="get"+d+"CursorOffset",v=this[c](a,this._selectionDirection==="right");a.shiftKey?this.moveCursorWithShift(v):this.moveCursorWithoutShift(v),v!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(d){var a=this._selectionDirection==="left"?this.selectionStart+d:this.selectionEnd+d;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,a),d!==0},moveCursorWithoutShift:function(d){return d<0?(this.selectionStart+=d,this.selectionEnd=this.selectionStart):(this.selectionEnd+=d,this.selectionStart=this.selectionEnd),d!==0},moveCursorLeft:function(d){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",d)},_move:function(d,a,c){var v;if(d.altKey)v=this["findWordBoundary"+c](this[a]);else if(d.metaKey||d.keyCode===35||d.keyCode===36)v=this["findLineBoundary"+c](this[a]);else return this[a]+=c==="Left"?-1:1,!0;if(typeof v<"u"&&this[a]!==v)return this[a]=v,!0},_moveLeft:function(d,a){return this._move(d,a,"Left")},_moveRight:function(d,a){return this._move(d,a,"Right")},moveCursorLeftWithoutShift:function(d){var a=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(a=this._moveLeft(d,"selectionStart")),this.selectionEnd=this.selectionStart,a},moveCursorLeftWithShift:function(d){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(d,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(d,"selectionStart")},moveCursorRight:function(d){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",d)},_moveCursorLeftOrRight:function(d,a){var c="moveCursor"+d+"With";this._currentCursorOpacity=1,a.shiftKey?c+="Shift":c+="outShift",this[c](a)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(d){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(d,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(d,"selectionEnd")},moveCursorRightWithoutShift:function(d){var a=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(a=this._moveRight(d,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,a},removeChars:function(d,a){typeof a>"u"&&(a=d+1),this.removeStyleFromTo(d,a),this._text.splice(d,a-d),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(d,a,c,v){typeof v>"u"&&(v=c),v>c&&this.removeStyleFromTo(c,v);var f=t.util.string.graphemeSplit(d);this.insertNewStyleBlock(f,c,a),this._text=[].concat(this._text.slice(0,c),f,this._text.slice(v)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),(function(){var d=t.util.toFixed,a=t.util.radiansToDegrees,c=t.util.calcRotateMatrix,v=t.util.transformPoint,f=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var g=this._getSVGLeftTopOffsets(),m=this._getSVGTextAndBg(g.textTop,g.textLeft);return this._wrapSVGTextAndBg(m)},toSVG:function(g){var m=this._createBaseSVGMarkup(this._toSVG(),{reviver:g,noStyle:!0,withShadow:!0}),C=this.path;return C?m+C._createBaseSVGMarkup(C._toSVG(),{reviver:g,withShadow:!0}):m},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(g){var m=!0,C=this.getSvgTextDecoration(this);return[g.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",C?'text-decoration="'+C+'" ':"",'style="',this.getSvgStyles(m),'"',this.addPaintOrder()," >",g.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(g,m){var C=[],k=[],S=g,O;this._setSVGBg(k);for(var N=0,U=this._textLines.length;N<U;N++)O=this._getLineLeftOffset(N),(this.textBackgroundColor||this.styleHas("textBackgroundColor",N))&&this._setSVGTextLineBg(k,N,m+O,S),this._setSVGTextLineText(C,N,m+O,S),S+=this.getHeightOfLine(N);return{textSpans:C,textBgRects:k}},_createTextCharSpan:function(g,m,C,k,S){var O=g!==g.trim()||g.match(f),N=this.getSvgSpanStyles(m,O),U=N?'style="'+N+'"':"",W=m.deltaY,q="",J=t.Object.NUM_FRACTION_DIGITS,ne="";if(W&&(q=' dy="'+d(W,J)+'" '),S.renderLeft!==void 0){var ve=S.angle;ne=' rotate="'+d(a(ve),t.Object.NUM_FRACTION_DIGITS)+'" ';var Se=S.width/2,Fe=c({angle:a(ve)});Fe[4]=S.renderLeft,Fe[5]=S.renderTop;var Ue=v({x:-Se,y:0},Fe);C=Ue.x,k=Ue.y}return['<tspan x="',d(C,J),'" y="',d(k,J),'" ',q,U,ne,">",t.util.string.escapeXml(g),"</tspan>"].join("")},_setSVGTextLineText:function(g,m,C,k){var S=this.getHeightOfLine(m),O=this.textAlign.indexOf("justify")!==-1,N,U,W="",q,J,ne=0,ve=this._textLines[m],Se;k+=S*(1-this._fontSizeFraction)/this.lineHeight;for(var Fe=0,Ue=ve.length-1;Fe<=Ue;Fe++)Se=Fe===Ue||this.charSpacing||this.path,W+=ve[Fe],q=this.__charBounds[m][Fe],ne===0?(C+=q.kernedWidth-q.width,ne+=q.width):ne+=q.kernedWidth,O&&!Se&&this._reSpaceAndTab.test(ve[Fe])&&(Se=!0),Se||(N=N||this.getCompleteStyleDeclaration(m,Fe),U=this.getCompleteStyleDeclaration(m,Fe+1),Se=t.util.hasStyleChanged(N,U,!0)),Se&&(J=this._getStyleDeclaration(m,Fe)||{},g.push(this._createTextCharSpan(W,J,C,k,q)),W="",N=U,C+=ne,ne=0)},_pushTextBgRect:function(g,m,C,k,S,O){var N=t.Object.NUM_FRACTION_DIGITS;g.push("		<rect ",this._getFillAttributes(m),' x="',d(C,N),'" y="',d(k,N),'" width="',d(S,N),'" height="',d(O,N),`"></rect>
`)},_setSVGTextLineBg:function(g,m,C,k){for(var S=this._textLines[m],O=this.getHeightOfLine(m)/this.lineHeight,N=0,U=0,W,q,J=this.getValueOfPropertyAt(m,0,"textBackgroundColor"),ne=0,ve=S.length;ne<ve;ne++)W=this.__charBounds[m][ne],q=this.getValueOfPropertyAt(m,ne,"textBackgroundColor"),q!==J?(J&&this._pushTextBgRect(g,J,C+U,k,N,O),U=W.left,N=W.width,J=q):N+=W.kernedWidth;q&&this._pushTextBgRect(g,q,C+U,k,N,O)},_getFillAttributes:function(g){var m=g&&typeof g=="string"?new t.Color(g):"";return!m||!m.getSource()||m.getAlpha()===1?'fill="'+g+'"':'opacity="'+m.getAlpha()+'" fill="'+m.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(g){for(var m=0,C=0,k=0;k<g;k++)m+=this.getHeightOfLine(k);return C=this.getHeightOfLine(k),{lineTop:m,offset:(this._fontSizeMult-this._fontSizeFraction)*C/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(g){var m=t.Object.prototype.getSvgStyles.call(this,g);return m+" white-space: pre;"}})})(),(function(d){var a=d.fabric||(d.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var v=0,f=0,g=0,m={},C=0;C<c.graphemeLines.length;C++)c.graphemeText[g]===`
`&&C>0?(f=0,g++,v++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[g])&&C>0&&(f++,g++),m[C]={line:v,offset:f},g+=c.graphemeLines[C].length,f+=c.graphemeLines[C].length;return m},styleHas:function(c,v){if(this._styleMap&&!this.isWrapping){var f=this._styleMap[v];f&&(v=f.line)}return a.Text.prototype.styleHas.call(this,c,v)},isEmptyStyles:function(c){if(!this.styles)return!0;var v=0,f=c+1,g,m,C=!1,k=this._styleMap[c],S=this._styleMap[c+1];k&&(c=k.line,v=k.offset),S&&(f=S.line,C=f===c,g=S.offset),m=typeof c>"u"?this.styles:{line:this.styles[c]};for(var O in m)for(var N in m[O])if(N>=v&&(!C||N<g))for(var U in m[O][N])return!1;return!0},_getStyleDeclaration:function(c,v){if(this._styleMap&&!this.isWrapping){var f=this._styleMap[c];if(!f)return null;c=f.line,v=f.offset+v}return this.callSuper("_getStyleDeclaration",c,v)},_setStyleDeclaration:function(c,v,f){var g=this._styleMap[c];c=g.line,v=g.offset+v,this.styles[c][v]=f},_deleteStyleDeclaration:function(c,v){var f=this._styleMap[c];c=f.line,v=f.offset+v,delete this.styles[c][v]},_getLineStyle:function(c){var v=this._styleMap[c];return!!this.styles[v.line]},_setLineStyle:function(c){var v=this._styleMap[c];this.styles[v.line]={}},_wrapText:function(c,v){var f=[],g;for(this.isWrapping=!0,g=0;g<c.length;g++)f=f.concat(this._wrapLine(c[g],g,v));return this.isWrapping=!1,f},_measureWord:function(c,v,f){var g=0,m,C=!0;f=f||0;for(var k=0,S=c.length;k<S;k++){var O=this._getGraphemeBox(c[k],v,k+f,m,C);g+=O.kernedWidth,m=c[k]}return g},_wrapLine:function(c,v,f,Fe){var m=0,C=this.splitByGrapheme,k=[],S=[],O=C?a.util.string.graphemeSplit(c):c.split(this._wordJoiners),N="",U=0,W=C?"":" ",q=0,J=0,ne=0,ve=!0,Se=this._getWidthOfCharSpacing(),Fe=Fe||0;O.length===0&&O.push([]),f-=Fe;for(var Ue=0;Ue<O.length;Ue++)N=C?O[Ue]:a.util.string.graphemeSplit(O[Ue]),q=this._measureWord(N,v,U),U+=N.length,m+=J+q-Se,m>f&&!ve?(k.push(S),S=[],m=q,ve=!0):m+=Se,!ve&&!C&&S.push(W),S=S.concat(N),J=C?0:this._measureWord([W],v,U),U++,ve=!1,q>ne&&(ne=q);return Ue&&k.push(S),ne+Fe>this.dynamicMinWidth&&(this.dynamicMinWidth=ne-Se+Fe),k},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c,v){return this.splitByGrapheme&&!v?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var v=a.Text.prototype._splitTextIntoLines.call(this,c),f=this._wrapText(v.lines,this.width),g=new Array(f.length),m=0;m<f.length;m++)g[m]=f[m].join("");return v.lines=g,v.graphemeLines=f,v},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var v in this._styleMap)this._textLines[v]&&(c[this._styleMap[v].line]=1);for(var v in this.styles)c[v]||delete this.styles[v]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),a.Textbox.fromObject=function(c,v){var f=a.util.stylesFromArray(c.styles,c.text),g=Object.assign({},c,{styles:f});return delete g.path,a.Object._fromObject("Textbox",g,function(m){c.path?a.Object._fromObject("Path",c.path,function(C){m.set("path",C),v(m)},"path"):v(m)},"text")}})(e),(function(){var d=t.controlsUtils,a=d.scaleSkewCursorStyleHandler,c=d.scaleCursorStyleHandler,v=d.scalingEqually,f=d.scalingYOrSkewingX,g=d.scalingXOrSkewingY,m=d.scaleOrSkewActionName,C=t.Object.prototype.controls;if(C.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:g,getActionName:m}),C.mr=new t.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:g,getActionName:m}),C.mb=new t.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:f,getActionName:m}),C.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:f,getActionName:m}),C.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:v}),C.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:v}),C.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:v}),C.br=new t.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:v}),C.mtr=new t.Control({x:0,y:-.5,actionHandler:d.rotationWithSnapping,cursorStyleHandler:d.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var k=t.Textbox.prototype.controls={};k.mtr=C.mtr,k.tr=C.tr,k.br=C.br,k.tl=C.tl,k.bl=C.bl,k.mt=C.mt,k.mb=C.mb,k.mr=new t.Control({x:.5,y:0,actionHandler:d.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),k.ml=new t.Control({x:-.5,y:0,actionHandler:d.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}})()})(R2)),R2}var ni=IY();function Lm(){return(Lm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mA(e,t){if(e==null)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t.indexOf(n=u[r])>=0||(o[n]=e[n]);return o}function Ny(e){var t=Ie.useRef(e),n=Ie.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var J1=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},F1=function(e){return"touches"in e},Ly=function(e){return e&&e.ownerDocument.defaultView||self},Z6=function(e,t,n){var r=e.getBoundingClientRect(),o=F1(t)?(function(u,y){for(var d=0;d<u.length;d++)if(u[d].identifier===y)return u[d];return u[0]})(t.touches,n):t;return{left:J1((o.pageX-(r.left+Ly(e).pageXOffset))/r.width),top:J1((o.pageY-(r.top+Ly(e).pageYOffset))/r.height)}},q6=function(e){!F1(e)&&e.preventDefault()},vA=kn.memo(function(e){var t=e.onMove,n=e.onKey,r=mA(e,["onMove","onKey"]),o=Ie.useRef(null),u=Ny(t),y=Ny(n),d=Ie.useRef(null),a=Ie.useRef(!1),c=Ie.useMemo(function(){var m=function(S){q6(S),(F1(S)?S.touches.length>0:S.buttons>0)&&o.current?u(Z6(o.current,S,d.current)):k(!1)},C=function(){return k(!1)};function k(S){var O=a.current,N=Ly(o.current),U=S?N.addEventListener:N.removeEventListener;U(O?"touchmove":"mousemove",m),U(O?"touchend":"mouseup",C)}return[function(S){var O=S.nativeEvent,N=o.current;if(N&&(q6(O),!(function(W,q){return q&&!F1(W)})(O,a.current)&&N)){if(F1(O)){a.current=!0;var U=O.changedTouches||[];U.length&&(d.current=U[0].identifier)}N.focus(),u(Z6(N,O,d.current)),k(!0)}},function(S){var O=S.which||S.keyCode;O<37||O>40||(S.preventDefault(),y({left:O===39?.05:O===37?-.05:0,top:O===40?.05:O===38?-.05:0}))},k]},[y,u]),v=c[0],f=c[1],g=c[2];return Ie.useEffect(function(){return g},[g]),kn.createElement("div",Lm({},r,{onTouchStart:v,onMouseDown:v,className:"react-colorful__interactive",ref:o,onKeyDown:f,tabIndex:0,role:"slider"}))}),pb=function(e){return e.filter(Boolean).join(" ")},yA=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,u=pb(["react-colorful__pointer",e.className]);return kn.createElement("div",{className:u,style:{top:100*o+"%",left:100*n+"%"}},kn.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Ul=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},RY=function(e){return PY(By(e))},By=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Ul(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Ul(parseInt(e.substring(6,8),16)/255,2):1}},NY=function(e){return FY(BY(e))},LY=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Ul(e.h),s:Ul(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Ul(o/2),a:Ul(r,2)}},Fy=function(e){var t=LY(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},BY=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var u=Math.floor(t),y=r*(1-n),d=r*(1-(t-u)*n),a=r*(1-(1-t+u)*n),c=u%6;return{r:Ul(255*[r,d,y,y,a,r][c]),g:Ul(255*[a,r,r,d,y,y][c]),b:Ul(255*[y,y,a,r,r,d][c]),a:Ul(o,2)}},ip=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},FY=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,u=o<1?ip(Ul(255*o)):"";return"#"+ip(t)+ip(n)+ip(r)+u},PY=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,u=Math.max(t,n,r),y=u-Math.min(t,n,r),d=y?u===t?(n-r)/y:u===n?2+(r-t)/y:4+(t-n)/y:0;return{h:Ul(60*(d<0?d+6:d)),s:Ul(u?y/u*100:0),v:Ul(u/255*100),a:o}},zY=kn.memo(function(e){var t=e.hue,n=e.onChange,r=pb(["react-colorful__hue",e.className]);return kn.createElement("div",{className:r},kn.createElement(vA,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:J1(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ul(t),"aria-valuemax":"360","aria-valuemin":"0"},kn.createElement(yA,{className:"react-colorful__hue-pointer",left:t/360,color:Fy({h:t,s:100,v:100,a:1})})))}),HY=kn.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Fy({h:t.h,s:100,v:100,a:1})};return kn.createElement("div",{className:"react-colorful__saturation",style:r},kn.createElement(vA,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:J1(t.s+100*o.left,0,100),v:J1(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ul(t.s)+"%, Brightness "+Ul(t.v)+"%"},kn.createElement(yA,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Fy(t)})))}),xA=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},UY=function(e,t){return e.toLowerCase()===t.toLowerCase()||xA(By(e),By(t))};function jY(e,t,n){var r=Ny(n),o=Ie.useState(function(){return e.toHsva(t)}),u=o[0],y=o[1],d=Ie.useRef({color:t,hsva:u});Ie.useEffect(function(){if(!e.equal(t,d.current.color)){var c=e.toHsva(t);d.current={hsva:c,color:t},y(c)}},[t,e]),Ie.useEffect(function(){var c;xA(u,d.current.hsva)||e.equal(c=e.fromHsva(u),d.current.color)||(d.current={hsva:u,color:c},r(c))},[u,e,r]);var a=Ie.useCallback(function(c){y(function(v){return Object.assign({},v,c)})},[]);return[u,a]}var WY=typeof window<"u"?Ie.useLayoutEffect:Ie.useEffect,GY=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Q6=new Map,YY=function(e){WY(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Q6.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Q6.set(t,n);var r=GY();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},XY=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,u=e.onChange,y=mA(e,["className","colorModel","color","onChange"]),d=Ie.useRef(null);YY(d);var a=jY(n,o,u),c=a[0],v=a[1],f=pb(["react-colorful",t]);return kn.createElement("div",Lm({},y,{ref:d,className:f}),kn.createElement(HY,{hsva:c,onChange:v}),kn.createElement(zY,{hue:c.h,onChange:v,className:"react-colorful__last-control"}))},VY={defaultColor:"000",toHsva:RY,fromHsva:function(e){return NY({h:e.h,s:e.s,v:e.v,a:1})},equal:UY},KY=function(e){return kn.createElement(XY,Lm({},e,{colorModel:VY}))};const bA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M5 14L14 3L22 7L13 18L5 14Z",fill:"#ffc9c9"}),te.jsx("path",{d:"M5 14L5 19L13 23L13 18",fill:"#fa5252"}),te.jsx("path",{d:"M13 23L22 12L22 7",fill:"#e03131"})]}),wA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M5 14L14 3L22 7L13 18L5 14Z",fill:"#e7f5ff"}),te.jsx("path",{d:"M5 14L5 19L13 23L13 18",fill:"#339af0"}),te.jsx("path",{d:"M13 23L22 12L22 7",fill:"#1c7ed6"}),te.jsx("circle",{cx:"13",cy:"11",r:"2.5",fill:"#f03e3e",stroke:"#f03e3e",strokeWidth:"1"})]}),CA=()=>te.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:te.jsx("ellipse",{cx:"12",cy:"12",rx:"9",ry:"5"})}),J6=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"16",cy:"8",r:"1",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"8",cy:"16",r:"1",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"17",cy:"16",r:"0.8",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"7",cy:"8",r:"0.8",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"12",cy:"6",r:"0.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"6",cy:"12",r:"0.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"18",cy:"12",r:"0.5",fill:"currentColor",stroke:"none"})]}),$6=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("circle",{cx:"9",cy:"9",r:"4"}),te.jsx("circle",{cx:"15",cy:"15",r:"5"})]}),eC=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("rect",{x:"4",y:"16",width:"16",height:"4",rx:"1"}),te.jsx("path",{d:"M17 16L14 3H10L7 16"})]}),tC=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("circle",{cx:"12",cy:"12",r:"3"}),te.jsx("path",{d:"M12 2V4M12 20V22M4 12H2M22 12H20M19.07 4.93L17.66 6.34M6.34 17.66L4.93 19.07M19.07 19.07L17.66 17.66M6.34 6.34L4.93 4.93"})]}),SA=()=>te.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:te.jsx("path",{d:"M12 2L2 12L12 22L22 12L12 2Z"})}),EA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),te.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),te.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),te.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),te.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"})]}),AA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M12 4v16"}),te.jsx("path",{d:"M8 8l4-4 4 4"}),te.jsx("path",{d:"M8 16l4 4 4-4"})]}),Ep=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M12 19l7-7 3 3-7 7-3-3z"}),te.jsx("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),te.jsx("path",{d:"M2 2l5.5 5.5"})]}),nC=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M18.3 3a2.5 2.5 0 0 1 2.8 3.8l-2.4 2.9a12 12 0 0 1-5 2.5l-6-5a12 12 0 0 1 2.5-5z",fill:"currentColor",opacity:"0.2"}),te.jsx("path",{d:"M12.5 7.5L5.5 14",strokeWidth:"1.5"}),te.jsx("path",{d:"M16 4.5L8.5 11.5",strokeWidth:"1.5"}),te.jsx("path",{d:"M13.7 12.2a12 12 0 0 1-5 2.5l-5 6 6-5a12 12 0 0 1 2.5-5"})]}),rC=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),te.jsx("line",{x1:"7",y1:"3",x2:"3",y2:"7"}),te.jsx("line",{x1:"14",y1:"3",x2:"3",y2:"14"}),te.jsx("line",{x1:"21",y1:"3",x2:"3",y2:"21"}),te.jsx("line",{x1:"21",y1:"10",x2:"10",y2:"21"}),te.jsx("line",{x1:"21",y1:"17",x2:"17",y2:"21"})]}),Py=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  touch-action: none;
`,TA=sn.div`
  width: 95vw;
  height: 90vh;
  max-width: 1280px;
  max-height: 1000px;
  background: #ffffff;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
`,ZY=sn.div`
  display: flex;
  flex-wrap: wrap;
  gap: 2px;
  padding: 0.25rem 0.4rem;
  background: #f1f3f5;
  border-bottom: 1px solid #e0e0e0;
  align-items: center;
`,oh=sn.button`
  background: ${({$active:e})=>e?"#e9ecef":"transparent"};
  border: 1px solid ${({$active:e})=>e?"#adb5bd":"transparent"};
  color: #333;
  padding: 4px;
  border-radius: 3px;
  cursor: ${({disabled:e})=>e?"default":"pointer"};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  min-width: 24px;
  height: 24px;
  touch-action: manipulation;
  opacity: ${({disabled:e})=>e?.3:1};
  pointer-events: ${({disabled:e})=>e?"none":"auto"};
  
  &:hover {
    background: ${({disabled:e})=>e?"transparent":"#e9ecef"};
  }
`,qY=sn.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1px;
  align-items: center;
`,kA=sn.div`
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background-color: ${({$color:e})=>e};
  border: 2px solid ${({$selected:e})=>e?"#333":"transparent"};
  cursor: pointer;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  touch-action: manipulation;
  
  &:hover {
    transform: scale(1.1);
  }
`,QY=sn.div`
  flex: 1;
  width: 100%;
  height: 100%;
  background: #f8f9fa;
  overflow-y: auto; /* Allow vertical scrolling */
  overflow-x: hidden;
  position: relative;
  display: flex;
  justify-content: center;
  
  /* Fabric container centering */
  .canvas-container {
    margin: 0 auto;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
`,JY=sn.div`
  position: absolute;
  bottom: 8px;
  right: 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 100;
`,iC=sn.button`
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: ${({$primary:e})=>e?"#333":"#ffffff"};
  color: ${({$primary:e})=>e?"#ffffff":"#333"};
  border: 1px solid ${({$primary:e})=>e?"#333":"#ced4da"};
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 8px rgba(0,0,0,0.15);
  }

  &:active {
    transform: scale(0.95);
  }
`,$Y=sn.div`
  width: 100%;
  height: 2px;
  background: transparent;
  border-top: 2px ${({$dash:e})=>e?"dashed":"solid"} #333;
  ${({$dash:e})=>e&&`border-image: repeating-linear-gradient(to right, #333, #333 ${e[0]}px, transparent ${e[0]}px, transparent ${e[0]+e[1]}px) 1;`}
  /* Simple fallback for complex dashes */
  ${({$dash:e})=>e&&e.length>2&&"border-top: 2px dashed #333;"}
`,S0=sn.div`
  height: ${({$size:e})=>e?Math.max(2,Math.min(24,e)):12}px;
  flex: 1;
  margin-left: 12px;
  border-radius: 2px;
  position: relative;
  background: ${({$type:e,$color:t})=>{if(e==="pen")return t;if(e==="highlighter"){if(t.startsWith("#")){const n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return`rgba(${n}, ${r}, ${o}, 0.3)`}return t.replace("rgb","rgba").replace(")",", 0.3)")}return e==="carbon"?`radial-gradient(${t}, transparent)`:e==="hatch"?`repeating-linear-gradient(45deg, ${t}, ${t} 1px, transparent 1px, transparent 4px)`:t}};

  ${({$type:e,$color:t})=>e==="glow"&&`
    box-shadow: 0 0 8px ${t};
    border: 1px solid white;
  `}

  ${({$type:e})=>e==="spray"&&`
    background-size: 4px 4px;
  `}

  ${({$type:e})=>e==="circle"&&`
    background-size: 8px 8px;
  `}
`,Of=sn.button`
  width: 100%;
  height: 24px;
  padding: 4px 8px;
  border: 1px solid ${({$active:e})=>e?"#333":"#e0e0e0"};
  background: ${({$active:e})=>e?"#f1f3f5":"white"};
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  
  &:hover {
    background: #f8f9fa;
  }
`,w1=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 10000;
  display: flex;
  align-items: ${({$centered:e=!0})=>e?"center":"flex-start"};
  justify-content: center;
`,dd=sn.div`
  background: white;
  padding: 0.4rem;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  min-width: 65px;

  ${({$anchor:e})=>e&&`
    position: fixed;
    top: ${e.top}px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10001;
  `}
`,C1=sn.div`
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 0.25rem;
`,Ys=sn.button`
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  border: 1px solid #dee2e6;
  background: ${({$variant:e})=>e==="primary"?"#333":"white"};
  color: ${({$variant:e})=>e==="primary"?"white":"#495057"};

  &:hover {
    background: ${({$variant:e})=>e==="primary"?"#222":"#f8f9fa"};
  }
`,aC=sn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
`,ap=sn.input`
  appearance: none;
  width: 100%;
  margin: 0.2rem 0;
  cursor: pointer;
  background: transparent;

  &::-webkit-slider-runnable-track {
    width: 100%;
    height: ${({$size:e})=>Math.min(e,100)}px;
    background: ${({$opacityValue:e})=>e!==void 0?"linear-gradient(to right, #eee, #333)":"#dee2e6"};
    border-radius: ${({$size:e})=>Math.min(e,100)/2}px;
  }

  &::-webkit-slider-thumb {
    appearance: none;
    height: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    width: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    border-radius: 50%;
    background: #333;
    opacity: ${({$opacityValue:e})=>e!==void 0?Math.max(e/100,.1):1};
    cursor: pointer;
    margin-top: ${({$size:e})=>Math.min(e,100)/2-Math.max(Math.min(e,100)+10,24)/2}px;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }

  &::-moz-range-track {
    width: 100%;
    height: ${({$size:e})=>Math.min(e,100)}px;
    background: ${({$opacityValue:e})=>e!==void 0?"linear-gradient(to right, #eee, #333)":"#dee2e6"};
    border-radius: ${({$size:e})=>Math.min(e,100)/2}px;
  }

  &::-moz-range-thumb {
    height: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    width: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    border-radius: 50%;
    background: #333;
    opacity: ${({$opacityValue:e})=>e!==void 0?Math.max(e/100,.1):1};
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }

  &:focus {
    outline: none;
  }
`,eX=sn.input`
  width: 60px;
  padding: 0.2rem;
  border: 1px solid #ced4da;
  border-radius: 4px;
  font-size: 0.9rem;
  text-align: center;
  outline: none;

  &:focus {
    border-color: #333;
  }
`,oC=["#000000","#e03131","#2f9e44","#1971c2","#f08c00","#9c36b5"],sC=[2,4,8,16],Ap=[void 0,[5,5],[10,5],[2,2],[15,5,5,5],[20,10],[5,10]],tX=["Arial","Times New Roman","Courier New","Georgia","Verdana","Impact","Comic Sans MS"],nX=100,rX=0,S1={dashArray:Ap[rX],opacity:nX,headSize:20},lC=(e,t,n)=>{if(e.type==="tool")switch(e.toolId){case"select":return te.jsx(DS,{size:16});case"pen":return te.jsx(Ep,{});case"line":return te.jsx(ox,{size:16,style:{transform:"rotate(-45deg)"}});case"arrow":return te.jsx(ES,{size:16,style:{transform:"rotate(-135deg)"}});case"rect":return te.jsx(LS,{size:16});case"circle":return te.jsx(AS,{size:16});case"ellipse":return te.jsx(CA,{});case"triangle":return te.jsx(BS,{size:16});case"diamond":return te.jsx(SA,{});case"text":return te.jsx(FS,{size:16});case"eraser_pixel":return te.jsx(bA,{});case"eraser_object":return te.jsx(wA,{});default:return te.jsx("span",{children:e.toolId})}else if(e.type==="action")switch(e.actionId){case"undo":return te.jsx(MS,{size:16});case"redo":return te.jsx(OS,{size:16});case"download_png":return te.jsx(Np,{size:16});case"clear":return te.jsx(Qh,{size:16});case"extend_height":return te.jsx(AA,{});case"background":return te.jsx(EA,{});default:return te.jsx("span",{children:e.actionId})}else{if(e.type==="color"&&e.colorIndex!==void 0)return te.jsx(kA,{$color:t[e.colorIndex]||"#000",style:{width:14,height:14,cursor:"grab"}});if(e.type==="size"&&e.sizeIndex!==void 0){const r=n[e.sizeIndex]||2;return te.jsx("div",{style:{width:Math.min(r,20),height:Math.min(r,20),borderRadius:"50%",background:"#333"}})}}return te.jsx("span",{children:"?"})},E1=[{id:"select",type:"tool",toolId:"select"},{id:"pen_1",type:"tool",toolId:"pen"},{id:"pen_2",type:"tool",toolId:"pen"},{id:"pen_3",type:"tool",toolId:"pen"},{id:"line",type:"tool",toolId:"line"},{id:"arrow_v2",type:"tool",toolId:"arrow"},{id:"rect",type:"tool",toolId:"rect"},{id:"circle",type:"tool",toolId:"circle"},{id:"ellipse",type:"tool",toolId:"ellipse"},{id:"triangle",type:"tool",toolId:"triangle"},{id:"diamond",type:"tool",toolId:"diamond"},{id:"text",type:"tool",toolId:"text"},{id:"eraser_pixel",type:"tool",toolId:"eraser_pixel"},{id:"eraser_object",type:"tool",toolId:"eraser_object"},{id:"undo",type:"action",actionId:"undo"},{id:"redo",type:"action",actionId:"redo"},{id:"download_png",type:"action",actionId:"download_png"},{id:"clear",type:"action",actionId:"clear"},{id:"extend_height",type:"action",actionId:"extend_height"},{id:"background",type:"action",actionId:"background"},{id:"color-0",type:"color",colorIndex:0},{id:"color-1",type:"color",colorIndex:1},{id:"color-2",type:"color",colorIndex:2},{id:"color-3",type:"color",colorIndex:3},{id:"color-4",type:"color",colorIndex:4},{id:"color-5",type:"color",colorIndex:5},{id:"size-0",type:"size",sizeIndex:0},{id:"size-1",type:"size",sizeIndex:1},{id:"size-2",type:"size",sizeIndex:2},{id:"size-3",type:"size",sizeIndex:3}],iX=(e,t,n)=>{const r=document.createElement("canvas"),o=r.getContext("2d");if(!o)return"#ffffff";let u=30;return e.endsWith("xs")?u=15:e.endsWith("sm")?u=25:e.endsWith("md")?u=35:e.endsWith("lg")?u=45:e.endsWith("xl")&&(u=55),r.width=u,r.height=u,o.fillStyle=t,o.fillRect(0,0,u,u),e==="none"?new ni.fabric.Pattern({source:r,repeat:"repeat"}):(o.strokeStyle=`rgba(0, 0, 0, ${n})`,o.lineWidth=1,e.startsWith("lines")?(o.beginPath(),o.moveTo(0,u-.5),o.lineTo(u,u-.5),o.stroke()):e.startsWith("grid")&&(o.beginPath(),o.moveTo(0,u-.5),o.lineTo(u,u-.5),o.moveTo(u-.5,0),o.lineTo(u-.5,u),o.stroke()),new ni.fabric.Pattern({source:r,repeat:"repeat"}))},N2=sn.button`
  padding: 6px 8px;
  font-size: 11px;
  text-align: left;
  background: ${({$active:e})=>e?"#e9ecef":"transparent"};
  border: none;
  cursor: pointer;
  border-radius: 4px;
  width: 100%;
  
  &:hover {
    background: #f1f3f5;
  }
`,E0=sn.button`
  width: 24px;
  height: 24px;
  border-radius: 4px;
  background: ${({$color:e})=>e};
  border: 2px solid ${({$active:e})=>e?"#333":"#dee2e6"};
  cursor: pointer;
  
  &:hover {
    transform: scale(1.1);
  }
`,uC=sn.div`
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 32px;
  margin: 2px;
  cursor: grab;
  color: #333; /* Ensure icon color is dark */
  /* Visual box removed for cleaner look on small screens */
`,cC=sn.div`
  background: ${({$isDraggingOver:e})=>e?"#f1f3f5":"#f8f9fa"};
  border: 2px dashed #dee2e6;
  border-radius: 8px;
  padding: 12px;
  min-height: 80px;
  display: flex;
  flex-wrap: wrap;
  align-content: flex-start;
  gap: 4px;
  transition: background-color 0.2s;
`,aX=({currentItems:e,allItems:t,onSave:n,onClose:r,colors:o,brushSizes:u})=>{const[y,d]=Ie.useState(e),[a,c]=Ie.useState(()=>t.filter(f=>!e.some(g=>g.id===f.id))),v=f=>{const{source:g,destination:m}=f;if(m)if(g.droppableId===m.droppableId){const C=g.droppableId==="active"?y:a,k=g.droppableId==="active"?d:c,S=Array.from(C),[O]=S.splice(g.index,1);S.splice(m.index,0,O),k(S)}else{const C=g.droppableId==="active"?y:a,k=m.droppableId==="active"?y:a,S=g.droppableId==="active"?d:c,O=m.droppableId==="active"?d:c,N=Array.from(C),U=Array.from(k),[W]=N.splice(g.index,1);U.splice(m.index,0,W),S(N),O(U)}};return te.jsx(Py,{style:{zIndex:11e3},children:te.jsx(TA,{style:{width:"90vw",height:"80vh",maxWidth:"800px",maxHeight:"700px",overflow:"hidden"},children:te.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",height:"100%"},children:[te.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[te.jsx("h3",{style:{margin:0},children:"Customize Toolbar"}),te.jsxs("div",{style:{display:"flex",gap:"8px"},children:[te.jsx(Ys,{onClick:r,children:"Cancel"}),te.jsx(Ys,{$variant:"primary",onClick:()=>n(y),children:"Save & Apply"})]})]}),te.jsx(c7,{onDragEnd:v,children:te.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"1rem",overflow:"hidden"},children:[te.jsxs("div",{children:[te.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",color:"#666"},children:"Active Toolbar"}),te.jsx(dy,{droppableId:"active",direction:"horizontal",children:(f,g)=>te.jsxs(cC,{ref:f.innerRef,...f.droppableProps,$isDraggingOver:g.isDraggingOver,style:{minHeight:"66px",flexWrap:"nowrap",overflowX:"auto",alignItems:"center",padding:"8px"},children:[y.map((m,C)=>te.jsx(fy,{draggableId:m.id,index:C,children:k=>te.jsx(uC,{ref:k.innerRef,...k.draggableProps,...k.dragHandleProps,children:lC(m,o,u)})},m.id)),f.placeholder]})})]}),te.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[te.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",color:"#666"},children:"Available Tools (Drag here to remove)"}),te.jsx(dy,{droppableId:"reservoir",children:(f,g)=>te.jsxs(cC,{ref:f.innerRef,...f.droppableProps,$isDraggingOver:g.isDraggingOver,style:{flex:1,alignContent:"flex-start",overflowY:"auto"},children:[a.map((m,C)=>te.jsx(fy,{draggableId:m.id,index:C,children:k=>te.jsx(uC,{ref:k.innerRef,...k.draggableProps,...k.dragHandleProps,children:lC(m,o,u)})},m.id)),f.placeholder]})})]})]})})]})})})},DA=({initialData:e,onSave:t,onClose:n})=>{const r=Ie.useRef(null),o=Ie.useRef(null),u=Ie.useRef(null),{t:y}=cf(),{registerGuard:d,unregisterGuard:a}=ix(),c=Ie.useRef(!1),v=Ie.useRef(n);v.current=n;const f=()=>{c.current?n():(c.current=!0,window.history.back())};Ie.useLayoutEffect(()=>{window.history.pushState({fabricOpen:!0,isGuard:!0},"");const rt="fabric-canvas-guard-modal";d(rt,()=>c.current?(v.current(),"ALLOW"):"PREVENT");const Gt=It=>{c.current||(It.preventDefault(),window.history.pushState({fabricOpen:!0,isGuard:!0},""))};return window.addEventListener("popstate",Gt),()=>{a(rt),window.removeEventListener("popstate",Gt)}},[d,a]);const[g,m]=Ie.useState(()=>{const rt=localStorage.getItem("fabric_colors");return rt?JSON.parse(rt):oC}),[C,k]=Ie.useState(()=>{const rt=localStorage.getItem("fabric_brush_sizes");return rt?JSON.parse(rt):sC}),[S,O]=Ie.useState(()=>{const rt=localStorage.getItem("fabric_toolbar_order");if(!rt)return E1;let Gt=JSON.parse(rt);Gt=Gt.filter(nn=>E1.some(xn=>xn.id===nn.id));const It=E1.filter(nn=>!Gt.some(xn=>xn.id===nn.id));if(It.length>0){const nn=[...Gt];return It.forEach(xn=>{const hr=E1.findIndex(En=>En.id===xn.id);nn.splice(hr,0,xn)}),nn}return Gt}),[N,U]=Ie.useState("pen"),[W,q]=Ie.useState("#000000"),[J,ne]=Ie.useState(2),[ve,Se]=Ie.useState("none"),[Fe,Ue]=Ie.useState("#ffffff"),[Ze,mt]=Ie.useState(.1),[ct,ge]=Ie.useState(!1),ye=Ie.useRef(null),[Re,ft]=Ie.useState(!1),[Me,ce]=Ie.useState("#000000"),[le,ae]=Ie.useState(null),[V,me]=Ie.useState(!1),[Ae,Ne]=Ie.useState(2),[ut,xt]=Ie.useState(null),[et,Wt]=Ie.useState(!1),[_t,Ft]=Ie.useState(()=>{const rt=localStorage.getItem("fabric_pen_slot_settings");return rt?JSON.parse(rt):{pen_1:{brushType:"pen",color:"#000000",size:2},pen_2:{brushType:"highlighter",color:"#ffeb3b",size:10},pen_3:{brushType:"pen",color:"#ff0000",size:2}}}),[st,At]=Ie.useState("pen_1");Ie.useEffect(()=>{localStorage.setItem("fabric_pen_slot_settings",JSON.stringify(_t))},[_t]);const[St,Kt]=Ie.useState(()=>{const rt=localStorage.getItem("fabric_shape_styles");return rt?JSON.parse(rt):{}}),[zt,Ut]=Ie.useState(!1),[Vt,un]=Ie.useState(0),[Xt,qt]=Ie.useState(100),[Bn,gt]=Ie.useState(20),[dt,Pe]=Ie.useState(()=>localStorage.getItem("fabric_font_family")||"Arial"),[be,Ee]=Ie.useState(!1),[qe,re]=Ie.useState(dt);Ie.useEffect(()=>{localStorage.setItem("fabric_font_family",dt)},[dt]),Ie.useEffect(()=>{localStorage.setItem("fabric_colors",JSON.stringify(g))},[g]),Ie.useEffect(()=>{localStorage.setItem("fabric_brush_sizes",JSON.stringify(C))},[C]),Ie.useEffect(()=>{localStorage.setItem("fabric_toolbar_order",JSON.stringify(S))},[S]),Ie.useEffect(()=>{localStorage.setItem("fabric_shape_styles",JSON.stringify(St))},[St]);const[we,Ve]=Ie.useState(()=>localStorage.getItem("fabric_brush_type")||"pen"),[it,We]=Ie.useState(!1),[Et,Ye]=Ie.useState(!1),[at,Tt]=Ie.useState(we),[yt,Pt]=Ie.useState(()=>localStorage.getItem("fabric_palm_rejection")==="true"),pn=Ie.useRef(yt);Ie.useEffect(()=>{pn.current=yt,localStorage.setItem("fabric_palm_rejection",yt?"true":"false")},[yt]);const[Cn,vn]=Ie.useState(yt),[$n,Yn]=Ie.useState(!1),[er,Hn]=Ie.useState(!1),xr=Ie.useRef(0);Ie.useEffect(()=>{localStorage.setItem("fabric_brush_type",we)},[we]);const Br=(rt,Gt)=>rt==="pen"?Gt:rt,[mr,Oi]=Ie.useState(()=>{const rt=localStorage.getItem("fabric_tool_settings");return rt?JSON.parse(rt):{}});Ie.useEffect(()=>{localStorage.setItem("fabric_tool_settings",JSON.stringify(mr))},[mr]),Ie.useEffect(()=>{const rt=Br(N,we),Gt=mr[rt];if(Gt)q(Gt.color),ne(Gt.size);else if(N==="pen"&&we==="highlighter"){const It="#f08c00";q(It),ne(16),Oi(xn=>({...xn,[rt]:{color:It,size:16}}))}else Oi(It=>({...It,[rt]:{color:W,size:J}}))},[N,we]);const Jn=kn.useCallback((rt,Gt,It)=>{rt&&q(rt),Gt&&ne(Gt),It&&Ve(It);const nn=N,xn=It||we,hr=Br(nn,xn);Oi(En=>({...En,[hr]:{color:rt!==void 0?rt:En[hr]?.color||W,size:Gt!==void 0?Gt:En[hr]?.size||J}})),nn==="pen"&&st&&Ft(En=>({...En,[st]:{brushType:xn,color:rt!==void 0?rt:En[st]?.color||W,size:Gt!==void 0?Gt:En[st]?.size||J}}))},[N,we,W,J,st,Br]),Fr=kn.useCallback((rt,Gt,It)=>{if(Gt==="tool"&&It)if(It==="pen"){const nn=rt==="pen"||rt==="pen_1"?"pen_1":rt==="pen_2"?"pen_2":rt==="pen_3"?"pen_3":"pen_1";At(nn);const xn=_t[nn];xn&&(Ve(xn.brushType),q(xn.color),ne(xn.size)),U("pen")}else U(It)},[_t,At,Ve,q,ne,U]),si=Ie.useRef(!1),Yr=Ie.useRef(null),vi=Ie.useRef(null),Sn=Ie.useRef(null),vr=Ie.useRef([]),Pr=Ie.useRef(-1),ar=Ie.useRef(!1),fi=Ie.useRef({}),yi=Ie.useRef(0),[xi,Tr]=Ie.useState(null),zr=(rt,Gt,It)=>{const nn=Date.now(),xn=fi.current[Gt]||0,hr=nn-xn;hr>0&&hr<400?(rt.cancelable&&rt.preventDefault(),yi.current=nn,It(rt),fi.current[Gt]=0):fi.current[Gt]=nn},gr=kn.useCallback(()=>{if(ar.current)return;const rt=u.current;if(!rt)return;const Gt=JSON.stringify(rt.toJSON());Pr.current<vr.current.length-1&&(vr.current=vr.current.slice(0,Pr.current+1)),vr.current.push(Gt),Pr.current=vr.current.length-1,vr.current.length>50&&(vr.current.shift(),Pr.current--),We(Pr.current>0),Ye(!1)},[]);Ie.useLayoutEffect(()=>{if(!r.current||!o.current)return;u.current&&u.current.dispose();const rt=o.current.clientWidth,Gt=o.current.clientHeight,It=new ni.fabric.Canvas(r.current,{width:rt,height:Gt,backgroundColor:"#ffffff",isDrawingMode:!0,selection:!1});It.freeDrawingBrush=new ni.fabric.PencilBrush(It),It.freeDrawingBrush.width=J,It.freeDrawingBrush.color=W,u.current=It;const nn=En=>{if(!pn.current)return;const kr=En.pointerType==="pen";let $r=!1;const Rr=En.touches&&En.touches.length>0?En.touches:En.changedTouches;if(Rr&&Rr.length>0){const Jr=Rr[0];Jr.touchType==="stylus"&&($r=!0);const Dr=Jr.force||En.pressure||0;Dr>0&&Dr!==1&&($r=!0)}const ei=En.pressure||0,Ur=(En.tiltX||0)!==0||(En.tiltY||0)!==0;kr||$r||Ur||ei>0&&ei!==.5&&ei!==1||(En.cancelable&&En.type!=="pointerleave"&&En.type!=="pointercancel"&&En.preventDefault(),En.stopImmediatePropagation(),En.stopPropagation())},xn=It.upperCanvasEl;if(xn){const En={capture:!0,passive:!1};xn.addEventListener("pointerdown",nn,En),xn.addEventListener("pointermove",nn,En),xn.addEventListener("touchstart",nn,En),xn.addEventListener("touchmove",nn,En)}setTimeout(()=>gr(),100),It.on("object:added",gr),It.on("object:modified",gr),It.on("object:removed",gr);const hr=En=>{const kr=En.target;if(kr){let $r="";kr.type==="i-text"||kr.type==="text"?$r=kr.fill:$r=kr.stroke;const Rr=kr.strokeWidth||J;$r&&q($r),Rr&&ne(Rr)}};if(It.on("selection:created",hr),It.on("selection:updated",hr),e)try{const En=JSON.parse(e);En.height&&It.setHeight(En.height),It.loadFromJSON(En,()=>{It.renderAll(),gr()})}catch(En){console.error("Failed to load fabric JSON",En)}return()=>{xn&&(xn.removeEventListener("pointerdown",nn,!0),xn.removeEventListener("pointermove",nn,!0),xn.removeEventListener("touchstart",nn,!0),xn.removeEventListener("touchmove",nn,!0)),It.off("object:added",gr),It.off("object:modified",gr),It.off("object:removed",gr),It.off("selection:created",hr),It.off("selection:updated",hr),It.dispose(),u.current=null}},[]);const oa=(rt,Gt)=>{const It=rt.currentTarget.getBoundingClientRect();Tr({top:It.bottom+5}),ae(Gt),ce(g[Gt]),yi.current=Date.now(),ft(!0)},Hr=()=>{if(Tr(null),le!==null){const rt=[...g];rt[le]=Me,m(rt),q(Me),Jn(Me,void 0),ft(!1),ae(null),xr.current=Date.now()}},or=()=>{le!==null&&ce(oC[le])},co=()=>{Tr(null),ft(!1),ae(null)},bi=(rt,Gt)=>{const It=rt.currentTarget.getBoundingClientRect();Tr({top:It.bottom+5}),xt(Gt),Ne(C[Gt]),yi.current=Date.now(),me(!0)},Ni=()=>{if(Tr(null),ut!==null){const rt=[...C];rt[ut]=Ae,k(rt),ne(Ae),Jn(void 0,Ae),me(!1),xt(null),xr.current=Date.now()}},hn=()=>{ut!==null&&Ne(sC[ut])},wi=()=>{Tr(null),me(!1),xt(null)},mn=(rt,Gt)=>{const It=rt.currentTarget.getBoundingClientRect();Tr({top:It.bottom+5});const nn=St[Gt]||S1,xn=Ap.findIndex(hr=>JSON.stringify(hr)===JSON.stringify(nn.dashArray));un(xn===-1?0:xn),qt(nn.opacity),gt(nn.headSize||20),Ut(!0)},Zi=()=>{Tr(null),N&&Kt(rt=>({...rt,[N]:{dashArray:Ap[Vt],opacity:Xt,headSize:Bn}})),Ut(!1)},Bo=()=>{un(0),qt(100),gt(20)},br=()=>{Tr(null),Ut(!1)},Xn=rt=>{const Gt=rt.currentTarget.getBoundingClientRect();Tr({top:Gt.bottom+5}),Tt(we),yi.current=Date.now(),Yn(!0)},fr=()=>{Jn(void 0,void 0,at),Pt(Cn),Tr(null),Yn(!1),xr.current=Date.now()},Or=()=>{Tt("pen"),vn(!1)},fo=()=>{Tr(null),Yn(!1),Tt(we),vn(yt)},cn=()=>{Tr(null),Ee(!1)},On=rt=>{const Gt=rt.currentTarget.getBoundingClientRect();Tr({top:Gt.bottom+5}),re(dt),yi.current=Date.now(),Ee(!0)},qi=()=>{Pe(qe),Tr(null),Ee(!1),xr.current=Date.now()},hl=rt=>te.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[rt.type==="tool"&&te.jsx(oh,{$active:rt.toolId==="pen"?N==="pen"&&st===(rt.id==="pen"?"pen_1":rt.id):N===rt.toolId,onClick:()=>Fr(rt.id,rt.type,rt.toolId),onDoubleClick:Gt=>{rt.toolId==="pen"?Xn(Gt):rt.toolId==="text"?On(Gt):["line","arrow","rect","circle","ellipse","triangle","diamond"].includes(rt.toolId)&&mn(Gt,rt.toolId)},onTouchStart:Gt=>{rt.toolId==="pen"?zr(Gt,`tool - ${rt.toolId} `,It=>Xn(It)):rt.toolId==="text"?zr(Gt,`tool - ${rt.toolId} `,It=>On(It)):["line","arrow","rect","circle","ellipse","triangle","diamond"].includes(rt.toolId)&&zr(Gt,`tool - ${rt.toolId} `,It=>mn(It,rt.toolId))},title:(rt.toolId??"").charAt(0).toUpperCase()+(rt.toolId??"").slice(1),children:rt.toolId==="pen"?(()=>{const Gt=rt.id==="pen"||rt.id==="pen_1"?"pen_1":rt.id==="pen_2"?"pen_2":rt.id==="pen_3"?"pen_3":"pen_1",It=_t[Gt];switch(It?It.brushType:"pen"){case"pen":return te.jsx(Ep,{});case"carbon":return te.jsx(nC,{});case"hatch":return te.jsx(rC,{});case"highlighter":return te.jsx(eC,{});case"spray":return te.jsx(J6,{});case"circle":return te.jsx($6,{});case"glow":return te.jsx(tC,{});default:return te.jsx(Ep,{})}})():te.jsxs(te.Fragment,{children:[rt.toolId==="select"&&te.jsx(DS,{size:16}),rt.toolId==="line"&&te.jsx(ox,{size:16,style:{transform:"rotate(-45deg)"}}),rt.toolId==="arrow"&&te.jsx(ES,{size:16,style:{transform:"rotate(-135deg)"}}),rt.toolId==="rect"&&te.jsx(LS,{size:16}),rt.toolId==="circle"&&te.jsx(AS,{size:16}),rt.toolId==="ellipse"&&te.jsx(CA,{}),rt.toolId==="triangle"&&te.jsx(BS,{size:16}),rt.toolId==="diamond"&&te.jsx(SA,{}),rt.toolId==="text"&&te.jsx(FS,{size:16}),rt.toolId==="eraser_pixel"&&te.jsx(bA,{}),rt.toolId==="eraser_object"&&te.jsx(wA,{})]})}),rt.type==="action"&&te.jsxs(te.Fragment,{children:[rt.actionId==="undo"&&te.jsx(oh,{onClick:Ti,title:"Undo (Ctrl+Z)",disabled:!it,children:te.jsx(MS,{size:16})}),rt.actionId==="redo"&&te.jsx(oh,{onClick:jt,title:"Redo (Ctrl+Y)",disabled:!Et,children:te.jsx(OS,{size:16})}),rt.actionId==="download_png"&&te.jsx(oh,{onClick:Ir,title:"Download as PNG",children:te.jsx(Np,{size:16})}),rt.actionId==="clear"&&te.jsx(oh,{onClick:()=>{window.confirm("Clear all?")&&Zn()},title:"Clear All",children:te.jsx(Qh,{size:16})}),rt.actionId==="extend_height"&&te.jsx(oh,{onClick:Qe,title:"Extend height",children:te.jsx(AA,{})}),rt.actionId==="background"&&te.jsxs("div",{style:{position:"relative",display:"flex"},children:[te.jsx(oh,{$active:ve!=="none"||ct,onClick:()=>{ct?ge(!1):(ye.current={type:ve,color:Fe,opacity:Ze},ge(!0))},title:"Background",children:te.jsx(EA,{})}),ct&&te.jsxs("div",{style:{position:"absolute",top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ced4da",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"12px",display:"flex",flexDirection:"column",gap:"8px",minWidth:"220px",maxHeight:"400px",overflowY:"auto"},onClick:Gt=>Gt.stopPropagation(),children:[te.jsx("div",{style:{fontWeight:600,fontSize:"0.8rem",color:"#495057"},children:"Grid/Line Type"}),te.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px"},children:[te.jsx(N2,{$active:ve==="none",onClick:()=>Se("none"),children:"None"}),te.jsx(N2,{$active:ve.startsWith("lines"),onClick:()=>Se("lines-sm"),children:"Lines"}),te.jsx(N2,{$active:ve.startsWith("grid"),onClick:()=>Se("grid-sm"),children:"Grid"})]}),(ve.startsWith("lines")||ve.startsWith("grid"))&&te.jsxs(te.Fragment,{children:[te.jsx("div",{style:{fontSize:"0.75rem",color:"#888",marginTop:"4px"},children:"Size"}),te.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:["xs","sm","md","lg","xl"].map(Gt=>te.jsx("button",{style:{flex:1,padding:"2px",fontSize:"10px",background:ve.endsWith(Gt)?"#333":"#f1f3f5",color:ve.endsWith(Gt)?"white":"#333",border:"none",borderRadius:"2px",cursor:"pointer"},onClick:()=>Se(`${ve.split("-")[0]}-${Gt}`),children:Gt.toUpperCase()},Gt))}),te.jsx("div",{style:{fontSize:"0.75rem",color:"#888",marginTop:"4px"},children:"Line Darkness"}),te.jsx(ap,{type:"range",min:"5",max:"80",$size:20,$opacityValue:Ze*100,value:Ze*100,onChange:Gt=>mt(parseInt(Gt.target.value)/100),style:{margin:"4px 0"}})]}),te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"4px 0"}}),te.jsx("div",{style:{fontWeight:600,fontSize:"0.8rem",color:"#495057"},children:"Paper Color"}),te.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[te.jsx(E0,{$color:"#ffffff",$active:Fe==="#ffffff",onClick:()=>Ue("#ffffff"),title:"White"}),te.jsx(E0,{$color:"#f8f9fa",$active:Fe==="#f8f9fa",onClick:()=>Ue("#f8f9fa"),title:"Light Gray"}),te.jsx(E0,{$color:"#e9ecef",$active:Fe==="#e9ecef",onClick:()=>Ue("#e9ecef"),title:"Gray"}),te.jsx(E0,{$color:"#dee2e6",$active:Fe==="#dee2e6",onClick:()=>Ue("#dee2e6"),title:"Dark Gray"}),te.jsx(E0,{$color:"#faf9f6",$active:Fe==="#faf9f6",onClick:()=>Ue("#faf9f6"),title:"Off White"}),te.jsx(E0,{$color:"#f5f5dc",$active:Fe==="#f5f5dc",onClick:()=>Ue("#f5f5dc"),title:"Beige"}),te.jsx(E0,{$color:"#e8e4c9",$active:Fe==="#e8e4c9",onClick:()=>Ue("#e8e4c9"),title:"Dark Beige"})]}),te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"8px 0 4px 0"}}),te.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[te.jsx(Ys,{onClick:()=>{ye.current&&(Se(ye.current.type),Ue(ye.current.color),mt(ye.current.opacity)),ge(!1)},children:"Cancel"}),te.jsx(Ys,{$variant:"primary",onClick:()=>{ge(!1)},children:"OK"})]})]})]})]}),rt.type==="color"&&te.jsx("div",{style:{padding:"0 4px",display:"flex",alignItems:"center",height:"28px"},children:te.jsx(kA,{$color:g[rt.colorIndex],$selected:W===g[rt.colorIndex]&&!N.startsWith("eraser"),onClick:()=>{const Gt=g[rt.colorIndex];q(Gt),Jn(Gt,void 0),N.startsWith("eraser")&&U("pen")},onDoubleClick:Gt=>oa(Gt,rt.colorIndex),onTouchStart:Gt=>zr(Gt,`color - ${rt.colorIndex} `,It=>oa(It,rt.colorIndex)),title:"Double-click to change color"})}),rt.type==="size"&&te.jsx(oh,{$active:J===C[rt.sizeIndex],onClick:()=>{const Gt=C[rt.sizeIndex];ne(Gt),Jn(void 0,Gt)},onDoubleClick:Gt=>bi(Gt,rt.sizeIndex),onTouchStart:Gt=>zr(Gt,`size - ${rt.sizeIndex} `,It=>bi(It,rt.sizeIndex)),style:{width:30,fontSize:"0.8rem",padding:0},title:`Size: ${C[rt.sizeIndex]} px(Double - click to change)`,children:te.jsx("div",{style:{width:Math.min(C[rt.sizeIndex],20),height:Math.min(C[rt.sizeIndex],20),borderRadius:"50%",background:"#333"}})})]},rt.id),Ai=kn.useCallback(rt=>{const Gt=u.current;if(!Gt)return;const It=Gt.getPointer(rt.e);si.current=!0,Yr.current={x:It.x,y:It.y};let nn=null;const xn=St[N]||S1,hr={stroke:W,strokeWidth:J,strokeDashArray:xn.dashArray,opacity:xn.opacity/100,fill:"transparent",left:It.x,top:It.y,selectable:!1,evented:!1};if(N==="line"||N==="arrow"){if(nn=new ni.fabric.Line([It.x,It.y,It.x,It.y],{...hr,strokeLineCap:"round"}),N==="arrow"){nn.hasArrow=!0;const En=new ni.fabric.Polyline([new ni.fabric.Point(It.x,It.y),new ni.fabric.Point(It.x,It.y),new ni.fabric.Point(It.x,It.y)],{stroke:W,strokeWidth:J,fill:"transparent",strokeLineCap:"round",strokeLineJoin:"round",selectable:!1,evented:!1,opacity:(xn.opacity||100)/100});Sn.current=En,Gt.add(En)}}else N==="rect"?nn=new ni.fabric.Rect({...hr,width:0,height:0}):N==="circle"?nn=new ni.fabric.Circle({...hr,radius:0}):N==="triangle"?nn=new ni.fabric.Triangle({...hr,width:0,height:0}):N==="ellipse"?nn=new ni.fabric.Ellipse({...hr,rx:0,ry:0}):N==="diamond"&&(nn=new ni.fabric.Polygon([new ni.fabric.Point(0,0),new ni.fabric.Point(0,0),new ni.fabric.Point(0,0),new ni.fabric.Point(0,0)],{...hr,originX:"center",originY:"center",isDiamond:!0}));nn&&(vi.current=nn,Gt.add(nn))},[N,W,J,St]),_a=kn.useCallback(rt=>{if(!si.current||!vi.current||!Yr.current)return;const Gt=u.current;if(!Gt)return;const It=Gt.getPointer(rt.e),nn=Yr.current,xn=vi.current,hr=Math.min(nn.x,It.x),En=Math.min(nn.y,It.y),kr=Math.abs(It.x-nn.x),$r=Math.abs(It.y-nn.y);if(N==="line"||N==="arrow"){if(xn.set({x2:It.x,y2:It.y}),N==="arrow"){const Rr=Math.round(It.x),ei=Math.round(It.y),Ur=Math.PI/6,Jr=Yr.current,Dr=Math.atan2(ei-Math.round(Jr.y),Rr-Math.round(Jr.x)),Vn=St.arrow||S1,ba=Math.round(Vn.headSize||Math.max(12,J*3)),tr=Math.round(Rr-ba*Math.cos(Dr-Ur)),Zr=Math.round(ei-ba*Math.sin(Dr-Ur)),hi=Math.round(Rr-ba*Math.cos(Dr+Ur)),Ui=Math.round(ei-ba*Math.sin(Dr+Ur));Sn.current&&(Sn.current.set({points:[new ni.fabric.Point(tr,Zr),new ni.fabric.Point(Rr,ei),new ni.fabric.Point(hi,Ui)]}),Sn.current.setCoords(),Gt.requestRenderAll()),xn.arrowHead=[new ni.fabric.Point(tr,Zr),new ni.fabric.Point(Rr,ei),new ni.fabric.Point(hi,Ui)],xn.set({x2:Rr,y2:ei})}}else if(N==="rect")xn.set({left:hr,top:En,width:kr,height:$r});else if(N==="circle"){const Rr=Math.max(kr,$r)/2,ei=nn.x+(It.x<nn.x?-Rr*2:0),Ur=nn.y+(It.y<nn.y?-Rr*2:0);xn.set({radius:Rr,left:ei,top:Ur})}else if(N==="triangle")xn.set({left:hr,top:En,width:kr,height:$r});else if(N==="ellipse")xn.set({rx:kr/2,ry:$r/2,left:hr,top:En});else if(N==="diamond"){const Rr=kr/2,ei=$r/2,Ur=[new ni.fabric.Point(0,-ei),new ni.fabric.Point(Rr,0),new ni.fabric.Point(0,ei),new ni.fabric.Point(-Rr,0)];xn.set({points:Ur,left:hr+Rr,top:En+ei,width:kr,height:$r,pathOffset:new ni.fabric.Point(0,0)})}xn.setCoords(),Gt.requestRenderAll()},[N]),pr=kn.useCallback(()=>{if(si.current=!1,vi.current){const rt=vi.current;if(N==="arrow"&&rt.x1!==void 0){const Gt=rt,It=Math.round(Gt.x1),nn=Math.round(Gt.y1),xn=Math.round(Gt.x2),hr=Math.round(Gt.y2),En=Math.atan2(hr-nn,xn-It),kr=St[N]||S1,$r=Math.round(kr.headSize||Math.max(12,J*3)),Rr=Math.PI/6,ei=Math.round(xn-$r*Math.cos(En-Rr)),Ur=Math.round(hr-$r*Math.sin(En-Rr)),Jr=Math.round(xn-$r*Math.cos(En+Rr)),Dr=Math.round(hr-$r*Math.sin(En+Rr)),Vn=u.current;if(Vn){Vn.remove(rt);const ba=Math.min(It,xn,ei,Jr),tr=Math.min(nn,hr,Ur,Dr),Zr=new ni.fabric.Line([It-ba,nn-tr,xn-ba,hr-tr],{stroke:W,strokeWidth:J,strokeDashArray:kr.dashArray,strokeLineCap:"round",originX:"left",originY:"top",left:It<xn?0:It-xn});Zr.set({left:Math.min(It,xn)-ba,top:Math.min(nn,hr)-tr});const hi=new ni.fabric.Polyline([new ni.fabric.Point(ei-ba,Ur-tr),new ni.fabric.Point(xn-ba,hr-tr),new ni.fabric.Point(Jr-ba,Dr-tr)],{stroke:W,strokeWidth:J,strokeDashArray:void 0,fill:"transparent",strokeLineCap:"round",strokeLineJoin:"round",originX:"left",originY:"top",left:Math.min(xn,ei,Jr)-ba,top:Math.min(hr,Ur,Dr)-tr}),Ui=new ni.fabric.Group([Zr,hi],{selectable:!1,evented:!0,isArrow:!0,opacity:(kr.opacity||100)/100,left:ba,top:tr,originX:"left",originY:"top"});Vn.add(Ui)}}if(Sn.current){const Gt=u.current;Gt&&Gt.remove(Sn.current),Sn.current=null}vi.current.setCoords(),vi.current=null}},[N,W,J,St]),Zn=()=>{u.current&&(u.current.clear(),u.current.setBackgroundColor("#ffffff",()=>{u.current?.renderAll()}))},Ir=()=>{const rt=u.current;if(!rt)return;const Gt=new Date,It=Gt.getFullYear(),nn=String(Gt.getMonth()+1).padStart(2,"0"),xn=String(Gt.getDate()).padStart(2,"0"),hr=String(Gt.getHours()).padStart(2,"0"),En=String(Gt.getMinutes()).padStart(2,"0"),kr=String(Gt.getSeconds()).padStart(2,"0"),Rr=`drawing-${`${It}${nn}${xn}-${hr}${En}${kr}`}`,ei=window.prompt(y.drawing?.enter_filename||"Enter filename:",Rr);if(ei===null)return;const Ur=ei.trim()||Rr,Jr=rt.toDataURL({format:"png",quality:1,enableRetinaScaling:!0}),Dr=document.createElement("a");Dr.download=Ur.endsWith(".png")?Ur:`${Ur}.png`,Dr.href=Jr,document.body.appendChild(Dr),Dr.click(),document.body.removeChild(Dr)},Ti=kn.useCallback(()=>{const rt=u.current;if(rt&&Pr.current>0){ar.current=!0,Pr.current--;const Gt=vr.current[Pr.current];rt.loadFromJSON(JSON.parse(Gt),()=>{rt.renderAll(),ar.current=!1,We(Pr.current>0),Ye(!0)})}},[]),jt=kn.useCallback(()=>{const rt=u.current;if(rt&&Pr.current<vr.current.length-1){ar.current=!0,Pr.current++;const Gt=vr.current[Pr.current];rt.loadFromJSON(JSON.parse(Gt),()=>{rt.renderAll(),ar.current=!1,We(!0),Ye(Pr.current<vr.current.length-1)})}},[]),Qe=()=>{const rt=u.current;if(!rt)return;const It=rt.getHeight()+400;rt.setHeight(It),rt.renderAll(),gr()},Gn=kn.useCallback(()=>{Wt(!0)},[]),ki=()=>{Wt(!1),c.current=!0,f()},ma=()=>{if(!u.current)return;const Gt=u.current.toJSON(["width","height"]),It=JSON.stringify(Gt);t(It)};return Ie.useEffect(()=>{const rt=Gt=>{if(Gt.target instanceof HTMLInputElement||Gt.target instanceof HTMLTextAreaElement)return;switch(Gt.key.toLowerCase()){case"p":case"b":U("pen");break;case"l":U("line");break;case"a":U("arrow");break;case"r":U("rect");break;case"c":U("circle");break;case"t":U("text");break;case"e":U("eraser_pixel");break;case"d":case"x":U("eraser_object");break;case"z":(Gt.ctrlKey||Gt.metaKey)&&Gt.shiftKey?(Gt.preventDefault(),jt()):(Gt.ctrlKey||Gt.metaKey)&&(Gt.preventDefault(),Ti());break;case"y":(Gt.ctrlKey||Gt.metaKey)&&(Gt.preventDefault(),jt());break;case"escape":Gn();break;case"delete":case"backspace":{const nn=u.current;if(nn){const xn=nn.getActiveObject();if(xn&&xn.isEditing)return;const hr=nn.getActiveObjects();hr.length>0&&(Gt.preventDefault(),nn.discardActiveObject(),hr.forEach(En=>{nn.remove(En)}),nn.requestRenderAll(),gr())}break}case"1":ne(C[0]),Jn(void 0,C[0]);break;case"2":ne(C[1]),Jn(void 0,C[1]);break;case"3":ne(C[2]),Jn(void 0,C[2]);break;case"4":ne(C[3]),Jn(void 0,C[3]);break}};return window.addEventListener("keydown",rt),()=>window.removeEventListener("keydown",rt)},[f,C,Ti,jt,ne,Jn,gr,Gn]),Ie.useEffect(()=>{const rt=u.current;if(rt)switch(rt.isDrawingMode=!1,rt.selection=!1,rt.defaultCursor="default",rt.hoverCursor="default",rt.forEachObject(Gt=>{Gt.set({selectable:!1,evented:!0,hoverCursor:"default"})}),rt.off("mouse:down"),rt.off("mouse:move"),rt.off("mouse:up"),N){case"select":rt.isDrawingMode=!1,rt.selection=!0,rt.defaultCursor="default",rt.forEachObject(Gt=>{Gt.set({selectable:!0,evented:!0,hoverCursor:"move"})}),rt.requestRenderAll();break;case"pen":if(rt.isDrawingMode=!0,we==="spray")rt.freeDrawingBrush=new ni.fabric.SprayBrush(rt);else if(we==="circle")rt.freeDrawingBrush=new ni.fabric.CircleBrush(rt);else if(we==="highlighter")rt.freeDrawingBrush=new ni.fabric.PencilBrush(rt),rt.freeDrawingBrush.strokeLinecap="butt";else if(we==="carbon"){const Gt=document.createElement("canvas"),It=32;Gt.width=It,Gt.height=It;const nn=Gt.getContext("2d");if(nn){const xn=nn.createImageData(It,It),hr=new ni.fabric.Color(W).getSource();if(hr)for(let En=0;En<xn.data.length;En+=4)Math.random()>.3&&(xn.data[En]=hr[0],xn.data[En+1]=hr[1],xn.data[En+2]=hr[2],xn.data[En+3]=Math.floor(Math.random()*255));nn.putImageData(xn,0,0)}rt.freeDrawingBrush=new ni.fabric.PatternBrush(rt),rt.freeDrawingBrush.source=Gt}else if(we==="hatch"){const Gt=document.createElement("canvas"),It=16;Gt.width=It,Gt.height=It;const nn=Gt.getContext("2d");if(nn){const xn=new ni.fabric.Color(W).getSource();xn&&(nn.strokeStyle=`rgba(${xn[0]}, ${xn[1]}, ${xn[2]}, 1)`,nn.lineWidth=1,nn.beginPath(),nn.moveTo(0,0),nn.lineTo(It,It),nn.moveTo(It,0),nn.lineTo(0,It),nn.stroke())}rt.freeDrawingBrush=new ni.fabric.PatternBrush(rt),rt.freeDrawingBrush.source=Gt}else we==="glow"?(rt.freeDrawingBrush=new ni.fabric.PencilBrush(rt),rt.freeDrawingBrush.shadow=new ni.fabric.Shadow({blur:15,offsetX:0,offsetY:0,color:W})):we==="pen"?rt.freeDrawingBrush=new ni.fabric.PencilBrush(rt):rt.freeDrawingBrush=new ni.fabric.PencilBrush(rt);if(rt.freeDrawingBrush.color=we==="highlighter"?W.replace(")",", 0.3)").replace("rgb","rgba").replace("#",W):W,we==="highlighter"&&W.startsWith("#")){const Gt=parseInt(W.slice(1,3),16),It=parseInt(W.slice(3,5),16),nn=parseInt(W.slice(5,7),16);rt.freeDrawingBrush.color=`rgba(${Gt}, ${It}, ${nn}, 0.3)`}rt.freeDrawingBrush.width=we==="highlighter"?J*2:J,rt.defaultCursor="crosshair";break;case"eraser_pixel":rt.isDrawingMode=!0,rt.freeDrawingBrush=new ni.fabric.PencilBrush(rt),rt.freeDrawingBrush.color="#ffffff",rt.freeDrawingBrush.width=J*4;break;case"eraser_object":{rt.isDrawingMode=!1,rt.defaultCursor="pointer",rt.hoverCursor="not-allowed",rt.forEachObject(It=>{It.set({selectable:!1,evented:!0,hoverCursor:"not-allowed"})}),rt.requestRenderAll();let Gt=!1;rt.on("mouse:down",It=>{Gt=!0,It.target&&(rt.remove(It.target),rt.requestRenderAll())}),rt.on("mouse:move",It=>{Gt&&It.target&&(rt.remove(It.target),rt.requestRenderAll())}),rt.on("mouse:up",()=>{Gt=!1});break}case"text":rt.isDrawingMode=!1,rt.defaultCursor="text",rt.on("mouse:down",Gt=>{if(Gt.target)return;const It=rt.getPointer(Gt.e),nn=new ni.fabric.IText("Type here...",{left:It.x,top:It.y,fontFamily:dt,fontSize:Math.max(16,J*4),fill:W,editable:!0,selectable:!0,evented:!0});rt.add(nn),rt.setActiveObject(nn),nn.enterEditing(),nn.selectAll(),rt.requestRenderAll()});break;case"line":case"arrow":case"rect":case"circle":case"triangle":case"ellipse":case"diamond":rt.defaultCursor="crosshair",rt.on("mouse:down",Ai),rt.on("mouse:move",_a),rt.on("mouse:up",pr);break}},[N,W,J,St,we,dt,Ai,_a,pr]),Ie.useEffect(()=>{const rt=u.current;if(!rt)return;const Gt=rt.getActiveObjects();Gt.length>0&&(Gt.forEach(It=>{It.isArrow&&It.type==="group"?It.getObjects().forEach((En,kr)=>{if(En.set({stroke:W,strokeWidth:J}),kr===0){const $r=St.arrow||S1;En.set({strokeDashArray:$r.dashArray})}else En.set({strokeDashArray:void 0})}):It.type==="i-text"||It.type==="text"?It.set({fill:W}):It.set({stroke:W,strokeWidth:J});let xn=It.isArrow?"arrow":It.isDiamond?"diamond":It.type==="i-text"||It.type==="text"?"text":It.type==="path"?"pen":It.type==="rect"?"rect":It.type==="circle"?"circle":It.type==="triangle"?"triangle":It.type==="ellipse"?"ellipse":It.type;xn==="path"&&(xn=we),Oi(hr=>({...hr,[xn]:{color:W,size:J}}))}),rt.requestRenderAll(),gr())},[W,J,we,St,gr]),Ie.useEffect(()=>{const rt=u.current;if(!rt)return;const Gt=iX(ve,Fe,Ze);rt.setBackgroundColor(Gt,()=>{rt.renderAll()})},[ve,Fe,Ze]),te.jsxs(te.Fragment,{children:[te.jsx(Py,{onClick:rt=>{rt.target===rt.currentTarget&&(Re||V||zt||$n||be?Date.now()-xr.current>500&&(Hr(),Ni(),Zi(),fr(),qi()):Date.now()-xr.current>300&&Gn())},children:te.jsxs(TA,{children:[te.jsx(ZY,{children:te.jsxs(qY,{style:{flex:1},children:[S.map(rt=>hl(rt)),te.jsx("div",{style:{flex:1}})," ",te.jsx(oh,{onClick:()=>Hn(!0),style:{border:"none",background:"transparent"},title:"Customize Toolbar",children:te.jsx(RS,{size:18})})]})}),Re&&te.jsx(w1,{$centered:!xi,onClick:rt=>{Date.now()-yi.current<400||rt.target===rt.currentTarget&&Hr()},children:te.jsxs(dd,{$anchor:xi||void 0,onClick:rt=>rt.stopPropagation(),children:[te.jsxs(aC,{children:[te.jsx(KY,{color:Me,onChange:rt=>{ce(rt),xr.current=Date.now()},style:{width:"100%",height:"180px"}}),te.jsx("div",{style:{fontSize:"0.75rem",color:"#888",fontWeight:500,marginTop:"8px"},children:Me.toUpperCase()})]}),te.jsxs(C1,{children:[te.jsx(Ys,{onClick:or,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[te.jsx(Ys,{onClick:co,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:Hr,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),V&&te.jsx(w1,{$centered:!xi,onClick:rt=>{Date.now()-yi.current<400||rt.target===rt.currentTarget&&Ni()},children:te.jsxs(dd,{$anchor:xi||void 0,onClick:rt=>rt.stopPropagation(),children:[te.jsxs(aC,{children:[te.jsx(ap,{type:"range",min:"1",max:"100",$size:Ae,value:Ae,onChange:rt=>Ne(parseInt(rt.target.value))}),te.jsx(eX,{type:"number",min:"1",max:"500",value:Ae,onChange:rt=>Ne(parseInt(rt.target.value)||1)})]}),te.jsxs(C1,{children:[te.jsx(Ys,{onClick:hn,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[te.jsx(Ys,{onClick:wi,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:Ni,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),zt&&te.jsx(w1,{$centered:!xi,onClick:rt=>{Date.now()-yi.current<400||rt.target===rt.currentTarget&&Zi()},children:te.jsxs(dd,{$anchor:xi||void 0,onClick:rt=>rt.stopPropagation(),style:{minWidth:"160px"},children:[te.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:Ap.map((rt,Gt)=>te.jsx(Of,{$active:Vt===Gt,onClick:()=>un(Gt),children:te.jsx($Y,{$dash:rt||null})},Gt))}),te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"4px 0"}}),te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"0 4px"},children:[te.jsx("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:600,minWidth:"35px"},children:y.drawing?.opacity||"Opacity"}),te.jsx(ap,{type:"range",min:"10",max:"100",$size:6,$opacityValue:Xt,value:Xt,onChange:rt=>qt(parseInt(rt.target.value)),style:{margin:0,flex:1}}),te.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:500,minWidth:"30px",textAlign:"right"},children:[Xt,"%"]})]}),N==="arrow"&&te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px",borderTop:"1px solid #eee"},children:[te.jsx("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:600,minWidth:"35px"},children:y.drawing?.head_size||"Head"}),te.jsx(ap,{type:"range",min:"5",max:"100",$size:6,value:Bn,onChange:rt=>gt(parseInt(rt.target.value)),style:{margin:0,flex:1}}),te.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:500,minWidth:"30px",textAlign:"right"},children:[Bn,"px"]})]}),te.jsxs(C1,{children:[te.jsx(Ys,{onClick:Bo,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[te.jsx(Ys,{onClick:br,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:Zi,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),$n&&te.jsx(w1,{$centered:!xi,onClick:rt=>{Date.now()-yi.current<400||rt.target===rt.currentTarget&&fr()},children:te.jsxs(dd,{$anchor:xi||void 0,onClick:rt=>rt.stopPropagation(),style:{minWidth:"240px",maxHeight:"350px",overflowY:"auto"},children:[te.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[te.jsxs(Of,{$active:at==="pen",onClick:()=>Tt("pen"),onDoubleClick:()=>{Tt("pen"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(Ep,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_pen||"Pen"}),te.jsx(S0,{$type:"pen",$color:mr.pen?.color||W,$size:mr.pen?.size||J})]}),te.jsxs(Of,{$active:at==="carbon",onClick:()=>Tt("carbon"),onDoubleClick:()=>{Tt("carbon"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(nC,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_carbon||"Carbon"}),te.jsx(S0,{$type:"carbon",$color:mr.carbon?.color||W,$size:mr.carbon?.size||J})]}),te.jsxs(Of,{$active:at==="hatch",onClick:()=>Tt("hatch"),onDoubleClick:()=>{Tt("hatch"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(rC,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_hatch||"Hatch"}),te.jsx(S0,{$type:"hatch",$color:mr.hatch?.color||W,$size:mr.hatch?.size||J})]}),te.jsxs(Of,{$active:at==="highlighter",onClick:()=>Tt("highlighter"),onDoubleClick:()=>{Tt("highlighter"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(eC,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_highlighter||"Highlight"}),te.jsx(S0,{$type:"highlighter",$color:mr.highlighter?.color||W,$size:(mr.highlighter?.size||J)*2})]}),te.jsxs(Of,{$active:at==="glow",onClick:()=>Tt("glow"),onDoubleClick:()=>{Tt("glow"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(tC,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_glow||"Glow"}),te.jsx(S0,{$type:"glow",$color:mr.glow?.color||W,$size:mr.glow?.size||J})]}),te.jsxs(Of,{$active:at==="spray",onClick:()=>Tt("spray"),onDoubleClick:()=>{Tt("spray"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(J6,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_spray||"Spray"}),te.jsx(S0,{$type:"spray",$color:mr.spray?.color||W,$size:mr.spray?.size||J})]}),te.jsxs(Of,{$active:at==="circle",onClick:()=>Tt("circle"),onDoubleClick:()=>{Tt("circle"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx($6,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_circle||"Bubble"}),te.jsx(S0,{$type:"circle",$color:mr.circle?.color||W,$size:mr.circle?.size||J})]}),st==="pen_1"&&te.jsxs(te.Fragment,{children:[te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"4px 0"}}),te.jsxs(Of,{$active:Cn,onClick:()=>vn(!Cn),style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",border:"2px solid #333",display:"flex",alignItems:"center",justifyContent:"center",background:Cn?"#333":"transparent"},children:Cn&&te.jsx("div",{style:{width:"8px",height:"8px",background:"white",borderRadius:"1px"}})}),te.jsx("span",{style:{fontSize:"0.85rem"},children:y.drawing?.palm_rejection||"Palm Rejection"})]})]})]}),te.jsxs(C1,{children:[te.jsx(Ys,{onClick:Or,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[te.jsx(Ys,{onClick:fo,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:fr,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),be&&te.jsx(w1,{$centered:!xi,onClick:rt=>{Date.now()-yi.current<400||rt.target===rt.currentTarget&&qi()},children:te.jsxs(dd,{$anchor:xi||void 0,onClick:rt=>rt.stopPropagation(),style:{minWidth:"180px"},children:[te.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:tX.map(rt=>te.jsx(Of,{$active:qe===rt,onClick:()=>re(rt),style:{fontFamily:rt,height:"32px",justifyContent:"flex-start",padding:"0 12px"},children:rt},rt))}),te.jsxs(C1,{children:[te.jsx("div",{}),te.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[te.jsx(Ys,{onClick:cn,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:qi,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),te.jsxs(QY,{ref:o,children:[te.jsx("canvas",{ref:r}),te.jsxs(JY,{children:[te.jsx(iC,{onClick:Gn,title:y.drawing?.cancel||"Cancel",children:te.jsx(ng,{size:12})}),te.jsx(iC,{$primary:!0,onClick:ma,title:y.drawing?.insert||"Insert",children:te.jsx(d_,{size:12})})]})]})]})}),er&&te.jsx(aX,{currentItems:S,allItems:E1,colors:g,brushSizes:C,onSave:rt=>{O(rt),Hn(!1)},onClose:()=>Hn(!1)}),et&&te.jsx(Py,{style:{zIndex:12e3},children:te.jsxs(dd,{onClick:rt=>rt.stopPropagation(),style:{padding:"20px",minWidth:"300px",maxWidth:"90vw"},children:[te.jsx("h3",{style:{marginTop:0,fontSize:"1.2rem",color:"#333"},children:y.drawing?.exit_title||"Exit Drawing?"}),te.jsx("p",{style:{color:"#555",lineHeight:"1.5",margin:"10px 0 20px 0"},children:y.drawing?.cancel_confirm||"Are you sure you want to discard your changes?"}),te.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[te.jsx(Ys,{onClick:()=>Wt(!1),style:{padding:"8px 16px"},children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{$variant:"danger",onClick:ki,style:{padding:"8px 16px",background:"#e03131",color:"white",border:"none"},children:y.drawing?.discard||"Discard"})]})]})})]})},oX=sn.div`
  .EasyMDEContainer {
    .editor-toolbar {
      background: ${({theme:e})=>e.colors.surface};
      border-color: ${({theme:e})=>e.colors.border};
      i {
        color: ${({theme:e})=>e.colors.text};
      }
      button:hover {
        background: ${({theme:e})=>e.colors.border};
      }
      button.active {
        background: ${({theme:e})=>e.colors.border};
      }
    }
    
    .CodeMirror {
      background: ${({theme:e})=>e.colors.background};
      color: ${({theme:e})=>e.colors.text};
      border-color: ${({theme:e})=>e.colors.border};
    }
    
    .CodeMirror-cursor {
      border-left: 1px solid #d1d5db !important; /* Light gray cursor */
    }
    
    .editor-preview {
      background: ${({theme:e})=>e.colors.background};
      color: ${({theme:e})=>e.colors.text};
      
      /* Markdown Styles */
      blockquote {
        border-left-color: ${({theme:e})=>e.colors.border};
        color: ${({theme:e})=>e.colors.textSecondary};
      }
      a {
        color: ${({theme:e})=>e.colors.primary};
      }
      pre {
        background: ${({theme:e})=>e.colors.surface};
      }
      code {
        background: ${({theme:e})=>e.colors.surface};
      }
    }
    
    .editor-statusbar {
      color: ${({theme:e})=>e.colors.textSecondary};
    }
  }
`,zy=({value:e,onChange:t})=>{const[n,r]=Ie.useState(!1),[o,u]=Ie.useState(void 0),y=Ie.useRef(null),d=Ie.useRef(()=>{}),a=Ie.useRef(()=>{}),c=()=>{if(!y.current)return;const m=y.current,C=m.getCursor();let k=-1,S=-1;for(let O=C.line;O>=0;O--){const N=m.getLine(O);if(N.trim().startsWith("```fabric")){k=O;break}N.trim().startsWith("```")&&C.line}if(k!==-1){for(let O=C.line;O<m.lineCount();O++)if(m.getLine(O).trim()==="```"){S=O;break}}if(k!==-1&&S!==-1&&C.line>=k&&C.line<=S){const O=[];for(let U=k+1;U<S;U++)O.push(m.getLine(U));let N=O.join(`
`).trim();u(N||void 0)}else u(void 0);r(!0)};d.current=c;const v=m=>{if(!y.current)return;const C=y.current,k=C.getCursor();let S=-1,O=-1;for(let U=k.line;U>=0;U--)if(C.getLine(U).trim().startsWith("```fabric")){S=U;break}if(S!==-1){for(let U=S+1;U<C.lineCount();U++)if(C.getLine(U).trim()==="```"){O=U;break}}const N=`\`\`\`fabric
${m}
\`\`\``;S!==-1&&O!==-1&&k.line>=S&&k.line<=O?C.replaceRange(N,{line:S,ch:0},{line:O,ch:3}):C.replaceRange(`
${N}
`,k),r(!1),t(C.getValue())},f=m=>{const C=m.replace(/```fabric\s*([\s\S]*?)\s*```/g,()=>`
          <div class="drawing-banner" style="
            background: linear-gradient(to right, #f8f9fa, #e9ecef); 
            border: 1px solid #dee2e6; 
            border-left: 4px solid #333;
            border-radius: 6px; 
            padding: 16px 20px; 
            margin: 16px 0; 
            display: flex; 
            align-items: center; 
            gap: 12px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            cursor: pointer;
          ">
            <div style="
              display: flex; 
              align-items: center; 
              justify-content: center; 
              width: 40px; 
              height: 40px; 
              background: #fff; 
              border-radius: 8px; 
              box-shadow: 0 1px 3px rgba(0,0,0,0.1);
              font-size: 20px;
            "></div>
            <div style="flex: 1;">
              <div style="font-weight: 600; color: #343a40; font-size: 14px;">Drawing Object</div>
              <div style="font-size: 12px; color: #868e96; margin-top: 2px;">
                Open "Side-by-Side" view or click the Pen icon to edit.
              </div>
            </div>
          </div>
        `);return OY.renderToStaticMarkup(te.jsx("div",{style:{padding:"10px"},children:te.jsx(cE,{remarkPlugins:[pA],rehypePlugins:[dA],children:C})}))},g=kn.useMemo(()=>({spellChecker:!1,placeholder:"Type here... (Markdown + Math supported)",previewRender:f,toolbar:["bold","italic","heading","quote","unordered-list","ordered-list","link","image",{name:"drawing",action:()=>d.current(),className:"fa fa-pencil",title:"Insert/Edit Drawing"},"preview","side-by-side","fullscreen","guide"],autofocus:!1,status:!1,maxHeight:"500px"}),[]);return Ie.useEffect(()=>{a.current=C=>{if(!C)return;const k=[];C.getAllMarks().forEach(W=>{W.className==="fabric-replacement-mark"&&k.push(W)});const S=[],O=C.lineCount();let N=!1,U=-1;for(let W=0;W<O;W++){const q=C.getLine(W);q.trim().startsWith("```fabric")?(N=!0,U=W):N&&q.trim().startsWith("```")&&(N=!1,S.push({start:{line:U,ch:0},end:{line:W,ch:q.length}}))}k.forEach(W=>{const q=W.find();if(!q)return;S.some(ne=>ne.start.line===q.from.line&&ne.end.line===q.to.line)||W.clear()}),S.forEach(W=>{if(!C.findMarksAt(W.start).some(ne=>ne.className==="fabric-replacement-mark")){const ne=document.createElement("div");ne.className="drawing-widget-banner",ne.style.cssText=`
                background: linear-gradient(to right, #f8f9fa, #e9ecef); 
                border: 1px solid #dee2e6; 
                border-left: 4px solid #333;
                border-radius: 6px; 
                padding: 12px 16px; 
                margin: 4px 0; 
                display: flex; 
                align-items: center; 
                gap: 12px;
                font-family: system-ui, sans-serif;
                box-shadow: 0 1px 2px rgba(0,0,0,0.05);
                cursor: pointer;
                user-select: none;
              `,ne.innerHTML=`
                <div style="font-size: 20px;"></div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; color: #343a40; font-size: 14px;">Drawing Object</div>
                  <div style="font-size: 11px; color: #868e96;">Click to edit this drawing</div>
                </div>
              `,ne.onclick=ve=>{ve.stopPropagation(),ve.preventDefault(),C.setCursor(W.start),d.current()},C.markText(W.start,W.end,{replacedWith:ne,atomic:!0,className:"fabric-replacement-mark",selectRight:!0,handleMouseEvents:!0})}})};const m=y.current;if(m){a.current(m);const C=()=>a.current(m);return m.on("change",C),()=>m.off("change",C)}},[e]),te.jsxs(te.Fragment,{children:[te.jsx(oX,{children:te.jsx(MP,{value:e,onChange:t,options:g,getCodemirrorInstance:m=>{y.current=m,a.current&&setTimeout(()=>a.current(m),100)}})}),n&&te.jsx(DA,{initialData:o,onSave:v,onClose:()=>r(!1)})]})};function fC(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function sX(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _A(e,t,n){const o=sg((n||{}).ignore||[]),u=lX(t);let y=-1;for(;++y<u.length;)Yx(e,"text",d);function d(c,v){let f=-1,g;for(;++f<v.length;){const m=v[f],C=g?g.children:void 0;if(o(m,C?C.indexOf(m):void 0,g))return;g=m}if(g)return a(c,v)}function a(c,v){const f=v[v.length-1],g=u[y][0],m=u[y][1];let C=0;const S=f.children.indexOf(c);let O=!1,N=[];g.lastIndex=0;let U=g.exec(c.value);for(;U;){const W=U.index,q={index:U.index,input:U.input,stack:[...v,c]};let J=m(...U,q);if(typeof J=="string"&&(J=J.length>0?{type:"text",value:J}:void 0),J===!1?g.lastIndex=W+1:(C!==W&&N.push({type:"text",value:c.value.slice(C,W)}),Array.isArray(J)?N.push(...J):J&&N.push(J),C=W+U[0].length,O=!0),!g.global)break;U=g.exec(c.value)}return O?(C<c.value.length&&N.push({type:"text",value:c.value.slice(C)}),f.children.splice(S,1,...N)):N=[c],S+N.length}}function lX(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([uX(o[0]),cX(o[1])])}return t}function uX(e){return typeof e=="string"?new RegExp(sX(e),"g"):e}function cX(e){return typeof e=="function"?e:function(){return e}}const L2="phrasing",B2=["autolink","link","image","label"];function fX(){return{transforms:[yX],enter:{literalAutolink:dX,literalAutolinkEmail:F2,literalAutolinkHttp:F2,literalAutolinkWww:F2},exit:{literalAutolink:vX,literalAutolinkEmail:mX,literalAutolinkHttp:gX,literalAutolinkWww:pX}}}function hX(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:L2,notInConstruct:B2},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:L2,notInConstruct:B2},{character:":",before:"[ps]",after:"\\/",inConstruct:L2,notInConstruct:B2}]}}function dX(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function F2(e){this.config.enter.autolinkProtocol.call(this,e)}function gX(e){this.config.exit.autolinkProtocol.call(this,e)}function pX(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function mX(e){this.config.exit.autolinkEmail.call(this,e)}function vX(e){this.exit(e)}function yX(e){_A(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,xX],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),bX]],{ignore:["link","linkReference"]})}function xX(e,t,n,r,o){let u="";if(!MA(o)||(/^w/i.test(t)&&(n=t+n,t="",u="http://"),!wX(n)))return!1;const y=CX(n+r);if(!y[0])return!1;const d={type:"link",title:null,url:u+t+y[0],children:[{type:"text",value:t+y[0]}]};return y[1]?[d,{type:"text",value:y[1]}]:d}function bX(e,t,n,r){return!MA(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function wX(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function CX(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=fC(e,"(");let u=fC(e,")");for(;r!==-1&&o>u;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),u++;return[e,n]}function MA(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||F0(n)||Em(n))&&(!t||n!==47)}OA.peek=OX;function SX(){this.buffer()}function EX(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function AX(){this.buffer()}function TX(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function kX(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=lf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function DX(e){this.exit(e)}function _X(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=lf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function MX(e){this.exit(e)}function OX(){return"["}function OA(e,t,n,r){const o=n.createTracker(r);let u=o.move("[^");const y=n.enter("footnoteReference"),d=n.enter("reference");return u+=o.move(n.safe(n.associationId(e),{after:"]",before:u})),d(),y(),u+=o.move("]"),u}function IX(){return{enter:{gfmFootnoteCallString:SX,gfmFootnoteCall:EX,gfmFootnoteDefinitionLabelString:AX,gfmFootnoteDefinition:TX},exit:{gfmFootnoteCallString:kX,gfmFootnoteCall:DX,gfmFootnoteDefinitionLabelString:_X,gfmFootnoteDefinition:MX}}}function RX(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:OA},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,u,y){const d=u.createTracker(y);let a=d.move("[^");const c=u.enter("footnoteDefinition"),v=u.enter("label");return a+=d.move(u.safe(u.associationId(r),{before:a,after:"]"})),v(),a+=d.move("]:"),r.children&&r.children.length>0&&(d.shift(4),a+=d.move((t?`
`:" ")+u.indentLines(u.containerFlow(r,d.current()),t?IA:NX))),c(),a}}function NX(e,t,n){return t===0?e:IA(e,t,n)}function IA(e,t,n){return(n?"":"    ")+e}const LX=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];RA.peek=HX;function BX(){return{canContainEols:["delete"],enter:{strikethrough:PX},exit:{strikethrough:zX}}}function FX(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:LX}],handlers:{delete:RA}}}function PX(e){this.enter({type:"delete",children:[]},e)}function zX(e){this.exit(e)}function RA(e,t,n,r){const o=n.createTracker(r),u=n.enter("strikethrough");let y=o.move("~~");return y+=n.containerPhrasing(e,{...o.current(),before:y,after:"~"}),y+=o.move("~~"),u(),y}function HX(){return"~"}function UX(e){return e.length}function jX(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||UX,u=[],y=[],d=[],a=[];let c=0,v=-1;for(;++v<e.length;){const k=[],S=[];let O=-1;for(e[v].length>c&&(c=e[v].length);++O<e[v].length;){const N=WX(e[v][O]);if(n.alignDelimiters!==!1){const U=o(N);S[O]=U,(a[O]===void 0||U>a[O])&&(a[O]=U)}k.push(N)}y[v]=k,d[v]=S}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)u[f]=hC(r[f]);else{const k=hC(r);for(;++f<c;)u[f]=k}f=-1;const g=[],m=[];for(;++f<c;){const k=u[f];let S="",O="";k===99?(S=":",O=":"):k===108?S=":":k===114&&(O=":");let N=n.alignDelimiters===!1?1:Math.max(1,a[f]-S.length-O.length);const U=S+"-".repeat(N)+O;n.alignDelimiters!==!1&&(N=S.length+N+O.length,N>a[f]&&(a[f]=N),m[f]=N),g[f]=U}y.splice(1,0,g),d.splice(1,0,m),v=-1;const C=[];for(;++v<y.length;){const k=y[v],S=d[v];f=-1;const O=[];for(;++f<c;){const N=k[f]||"";let U="",W="";if(n.alignDelimiters!==!1){const q=a[f]-(S[f]||0),J=u[f];J===114?U=" ".repeat(q):J===99?q%2?(U=" ".repeat(q/2+.5),W=" ".repeat(q/2-.5)):(U=" ".repeat(q/2),W=U):W=" ".repeat(q)}n.delimiterStart!==!1&&!f&&O.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||f)&&O.push(" "),n.alignDelimiters!==!1&&O.push(U),O.push(N),n.alignDelimiters!==!1&&O.push(W),n.padding!==!1&&O.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&O.push("|")}C.push(n.delimiterEnd===!1?O.join("").replace(/ +$/,""):O.join(""))}return C.join(`
`)}function WX(e){return e==null?"":String(e)}function hC(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function GX(e,t,n,r){const o=n.enter("blockquote"),u=n.createTracker(r);u.move("> "),u.shift(2);const y=n.indentLines(n.containerFlow(e,u.current()),YX);return o(),y}function YX(e,t,n){return">"+(n?"":" ")+e}function XX(e,t){return dC(e,t.inConstruct,!0)&&!dC(e,t.notInConstruct,!1)}function dC(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function gC(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&XX(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function VX(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function KX(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function ZX(e,t,n,r){const o=KX(n),u=e.value||"",y=o==="`"?"GraveAccent":"Tilde";if(VX(e,n)){const f=n.enter("codeIndented"),g=n.indentLines(u,qX);return f(),g}const d=n.createTracker(r),a=o.repeat(Math.max(gA(u,o)+1,3)),c=n.enter("codeFenced");let v=d.move(a);if(e.lang){const f=n.enter(`codeFencedLang${y}`);v+=d.move(n.safe(e.lang,{before:v,after:" ",encode:["`"],...d.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${y}`);v+=d.move(" "),v+=d.move(n.safe(e.meta,{before:v,after:`
`,encode:["`"],...d.current()})),f()}return v+=d.move(`
`),u&&(v+=d.move(u+`
`)),v+=d.move(a),c(),v}function qX(e,t,n){return(n?"":"    ")+e}function mb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function QX(e,t,n,r){const o=mb(n),u=o==='"'?"Quote":"Apostrophe",y=n.enter("definition");let d=n.enter("label");const a=n.createTracker(r);let c=a.move("[");return c+=a.move(n.safe(n.associationId(e),{before:c,after:"]",...a.current()})),c+=a.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(d=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...a.current()}))),d(),e.title&&(d=n.enter(`title${u}`),c+=a.move(" "+o),c+=a.move(n.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),d()),y(),c}function JX(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function $1(e){return"&#x"+e.toString(16).toUpperCase()+";"}function rm(e,t,n){const r=Id(e),o=Id(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}NA.peek=$X;function NA(e,t,n,r){const o=JX(n),u=n.enter("emphasis"),y=n.createTracker(r),d=y.move(o);let a=y.move(n.containerPhrasing(e,{after:o,before:d,...y.current()}));const c=a.charCodeAt(0),v=rm(r.before.charCodeAt(r.before.length-1),c,o);v.inside&&(a=$1(c)+a.slice(1));const f=a.charCodeAt(a.length-1),g=rm(r.after.charCodeAt(0),f,o);g.inside&&(a=a.slice(0,-1)+$1(f));const m=y.move(o);return u(),n.attentionEncodeSurroundingInfo={after:g.outside,before:v.outside},d+a+m}function $X(e,t,n){return n.options.emphasis||"*"}function eV(e,t){let n=!1;return Xx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,xy}),!!((!e.depth||e.depth<3)&&Px(e)&&(t.options.setext||n))}function tV(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),u=n.createTracker(r);if(eV(e,n)){const v=n.enter("headingSetext"),f=n.enter("phrasing"),g=n.containerPhrasing(e,{...u.current(),before:`
`,after:`
`});return f(),v(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const y="#".repeat(o),d=n.enter("headingAtx"),a=n.enter("phrasing");u.move(y+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(c)&&(c=$1(c.charCodeAt(0))+c.slice(1)),c=c?y+" "+c:y,n.options.closeAtx&&(c+=" "+y),a(),d(),c}LA.peek=nV;function LA(e){return e.value||""}function nV(){return"<"}BA.peek=rV;function BA(e,t,n,r){const o=mb(n),u=o==='"'?"Quote":"Apostrophe",y=n.enter("image");let d=n.enter("label");const a=n.createTracker(r);let c=a.move("![");return c+=a.move(n.safe(e.alt,{before:c,after:"]",...a.current()})),c+=a.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(d=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),d(),e.title&&(d=n.enter(`title${u}`),c+=a.move(" "+o),c+=a.move(n.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),d()),c+=a.move(")"),y(),c}function rV(){return"!"}FA.peek=iV;function FA(e,t,n,r){const o=e.referenceType,u=n.enter("imageReference");let y=n.enter("label");const d=n.createTracker(r);let a=d.move("![");const c=n.safe(e.alt,{before:a,after:"]",...d.current()});a+=d.move(c+"]["),y();const v=n.stack;n.stack=[],y=n.enter("reference");const f=n.safe(n.associationId(e),{before:a,after:"]",...d.current()});return y(),n.stack=v,u(),o==="full"||!c||c!==f?a+=d.move(f+"]"):o==="shortcut"?a=a.slice(0,-1):a+=d.move("]"),a}function iV(){return"!"}PA.peek=aV;function PA(e,t,n){let r=e.value||"",o="`",u=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++u<n.unsafe.length;){const y=n.unsafe[u],d=n.compilePattern(y);let a;if(y.atBreak)for(;a=d.exec(r);){let c=a.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(a.index+1)}}return o+r+o}function aV(){return"`"}function zA(e,t){const n=Px(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}HA.peek=oV;function HA(e,t,n,r){const o=mb(n),u=o==='"'?"Quote":"Apostrophe",y=n.createTracker(r);let d,a;if(zA(e,n)){const v=n.stack;n.stack=[],d=n.enter("autolink");let f=y.move("<");return f+=y.move(n.containerPhrasing(e,{before:f,after:">",...y.current()})),f+=y.move(">"),d(),n.stack=v,f}d=n.enter("link"),a=n.enter("label");let c=y.move("[");return c+=y.move(n.containerPhrasing(e,{before:c,after:"](",...y.current()})),c+=y.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=y.move("<"),c+=y.move(n.safe(e.url,{before:c,after:">",...y.current()})),c+=y.move(">")):(a=n.enter("destinationRaw"),c+=y.move(n.safe(e.url,{before:c,after:e.title?" ":")",...y.current()}))),a(),e.title&&(a=n.enter(`title${u}`),c+=y.move(" "+o),c+=y.move(n.safe(e.title,{before:c,after:o,...y.current()})),c+=y.move(o),a()),c+=y.move(")"),d(),c}function oV(e,t,n){return zA(e,n)?"<":"["}UA.peek=sV;function UA(e,t,n,r){const o=e.referenceType,u=n.enter("linkReference");let y=n.enter("label");const d=n.createTracker(r);let a=d.move("[");const c=n.containerPhrasing(e,{before:a,after:"]",...d.current()});a+=d.move(c+"]["),y();const v=n.stack;n.stack=[],y=n.enter("reference");const f=n.safe(n.associationId(e),{before:a,after:"]",...d.current()});return y(),n.stack=v,u(),o==="full"||!c||c!==f?a+=d.move(f+"]"):o==="shortcut"?a=a.slice(0,-1):a+=d.move("]"),a}function sV(){return"["}function vb(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function lV(e){const t=vb(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function uV(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function jA(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function cV(e,t,n,r){const o=n.enter("list"),u=n.bulletCurrent;let y=e.ordered?uV(n):vb(n);const d=e.ordered?y==="."?")":".":lV(n);let a=t&&n.bulletLastUsed?y===n.bulletLastUsed:!1;if(!e.ordered){const v=e.children?e.children[0]:void 0;if((y==="*"||y==="-")&&v&&(!v.children||!v.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),jA(n)===y&&v){let f=-1;for(;++f<e.children.length;){const g=e.children[f];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(y=d),n.bulletCurrent=y;const c=n.containerFlow(e,r);return n.bulletLastUsed=y,n.bulletCurrent=u,o(),c}function fV(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function hV(e,t,n,r){const o=fV(n);let u=n.bulletCurrent||vb(n);t&&t.type==="list"&&t.ordered&&(u=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+u);let y=u.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(y=Math.ceil(y/4)*4);const d=n.createTracker(r);d.move(u+" ".repeat(y-u.length)),d.shift(y);const a=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,d.current()),v);return a(),c;function v(f,g,m){return g?(m?"":" ".repeat(y))+f:(m?u:u+" ".repeat(y-u.length))+f}}function dV(e,t,n,r){const o=n.enter("paragraph"),u=n.enter("phrasing"),y=n.containerPhrasing(e,r);return u(),o(),y}const gV=sg(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function pV(e,t,n,r){return(e.children.some(function(y){return gV(y)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function mV(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}WA.peek=vV;function WA(e,t,n,r){const o=mV(n),u=n.enter("strong"),y=n.createTracker(r),d=y.move(o+o);let a=y.move(n.containerPhrasing(e,{after:o,before:d,...y.current()}));const c=a.charCodeAt(0),v=rm(r.before.charCodeAt(r.before.length-1),c,o);v.inside&&(a=$1(c)+a.slice(1));const f=a.charCodeAt(a.length-1),g=rm(r.after.charCodeAt(0),f,o);g.inside&&(a=a.slice(0,-1)+$1(f));const m=y.move(o+o);return u(),n.attentionEncodeSurroundingInfo={after:g.outside,before:v.outside},d+a+m}function vV(e,t,n){return n.options.strong||"*"}function yV(e,t,n,r){return n.safe(e.value,r)}function xV(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function bV(e,t,n){const r=(jA(n)+(n.options.ruleSpaces?" ":"")).repeat(xV(n));return n.options.ruleSpaces?r.slice(0,-1):r}const GA={blockquote:GX,break:gC,code:ZX,definition:QX,emphasis:NA,hardBreak:gC,heading:tV,html:LA,image:BA,imageReference:FA,inlineCode:PA,link:HA,linkReference:UA,list:cV,listItem:hV,paragraph:dV,root:pV,strong:WA,text:yV,thematicBreak:bV};function wV(){return{enter:{table:CV,tableData:pC,tableHeader:pC,tableRow:EV},exit:{codeText:AV,table:SV,tableData:P2,tableHeader:P2,tableRow:P2}}}function CV(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function SV(e){this.exit(e),this.data.inTable=void 0}function EV(e){this.enter({type:"tableRow",children:[]},e)}function P2(e){this.exit(e)}function pC(e){this.enter({type:"tableCell",children:[]},e)}function AV(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,TV));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function TV(e,t){return t==="|"?t:e}function kV(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,u=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:y,tableCell:a,tableRow:d}};function y(m,C,k,S){return c(v(m,k,S),m.align)}function d(m,C,k,S){const O=f(m,k,S),N=c([O]);return N.slice(0,N.indexOf(`
`))}function a(m,C,k,S){const O=k.enter("tableCell"),N=k.enter("phrasing"),U=k.containerPhrasing(m,{...S,before:u,after:u});return N(),O(),U}function c(m,C){return jX(m,{align:C,alignDelimiters:r,padding:n,stringLength:o})}function v(m,C,k){const S=m.children;let O=-1;const N=[],U=C.enter("table");for(;++O<S.length;)N[O]=f(S[O],C,k);return U(),N}function f(m,C,k){const S=m.children;let O=-1;const N=[],U=C.enter("tableRow");for(;++O<S.length;)N[O]=a(S[O],m,C,k);return U(),N}function g(m,C,k){let S=GA.inlineCode(m,C,k);return k.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function DV(){return{exit:{taskListCheckValueChecked:mC,taskListCheckValueUnchecked:mC,paragraph:MV}}}function _V(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:OV}}}function mC(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function MV(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let u=-1,y;for(;++u<o.length;){const d=o[u];if(d.type==="paragraph"){y=d;break}}y===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function OV(e,t,n,r){const o=e.children[0],u=typeof e.checked=="boolean"&&o&&o.type==="paragraph",y="["+(e.checked?"x":" ")+"] ",d=n.createTracker(r);u&&d.move(y);let a=GA.listItem(e,t,n,{...r,...d.current()});return u&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),a;function c(v){return v+y}}function IV(){return[fX(),IX(),BX(),wV(),DV()]}function RV(e){return{extensions:[hX(),RX(e),FX(),kV(e),_V()]}}const NV={tokenize:HV,partial:!0},YA={tokenize:UV,partial:!0},XA={tokenize:jV,partial:!0},VA={tokenize:WV,partial:!0},LV={tokenize:GV,partial:!0},KA={name:"wwwAutolink",tokenize:PV,previous:qA},ZA={name:"protocolAutolink",tokenize:zV,previous:QA},yh={name:"emailAutolink",tokenize:FV,previous:JA},Uf={};function BV(){return{text:Uf}}let A0=48;for(;A0<123;)Uf[A0]=yh,A0++,A0===58?A0=65:A0===91&&(A0=97);Uf[43]=yh;Uf[45]=yh;Uf[46]=yh;Uf[95]=yh;Uf[72]=[yh,ZA];Uf[104]=[yh,ZA];Uf[87]=[yh,KA];Uf[119]=[yh,KA];function FV(e,t,n){const r=this;let o,u;return y;function y(f){return!Hy(f)||!JA.call(r,r.previous)||yb(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(f))}function d(f){return Hy(f)?(e.consume(f),d):f===64?(e.consume(f),a):n(f)}function a(f){return f===46?e.check(LV,v,c)(f):f===45||f===95||tu(f)?(u=!0,e.consume(f),a):v(f)}function c(f){return e.consume(f),o=!0,a}function v(f){return u&&o&&pu(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function PV(e,t,n){const r=this;return o;function o(y){return y!==87&&y!==119||!qA.call(r,r.previous)||yb(r.events)?n(y):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(NV,e.attempt(YA,e.attempt(XA,u),n),n)(y))}function u(y){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(y)}}function zV(e,t,n){const r=this;let o="",u=!1;return y;function y(f){return(f===72||f===104)&&QA.call(r,r.previous)&&!yb(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(f),e.consume(f),d):n(f)}function d(f){if(pu(f)&&o.length<5)return o+=String.fromCodePoint(f),e.consume(f),d;if(f===58){const g=o.toLowerCase();if(g==="http"||g==="https")return e.consume(f),a}return n(f)}function a(f){return f===47?(e.consume(f),u?c:(u=!0,a)):n(f)}function c(f){return f===null||Zp(f)||lo(f)||F0(f)||Em(f)?n(f):e.attempt(YA,e.attempt(XA,v),n)(f)}function v(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function HV(e,t,n){let r=0;return o;function o(y){return(y===87||y===119)&&r<3?(r++,e.consume(y),o):y===46&&r===3?(e.consume(y),u):n(y)}function u(y){return y===null?n(y):t(y)}}function UV(e,t,n){let r,o,u;return y;function y(c){return c===46||c===95?e.check(VA,a,d)(c):c===null||lo(c)||F0(c)||c!==45&&Em(c)?a(c):(u=!0,e.consume(c),y)}function d(c){return c===95?r=!0:(o=r,r=void 0),e.consume(c),y}function a(c){return o||r||!u?n(c):t(c)}}function jV(e,t){let n=0,r=0;return o;function o(y){return y===40?(n++,e.consume(y),o):y===41&&r<n?u(y):y===33||y===34||y===38||y===39||y===41||y===42||y===44||y===46||y===58||y===59||y===60||y===63||y===93||y===95||y===126?e.check(VA,t,u)(y):y===null||lo(y)||F0(y)?t(y):(e.consume(y),o)}function u(y){return y===41&&r++,e.consume(y),o}}function WV(e,t,n){return r;function r(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),r):d===38?(e.consume(d),u):d===93?(e.consume(d),o):d===60||d===null||lo(d)||F0(d)?t(d):n(d)}function o(d){return d===null||d===40||d===91||lo(d)||F0(d)?t(d):r(d)}function u(d){return pu(d)?y(d):n(d)}function y(d){return d===59?(e.consume(d),r):pu(d)?(e.consume(d),y):n(d)}}function GV(e,t,n){return r;function r(u){return e.consume(u),o}function o(u){return tu(u)?n(u):t(u)}}function qA(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||lo(e)}function QA(e){return!pu(e)}function JA(e){return!(e===47||Hy(e))}function Hy(e){return e===43||e===45||e===46||e===95||tu(e)}function yb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const YV={tokenize:$V,partial:!0};function XV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:qV,continuation:{tokenize:QV},exit:JV}},text:{91:{name:"gfmFootnoteCall",tokenize:ZV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:VV,resolveTo:KV}}}}function VV(e,t,n){const r=this;let o=r.events.length;const u=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let y;for(;o--;){const a=r.events[o][1];if(a.type==="labelImage"){y=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return d;function d(a){if(!y||!y._balanced)return n(a);const c=lf(r.sliceSerialize({start:y.end,end:r.now()}));return c.codePointAt(0)!==94||!u.includes(c.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function KV(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},y={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},d=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",u,t],["enter",y,t],["exit",y,t],["exit",u,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...d),e}function ZV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u=0,y;return d;function d(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),a}function a(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(u>999||f===93&&!y||f===null||f===91||lo(f))return n(f);if(f===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return o.includes(lf(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return lo(f)||(y=!0),u++,e.consume(f),f===92?v:c}function v(f){return f===91||f===92||f===93?(e.consume(f),u++,c):c(f)}}function qV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u,y=0,d;return a;function a(C){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(C){return C===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",v):n(C)}function v(C){if(y>999||C===93&&!d||C===null||C===91||lo(C))return n(C);if(C===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return u=lf(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return lo(C)||(d=!0),y++,e.consume(C),C===92?f:v}function f(C){return C===91||C===92||C===93?(e.consume(C),y++,v):v(C)}function g(C){return C===58?(e.enter("definitionMarker"),e.consume(C),e.exit("definitionMarker"),o.includes(u)||o.push(u),Hi(e,m,"gfmFootnoteDefinitionWhitespace")):n(C)}function m(C){return t(C)}}function QV(e,t,n){return e.check(og,t,e.attempt(YV,t,n))}function JV(e){e.exit("gfmFootnoteDefinition")}function $V(e,t,n){const r=this;return Hi(e,o,"gfmFootnoteDefinitionIndent",5);function o(u){const y=r.events[r.events.length-1];return y&&y[1].type==="gfmFootnoteDefinitionIndent"&&y[2].sliceSerialize(y[1],!0).length===4?t(u):n(u)}}function eK(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:u,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(y,d){let a=-1;for(;++a<y.length;)if(y[a][0]==="enter"&&y[a][1].type==="strikethroughSequenceTemporary"&&y[a][1]._close){let c=a;for(;c--;)if(y[c][0]==="exit"&&y[c][1].type==="strikethroughSequenceTemporary"&&y[c][1]._open&&y[a][1].end.offset-y[a][1].start.offset===y[c][1].end.offset-y[c][1].start.offset){y[a][1].type="strikethroughSequence",y[c][1].type="strikethroughSequence";const v={type:"strikethrough",start:Object.assign({},y[c][1].start),end:Object.assign({},y[a][1].end)},f={type:"strikethroughText",start:Object.assign({},y[c][1].end),end:Object.assign({},y[a][1].start)},g=[["enter",v,d],["enter",y[c][1],d],["exit",y[c][1],d],["enter",f,d]],m=d.parser.constructs.insideSpan.null;m&&pc(g,g.length,0,Am(m,y.slice(c+1,a),d)),pc(g,g.length,0,[["exit",f,d],["enter",y[a][1],d],["exit",y[a][1],d],["exit",v,d]]),pc(y,c-1,a-c+3,g),a=c+g.length-2;break}}for(a=-1;++a<y.length;)y[a][1].type==="strikethroughSequenceTemporary"&&(y[a][1].type="data");return y}function u(y,d,a){const c=this.previous,v=this.events;let f=0;return g;function g(C){return c===126&&v[v.length-1][1].type!=="characterEscape"?a(C):(y.enter("strikethroughSequenceTemporary"),m(C))}function m(C){const k=Id(c);if(C===126)return f>1?a(C):(y.consume(C),f++,m);if(f<2&&!n)return a(C);const S=y.exit("strikethroughSequenceTemporary"),O=Id(C);return S._open=!O||O===2&&!!k,S._close=!k||k===2&&!!O,d(C)}}}class tK{constructor(){this.map=[]}add(t,n,r){nK(this,t,n,r)}consume(t){if(this.map.sort(function(u,y){return u[0]-y[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const u of o)t.push(u);o=r.pop()}this.map.length=0}}function nK(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function rK(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const u=r.length-1;r[u]=r[u]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function iK(){return{flow:{null:{name:"table",tokenize:aK,resolveAll:oK}}}}function aK(e,t,n){const r=this;let o=0,u=0,y;return d;function d(Fe){let Ue=r.events.length-1;for(;Ue>-1;){const ct=r.events[Ue][1].type;if(ct==="lineEnding"||ct==="linePrefix")Ue--;else break}const Ze=Ue>-1?r.events[Ue][1].type:null,mt=Ze==="tableHead"||Ze==="tableRow"?J:a;return mt===J&&r.parser.lazy[r.now().line]?n(Fe):mt(Fe)}function a(Fe){return e.enter("tableHead"),e.enter("tableRow"),c(Fe)}function c(Fe){return Fe===124||(y=!0,u+=1),v(Fe)}function v(Fe){return Fe===null?n(Fe):Sr(Fe)?u>1?(u=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(Fe),e.exit("lineEnding"),m):n(Fe):Ki(Fe)?Hi(e,v,"whitespace")(Fe):(u+=1,y&&(y=!1,o+=1),Fe===124?(e.enter("tableCellDivider"),e.consume(Fe),e.exit("tableCellDivider"),y=!0,v):(e.enter("data"),f(Fe)))}function f(Fe){return Fe===null||Fe===124||lo(Fe)?(e.exit("data"),v(Fe)):(e.consume(Fe),Fe===92?g:f)}function g(Fe){return Fe===92||Fe===124?(e.consume(Fe),f):f(Fe)}function m(Fe){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(Fe):(e.enter("tableDelimiterRow"),y=!1,Ki(Fe)?Hi(e,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Fe):C(Fe))}function C(Fe){return Fe===45||Fe===58?S(Fe):Fe===124?(y=!0,e.enter("tableCellDivider"),e.consume(Fe),e.exit("tableCellDivider"),k):q(Fe)}function k(Fe){return Ki(Fe)?Hi(e,S,"whitespace")(Fe):S(Fe)}function S(Fe){return Fe===58?(u+=1,y=!0,e.enter("tableDelimiterMarker"),e.consume(Fe),e.exit("tableDelimiterMarker"),O):Fe===45?(u+=1,O(Fe)):Fe===null||Sr(Fe)?W(Fe):q(Fe)}function O(Fe){return Fe===45?(e.enter("tableDelimiterFiller"),N(Fe)):q(Fe)}function N(Fe){return Fe===45?(e.consume(Fe),N):Fe===58?(y=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(Fe),e.exit("tableDelimiterMarker"),U):(e.exit("tableDelimiterFiller"),U(Fe))}function U(Fe){return Ki(Fe)?Hi(e,W,"whitespace")(Fe):W(Fe)}function W(Fe){return Fe===124?C(Fe):Fe===null||Sr(Fe)?!y||o!==u?q(Fe):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(Fe)):q(Fe)}function q(Fe){return n(Fe)}function J(Fe){return e.enter("tableRow"),ne(Fe)}function ne(Fe){return Fe===124?(e.enter("tableCellDivider"),e.consume(Fe),e.exit("tableCellDivider"),ne):Fe===null||Sr(Fe)?(e.exit("tableRow"),t(Fe)):Ki(Fe)?Hi(e,ne,"whitespace")(Fe):(e.enter("data"),ve(Fe))}function ve(Fe){return Fe===null||Fe===124||lo(Fe)?(e.exit("data"),ne(Fe)):(e.consume(Fe),Fe===92?Se:ve)}function Se(Fe){return Fe===92||Fe===124?(e.consume(Fe),ve):ve(Fe)}}function oK(e,t){let n=-1,r=!0,o=0,u=[0,0,0,0],y=[0,0,0,0],d=!1,a=0,c,v,f;const g=new tK;for(;++n<e.length;){const m=e[n],C=m[1];m[0]==="enter"?C.type==="tableHead"?(d=!1,a!==0&&(vC(g,t,a,c,v),v=void 0,a=0),c={type:"table",start:Object.assign({},C.start),end:Object.assign({},C.end)},g.add(n,0,[["enter",c,t]])):C.type==="tableRow"||C.type==="tableDelimiterRow"?(r=!0,f=void 0,u=[0,0,0,0],y=[0,n+1,0,0],d&&(d=!1,v={type:"tableBody",start:Object.assign({},C.start),end:Object.assign({},C.end)},g.add(n,0,[["enter",v,t]])),o=C.type==="tableDelimiterRow"?2:v?3:1):o&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")?(r=!1,y[2]===0&&(u[1]!==0&&(y[0]=y[1],f=op(g,t,u,o,void 0,f),u=[0,0,0,0]),y[2]=n)):C.type==="tableCellDivider"&&(r?r=!1:(u[1]!==0&&(y[0]=y[1],f=op(g,t,u,o,void 0,f)),u=y,y=[u[1],n,0,0])):C.type==="tableHead"?(d=!0,a=n):C.type==="tableRow"||C.type==="tableDelimiterRow"?(a=n,u[1]!==0?(y[0]=y[1],f=op(g,t,u,o,n,f)):y[1]!==0&&(f=op(g,t,y,o,n,f)),o=0):o&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")&&(y[3]=n)}for(a!==0&&vC(g,t,a,c,v),g.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=rK(t.events,n))}return e}function op(e,t,n,r,o,u){const y=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",d="tableContent";n[0]!==0&&(u.end=Object.assign({},md(t.events,n[0])),e.add(n[0],0,[["exit",u,t]]));const a=md(t.events,n[1]);if(u={type:y,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",u,t]]),n[2]!==0){const c=md(t.events,n[2]),v=md(t.events,n[3]),f={type:d,start:Object.assign({},c),end:Object.assign({},v)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const g=t.events[n[2]],m=t.events[n[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const C=n[2]+1,k=n[3]-n[2]-1;e.add(C,k,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return o!==void 0&&(u.end=Object.assign({},md(t.events,o)),e.add(o,0,[["exit",u,t]]),u=void 0),u}function vC(e,t,n,r,o){const u=[],y=md(t.events,n);o&&(o.end=Object.assign({},y),u.push(["exit",o,t])),r.end=Object.assign({},y),u.push(["exit",r,t]),e.add(n+1,0,u)}function md(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const sK={name:"tasklistCheck",tokenize:uK};function lK(){return{text:{91:sK}}}function uK(e,t,n){const r=this;return o;function o(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),u)}function u(a){return lo(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),y):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),y):n(a)}function y(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):n(a)}function d(a){return Sr(a)?t(a):Ki(a)?e.check({tokenize:cK},t,n)(a):n(a)}}function cK(e,t,n){return Hi(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function fK(e){return W7([BV(),XV(),eK(e),iK(),lK()])}const hK={};function dK(e){const t=this,n=e||hK,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),y=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(fK(n)),u.push(IV()),y.push(RV(n))}function gK(e){_A(e,[/\r?\n|\r/g,pK])}function pK(){return{type:"break"}}function mK(){return function(e){gK(e)}}const vK=sn.div`
  line-height: 1.6;
  color: ${({theme:e})=>e.colors.text};

  h1, h2, h3, h4, h5, h6 {
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    font-weight: 600;
  }

  p {
    margin-bottom: 1em;
  }

  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
    &:hover {
      text-decoration: underline;
    }
  }

  blockquote {
    border-left: 4px solid ${({theme:e})=>e.colors.border};
    padding-left: 1rem;
    margin-left: 0;
    color: ${({theme:e})=>e.colors.textSecondary};
  }

  code {
    background: ${({theme:e})=>e.colors.surface};
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
    font-size: 0.9em;
  }

  pre {
    background: ${({theme:e})=>e.colors.surface};
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    
    code {
      background: transparent;
      padding: 0;
      color: inherit;
      font-size: 1em;
    }
  }

  ul, ol {
    padding-left: 1.5em;
  }

  img {
    max-width: 100%;
    border-radius: 6px;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 1em;
    
    th, td {
      border: 1px solid ${({theme:e})=>e.colors.border};
      padding: 0.5rem;
      text-align: left;
    }

    th {
      background: ${({theme:e,$tableHeaderBg:t})=>t||e.colors.surface};
      font-weight: 600;
    }
  }

  /* Katex adjustments if needed */
  }
`,yK=({json:e})=>{const t=kn.useRef(null),n=kn.useRef(null),r=kn.useRef(null);return kn.useLayoutEffect(()=>{if(!t.current||!n.current)return;const o=new ni.fabric.StaticCanvas(t.current);r.current=o;try{const u=JSON.parse(e);o.loadFromJSON(u,()=>{let y=u.width,d=u.height;if(!y||!d){const v=o.getObjects();if(v.length>0){let f=1/0,g=1/0,m=-1/0,C=-1/0;v.forEach(k=>{const S=k.getBoundingRect();f=Math.min(f,S.left),g=Math.min(g,S.top),m=Math.max(m,S.left+S.width),C=Math.max(C,S.top+S.height)}),y=Math.max(800,m+20),d=Math.max(600,C+20)}else y=800,d=600}const a=()=>{if(!n.current||!r.current)return;const v=n.current.clientWidth;if(v===0)return;const g=Math.min(1,v/y);r.current.setDimensions({width:y*g,height:d*g}),r.current.setZoom(g),r.current.renderAll()};a();const c=new ResizeObserver(()=>{a()});return n.current&&c.observe(n.current),()=>{c.disconnect()}})}catch(u){console.error("Fabric load error:",u)}return()=>{o.dispose(),r.current=null}},[e]),te.jsx("div",{ref:n,style:{overflow:"hidden",background:"#fff",display:"flex",justifyContent:"center"},children:te.jsx("canvas",{ref:t})})},Uy=({content:e,tableHeaderBg:t})=>te.jsx(vK,{$tableHeaderBg:t,children:te.jsx(cE,{remarkPlugins:[pA,dK,mK],rehypePlugins:[dA],components:{pre:({children:n,...r})=>{const o=Array.isArray(n)?n[0]:n;return kn.isValidElement(o)&&o.props.className?.includes("language-fabric")?te.jsx(te.Fragment,{children:n}):te.jsx("pre",{...r,children:n})},code({node:n,className:r,children:o,...u}){const y=/language-(\w+)/.exec(r||"");return!u.inline&&y&&y[1]==="fabric"?te.jsx(yK,{json:String(o).replace(/\n$/,"")}):te.jsx("code",{className:r,...u,children:o})}},children:e})}),xK=sn.div`
  margin-top: 0;
  border-top: 2px solid ${({theme:e})=>e.colors.border};
  padding-top: 2.5rem;
  padding-bottom: 2.5rem;
  padding-left: 32px;
  padding-right: 32px;
`,bK=sn.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
  
  h3 {
    margin: 0;
    font-size: 1.25rem;
    color: ${({theme:e})=>e.colors.text};
  }
  
  .count {
    background: ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.textSecondary};
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 600;
  }
`,wK=sn.div`
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
`,CK=sn.div`
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 12px;
  padding: 1.25rem;
  background: ${({theme:e})=>e.colors.surface};
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }
`,SK=sn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  font-size: 0.85rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  padding-bottom: 0.5rem;
`,EK=sn.div`
  display: flex;
  gap: 0.25rem;
`,sp=sn.button`
  background: transparent;
  border: none;
  cursor: pointer;
  color: ${({theme:e})=>e.colors.textSecondary};
  padding: 6px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;

  &:hover {
    background: ${({theme:e})=>e.colors.background};
    color: ${({theme:e,$variant:t})=>t==="danger"?e.colors.danger:e.colors.primary};
  }
`,AK=sn.div`
  margin-top: 1rem;
  border: 1.5px solid ${({theme:e})=>e.colors.primary};
  border-radius: 12px;
  overflow: hidden;
  background: ${({theme:e})=>e.colors.surface};
  animation: slideDown 0.2s ease-out;

  @keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
`,yC=sn.div`
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: ${({theme:e})=>e.colors.background};
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
`,lp=sn.button`
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.4rem 0.8rem;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  
  background: ${({theme:e,$variant:t})=>t==="primary"?e.colors.primary:"transparent"};
  color: ${({theme:e,$variant:t})=>t==="primary"?"white":e.colors.text};
  border: ${({theme:e,$variant:t})=>t==="primary"?"none":`1px solid ${e.colors.border}`};

  &:hover {
    filter: brightness(1.1);
    ${({theme:e,$variant:t})=>t!=="primary"&&`background: ${e.colors.border};`}
  }
`,TK=sn.button`
  margin-top: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-radius: 10px;
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.textSecondary};
  border: 2px dashed ${({theme:e})=>e.colors.border};
  width: 100%;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.surface};
  }
`,kK=({memoId:e})=>{const{theme:t}=rx(),{t:n,language:r}=cf(),o=gm(()=>Mi.comments.where("memoId").equals(e).sortBy("createdAt"),[e]),[u,y]=Ie.useState(!1),[d,a]=Ie.useState(""),[c,v]=Ie.useState(null),[f,g]=Ie.useState(""),m=async()=>{d.trim()&&(await Mi.comments.add({memoId:e,content:d,createdAt:new Date,updatedAt:new Date}),a(""),y(!1))},C=async O=>{confirm(n.comments.delete_confirm)&&await Mi.comments.delete(O)},k=O=>{v(O.id),g(O.content)},S=async()=>{c&&f.trim()&&(await Mi.comments.update(c,{content:f,updatedAt:new Date}),v(null))};return te.jsxs(xK,{children:[te.jsxs(bK,{children:[te.jsx(b_,{size:20,color:t.colors.primary}),te.jsx("h3",{children:n.comments.title}),o&&o.length>0&&te.jsx("span",{className:"count",children:o.length})]}),te.jsx(wK,{children:o?.map(O=>te.jsxs(CK,{children:[te.jsxs(SK,{children:[te.jsx("span",{children:M0(O.createdAt,r==="ko"?"yyyy M d HH:mm":"MMM d, yyyy HH:mm")}),te.jsx(EK,{children:c===O.id?te.jsxs(te.Fragment,{children:[te.jsx(sp,{onClick:S,$variant:"primary",title:n.comments.save_comment,children:te.jsx(IS,{})}),te.jsx(sp,{onClick:()=>v(null),title:n.comments.cancel,children:te.jsx(ng,{})})]}):te.jsxs(te.Fragment,{children:[te.jsx(sp,{onClick:()=>k(O),title:n.memo_detail.edit,children:te.jsx(TS,{})}),te.jsx(sp,{onClick:()=>C(O.id),$variant:"danger",title:n.memo_detail.delete,children:te.jsx(Qh,{})})]})})]}),c===O.id?te.jsxs("div",{style:{marginTop:"0.5rem"},children:[te.jsxs(yC,{style:{padding:"0.5rem",borderRadius:"8px 8px 0 0"},children:[te.jsx(lp,{onClick:()=>v(null),$variant:"secondary",children:n.comments.cancel}),te.jsx(lp,{onClick:S,$variant:"primary",children:n.comments.save_comment})]}),te.jsx(zy,{value:f,onChange:g})]}):te.jsx(Uy,{content:O.content,tableHeaderBg:t.colors.border})]},O.id))}),u?te.jsxs(AK,{children:[te.jsxs(yC,{children:[te.jsx(lp,{onClick:()=>y(!1),$variant:"secondary",children:n.comments.cancel}),te.jsx(lp,{onClick:m,$variant:"primary",children:n.comments.save_comment})]}),te.jsx(zy,{value:d,onChange:a})]}):te.jsxs(TK,{onClick:()=>y(!0),children:[te.jsx(_S,{})," ",n.comments.add_button]})]})},xC=()=>Math.random().toString(36).substring(2,8).toUpperCase(),DK=sn.div`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
`,_K=sn.div`
    background-color: ${({theme:e})=>e.colors.background};
    border: 1px solid ${({theme:e})=>e.colors.border};
    border-radius: 20px;
    width: 440px;
    max-width: 95%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    color: ${({theme:e})=>e.colors.text};
    overflow: hidden;
`,MK=sn.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: ${({theme:e})=>e.mode==="dark"?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.02)"};
    border-bottom: 1px solid ${({theme:e})=>e.colors.border};

        h2 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
            color: ${({theme:e})=>e.colors.primary};
            
            svg:last-child {
                font-size: 0.9rem;
                opacity: 0.6;
            }
        }
`,OK=sn.div`
    padding: 24px;
    overflow-y: auto;
    flex: 1;
`,IK=sn.div`
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 0 auto;
`,RK=sn.button`
    background: none;
    border: none;
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    border-radius: 50%;
    transition: all 0.2s;
    
    &:hover {
        background-color: ${({theme:e})=>e.colors.surface};
        color: ${({theme:e})=>e.colors.text};
    }
`,NK=sn.label`
    display: block;
    margin-bottom: 8px;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.85rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    width: 100%;
`,LK=sn.div`
    display: flex;
    gap: 8px;
    margin-bottom: 20px;
    width: 100%;
`,BK=sn.input`
    flex: 1;
    min-width: 0;
    padding: 12px 16px;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.text};
    font-size: 1rem;
    font-family: inherit;
    transition: all 0.2s;

    &:focus {
        outline: none;
        border-color: ${({theme:e})=>e.colors.primary};
        background-color: ${({theme:e})=>e.colors.background};
    }
    
    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
`,bC=sn.button`
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;

    &:hover:not(:disabled) {
        border-color: ${({theme:e})=>e.colors.textSecondary};
        color: ${({theme:e})=>e.colors.text};
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,FK=sn.div`
    padding: 16px;
    border-radius: 12px;
    background-color: ${({theme:e})=>e.colors.surface};
    margin-top: 24px;
    text-align: center;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 0.9rem;
    width: 100%;
    word-break: break-word;
    
    color: ${e=>e.$status==="error"?e.theme.colors.danger:e.$status==="completed"?e.theme.colors.success:e.$status==="ready"||e.$status==="connected"?e.theme.colors.primary:e.$status==="connecting"?"#f59e0b":e.theme.colors.textSecondary};
    
    border: 1px solid ${e=>e.$status==="error"?e.theme.colors.danger+"40":e.$status==="completed"?e.theme.colors.success+"40":e.$status==="ready"||e.$status==="connected"?e.theme.colors.primary+"40":e.$status==="connecting"?"#f59e0b40":e.theme.colors.border};
`,PK=sn.div`
    background: white;
    padding: 24px;
    border-radius: 16px;
    margin: 20px auto;
    width: fit-content;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
`,zK=({isOpen:e,onClose:t,memoId:n,memoTitle:r})=>{const[o,u]=Ie.useState(""),[y,d]=Ie.useState("disconnected"),[a,c]=Ie.useState(""),[v,f]=Ie.useState(!1),g=Ie.useRef(null),m=gS(),{t:C}=cf();Ie.useEffect(()=>{e&&(o||u(xC()))},[e]);const k=()=>{g.current&&(g.current.destroy(),g.current=null),d("disconnected"),c(""),t()},S=(q,J)=>{d(q),J&&c(J),q==="completed"&&setTimeout(()=>{k()},1e3)},O=()=>(g.current||(g.current=new HS({onStatusChange:S,onDataReceived:()=>{console.log("Data transfer completed")},initialDataMemoId:n})),g.current),N=async()=>{if(o.trim())try{await O().initialize(o)}catch(q){console.error(q)}},U=()=>{navigator.clipboard.writeText(o),f(!0),setTimeout(()=>f(!1),2e3)},W=()=>{if(y==="syncing"||y==="connected")return;g.current&&(g.current.destroy(),g.current=null);const q=xC();u(q),d("disconnected"),c(""),N()};return Ie.useEffect(()=>{e&&o&&y==="disconnected"&&N()},[e,o]),e?te.jsx(DK,{onClick:k,children:te.jsxs(_K,{onClick:q=>q.stopPropagation(),children:[te.jsxs(MK,{children:[te.jsxs("h2",{children:[te.jsx(b3,{})," ",C.memo_detail.share_memo," ",te.jsx(US,{style:{fontSize:"0.9rem",opacity:.6},title:"End-to-End Encrypted"})]}),te.jsx(RK,{onClick:k,children:te.jsx(ey,{})})]}),te.jsx(OK,{children:te.jsxs(IK,{children:[te.jsxs("p",{style:{fontSize:"0.9rem",color:m.colors.textSecondary,marginBottom:"20px"},children:["Sharing: ",te.jsx("strong",{children:r})]}),te.jsx(NK,{children:C.sync.your_room_id}),te.jsxs(LK,{children:[te.jsx(BK,{value:o,onChange:q=>u(q.target.value),disabled:y==="connected"||y==="connecting"||y==="syncing",placeholder:C.sync.enter_custom_id}),te.jsx(bC,{onClick:U,title:v?C.sync.copied:C.sync.copy_id,children:v?te.jsx(b3,{style:{color:m.colors.success}}):te.jsx(WS,{})}),te.jsx(bC,{onClick:W,disabled:y==="syncing"||y==="connected",title:C.sync.regenerate_id,children:te.jsx(jS,{})})]}),te.jsxs("div",{style:{textAlign:"center"},children:[te.jsx(PK,{children:te.jsx(sx,{value:Lp(o),size:180,level:"H"})}),te.jsx("p",{style:{fontSize:"0.85rem",color:m.colors.textSecondary,marginTop:-8},children:y==="connected"||y==="syncing"?C.sync.connected_to_peer:C.sync.scan_hint})]}),(a||y!=="disconnected")&&te.jsxs(FK,{$status:y,children:[y==="connecting"&&te.jsx($2,{className:"fa-spin"}),a||(y==="ready"?C.sync.ready_to_share:y==="connected"?C.sync.connected:"")]})]})})]})}):null},HK=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1100;
  animation: fadeIn 0.2s ease-out;

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
`,UK=sn.div`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
  padding: 24px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  gap: 16px;
  animation: slideUp 0.2s ease-out;

  @keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
`,jK=sn.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  
  h3 {
    margin: 0;
    font-size: 1.25rem;
    color: ${({theme:e})=>e.colors.text};
  }
`,WK=sn.button`
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  
  &:hover {
    background: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.text};
  }
`,GK=sn.p`
  margin: 0;
  color: ${({theme:e})=>e.colors.textSecondary};
  line-height: 1.5;
`,YK=sn.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,wC=sn.button`
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 10px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e,$variant:t})=>t==="danger"?"rgba(239, 68, 68, 0.1)":e.colors.surface};
  color: ${({theme:e,$variant:t})=>t==="danger"?e.colors.danger:e.colors.text};
  cursor: pointer;
  font-weight: 600;
  text-align: left;
  transition: all 0.2s;

  &:hover {
    background: ${({theme:e,$variant:t})=>t==="danger"?"rgba(239, 68, 68, 0.2)":e.colors.border};
    transform: translateY(-1px);
  }

  svg {
    font-size: 1.25rem;
  }
`,XK=({onClose:e,onDeleteMemoOnly:t,onDeleteThread:n,isThreadHead:r})=>{const{t:o}=cf();return te.jsx(HK,{onClick:e,children:te.jsxs(UK,{onClick:u=>u.stopPropagation(),children:[te.jsxs(jK,{children:[te.jsx("h3",{children:o.memo_detail.delete}),te.jsx(WK,{onClick:e,children:te.jsx(ng,{})})]}),te.jsx(GK,{children:r?o.memo_detail.delete_thread_confirm:o.memo_detail.delete_confirm}),te.jsxs(YK,{children:[r&&n&&te.jsxs(wC,{onClick:n,$variant:"danger",children:[te.jsx(Qh,{}),te.jsx("div",{children:te.jsx("div",{style:{fontSize:"1rem"},children:o.memo_detail.delete_thread_entire})})]}),te.jsxs(wC,{onClick:t,$variant:r?void 0:"danger",children:[r?te.jsx(kS,{}):te.jsx(Qh,{}),te.jsx("div",{children:te.jsx("div",{style:{fontSize:"1rem"},children:r?o.memo_detail.delete_memo_only:o.memo_detail.delete})})]})]})]})})},CC=sn.div`
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0;
  width: 100%;
`,VK=sn.div`
  margin: 24px 32px 0 32px;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  padding-bottom: 0.25rem;
`,z2=sn.div`
  padding: 0 32px;
`,KK=sn.input`
  font-size: 2rem;
  font-weight: 700;
  width: 100%;
  border: none;
  background: transparent;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: 0.5rem;
  
  &:focus {
    outline: none;
    border-bottom: 2px solid ${({theme:e})=>e.colors.primary};
  }
`,ZK=sn.h1`
  font-size: 2rem;
  margin: 0 0 0.5rem 0;
  color: ${({theme:e})=>e.colors.text};
`,qK=sn.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
  flex-wrap: wrap;
`,QK=sn.input`
  background: ${({theme:e})=>e.colors.surface};
  border: 1px solid ${({theme:e})=>e.colors.border};
  color: ${({theme:e})=>e.colors.text};
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
`,JK=sn.input`
    background: ${({theme:e})=>e.colors.surface};
    border: 1px solid ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.text};
    padding: 0.25rem 2.2rem 0.25rem 0.5rem;
    border-radius: 4px;
    width: 210px;
`,$K=sn.div`
    position: relative;
    display: flex;
    align-items: center;
`,eZ=sn(h_)`
    position: absolute;
    right: 8px;
    color: ${({theme:e})=>e.colors.primary};
    cursor: pointer;
    font-size: 1.1rem;
    stroke-width: 2.5;
`,tZ=sn.div`
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
`,gd=sn.button`
  display: flex;
  align-items: center;
  gap: 0.2rem;
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e,$variant:t})=>t==="primary"?e.colors.primary:e.colors.surface};
  color: ${({theme:e,$variant:t})=>t==="primary"?"#fff":t==="danger"?e.colors.danger:e.colors.text};
  cursor: pointer;
  font-weight: 500;
  font-size: 0.75rem;

  &:hover {
    background: ${({theme:e,$variant:t})=>t==="primary"?e.colors.primaryHover:e.colors.border};
  }
`,H2=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},SC=()=>{const{id:e}=Y9(),t=Fd(),[n]=Pk(),{setSearchQuery:r}=xS(),{t:o,language:u}=cf(),y=!e,{registerGuard:d,unregisterGuard:a}=ix(),[c,v]=Ie.useState(!1),f=Ie.useRef(0),g=Ie.useRef(!1),[m,C]=Ie.useState(y),k=()=>{C(!0),window.history.pushState({editing:!0},"")},S=()=>{g.current=!0,window.history.back()};Ie.useEffect(()=>{if(m){const ae="memo-edit-guard";return d(ae,()=>{if(g.current)return C(!1),R0.ALLOW_NAVIGATION;const V=Date.now();return V-f.current<2e3?(g.current=!0,C(!1),R0.ALLOW_NAVIGATION):(f.current=V,v(!0),R0.PREVENT_NAVIGATION)}),()=>a(ae)}},[m,d,a]);const O=m,N=ae=>{ae!==m&&(ae?k():S())},[U,W]=Ie.useState(""),[q,J]=Ie.useState(""),[ne,ve]=Ie.useState(""),[Se,Fe]=Ie.useState(""),[Ue,Ze]=Ie.useState(!1),[mt,ct]=Ie.useState(!1),[ge,ye]=Ie.useState(!1),Re=q.trim().startsWith("```fabric"),ft=gm(()=>e?Mi.memos.get(Number(e)):void 0,[e]);Ie.useEffect(()=>{const ae=n.get("edit")==="true";ft?(W(ft.title),J(ft.content),ve(ft.tags.join(", ")),Fe(u==="ko"?M0(ft.createdAt,"yyyy. MM. dd."):H2(ft.createdAt)),N(ae)):y&&(W(""),J(""),ve(""),Fe(u==="ko"?M0(new Date,"yyyy. MM. dd."):H2(new Date)),N(!0),n.get("drawing")==="true"&&ye(!0))},[ft,y,n]);const Me=async()=>{const ae=ne.split(",").map(et=>et.trim()).filter(Boolean),V=new Date;let me=U.trim(),Ae="normal";const Ne=!!me,ut=!!q.trim();if(!Ne&&!ut)return;if(Ne)Ae="normal";else{const et=q.trim();et?et.startsWith("```fabric")?me=o.memo_detail.untitled:me=et.slice(0,30)+(et.length>30?"...":""):me=o.memo_detail.untitled,Ae="normal"}let xt;if(u==="ko"&&/^\d{4}\.\s*\d{1,2}\.\s*\d{1,2}\.?$/.test(Se)){const et=Se.split(".").map(_t=>_t.trim()).filter(Boolean);xt=new Date(parseInt(et[0]),parseInt(et[1])-1,parseInt(et[2]));const Wt=ft?.createdAt||new Date;xt.setHours(Wt.getHours(),Wt.getMinutes(),Wt.getSeconds())}else xt=new Date(Se+"T"+M0(ft?.createdAt||new Date,"HH:mm:ss"));if(isNaN(xt.getTime())&&(xt=new Date),e)await Mi.memos.update(Number(e),{title:me,content:q,tags:ae,createdAt:xt,updatedAt:V,type:Ae}),n.get("edit")&&t(`/memo/${e}`,{replace:!0}),N(!1);else{const et=await Mi.memos.add({title:me,content:q,tags:ae,createdAt:xt,updatedAt:V,type:Ae});t(`/memo/${et}`)}},ce=async()=>{e&&ct(!0)},le=async()=>{e&&(await Mi.memos.delete(Number(e)),await Mi.comments.where("memoId").equals(Number(e)).delete(),ct(!1),t("/",{replace:!0}))};return!y&&!ft?te.jsx(CC,{children:o.memo_detail.loading}):te.jsxs(CC,{children:[te.jsxs(VK,{children:[O?te.jsx(KK,{value:U,onChange:ae=>W(ae.target.value),placeholder:o.memo_detail.title_placeholder}):te.jsx(ZK,{children:ft?.title}),te.jsx(qK,{children:O?te.jsxs(te.Fragment,{children:[te.jsxs($K,{children:[te.jsx(JK,{type:u==="ko"?"text":"date",value:Se,onChange:ae=>Fe(ae.target.value),placeholder:u==="ko"?"YYYY. MM. DD.":void 0}),te.jsx(eZ,{onClick:()=>{const ae=document.getElementById("memo-date-picker");ae&&(ae.showPicker?.()||ae.click())}}),te.jsx("input",{id:"memo-date-picker",type:"date",style:{position:"absolute",opacity:0,width:0,height:0},onChange:ae=>{const V=new Date(ae.target.value);isNaN(V.getTime())||Fe(u==="ko"?M0(V,"yyyy. MM. dd."):H2(V))}})]}),te.jsx(QK,{value:ne,style:{flex:1},onChange:ae=>ve(ae.target.value),placeholder:o.memo_detail.tags_placeholder})]}):te.jsxs(te.Fragment,{children:[te.jsx("span",{children:ft&&M0(ft.createdAt,u==="ko"?"yyyy M d":"MMM d, yyyy")}),ft?.tags.map(ae=>te.jsx("span",{onClick:()=>r(`tag:${ae}`),style:{background:"#eee",padding:"2px 6px",borderRadius:"4px",fontSize:"12px",color:"#333",cursor:"pointer"},children:ae},ae))]})}),te.jsx(tZ,{children:O?te.jsxs(te.Fragment,{children:[te.jsxs(gd,{$variant:"primary",onClick:Me,disabled:!U.trim()&&!q.trim(),style:{opacity:!U.trim()&&!q.trim()?.5:1,cursor:!U.trim()&&!q.trim()?"not-allowed":"pointer"},children:[te.jsx(IS,{size:12})," ",o.memo_detail.save]}),!y&&te.jsxs(te.Fragment,{children:[te.jsxs(gd,{$variant:"danger",onClick:ce,children:[te.jsx(Qh,{size:12})," ",o.memo_detail.delete]}),te.jsxs(gd,{onClick:()=>{n.get("edit")&&t(`/memo/${e}`,{replace:!0}),N(!1)},children:[te.jsx(ng,{size:12})," ",o.memo_detail.cancel]})]})]}):te.jsxs(te.Fragment,{children:[te.jsxs(gd,{onClick:()=>N(!0),children:[te.jsx(TS,{size:12})," ",o.memo_detail.edit]}),te.jsxs(gd,{$variant:"danger",onClick:ce,children:[te.jsx(Qh,{size:12})," ",o.memo_detail.delete]}),te.jsxs(gd,{onClick:()=>Ze(!0),children:[te.jsx(NS,{size:12})," ",o.memo_detail.share_memo]})]})})]}),O?te.jsx(z2,{children:te.jsx(zy,{value:q,onChange:J})}):te.jsxs(te.Fragment,{children:[Re?te.jsx(z2,{children:te.jsx("div",{style:{cursor:"pointer"},onClick:()=>ye(!0),children:te.jsx(Uy,{content:q})})}):te.jsx(z2,{children:te.jsx(Uy,{content:q})}),te.jsx("div",{style:{padding:"0 32px"},children:!y&&ft&&te.jsx(kK,{memoId:ft.id})})]}),!y&&ft&&te.jsx(zK,{isOpen:Ue,onClose:()=>Ze(!1),memoId:ft.id,memoTitle:ft.title}),mt&&te.jsx(XK,{onClose:()=>ct(!1),onDeleteMemoOnly:le,onDeleteThread:()=>le(),isThreadHead:!1}),c&&te.jsx(cx,{variant:"warning",position:"bottom",icon:te.jsx(ax,{size:14}),message:o.android?.exit_warning||"Press back again to exit editing.",onClose:()=>v(!1)}),ge&&te.jsx(DA,{initialData:(()=>{const ae=q.match(/```fabric\s*([\s\S]*?)\s*```/);return ae?ae[1]:void 0})(),onSave:async ae=>{const V=`\`\`\`fabric
${ae}
\`\`\``;J(V),e&&ft&&await Mi.memos.update(Number(e),{content:V,updatedAt:new Date}),ye(!1)},onClose:()=>ye(!1)})]})},nZ=sn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: ${({theme:e})=>e.colors.textSecondary};
`,rZ=sn.div`
  background: ${({theme:e})=>e.colors.surface};
  padding: 2rem;
  border-radius: 50%;
  margin-bottom: 1rem;
`,iZ=()=>{const{t:e}=cf();return te.jsxs(nZ,{children:[te.jsx(rZ,{children:te.jsx(kS,{size:48})}),te.jsx("h2",{children:e.memo_detail.empty_state_title})]})},aZ=sn.div`
  padding: 24px 32px;
  margin: 0;
  height: 100%;
  overflow-y: auto;
  width: 100%;
  
  @media (max-width: 600px) {
    padding: 16px;
  }
`,A1=sn.div`
  margin-bottom: 2rem;
  animation: fadeIn 0.3s ease-out;

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
`,oZ=sn.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  padding-bottom: 1rem;
`,EC=sn.h2`
  margin: 0;
  font-size: 1.5rem;
  color: ${({theme:e})=>e.colors.text};
`,sZ=sn.div`
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
`,up=sn.button`
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.25rem;
  background: ${({theme:e})=>e.colors.surface};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  width: 100%;
  text-align: left;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.background};
  }

  &:active {
    transform: translateY(0);
  }

  .icon-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: ${({theme:e})=>e.colors.background};
    border-radius: 10px;
    color: ${({theme:e})=>e.colors.primary};
    font-size: 1.25rem;
  }

  .label-wrapper {
    flex: 1;
    
    .title {
      display: block;
      font-weight: 600;
      font-size: 1.05rem;
      color: ${({theme:e})=>e.colors.text};
      margin-bottom: 0.2rem;
    }
    
    .desc {
      display: block;
      font-size: 0.85rem;
      color: ${({theme:e})=>e.colors.textSecondary};
      opacity: 0.8;
    }
  }

  .chevron {
    color: ${({theme:e})=>e.colors.textSecondary};
    opacity: 0.5;
  }
`,lZ=sn.button`
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;

  &:hover {
    background: ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.text};
  }

  @media (max-width: 768px) {
    display: none;
  }
`,uZ=sn.input`
  flex: 1;
  padding: 0.75rem 1rem;
  border-radius: 8px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,pd=sn.button`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
  padding: 0.75rem 1.25rem;
  background: ${({theme:e,$variant:t})=>t==="success"?"#10b981":t==="secondary"?"transparent":e.colors.primary};
  color: ${({$variant:e})=>e==="secondary"?"inherit":"white"};
  border: ${({$variant:e,theme:t})=>e==="secondary"?`1px solid ${t.colors.border}`:"none"};
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  font-size: 0.95rem;
  transition: all 0.2s;
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  &:hover:not(:disabled) {
    filter: brightness(1.1);
    transform: translateY(-1px);
    ${({$variant:e,theme:t})=>e==="secondary"&&`
      background: ${t.colors.border};
      border-color: ${t.colors.textSecondary};
    `}
  }
`,cZ=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
`,fZ=sn.div`
  background: ${({theme:e})=>e.colors.surface};
  padding: 2rem;
  border-radius: 12px;
  width: 90%;
  max-width: 500px;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
`,hZ=sn.h3`
  margin-top: 0;
  margin-bottom: 1rem;
  color: ${({theme:e})=>e.colors.text};
`,dZ=sn.div`
  flex: 1;
  overflow-y: auto;
  margin-bottom: 1.5rem;
`,gZ=sn.div`
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
`,AC=sn.label`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.25rem;
  padding: 1rem;
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 8px;
  cursor: pointer;
  color: ${({theme:e})=>e.colors.text};
  transition: all 0.2s;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
  }

  input {
    width: 18px;
    height: 18px;
    accent-color: ${({theme:e})=>e.colors.primary};
  }
`,pZ=sn.div`
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 8px;
  max-height: 200px;
  overflow-y: auto;
  padding: 0.5rem;
  margin-top: 0.5rem;
  background: ${({theme:e})=>e.colors.surface};
`,mZ=sn.label`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.25rem;
  padding: 0.5rem;
  border-radius: 4px;
  font-size: 0.9rem;
  cursor: pointer;
  color: ${({theme:e})=>e.colors.text};
  
  &:hover {
    background: ${({theme:e})=>e.colors.background};
  }

  input {
    accent-color: ${({theme:e})=>e.colors.primary};
  }
`,vZ=sn.select`
  padding: 0.75rem 1rem;
  border-radius: 8px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  width: 100%;
  cursor: pointer;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,yZ=sn.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  
  li {
    margin-bottom: 1rem;
    padding-left: 1rem;
    position: relative;
    line-height: 1.6;
    color: ${({theme:e})=>e.colors.text};
    
    &::before {
      content: '';
      position: absolute;
      left: 0;
      color: ${({theme:e})=>e.colors.primary};
      font-weight: bold;
    }
  }
`,xZ=()=>{const{t:e,language:t,setLanguage:n}=cf(),{theme:r,setThemeByName:o}=rx(),[u,y]=Ie.useState("main"),d=Ie.useRef(null),[a,c]=Ie.useState(!1),[v,f]=Ie.useState("all"),[g,m]=Ie.useState(new Set),[C,k]=Ie.useState(""),S=gm(()=>Mi.memos.orderBy("createdAt").reverse().toArray()),O=()=>{c(!0),f("all"),m(new Set),k(`handmemo-backup-${new Date().toISOString().slice(0,10)}`)},N=async()=>{v==="all"?await v3(void 0,C):await v3(Array.from(g),C),c(!1)},U=ve=>{const Se=new Set(g);Se.has(ve)?Se.delete(ve):Se.add(ve),m(Se)},W=async ve=>{const Se=ve.target.files?.[0];if(Se&&confirm(e.settings.import_confirm))try{await L_(Se),alert(e.settings.import_success)}catch(Fe){alert(e.settings.import_failed+Fe)}},q=async()=>{const ve={title:"HandMemo",text:e.settings.help_desc,url:window.location.origin+window.location.pathname};try{navigator.share?await navigator.share(ve):(await navigator.clipboard.writeText(ve.url),alert(e.settings.share_success))}catch(Se){console.log("Share failed:",Se)}},J=async()=>{if(confirm(e.settings.reset_confirm))try{await Mi.delete(),localStorage.clear(),alert(e.settings.reset_success),window.location.reload()}catch(ve){console.error("Reset failed:",ve),alert("Reset failed: "+ve)}},ne=ve=>te.jsxs(oZ,{children:[te.jsx(lZ,{onClick:()=>y("main"),children:te.jsx(c_,{size:20})}),te.jsx(EC,{children:ve})]});return te.jsxs(aZ,{children:[u==="main"&&te.jsxs(A1,{children:[te.jsx(EC,{style:{marginBottom:"1.5rem"},children:e.settings.title}),te.jsxs(sZ,{children:[te.jsxs(up,{onClick:()=>y("data"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(p_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.data_management}),te.jsx("span",{className:"desc",children:"Export, import or backup data"})]}),te.jsx(jg,{className:"chevron"})]}),te.jsxs(up,{onClick:()=>y("theme"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(y_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.theme_selection}),te.jsx("span",{className:"desc",children:e.settings.theme_desc})]}),te.jsx(jg,{className:"chevron"})]}),te.jsxs(up,{onClick:()=>y("language"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(m_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.language}),te.jsx("span",{className:"desc",children:"Change display language"})]}),te.jsx(jg,{className:"chevron"})]}),te.jsxs(up,{onClick:()=>y("about"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(v_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.help_title}),te.jsx("span",{className:"desc",children:"App info and user guide"})]}),te.jsx(jg,{className:"chevron"})]})]})]}),u==="data"&&te.jsxs(A1,{children:[ne(e.settings.data_management),te.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem"},children:[te.jsxs(pd,{onClick:O,children:[te.jsx(Np,{})," ",e.settings.export_backup]}),te.jsxs(pd,{onClick:()=>d.current?.click(),$variant:"success",children:[te.jsx(T_,{})," ",e.settings.import_restore]}),te.jsx("input",{type:"file",ref:d,style:{display:"none"},accept:".json",onChange:W}),te.jsx("div",{style:{margin:"1rem 0",borderBottom:"1px solid var(--border-color)"}}),te.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[te.jsxs("h4",{style:{margin:"0 0 0.5rem 0",color:"var(--danger-color)",display:"flex",alignItems:"center",gap:"8px"},children:[te.jsx(ax,{})," ",e.settings.factory_reset]}),te.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",opacity:.8},children:e.settings.reset_confirm}),te.jsxs(pd,{onClick:J,$variant:"secondary",style:{color:"var(--danger-color)",borderColor:"var(--danger-color)",width:"100%"},children:[te.jsx(Qh,{})," ",e.settings.factory_reset]})]})]})]}),u==="theme"&&te.jsxs(A1,{children:[ne(e.settings.theme_selection),te.jsx("h4",{style:{marginBottom:"1rem",opacity:.8},children:"Light Modes"}),te.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:Object.entries(_0).filter(([ve,Se])=>Se.mode==="light").map(([ve,Se])=>te.jsxs("div",{onClick:()=>o(ve),style:{padding:"1rem",background:Se.surface,borderRadius:"12px",border:`2px solid ${r.themeName===ve?r.colors.primary:Se.border}`,cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:"0.75rem",alignItems:"center"},children:[te.jsxs("div",{style:{width:"100%",height:"40px",background:Se.background,borderRadius:"6px",display:"flex",padding:"4px",gap:"4px"},children:[te.jsx("div",{style:{flex:1,background:Se.primary,borderRadius:"3px"}}),te.jsx("div",{style:{flex:1,background:Se.textSecondary,borderRadius:"3px",opacity:.5}})]}),te.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:Se.text},children:ve})]},ve))}),te.jsx("h4",{style:{marginBottom:"1rem",opacity:.8},children:"Dark Modes"}),te.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"1rem"},children:Object.entries(_0).filter(([ve,Se])=>Se.mode==="dark").map(([ve,Se])=>te.jsxs("div",{onClick:()=>o(ve),style:{padding:"1rem",background:Se.surface,borderRadius:"12px",border:`2px solid ${r.themeName===ve?r.colors.primary:Se.border}`,cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:"0.75rem",alignItems:"center"},children:[te.jsxs("div",{style:{width:"100%",height:"40px",background:Se.background,borderRadius:"6px",display:"flex",padding:"4px",gap:"4px"},children:[te.jsx("div",{style:{flex:1,background:Se.primary,borderRadius:"3px"}}),te.jsx("div",{style:{flex:1,background:Se.textSecondary,borderRadius:"3px",opacity:.5}})]}),te.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:Se.text},children:ve})]},ve))})]}),u==="language"&&te.jsxs(A1,{children:[ne(e.settings.language),te.jsxs(vZ,{value:t,onChange:ve=>n(ve.target.value),children:[te.jsx("option",{value:"en",children:e.settings.english}),te.jsx("option",{value:"ko",children:e.settings.korean})]})]}),u==="about"&&te.jsxs(A1,{children:[ne(e.settings.help_title),te.jsx("p",{style:{marginBottom:"1.5rem",lineHeight:"1.6",fontSize:"1.1rem",fontWeight:500},children:e.settings.help_desc}),te.jsxs(yZ,{children:[te.jsx("li",{children:e.settings.help_local_db}),te.jsx("li",{children:e.settings.help_offline}),te.jsx("li",{children:e.settings.help_sync}),te.jsx("li",{children:e.settings.help_threads}),te.jsx("li",{children:e.settings.help_share_memo}),te.jsx("li",{children:e.settings.help_backup}),te.jsx("li",{children:e.settings.help_markdown}),te.jsx("li",{children:e.settings.help_tags}),te.jsx("li",{children:e.settings.help_comments}),te.jsx("li",{children:e.settings.help_math})]}),te.jsxs("div",{style:{marginTop:"2.5rem",padding:"1.5rem",background:"var(--surface-color)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[te.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"var(--text-color)"},children:e.settings.share_app}),te.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:e.settings.share_desc}),te.jsxs(pd,{onClick:q,style:{width:"100%"},children:[te.jsx(NS,{})," ",e.settings.share_app]})]}),te.jsxs("div",{style:{marginTop:"2.5rem",padding:"1.25rem",background:"rgba(0,0,0,0.03)",borderRadius:"12px",border:"1px solid var(--border-color)",fontSize:"0.85rem"},children:[te.jsx("h5",{style:{margin:"0 0 0.5rem 0",color:"var(--text-color)",fontWeight:600},children:e.settings.disclaimer_title}),te.jsx("p",{style:{margin:0,color:"var(--text-secondary)",lineHeight:"1.5"},children:e.settings.disclaimer_text})]}),te.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"var(--surface-color)",borderRadius:"8px",fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center"},children:"HandMemo v1.3.0  Local-First Reading Tracker & Memo"})]}),a&&te.jsx(cZ,{onClick:()=>c(!1),children:te.jsxs(fZ,{onClick:ve=>ve.stopPropagation(),children:[te.jsx(hZ,{children:e.settings.export_data}),te.jsxs(dZ,{children:[te.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:600},children:e.settings.export_mode}),te.jsxs(AC,{children:[te.jsx("input",{type:"radio",checked:v==="all",onChange:()=>f("all")}),e.settings.all_data]}),te.jsxs(AC,{children:[te.jsx("input",{type:"radio",checked:v==="selected",onChange:()=>f("selected")}),e.settings.select_memos]}),te.jsxs("div",{style:{marginTop:"1.5rem",marginBottom:"1.5rem"},children:[te.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:e.settings.filename_optional}),te.jsx(uZ,{value:C,onChange:ve=>k(ve.target.value),placeholder:e.settings.enter_filename,style:{width:"100%"}})]}),v==="selected"&&te.jsx(pZ,{children:S?.length===0?te.jsx("div",{style:{padding:"0.5rem",opacity:.6},children:e.settings.no_memos_found}):S?.map(ve=>te.jsxs(mZ,{children:[te.jsx("input",{type:"checkbox",checked:g.has(ve.id),onChange:()=>U(ve.id)}),te.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:ve.title||e.sidebar.untitled})]},ve.id))})]}),te.jsxs(gZ,{children:[te.jsx(pd,{onClick:()=>c(!1),$variant:"secondary",children:e.settings.cancel}),te.jsxs(pd,{onClick:N,disabled:v==="selected"&&g.size===0,children:[te.jsx(Np,{})," ",e.settings.export]})]})]})})]})},bZ=()=>{const e=uf(),t=Fd(),{t:n}=cf(),[r,o]=Ie.useState(!1),u=Ie.useRef(0),y=e.pathname==="/"||e.pathname==="",{checkGuards:d}=ix();return Ie.useEffect(()=>{(!window.history.state||!window.history.state.isGuard)&&window.history.pushState({isGuard:!0},"");const c=v=>{if(window.history.state?.fabricOpen)return;const f=d();if(f===R0.PREVENT_NAVIGATION||f==="PREVENT"){window.history.pushState({isGuard:!0},"");return}if(!(f===R0.ALLOW_NAVIGATION||f==="ALLOW")&&(!v.state||!v.state.isGuard))if(!y)t("/",{replace:!0}),window.history.pushState({isGuard:!0},"");else{const g=Date.now();g-u.current<2e3?window.history.back():(u.current=g,o(!0),window.history.pushState({isGuard:!0},""))}};return window.addEventListener("popstate",c),()=>{window.removeEventListener("popstate",c)}},[y,t,d]),r?te.jsx(cx,{variant:"warning",position:"bottom",icon:te.jsx(ax,{size:14}),message:n.android?.exit_warning||"Press back again to exit.",onClose:()=>o(!1)}):null};function wZ(){return te.jsx(qD,{children:te.jsx(QD,{children:te.jsx(VD,{children:te.jsx(KD,{children:te.jsxs(Rk,{children:[te.jsx(bZ,{}),te.jsx(lk,{children:te.jsxs(T0,{path:"/",element:te.jsx(sP,{}),children:[te.jsx(T0,{index:!0,element:te.jsx(iZ,{})}),te.jsx(T0,{path:"memo/new",element:te.jsx(SC,{})}),te.jsx(T0,{path:"memo/:id",element:te.jsx(SC,{})}),te.jsx(T0,{path:"settings",element:te.jsx(xZ,{})}),te.jsx(T0,{path:"*",element:te.jsx(ak,{to:"/",replace:!0})})]})})]})})})})})}o9.createRoot(document.getElementById("root")).render(te.jsx(Ie.StrictMode,{children:te.jsx(wZ,{})}));
