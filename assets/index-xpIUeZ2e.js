function VT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&r(y)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KT(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var yv={exports:{}},s1={};var L4;function ZT(){if(L4)return s1;L4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,c){var y=null;if(c!==void 0&&(y=""+c),o.key!==void 0&&(y=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:e,type:r,key:y,ref:o!==void 0?o:null,props:c}}return s1.Fragment=t,s1.jsx=n,s1.jsxs=n,s1}var B4;function qT(){return B4||(B4=1,yv.exports=ZT()),yv.exports}var te=qT(),xv={exports:{}},ci={};var F4;function QT(){if(F4)return ci;F4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),y=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function m(ce){return ce===null||typeof ce!="object"?null:(ce=g&&ce[g]||ce["@@iterator"],typeof ce=="function"?ce:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,S={};function O(ce,oe,Z){this.props=ce,this.context=oe,this.refs=S,this.updater=Z||C}O.prototype.isReactComponent={},O.prototype.setState=function(ce,oe){if(typeof ce!="object"&&typeof ce!="function"&&ce!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ce,oe,"setState")},O.prototype.forceUpdate=function(ce){this.updater.enqueueForceUpdate(this,ce,"forceUpdate")};function N(){}N.prototype=O.prototype;function U(ce,oe,Z){this.props=ce,this.context=oe,this.refs=S,this.updater=Z||C}var W=U.prototype=new N;W.constructor=U,D(W,O.prototype),W.isPureReactComponent=!0;var q=Array.isArray;function J(){}var ne={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Se(ce,oe,Z){var be=Z.ref;return{$$typeof:e,type:ce,key:oe,ref:be!==void 0?be:null,props:Z}}function Be(ce,oe){return Se(ce.type,oe,ce.props)}function Ue(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===e}function qe(ce){var oe={"=":"=0",":":"=2"};return"$"+ce.replace(/[=:]/g,function(Z){return oe[Z]})}var mt=/\/+/g;function ut(ce,oe){return typeof ce=="object"&&ce!==null&&ce.key!=null?qe(""+ce.key):oe.toString(36)}function ge(ce){switch(ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason;default:switch(typeof ce.status=="string"?ce.then(J,J):(ce.status="pending",ce.then(function(oe){ce.status==="pending"&&(ce.status="fulfilled",ce.value=oe)},function(oe){ce.status==="pending"&&(ce.status="rejected",ce.reason=oe)})),ce.status){case"fulfilled":return ce.value;case"rejected":throw ce.reason}}throw ce}function me(ce,oe,Z,be,Te){var Fe=typeof ce;(Fe==="undefined"||Fe==="boolean")&&(ce=null);var ct=!1;if(ce===null)ct=!0;else switch(Fe){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(ce.$$typeof){case e:case t:ct=!0;break;case v:return ct=ce._init,me(ct(ce._payload),oe,Z,be,Te)}}if(ct)return Te=Te(ce),ct=be===""?"."+ut(ce,0):be,q(Te)?(Z="",ct!=null&&(Z=ct.replace(mt,"$&/")+"/"),me(Te,oe,Z,"",function(jt){return jt})):Te!=null&&(Ue(Te)&&(Te=Be(Te,Z+(Te.key==null||ce&&ce.key===Te.key?"":(""+Te.key).replace(mt,"$&/")+"/")+ct)),oe.push(Te)),1;ct=0;var At=be===""?".":be+":";if(q(ce))for(var rt=0;rt<ce.length;rt++)be=ce[rt],Fe=At+ut(be,rt),ct+=me(be,oe,Z,Fe,Te);else if(rt=m(ce),typeof rt=="function")for(ce=rt.call(ce),rt=0;!(be=ce.next()).done;)be=be.value,Fe=At+ut(be,rt++),ct+=me(be,oe,Z,Fe,Te);else if(Fe==="object"){if(typeof ce.then=="function")return me(ge(ce),oe,Z,be,Te);throw oe=String(ce),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(ce).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return ct}function Ie(ce,oe,Z){if(ce==null)return ce;var be=[],Te=0;return me(ce,be,"","",function(Fe){return oe.call(Z,Fe,Te++)}),be}function lt(ce){if(ce._status===-1){var oe=ce._result;oe=oe(),oe.then(function(Z){(ce._status===0||ce._status===-1)&&(ce._status=1,ce._result=Z)},function(Z){(ce._status===0||ce._status===-1)&&(ce._status=2,ce._result=Z)}),ce._status===-1&&(ce._status=0,ce._result=oe)}if(ce._status===1)return ce._result.default;throw ce._result}var Me=typeof reportError=="function"?reportError:function(ce){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ce=="object"&&ce!==null&&typeof ce.message=="string"?String(ce.message):String(ce),error:ce});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ce);return}console.error(ce)},ue={map:Ie,forEach:function(ce,oe,Z){Ie(ce,function(){oe.apply(this,arguments)},Z)},count:function(ce){var oe=0;return Ie(ce,function(){oe++}),oe},toArray:function(ce){return Ie(ce,function(oe){return oe})||[]},only:function(ce){if(!Ue(ce))throw Error("React.Children.only expected to receive a single React element child.");return ce}};return ci.Activity=f,ci.Children=ue,ci.Component=O,ci.Fragment=n,ci.Profiler=o,ci.PureComponent=U,ci.StrictMode=r,ci.Suspense=a,ci.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ci.__COMPILER_RUNTIME={__proto__:null,c:function(ce){return ne.H.useMemoCache(ce)}},ci.cache=function(ce){return function(){return ce.apply(null,arguments)}},ci.cacheSignal=function(){return null},ci.cloneElement=function(ce,oe,Z){if(ce==null)throw Error("The argument must be a React element, but you passed "+ce+".");var be=D({},ce.props),Te=ce.key;if(oe!=null)for(Fe in oe.key!==void 0&&(Te=""+oe.key),oe)!ve.call(oe,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&oe.ref===void 0||(be[Fe]=oe[Fe]);var Fe=arguments.length-2;if(Fe===1)be.children=Z;else if(1<Fe){for(var ct=Array(Fe),At=0;At<Fe;At++)ct[At]=arguments[At+2];be.children=ct}return Se(ce.type,Te,be)},ci.createContext=function(ce){return ce={$$typeof:y,_currentValue:ce,_currentValue2:ce,_threadCount:0,Provider:null,Consumer:null},ce.Provider=ce,ce.Consumer={$$typeof:c,_context:ce},ce},ci.createElement=function(ce,oe,Z){var be,Te={},Fe=null;if(oe!=null)for(be in oe.key!==void 0&&(Fe=""+oe.key),oe)ve.call(oe,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Te[be]=oe[be]);var ct=arguments.length-2;if(ct===1)Te.children=Z;else if(1<ct){for(var At=Array(ct),rt=0;rt<ct;rt++)At[rt]=arguments[rt+2];Te.children=At}if(ce&&ce.defaultProps)for(be in ct=ce.defaultProps,ct)Te[be]===void 0&&(Te[be]=ct[be]);return Se(ce,Fe,Te)},ci.createRef=function(){return{current:null}},ci.forwardRef=function(ce){return{$$typeof:d,render:ce}},ci.isValidElement=Ue,ci.lazy=function(ce){return{$$typeof:v,_payload:{_status:-1,_result:ce},_init:lt}},ci.memo=function(ce,oe){return{$$typeof:u,type:ce,compare:oe===void 0?null:oe}},ci.startTransition=function(ce){var oe=ne.T,Z={};ne.T=Z;try{var be=ce(),Te=ne.S;Te!==null&&Te(Z,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(J,Me)}catch(Fe){Me(Fe)}finally{oe!==null&&Z.types!==null&&(oe.types=Z.types),ne.T=oe}},ci.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ci.use=function(ce){return ne.H.use(ce)},ci.useActionState=function(ce,oe,Z){return ne.H.useActionState(ce,oe,Z)},ci.useCallback=function(ce,oe){return ne.H.useCallback(ce,oe)},ci.useContext=function(ce){return ne.H.useContext(ce)},ci.useDebugValue=function(){},ci.useDeferredValue=function(ce,oe){return ne.H.useDeferredValue(ce,oe)},ci.useEffect=function(ce,oe){return ne.H.useEffect(ce,oe)},ci.useEffectEvent=function(ce){return ne.H.useEffectEvent(ce)},ci.useId=function(){return ne.H.useId()},ci.useImperativeHandle=function(ce,oe,Z){return ne.H.useImperativeHandle(ce,oe,Z)},ci.useInsertionEffect=function(ce,oe){return ne.H.useInsertionEffect(ce,oe)},ci.useLayoutEffect=function(ce,oe){return ne.H.useLayoutEffect(ce,oe)},ci.useMemo=function(ce,oe){return ne.H.useMemo(ce,oe)},ci.useOptimistic=function(ce,oe){return ne.H.useOptimistic(ce,oe)},ci.useReducer=function(ce,oe,Z){return ne.H.useReducer(ce,oe,Z)},ci.useRef=function(ce){return ne.H.useRef(ce)},ci.useState=function(ce){return ne.H.useState(ce)},ci.useSyncExternalStore=function(ce,oe,Z){return ne.H.useSyncExternalStore(ce,oe,Z)},ci.useTransition=function(){return ne.H.useTransition()},ci.version="19.2.3",ci}var P4;function Rd(){return P4||(P4=1,xv.exports=QT()),xv.exports}var Re=Rd();const Dn=F0(Re);var bv={exports:{}},l1={},wv={exports:{}},Cv={};var z4;function JT(){return z4||(z4=1,(function(e){function t(me,Ie){var lt=me.length;me.push(Ie);e:for(;0<lt;){var Me=lt-1>>>1,ue=me[Me];if(0<o(ue,Ie))me[Me]=Ie,me[lt]=ue,lt=Me;else break e}}function n(me){return me.length===0?null:me[0]}function r(me){if(me.length===0)return null;var Ie=me[0],lt=me.pop();if(lt!==Ie){me[0]=lt;e:for(var Me=0,ue=me.length,ce=ue>>>1;Me<ce;){var oe=2*(Me+1)-1,Z=me[oe],be=oe+1,Te=me[be];if(0>o(Z,lt))be<ue&&0>o(Te,Z)?(me[Me]=Te,me[be]=lt,Me=be):(me[Me]=Z,me[oe]=lt,Me=oe);else if(be<ue&&0>o(Te,lt))me[Me]=Te,me[be]=lt,Me=be;else break e}}return Ie}function o(me,Ie){var lt=me.sortIndex-Ie.sortIndex;return lt!==0?lt:me.id-Ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var y=Date,d=y.now();e.unstable_now=function(){return y.now()-d}}var a=[],u=[],v=1,f=null,g=3,m=!1,C=!1,D=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function W(me){for(var Ie=n(u);Ie!==null;){if(Ie.callback===null)r(u);else if(Ie.startTime<=me)r(u),Ie.sortIndex=Ie.expirationTime,t(a,Ie);else break;Ie=n(u)}}function q(me){if(D=!1,W(me),!C)if(n(a)!==null)C=!0,J||(J=!0,qe());else{var Ie=n(u);Ie!==null&&ge(q,Ie.startTime-me)}}var J=!1,ne=-1,ve=5,Se=-1;function Be(){return S?!0:!(e.unstable_now()-Se<ve)}function Ue(){if(S=!1,J){var me=e.unstable_now();Se=me;var Ie=!0;try{e:{C=!1,D&&(D=!1,N(ne),ne=-1),m=!0;var lt=g;try{t:{for(W(me),f=n(a);f!==null&&!(f.expirationTime>me&&Be());){var Me=f.callback;if(typeof Me=="function"){f.callback=null,g=f.priorityLevel;var ue=Me(f.expirationTime<=me);if(me=e.unstable_now(),typeof ue=="function"){f.callback=ue,W(me),Ie=!0;break t}f===n(a)&&r(a),W(me)}else r(a);f=n(a)}if(f!==null)Ie=!0;else{var ce=n(u);ce!==null&&ge(q,ce.startTime-me),Ie=!1}}break e}finally{f=null,g=lt,m=!1}Ie=void 0}}finally{Ie?qe():J=!1}}}var qe;if(typeof U=="function")qe=function(){U(Ue)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,ut=mt.port2;mt.port1.onmessage=Ue,qe=function(){ut.postMessage(null)}}else qe=function(){O(Ue,0)};function ge(me,Ie){ne=O(function(){me(e.unstable_now())},Ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(me){me.callback=null},e.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<me?Math.floor(1e3/me):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(me){switch(g){case 1:case 2:case 3:var Ie=3;break;default:Ie=g}var lt=g;g=Ie;try{return me()}finally{g=lt}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(me,Ie){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var lt=g;g=me;try{return Ie()}finally{g=lt}},e.unstable_scheduleCallback=function(me,Ie,lt){var Me=e.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Me+lt:Me):lt=Me,me){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=lt+ue,me={id:v++,callback:Ie,priorityLevel:me,startTime:lt,expirationTime:ue,sortIndex:-1},lt>Me?(me.sortIndex=lt,t(u,me),n(a)===null&&me===n(u)&&(D?(N(ne),ne=-1):D=!0,ge(q,lt-Me))):(me.sortIndex=ue,t(a,me),C||m||(C=!0,J||(J=!0,qe()))),me},e.unstable_shouldYield=Be,e.unstable_wrapCallback=function(me){var Ie=g;return function(){var lt=g;g=Ie;try{return me.apply(this,arguments)}finally{g=lt}}}})(Cv)),Cv}var H4;function $T(){return H4||(H4=1,wv.exports=JT()),wv.exports}var Sv={exports:{}},$l={};var U4;function e9(){if(U4)return $l;U4=1;var e=Rd();function t(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(a,u,v){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:a,containerInfo:u,implementation:v}}var y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(a,u){if(a==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return $l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$l.createPortal=function(a,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return c(a,u,null,v)},$l.flushSync=function(a){var u=y.T,v=r.p;try{if(y.T=null,r.p=2,a)return a()}finally{y.T=u,r.p=v,r.d.f()}},$l.preconnect=function(a,u){typeof a=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(a,u))},$l.prefetchDNS=function(a){typeof a=="string"&&r.d.D(a)},$l.preinit=function(a,u){if(typeof a=="string"&&u&&typeof u.as=="string"){var v=u.as,f=d(v,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;v==="style"?r.d.S(a,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:m}):v==="script"&&r.d.X(a,{crossOrigin:f,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},$l.preinitModule=function(a,u){if(typeof a=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var v=d(u.as,u.crossOrigin);r.d.M(a,{crossOrigin:v,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(a)},$l.preload=function(a,u){if(typeof a=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var v=u.as,f=d(v,u.crossOrigin);r.d.L(a,v,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},$l.preloadModule=function(a,u){if(typeof a=="string")if(u){var v=d(u.as,u.crossOrigin);r.d.m(a,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:v,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(a)},$l.requestFormReset=function(a){r.d.r(a)},$l.unstable_batchedUpdates=function(a,u){return a(u)},$l.useFormState=function(a,u,v){return y.H.useFormState(a,u,v)},$l.useFormStatus=function(){return y.H.useHostTransitionStatus()},$l.version="19.2.3",$l}var j4;function rm(){if(j4)return Sv.exports;j4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sv.exports=e9(),Sv.exports}var W4;function t9(){if(W4)return l1;W4=1;var e=$T(),t=Rd(),n=rm();function r(i){var h="https://react.dev/errors/"+i;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)h+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+i+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var h=i,E=i;if(i.alternate)for(;h.return;)h=h.return;else{i=h;do h=i,(h.flags&4098)!==0&&(E=h.return),i=h.return;while(i)}return h.tag===3?E:null}function y(i){if(i.tag===13){var h=i.memoizedState;if(h===null&&(i=i.alternate,i!==null&&(h=i.memoizedState)),h!==null)return h.dehydrated}return null}function d(i){if(i.tag===31){var h=i.memoizedState;if(h===null&&(i=i.alternate,i!==null&&(h=i.memoizedState)),h!==null)return h.dehydrated}return null}function a(i){if(c(i)!==i)throw Error(r(188))}function u(i){var h=i.alternate;if(!h){if(h=c(i),h===null)throw Error(r(188));return h!==i?null:i}for(var E=i,I=h;;){var G=E.return;if(G===null)break;var K=G.alternate;if(K===null){if(I=G.return,I!==null){E=I;continue}break}if(G.child===K.child){for(K=G.child;K;){if(K===E)return a(G),i;if(K===I)return a(G),h;K=K.sibling}throw Error(r(188))}if(E.return!==I.return)E=G,I=K;else{for(var Ce=!1,je=G.child;je;){if(je===E){Ce=!0,E=G,I=K;break}if(je===I){Ce=!0,I=G,E=K;break}je=je.sibling}if(!Ce){for(je=K.child;je;){if(je===E){Ce=!0,E=K,I=G;break}if(je===I){Ce=!0,I=K,E=G;break}je=je.sibling}if(!Ce)throw Error(r(189))}}if(E.alternate!==I)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?i:h}function v(i){var h=i.tag;if(h===5||h===26||h===27||h===6)return i;for(i=i.child;i!==null;){if(h=v(i),h!==null)return h;i=i.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function qe(i){return i===null||typeof i!="object"?null:(i=Ue&&i[Ue]||i["@@iterator"],typeof i=="function"?i:null)}var mt=Symbol.for("react.client.reference");function ut(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===mt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case O:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case Se:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case U:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case W:var h=i.render;return i=i.displayName,i||(i=h.displayName||h.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ne:return h=i.displayName||null,h!==null?h:ut(i.type)||"Memo";case ve:h=i._payload,i=i._init;try{return ut(i(h))}catch{}}return null}var ge=Array.isArray,me=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Me=[],ue=-1;function ce(i){return{current:i}}function oe(i){0>ue||(i.current=Me[ue],Me[ue]=null,ue--)}function Z(i,h){ue++,Me[ue]=i.current,i.current=h}var be=ce(null),Te=ce(null),Fe=ce(null),ct=ce(null);function At(i,h){switch(Z(Fe,h),Z(Te,i),Z(be,null),h.nodeType){case 9:case 11:i=(i=h.documentElement)&&(i=i.namespaceURI)?i4(i):0;break;default:if(i=h.tagName,h=h.namespaceURI)h=i4(h),i=a4(h,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(be),Z(be,i)}function rt(){oe(be),oe(Te),oe(Fe)}function jt(i){i.memoizedState!==null&&Z(ct,i);var h=be.current,E=a4(h,i.type);h!==E&&(Z(Te,i),Z(be,E))}function _t(i){Te.current===i&&(oe(be),oe(Te)),ct.current===i&&(oe(ct),r1._currentValue=lt)}var Wt,ft;function kt(i){if(Wt===void 0)try{throw Error()}catch(E){var h=E.stack.trim().match(/\n( *(at )?)/);Wt=h&&h[1]||"",ft=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+i+ft}var Dt=!1;function tn(i,h){if(!i||Dt)return"";Dt=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(h){var bn=function(){throw Error()};if(Object.defineProperty(bn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bn,[])}catch(ln){var rn=ln}Reflect.construct(i,[],bn)}else{try{bn.call()}catch(ln){rn=ln}i.call(bn.prototype)}}else{try{throw Error()}catch(ln){rn=ln}(bn=i())&&typeof bn.catch=="function"&&bn.catch(function(){})}}catch(ln){if(ln&&rn&&typeof ln.stack=="string")return[ln.stack,rn.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=I.DetermineComponentFrameRoot(),Ce=K[0],je=K[1];if(Ce&&je){var Tt=Ce.split(`
`),en=je.split(`
`);for(G=I=0;I<Tt.length&&!Tt[I].includes("DetermineComponentFrameRoot");)I++;for(;G<en.length&&!en[G].includes("DetermineComponentFrameRoot");)G++;if(I===Tt.length||G===en.length)for(I=Tt.length-1,G=en.length-1;1<=I&&0<=G&&Tt[I]!==en[G];)G--;for(;1<=I&&0<=G;I--,G--)if(Tt[I]!==en[G]){if(I!==1||G!==1)do if(I--,G--,0>G||Tt[I]!==en[G]){var fn=`
`+Tt[I].replace(" at new "," at ");return i.displayName&&fn.includes("<anonymous>")&&(fn=fn.replace("<anonymous>",i.displayName)),fn}while(1<=I&&0<=G);break}}}finally{Dt=!1,Error.prepareStackTrace=E}return(E=i?i.displayName||i.name:"")?kt(E):""}function zt(i,h){switch(i.tag){case 26:case 27:case 5:return kt(i.type);case 16:return kt("Lazy");case 13:return i.child!==h&&h!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return tn(i.type,!1);case 11:return tn(i.type.render,!1);case 1:return tn(i.type,!0);case 31:return kt("Activity");default:return""}}function Ut(i){try{var h="",E=null;do h+=zt(i,E),E=i,i=i.return;while(i);return h}catch(I){return`
Error generating stack: `+I.message+`
`+I.stack}}var Kt=Object.prototype.hasOwnProperty,un=e.unstable_scheduleCallback,Xt=e.unstable_cancelCallback,Zt=e.unstable_shouldYield,Bn=e.unstable_requestPaint,gt=e.unstable_now,dt=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,xe=e.unstable_UserBlockingPriority,Ee=e.unstable_NormalPriority,Ze=e.unstable_LowPriority,re=e.unstable_IdlePriority,we=e.log,Ve=e.unstable_setDisableYieldValue,it=null,We=null;function Ct(i){if(typeof we=="function"&&Ve(i),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(it,i)}catch{}}var Ye=Math.clz32?Math.clz32:yt,at=Math.log,St=Math.LN2;function yt(i){return i>>>=0,i===0?32:31-(at(i)/St|0)|0}var Ft=256,pn=262144,Cn=4194304;function vn(i){var h=i&42;if(h!==0)return h;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $n(i,h,E){var I=i.pendingLanes;if(I===0)return 0;var G=0,K=i.suspendedLanes,Ce=i.pingedLanes;i=i.warmLanes;var je=I&134217727;return je!==0?(I=je&~K,I!==0?G=vn(I):(Ce&=je,Ce!==0?G=vn(Ce):E||(E=je&~i,E!==0&&(G=vn(E))))):(je=I&~K,je!==0?G=vn(je):Ce!==0?G=vn(Ce):E||(E=I&~i,E!==0&&(G=vn(E)))),G===0?0:h!==0&&h!==G&&(h&K)===0&&(K=G&-G,E=h&-h,K>=E||K===32&&(E&4194048)!==0)?h:G}function Yn(i,h){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&h)===0}function er(i,h){switch(i){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var i=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),i}function xr(i){for(var h=[],E=0;31>E;E++)h.push(i);return h}function Br(i,h){i.pendingLanes|=h,h!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mr(i,h,E,I,G,K){var Ce=i.pendingLanes;i.pendingLanes=E,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=E,i.entangledLanes&=E,i.errorRecoveryDisabledLanes&=E,i.shellSuspendCounter=0;var je=i.entanglements,Tt=i.expirationTimes,en=i.hiddenUpdates;for(E=Ce&~E;0<E;){var fn=31-Ye(E),bn=1<<fn;je[fn]=0,Tt[fn]=-1;var rn=en[fn];if(rn!==null)for(en[fn]=null,fn=0;fn<rn.length;fn++){var ln=rn[fn];ln!==null&&(ln.lane&=-536870913)}E&=~bn}I!==0&&Mi(i,I,0),K!==0&&G===0&&i.tag!==0&&(i.suspendedLanes|=K&~(Ce&~h))}function Mi(i,h,E){i.pendingLanes|=h,i.suspendedLanes&=~h;var I=31-Ye(h);i.entangledLanes|=h,i.entanglements[I]=i.entanglements[I]|1073741824|E&261930}function Jn(i,h){var E=i.entangledLanes|=h;for(i=i.entanglements;E;){var I=31-Ye(E),G=1<<I;G&h|i[I]&h&&(i[I]|=h),E&=~G}}function Fr(i,h){var E=h&-h;return E=(E&42)!==0?1:si(E),(E&(i.suspendedLanes|h))!==0?0:E}function si(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vi(){var i=Ie.p;return i!==0?i:(i=window.event,i===void 0?32:k4(i.type))}function Sn(i,h){var E=Ie.p;try{return Ie.p=i,h()}finally{Ie.p=E}}var vr=Math.random().toString(36).slice(2),Pr="__reactFiber$"+vr,ar="__reactProps$"+vr,fi="__reactContainer$"+vr,yi="__reactEvents$"+vr,xi="__reactListeners$"+vr,Tr="__reactHandles$"+vr,zr="__reactResources$"+vr,gr="__reactMarker$"+vr;function aa(i){delete i[Pr],delete i[ar],delete i[yi],delete i[xi],delete i[Tr]}function Hr(i){var h=i[Pr];if(h)return h;for(var E=i.parentNode;E;){if(h=E[fi]||E[Pr]){if(E=h.alternate,h.child!==null||E!==null&&E.child!==null)for(i=h4(i);i!==null;){if(E=i[Pr])return E;i=h4(i)}return h}i=E,E=i.parentNode}return null}function or(i){if(i=i[Pr]||i[fi]){var h=i.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return i}return null}function co(i){var h=i.tag;if(h===5||h===26||h===27||h===6)return i.stateNode;throw Error(r(33))}function bi(i){var h=i[zr];return h||(h=i[zr]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ri(i){i[gr]=!0}var hn=new Set,wi={};function mn(i,h){Ki(i,h),Ki(i+"Capture",h)}function Ki(i,h){for(wi[i]=h,i=0;i<h.length;i++)hn.add(h[i])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),br={},Xn={};function fr(i){return Kt.call(Xn,i)?!0:Kt.call(br,i)?!1:Bo.test(i)?Xn[i]=!0:(br[i]=!0,!1)}function Or(i,h,E){if(fr(h))if(E===null)i.removeAttribute(h);else{switch(typeof E){case"undefined":case"function":case"symbol":i.removeAttribute(h);return;case"boolean":var I=h.toLowerCase().slice(0,5);if(I!=="data-"&&I!=="aria-"){i.removeAttribute(h);return}}i.setAttribute(h,""+E)}}function fo(i,h,E){if(E===null)i.removeAttribute(h);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttribute(h,""+E)}}function cn(i,h,E,I){if(I===null)i.removeAttribute(E);else{switch(typeof I){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(E);return}i.setAttributeNS(h,E,""+I)}}function On(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zi(i){var h=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function hl(i,h,E){var I=Object.getOwnPropertyDescriptor(i.constructor.prototype,h);if(!i.hasOwnProperty(h)&&typeof I<"u"&&typeof I.get=="function"&&typeof I.set=="function"){var G=I.get,K=I.set;return Object.defineProperty(i,h,{configurable:!0,get:function(){return G.call(this)},set:function(Ce){E=""+Ce,K.call(this,Ce)}}),Object.defineProperty(i,h,{enumerable:I.enumerable}),{getValue:function(){return E},setValue:function(Ce){E=""+Ce},stopTracking:function(){i._valueTracker=null,delete i[h]}}}}function Ai(i){if(!i._valueTracker){var h=Zi(i)?"checked":"value";i._valueTracker=hl(i,h,""+i[h])}}function ka(i){if(!i)return!1;var h=i._valueTracker;if(!h)return!0;var E=h.getValue(),I="";return i&&(I=Zi(i)?i.checked?"true":"false":i.value),i=I,i!==E?(h.setValue(i),!0):!1}function pr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zn=/[\n"\\]/g;function Ir(i){return i.replace(Zn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Ti(i,h,E,I,G,K,Ce,je){i.name="",Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?i.type=Ce:i.removeAttribute("type"),h!=null?Ce==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+On(h)):i.value!==""+On(h)&&(i.value=""+On(h)):Ce!=="submit"&&Ce!=="reset"||i.removeAttribute("value"),h!=null?Qe(i,Ce,On(h)):E!=null?Qe(i,Ce,On(E)):I!=null&&i.removeAttribute("value"),G==null&&K!=null&&(i.defaultChecked=!!K),G!=null&&(i.checked=G&&typeof G!="function"&&typeof G!="symbol"),je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"?i.name=""+On(je):i.removeAttribute("name")}function Ht(i,h,E,I,G,K,Ce,je){if(K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(i.type=K),h!=null||E!=null){if(!(K!=="submit"&&K!=="reset"||h!=null)){Ai(i);return}E=E!=null?""+On(E):"",h=h!=null?""+On(h):E,je||h===i.value||(i.value=h),i.defaultValue=h}I=I??G,I=typeof I!="function"&&typeof I!="symbol"&&!!I,i.checked=je?i.checked:!!I,i.defaultChecked=!!I,Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"&&(i.name=Ce),Ai(i)}function Qe(i,h,E){h==="number"&&pr(i.ownerDocument)===i||i.defaultValue===""+E||(i.defaultValue=""+E)}function Gn(i,h,E,I){if(i=i.options,h){h={};for(var G=0;G<E.length;G++)h["$"+E[G]]=!0;for(E=0;E<i.length;E++)G=h.hasOwnProperty("$"+i[E].value),i[E].selected!==G&&(i[E].selected=G),G&&I&&(i[E].defaultSelected=!0)}else{for(E=""+On(E),h=null,G=0;G<i.length;G++){if(i[G].value===E){i[G].selected=!0,I&&(i[G].defaultSelected=!0);return}h!==null||i[G].disabled||(h=i[G])}h!==null&&(h.selected=!0)}}function Di(i,h,E){if(h!=null&&(h=""+On(h),h!==i.value&&(i.value=h),E==null)){i.defaultValue!==h&&(i.defaultValue=h);return}i.defaultValue=E!=null?""+On(E):""}function pa(i,h,E,I){if(h==null){if(I!=null){if(E!=null)throw Error(r(92));if(ge(I)){if(1<I.length)throw Error(r(93));I=I[0]}E=I}E==null&&(E=""),h=E}E=On(h),i.defaultValue=E,I=i.textContent,I===E&&I!==""&&I!==null&&(i.value=I),Ai(i)}function nt(i,h){if(h){var E=i.firstChild;if(E&&E===i.lastChild&&E.nodeType===3){E.nodeValue=h;return}}i.textContent=h}var Gt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function It(i,h,E){var I=h.indexOf("--")===0;E==null||typeof E=="boolean"||E===""?I?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="":I?i.setProperty(h,E):typeof E!="number"||E===0||Gt.has(h)?h==="float"?i.cssFloat=E:i[h]=(""+E).trim():i[h]=E+"px"}function nn(i,h,E){if(h!=null&&typeof h!="object")throw Error(r(62));if(i=i.style,E!=null){for(var I in E)!E.hasOwnProperty(I)||h!=null&&h.hasOwnProperty(I)||(I.indexOf("--")===0?i.setProperty(I,""):I==="float"?i.cssFloat="":i[I]="");for(var G in h)I=h[G],h.hasOwnProperty(G)&&E[G]!==I&&It(i,G,I)}else for(var K in h)h.hasOwnProperty(K)&&It(i,K,h[K])}function xn(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),En=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(i){return En.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $r(){}var Rr=null;function ei(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ur=null,Jr=null;function kr(i){var h=or(i);if(h&&(i=h.stateNode)){var E=i[ar]||null;e:switch(i=h.stateNode,h.type){case"input":if(Ti(i,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name),h=E.name,E.type==="radio"&&h!=null){for(E=i;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll('input[name="'+Ir(""+h)+'"][type="radio"]'),h=0;h<E.length;h++){var I=E[h];if(I!==i&&I.form===i.form){var G=I[ar]||null;if(!G)throw Error(r(90));Ti(I,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name)}}for(h=0;h<E.length;h++)I=E[h],I.form===i.form&&ka(I)}break e;case"textarea":Di(i,E.value,E.defaultValue);break e;case"select":h=E.value,h!=null&&Gn(i,!!E.multiple,h,!1)}}}var Vn=!1;function xa(i,h,E){if(Vn)return i(h,E);Vn=!0;try{var I=i(h);return I}finally{if(Vn=!1,(Ur!==null||Jr!==null)&&(mg(),Ur&&(h=Ur,i=Jr,Jr=Ur=null,kr(h),i)))for(h=0;h<i.length;h++)kr(i[h])}}function tr(i,h){var E=i.stateNode;if(E===null)return null;var I=E[ar]||null;if(I===null)return null;E=I[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(i=i.type,I=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!I;break e;default:i=!1}if(i)return null;if(E&&typeof E!="function")throw Error(r(231,h,typeof E));return E}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hi=!1;if(Kr)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{hi=!1}var wo=null,Fo=null,As=null;function Co(){if(As)return As;var i,h=Fo,E=h.length,I,G="value"in wo?wo.value:wo.textContent,K=G.length;for(i=0;i<E&&h[i]===G[i];i++);var Ce=E-i;for(I=1;I<=Ce&&h[E-I]===G[K-I];I++);return As=G.slice(i,1<I?1-I:void 0)}function ho(i){var h=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&h===13&&(i=13)):i=h,i===10&&(i=13),32<=i||i===13?i:0}function io(){return!0}function us(){return!1}function qi(i){function h(E,I,G,K,Ce){this._reactName=E,this._targetInst=G,this.type=I,this.nativeEvent=K,this.target=Ce,this.currentTarget=null;for(var je in i)i.hasOwnProperty(je)&&(E=i[je],this[je]=E?E(K):K[je]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?io:us,this.isPropagationStopped=us,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),h}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=qi(_a),Ts=f({},_a,{view:0,detail:0}),Ds=qi(Ts),Ma,vu,Ul,kl=f({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ul&&(Ul&&i.type==="mousemove"?(Ma=i.screenX-Ul.screenX,vu=i.screenY-Ul.screenY):vu=Ma=0,Ul=i),Ma)},movementY:function(i){return"movementY"in i?i.movementY:vu}}),gi=qi(kl),ks=f({},kl,{dataTransfer:0}),_l=qi(ks),Fa=f({},Ts,{relatedTarget:0}),_s=qi(Fa),Qt=f({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=qi(Qt),Va=f({},_a,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cs=qi(Va),yu=f({},_a,{data:0}),jl=qi(yu),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qi(i){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(i):(i=Oa[i])?!!h[i]:!1}function Fs(){return Qi}var Ni=f({},Ts,{key:function(i){if(i.key){var h=nu[i.key]||i.key;if(h!=="Unidentified")return h}return i.type==="keypress"?(i=ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(i){return i.type==="keypress"?ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dl=qi(Ni),gl=f({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=qi(gl),jn=f({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),Vo=qi(jn),di=f({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),fs=qi(di),qs=f({},kl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=qi(qs),oi=f({},_a,{newState:0,oldState:0}),pl=qi(oi),Ps=[9,13,27,32],Ji=Kr&&"CompositionEvent"in window,zo=null;Kr&&"documentMode"in document&&(zo=document.documentMode);var Li=Kr&&"TextEvent"in window&&!zo,Ko=Kr&&(!Ji||zo&&8<zo&&11>=zo),Zo=" ",Qs=!1;function xu(i,h){switch(i){case"keyup":return Ps.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ml(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Js=!1;function qo(i,h){switch(i){case"compositionend":return ml(h);case"keypress":return h.which!==32?null:(Qs=!0,Zo);case"textInput":return i=h.data,i===Zo&&Qs?null:i;default:return null}}function Ml(i,h){if(Js)return i==="compositionend"||!Ji&&xu(i,h)?(i=Co(),As=Fo=wo=null,Js=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Ko&&h.locale!=="ko"?null:h.data;default:return null}}var Bi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function So(i){var h=i&&i.nodeName&&i.nodeName.toLowerCase();return h==="input"?!!Bi[i.type]:h==="textarea"}function Ka(i,h,E,I){Ur?Jr?Jr.push(I):Jr=[I]:Ur=I,h=Sg(h,"onChange"),0<h.length&&(E=new Ea("onChange","change",null,E,I),i.push({event:E,listeners:h}))}var hs=null,Ms=null;function Qo(i){Jb(i,0)}function Ho(i){var h=co(i);if(ka(h))return i}function Pa(i,h){if(i==="change")return h}var Ui=!1;if(Kr){var $i;if(Kr){var go="oninput"in document;if(!go){var Er=document.createElement("div");Er.setAttribute("oninput","return;"),go=typeof Er.oninput=="function"}$i=go}else $i=!1;Ui=$i&&(!document.documentMode||9<document.documentMode)}function $s(){hs&&(hs.detachEvent("onpropertychange",_e),Ms=hs=null)}function _e(i){if(i.propertyName==="value"&&Ho(Ms)){var h=[];Ka(h,Ms,i,ei(i)),xa(Qo,h)}}function s(i,h,E){i==="focusin"?($s(),hs=h,Ms=E,hs.attachEvent("onpropertychange",_e)):i==="focusout"&&$s()}function p(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ho(Ms)}function w(i,h){if(i==="click")return Ho(h)}function A(i,h){if(i==="input"||i==="change")return Ho(h)}function k(i,h){return i===h&&(i!==0||1/i===1/h)||i!==i&&h!==h}var L=typeof Object.is=="function"?Object.is:k;function b(i,h){if(L(i,h))return!0;if(typeof i!="object"||i===null||typeof h!="object"||h===null)return!1;var E=Object.keys(i),I=Object.keys(h);if(E.length!==I.length)return!1;for(I=0;I<E.length;I++){var G=E[I];if(!Kt.call(h,G)||!L(i[G],h[G]))return!1}return!0}function T(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function B(i,h){var E=T(i);i=0;for(var I;E;){if(E.nodeType===3){if(I=i+E.textContent.length,i<=h&&I>=h)return{node:E,offset:h-i};i=I}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=T(E)}}function j(i,h){return i&&h?i===h?!0:i&&i.nodeType===3?!1:h&&h.nodeType===3?j(i,h.parentNode):"contains"in i?i.contains(h):i.compareDocumentPosition?!!(i.compareDocumentPosition(h)&16):!1:!1}function V(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var h=pr(i.document);h instanceof i.HTMLIFrameElement;){try{var E=typeof h.contentWindow.location.href=="string"}catch{E=!1}if(E)i=h.contentWindow;else break;h=pr(i.document)}return h}function ee(i){var h=i&&i.nodeName&&i.nodeName.toLowerCase();return h&&(h==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||h==="textarea"||i.contentEditable==="true")}var he=Kr&&"documentMode"in document&&11>=document.documentMode,Ae=null,Oe=null,Le=null,Xe=!1;function Ke(i,h,E){var I=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Xe||Ae==null||Ae!==pr(I)||(I=Ae,"selectionStart"in I&&ee(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),Le&&b(Le,I)||(Le=I,I=Sg(Oe,"onSelect"),0<I.length&&(h=new Ea("onSelect","select",null,h,E),i.push({event:h,listeners:I}),h.target=Ae)))}function ot(i,h){var E={};return E[i.toLowerCase()]=h.toLowerCase(),E["Webkit"+i]="webkit"+h,E["Moz"+i]="moz"+h,E}var Je={animationend:ot("Animation","AnimationEnd"),animationiteration:ot("Animation","AnimationIteration"),animationstart:ot("Animation","AnimationStart"),transitionrun:ot("Transition","TransitionRun"),transitionstart:ot("Transition","TransitionStart"),transitioncancel:ot("Transition","TransitionCancel"),transitionend:ot("Transition","TransitionEnd")},wt={},R={};Kr&&(R=document.createElement("div").style,"AnimationEvent"in window||(delete Je.animationend.animation,delete Je.animationiteration.animation,delete Je.animationstart.animation),"TransitionEvent"in window||delete Je.transitionend.transition);function P(i){if(wt[i])return wt[i];if(!Je[i])return i;var h=Je[i],E;for(E in h)if(h.hasOwnProperty(E)&&E in R)return wt[i]=h[E];return i}var Y=P("animationend"),$=P("animationiteration"),ae=P("animationstart"),De=P("transitionrun"),ze=P("transitionstart"),vt=P("transitioncancel"),tt=P("transitionend"),xt=new Map,Rt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rt.push("scrollEnd");function Et(i,h){xt.set(i,h),mn(h,[i])}var Vt=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},dn=[],Nn=0,In=0;function rr(){for(var i=Nn,h=In=Nn=0;h<i;){var E=dn[h];dn[h++]=null;var I=dn[h];dn[h++]=null;var G=dn[h];dn[h++]=null;var K=dn[h];if(dn[h++]=null,I!==null&&G!==null){var Ce=I.pending;Ce===null?G.next=G:(G.next=Ce.next,Ce.next=G),I.pending=G}K!==0&&ea(E,G,K)}}function Rn(i,h,E,I){dn[Nn++]=i,dn[Nn++]=h,dn[Nn++]=E,dn[Nn++]=I,In|=I,i.lanes|=I,i=i.alternate,i!==null&&(i.lanes|=I)}function sr(i,h,E,I){return Rn(i,h,E,I),wr(i)}function _r(i,h){return Rn(i,null,null,h),wr(i)}function ea(i,h,E){i.lanes|=E;var I=i.alternate;I!==null&&(I.lanes|=E);for(var G=!1,K=i.return;K!==null;)K.childLanes|=E,I=K.alternate,I!==null&&(I.childLanes|=E),K.tag===22&&(i=K.stateNode,i===null||i._visibility&1||(G=!0)),i=K,K=K.return;return i.tag===3?(K=i.stateNode,G&&h!==null&&(G=31-Ye(E),i=K.hiddenUpdates,I=i[G],I===null?i[G]=[h]:I.push(h),h.lane=E|536870912),K):null}function wr(i){if(50<qd)throw qd=0,jm=null,Error(r(185));for(var h=i.return;h!==null;)i=h,h=i.return;return i.tag===3?i.stateNode:null}var jr={};function ui(i,h,E,I){this.tag=i,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(i,h,E,I){return new ui(i,h,E,I)}function pi(i){return i=i.prototype,!(!i||!i.isReactComponent)}function za(i,h){var E=i.alternate;return E===null?(E=ua(i.tag,h,i.key,i.mode),E.elementType=i.elementType,E.type=i.type,E.stateNode=i.stateNode,E.alternate=i,i.alternate=E):(E.pendingProps=h,E.type=i.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=i.flags&65011712,E.childLanes=i.childLanes,E.lanes=i.lanes,E.child=i.child,E.memoizedProps=i.memoizedProps,E.memoizedState=i.memoizedState,E.updateQueue=i.updateQueue,h=i.dependencies,E.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},E.sibling=i.sibling,E.index=i.index,E.ref=i.ref,E.refCleanup=i.refCleanup,E}function Fi(i,h){i.flags&=65011714;var E=i.alternate;return E===null?(i.childLanes=0,i.lanes=h,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=E.childLanes,i.lanes=E.lanes,i.child=E.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=E.memoizedProps,i.memoizedState=E.memoizedState,i.updateQueue=E.updateQueue,i.type=E.type,h=E.dependencies,i.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),i}function ca(i,h,E,I,G,K){var Ce=0;if(I=i,typeof i=="function")pi(i)&&(Ce=1);else if(typeof i=="string")Ce=LT(i,E,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Se:return i=ua(31,E,h,G),i.elementType=Se,i.lanes=K,i;case D:return fa(E.children,G,K,h);case S:Ce=8,G|=24;break;case O:return i=ua(12,E,h,G|2),i.elementType=O,i.lanes=K,i;case q:return i=ua(13,E,h,G),i.elementType=q,i.lanes=K,i;case J:return i=ua(19,E,h,G),i.elementType=J,i.lanes=K,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:Ce=10;break e;case N:Ce=9;break e;case W:Ce=11;break e;case ne:Ce=14;break e;case ve:Ce=16,I=null;break e}Ce=29,E=Error(r(130,i===null?"null":typeof i,"")),I=null}return h=ua(Ce,E,h,G),h.elementType=i,h.type=I,h.lanes=K,h}function fa(i,h,E,I){return i=ua(7,i,I,h),i.lanes=E,i}function ma(i,h,E){return i=ua(6,i,null,h),i.lanes=E,i}function Eo(i){var h=ua(18,null,null,0);return h.stateNode=i,h}function ru(i,h,E){return h=ua(4,i.children!==null?i.children:[],i.key,h),h.lanes=E,h.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},h}var zs=new WeakMap;function ds(i,h){if(typeof i=="object"&&i!==null){var E=zs.get(i);return E!==void 0?E:(h={value:i,source:h,stack:Ut(h)},zs.set(i,h),h)}return{value:i,source:h,stack:Ut(h)}}var el=[],Ha=0,po=null,Ao=0,Za=[],Ua=0,gs=null,ji=1,Jo="";function To(i,h){el[Ha++]=Ao,el[Ha++]=po,po=i,Ao=h}function bu(i,h,E){Za[Ua++]=ji,Za[Ua++]=Jo,Za[Ua++]=gs,gs=i;var I=ji;i=Jo;var G=32-Ye(I)-1;I&=~(1<<G),E+=1;var K=32-Ye(h)+G;if(30<K){var Ce=G-G%5;K=(I&(1<<Ce)-1).toString(32),I>>=Ce,G-=Ce,ji=1<<32-Ye(h)+G|E<<G|I,Jo=K+i}else ji=1<<K|E<<G|I,Jo=i}function Ol(i){i.return!==null&&(To(i,1),bu(i,1,0))}function wu(i){for(;i===po;)po=el[--Ha],el[Ha]=null,Ao=el[--Ha],el[Ha]=null;for(;i===gs;)gs=Za[--Ua],Za[Ua]=null,Jo=Za[--Ua],Za[Ua]=null,ji=Za[--Ua],Za[Ua]=null}function iu(i,h){Za[Ua++]=ji,Za[Ua++]=Jo,Za[Ua++]=gs,ji=h.id,Jo=h.overflow,gs=i}var qa=null,va=null,ri=!1,$o=null,Ia=!1,vl=Error(r(519));function Os(i){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qa(ds(h,i)),vl}function ff(i){var h=i.stateNode,E=i.type,I=i.memoizedProps;switch(h[Pr]=i,h[ar]=I,E){case"dialog":Yi("cancel",h),Yi("close",h);break;case"iframe":case"object":case"embed":Yi("load",h);break;case"video":case"audio":for(E=0;E<Jd.length;E++)Yi(Jd[E],h);break;case"source":Yi("error",h);break;case"img":case"image":case"link":Yi("error",h),Yi("load",h);break;case"details":Yi("toggle",h);break;case"input":Yi("invalid",h),Ht(h,I.value,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name,!0);break;case"select":Yi("invalid",h);break;case"textarea":Yi("invalid",h),pa(h,I.value,I.defaultValue,I.children)}E=I.children,typeof E!="string"&&typeof E!="number"&&typeof E!="bigint"||h.textContent===""+E||I.suppressHydrationWarning===!0||n4(h.textContent,E)?(I.popover!=null&&(Yi("beforetoggle",h),Yi("toggle",h)),I.onScroll!=null&&Yi("scroll",h),I.onScrollEnd!=null&&Yi("scrollend",h),I.onClick!=null&&(h.onclick=$r),h=!0):h=!1,h||Os(i,!0)}function tl(i){for(qa=i.return;qa;)switch(qa.tag){case 5:case 31:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:qa=qa.return}}function Wl(i){if(i!==qa)return!1;if(!ri)return tl(i),ri=!0,!1;var h=i.tag,E;if((E=h!==3&&h!==27)&&((E=h===5)&&(E=i.type,E=!(E!=="form"&&E!=="button")||rv(i.type,i.memoizedProps)),E=!E),E&&va&&Os(i),tl(i),h===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));va=f4(i)}else if(h===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));va=f4(i)}else h===27?(h=va,Rh(i.type)?(i=lv,lv=null,va=i):va=h):va=qa?_c(i.stateNode.nextSibling):null;return!0}function yl(){va=qa=null,ri=!1}function Cu(){var i=$o;return i!==null&&(Fu===null?Fu=i:Fu.push.apply(Fu,i),$o=null),i}function Qa(i){$o===null?$o=[i]:$o.push(i)}var oa=ce(null),Ra=null,Zr=null;function Do(i,h,E){Z(oa,h._currentValue),h._currentValue=E}function Hs(i){i._currentValue=oa.current,oe(oa)}function nl(i,h,E){for(;i!==null;){var I=i.alternate;if((i.childLanes&h)!==h?(i.childLanes|=h,I!==null&&(I.childLanes|=h)):I!==null&&(I.childLanes&h)!==h&&(I.childLanes|=h),i===E)break;i=i.return}}function xc(i,h,E,I){var G=i.child;for(G!==null&&(G.return=i);G!==null;){var K=G.dependencies;if(K!==null){var Ce=G.child;K=K.firstContext;e:for(;K!==null;){var je=K;K=G;for(var Tt=0;Tt<h.length;Tt++)if(je.context===h[Tt]){K.lanes|=E,je=K.alternate,je!==null&&(je.lanes|=E),nl(K.return,E,i),I||(Ce=null);break e}K=je.next}}else if(G.tag===18){if(Ce=G.return,Ce===null)throw Error(r(341));Ce.lanes|=E,K=Ce.alternate,K!==null&&(K.lanes|=E),nl(Ce,E,i),Ce=null}else Ce=G.child;if(Ce!==null)Ce.return=G;else for(Ce=G;Ce!==null;){if(Ce===i){Ce=null;break}if(G=Ce.sibling,G!==null){G.return=Ce.return,Ce=G;break}Ce=Ce.return}G=Ce}}function es(i,h,E,I){i=null;for(var G=h,K=!1;G!==null;){if(!K){if((G.flags&524288)!==0)K=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var Ce=G.alternate;if(Ce===null)throw Error(r(387));if(Ce=Ce.memoizedProps,Ce!==null){var je=G.type;L(G.pendingProps.value,Ce.value)||(i!==null?i.push(je):i=[je])}}else if(G===ct.current){if(Ce=G.alternate,Ce===null)throw Error(r(387));Ce.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(i!==null?i.push(r1):i=[r1])}G=G.return}i!==null&&xc(h,i,E,I),h.flags|=262144}function Il(i){for(i=i.firstContext;i!==null;){if(!L(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Is(i){Ra=i,Zr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sa(i){return Yu(Ra,i)}function Ja(i,h){return Ra===null&&Is(i),Yu(i,h)}function Yu(i,h){var E=h._currentValue;if(h={context:h,memoizedValue:E,next:null},Zr===null){if(i===null)throw Error(r(308));Zr=h,i.dependencies={lanes:0,firstContext:h},i.flags|=524288}else Zr=Zr.next=h;return E}var Uo=typeof AbortController<"u"?AbortController:function(){var i=[],h=this.signal={aborted:!1,addEventListener:function(E,I){i.push(I)}};this.abort=function(){h.aborted=!0,i.forEach(function(E){return E()})}},Hc=e.unstable_scheduleCallback,bc=e.unstable_NormalPriority,Aa={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wc(){return{controller:new Uo,data:new Map,refCount:0}}function Xu(i){i.refCount--,i.refCount===0&&Hc(bc,function(){i.controller.abort()})}var ts=null,au=0,ps=0,ta=null;function Vu(i,h){if(ts===null){var E=ts=[];au=0,ps=Km(),ta={status:"pending",value:void 0,then:function(I){E.push(I)}}}return au++,h.then(Ku,Ku),h}function Ku(){if(--au===0&&ts!==null){ta!==null&&(ta.status="fulfilled");var i=ts;ts=null,ps=0,ta=null;for(var h=0;h<i.length;h++)(0,i[h])()}}function Uc(i,h){var E=[],I={status:"pending",value:null,reason:null,then:function(G){E.push(G)}};return i.then(function(){I.status="fulfilled",I.value=h;for(var G=0;G<E.length;G++)(0,E[G])(h)},function(G){for(I.status="rejected",I.reason=G,G=0;G<E.length;G++)(0,E[G])(void 0)}),I}var ns=me.S;me.S=function(i,h){Tb=gt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Vu(i,h),ns!==null&&ns(i,h)};var li=ce(null);function ms(){var i=li.current;return i!==null?i:so.pooledCache}function rl(i,h){h===null?Z(li,li.current):Z(li,h.pool)}function la(){var i=ms();return i===null?null:{parent:Aa._currentValue,pool:i}}var Gl=Error(r(460)),Yl=Error(r(474)),Xl=Error(r(542)),Su={then:function(){}};function Zu(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vl(i,h,E){switch(E=i[E],E===void 0?i.push(h):E!==h&&(h.then($r,$r),h=E),h.status){case"fulfilled":return h.value;case"rejected":throw i=h.reason,jc(i),i;default:if(typeof h.status=="string")h.then($r,$r);else{if(i=so,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=h,i.status="pending",i.then(function(I){if(h.status==="pending"){var G=h;G.status="fulfilled",G.value=I}},function(I){if(h.status==="pending"){var G=h;G.status="rejected",G.reason=I}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw i=h.reason,jc(i),i}throw rs=h,Gl}}function xl(i){try{var h=i._init;return h(i._payload)}catch(E){throw E!==null&&typeof E=="object"&&typeof E.then=="function"?(rs=E,Gl):E}}var rs=null;function ao(){if(rs===null)throw Error(r(459));var i=rs;return rs=null,i}function jc(i){if(i===Gl||i===Xl)throw Error(r(483))}var Us=null,qu=0;function Rs(i){var h=qu;return qu+=1,Us===null&&(Us=[]),Vl(Us,i,h)}function il(i,h){h=h.props.ref,i.ref=h!==void 0?h:null}function al(i,h){throw h.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(h),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":i)))}function Qu(i){function h(Yt,Lt){if(i){var Jt=Yt.deletions;Jt===null?(Yt.deletions=[Lt],Yt.flags|=16):Jt.push(Lt)}}function E(Yt,Lt){if(!i)return null;for(;Lt!==null;)h(Yt,Lt),Lt=Lt.sibling;return null}function I(Yt){for(var Lt=new Map;Yt!==null;)Yt.key!==null?Lt.set(Yt.key,Yt):Lt.set(Yt.index,Yt),Yt=Yt.sibling;return Lt}function G(Yt,Lt){return Yt=za(Yt,Lt),Yt.index=0,Yt.sibling=null,Yt}function K(Yt,Lt,Jt){return Yt.index=Jt,i?(Jt=Yt.alternate,Jt!==null?(Jt=Jt.index,Jt<Lt?(Yt.flags|=67108866,Lt):Jt):(Yt.flags|=67108866,Lt)):(Yt.flags|=1048576,Lt)}function Ce(Yt){return i&&Yt.alternate===null&&(Yt.flags|=67108866),Yt}function je(Yt,Lt,Jt,yn){return Lt===null||Lt.tag!==6?(Lt=ma(Jt,Yt.mode,yn),Lt.return=Yt,Lt):(Lt=G(Lt,Jt),Lt.return=Yt,Lt)}function Tt(Yt,Lt,Jt,yn){var Lr=Jt.type;return Lr===D?fn(Yt,Lt,Jt.props.children,yn,Jt.key):Lt!==null&&(Lt.elementType===Lr||typeof Lr=="object"&&Lr!==null&&Lr.$$typeof===ve&&xl(Lr)===Lt.type)?(Lt=G(Lt,Jt.props),il(Lt,Jt),Lt.return=Yt,Lt):(Lt=ca(Jt.type,Jt.key,Jt.props,null,Yt.mode,yn),il(Lt,Jt),Lt.return=Yt,Lt)}function en(Yt,Lt,Jt,yn){return Lt===null||Lt.tag!==4||Lt.stateNode.containerInfo!==Jt.containerInfo||Lt.stateNode.implementation!==Jt.implementation?(Lt=ru(Jt,Yt.mode,yn),Lt.return=Yt,Lt):(Lt=G(Lt,Jt.children||[]),Lt.return=Yt,Lt)}function fn(Yt,Lt,Jt,yn,Lr){return Lt===null||Lt.tag!==7?(Lt=fa(Jt,Yt.mode,yn,Lr),Lt.return=Yt,Lt):(Lt=G(Lt,Jt),Lt.return=Yt,Lt)}function bn(Yt,Lt,Jt){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return Lt=ma(""+Lt,Yt.mode,Jt),Lt.return=Yt,Lt;if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case m:return Jt=ca(Lt.type,Lt.key,Lt.props,null,Yt.mode,Jt),il(Jt,Lt),Jt.return=Yt,Jt;case C:return Lt=ru(Lt,Yt.mode,Jt),Lt.return=Yt,Lt;case ve:return Lt=xl(Lt),bn(Yt,Lt,Jt)}if(ge(Lt)||qe(Lt))return Lt=fa(Lt,Yt.mode,Jt,null),Lt.return=Yt,Lt;if(typeof Lt.then=="function")return bn(Yt,Rs(Lt),Jt);if(Lt.$$typeof===U)return bn(Yt,Ja(Yt,Lt),Jt);al(Yt,Lt)}return null}function rn(Yt,Lt,Jt,yn){var Lr=Lt!==null?Lt.key:null;if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number"||typeof Jt=="bigint")return Lr!==null?null:je(Yt,Lt,""+Jt,yn);if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case m:return Jt.key===Lr?Tt(Yt,Lt,Jt,yn):null;case C:return Jt.key===Lr?en(Yt,Lt,Jt,yn):null;case ve:return Jt=xl(Jt),rn(Yt,Lt,Jt,yn)}if(ge(Jt)||qe(Jt))return Lr!==null?null:fn(Yt,Lt,Jt,yn,null);if(typeof Jt.then=="function")return rn(Yt,Lt,Rs(Jt),yn);if(Jt.$$typeof===U)return rn(Yt,Lt,Ja(Yt,Jt),yn);al(Yt,Jt)}return null}function ln(Yt,Lt,Jt,yn,Lr){if(typeof yn=="string"&&yn!==""||typeof yn=="number"||typeof yn=="bigint")return Yt=Yt.get(Jt)||null,je(Lt,Yt,""+yn,Lr);if(typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case m:return Yt=Yt.get(yn.key===null?Jt:yn.key)||null,Tt(Lt,Yt,yn,Lr);case C:return Yt=Yt.get(yn.key===null?Jt:yn.key)||null,en(Lt,Yt,yn,Lr);case ve:return yn=xl(yn),ln(Yt,Lt,Jt,yn,Lr)}if(ge(yn)||qe(yn))return Yt=Yt.get(Jt)||null,fn(Lt,Yt,yn,Lr,null);if(typeof yn.then=="function")return ln(Yt,Lt,Jt,Rs(yn),Lr);if(yn.$$typeof===U)return ln(Yt,Lt,Jt,Ja(Lt,yn),Lr);al(Lt,yn)}return null}function ur(Yt,Lt,Jt,yn){for(var Lr=null,wa=null,yr=Lt,Ci=Lt=0,ia=null;yr!==null&&Ci<Jt.length;Ci++){yr.index>Ci?(ia=yr,yr=null):ia=yr.sibling;var Ca=rn(Yt,yr,Jt[Ci],yn);if(Ca===null){yr===null&&(yr=ia);break}i&&yr&&Ca.alternate===null&&h(Yt,yr),Lt=K(Ca,Lt,Ci),wa===null?Lr=Ca:wa.sibling=Ca,wa=Ca,yr=ia}if(Ci===Jt.length)return E(Yt,yr),ri&&To(Yt,Ci),Lr;if(yr===null){for(;Ci<Jt.length;Ci++)yr=bn(Yt,Jt[Ci],yn),yr!==null&&(Lt=K(yr,Lt,Ci),wa===null?Lr=yr:wa.sibling=yr,wa=yr);return ri&&To(Yt,Ci),Lr}for(yr=I(yr);Ci<Jt.length;Ci++)ia=ln(yr,Yt,Ci,Jt[Ci],yn),ia!==null&&(i&&ia.alternate!==null&&yr.delete(ia.key===null?Ci:ia.key),Lt=K(ia,Lt,Ci),wa===null?Lr=ia:wa.sibling=ia,wa=ia);return i&&yr.forEach(function(Ph){return h(Yt,Ph)}),ri&&To(Yt,Ci),Lr}function qr(Yt,Lt,Jt,yn){if(Jt==null)throw Error(r(151));for(var Lr=null,wa=null,yr=Lt,Ci=Lt=0,ia=null,Ca=Jt.next();yr!==null&&!Ca.done;Ci++,Ca=Jt.next()){yr.index>Ci?(ia=yr,yr=null):ia=yr.sibling;var Ph=rn(Yt,yr,Ca.value,yn);if(Ph===null){yr===null&&(yr=ia);break}i&&yr&&Ph.alternate===null&&h(Yt,yr),Lt=K(Ph,Lt,Ci),wa===null?Lr=Ph:wa.sibling=Ph,wa=Ph,yr=ia}if(Ca.done)return E(Yt,yr),ri&&To(Yt,Ci),Lr;if(yr===null){for(;!Ca.done;Ci++,Ca=Jt.next())Ca=bn(Yt,Ca.value,yn),Ca!==null&&(Lt=K(Ca,Lt,Ci),wa===null?Lr=Ca:wa.sibling=Ca,wa=Ca);return ri&&To(Yt,Ci),Lr}for(yr=I(yr);!Ca.done;Ci++,Ca=Jt.next())Ca=ln(yr,Yt,Ci,Ca.value,yn),Ca!==null&&(i&&Ca.alternate!==null&&yr.delete(Ca.key===null?Ci:Ca.key),Lt=K(Ca,Lt,Ci),wa===null?Lr=Ca:wa.sibling=Ca,wa=Ca);return i&&yr.forEach(function(XT){return h(Yt,XT)}),ri&&To(Yt,Ci),Lr}function no(Yt,Lt,Jt,yn){if(typeof Jt=="object"&&Jt!==null&&Jt.type===D&&Jt.key===null&&(Jt=Jt.props.children),typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case m:e:{for(var Lr=Jt.key;Lt!==null;){if(Lt.key===Lr){if(Lr=Jt.type,Lr===D){if(Lt.tag===7){E(Yt,Lt.sibling),yn=G(Lt,Jt.props.children),yn.return=Yt,Yt=yn;break e}}else if(Lt.elementType===Lr||typeof Lr=="object"&&Lr!==null&&Lr.$$typeof===ve&&xl(Lr)===Lt.type){E(Yt,Lt.sibling),yn=G(Lt,Jt.props),il(yn,Jt),yn.return=Yt,Yt=yn;break e}E(Yt,Lt);break}else h(Yt,Lt);Lt=Lt.sibling}Jt.type===D?(yn=fa(Jt.props.children,Yt.mode,yn,Jt.key),yn.return=Yt,Yt=yn):(yn=ca(Jt.type,Jt.key,Jt.props,null,Yt.mode,yn),il(yn,Jt),yn.return=Yt,Yt=yn)}return Ce(Yt);case C:e:{for(Lr=Jt.key;Lt!==null;){if(Lt.key===Lr)if(Lt.tag===4&&Lt.stateNode.containerInfo===Jt.containerInfo&&Lt.stateNode.implementation===Jt.implementation){E(Yt,Lt.sibling),yn=G(Lt,Jt.children||[]),yn.return=Yt,Yt=yn;break e}else{E(Yt,Lt);break}else h(Yt,Lt);Lt=Lt.sibling}yn=ru(Jt,Yt.mode,yn),yn.return=Yt,Yt=yn}return Ce(Yt);case ve:return Jt=xl(Jt),no(Yt,Lt,Jt,yn)}if(ge(Jt))return ur(Yt,Lt,Jt,yn);if(qe(Jt)){if(Lr=qe(Jt),typeof Lr!="function")throw Error(r(150));return Jt=Lr.call(Jt),qr(Yt,Lt,Jt,yn)}if(typeof Jt.then=="function")return no(Yt,Lt,Rs(Jt),yn);if(Jt.$$typeof===U)return no(Yt,Lt,Ja(Yt,Jt),yn);al(Yt,Jt)}return typeof Jt=="string"&&Jt!==""||typeof Jt=="number"||typeof Jt=="bigint"?(Jt=""+Jt,Lt!==null&&Lt.tag===6?(E(Yt,Lt.sibling),yn=G(Lt,Jt),yn.return=Yt,Yt=yn):(E(Yt,Lt),yn=ma(Jt,Yt.mode,yn),yn.return=Yt,Yt=yn),Ce(Yt)):E(Yt,Lt)}return function(Yt,Lt,Jt,yn){try{qu=0;var Lr=no(Yt,Lt,Jt,yn);return Us=null,Lr}catch(yr){if(yr===Gl||yr===Xl)throw yr;var wa=ua(29,yr,null,Yt.mode);return wa.lanes=yn,wa.return=Yt,wa}}}var vs=Qu(!0),hf=Qu(!1),Kl=!1;function js(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(i,h){i=i.updateQueue,h.updateQueue===i&&(h.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ys(i,h,E){var I=i.updateQueue;if(I===null)return null;if(I=I.shared,(Da&2)!==0){var G=I.pending;return G===null?h.next=h:(h.next=G.next,G.next=h),I.pending=h,h=wr(i),ea(i,null,E),h}return Rn(i,I,h,E),wr(i)}function ol(i,h,E){if(h=h.updateQueue,h!==null&&(h=h.shared,(E&4194048)!==0)){var I=h.lanes;I&=i.pendingLanes,E|=I,h.lanes=E,Jn(i,E)}}function ko(i,h){var E=i.updateQueue,I=i.alternate;if(I!==null&&(I=I.updateQueue,E===I)){var G=null,K=null;if(E=E.firstBaseUpdate,E!==null){do{var Ce={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};K===null?G=K=Ce:K=K.next=Ce,E=E.next}while(E!==null);K===null?G=K=h:K=K.next=h}else G=K=h;E={baseState:I.baseState,firstBaseUpdate:G,lastBaseUpdate:K,shared:I.shared,callbacks:I.callbacks},i.updateQueue=E;return}i=E.lastBaseUpdate,i===null?E.firstBaseUpdate=h:i.next=h,E.lastBaseUpdate=h}var Au=!1;function Zl(){if(Au){var i=ta;if(i!==null)throw i}}function Rl(i,h,E,I){Au=!1;var G=i.updateQueue;Kl=!1;var K=G.firstBaseUpdate,Ce=G.lastBaseUpdate,je=G.shared.pending;if(je!==null){G.shared.pending=null;var Tt=je,en=Tt.next;Tt.next=null,Ce===null?K=en:Ce.next=en,Ce=Tt;var fn=i.alternate;fn!==null&&(fn=fn.updateQueue,je=fn.lastBaseUpdate,je!==Ce&&(je===null?fn.firstBaseUpdate=en:je.next=en,fn.lastBaseUpdate=Tt))}if(K!==null){var bn=G.baseState;Ce=0,fn=en=Tt=null,je=K;do{var rn=je.lane&-536870913,ln=rn!==je.lane;if(ln?(ra&rn)===rn:(I&rn)===rn){rn!==0&&rn===ps&&(Au=!0),fn!==null&&(fn=fn.next={lane:0,tag:je.tag,payload:je.payload,callback:null,next:null});e:{var ur=i,qr=je;rn=h;var no=E;switch(qr.tag){case 1:if(ur=qr.payload,typeof ur=="function"){bn=ur.call(no,bn,rn);break e}bn=ur;break e;case 3:ur.flags=ur.flags&-65537|128;case 0:if(ur=qr.payload,rn=typeof ur=="function"?ur.call(no,bn,rn):ur,rn==null)break e;bn=f({},bn,rn);break e;case 2:Kl=!0}}rn=je.callback,rn!==null&&(i.flags|=64,ln&&(i.flags|=8192),ln=G.callbacks,ln===null?G.callbacks=[rn]:ln.push(rn))}else ln={lane:rn,tag:je.tag,payload:je.payload,callback:je.callback,next:null},fn===null?(en=fn=ln,Tt=bn):fn=fn.next=ln,Ce|=rn;if(je=je.next,je===null){if(je=G.shared.pending,je===null)break;ln=je,je=ln.next,ln.next=null,G.lastBaseUpdate=ln,G.shared.pending=null}}while(!0);fn===null&&(Tt=bn),G.baseState=Tt,G.firstBaseUpdate=en,G.lastBaseUpdate=fn,K===null&&(G.shared.lanes=0),kh|=Ce,i.lanes=Ce,i.memoizedState=bn}}function z(i,h){if(typeof i!="function")throw Error(r(191,i));i.call(h)}function H(i,h){var E=i.callbacks;if(E!==null)for(i.callbacks=null,i=0;i<E.length;i++)z(E[i],h)}var Q=ce(null),le=ce(0);function de(i,h){i=th,Z(le,i),Z(Q,h),th=i|h.baseLanes}function He(){Z(le,th),Z(Q,Q.current)}function $e(){th=le.current,oe(Q),oe(le)}var Ot=ce(null),ht=null;function Nt(i){var h=i.alternate;Z(lr,lr.current&1),Z(Ot,i),ht===null&&(h===null||Q.current!==null||h.memoizedState!==null)&&(ht=i)}function qt(i){Z(lr,lr.current),Z(Ot,i),ht===null&&(ht=i)}function on(i){i.tag===22?(Z(lr,lr.current),Z(Ot,i),ht===null&&(ht=i)):kn()}function kn(){Z(lr,lr.current),Z(Ot,Ot.current)}function _n(i){oe(Ot),ht===i&&(ht=null),oe(lr)}var lr=ce(0);function ti(i){for(var h=i;h!==null;){if(h.tag===13){var E=h.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||ov(E)||sv(E)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break;for(;h.sibling===null;){if(h.return===null||h.return===i)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Wr=0,qn=null,cr=null,mi=null,$a=!1,jo=!1,Ar=!1,mo=0,na=0,Na=null,sl=0;function Gr(){throw Error(r(321))}function Nl(i,h){if(h===null)return!1;for(var E=0;E<h.length&&E<i.length;E++)if(!L(i[E],h[E]))return!1;return!0}function bl(i,h,E,I,G,K){return Wr=K,qn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,me.H=i===null||i.memoizedState===null?wf:Fl,Ar=!1,K=E(I,G),Ar=!1,jo&&(K=vo(h,E,I,G)),_o(i),K}function _o(i){me.H=Kf;var h=cr!==null&&cr.next!==null;if(Wr=0,mi=cr=qn=null,$a=!1,na=0,Na=null,h)throw Error(r(300));i===null||Oo||(i=i.dependencies,i!==null&&Il(i)&&(Oo=!0))}function vo(i,h,E,I){qn=i;var G=0;do{if(jo&&(Na=null),na=0,jo=!1,25<=G)throw Error(r(301));if(G+=1,mi=cr=null,i.updateQueue!=null){var K=i.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}me.H=d0,K=h(E,I)}while(jo);return K}function ql(){var i=me.H,h=i.useState()[0];return h=typeof h.then=="function"?Mo(h):h,i=i.useState()[0],(cr!==null?cr.memoizedState:null)!==i&&(qn.flags|=1024),h}function Ll(){var i=mo!==0;return mo=0,i}function ou(i,h,E){h.updateQueue=i.updateQueue,h.flags&=-2053,i.lanes&=~E}function Tu(i){if($a){for(i=i.memoizedState;i!==null;){var h=i.queue;h!==null&&(h.pending=null),i=i.next}$a=!1}Wr=0,mi=cr=qn=null,jo=!1,na=mo=0,Na=null}function is(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?qn.memoizedState=mi=i:mi=mi.next=i,mi}function ha(){if(cr===null){var i=qn.alternate;i=i!==null?i.memoizedState:null}else i=cr.next;var h=mi===null?qn.memoizedState:mi.next;if(h!==null)mi=h,cr=i;else{if(i===null)throw qn.alternate===null?Error(r(467)):Error(r(310));cr=i,i={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},mi===null?qn.memoizedState=mi=i:mi=mi.next=i}return mi}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var h=na;return na+=1,Na===null&&(Na=[]),i=Vl(Na,i,h),h=qn,(mi===null?h.memoizedState:mi.next)===null&&(h=h.alternate,me.H=h===null||h.memoizedState===null?wf:Fl),i}function Wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===U)return sa(i)}throw Error(r(438,String(i)))}function Gc(i){var h=null,E=qn.updateQueue;if(E!==null&&(h=E.memoCache),h==null){var I=qn.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(h={data:I.data.map(function(G){return G.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),E===null&&(E=su(),qn.updateQueue=E),E.memoCache=h,E=h.data[h.index],E===void 0)for(E=h.data[h.index]=Array(i),I=0;I<i;I++)E[I]=Be;return h.index++,E}function as(i,h){return typeof h=="function"?h(i):h}function Uf(i){var h=ha();return Cc(h,cr,i)}function Cc(i,h,E){var I=i.queue;if(I===null)throw Error(r(311));I.lastRenderedReducer=E;var G=i.baseQueue,K=I.pending;if(K!==null){if(G!==null){var Ce=G.next;G.next=K.next,K.next=Ce}h.baseQueue=G=K,I.pending=null}if(K=i.baseState,G===null)i.memoizedState=K;else{h=G.next;var je=Ce=null,Tt=null,en=h,fn=!1;do{var bn=en.lane&-536870913;if(bn!==en.lane?(ra&bn)===bn:(Wr&bn)===bn){var rn=en.revertLane;if(rn===0)Tt!==null&&(Tt=Tt.next={lane:0,revertLane:0,gesture:null,action:en.action,hasEagerState:en.hasEagerState,eagerState:en.eagerState,next:null}),bn===ps&&(fn=!0);else if((Wr&rn)===rn){en=en.next,rn===ps&&(fn=!0);continue}else bn={lane:0,revertLane:en.revertLane,gesture:null,action:en.action,hasEagerState:en.hasEagerState,eagerState:en.eagerState,next:null},Tt===null?(je=Tt=bn,Ce=K):Tt=Tt.next=bn,qn.lanes|=rn,kh|=rn;bn=en.action,Ar&&E(K,bn),K=en.hasEagerState?en.eagerState:E(K,bn)}else rn={lane:bn,revertLane:en.revertLane,gesture:en.gesture,action:en.action,hasEagerState:en.hasEagerState,eagerState:en.eagerState,next:null},Tt===null?(je=Tt=rn,Ce=K):Tt=Tt.next=rn,qn.lanes|=bn,kh|=bn;en=en.next}while(en!==null&&en!==h);if(Tt===null?Ce=K:Tt.next=je,!L(K,i.memoizedState)&&(Oo=!0,fn&&(E=ta,E!==null)))throw E;i.memoizedState=K,i.baseState=Ce,i.baseQueue=Tt,I.lastRenderedState=K}return G===null&&(I.lanes=0),[i.memoizedState,I.dispatch]}function jf(i){var h=ha(),E=h.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=i;var I=E.dispatch,G=E.pending,K=h.memoizedState;if(G!==null){E.pending=null;var Ce=G=G.next;do K=i(K,Ce.action),Ce=Ce.next;while(Ce!==G);L(K,h.memoizedState)||(Oo=!0),h.memoizedState=K,h.baseQueue===null&&(h.baseState=K),E.lastRenderedState=K}return[K,I]}function yh(i,h,E){var I=qn,G=ha(),K=ri;if(K){if(E===void 0)throw Error(r(407));E=E()}else E=h();var Ce=!L((cr||G).memoizedState,E);if(Ce&&(G.memoizedState=E,Oo=!0),G=G.queue,Ou(s0.bind(null,I,G,i),[i]),G.getSnapshot!==h||Ce||mi!==null&&mi.memoizedState.tag&1){if(I.flags|=2048,Kc(9,{destroy:void 0},o0.bind(null,I,G,E,h),null),so===null)throw Error(r(349));K||(Wr&127)!==0||a0(I,h,E)}return E}function a0(i,h,E){i.flags|=16384,i={getSnapshot:h,value:E},h=qn.updateQueue,h===null?(h=su(),qn.updateQueue=h,h.stores=[i]):(E=h.stores,E===null?h.stores=[i]:E.push(i))}function o0(i,h,E,I){h.value=E,h.getSnapshot=I,Du(h)&&ku(i)}function s0(i,h,E){return E(function(){Du(h)&&ku(i)})}function Du(i){var h=i.getSnapshot;i=i.value;try{var E=h();return!L(i,E)}catch{return!0}}function ku(i){var h=_r(i,2);h!==null&&Pu(h,i,2)}function wl(i){var h=is();if(typeof i=="function"){var E=i;if(i=E(),Ar){Ct(!0);try{E()}finally{Ct(!1)}}}return h.memoizedState=h.baseState=i,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:i},h}function Yc(i,h,E,I){return i.baseState=E,Cc(i,cr,typeof I=="function"?I:as)}function _u(i,h,E,I,G){if(qc(i))throw Error(r(485));if(i=h.action,i!==null){var K={payload:G,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ce){K.listeners.push(Ce)}};me.T!==null?E(!0):K.isTransition=!1,I(K),E=h.pending,E===null?(K.next=h.pending=K,df(h,K)):(K.next=E.next,h.pending=E.next=K)}}function df(i,h){var E=h.action,I=h.payload,G=i.state;if(h.isTransition){var K=me.T,Ce={};me.T=Ce;try{var je=E(G,I),Tt=me.S;Tt!==null&&Tt(Ce,je),l0(i,h,je)}catch(en){Sc(i,h,en)}finally{K!==null&&Ce.types!==null&&(K.types=Ce.types),me.T=K}}else try{K=E(G,I),l0(i,h,K)}catch(en){Sc(i,h,en)}}function l0(i,h,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(I){Bl(i,h,I)},function(I){return Sc(i,h,I)}):Bl(i,h,E)}function Bl(i,h,E){h.status="fulfilled",h.value=E,Xc(h),i.state=E,h=i.pending,h!==null&&(E=h.next,E===h?i.pending=null:(E=E.next,h.next=E,df(i,E)))}function Sc(i,h,E){var I=i.pending;if(i.pending=null,I!==null){I=I.next;do h.status="rejected",h.reason=E,Xc(h),h=h.next;while(h!==I)}i.action=null}function Xc(i){i=i.listeners;for(var h=0;h<i.length;h++)(0,i[h])()}function Vc(i,h){return h}function Ju(i,h){if(ri){var E=so.formState;if(E!==null){e:{var I=qn;if(ri){if(va){t:{for(var G=va,K=Ia;G.nodeType!==8;){if(!K){G=null;break t}if(G=_c(G.nextSibling),G===null){G=null;break t}}K=G.data,G=K==="F!"||K==="F"?G:null}if(G){va=_c(G.nextSibling),I=G.data==="F!";break e}}Os(I)}I=!1}I&&(h=E[0])}}return E=is(),E.memoizedState=E.baseState=h,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:h},E.queue=I,E=yf.bind(null,qn,I),I.dispatch=E,I=wl(!1),K=bf.bind(null,qn,!1,I.queue),I=is(),G={state:h,dispatch:null,action:i,pending:null},I.queue=G,E=_u.bind(null,qn,G,K,E),G.dispatch=E,I.memoizedState=i,[h,E,!1]}function Cl(i){var h=ha();return gf(h,cr,i)}function gf(i,h,E){if(h=Cc(i,h,Vc)[0],i=Uf(as)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var I=Mo(h)}catch(Ce){throw Ce===Gl?Xl:Ce}else I=h;h=ha();var G=h.queue,K=G.dispatch;return E!==h.memoizedState&&(qn.flags|=2048,Kc(9,{destroy:void 0},Wf.bind(null,G,E),null)),[I,K,i]}function Wf(i,h){i.action=h}function Mu(i){var h=ha(),E=cr;if(E!==null)return gf(h,E,i);ha(),h=h.memoizedState,E=ha();var I=E.queue.dispatch;return E.memoizedState=i,[h,I,!1]}function Kc(i,h,E,I){return i={tag:i,create:E,deps:I,inst:h,next:null},h=qn.updateQueue,h===null&&(h=su(),qn.updateQueue=h),E=h.lastEffect,E===null?h.lastEffect=i.next=i:(I=E.next,E.next=i,i.next=I,h.lastEffect=i),i}function $u(){return ha().memoizedState}function pf(i,h,E,I){var G=is();qn.flags|=i,G.memoizedState=Kc(1|h,{destroy:void 0},E,I===void 0?null:I)}function Ec(i,h,E,I){var G=ha();I=I===void 0?null:I;var K=G.memoizedState.inst;cr!==null&&I!==null&&Nl(I,cr.memoizedState.deps)?G.memoizedState=Kc(h,K,E,I):(qn.flags|=i,G.memoizedState=Kc(1|h,K,E,I))}function xh(i,h){pf(8390656,8,i,h)}function Ou(i,h){Ec(2048,8,i,h)}function Gf(i){qn.flags|=4;var h=qn.updateQueue;if(h===null)h=su(),qn.updateQueue=h,h.events=[i];else{var E=h.events;E===null?h.events=[i]:E.push(i)}}function u0(i){var h=ha().memoizedState;return Gf({ref:h,nextImpl:i}),function(){if((Da&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function Zc(i,h){return Ec(4,2,i,h)}function c0(i,h){return Ec(4,4,i,h)}function f0(i,h){if(typeof h=="function"){i=i();var E=h(i);return function(){typeof E=="function"?E():h(null)}}if(h!=null)return i=i(),h.current=i,function(){h.current=null}}function bh(i,h,E){E=E!=null?E.concat([i]):null,Ec(4,4,f0.bind(null,h,i),E)}function Yf(){}function h0(i,h){var E=ha();h=h===void 0?null:h;var I=E.memoizedState;return h!==null&&Nl(h,I[1])?I[0]:(E.memoizedState=[i,h],i)}function j0(i,h){var E=ha();h=h===void 0?null:h;var I=E.memoizedState;if(h!==null&&Nl(h,I[1]))return I[0];if(I=i(),Ar){Ct(!0);try{i()}finally{Ct(!1)}}return E.memoizedState=[I,h],I}function lu(i,h,E){return E===void 0||(Wr&1073741824)!==0&&(ra&261930)===0?i.memoizedState=h:(i.memoizedState=E,i=kb(),qn.lanes|=i,kh|=i,E)}function mf(i,h,E,I){return L(E,h)?E:Q.current!==null?(i=lu(i,E,I),L(i,h)||(Oo=!0),i):(Wr&42)===0||(Wr&1073741824)!==0&&(ra&261930)===0?(Oo=!0,i.memoizedState=E):(i=kb(),qn.lanes|=i,kh|=i,h)}function vf(i,h,E,I,G){var K=Ie.p;Ie.p=K!==0&&8>K?K:8;var Ce=me.T,je={};me.T=je,bf(i,!1,h,E);try{var Tt=G(),en=me.S;if(en!==null&&en(je,Tt),Tt!==null&&typeof Tt=="object"&&typeof Tt.then=="function"){var fn=Uc(Tt,I);xf(i,h,fn,ic(i))}else xf(i,h,I,ic(i))}catch(bn){xf(i,h,{then:function(){},status:"rejected",reason:bn},ic())}finally{Ie.p=K,Ce!==null&&je.types!==null&&(Ce.types=je.types),me.T=Ce}}function Ac(){}function Iu(i,h,E,I){if(i.tag!==5)throw Error(r(476));var G=ec(i).queue;vf(i,G,h,lt,E===null?Ac:function(){return wh(i),E(I)})}function ec(i){var h=i.memoizedState;if(h!==null)return h;h={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:lt},next:null};var E={};return h.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:E},next:null},i.memoizedState=h,i=i.alternate,i!==null&&(i.memoizedState=h),h}function wh(i){var h=ec(i);h.next===null&&(h=i.alternate.memoizedState),xf(i,h.next.queue,{},ic())}function Xf(){return sa(r1)}function W0(){return ha().memoizedState}function Ch(){return ha().memoizedState}function G0(i){for(var h=i.return;h!==null;){switch(h.tag){case 24:case 3:var E=ic();i=Ws(E);var I=ys(h,i,E);I!==null&&(Pu(I,h,E),ol(I,h,E)),h={cache:wc()},i.payload=h;return}h=h.return}}function Sh(i,h,E){var I=ic();E={lane:I,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},qc(i)?Vf(h,E):(E=sr(i,h,E,I),E!==null&&(Pu(E,i,I),Eh(E,h,I)))}function yf(i,h,E){var I=ic();xf(i,h,E,I)}function xf(i,h,E,I){var G={lane:I,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null};if(qc(i))Vf(h,G);else{var K=i.alternate;if(i.lanes===0&&(K===null||K.lanes===0)&&(K=h.lastRenderedReducer,K!==null))try{var Ce=h.lastRenderedState,je=K(Ce,E);if(G.hasEagerState=!0,G.eagerState=je,L(je,Ce))return Rn(i,h,G,0),so===null&&rr(),!1}catch{}if(E=sr(i,h,G,I),E!==null)return Pu(E,i,I),Eh(E,h,I),!0}return!1}function bf(i,h,E,I){if(I={lane:2,revertLane:Km(),gesture:null,action:I,hasEagerState:!1,eagerState:null,next:null},qc(i)){if(h)throw Error(r(479))}else h=sr(i,E,I,2),h!==null&&Pu(h,i,2)}function qc(i){var h=i.alternate;return i===qn||h!==null&&h===qn}function Vf(i,h){jo=$a=!0;var E=i.pending;E===null?h.next=h:(h.next=E.next,E.next=h),i.pending=h}function Eh(i,h,E){if((E&4194048)!==0){var I=h.lanes;I&=i.pendingLanes,E|=I,h.lanes=E,Jn(i,E)}}var Kf={readContext:sa,use:Wc,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr};Kf.useEffectEvent=Gr;var wf={readContext:sa,use:Wc,useCallback:function(i,h){return is().memoizedState=[i,h===void 0?null:h],i},useContext:sa,useEffect:xh,useImperativeHandle:function(i,h,E){E=E!=null?E.concat([i]):null,pf(4194308,4,f0.bind(null,h,i),E)},useLayoutEffect:function(i,h){return pf(4194308,4,i,h)},useInsertionEffect:function(i,h){pf(4,2,i,h)},useMemo:function(i,h){var E=is();h=h===void 0?null:h;var I=i();if(Ar){Ct(!0);try{i()}finally{Ct(!1)}}return E.memoizedState=[I,h],I},useReducer:function(i,h,E){var I=is();if(E!==void 0){var G=E(h);if(Ar){Ct(!0);try{E(h)}finally{Ct(!1)}}}else G=h;return I.memoizedState=I.baseState=G,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:G},I.queue=i,i=i.dispatch=Sh.bind(null,qn,i),[I.memoizedState,i]},useRef:function(i){var h=is();return i={current:i},h.memoizedState=i},useState:function(i){i=wl(i);var h=i.queue,E=yf.bind(null,qn,h);return h.dispatch=E,[i.memoizedState,E]},useDebugValue:Yf,useDeferredValue:function(i,h){var E=is();return lu(E,i,h)},useTransition:function(){var i=wl(!1);return i=vf.bind(null,qn,i.queue,!0,!1),is().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,h,E){var I=qn,G=is();if(ri){if(E===void 0)throw Error(r(407));E=E()}else{if(E=h(),so===null)throw Error(r(349));(ra&127)!==0||a0(I,h,E)}G.memoizedState=E;var K={value:E,getSnapshot:h};return G.queue=K,xh(s0.bind(null,I,K,i),[i]),I.flags|=2048,Kc(9,{destroy:void 0},o0.bind(null,I,K,E,h),null),E},useId:function(){var i=is(),h=so.identifierPrefix;if(ri){var E=Jo,I=ji;E=(I&~(1<<32-Ye(I)-1)).toString(32)+E,h="_"+h+"R_"+E,E=mo++,0<E&&(h+="H"+E.toString(32)),h+="_"}else E=sl++,h="_"+h+"r_"+E.toString(32)+"_";return i.memoizedState=h},useHostTransitionStatus:Xf,useFormState:Ju,useActionState:Ju,useOptimistic:function(i){var h=is();h.memoizedState=h.baseState=i;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=E,h=bf.bind(null,qn,!0,E),E.dispatch=h,[i,h]},useMemoCache:Gc,useCacheRefresh:function(){return is().memoizedState=G0.bind(null,qn)},useEffectEvent:function(i){var h=is(),E={impl:i};return h.memoizedState=E,function(){if((Da&2)!==0)throw Error(r(440));return E.impl.apply(void 0,arguments)}}},Fl={readContext:sa,use:Wc,useCallback:h0,useContext:sa,useEffect:Ou,useImperativeHandle:bh,useInsertionEffect:Zc,useLayoutEffect:c0,useMemo:j0,useReducer:Uf,useRef:$u,useState:function(){return Uf(as)},useDebugValue:Yf,useDeferredValue:function(i,h){var E=ha();return mf(E,cr.memoizedState,i,h)},useTransition:function(){var i=Uf(as)[0],h=ha().memoizedState;return[typeof i=="boolean"?i:Mo(i),h]},useSyncExternalStore:yh,useId:W0,useHostTransitionStatus:Xf,useFormState:Cl,useActionState:Cl,useOptimistic:function(i,h){var E=ha();return Yc(E,cr,i,h)},useMemoCache:Gc,useCacheRefresh:Ch};Fl.useEffectEvent=u0;var d0={readContext:sa,use:Wc,useCallback:h0,useContext:sa,useEffect:Ou,useImperativeHandle:bh,useInsertionEffect:Zc,useLayoutEffect:c0,useMemo:j0,useReducer:jf,useRef:$u,useState:function(){return jf(as)},useDebugValue:Yf,useDeferredValue:function(i,h){var E=ha();return cr===null?lu(E,i,h):mf(E,cr.memoizedState,i,h)},useTransition:function(){var i=jf(as)[0],h=ha().memoizedState;return[typeof i=="boolean"?i:Mo(i),h]},useSyncExternalStore:yh,useId:W0,useHostTransitionStatus:Xf,useFormState:Mu,useActionState:Mu,useOptimistic:function(i,h){var E=ha();return cr!==null?Yc(E,cr,i,h):(E.baseState=i,[i,E.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Ch};d0.useEffectEvent=u0;function uu(i,h,E,I){h=i.memoizedState,E=E(I,h),E=E==null?h:f({},h,E),i.memoizedState=E,i.lanes===0&&(i.updateQueue.baseState=E)}var Ah={enqueueSetState:function(i,h,E){i=i._reactInternals;var I=ic(),G=Ws(I);G.payload=h,E!=null&&(G.callback=E),h=ys(i,G,I),h!==null&&(Pu(h,i,I),ol(h,i,I))},enqueueReplaceState:function(i,h,E){i=i._reactInternals;var I=ic(),G=Ws(I);G.tag=1,G.payload=h,E!=null&&(G.callback=E),h=ys(i,G,I),h!==null&&(Pu(h,i,I),ol(h,i,I))},enqueueForceUpdate:function(i,h){i=i._reactInternals;var E=ic(),I=Ws(E);I.tag=2,h!=null&&(I.callback=h),h=ys(i,I,E),h!==null&&(Pu(h,i,E),ol(h,i,E))}};function Cf(i,h,E,I,G,K,Ce){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(I,K,Ce):h.prototype&&h.prototype.isPureReactComponent?!b(E,I)||!b(G,K):!0}function Zf(i,h,E,I){i=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(E,I),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(E,I),h.state!==i&&Ah.enqueueReplaceState(h,h.state,null)}function Oi(i,h){var E=h;if("ref"in h){E={};for(var I in h)I!=="ref"&&(E[I]=h[I])}if(i=i.defaultProps){E===h&&(E=f({},E));for(var G in i)E[G]===void 0&&(E[G]=i[G])}return E}function g0(i){Vt(i)}function Ru(i){console.error(i)}function Qc(i){Vt(i)}function ll(i,h){try{var E=i.onUncaughtError;E(h.value,{componentStack:h.stack})}catch(I){setTimeout(function(){throw I})}}function Nu(i,h,E){try{var I=i.onCaughtError;I(E.value,{componentStack:E.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function Sf(i,h,E){return E=Ws(E),E.tag=3,E.payload={element:null},E.callback=function(){ll(i,h)},E}function Ef(i){return i=Ws(i),i.tag=3,i}function qf(i,h,E,I){var G=E.type.getDerivedStateFromError;if(typeof G=="function"){var K=I.value;i.payload=function(){return G(K)},i.callback=function(){Nu(h,E,I)}}var Ce=E.stateNode;Ce!==null&&typeof Ce.componentDidCatch=="function"&&(i.callback=function(){Nu(h,E,I),typeof G!="function"&&(_h===null?_h=new Set([this]):_h.add(this));var je=I.stack;this.componentDidCatch(I.value,{componentStack:je!==null?je:""})})}function Af(i,h,E,I,G){if(E.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(h=E.alternate,h!==null&&es(h,E,G,!0),E=Ot.current,E!==null){switch(E.tag){case 31:case 13:return ht===null?vg():E.alternate===null&&ws===0&&(ws=3),E.flags&=-257,E.flags|=65536,E.lanes=G,I===Su?E.flags|=16384:(h=E.updateQueue,h===null?E.updateQueue=new Set([I]):h.add(I),Ym(i,I,G)),!1;case 22:return E.flags|=65536,I===Su?E.flags|=16384:(h=E.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([I])},E.updateQueue=h):(E=h.retryQueue,E===null?h.retryQueue=new Set([I]):E.add(I)),Ym(i,I,G)),!1}throw Error(r(435,E.tag))}return Ym(i,I,G),vg(),!1}if(ri)return h=Ot.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=G,I!==vl&&(i=Error(r(422),{cause:I}),Qa(ds(i,E)))):(I!==vl&&(h=Error(r(423),{cause:I}),Qa(ds(h,E))),i=i.current.alternate,i.flags|=65536,G&=-G,i.lanes|=G,I=ds(I,E),G=Sf(i.stateNode,I,G),ko(i,G),ws!==4&&(ws=2)),!1;var K=Error(r(520),{cause:I});if(K=ds(K,E),Zd===null?Zd=[K]:Zd.push(K),ws!==4&&(ws=2),h===null)return!0;I=ds(I,E),E=h;do{switch(E.tag){case 3:return E.flags|=65536,i=G&-G,E.lanes|=i,i=Sf(E.stateNode,I,i),ko(E,i),!1;case 1:if(h=E.type,K=E.stateNode,(E.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_h===null||!_h.has(K))))return E.flags|=65536,G&=-G,E.lanes|=G,G=Ef(G),qf(G,i,E,I),ko(E,G),!1}E=E.return}while(E!==null);return!1}var Qf=Error(r(461)),Oo=!1;function xs(i,h,E,I){h.child=i===null?hf(h,null,E,I):vs(h,i.child,E,I)}function Tc(i,h,E,I,G){E=E.render;var K=h.ref;if("ref"in I){var Ce={};for(var je in I)je!=="ref"&&(Ce[je]=I[je])}else Ce=I;return Is(h),I=bl(i,h,E,Ce,K,G),je=Ll(),i!==null&&!Oo?(ou(i,h,G),et(i,h,G)):(ri&&je&&Ol(h),h.flags|=1,xs(i,h,I,G),h.child)}function Jc(i,h,E,I,G){if(i===null){var K=E.type;return typeof K=="function"&&!pi(K)&&K.defaultProps===void 0&&E.compare===null?(h.tag=15,h.type=K,Ii(i,h,K,I,G)):(i=ca(E.type,null,I,h,h.mode,G),i.ref=h.ref,i.return=h,h.child=i)}if(K=i.child,!st(i,G)){var Ce=K.memoizedProps;if(E=E.compare,E=E!==null?E:b,E(Ce,I)&&i.ref===h.ref)return et(i,h,G)}return h.flags|=1,i=za(K,I),i.ref=h.ref,i.return=h,h.child=i}function Ii(i,h,E,I,G){if(i!==null){var K=i.memoizedProps;if(b(K,I)&&i.ref===h.ref)if(Oo=!1,h.pendingProps=I=K,st(i,G))(i.flags&131072)!==0&&(Oo=!0);else return h.lanes=i.lanes,et(i,h,G)}return Jf(i,h,E,I,G)}function Tf(i,h,E,I){var G=I.children,K=i!==null?i.memoizedState:null;if(i===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),I.mode==="hidden"){if((h.flags&128)!==0){if(K=K!==null?K.baseLanes|E:E,i!==null){for(I=h.child=i.child,G=0;I!==null;)G=G|I.lanes|I.childLanes,I=I.sibling;I=G&~K}else I=0,h.child=null;return $c(i,h,K,E,I)}if((E&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},i!==null&&rl(h,K!==null?K.cachePool:null),K!==null?de(h,K):He(),on(h);else return I=h.lanes=536870912,$c(i,h,K!==null?K.baseLanes|E:E,E,I)}else K!==null?(rl(h,K.cachePool),de(h,K),kn(),h.memoizedState=null):(i!==null&&rl(h,null),He(),kn());return xs(i,h,G,E),h.child}function cu(i,h){return i!==null&&i.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function $c(i,h,E,I,G){var K=ms();return K=K===null?null:{parent:Aa._currentValue,pool:K},h.memoizedState={baseLanes:E,cachePool:K},i!==null&&rl(h,null),He(),on(h),i!==null&&es(i,h,I,!0),h.childLanes=G,null}function os(i,h){return h=X({mode:h.mode,children:h.children},i.mode),h.ref=i.ref,i.child=h,h.return=i,h}function Io(i,h,E){return vs(h,i.child,null,E),i=os(h,h.pendingProps),i.flags|=2,_n(h),h.memoizedState=null,i}function Y0(i,h,E){var I=h.pendingProps,G=(h.flags&128)!==0;if(h.flags&=-129,i===null){if(ri){if(I.mode==="hidden")return i=os(h,I),h.lanes=536870912,cu(null,i);if(qt(h),(i=va)?(i=c4(i,Ia),i=i!==null&&i.data==="&"?i:null,i!==null&&(h.memoizedState={dehydrated:i,treeContext:gs!==null?{id:ji,overflow:Jo}:null,retryLane:536870912,hydrationErrors:null},E=Eo(i),E.return=h,h.child=E,qa=h,va=null)):i=null,i===null)throw Os(h);return h.lanes=536870912,null}return os(h,I)}var K=i.memoizedState;if(K!==null){var Ce=K.dehydrated;if(qt(h),G)if(h.flags&256)h.flags&=-257,h=Io(i,h,E);else if(h.memoizedState!==null)h.child=i.child,h.flags|=128,h=null;else throw Error(r(558));else if(Oo||es(i,h,E,!1),G=(E&i.childLanes)!==0,Oo||G){if(I=so,I!==null&&(Ce=Fr(I,E),Ce!==0&&Ce!==K.retryLane))throw K.retryLane=Ce,_r(i,Ce),Pu(I,i,Ce),Qf;vg(),h=Io(i,h,E)}else i=K.treeContext,va=_c(Ce.nextSibling),qa=h,ri=!0,$o=null,Ia=!1,i!==null&&iu(h,i),h=os(h,I),h.flags|=4096;return h}return i=za(i.child,{mode:I.mode,children:I.children}),i.ref=h.ref,h.child=i,i.return=h,i}function da(i,h){var E=h.ref;if(E===null)i!==null&&i.ref!==null&&(h.flags|=4194816);else{if(typeof E!="function"&&typeof E!="object")throw Error(r(284));(i===null||i.ref!==E)&&(h.flags|=4194816)}}function Jf(i,h,E,I,G){return Is(h),E=bl(i,h,E,I,void 0,G),I=Ll(),i!==null&&!Oo?(ou(i,h,G),et(i,h,G)):(ri&&I&&Ol(h),h.flags|=1,xs(i,h,E,G),h.child)}function Dc(i,h,E,I,G,K){return Is(h),h.updateQueue=null,E=vo(h,I,E,G),_o(i),I=Ll(),i!==null&&!Oo?(ou(i,h,K),et(i,h,K)):(ri&&I&&Ol(h),h.flags|=1,xs(i,h,E,K),h.child)}function Th(i,h,E,I,G){if(Is(h),h.stateNode===null){var K=jr,Ce=E.contextType;typeof Ce=="object"&&Ce!==null&&(K=sa(Ce)),K=new E(I,K),h.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=Ah,h.stateNode=K,K._reactInternals=h,K=h.stateNode,K.props=I,K.state=h.memoizedState,K.refs={},js(h),Ce=E.contextType,K.context=typeof Ce=="object"&&Ce!==null?sa(Ce):jr,K.state=h.memoizedState,Ce=E.getDerivedStateFromProps,typeof Ce=="function"&&(uu(h,E,Ce,I),K.state=h.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(Ce=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),Ce!==K.state&&Ah.enqueueReplaceState(K,K.state,null),Rl(h,I,K,G),Zl(),K.state=h.memoizedState),typeof K.componentDidMount=="function"&&(h.flags|=4194308),I=!0}else if(i===null){K=h.stateNode;var je=h.memoizedProps,Tt=Oi(E,je);K.props=Tt;var en=K.context,fn=E.contextType;Ce=jr,typeof fn=="object"&&fn!==null&&(Ce=sa(fn));var bn=E.getDerivedStateFromProps;fn=typeof bn=="function"||typeof K.getSnapshotBeforeUpdate=="function",je=h.pendingProps!==je,fn||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(je||en!==Ce)&&Zf(h,K,I,Ce),Kl=!1;var rn=h.memoizedState;K.state=rn,Rl(h,I,K,G),Zl(),en=h.memoizedState,je||rn!==en||Kl?(typeof bn=="function"&&(uu(h,E,bn,I),en=h.memoizedState),(Tt=Kl||Cf(h,E,Tt,I,rn,en,Ce))?(fn||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(h.flags|=4194308)):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=I,h.memoizedState=en),K.props=I,K.state=en,K.context=Ce,I=Tt):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),I=!1)}else{K=h.stateNode,Eu(i,h),Ce=h.memoizedProps,fn=Oi(E,Ce),K.props=fn,bn=h.pendingProps,rn=K.context,en=E.contextType,Tt=jr,typeof en=="object"&&en!==null&&(Tt=sa(en)),je=E.getDerivedStateFromProps,(en=typeof je=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(Ce!==bn||rn!==Tt)&&Zf(h,K,I,Tt),Kl=!1,rn=h.memoizedState,K.state=rn,Rl(h,I,K,G),Zl();var ln=h.memoizedState;Ce!==bn||rn!==ln||Kl||i!==null&&i.dependencies!==null&&Il(i.dependencies)?(typeof je=="function"&&(uu(h,E,je,I),ln=h.memoizedState),(fn=Kl||Cf(h,E,fn,I,rn,ln,Tt)||i!==null&&i.dependencies!==null&&Il(i.dependencies))?(en||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(I,ln,Tt),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(I,ln,Tt)),typeof K.componentDidUpdate=="function"&&(h.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof K.componentDidUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=1024),h.memoizedProps=I,h.memoizedState=ln),K.props=I,K.state=ln,K.context=Tt,I=fn):(typeof K.componentDidUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||Ce===i.memoizedProps&&rn===i.memoizedState||(h.flags|=1024),I=!1)}return K=I,da(i,h),I=(h.flags&128)!==0,K||I?(K=h.stateNode,E=I&&typeof E.getDerivedStateFromError!="function"?null:K.render(),h.flags|=1,i!==null&&I?(h.child=vs(h,i.child,null,G),h.child=vs(h,null,E,G)):xs(i,h,E,G),h.memoizedState=K.state,i=h.child):i=et(i,h,G),i}function Df(i,h,E,I){return yl(),h.flags|=256,xs(i,h,E,I),h.child}var l={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function x(i){return{baseLanes:i,cachePool:la()}}function M(i,h,E){return i=i!==null?i.childLanes&~E:0,h&&(i|=rc),i}function _(i,h,E){var I=h.pendingProps,G=!1,K=(h.flags&128)!==0,Ce;if((Ce=K)||(Ce=i!==null&&i.memoizedState===null?!1:(lr.current&2)!==0),Ce&&(G=!0,h.flags&=-129),Ce=(h.flags&32)!==0,h.flags&=-33,i===null){if(ri){if(G?Nt(h):kn(),(i=va)?(i=c4(i,Ia),i=i!==null&&i.data!=="&"?i:null,i!==null&&(h.memoizedState={dehydrated:i,treeContext:gs!==null?{id:ji,overflow:Jo}:null,retryLane:536870912,hydrationErrors:null},E=Eo(i),E.return=h,h.child=E,qa=h,va=null)):i=null,i===null)throw Os(h);return sv(i)?h.lanes=32:h.lanes=536870912,null}var je=I.children;return I=I.fallback,G?(kn(),G=h.mode,je=X({mode:"hidden",children:je},G),I=fa(I,G,E,null),je.return=h,I.return=h,je.sibling=I,h.child=je,I=h.child,I.memoizedState=x(E),I.childLanes=M(i,Ce,E),h.memoizedState=l,cu(null,I)):(Nt(h),F(h,je))}var Tt=i.memoizedState;if(Tt!==null&&(je=Tt.dehydrated,je!==null)){if(K)h.flags&256?(Nt(h),h.flags&=-257,h=ie(i,h,E)):h.memoizedState!==null?(kn(),h.child=i.child,h.flags|=128,h=null):(kn(),je=I.fallback,G=h.mode,I=X({mode:"visible",children:I.children},G),je=fa(je,G,E,null),je.flags|=2,I.return=h,je.return=h,I.sibling=je,h.child=I,vs(h,i.child,null,E),I=h.child,I.memoizedState=x(E),I.childLanes=M(i,Ce,E),h.memoizedState=l,h=cu(null,I));else if(Nt(h),sv(je)){if(Ce=je.nextSibling&&je.nextSibling.dataset,Ce)var en=Ce.dgst;Ce=en,I=Error(r(419)),I.stack="",I.digest=Ce,Qa({value:I,source:null,stack:null}),h=ie(i,h,E)}else if(Oo||es(i,h,E,!1),Ce=(E&i.childLanes)!==0,Oo||Ce){if(Ce=so,Ce!==null&&(I=Fr(Ce,E),I!==0&&I!==Tt.retryLane))throw Tt.retryLane=I,_r(i,I),Pu(Ce,i,I),Qf;ov(je)||vg(),h=ie(i,h,E)}else ov(je)?(h.flags|=192,h.child=i.child,h=null):(i=Tt.treeContext,va=_c(je.nextSibling),qa=h,ri=!0,$o=null,Ia=!1,i!==null&&iu(h,i),h=F(h,I.children),h.flags|=4096);return h}return G?(kn(),je=I.fallback,G=h.mode,Tt=i.child,en=Tt.sibling,I=za(Tt,{mode:"hidden",children:I.children}),I.subtreeFlags=Tt.subtreeFlags&65011712,en!==null?je=za(en,je):(je=fa(je,G,E,null),je.flags|=2),je.return=h,I.return=h,I.sibling=je,h.child=I,cu(null,I),I=h.child,je=i.child.memoizedState,je===null?je=x(E):(G=je.cachePool,G!==null?(Tt=Aa._currentValue,G=G.parent!==Tt?{parent:Tt,pool:Tt}:G):G=la(),je={baseLanes:je.baseLanes|E,cachePool:G}),I.memoizedState=je,I.childLanes=M(i,Ce,E),h.memoizedState=l,cu(i.child,I)):(Nt(h),E=i.child,i=E.sibling,E=za(E,{mode:"visible",children:I.children}),E.return=h,E.sibling=null,i!==null&&(Ce=h.deletions,Ce===null?(h.deletions=[i],h.flags|=16):Ce.push(i)),h.child=E,h.memoizedState=null,E)}function F(i,h){return h=X({mode:"visible",children:h},i.mode),h.return=i,i.child=h}function X(i,h){return i=ua(22,i,null,h),i.lanes=0,i}function ie(i,h,E){return vs(h,i.child,null,E),i=F(h,h.pendingProps.children),i.flags|=2,h.memoizedState=null,i}function fe(i,h,E){i.lanes|=h;var I=i.alternate;I!==null&&(I.lanes|=h),nl(i.return,h,E)}function ye(i,h,E,I,G,K){var Ce=i.memoizedState;Ce===null?i.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:I,tail:E,tailMode:G,treeForkCount:K}:(Ce.isBackwards=h,Ce.rendering=null,Ce.renderingStartTime=0,Ce.last=I,Ce.tail=E,Ce.tailMode=G,Ce.treeForkCount=K)}function ke(i,h,E){var I=h.pendingProps,G=I.revealOrder,K=I.tail;I=I.children;var Ce=lr.current,je=(Ce&2)!==0;if(je?(Ce=Ce&1|2,h.flags|=128):Ce&=1,Z(lr,Ce),xs(i,h,I,E),I=ri?Ao:0,!je&&i!==null&&(i.flags&128)!==0)e:for(i=h.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&fe(i,E,h);else if(i.tag===19)fe(i,E,h);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===h)break e;for(;i.sibling===null;){if(i.return===null||i.return===h)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(G){case"forwards":for(E=h.child,G=null;E!==null;)i=E.alternate,i!==null&&ti(i)===null&&(G=E),E=E.sibling;E=G,E===null?(G=h.child,h.child=null):(G=E.sibling,E.sibling=null),ye(h,!1,G,E,K,I);break;case"backwards":case"unstable_legacy-backwards":for(E=null,G=h.child,h.child=null;G!==null;){if(i=G.alternate,i!==null&&ti(i)===null){h.child=G;break}i=G.sibling,G.sibling=E,E=G,G=i}ye(h,!0,E,null,K,I);break;case"together":ye(h,!1,null,null,void 0,I);break;default:h.memoizedState=null}return h.child}function et(i,h,E){if(i!==null&&(h.dependencies=i.dependencies),kh|=h.lanes,(E&h.childLanes)===0)if(i!==null){if(es(i,h,E,!1),(E&h.childLanes)===0)return null}else return null;if(i!==null&&h.child!==i.child)throw Error(r(153));if(h.child!==null){for(i=h.child,E=za(i,i.pendingProps),h.child=E,E.return=h;i.sibling!==null;)i=i.sibling,E=E.sibling=za(i,i.pendingProps),E.return=h;E.sibling=null}return h.child}function st(i,h){return(i.lanes&h)!==0?!0:(i=i.dependencies,!!(i!==null&&Il(i)))}function Pt(i,h,E){switch(h.tag){case 3:At(h,h.stateNode.containerInfo),Do(h,Aa,i.memoizedState.cache),yl();break;case 27:case 5:jt(h);break;case 4:At(h,h.stateNode.containerInfo);break;case 10:Do(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,qt(h),null;break;case 13:var I=h.memoizedState;if(I!==null)return I.dehydrated!==null?(Nt(h),h.flags|=128,null):(E&h.child.childLanes)!==0?_(i,h,E):(Nt(h),i=et(i,h,E),i!==null?i.sibling:null);Nt(h);break;case 19:var G=(i.flags&128)!==0;if(I=(E&h.childLanes)!==0,I||(es(i,h,E,!1),I=(E&h.childLanes)!==0),G){if(I)return ke(i,h,E);h.flags|=128}if(G=h.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),Z(lr,lr.current),I)break;return null;case 22:return h.lanes=0,Tf(i,h,E,h.pendingProps);case 24:Do(h,Aa,i.memoizedState.cache)}return et(i,h,E)}function Mt(i,h,E){if(i!==null)if(i.memoizedProps!==h.pendingProps)Oo=!0;else{if(!st(i,E)&&(h.flags&128)===0)return Oo=!1,Pt(i,h,E);Oo=(i.flags&131072)!==0}else Oo=!1,ri&&(h.flags&1048576)!==0&&bu(h,Ao,h.index);switch(h.lanes=0,h.tag){case 16:e:{var I=h.pendingProps;if(i=xl(h.elementType),h.type=i,typeof i=="function")pi(i)?(I=Oi(i,I),h.tag=1,h=Th(null,h,i,I,E)):(h.tag=0,h=Jf(null,h,i,I,E));else{if(i!=null){var G=i.$$typeof;if(G===W){h.tag=11,h=Tc(null,h,i,I,E);break e}else if(G===ne){h.tag=14,h=Jc(null,h,i,I,E);break e}}throw h=ut(i)||i,Error(r(306,h,""))}}return h;case 0:return Jf(i,h,h.type,h.pendingProps,E);case 1:return I=h.type,G=Oi(I,h.pendingProps),Th(i,h,I,G,E);case 3:e:{if(At(h,h.stateNode.containerInfo),i===null)throw Error(r(387));I=h.pendingProps;var K=h.memoizedState;G=K.element,Eu(i,h),Rl(h,I,null,E);var Ce=h.memoizedState;if(I=Ce.cache,Do(h,Aa,I),I!==K.cache&&xc(h,[Aa],E,!0),Zl(),I=Ce.element,K.isDehydrated)if(K={element:I,isDehydrated:!1,cache:Ce.cache},h.updateQueue.baseState=K,h.memoizedState=K,h.flags&256){h=Df(i,h,I,E);break e}else if(I!==G){G=ds(Error(r(424)),h),Qa(G),h=Df(i,h,I,E);break e}else for(i=h.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,va=_c(i.firstChild),qa=h,ri=!0,$o=null,Ia=!0,E=hf(h,null,I,E),h.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(yl(),I===G){h=et(i,h,E);break e}xs(i,h,I,E)}h=h.child}return h;case 26:return da(i,h),i===null?(E=m4(h.type,null,h.pendingProps,null))?h.memoizedState=E:ri||(E=h.type,i=h.pendingProps,I=Eg(Fe.current).createElement(E),I[Pr]=h,I[ar]=i,Pl(I,E,i),Ri(I),h.stateNode=I):h.memoizedState=m4(h.type,i.memoizedProps,h.pendingProps,i.memoizedState),null;case 27:return jt(h),i===null&&ri&&(I=h.stateNode=d4(h.type,h.pendingProps,Fe.current),qa=h,Ia=!0,G=va,Rh(h.type)?(lv=G,va=_c(I.firstChild)):va=G),xs(i,h,h.pendingProps.children,E),da(i,h),i===null&&(h.flags|=4194304),h.child;case 5:return i===null&&ri&&((G=I=va)&&(I=CT(I,h.type,h.pendingProps,Ia),I!==null?(h.stateNode=I,qa=h,va=_c(I.firstChild),Ia=!1,G=!0):G=!1),G||Os(h)),jt(h),G=h.type,K=h.pendingProps,Ce=i!==null?i.memoizedProps:null,I=K.children,rv(G,K)?I=null:Ce!==null&&rv(G,Ce)&&(h.flags|=32),h.memoizedState!==null&&(G=bl(i,h,ql,null,null,E),r1._currentValue=G),da(i,h),xs(i,h,I,E),h.child;case 6:return i===null&&ri&&((i=E=va)&&(E=ST(E,h.pendingProps,Ia),E!==null?(h.stateNode=E,qa=h,va=null,i=!0):i=!1),i||Os(h)),null;case 13:return _(i,h,E);case 4:return At(h,h.stateNode.containerInfo),I=h.pendingProps,i===null?h.child=vs(h,null,I,E):xs(i,h,I,E),h.child;case 11:return Tc(i,h,h.type,h.pendingProps,E);case 7:return xs(i,h,h.pendingProps,E),h.child;case 8:return xs(i,h,h.pendingProps.children,E),h.child;case 12:return xs(i,h,h.pendingProps.children,E),h.child;case 10:return I=h.pendingProps,Do(h,h.type,I.value),xs(i,h,I.children,E),h.child;case 9:return G=h.type._context,I=h.pendingProps.children,Is(h),G=sa(G),I=I(G),h.flags|=1,xs(i,h,I,E),h.child;case 14:return Jc(i,h,h.type,h.pendingProps,E);case 15:return Ii(i,h,h.type,h.pendingProps,E);case 19:return ke(i,h,E);case 31:return Y0(i,h,E);case 22:return Tf(i,h,E,h.pendingProps);case 24:return Is(h),I=sa(Aa),i===null?(G=ms(),G===null&&(G=so,K=wc(),G.pooledCache=K,K.refCount++,K!==null&&(G.pooledCacheLanes|=E),G=K),h.memoizedState={parent:I,cache:G},js(h),Do(h,Aa,G)):((i.lanes&E)!==0&&(Eu(i,h),Rl(h,null,null,E),Zl()),G=i.memoizedState,K=h.memoizedState,G.parent!==I?(G={parent:I,cache:I},h.memoizedState=G,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=G),Do(h,Aa,I)):(I=K.cache,Do(h,Aa,I),I!==G.cache&&xc(h,[Aa],E,!0))),xs(i,h,h.pendingProps.children,E),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function an(i){i.flags|=4}function gn(i,h,E,I,G){if((h=(i.mode&32)!==0)&&(h=!1),h){if(i.flags|=16777216,(G&335544128)===G)if(i.stateNode.complete)i.flags|=8192;else if(Ib())i.flags|=8192;else throw rs=Su,Yl}else i.flags&=-16777217}function Tn(i,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!w4(h))if(Ib())i.flags|=8192;else throw rs=Su,Yl}function Fn(i,h){h!==null&&(i.flags|=4),i.flags&16384&&(h=i.tag!==22?Hn():536870912,i.lanes|=h,q0|=h)}function zn(i,h){if(!ri)switch(i.tailMode){case"hidden":h=i.tail;for(var E=null;h!==null;)h.alternate!==null&&(E=h),h=h.sibling;E===null?i.tail=null:E.sibling=null;break;case"collapsed":E=i.tail;for(var I=null;E!==null;)E.alternate!==null&&(I=E),E=E.sibling;I===null?h||i.tail===null?i.tail=null:i.tail.sibling=null:I.sibling=null}}function wn(i){var h=i.alternate!==null&&i.alternate.child===i.child,E=0,I=0;if(h)for(var G=i.child;G!==null;)E|=G.lanes|G.childLanes,I|=G.subtreeFlags&65011712,I|=G.flags&65011712,G.return=i,G=G.sibling;else for(G=i.child;G!==null;)E|=G.lanes|G.childLanes,I|=G.subtreeFlags,I|=G.flags,G.return=i,G=G.sibling;return i.subtreeFlags|=I,i.childLanes=E,h}function Kn(i,h,E){var I=h.pendingProps;switch(wu(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(h),null;case 1:return wn(h),null;case 3:return E=h.stateNode,I=null,i!==null&&(I=i.memoizedState.cache),h.memoizedState.cache!==I&&(h.flags|=2048),Hs(Aa),rt(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(i===null||i.child===null)&&(Wl(h)?an(h):i===null||i.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Cu())),wn(h),null;case 26:var G=h.type,K=h.memoizedState;return i===null?(an(h),K!==null?(wn(h),Tn(h,K)):(wn(h),gn(h,G,null,I,E))):K?K!==i.memoizedState?(an(h),wn(h),Tn(h,K)):(wn(h),h.flags&=-16777217):(i=i.memoizedProps,i!==I&&an(h),wn(h),gn(h,G,i,I,E)),null;case 27:if(_t(h),E=Fe.current,G=h.type,i!==null&&h.stateNode!=null)i.memoizedProps!==I&&an(h);else{if(!I){if(h.stateNode===null)throw Error(r(166));return wn(h),null}i=be.current,Wl(h)?ff(h):(i=d4(G,I,E),h.stateNode=i,an(h))}return wn(h),null;case 5:if(_t(h),G=h.type,i!==null&&h.stateNode!=null)i.memoizedProps!==I&&an(h);else{if(!I){if(h.stateNode===null)throw Error(r(166));return wn(h),null}if(K=be.current,Wl(h))ff(h);else{var Ce=Eg(Fe.current);switch(K){case 1:K=Ce.createElementNS("http://www.w3.org/2000/svg",G);break;case 2:K=Ce.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;default:switch(G){case"svg":K=Ce.createElementNS("http://www.w3.org/2000/svg",G);break;case"math":K=Ce.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;case"script":K=Ce.createElement("div"),K.innerHTML="<script><\/script>",K=K.removeChild(K.firstChild);break;case"select":K=typeof I.is=="string"?Ce.createElement("select",{is:I.is}):Ce.createElement("select"),I.multiple?K.multiple=!0:I.size&&(K.size=I.size);break;default:K=typeof I.is=="string"?Ce.createElement(G,{is:I.is}):Ce.createElement(G)}}K[Pr]=h,K[ar]=I;e:for(Ce=h.child;Ce!==null;){if(Ce.tag===5||Ce.tag===6)K.appendChild(Ce.stateNode);else if(Ce.tag!==4&&Ce.tag!==27&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===h)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===h)break e;Ce=Ce.return}Ce.sibling.return=Ce.return,Ce=Ce.sibling}h.stateNode=K;e:switch(Pl(K,G,I),G){case"button":case"input":case"select":case"textarea":I=!!I.autoFocus;break e;case"img":I=!0;break e;default:I=!1}I&&an(h)}}return wn(h),gn(h,h.type,i===null?null:i.memoizedProps,h.pendingProps,E),null;case 6:if(i&&h.stateNode!=null)i.memoizedProps!==I&&an(h);else{if(typeof I!="string"&&h.stateNode===null)throw Error(r(166));if(i=Fe.current,Wl(h)){if(i=h.stateNode,E=h.memoizedProps,I=null,G=qa,G!==null)switch(G.tag){case 27:case 5:I=G.memoizedProps}i[Pr]=h,i=!!(i.nodeValue===E||I!==null&&I.suppressHydrationWarning===!0||n4(i.nodeValue,E)),i||Os(h,!0)}else i=Eg(i).createTextNode(I),i[Pr]=h,h.stateNode=i}return wn(h),null;case 31:if(E=h.memoizedState,i===null||i.memoizedState!==null){if(I=Wl(h),E!==null){if(i===null){if(!I)throw Error(r(318));if(i=h.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Pr]=h}else yl(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;wn(h),i=!1}else E=Cu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=E),i=!0;if(!i)return h.flags&256?(_n(h),h):(_n(h),null);if((h.flags&128)!==0)throw Error(r(558))}return wn(h),null;case 13:if(I=h.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(G=Wl(h),I!==null&&I.dehydrated!==null){if(i===null){if(!G)throw Error(r(318));if(G=h.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(r(317));G[Pr]=h}else yl(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;wn(h),G=!1}else G=Cu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=G),G=!0;if(!G)return h.flags&256?(_n(h),h):(_n(h),null)}return _n(h),(h.flags&128)!==0?(h.lanes=E,h):(E=I!==null,i=i!==null&&i.memoizedState!==null,E&&(I=h.child,G=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(G=I.alternate.memoizedState.cachePool.pool),K=null,I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(K=I.memoizedState.cachePool.pool),K!==G&&(I.flags|=2048)),E!==i&&E&&(h.child.flags|=8192),Fn(h,h.updateQueue),wn(h),null);case 4:return rt(),i===null&&Jm(h.stateNode.containerInfo),wn(h),null;case 10:return Hs(h.type),wn(h),null;case 19:if(oe(lr),I=h.memoizedState,I===null)return wn(h),null;if(G=(h.flags&128)!==0,K=I.rendering,K===null)if(G)zn(I,!1);else{if(ws!==0||i!==null&&(i.flags&128)!==0)for(i=h.child;i!==null;){if(K=ti(i),K!==null){for(h.flags|=128,zn(I,!1),i=K.updateQueue,h.updateQueue=i,Fn(h,i),h.subtreeFlags=0,i=E,E=h.child;E!==null;)Fi(E,i),E=E.sibling;return Z(lr,lr.current&1|2),ri&&To(h,I.treeForkCount),h.child}i=i.sibling}I.tail!==null&&gt()>gg&&(h.flags|=128,G=!0,zn(I,!1),h.lanes=4194304)}else{if(!G)if(i=ti(K),i!==null){if(h.flags|=128,G=!0,i=i.updateQueue,h.updateQueue=i,Fn(h,i),zn(I,!0),I.tail===null&&I.tailMode==="hidden"&&!K.alternate&&!ri)return wn(h),null}else 2*gt()-I.renderingStartTime>gg&&E!==536870912&&(h.flags|=128,G=!0,zn(I,!1),h.lanes=4194304);I.isBackwards?(K.sibling=h.child,h.child=K):(i=I.last,i!==null?i.sibling=K:h.child=K,I.last=K)}return I.tail!==null?(i=I.tail,I.rendering=i,I.tail=i.sibling,I.renderingStartTime=gt(),i.sibling=null,E=lr.current,Z(lr,G?E&1|2:E&1),ri&&To(h,I.treeForkCount),i):(wn(h),null);case 22:case 23:return _n(h),$e(),I=h.memoizedState!==null,i!==null?i.memoizedState!==null!==I&&(h.flags|=8192):I&&(h.flags|=8192),I?(E&536870912)!==0&&(h.flags&128)===0&&(wn(h),h.subtreeFlags&6&&(h.flags|=8192)):wn(h),E=h.updateQueue,E!==null&&Fn(h,E.retryQueue),E=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(E=i.memoizedState.cachePool.pool),I=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(I=h.memoizedState.cachePool.pool),I!==E&&(h.flags|=2048),i!==null&&oe(li),null;case 24:return E=null,i!==null&&(E=i.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),Hs(Aa),wn(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Cr(i,h){switch(wu(h),h.tag){case 1:return i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 3:return Hs(Aa),rt(),i=h.flags,(i&65536)!==0&&(i&128)===0?(h.flags=i&-65537|128,h):null;case 26:case 27:case 5:return _t(h),null;case 31:if(h.memoizedState!==null){if(_n(h),h.alternate===null)throw Error(r(340));yl()}return i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 13:if(_n(h),i=h.memoizedState,i!==null&&i.dehydrated!==null){if(h.alternate===null)throw Error(r(340));yl()}return i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 19:return oe(lr),null;case 4:return rt(),null;case 10:return Hs(h.type),null;case 22:case 23:return _n(h),$e(),i!==null&&oe(li),i=h.flags,i&65536?(h.flags=i&-65537|128,h):null;case 24:return Hs(Aa),null;case 25:return null;default:return null}}function dr(i,h){switch(wu(h),h.tag){case 3:Hs(Aa),rt();break;case 26:case 27:case 5:_t(h);break;case 4:rt();break;case 31:h.memoizedState!==null&&_n(h);break;case 13:_n(h);break;case 19:oe(lr);break;case 10:Hs(h.type);break;case 22:case 23:_n(h),$e(),i!==null&&oe(li);break;case 24:Hs(Aa)}}function ii(i,h){try{var E=h.updateQueue,I=E!==null?E.lastEffect:null;if(I!==null){var G=I.next;E=G;do{if((E.tag&i)===i){I=void 0;var K=E.create,Ce=E.inst;I=K(),Ce.destroy=I}E=E.next}while(E!==G)}}catch(je){Ga(h,h.return,je)}}function Wi(i,h,E){try{var I=h.updateQueue,G=I!==null?I.lastEffect:null;if(G!==null){var K=G.next;I=K;do{if((I.tag&i)===i){var Ce=I.inst,je=Ce.destroy;if(je!==void 0){Ce.destroy=void 0,G=h;var Tt=E,en=je;try{en()}catch(fn){Ga(G,Tt,fn)}}}I=I.next}while(I!==K)}}catch(fn){Ga(h,h.return,fn)}}function bs(i){var h=i.updateQueue;if(h!==null){var E=i.stateNode;try{H(h,E)}catch(I){Ga(i,i.return,I)}}}function oo(i,h,E){E.props=Oi(i.type,i.memoizedProps),E.state=i.memoizedState;try{E.componentWillUnmount()}catch(I){Ga(i,h,I)}}function Gs(i,h){try{var E=i.ref;if(E!==null){switch(i.tag){case 26:case 27:case 5:var I=i.stateNode;break;case 30:I=i.stateNode;break;default:I=i.stateNode}typeof E=="function"?i.refCleanup=E(I):E.current=I}}catch(G){Ga(i,h,G)}}function yo(i,h){var E=i.ref,I=i.refCleanup;if(E!==null)if(typeof I=="function")try{I()}catch(G){Ga(i,h,G)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(G){Ga(i,h,G)}else E.current=null}function Wo(i){var h=i.type,E=i.memoizedProps,I=i.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":E.autoFocus&&I.focus();break e;case"img":E.src?I.src=E.src:E.srcSet&&(I.srcset=E.srcSet)}}catch(G){Ga(i,i.return,G)}}function ul(i,h,E){try{var I=i.stateNode;mT(I,i.type,E,h),I[ar]=h}catch(G){Ga(i,i.return,G)}}function Ns(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Rh(i.type)||i.tag===4}function Go(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ns(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Rh(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ro(i,h,E){var I=i.tag;if(I===5||I===6)i=i.stateNode,h?(E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E).insertBefore(i,h):(h=E.nodeType===9?E.body:E.nodeName==="HTML"?E.ownerDocument.body:E,h.appendChild(i),E=E._reactRootContainer,E!=null||h.onclick!==null||(h.onclick=$r));else if(I!==4&&(I===27&&Rh(i.type)&&(E=i.stateNode,h=null),i=i.child,i!==null))for(Ro(i,h,E),i=i.sibling;i!==null;)Ro(i,h,E),i=i.sibling}function eo(i,h,E){var I=i.tag;if(I===5||I===6)i=i.stateNode,h?E.insertBefore(i,h):E.appendChild(i);else if(I!==4&&(I===27&&Rh(i.type)&&(E=i.stateNode),i=i.child,i!==null))for(eo(i,h,E),i=i.sibling;i!==null;)eo(i,h,E),i=i.sibling}function Sl(i){var h=i.stateNode,E=i.memoizedProps;try{for(var I=i.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);Pl(h,I,E),h[Pr]=i,h[ar]=E}catch(K){Ga(i,i.return,K)}}var Ql=!1,ja=!1,Ls=!1,tc=typeof WeakSet=="function"?WeakSet:Set,Pi=null;function Yd(i,h){if(i=i.containerInfo,tv=Og,i=V(i),ee(i)){if("selectionStart"in i)var E={start:i.selectionStart,end:i.selectionEnd};else e:{E=(E=i.ownerDocument)&&E.defaultView||window;var I=E.getSelection&&E.getSelection();if(I&&I.rangeCount!==0){E=I.anchorNode;var G=I.anchorOffset,K=I.focusNode;I=I.focusOffset;try{E.nodeType,K.nodeType}catch{E=null;break e}var Ce=0,je=-1,Tt=-1,en=0,fn=0,bn=i,rn=null;t:for(;;){for(var ln;bn!==E||G!==0&&bn.nodeType!==3||(je=Ce+G),bn!==K||I!==0&&bn.nodeType!==3||(Tt=Ce+I),bn.nodeType===3&&(Ce+=bn.nodeValue.length),(ln=bn.firstChild)!==null;)rn=bn,bn=ln;for(;;){if(bn===i)break t;if(rn===E&&++en===G&&(je=Ce),rn===K&&++fn===I&&(Tt=Ce),(ln=bn.nextSibling)!==null)break;bn=rn,rn=bn.parentNode}bn=ln}E=je===-1||Tt===-1?null:{start:je,end:Tt}}else E=null}E=E||{start:0,end:0}}else E=null;for(nv={focusedElem:i,selectionRange:E},Og=!1,Pi=h;Pi!==null;)if(h=Pi,i=h.child,(h.subtreeFlags&1028)!==0&&i!==null)i.return=h,Pi=i;else for(;Pi!==null;){switch(h=Pi,K=h.alternate,i=h.flags,h.tag){case 0:if((i&4)!==0&&(i=h.updateQueue,i=i!==null?i.events:null,i!==null))for(E=0;E<i.length;E++)G=i[E],G.ref.impl=G.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&K!==null){i=void 0,E=h,G=K.memoizedProps,K=K.memoizedState,I=E.stateNode;try{var ur=Oi(E.type,G);i=I.getSnapshotBeforeUpdate(ur,K),I.__reactInternalSnapshotBeforeUpdate=i}catch(qr){Ga(E,E.return,qr)}}break;case 3:if((i&1024)!==0){if(i=h.stateNode.containerInfo,E=i.nodeType,E===9)av(i);else if(E===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":av(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=h.sibling,i!==null){i.return=h.return,Pi=i;break}Pi=h.return}}function kc(i,h,E){var I=E.flags;switch(E.tag){case 0:case 11:case 15:$f(i,E),I&4&&ii(5,E);break;case 1:if($f(i,E),I&4)if(i=E.stateNode,h===null)try{i.componentDidMount()}catch(Ce){Ga(E,E.return,Ce)}else{var G=Oi(E.type,h.memoizedProps);h=h.memoizedState;try{i.componentDidUpdate(G,h,i.__reactInternalSnapshotBeforeUpdate)}catch(Ce){Ga(E,E.return,Ce)}}I&64&&bs(E),I&512&&Gs(E,E.return);break;case 3:if($f(i,E),I&64&&(i=E.updateQueue,i!==null)){if(h=null,E.child!==null)switch(E.child.tag){case 27:case 5:h=E.child.stateNode;break;case 1:h=E.child.stateNode}try{H(i,h)}catch(Ce){Ga(E,E.return,Ce)}}break;case 27:h===null&&I&4&&Sl(E);case 26:case 5:$f(i,E),h===null&&I&4&&Wo(E),I&512&&Gs(E,E.return);break;case 12:$f(i,E);break;case 31:$f(i,E),I&4&&vb(i,E);break;case 13:$f(i,E),I&4&&yb(i,E),I&64&&(i=E.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(E=iT.bind(null,E),ET(i,E))));break;case 22:if(I=E.memoizedState!==null||Ql,!I){h=h!==null&&h.memoizedState!==null||ja,G=Ql;var K=ja;Ql=I,(ja=h)&&!K?eh(i,E,(E.subtreeFlags&8772)!==0):$f(i,E),Ql=G,ja=K}break;case 30:break;default:$f(i,E)}}function kf(i){var h=i.alternate;h!==null&&(i.alternate=null,kf(h)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(h=i.stateNode,h!==null&&aa(h)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ba=null,Ta=!1;function Jl(i,h,E){for(E=E.child;E!==null;)X0(i,h,E),E=E.sibling}function X0(i,h,E){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(it,E)}catch{}switch(E.tag){case 26:ja||yo(E,h),Jl(i,h,E),E.memoizedState?E.memoizedState.count--:E.stateNode&&(E=E.stateNode,E.parentNode.removeChild(E));break;case 27:ja||yo(E,h);var I=ba,G=Ta;Rh(E.type)&&(ba=E.stateNode,Ta=!1),Jl(i,h,E),e1(E.stateNode),ba=I,Ta=G;break;case 5:ja||yo(E,h);case 6:if(I=ba,G=Ta,ba=null,Jl(i,h,E),ba=I,Ta=G,ba!==null)if(Ta)try{(ba.nodeType===9?ba.body:ba.nodeName==="HTML"?ba.ownerDocument.body:ba).removeChild(E.stateNode)}catch(K){Ga(E,h,K)}else try{ba.removeChild(E.stateNode)}catch(K){Ga(E,h,K)}break;case 18:ba!==null&&(Ta?(i=ba,l4(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,E.stateNode),id(i)):l4(ba,E.stateNode));break;case 4:I=ba,G=Ta,ba=E.stateNode.containerInfo,Ta=!0,Jl(i,h,E),ba=I,Ta=G;break;case 0:case 11:case 14:case 15:Wi(2,E,h),ja||Wi(4,E,h),Jl(i,h,E);break;case 1:ja||(yo(E,h),I=E.stateNode,typeof I.componentWillUnmount=="function"&&oo(E,h,I)),Jl(i,h,E);break;case 21:Jl(i,h,E);break;case 22:ja=(I=ja)||E.memoizedState!==null,Jl(i,h,E),ja=I;break;default:Jl(i,h,E)}}function vb(i,h){if(h.memoizedState===null&&(i=h.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{id(i)}catch(E){Ga(h,h.return,E)}}}function yb(i,h){if(h.memoizedState===null&&(i=h.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{id(i)}catch(E){Ga(h,h.return,E)}}function qA(i){switch(i.tag){case 31:case 13:case 19:var h=i.stateNode;return h===null&&(h=i.stateNode=new tc),h;case 22:return i=i.stateNode,h=i._retryCache,h===null&&(h=i._retryCache=new tc),h;default:throw Error(r(435,i.tag))}}function fg(i,h){var E=qA(i);h.forEach(function(I){if(!E.has(I)){E.add(I);var G=aT.bind(null,i,I);I.then(G,G)}})}function Lu(i,h){var E=h.deletions;if(E!==null)for(var I=0;I<E.length;I++){var G=E[I],K=i,Ce=h,je=Ce;e:for(;je!==null;){switch(je.tag){case 27:if(Rh(je.type)){ba=je.stateNode,Ta=!1;break e}break;case 5:ba=je.stateNode,Ta=!1;break e;case 3:case 4:ba=je.stateNode.containerInfo,Ta=!0;break e}je=je.return}if(ba===null)throw Error(r(160));X0(K,Ce,G),ba=null,Ta=!1,K=G.alternate,K!==null&&(K.return=null),G.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)xb(h,i),h=h.sibling}var ef=null;function xb(i,h){var E=i.alternate,I=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lu(h,i),Bu(i),I&4&&(Wi(3,i,i.return),ii(3,i),Wi(5,i,i.return));break;case 1:Lu(h,i),Bu(i),I&512&&(ja||E===null||yo(E,E.return)),I&64&&Ql&&(i=i.updateQueue,i!==null&&(I=i.callbacks,I!==null&&(E=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=E===null?I:E.concat(I))));break;case 26:var G=ef;if(Lu(h,i),Bu(i),I&512&&(ja||E===null||yo(E,E.return)),I&4){var K=E!==null?E.memoizedState:null;if(I=i.memoizedState,E===null)if(I===null)if(i.stateNode===null){e:{I=i.type,E=i.memoizedProps,G=G.ownerDocument||G;t:switch(I){case"title":K=G.getElementsByTagName("title")[0],(!K||K[gr]||K[Pr]||K.namespaceURI==="http://www.w3.org/2000/svg"||K.hasAttribute("itemprop"))&&(K=G.createElement(I),G.head.insertBefore(K,G.querySelector("head > title"))),Pl(K,I,E),K[Pr]=i,Ri(K),I=K;break e;case"link":var Ce=x4("link","href",G).get(I+(E.href||""));if(Ce){for(var je=0;je<Ce.length;je++)if(K=Ce[je],K.getAttribute("href")===(E.href==null||E.href===""?null:E.href)&&K.getAttribute("rel")===(E.rel==null?null:E.rel)&&K.getAttribute("title")===(E.title==null?null:E.title)&&K.getAttribute("crossorigin")===(E.crossOrigin==null?null:E.crossOrigin)){Ce.splice(je,1);break t}}K=G.createElement(I),Pl(K,I,E),G.head.appendChild(K);break;case"meta":if(Ce=x4("meta","content",G).get(I+(E.content||""))){for(je=0;je<Ce.length;je++)if(K=Ce[je],K.getAttribute("content")===(E.content==null?null:""+E.content)&&K.getAttribute("name")===(E.name==null?null:E.name)&&K.getAttribute("property")===(E.property==null?null:E.property)&&K.getAttribute("http-equiv")===(E.httpEquiv==null?null:E.httpEquiv)&&K.getAttribute("charset")===(E.charSet==null?null:E.charSet)){Ce.splice(je,1);break t}}K=G.createElement(I),Pl(K,I,E),G.head.appendChild(K);break;default:throw Error(r(468,I))}K[Pr]=i,Ri(K),I=K}i.stateNode=I}else b4(G,i.type,i.stateNode);else i.stateNode=y4(G,I,i.memoizedProps);else K!==I?(K===null?E.stateNode!==null&&(E=E.stateNode,E.parentNode.removeChild(E)):K.count--,I===null?b4(G,i.type,i.stateNode):y4(G,I,i.memoizedProps)):I===null&&i.stateNode!==null&&ul(i,i.memoizedProps,E.memoizedProps)}break;case 27:Lu(h,i),Bu(i),I&512&&(ja||E===null||yo(E,E.return)),E!==null&&I&4&&ul(i,i.memoizedProps,E.memoizedProps);break;case 5:if(Lu(h,i),Bu(i),I&512&&(ja||E===null||yo(E,E.return)),i.flags&32){G=i.stateNode;try{nt(G,"")}catch(ur){Ga(i,i.return,ur)}}I&4&&i.stateNode!=null&&(G=i.memoizedProps,ul(i,G,E!==null?E.memoizedProps:G)),I&1024&&(Ls=!0);break;case 6:if(Lu(h,i),Bu(i),I&4){if(i.stateNode===null)throw Error(r(162));I=i.memoizedProps,E=i.stateNode;try{E.nodeValue=I}catch(ur){Ga(i,i.return,ur)}}break;case 3:if(Dg=null,G=ef,ef=Ag(h.containerInfo),Lu(h,i),ef=G,Bu(i),I&4&&E!==null&&E.memoizedState.isDehydrated)try{id(h.containerInfo)}catch(ur){Ga(i,i.return,ur)}Ls&&(Ls=!1,bb(i));break;case 4:I=ef,ef=Ag(i.stateNode.containerInfo),Lu(h,i),Bu(i),ef=I;break;case 12:Lu(h,i),Bu(i);break;case 31:Lu(h,i),Bu(i),I&4&&(I=i.updateQueue,I!==null&&(i.updateQueue=null,fg(i,I)));break;case 13:Lu(h,i),Bu(i),i.child.flags&8192&&i.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(dg=gt()),I&4&&(I=i.updateQueue,I!==null&&(i.updateQueue=null,fg(i,I)));break;case 22:G=i.memoizedState!==null;var Tt=E!==null&&E.memoizedState!==null,en=Ql,fn=ja;if(Ql=en||G,ja=fn||Tt,Lu(h,i),ja=fn,Ql=en,Bu(i),I&8192)e:for(h=i.stateNode,h._visibility=G?h._visibility&-2:h._visibility|1,G&&(E===null||Tt||Ql||ja||p0(i)),E=null,h=i;;){if(h.tag===5||h.tag===26){if(E===null){Tt=E=h;try{if(K=Tt.stateNode,G)Ce=K.style,typeof Ce.setProperty=="function"?Ce.setProperty("display","none","important"):Ce.display="none";else{je=Tt.stateNode;var bn=Tt.memoizedProps.style,rn=bn!=null&&bn.hasOwnProperty("display")?bn.display:null;je.style.display=rn==null||typeof rn=="boolean"?"":(""+rn).trim()}}catch(ur){Ga(Tt,Tt.return,ur)}}}else if(h.tag===6){if(E===null){Tt=h;try{Tt.stateNode.nodeValue=G?"":Tt.memoizedProps}catch(ur){Ga(Tt,Tt.return,ur)}}}else if(h.tag===18){if(E===null){Tt=h;try{var ln=Tt.stateNode;G?u4(ln,!0):u4(Tt.stateNode,!1)}catch(ur){Ga(Tt,Tt.return,ur)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===i)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;E===h&&(E=null),h=h.return}E===h&&(E=null),h.sibling.return=h.return,h=h.sibling}I&4&&(I=i.updateQueue,I!==null&&(E=I.retryQueue,E!==null&&(I.retryQueue=null,fg(i,E))));break;case 19:Lu(h,i),Bu(i),I&4&&(I=i.updateQueue,I!==null&&(i.updateQueue=null,fg(i,I)));break;case 30:break;case 21:break;default:Lu(h,i),Bu(i)}}function Bu(i){var h=i.flags;if(h&2){try{for(var E,I=i.return;I!==null;){if(Ns(I)){E=I;break}I=I.return}if(E==null)throw Error(r(160));switch(E.tag){case 27:var G=E.stateNode,K=Go(i);eo(i,K,G);break;case 5:var Ce=E.stateNode;E.flags&32&&(nt(Ce,""),E.flags&=-33);var je=Go(i);eo(i,je,Ce);break;case 3:case 4:var Tt=E.stateNode.containerInfo,en=Go(i);Ro(i,en,Tt);break;default:throw Error(r(161))}}catch(fn){Ga(i,i.return,fn)}i.flags&=-3}h&4096&&(i.flags&=-4097)}function bb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var h=i;bb(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),i=i.sibling}}function $f(i,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)kc(i,h.alternate,h),h=h.sibling}function p0(i){for(i=i.child;i!==null;){var h=i;switch(h.tag){case 0:case 11:case 14:case 15:Wi(4,h,h.return),p0(h);break;case 1:yo(h,h.return);var E=h.stateNode;typeof E.componentWillUnmount=="function"&&oo(h,h.return,E),p0(h);break;case 27:e1(h.stateNode);case 26:case 5:yo(h,h.return),p0(h);break;case 22:h.memoizedState===null&&p0(h);break;case 30:p0(h);break;default:p0(h)}i=i.sibling}}function eh(i,h,E){for(E=E&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var I=h.alternate,G=i,K=h,Ce=K.flags;switch(K.tag){case 0:case 11:case 15:eh(G,K,E),ii(4,K);break;case 1:if(eh(G,K,E),I=K,G=I.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(en){Ga(I,I.return,en)}if(I=K,G=I.updateQueue,G!==null){var je=I.stateNode;try{var Tt=G.shared.hiddenCallbacks;if(Tt!==null)for(G.shared.hiddenCallbacks=null,G=0;G<Tt.length;G++)z(Tt[G],je)}catch(en){Ga(I,I.return,en)}}E&&Ce&64&&bs(K),Gs(K,K.return);break;case 27:Sl(K);case 26:case 5:eh(G,K,E),E&&I===null&&Ce&4&&Wo(K),Gs(K,K.return);break;case 12:eh(G,K,E);break;case 31:eh(G,K,E),E&&Ce&4&&vb(G,K);break;case 13:eh(G,K,E),E&&Ce&4&&yb(G,K);break;case 22:K.memoizedState===null&&eh(G,K,E),Gs(K,K.return);break;case 30:break;default:eh(G,K,E)}h=h.sibling}}function Lm(i,h){var E=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(E=i.memoizedState.cachePool.pool),i=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(i=h.memoizedState.cachePool.pool),i!==E&&(i!=null&&i.refCount++,E!=null&&Xu(E))}function Bm(i,h){i=null,h.alternate!==null&&(i=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==i&&(h.refCount++,i!=null&&Xu(i))}function tf(i,h,E,I){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)wb(i,h,E,I),h=h.sibling}function wb(i,h,E,I){var G=h.flags;switch(h.tag){case 0:case 11:case 15:tf(i,h,E,I),G&2048&&ii(9,h);break;case 1:tf(i,h,E,I);break;case 3:tf(i,h,E,I),G&2048&&(i=null,h.alternate!==null&&(i=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==i&&(h.refCount++,i!=null&&Xu(i)));break;case 12:if(G&2048){tf(i,h,E,I),i=h.stateNode;try{var K=h.memoizedProps,Ce=K.id,je=K.onPostCommit;typeof je=="function"&&je(Ce,h.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Tt){Ga(h,h.return,Tt)}}else tf(i,h,E,I);break;case 31:tf(i,h,E,I);break;case 13:tf(i,h,E,I);break;case 23:break;case 22:K=h.stateNode,Ce=h.alternate,h.memoizedState!==null?K._visibility&2?tf(i,h,E,I):Xd(i,h):K._visibility&2?tf(i,h,E,I):(K._visibility|=2,V0(i,h,E,I,(h.subtreeFlags&10256)!==0||!1)),G&2048&&Lm(Ce,h);break;case 24:tf(i,h,E,I),G&2048&&Bm(h.alternate,h);break;default:tf(i,h,E,I)}}function V0(i,h,E,I,G){for(G=G&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var K=i,Ce=h,je=E,Tt=I,en=Ce.flags;switch(Ce.tag){case 0:case 11:case 15:V0(K,Ce,je,Tt,G),ii(8,Ce);break;case 23:break;case 22:var fn=Ce.stateNode;Ce.memoizedState!==null?fn._visibility&2?V0(K,Ce,je,Tt,G):Xd(K,Ce):(fn._visibility|=2,V0(K,Ce,je,Tt,G)),G&&en&2048&&Lm(Ce.alternate,Ce);break;case 24:V0(K,Ce,je,Tt,G),G&&en&2048&&Bm(Ce.alternate,Ce);break;default:V0(K,Ce,je,Tt,G)}h=h.sibling}}function Xd(i,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var E=i,I=h,G=I.flags;switch(I.tag){case 22:Xd(E,I),G&2048&&Lm(I.alternate,I);break;case 24:Xd(E,I),G&2048&&Bm(I.alternate,I);break;default:Xd(E,I)}h=h.sibling}}var Vd=8192;function K0(i,h,E){if(i.subtreeFlags&Vd)for(i=i.child;i!==null;)Cb(i,h,E),i=i.sibling}function Cb(i,h,E){switch(i.tag){case 26:K0(i,h,E),i.flags&Vd&&i.memoizedState!==null&&BT(E,ef,i.memoizedState,i.memoizedProps);break;case 5:K0(i,h,E);break;case 3:case 4:var I=ef;ef=Ag(i.stateNode.containerInfo),K0(i,h,E),ef=I;break;case 22:i.memoizedState===null&&(I=i.alternate,I!==null&&I.memoizedState!==null?(I=Vd,Vd=16777216,K0(i,h,E),Vd=I):K0(i,h,E));break;default:K0(i,h,E)}}function Sb(i){var h=i.alternate;if(h!==null&&(i=h.child,i!==null)){h.child=null;do h=i.sibling,i.sibling=null,i=h;while(i!==null)}}function Kd(i){var h=i.deletions;if((i.flags&16)!==0){if(h!==null)for(var E=0;E<h.length;E++){var I=h[E];Pi=I,Ab(I,i)}Sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Eb(i),i=i.sibling}function Eb(i){switch(i.tag){case 0:case 11:case 15:Kd(i),i.flags&2048&&Wi(9,i,i.return);break;case 3:Kd(i);break;case 12:Kd(i);break;case 22:var h=i.stateNode;i.memoizedState!==null&&h._visibility&2&&(i.return===null||i.return.tag!==13)?(h._visibility&=-3,hg(i)):Kd(i);break;default:Kd(i)}}function hg(i){var h=i.deletions;if((i.flags&16)!==0){if(h!==null)for(var E=0;E<h.length;E++){var I=h[E];Pi=I,Ab(I,i)}Sb(i)}for(i=i.child;i!==null;){switch(h=i,h.tag){case 0:case 11:case 15:Wi(8,h,h.return),hg(h);break;case 22:E=h.stateNode,E._visibility&2&&(E._visibility&=-3,hg(h));break;default:hg(h)}i=i.sibling}}function Ab(i,h){for(;Pi!==null;){var E=Pi;switch(E.tag){case 0:case 11:case 15:Wi(8,E,h);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var I=E.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:Xu(E.memoizedState.cache)}if(I=E.child,I!==null)I.return=E,Pi=I;else e:for(E=i;Pi!==null;){I=Pi;var G=I.sibling,K=I.return;if(kf(I),I===E){Pi=null;break e}if(G!==null){G.return=K,Pi=G;break e}Pi=K}}}var QA={getCacheForType:function(i){var h=sa(Aa),E=h.data.get(i);return E===void 0&&(E=i(),h.data.set(i,E)),E},cacheSignal:function(){return sa(Aa).controller.signal}},JA=typeof WeakMap=="function"?WeakMap:Map,Da=0,so=null,Gi=null,ra=0,Wa=0,nc=null,Dh=!1,Z0=!1,Fm=!1,th=0,ws=0,kh=0,m0=0,Pm=0,rc=0,q0=0,Zd=null,Fu=null,zm=!1,dg=0,Tb=0,gg=1/0,pg=null,_h=null,cl=0,Mh=null,Q0=null,nh=0,Hm=0,Um=null,Db=null,qd=0,jm=null;function ic(){return(Da&2)!==0&&ra!==0?ra&-ra:me.T!==null?Km():vi()}function kb(){if(rc===0)if((ra&536870912)===0||ri){var i=pn;pn<<=1,(pn&3932160)===0&&(pn=262144),rc=i}else rc=536870912;return i=Ot.current,i!==null&&(i.flags|=32),rc}function Pu(i,h,E){(i===so&&(Wa===2||Wa===9)||i.cancelPendingCommit!==null)&&(J0(i,0),Oh(i,ra,rc,!1)),Br(i,E),((Da&2)===0||i!==so)&&(i===so&&((Da&2)===0&&(m0|=E),ws===4&&Oh(i,ra,rc,!1)),_f(i))}function _b(i,h,E){if((Da&6)!==0)throw Error(r(327));var I=!E&&(h&127)===0&&(h&i.expiredLanes)===0||Yn(i,h),G=I?tT(i,h):Gm(i,h,!0),K=I;do{if(G===0){Z0&&!I&&Oh(i,h,0,!1);break}else{if(E=i.current.alternate,K&&!$A(E)){G=Gm(i,h,!1),K=!1;continue}if(G===2){if(K=h,i.errorRecoveryDisabledLanes&K)var Ce=0;else Ce=i.pendingLanes&-536870913,Ce=Ce!==0?Ce:Ce&536870912?536870912:0;if(Ce!==0){h=Ce;e:{var je=i;G=Zd;var Tt=je.current.memoizedState.isDehydrated;if(Tt&&(J0(je,Ce).flags|=256),Ce=Gm(je,Ce,!1),Ce!==2){if(Fm&&!Tt){je.errorRecoveryDisabledLanes|=K,m0|=K,G=4;break e}K=Fu,Fu=G,K!==null&&(Fu===null?Fu=K:Fu.push.apply(Fu,K))}G=Ce}if(K=!1,G!==2)continue}}if(G===1){J0(i,0),Oh(i,h,0,!0);break}e:{switch(I=i,K=G,K){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Oh(I,h,rc,!Dh);break e;case 2:Fu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(G=dg+300-gt(),10<G)){if(Oh(I,h,rc,!Dh),$n(I,0,!0)!==0)break e;nh=h,I.timeoutHandle=o4(Mb.bind(null,I,E,Fu,pg,zm,h,rc,m0,q0,Dh,K,"Throttled",-0,0),G);break e}Mb(I,E,Fu,pg,zm,h,rc,m0,q0,Dh,K,null,-0,0)}}break}while(!0);_f(i)}function Mb(i,h,E,I,G,K,Ce,je,Tt,en,fn,bn,rn,ln){if(i.timeoutHandle=-1,bn=h.subtreeFlags,bn&8192||(bn&16785408)===16785408){bn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$r},Cb(h,K,bn);var ur=(K&62914560)===K?dg-gt():(K&4194048)===K?Tb-gt():0;if(ur=FT(bn,ur),ur!==null){nh=K,i.cancelPendingCommit=ur(Pb.bind(null,i,h,K,E,I,G,Ce,je,Tt,fn,bn,null,rn,ln)),Oh(i,K,Ce,!en);return}}Pb(i,h,K,E,I,G,Ce,je,Tt)}function $A(i){for(var h=i;;){var E=h.tag;if((E===0||E===11||E===15)&&h.flags&16384&&(E=h.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var I=0;I<E.length;I++){var G=E[I],K=G.getSnapshot;G=G.value;try{if(!L(K(),G))return!1}catch{return!1}}if(E=h.child,h.subtreeFlags&16384&&E!==null)E.return=h,h=E;else{if(h===i)break;for(;h.sibling===null;){if(h.return===null||h.return===i)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Oh(i,h,E,I){h&=~Pm,h&=~m0,i.suspendedLanes|=h,i.pingedLanes&=~h,I&&(i.warmLanes|=h),I=i.expirationTimes;for(var G=h;0<G;){var K=31-Ye(G),Ce=1<<K;I[K]=-1,G&=~Ce}E!==0&&Mi(i,E,h)}function mg(){return(Da&6)===0?(Qd(0),!1):!0}function Wm(){if(Gi!==null){if(Wa===0)var i=Gi.return;else i=Gi,Zr=Ra=null,Tu(i),Us=null,qu=0,i=Gi;for(;i!==null;)dr(i.alternate,i),i=i.return;Gi=null}}function J0(i,h){var E=i.timeoutHandle;E!==-1&&(i.timeoutHandle=-1,xT(E)),E=i.cancelPendingCommit,E!==null&&(i.cancelPendingCommit=null,E()),nh=0,Wm(),so=i,Gi=E=za(i.current,null),ra=h,Wa=0,nc=null,Dh=!1,Z0=Yn(i,h),Fm=!1,q0=rc=Pm=m0=kh=ws=0,Fu=Zd=null,zm=!1,(h&8)!==0&&(h|=h&32);var I=i.entangledLanes;if(I!==0)for(i=i.entanglements,I&=h;0<I;){var G=31-Ye(I),K=1<<G;h|=i[G],I&=~K}return th=h,rr(),E}function Ob(i,h){qn=null,me.H=Kf,h===Gl||h===Xl?(h=ao(),Wa=3):h===Yl?(h=ao(),Wa=4):Wa=h===Qf?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,nc=h,Gi===null&&(ws=1,ll(i,ds(h,i.current)))}function Ib(){var i=Ot.current;return i===null?!0:(ra&4194048)===ra?ht===null:(ra&62914560)===ra||(ra&536870912)!==0?i===ht:!1}function Rb(){var i=me.H;return me.H=Kf,i===null?Kf:i}function Nb(){var i=me.A;return me.A=QA,i}function vg(){ws=4,Dh||(ra&4194048)!==ra&&Ot.current!==null||(Z0=!0),(kh&134217727)===0&&(m0&134217727)===0||so===null||Oh(so,ra,rc,!1)}function Gm(i,h,E){var I=Da;Da|=2;var G=Rb(),K=Nb();(so!==i||ra!==h)&&(pg=null,J0(i,h)),h=!1;var Ce=ws;e:do try{if(Wa!==0&&Gi!==null){var je=Gi,Tt=nc;switch(Wa){case 8:Wm(),Ce=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(h=!0);var en=Wa;if(Wa=0,nc=null,$0(i,je,Tt,en),E&&Z0){Ce=0;break e}break;default:en=Wa,Wa=0,nc=null,$0(i,je,Tt,en)}}eT(),Ce=ws;break}catch(fn){Ob(i,fn)}while(!0);return h&&i.shellSuspendCounter++,Zr=Ra=null,Da=I,me.H=G,me.A=K,Gi===null&&(so=null,ra=0,rr()),Ce}function eT(){for(;Gi!==null;)Lb(Gi)}function tT(i,h){var E=Da;Da|=2;var I=Rb(),G=Nb();so!==i||ra!==h?(pg=null,gg=gt()+500,J0(i,h)):Z0=Yn(i,h);e:do try{if(Wa!==0&&Gi!==null){h=Gi;var K=nc;t:switch(Wa){case 1:Wa=0,nc=null,$0(i,h,K,1);break;case 2:case 9:if(Zu(K)){Wa=0,nc=null,Bb(h);break}h=function(){Wa!==2&&Wa!==9||so!==i||(Wa=7),_f(i)},K.then(h,h);break e;case 3:Wa=7;break e;case 4:Wa=5;break e;case 7:Zu(K)?(Wa=0,nc=null,Bb(h)):(Wa=0,nc=null,$0(i,h,K,7));break;case 5:var Ce=null;switch(Gi.tag){case 26:Ce=Gi.memoizedState;case 5:case 27:var je=Gi;if(Ce?w4(Ce):je.stateNode.complete){Wa=0,nc=null;var Tt=je.sibling;if(Tt!==null)Gi=Tt;else{var en=je.return;en!==null?(Gi=en,yg(en)):Gi=null}break t}}Wa=0,nc=null,$0(i,h,K,5);break;case 6:Wa=0,nc=null,$0(i,h,K,6);break;case 8:Wm(),ws=6;break e;default:throw Error(r(462))}}nT();break}catch(fn){Ob(i,fn)}while(!0);return Zr=Ra=null,me.H=I,me.A=G,Da=E,Gi!==null?0:(so=null,ra=0,rr(),ws)}function nT(){for(;Gi!==null&&!Zt();)Lb(Gi)}function Lb(i){var h=Mt(i.alternate,i,th);i.memoizedProps=i.pendingProps,h===null?yg(i):Gi=h}function Bb(i){var h=i,E=h.alternate;switch(h.tag){case 15:case 0:h=Dc(E,h,h.pendingProps,h.type,void 0,ra);break;case 11:h=Dc(E,h,h.pendingProps,h.type.render,h.ref,ra);break;case 5:Tu(h);default:dr(E,h),h=Gi=Fi(h,th),h=Mt(E,h,th)}i.memoizedProps=i.pendingProps,h===null?yg(i):Gi=h}function $0(i,h,E,I){Zr=Ra=null,Tu(h),Us=null,qu=0;var G=h.return;try{if(Af(i,G,h,E,ra)){ws=1,ll(i,ds(E,i.current)),Gi=null;return}}catch(K){if(G!==null)throw Gi=G,K;ws=1,ll(i,ds(E,i.current)),Gi=null;return}h.flags&32768?(ri||I===1?i=!0:Z0||(ra&536870912)!==0?i=!1:(Dh=i=!0,(I===2||I===9||I===3||I===6)&&(I=Ot.current,I!==null&&I.tag===13&&(I.flags|=16384))),Fb(h,i)):yg(h)}function yg(i){var h=i;do{if((h.flags&32768)!==0){Fb(h,Dh);return}i=h.return;var E=Kn(h.alternate,h,th);if(E!==null){Gi=E;return}if(h=h.sibling,h!==null){Gi=h;return}Gi=h=i}while(h!==null);ws===0&&(ws=5)}function Fb(i,h){do{var E=Cr(i.alternate,i);if(E!==null){E.flags&=32767,Gi=E;return}if(E=i.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!h&&(i=i.sibling,i!==null)){Gi=i;return}Gi=i=E}while(i!==null);ws=6,Gi=null}function Pb(i,h,E,I,G,K,Ce,je,Tt){i.cancelPendingCommit=null;do xg();while(cl!==0);if((Da&6)!==0)throw Error(r(327));if(h!==null){if(h===i.current)throw Error(r(177));if(K=h.lanes|h.childLanes,K|=In,mr(i,E,K,Ce,je,Tt),i===so&&(Gi=so=null,ra=0),Q0=h,Mh=i,nh=E,Hm=K,Um=G,Db=I,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oT(Ee,function(){return Wb(),null})):(i.callbackNode=null,i.callbackPriority=0),I=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||I){I=me.T,me.T=null,G=Ie.p,Ie.p=2,Ce=Da,Da|=4;try{Yd(i,h,E)}finally{Da=Ce,Ie.p=G,me.T=I}}cl=1,zb(),Hb(),Ub()}}function zb(){if(cl===1){cl=0;var i=Mh,h=Q0,E=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||E){E=me.T,me.T=null;var I=Ie.p;Ie.p=2;var G=Da;Da|=4;try{xb(h,i);var K=nv,Ce=V(i.containerInfo),je=K.focusedElem,Tt=K.selectionRange;if(Ce!==je&&je&&je.ownerDocument&&j(je.ownerDocument.documentElement,je)){if(Tt!==null&&ee(je)){var en=Tt.start,fn=Tt.end;if(fn===void 0&&(fn=en),"selectionStart"in je)je.selectionStart=en,je.selectionEnd=Math.min(fn,je.value.length);else{var bn=je.ownerDocument||document,rn=bn&&bn.defaultView||window;if(rn.getSelection){var ln=rn.getSelection(),ur=je.textContent.length,qr=Math.min(Tt.start,ur),no=Tt.end===void 0?qr:Math.min(Tt.end,ur);!ln.extend&&qr>no&&(Ce=no,no=qr,qr=Ce);var Yt=B(je,qr),Lt=B(je,no);if(Yt&&Lt&&(ln.rangeCount!==1||ln.anchorNode!==Yt.node||ln.anchorOffset!==Yt.offset||ln.focusNode!==Lt.node||ln.focusOffset!==Lt.offset)){var Jt=bn.createRange();Jt.setStart(Yt.node,Yt.offset),ln.removeAllRanges(),qr>no?(ln.addRange(Jt),ln.extend(Lt.node,Lt.offset)):(Jt.setEnd(Lt.node,Lt.offset),ln.addRange(Jt))}}}}for(bn=[],ln=je;ln=ln.parentNode;)ln.nodeType===1&&bn.push({element:ln,left:ln.scrollLeft,top:ln.scrollTop});for(typeof je.focus=="function"&&je.focus(),je=0;je<bn.length;je++){var yn=bn[je];yn.element.scrollLeft=yn.left,yn.element.scrollTop=yn.top}}Og=!!tv,nv=tv=null}finally{Da=G,Ie.p=I,me.T=E}}i.current=h,cl=2}}function Hb(){if(cl===2){cl=0;var i=Mh,h=Q0,E=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||E){E=me.T,me.T=null;var I=Ie.p;Ie.p=2;var G=Da;Da|=4;try{kc(i,h.alternate,h)}finally{Da=G,Ie.p=I,me.T=E}}cl=3}}function Ub(){if(cl===4||cl===3){cl=0,Bn();var i=Mh,h=Q0,E=nh,I=Db;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?cl=5:(cl=0,Q0=Mh=null,jb(i,i.pendingLanes));var G=i.pendingLanes;if(G===0&&(_h=null),Yr(E),h=h.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(it,h,void 0,(h.current.flags&128)===128)}catch{}if(I!==null){h=me.T,G=Ie.p,Ie.p=2,me.T=null;try{for(var K=i.onRecoverableError,Ce=0;Ce<I.length;Ce++){var je=I[Ce];K(je.value,{componentStack:je.stack})}}finally{me.T=h,Ie.p=G}}(nh&3)!==0&&xg(),_f(i),G=i.pendingLanes,(E&261930)!==0&&(G&42)!==0?i===jm?qd++:(qd=0,jm=i):qd=0,Qd(0)}}function jb(i,h){(i.pooledCacheLanes&=h)===0&&(h=i.pooledCache,h!=null&&(i.pooledCache=null,Xu(h)))}function xg(){return zb(),Hb(),Ub(),Wb()}function Wb(){if(cl!==5)return!1;var i=Mh,h=Hm;Hm=0;var E=Yr(nh),I=me.T,G=Ie.p;try{Ie.p=32>E?32:E,me.T=null,E=Um,Um=null;var K=Mh,Ce=nh;if(cl=0,Q0=Mh=null,nh=0,(Da&6)!==0)throw Error(r(331));var je=Da;if(Da|=4,Eb(K.current),wb(K,K.current,Ce,E),Da=je,Qd(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(it,K)}catch{}return!0}finally{Ie.p=G,me.T=I,jb(i,h)}}function Gb(i,h,E){h=ds(E,h),h=Sf(i.stateNode,h,2),i=ys(i,h,2),i!==null&&(Br(i,2),_f(i))}function Ga(i,h,E){if(i.tag===3)Gb(i,i,E);else for(;h!==null;){if(h.tag===3){Gb(h,i,E);break}else if(h.tag===1){var I=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(_h===null||!_h.has(I))){i=ds(E,i),E=Ef(2),I=ys(h,E,2),I!==null&&(qf(E,I,h,i),Br(I,2),_f(I));break}}h=h.return}}function Ym(i,h,E){var I=i.pingCache;if(I===null){I=i.pingCache=new JA;var G=new Set;I.set(h,G)}else G=I.get(h),G===void 0&&(G=new Set,I.set(h,G));G.has(E)||(Fm=!0,G.add(E),i=rT.bind(null,i,h,E),h.then(i,i))}function rT(i,h,E){var I=i.pingCache;I!==null&&I.delete(h),i.pingedLanes|=i.suspendedLanes&E,i.warmLanes&=~E,so===i&&(ra&E)===E&&(ws===4||ws===3&&(ra&62914560)===ra&&300>gt()-dg?(Da&2)===0&&J0(i,0):Pm|=E,q0===ra&&(q0=0)),_f(i)}function Yb(i,h){h===0&&(h=Hn()),i=_r(i,h),i!==null&&(Br(i,h),_f(i))}function iT(i){var h=i.memoizedState,E=0;h!==null&&(E=h.retryLane),Yb(i,E)}function aT(i,h){var E=0;switch(i.tag){case 31:case 13:var I=i.stateNode,G=i.memoizedState;G!==null&&(E=G.retryLane);break;case 19:I=i.stateNode;break;case 22:I=i.stateNode._retryCache;break;default:throw Error(r(314))}I!==null&&I.delete(h),Yb(i,E)}function oT(i,h){return un(i,h)}var bg=null,ed=null,Xm=!1,wg=!1,Vm=!1,Ih=0;function _f(i){i!==ed&&i.next===null&&(ed===null?bg=ed=i:ed=ed.next=i),wg=!0,Xm||(Xm=!0,lT())}function Qd(i,h){if(!Vm&&wg){Vm=!0;do for(var E=!1,I=bg;I!==null;){if(i!==0){var G=I.pendingLanes;if(G===0)var K=0;else{var Ce=I.suspendedLanes,je=I.pingedLanes;K=(1<<31-Ye(42|i)+1)-1,K&=G&~(Ce&~je),K=K&201326741?K&201326741|1:K?K|2:0}K!==0&&(E=!0,Zb(I,K))}else K=ra,K=$n(I,I===so?K:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),(K&3)===0||Yn(I,K)||(E=!0,Zb(I,K));I=I.next}while(E);Vm=!1}}function sT(){Xb()}function Xb(){wg=Xm=!1;var i=0;Ih!==0&&yT()&&(i=Ih);for(var h=gt(),E=null,I=bg;I!==null;){var G=I.next,K=Vb(I,h);K===0?(I.next=null,E===null?bg=G:E.next=G,G===null&&(ed=E)):(E=I,(i!==0||(K&3)!==0)&&(wg=!0)),I=G}cl!==0&&cl!==5||Qd(i),Ih!==0&&(Ih=0)}function Vb(i,h){for(var E=i.suspendedLanes,I=i.pingedLanes,G=i.expirationTimes,K=i.pendingLanes&-62914561;0<K;){var Ce=31-Ye(K),je=1<<Ce,Tt=G[Ce];Tt===-1?((je&E)===0||(je&I)!==0)&&(G[Ce]=er(je,h)):Tt<=h&&(i.expiredLanes|=je),K&=~je}if(h=so,E=ra,E=$n(i,i===h?E:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),I=i.callbackNode,E===0||i===h&&(Wa===2||Wa===9)||i.cancelPendingCommit!==null)return I!==null&&I!==null&&Xt(I),i.callbackNode=null,i.callbackPriority=0;if((E&3)===0||Yn(i,E)){if(h=E&-E,h===i.callbackPriority)return h;switch(I!==null&&Xt(I),Yr(E)){case 2:case 8:E=xe;break;case 32:E=Ee;break;case 268435456:E=re;break;default:E=Ee}return I=Kb.bind(null,i),E=un(E,I),i.callbackPriority=h,i.callbackNode=E,h}return I!==null&&I!==null&&Xt(I),i.callbackPriority=2,i.callbackNode=null,2}function Kb(i,h){if(cl!==0&&cl!==5)return i.callbackNode=null,i.callbackPriority=0,null;var E=i.callbackNode;if(xg()&&i.callbackNode!==E)return null;var I=ra;return I=$n(i,i===so?I:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),I===0?null:(_b(i,I,h),Vb(i,gt()),i.callbackNode!=null&&i.callbackNode===E?Kb.bind(null,i):null)}function Zb(i,h){if(xg())return null;_b(i,h,!0)}function lT(){bT(function(){(Da&6)!==0?un(Pe,sT):Xb()})}function Km(){if(Ih===0){var i=ps;i===0&&(i=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),Ih=i}return Ih}function qb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Dr(""+i)}function Qb(i,h){var E=h.ownerDocument.createElement("input");return E.name=h.name,E.value=h.value,i.id&&E.setAttribute("form",i.id),h.parentNode.insertBefore(E,h),i=new FormData(i),E.parentNode.removeChild(E),i}function uT(i,h,E,I,G){if(h==="submit"&&E&&E.stateNode===G){var K=qb((G[ar]||null).action),Ce=I.submitter;Ce&&(h=(h=Ce[ar]||null)?qb(h.formAction):Ce.getAttribute("formAction"),h!==null&&(K=h,Ce=null));var je=new Ea("action","action",null,I,G);i.push({event:je,listeners:[{instance:null,listener:function(){if(I.defaultPrevented){if(Ih!==0){var Tt=Ce?Qb(G,Ce):new FormData(G);Iu(E,{pending:!0,data:Tt,method:G.method,action:K},null,Tt)}}else typeof K=="function"&&(je.preventDefault(),Tt=Ce?Qb(G,Ce):new FormData(G),Iu(E,{pending:!0,data:Tt,method:G.method,action:K},K,Tt))},currentTarget:G}]})}}for(var Zm=0;Zm<Rt.length;Zm++){var qm=Rt[Zm],cT=qm.toLowerCase(),fT=qm[0].toUpperCase()+qm.slice(1);Et(cT,"on"+fT)}Et(Y,"onAnimationEnd"),Et($,"onAnimationIteration"),Et(ae,"onAnimationStart"),Et("dblclick","onDoubleClick"),Et("focusin","onFocus"),Et("focusout","onBlur"),Et(De,"onTransitionRun"),Et(ze,"onTransitionStart"),Et(vt,"onTransitionCancel"),Et(tt,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jd));function Jb(i,h){h=(h&4)!==0;for(var E=0;E<i.length;E++){var I=i[E],G=I.event;I=I.listeners;e:{var K=void 0;if(h)for(var Ce=I.length-1;0<=Ce;Ce--){var je=I[Ce],Tt=je.instance,en=je.currentTarget;if(je=je.listener,Tt!==K&&G.isPropagationStopped())break e;K=je,G.currentTarget=en;try{K(G)}catch(fn){Vt(fn)}G.currentTarget=null,K=Tt}else for(Ce=0;Ce<I.length;Ce++){if(je=I[Ce],Tt=je.instance,en=je.currentTarget,je=je.listener,Tt!==K&&G.isPropagationStopped())break e;K=je,G.currentTarget=en;try{K(G)}catch(fn){Vt(fn)}G.currentTarget=null,K=Tt}}}}function Yi(i,h){var E=h[yi];E===void 0&&(E=h[yi]=new Set);var I=i+"__bubble";E.has(I)||($b(h,i,2,!1),E.add(I))}function Qm(i,h,E){var I=0;h&&(I|=4),$b(E,i,I,h)}var Cg="_reactListening"+Math.random().toString(36).slice(2);function Jm(i){if(!i[Cg]){i[Cg]=!0,hn.forEach(function(E){E!=="selectionchange"&&(hT.has(E)||Qm(E,!1,i),Qm(E,!0,i))});var h=i.nodeType===9?i:i.ownerDocument;h===null||h[Cg]||(h[Cg]=!0,Qm("selectionchange",!1,h))}}function $b(i,h,E,I){switch(k4(h)){case 2:var G=HT;break;case 8:G=UT;break;default:G=dv}E=G.bind(null,h,E,i),G=void 0,!hi||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(G=!0),I?G!==void 0?i.addEventListener(h,E,{capture:!0,passive:G}):i.addEventListener(h,E,!0):G!==void 0?i.addEventListener(h,E,{passive:G}):i.addEventListener(h,E,!1)}function $m(i,h,E,I,G){var K=I;if((h&1)===0&&(h&2)===0&&I!==null)e:for(;;){if(I===null)return;var Ce=I.tag;if(Ce===3||Ce===4){var je=I.stateNode.containerInfo;if(je===G)break;if(Ce===4)for(Ce=I.return;Ce!==null;){var Tt=Ce.tag;if((Tt===3||Tt===4)&&Ce.stateNode.containerInfo===G)return;Ce=Ce.return}for(;je!==null;){if(Ce=Hr(je),Ce===null)return;if(Tt=Ce.tag,Tt===5||Tt===6||Tt===26||Tt===27){I=K=Ce;continue e}je=je.parentNode}}I=I.return}xa(function(){var en=K,fn=ei(E),bn=[];e:{var rn=xt.get(i);if(rn!==void 0){var ln=Ea,ur=i;switch(i){case"keypress":if(ho(E)===0)break e;case"keydown":case"keyup":ln=dl;break;case"focusin":ur="focus",ln=_s;break;case"focusout":ur="blur",ln=_s;break;case"beforeblur":case"afterblur":ln=_s;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ln=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ln=_l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ln=Vo;break;case Y:case $:case ae:ln=Nr;break;case tt:ln=fs;break;case"scroll":case"scrollend":ln=Ds;break;case"wheel":ln=Po;break;case"copy":case"cut":case"paste":ln=cs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ln=ki;break;case"toggle":case"beforetoggle":ln=pl}var qr=(h&4)!==0,no=!qr&&(i==="scroll"||i==="scrollend"),Yt=qr?rn!==null?rn+"Capture":null:rn;qr=[];for(var Lt=en,Jt;Lt!==null;){var yn=Lt;if(Jt=yn.stateNode,yn=yn.tag,yn!==5&&yn!==26&&yn!==27||Jt===null||Yt===null||(yn=tr(Lt,Yt),yn!=null&&qr.push($d(Lt,yn,Jt))),no)break;Lt=Lt.return}0<qr.length&&(rn=new ln(rn,ur,null,E,fn),bn.push({event:rn,listeners:qr}))}}if((h&7)===0){e:{if(rn=i==="mouseover"||i==="pointerover",ln=i==="mouseout"||i==="pointerout",rn&&E!==Rr&&(ur=E.relatedTarget||E.fromElement)&&(Hr(ur)||ur[fi]))break e;if((ln||rn)&&(rn=fn.window===fn?fn:(rn=fn.ownerDocument)?rn.defaultView||rn.parentWindow:window,ln?(ur=E.relatedTarget||E.toElement,ln=en,ur=ur?Hr(ur):null,ur!==null&&(no=c(ur),qr=ur.tag,ur!==no||qr!==5&&qr!==27&&qr!==6)&&(ur=null)):(ln=null,ur=en),ln!==ur)){if(qr=gi,yn="onMouseLeave",Yt="onMouseEnter",Lt="mouse",(i==="pointerout"||i==="pointerover")&&(qr=ki,yn="onPointerLeave",Yt="onPointerEnter",Lt="pointer"),no=ln==null?rn:co(ln),Jt=ur==null?rn:co(ur),rn=new qr(yn,Lt+"leave",ln,E,fn),rn.target=no,rn.relatedTarget=Jt,yn=null,Hr(fn)===en&&(qr=new qr(Yt,Lt+"enter",ur,E,fn),qr.target=Jt,qr.relatedTarget=no,yn=qr),no=yn,ln&&ur)t:{for(qr=dT,Yt=ln,Lt=ur,Jt=0,yn=Yt;yn;yn=qr(yn))Jt++;yn=0;for(var Lr=Lt;Lr;Lr=qr(Lr))yn++;for(;0<Jt-yn;)Yt=qr(Yt),Jt--;for(;0<yn-Jt;)Lt=qr(Lt),yn--;for(;Jt--;){if(Yt===Lt||Lt!==null&&Yt===Lt.alternate){qr=Yt;break t}Yt=qr(Yt),Lt=qr(Lt)}qr=null}else qr=null;ln!==null&&e4(bn,rn,ln,qr,!1),ur!==null&&no!==null&&e4(bn,no,ur,qr,!0)}}e:{if(rn=en?co(en):window,ln=rn.nodeName&&rn.nodeName.toLowerCase(),ln==="select"||ln==="input"&&rn.type==="file")var wa=Pa;else if(So(rn))if(Ui)wa=A;else{wa=p;var yr=s}else ln=rn.nodeName,!ln||ln.toLowerCase()!=="input"||rn.type!=="checkbox"&&rn.type!=="radio"?en&&xn(en.elementType)&&(wa=Pa):wa=w;if(wa&&(wa=wa(i,en))){Ka(bn,wa,E,fn);break e}yr&&yr(i,rn,en),i==="focusout"&&en&&rn.type==="number"&&en.memoizedProps.value!=null&&Qe(rn,"number",rn.value)}switch(yr=en?co(en):window,i){case"focusin":(So(yr)||yr.contentEditable==="true")&&(Ae=yr,Oe=en,Le=null);break;case"focusout":Le=Oe=Ae=null;break;case"mousedown":Xe=!0;break;case"contextmenu":case"mouseup":case"dragend":Xe=!1,Ke(bn,E,fn);break;case"selectionchange":if(he)break;case"keydown":case"keyup":Ke(bn,E,fn)}var Ci;if(Ji)e:{switch(i){case"compositionstart":var ia="onCompositionStart";break e;case"compositionend":ia="onCompositionEnd";break e;case"compositionupdate":ia="onCompositionUpdate";break e}ia=void 0}else Js?xu(i,E)&&(ia="onCompositionEnd"):i==="keydown"&&E.keyCode===229&&(ia="onCompositionStart");ia&&(Ko&&E.locale!=="ko"&&(Js||ia!=="onCompositionStart"?ia==="onCompositionEnd"&&Js&&(Ci=Co()):(wo=fn,Fo="value"in wo?wo.value:wo.textContent,Js=!0)),yr=Sg(en,ia),0<yr.length&&(ia=new jl(ia,i,null,E,fn),bn.push({event:ia,listeners:yr}),Ci?ia.data=Ci:(Ci=ml(E),Ci!==null&&(ia.data=Ci)))),(Ci=Li?qo(i,E):Ml(i,E))&&(ia=Sg(en,"onBeforeInput"),0<ia.length&&(yr=new jl("onBeforeInput","beforeinput",null,E,fn),bn.push({event:yr,listeners:ia}),yr.data=Ci)),uT(bn,i,en,E,fn)}Jb(bn,h)})}function $d(i,h,E){return{instance:i,listener:h,currentTarget:E}}function Sg(i,h){for(var E=h+"Capture",I=[];i!==null;){var G=i,K=G.stateNode;if(G=G.tag,G!==5&&G!==26&&G!==27||K===null||(G=tr(i,E),G!=null&&I.unshift($d(i,G,K)),G=tr(i,h),G!=null&&I.push($d(i,G,K))),i.tag===3)return I;i=i.return}return[]}function dT(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function e4(i,h,E,I,G){for(var K=h._reactName,Ce=[];E!==null&&E!==I;){var je=E,Tt=je.alternate,en=je.stateNode;if(je=je.tag,Tt!==null&&Tt===I)break;je!==5&&je!==26&&je!==27||en===null||(Tt=en,G?(en=tr(E,K),en!=null&&Ce.unshift($d(E,en,Tt))):G||(en=tr(E,K),en!=null&&Ce.push($d(E,en,Tt)))),E=E.return}Ce.length!==0&&i.push({event:h,listeners:Ce})}var gT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function t4(i){return(typeof i=="string"?i:""+i).replace(gT,`
`).replace(pT,"")}function n4(i,h){return h=t4(h),t4(i)===h}function to(i,h,E,I,G,K){switch(E){case"children":typeof I=="string"?h==="body"||h==="textarea"&&I===""||nt(i,I):(typeof I=="number"||typeof I=="bigint")&&h!=="body"&&nt(i,""+I);break;case"className":fo(i,"class",I);break;case"tabIndex":fo(i,"tabindex",I);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(i,E,I);break;case"style":nn(i,I,K);break;case"data":if(h!=="object"){fo(i,"data",I);break}case"src":case"href":if(I===""&&(h!=="a"||E!=="href")){i.removeAttribute(E);break}if(I==null||typeof I=="function"||typeof I=="symbol"||typeof I=="boolean"){i.removeAttribute(E);break}I=Dr(""+I),i.setAttribute(E,I);break;case"action":case"formAction":if(typeof I=="function"){i.setAttribute(E,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof K=="function"&&(E==="formAction"?(h!=="input"&&to(i,h,"name",G.name,G,null),to(i,h,"formEncType",G.formEncType,G,null),to(i,h,"formMethod",G.formMethod,G,null),to(i,h,"formTarget",G.formTarget,G,null)):(to(i,h,"encType",G.encType,G,null),to(i,h,"method",G.method,G,null),to(i,h,"target",G.target,G,null)));if(I==null||typeof I=="symbol"||typeof I=="boolean"){i.removeAttribute(E);break}I=Dr(""+I),i.setAttribute(E,I);break;case"onClick":I!=null&&(i.onclick=$r);break;case"onScroll":I!=null&&Yi("scroll",i);break;case"onScrollEnd":I!=null&&Yi("scrollend",i);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(r(61));if(E=I.__html,E!=null){if(G.children!=null)throw Error(r(60));i.innerHTML=E}}break;case"multiple":i.multiple=I&&typeof I!="function"&&typeof I!="symbol";break;case"muted":i.muted=I&&typeof I!="function"&&typeof I!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(I==null||typeof I=="function"||typeof I=="boolean"||typeof I=="symbol"){i.removeAttribute("xlink:href");break}E=Dr(""+I),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",E);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":I!=null&&typeof I!="function"&&typeof I!="symbol"?i.setAttribute(E,""+I):i.removeAttribute(E);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":I&&typeof I!="function"&&typeof I!="symbol"?i.setAttribute(E,""):i.removeAttribute(E);break;case"capture":case"download":I===!0?i.setAttribute(E,""):I!==!1&&I!=null&&typeof I!="function"&&typeof I!="symbol"?i.setAttribute(E,I):i.removeAttribute(E);break;case"cols":case"rows":case"size":case"span":I!=null&&typeof I!="function"&&typeof I!="symbol"&&!isNaN(I)&&1<=I?i.setAttribute(E,I):i.removeAttribute(E);break;case"rowSpan":case"start":I==null||typeof I=="function"||typeof I=="symbol"||isNaN(I)?i.removeAttribute(E):i.setAttribute(E,I);break;case"popover":Yi("beforetoggle",i),Yi("toggle",i),Or(i,"popover",I);break;case"xlinkActuate":cn(i,"http://www.w3.org/1999/xlink","xlink:actuate",I);break;case"xlinkArcrole":cn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",I);break;case"xlinkRole":cn(i,"http://www.w3.org/1999/xlink","xlink:role",I);break;case"xlinkShow":cn(i,"http://www.w3.org/1999/xlink","xlink:show",I);break;case"xlinkTitle":cn(i,"http://www.w3.org/1999/xlink","xlink:title",I);break;case"xlinkType":cn(i,"http://www.w3.org/1999/xlink","xlink:type",I);break;case"xmlBase":cn(i,"http://www.w3.org/XML/1998/namespace","xml:base",I);break;case"xmlLang":cn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",I);break;case"xmlSpace":cn(i,"http://www.w3.org/XML/1998/namespace","xml:space",I);break;case"is":Or(i,"is",I);break;case"innerText":case"textContent":break;default:(!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(E=hr.get(E)||E,Or(i,E,I))}}function ev(i,h,E,I,G,K){switch(E){case"style":nn(i,I,K);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(r(61));if(E=I.__html,E!=null){if(G.children!=null)throw Error(r(60));i.innerHTML=E}}break;case"children":typeof I=="string"?nt(i,I):(typeof I=="number"||typeof I=="bigint")&&nt(i,""+I);break;case"onScroll":I!=null&&Yi("scroll",i);break;case"onScrollEnd":I!=null&&Yi("scrollend",i);break;case"onClick":I!=null&&(i.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wi.hasOwnProperty(E))e:{if(E[0]==="o"&&E[1]==="n"&&(G=E.endsWith("Capture"),h=E.slice(2,G?E.length-7:void 0),K=i[ar]||null,K=K!=null?K[E]:null,typeof K=="function"&&i.removeEventListener(h,K,G),typeof I=="function")){typeof K!="function"&&K!==null&&(E in i?i[E]=null:i.hasAttribute(E)&&i.removeAttribute(E)),i.addEventListener(h,I,G);break e}E in i?i[E]=I:I===!0?i.setAttribute(E,""):Or(i,E,I)}}}function Pl(i,h,E){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yi("error",i),Yi("load",i);var I=!1,G=!1,K;for(K in E)if(E.hasOwnProperty(K)){var Ce=E[K];if(Ce!=null)switch(K){case"src":I=!0;break;case"srcSet":G=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:to(i,h,K,Ce,E,null)}}G&&to(i,h,"srcSet",E.srcSet,E,null),I&&to(i,h,"src",E.src,E,null);return;case"input":Yi("invalid",i);var je=K=Ce=G=null,Tt=null,en=null;for(I in E)if(E.hasOwnProperty(I)){var fn=E[I];if(fn!=null)switch(I){case"name":G=fn;break;case"type":Ce=fn;break;case"checked":Tt=fn;break;case"defaultChecked":en=fn;break;case"value":K=fn;break;case"defaultValue":je=fn;break;case"children":case"dangerouslySetInnerHTML":if(fn!=null)throw Error(r(137,h));break;default:to(i,h,I,fn,E,null)}}Ht(i,K,je,Tt,en,Ce,G,!1);return;case"select":Yi("invalid",i),I=Ce=K=null;for(G in E)if(E.hasOwnProperty(G)&&(je=E[G],je!=null))switch(G){case"value":K=je;break;case"defaultValue":Ce=je;break;case"multiple":I=je;default:to(i,h,G,je,E,null)}h=K,E=Ce,i.multiple=!!I,h!=null?Gn(i,!!I,h,!1):E!=null&&Gn(i,!!I,E,!0);return;case"textarea":Yi("invalid",i),K=G=I=null;for(Ce in E)if(E.hasOwnProperty(Ce)&&(je=E[Ce],je!=null))switch(Ce){case"value":I=je;break;case"defaultValue":G=je;break;case"children":K=je;break;case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(91));break;default:to(i,h,Ce,je,E,null)}pa(i,I,G,K);return;case"option":for(Tt in E)E.hasOwnProperty(Tt)&&(I=E[Tt],I!=null)&&(Tt==="selected"?i.selected=I&&typeof I!="function"&&typeof I!="symbol":to(i,h,Tt,I,E,null));return;case"dialog":Yi("beforetoggle",i),Yi("toggle",i),Yi("cancel",i),Yi("close",i);break;case"iframe":case"object":Yi("load",i);break;case"video":case"audio":for(I=0;I<Jd.length;I++)Yi(Jd[I],i);break;case"image":Yi("error",i),Yi("load",i);break;case"details":Yi("toggle",i);break;case"embed":case"source":case"link":Yi("error",i),Yi("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(en in E)if(E.hasOwnProperty(en)&&(I=E[en],I!=null))switch(en){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:to(i,h,en,I,E,null)}return;default:if(xn(h)){for(fn in E)E.hasOwnProperty(fn)&&(I=E[fn],I!==void 0&&ev(i,h,fn,I,E,void 0));return}}for(je in E)E.hasOwnProperty(je)&&(I=E[je],I!=null&&to(i,h,je,I,E,null))}function mT(i,h,E,I){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var G=null,K=null,Ce=null,je=null,Tt=null,en=null,fn=null;for(ln in E){var bn=E[ln];if(E.hasOwnProperty(ln)&&bn!=null)switch(ln){case"checked":break;case"value":break;case"defaultValue":Tt=bn;default:I.hasOwnProperty(ln)||to(i,h,ln,null,I,bn)}}for(var rn in I){var ln=I[rn];if(bn=E[rn],I.hasOwnProperty(rn)&&(ln!=null||bn!=null))switch(rn){case"type":K=ln;break;case"name":G=ln;break;case"checked":en=ln;break;case"defaultChecked":fn=ln;break;case"value":Ce=ln;break;case"defaultValue":je=ln;break;case"children":case"dangerouslySetInnerHTML":if(ln!=null)throw Error(r(137,h));break;default:ln!==bn&&to(i,h,rn,ln,I,bn)}}Ti(i,Ce,je,Tt,en,fn,K,G);return;case"select":ln=Ce=je=rn=null;for(K in E)if(Tt=E[K],E.hasOwnProperty(K)&&Tt!=null)switch(K){case"value":break;case"multiple":ln=Tt;default:I.hasOwnProperty(K)||to(i,h,K,null,I,Tt)}for(G in I)if(K=I[G],Tt=E[G],I.hasOwnProperty(G)&&(K!=null||Tt!=null))switch(G){case"value":rn=K;break;case"defaultValue":je=K;break;case"multiple":Ce=K;default:K!==Tt&&to(i,h,G,K,I,Tt)}h=je,E=Ce,I=ln,rn!=null?Gn(i,!!E,rn,!1):!!I!=!!E&&(h!=null?Gn(i,!!E,h,!0):Gn(i,!!E,E?[]:"",!1));return;case"textarea":ln=rn=null;for(je in E)if(G=E[je],E.hasOwnProperty(je)&&G!=null&&!I.hasOwnProperty(je))switch(je){case"value":break;case"children":break;default:to(i,h,je,null,I,G)}for(Ce in I)if(G=I[Ce],K=E[Ce],I.hasOwnProperty(Ce)&&(G!=null||K!=null))switch(Ce){case"value":rn=G;break;case"defaultValue":ln=G;break;case"children":break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:G!==K&&to(i,h,Ce,G,I,K)}Di(i,rn,ln);return;case"option":for(var ur in E)rn=E[ur],E.hasOwnProperty(ur)&&rn!=null&&!I.hasOwnProperty(ur)&&(ur==="selected"?i.selected=!1:to(i,h,ur,null,I,rn));for(Tt in I)rn=I[Tt],ln=E[Tt],I.hasOwnProperty(Tt)&&rn!==ln&&(rn!=null||ln!=null)&&(Tt==="selected"?i.selected=rn&&typeof rn!="function"&&typeof rn!="symbol":to(i,h,Tt,rn,I,ln));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qr in E)rn=E[qr],E.hasOwnProperty(qr)&&rn!=null&&!I.hasOwnProperty(qr)&&to(i,h,qr,null,I,rn);for(en in I)if(rn=I[en],ln=E[en],I.hasOwnProperty(en)&&rn!==ln&&(rn!=null||ln!=null))switch(en){case"children":case"dangerouslySetInnerHTML":if(rn!=null)throw Error(r(137,h));break;default:to(i,h,en,rn,I,ln)}return;default:if(xn(h)){for(var no in E)rn=E[no],E.hasOwnProperty(no)&&rn!==void 0&&!I.hasOwnProperty(no)&&ev(i,h,no,void 0,I,rn);for(fn in I)rn=I[fn],ln=E[fn],!I.hasOwnProperty(fn)||rn===ln||rn===void 0&&ln===void 0||ev(i,h,fn,rn,I,ln);return}}for(var Yt in E)rn=E[Yt],E.hasOwnProperty(Yt)&&rn!=null&&!I.hasOwnProperty(Yt)&&to(i,h,Yt,null,I,rn);for(bn in I)rn=I[bn],ln=E[bn],!I.hasOwnProperty(bn)||rn===ln||rn==null&&ln==null||to(i,h,bn,rn,I,ln)}function r4(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vT(){if(typeof performance.getEntriesByType=="function"){for(var i=0,h=0,E=performance.getEntriesByType("resource"),I=0;I<E.length;I++){var G=E[I],K=G.transferSize,Ce=G.initiatorType,je=G.duration;if(K&&je&&r4(Ce)){for(Ce=0,je=G.responseEnd,I+=1;I<E.length;I++){var Tt=E[I],en=Tt.startTime;if(en>je)break;var fn=Tt.transferSize,bn=Tt.initiatorType;fn&&r4(bn)&&(Tt=Tt.responseEnd,Ce+=fn*(Tt<je?1:(je-en)/(Tt-en)))}if(--I,h+=8*(K+Ce)/(G.duration/1e3),i++,10<i)break}}if(0<i)return h/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var tv=null,nv=null;function Eg(i){return i.nodeType===9?i:i.ownerDocument}function i4(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a4(i,h){if(i===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&h==="foreignObject"?0:i}function rv(i,h){return i==="textarea"||i==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var iv=null;function yT(){var i=window.event;return i&&i.type==="popstate"?i===iv?!1:(iv=i,!0):(iv=null,!1)}var o4=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,s4=typeof Promise=="function"?Promise:void 0,bT=typeof queueMicrotask=="function"?queueMicrotask:typeof s4<"u"?function(i){return s4.resolve(null).then(i).catch(wT)}:o4;function wT(i){setTimeout(function(){throw i})}function Rh(i){return i==="head"}function l4(i,h){var E=h,I=0;do{var G=E.nextSibling;if(i.removeChild(E),G&&G.nodeType===8)if(E=G.data,E==="/$"||E==="/&"){if(I===0){i.removeChild(G),id(h);return}I--}else if(E==="$"||E==="$?"||E==="$~"||E==="$!"||E==="&")I++;else if(E==="html")e1(i.ownerDocument.documentElement);else if(E==="head"){E=i.ownerDocument.head,e1(E);for(var K=E.firstChild;K;){var Ce=K.nextSibling,je=K.nodeName;K[gr]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&K.rel.toLowerCase()==="stylesheet"||E.removeChild(K),K=Ce}}else E==="body"&&e1(i.ownerDocument.body);E=G}while(E);id(h)}function u4(i,h){var E=i;i=0;do{var I=E.nextSibling;if(E.nodeType===1?h?(E._stashedDisplay=E.style.display,E.style.display="none"):(E.style.display=E._stashedDisplay||"",E.getAttribute("style")===""&&E.removeAttribute("style")):E.nodeType===3&&(h?(E._stashedText=E.nodeValue,E.nodeValue=""):E.nodeValue=E._stashedText||""),I&&I.nodeType===8)if(E=I.data,E==="/$"){if(i===0)break;i--}else E!=="$"&&E!=="$?"&&E!=="$~"&&E!=="$!"||i++;E=I}while(E)}function av(i){var h=i.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var E=h;switch(h=h.nextSibling,E.nodeName){case"HTML":case"HEAD":case"BODY":av(E),aa(E);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(E.rel.toLowerCase()==="stylesheet")continue}i.removeChild(E)}}function CT(i,h,E,I){for(;i.nodeType===1;){var G=E;if(i.nodeName.toLowerCase()!==h.toLowerCase()){if(!I&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(I){if(!i[gr])switch(h){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(K=i.getAttribute("rel"),K==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(K!==G.rel||i.getAttribute("href")!==(G.href==null||G.href===""?null:G.href)||i.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin)||i.getAttribute("title")!==(G.title==null?null:G.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(K=i.getAttribute("src"),(K!==(G.src==null?null:G.src)||i.getAttribute("type")!==(G.type==null?null:G.type)||i.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin))&&K&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(h==="input"&&i.type==="hidden"){var K=G.name==null?null:""+G.name;if(G.type==="hidden"&&i.getAttribute("name")===K)return i}else return i;if(i=_c(i.nextSibling),i===null)break}return null}function ST(i,h,E){if(h==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!E||(i=_c(i.nextSibling),i===null))return null;return i}function c4(i,h){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=_c(i.nextSibling),i===null))return null;return i}function ov(i){return i.data==="$?"||i.data==="$~"}function sv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ET(i,h){var E=i.ownerDocument;if(i.data==="$~")i._reactRetry=h;else if(i.data!=="$?"||E.readyState!=="loading")h();else{var I=function(){h(),E.removeEventListener("DOMContentLoaded",I)};E.addEventListener("DOMContentLoaded",I),i._reactRetry=I}}function _c(i){for(;i!=null;i=i.nextSibling){var h=i.nodeType;if(h===1||h===3)break;if(h===8){if(h=i.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return i}var lv=null;function f4(i){i=i.nextSibling;for(var h=0;i;){if(i.nodeType===8){var E=i.data;if(E==="/$"||E==="/&"){if(h===0)return _c(i.nextSibling);h--}else E!=="$"&&E!=="$!"&&E!=="$?"&&E!=="$~"&&E!=="&"||h++}i=i.nextSibling}return null}function h4(i){i=i.previousSibling;for(var h=0;i;){if(i.nodeType===8){var E=i.data;if(E==="$"||E==="$!"||E==="$?"||E==="$~"||E==="&"){if(h===0)return i;h--}else E!=="/$"&&E!=="/&"||h++}i=i.previousSibling}return null}function d4(i,h,E){switch(h=Eg(E),i){case"html":if(i=h.documentElement,!i)throw Error(r(452));return i;case"head":if(i=h.head,!i)throw Error(r(453));return i;case"body":if(i=h.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function e1(i){for(var h=i.attributes;h.length;)i.removeAttributeNode(h[0]);aa(i)}var Mc=new Map,g4=new Set;function Ag(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rh=Ie.d;Ie.d={f:AT,r:TT,D:DT,C:kT,L:_T,m:MT,X:IT,S:OT,M:RT};function AT(){var i=rh.f(),h=mg();return i||h}function TT(i){var h=or(i);h!==null&&h.tag===5&&h.type==="form"?wh(h):rh.r(i)}var td=typeof document>"u"?null:document;function p4(i,h,E){var I=td;if(I&&typeof h=="string"&&h){var G=Ir(h);G='link[rel="'+i+'"][href="'+G+'"]',typeof E=="string"&&(G+='[crossorigin="'+E+'"]'),g4.has(G)||(g4.add(G),i={rel:i,crossOrigin:E,href:h},I.querySelector(G)===null&&(h=I.createElement("link"),Pl(h,"link",i),Ri(h),I.head.appendChild(h)))}}function DT(i){rh.D(i),p4("dns-prefetch",i,null)}function kT(i,h){rh.C(i,h),p4("preconnect",i,h)}function _T(i,h,E){rh.L(i,h,E);var I=td;if(I&&i&&h){var G='link[rel="preload"][as="'+Ir(h)+'"]';h==="image"&&E&&E.imageSrcSet?(G+='[imagesrcset="'+Ir(E.imageSrcSet)+'"]',typeof E.imageSizes=="string"&&(G+='[imagesizes="'+Ir(E.imageSizes)+'"]')):G+='[href="'+Ir(i)+'"]';var K=G;switch(h){case"style":K=nd(i);break;case"script":K=rd(i)}Mc.has(K)||(i=f({rel:"preload",href:h==="image"&&E&&E.imageSrcSet?void 0:i,as:h},E),Mc.set(K,i),I.querySelector(G)!==null||h==="style"&&I.querySelector(t1(K))||h==="script"&&I.querySelector(n1(K))||(h=I.createElement("link"),Pl(h,"link",i),Ri(h),I.head.appendChild(h)))}}function MT(i,h){rh.m(i,h);var E=td;if(E&&i){var I=h&&typeof h.as=="string"?h.as:"script",G='link[rel="modulepreload"][as="'+Ir(I)+'"][href="'+Ir(i)+'"]',K=G;switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":K=rd(i)}if(!Mc.has(K)&&(i=f({rel:"modulepreload",href:i},h),Mc.set(K,i),E.querySelector(G)===null)){switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(E.querySelector(n1(K)))return}I=E.createElement("link"),Pl(I,"link",i),Ri(I),E.head.appendChild(I)}}}function OT(i,h,E){rh.S(i,h,E);var I=td;if(I&&i){var G=bi(I).hoistableStyles,K=nd(i);h=h||"default";var Ce=G.get(K);if(!Ce){var je={loading:0,preload:null};if(Ce=I.querySelector(t1(K)))je.loading=5;else{i=f({rel:"stylesheet",href:i,"data-precedence":h},E),(E=Mc.get(K))&&uv(i,E);var Tt=Ce=I.createElement("link");Ri(Tt),Pl(Tt,"link",i),Tt._p=new Promise(function(en,fn){Tt.onload=en,Tt.onerror=fn}),Tt.addEventListener("load",function(){je.loading|=1}),Tt.addEventListener("error",function(){je.loading|=2}),je.loading|=4,Tg(Ce,h,I)}Ce={type:"stylesheet",instance:Ce,count:1,state:je},G.set(K,Ce)}}}function IT(i,h){rh.X(i,h);var E=td;if(E&&i){var I=bi(E).hoistableScripts,G=rd(i),K=I.get(G);K||(K=E.querySelector(n1(G)),K||(i=f({src:i,async:!0},h),(h=Mc.get(G))&&cv(i,h),K=E.createElement("script"),Ri(K),Pl(K,"link",i),E.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},I.set(G,K))}}function RT(i,h){rh.M(i,h);var E=td;if(E&&i){var I=bi(E).hoistableScripts,G=rd(i),K=I.get(G);K||(K=E.querySelector(n1(G)),K||(i=f({src:i,async:!0,type:"module"},h),(h=Mc.get(G))&&cv(i,h),K=E.createElement("script"),Ri(K),Pl(K,"link",i),E.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},I.set(G,K))}}function m4(i,h,E,I){var G=(G=Fe.current)?Ag(G):null;if(!G)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof E.precedence=="string"&&typeof E.href=="string"?(h=nd(E.href),E=bi(G).hoistableStyles,I=E.get(h),I||(I={type:"style",instance:null,count:0,state:null},E.set(h,I)),I):{type:"void",instance:null,count:0,state:null};case"link":if(E.rel==="stylesheet"&&typeof E.href=="string"&&typeof E.precedence=="string"){i=nd(E.href);var K=bi(G).hoistableStyles,Ce=K.get(i);if(Ce||(G=G.ownerDocument||G,Ce={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},K.set(i,Ce),(K=G.querySelector(t1(i)))&&!K._p&&(Ce.instance=K,Ce.state.loading=5),Mc.has(i)||(E={rel:"preload",as:"style",href:E.href,crossOrigin:E.crossOrigin,integrity:E.integrity,media:E.media,hrefLang:E.hrefLang,referrerPolicy:E.referrerPolicy},Mc.set(i,E),K||NT(G,i,E,Ce.state))),h&&I===null)throw Error(r(528,""));return Ce}if(h&&I!==null)throw Error(r(529,""));return null;case"script":return h=E.async,E=E.src,typeof E=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=rd(E),E=bi(G).hoistableScripts,I=E.get(h),I||(I={type:"script",instance:null,count:0,state:null},E.set(h,I)),I):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function nd(i){return'href="'+Ir(i)+'"'}function t1(i){return'link[rel="stylesheet"]['+i+"]"}function v4(i){return f({},i,{"data-precedence":i.precedence,precedence:null})}function NT(i,h,E,I){i.querySelector('link[rel="preload"][as="style"]['+h+"]")?I.loading=1:(h=i.createElement("link"),I.preload=h,h.addEventListener("load",function(){return I.loading|=1}),h.addEventListener("error",function(){return I.loading|=2}),Pl(h,"link",E),Ri(h),i.head.appendChild(h))}function rd(i){return'[src="'+Ir(i)+'"]'}function n1(i){return"script[async]"+i}function y4(i,h,E){if(h.count++,h.instance===null)switch(h.type){case"style":var I=i.querySelector('style[data-href~="'+Ir(E.href)+'"]');if(I)return h.instance=I,Ri(I),I;var G=f({},E,{"data-href":E.href,"data-precedence":E.precedence,href:null,precedence:null});return I=(i.ownerDocument||i).createElement("style"),Ri(I),Pl(I,"style",G),Tg(I,E.precedence,i),h.instance=I;case"stylesheet":G=nd(E.href);var K=i.querySelector(t1(G));if(K)return h.state.loading|=4,h.instance=K,Ri(K),K;I=v4(E),(G=Mc.get(G))&&uv(I,G),K=(i.ownerDocument||i).createElement("link"),Ri(K);var Ce=K;return Ce._p=new Promise(function(je,Tt){Ce.onload=je,Ce.onerror=Tt}),Pl(K,"link",I),h.state.loading|=4,Tg(K,E.precedence,i),h.instance=K;case"script":return K=rd(E.src),(G=i.querySelector(n1(K)))?(h.instance=G,Ri(G),G):(I=E,(G=Mc.get(K))&&(I=f({},E),cv(I,G)),i=i.ownerDocument||i,G=i.createElement("script"),Ri(G),Pl(G,"link",I),i.head.appendChild(G),h.instance=G);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(I=h.instance,h.state.loading|=4,Tg(I,E.precedence,i));return h.instance}function Tg(i,h,E){for(var I=E.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),G=I.length?I[I.length-1]:null,K=G,Ce=0;Ce<I.length;Ce++){var je=I[Ce];if(je.dataset.precedence===h)K=je;else if(K!==G)break}K?K.parentNode.insertBefore(i,K.nextSibling):(h=E.nodeType===9?E.head:E,h.insertBefore(i,h.firstChild))}function uv(i,h){i.crossOrigin==null&&(i.crossOrigin=h.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=h.referrerPolicy),i.title==null&&(i.title=h.title)}function cv(i,h){i.crossOrigin==null&&(i.crossOrigin=h.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=h.referrerPolicy),i.integrity==null&&(i.integrity=h.integrity)}var Dg=null;function x4(i,h,E){if(Dg===null){var I=new Map,G=Dg=new Map;G.set(E,I)}else G=Dg,I=G.get(E),I||(I=new Map,G.set(E,I));if(I.has(i))return I;for(I.set(i,null),E=E.getElementsByTagName(i),G=0;G<E.length;G++){var K=E[G];if(!(K[gr]||K[Pr]||i==="link"&&K.getAttribute("rel")==="stylesheet")&&K.namespaceURI!=="http://www.w3.org/2000/svg"){var Ce=K.getAttribute(h)||"";Ce=i+Ce;var je=I.get(Ce);je?je.push(K):I.set(Ce,[K])}}return I}function b4(i,h,E){i=i.ownerDocument||i,i.head.insertBefore(E,h==="title"?i.querySelector("head > title"):null)}function LT(i,h,E){if(E===1||h.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;return h.rel==="stylesheet"?(i=h.disabled,typeof h.precedence=="string"&&i==null):!0;case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function w4(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function BT(i,h,E,I){if(E.type==="stylesheet"&&(typeof I.media!="string"||matchMedia(I.media).matches!==!1)&&(E.state.loading&4)===0){if(E.instance===null){var G=nd(I.href),K=h.querySelector(t1(G));if(K){h=K._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(i.count++,i=kg.bind(i),h.then(i,i)),E.state.loading|=4,E.instance=K,Ri(K);return}K=h.ownerDocument||h,I=v4(I),(G=Mc.get(G))&&uv(I,G),K=K.createElement("link"),Ri(K);var Ce=K;Ce._p=new Promise(function(je,Tt){Ce.onload=je,Ce.onerror=Tt}),Pl(K,"link",I),E.instance=K}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(E,h),(h=E.state.preload)&&(E.state.loading&3)===0&&(i.count++,E=kg.bind(i),h.addEventListener("load",E),h.addEventListener("error",E))}}var fv=0;function FT(i,h){return i.stylesheets&&i.count===0&&Mg(i,i.stylesheets),0<i.count||0<i.imgCount?function(E){var I=setTimeout(function(){if(i.stylesheets&&Mg(i,i.stylesheets),i.unsuspend){var K=i.unsuspend;i.unsuspend=null,K()}},6e4+h);0<i.imgBytes&&fv===0&&(fv=62500*vT());var G=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mg(i,i.stylesheets),i.unsuspend)){var K=i.unsuspend;i.unsuspend=null,K()}},(i.imgBytes>fv?50:800)+h);return i.unsuspend=E,function(){i.unsuspend=null,clearTimeout(I),clearTimeout(G)}}:null}function kg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _g=null;function Mg(i,h){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_g=new Map,h.forEach(PT,i),_g=null,kg.call(i))}function PT(i,h){if(!(h.state.loading&4)){var E=_g.get(i);if(E)var I=E.get(null);else{E=new Map,_g.set(i,E);for(var G=i.querySelectorAll("link[data-precedence],style[data-precedence]"),K=0;K<G.length;K++){var Ce=G[K];(Ce.nodeName==="LINK"||Ce.getAttribute("media")!=="not all")&&(E.set(Ce.dataset.precedence,Ce),I=Ce)}I&&E.set(null,I)}G=h.instance,Ce=G.getAttribute("data-precedence"),K=E.get(Ce)||I,K===I&&E.set(null,G),E.set(Ce,G),this.count++,I=kg.bind(this),G.addEventListener("load",I),G.addEventListener("error",I),K?K.parentNode.insertBefore(G,K.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(G,i.firstChild)),h.state.loading|=4}}var r1={$$typeof:U,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function zT(i,h,E,I,G,K,Ce,je,Tt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=I,this.onUncaughtError=G,this.onCaughtError=K,this.onRecoverableError=Ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Tt,this.incompleteTransitions=new Map}function C4(i,h,E,I,G,K,Ce,je,Tt,en,fn,bn){return i=new zT(i,h,E,Ce,Tt,en,fn,bn,je),h=1,K===!0&&(h|=24),K=ua(3,null,null,h),i.current=K,K.stateNode=i,h=wc(),h.refCount++,i.pooledCache=h,h.refCount++,K.memoizedState={element:I,isDehydrated:E,cache:h},js(K),i}function S4(i){return i?(i=jr,i):jr}function E4(i,h,E,I,G,K){G=S4(G),I.context===null?I.context=G:I.pendingContext=G,I=Ws(h),I.payload={element:E},K=K===void 0?null:K,K!==null&&(I.callback=K),E=ys(i,I,h),E!==null&&(Pu(E,i,h),ol(E,i,h))}function A4(i,h){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var E=i.retryLane;i.retryLane=E!==0&&E<h?E:h}}function hv(i,h){A4(i,h),(i=i.alternate)&&A4(i,h)}function T4(i){if(i.tag===13||i.tag===31){var h=_r(i,67108864);h!==null&&Pu(h,i,67108864),hv(i,67108864)}}function D4(i){if(i.tag===13||i.tag===31){var h=ic();h=si(h);var E=_r(i,h);E!==null&&Pu(E,i,h),hv(i,h)}}var Og=!0;function HT(i,h,E,I){var G=me.T;me.T=null;var K=Ie.p;try{Ie.p=2,dv(i,h,E,I)}finally{Ie.p=K,me.T=G}}function UT(i,h,E,I){var G=me.T;me.T=null;var K=Ie.p;try{Ie.p=8,dv(i,h,E,I)}finally{Ie.p=K,me.T=G}}function dv(i,h,E,I){if(Og){var G=gv(I);if(G===null)$m(i,h,I,Ig,E),_4(i,I);else if(WT(G,i,h,E,I))I.stopPropagation();else if(_4(i,I),h&4&&-1<jT.indexOf(i)){for(;G!==null;){var K=or(G);if(K!==null)switch(K.tag){case 3:if(K=K.stateNode,K.current.memoizedState.isDehydrated){var Ce=vn(K.pendingLanes);if(Ce!==0){var je=K;for(je.pendingLanes|=2,je.entangledLanes|=2;Ce;){var Tt=1<<31-Ye(Ce);je.entanglements[1]|=Tt,Ce&=~Tt}_f(K),(Da&6)===0&&(gg=gt()+500,Qd(0))}}break;case 31:case 13:je=_r(K,2),je!==null&&Pu(je,K,2),mg(),hv(K,2)}if(K=gv(I),K===null&&$m(i,h,I,Ig,E),K===G)break;G=K}G!==null&&I.stopPropagation()}else $m(i,h,I,null,E)}}function gv(i){return i=ei(i),pv(i)}var Ig=null;function pv(i){if(Ig=null,i=Hr(i),i!==null){var h=c(i);if(h===null)i=null;else{var E=h.tag;if(E===13){if(i=y(h),i!==null)return i;i=null}else if(E===31){if(i=d(h),i!==null)return i;i=null}else if(E===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;i=null}else h!==i&&(i=null)}}return Ig=i,null}function k4(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Pe:return 2;case xe:return 8;case Ee:case Ze:return 32;case re:return 268435456;default:return 32}default:return 32}}var mv=!1,Nh=null,Lh=null,Bh=null,i1=new Map,a1=new Map,Fh=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _4(i,h){switch(i){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Lh=null;break;case"mouseover":case"mouseout":Bh=null;break;case"pointerover":case"pointerout":i1.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":a1.delete(h.pointerId)}}function o1(i,h,E,I,G,K){return i===null||i.nativeEvent!==K?(i={blockedOn:h,domEventName:E,eventSystemFlags:I,nativeEvent:K,targetContainers:[G]},h!==null&&(h=or(h),h!==null&&T4(h)),i):(i.eventSystemFlags|=I,h=i.targetContainers,G!==null&&h.indexOf(G)===-1&&h.push(G),i)}function WT(i,h,E,I,G){switch(h){case"focusin":return Nh=o1(Nh,i,h,E,I,G),!0;case"dragenter":return Lh=o1(Lh,i,h,E,I,G),!0;case"mouseover":return Bh=o1(Bh,i,h,E,I,G),!0;case"pointerover":var K=G.pointerId;return i1.set(K,o1(i1.get(K)||null,i,h,E,I,G)),!0;case"gotpointercapture":return K=G.pointerId,a1.set(K,o1(a1.get(K)||null,i,h,E,I,G)),!0}return!1}function M4(i){var h=Hr(i.target);if(h!==null){var E=c(h);if(E!==null){if(h=E.tag,h===13){if(h=y(E),h!==null){i.blockedOn=h,Sn(i.priority,function(){D4(E)});return}}else if(h===31){if(h=d(E),h!==null){i.blockedOn=h,Sn(i.priority,function(){D4(E)});return}}else if(h===3&&E.stateNode.current.memoizedState.isDehydrated){i.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rg(i){if(i.blockedOn!==null)return!1;for(var h=i.targetContainers;0<h.length;){var E=gv(i.nativeEvent);if(E===null){E=i.nativeEvent;var I=new E.constructor(E.type,E);Rr=I,E.target.dispatchEvent(I),Rr=null}else return h=or(E),h!==null&&T4(h),i.blockedOn=E,!1;h.shift()}return!0}function O4(i,h,E){Rg(i)&&E.delete(h)}function GT(){mv=!1,Nh!==null&&Rg(Nh)&&(Nh=null),Lh!==null&&Rg(Lh)&&(Lh=null),Bh!==null&&Rg(Bh)&&(Bh=null),i1.forEach(O4),a1.forEach(O4)}function Ng(i,h){i.blockedOn===h&&(i.blockedOn=null,mv||(mv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GT)))}var Lg=null;function I4(i){Lg!==i&&(Lg=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lg===i&&(Lg=null);for(var h=0;h<i.length;h+=3){var E=i[h],I=i[h+1],G=i[h+2];if(typeof I!="function"){if(pv(I||E)===null)continue;break}var K=or(E);K!==null&&(i.splice(h,3),h-=3,Iu(K,{pending:!0,data:G,method:E.method,action:I},I,G))}}))}function id(i){function h(Tt){return Ng(Tt,i)}Nh!==null&&Ng(Nh,i),Lh!==null&&Ng(Lh,i),Bh!==null&&Ng(Bh,i),i1.forEach(h),a1.forEach(h);for(var E=0;E<Fh.length;E++){var I=Fh[E];I.blockedOn===i&&(I.blockedOn=null)}for(;0<Fh.length&&(E=Fh[0],E.blockedOn===null);)M4(E),E.blockedOn===null&&Fh.shift();if(E=(i.ownerDocument||i).$$reactFormReplay,E!=null)for(I=0;I<E.length;I+=3){var G=E[I],K=E[I+1],Ce=G[ar]||null;if(typeof K=="function")Ce||I4(E);else if(Ce){var je=null;if(K&&K.hasAttribute("formAction")){if(G=K,Ce=K[ar]||null)je=Ce.formAction;else if(pv(G)!==null)continue}else je=Ce.action;typeof je=="function"?E[I+1]=je:(E.splice(I,3),I-=3),I4(E)}}}function R4(){function i(K){K.canIntercept&&K.info==="react-transition"&&K.intercept({handler:function(){return new Promise(function(Ce){return G=Ce})},focusReset:"manual",scroll:"manual"})}function h(){G!==null&&(G(),G=null),I||setTimeout(E,20)}function E(){if(!I&&!navigation.transition){var K=navigation.currentEntry;K&&K.url!=null&&navigation.navigate(K.url,{state:K.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var I=!1,G=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(E,100),function(){I=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),G!==null&&(G(),G=null)}}}function vv(i){this._internalRoot=i}Bg.prototype.render=vv.prototype.render=function(i){var h=this._internalRoot;if(h===null)throw Error(r(409));var E=h.current,I=ic();E4(E,I,i,h,null,null)},Bg.prototype.unmount=vv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var h=i.containerInfo;E4(i.current,2,null,i,null,null),mg(),h[fi]=null}};function Bg(i){this._internalRoot=i}Bg.prototype.unstable_scheduleHydration=function(i){if(i){var h=vi();i={blockedOn:null,target:i,priority:h};for(var E=0;E<Fh.length&&h!==0&&h<Fh[E].priority;E++);Fh.splice(E,0,i),E===0&&M4(i)}};var N4=t.version;if(N4!=="19.2.3")throw Error(r(527,N4,"19.2.3"));Ie.findDOMNode=function(i){var h=i._reactInternals;if(h===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=u(h),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var YT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:me,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{it=Fg.inject(YT),We=Fg}catch{}}return l1.createRoot=function(i,h){if(!o(i))throw Error(r(299));var E=!1,I="",G=g0,K=Ru,Ce=Qc;return h!=null&&(h.unstable_strictMode===!0&&(E=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onUncaughtError!==void 0&&(G=h.onUncaughtError),h.onCaughtError!==void 0&&(K=h.onCaughtError),h.onRecoverableError!==void 0&&(Ce=h.onRecoverableError)),h=C4(i,1,!1,null,null,E,I,null,G,K,Ce,R4),i[fi]=h.current,Jm(i),new vv(h)},l1.hydrateRoot=function(i,h,E){if(!o(i))throw Error(r(299));var I=!1,G="",K=g0,Ce=Ru,je=Qc,Tt=null;return E!=null&&(E.unstable_strictMode===!0&&(I=!0),E.identifierPrefix!==void 0&&(G=E.identifierPrefix),E.onUncaughtError!==void 0&&(K=E.onUncaughtError),E.onCaughtError!==void 0&&(Ce=E.onCaughtError),E.onRecoverableError!==void 0&&(je=E.onRecoverableError),E.formState!==void 0&&(Tt=E.formState)),h=C4(i,1,!0,h,E??null,I,G,Tt,K,Ce,je,R4),h.context=S4(null),E=h.current,I=ic(),I=si(I),G=Ws(I),G.callback=null,ys(E,G,I),E=I,h.current.lanes=E,Br(h,E),_f(h),i[fi]=h.current,Jm(i),new Bg(h)},l1.version="19.2.3",l1}var G4;function n9(){if(G4)return bv.exports;G4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bv.exports=t9(),bv.exports}var r9=n9();var Y4="popstate";function i9(e={}){function t(o,c){let{pathname:y="/",search:d="",hash:a=""}=P0(o.location.hash.substring(1));return!y.startsWith("/")&&!y.startsWith(".")&&(y="/"+y),z2("",{pathname:y,search:d,hash:a},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let y=o.document.querySelector("base"),d="";if(y&&y.getAttribute("href")){let a=o.location.href,u=a.indexOf("#");d=u===-1?a:a.slice(0,u)}return d+"#"+(typeof c=="string"?c:F1(c))}function r(o,c){ju(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return o9(t,n,r,e)}function Yo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ju(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a9(){return Math.random().toString(36).substring(2,10)}function X4(e,t){return{usr:e.state,key:e.key,idx:t}}function z2(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?P0(t):t,state:n,key:t&&t.key||r||a9()}}function F1({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function P0(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function o9(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,y=o.history,d="POP",a=null,u=v();u==null&&(u=0,y.replaceState({...y.state,idx:u},""));function v(){return(y.state||{idx:null}).idx}function f(){d="POP";let S=v(),O=S==null?null:S-u;u=S,a&&a({action:d,location:D.location,delta:O})}function g(S,O){d="PUSH";let N=z2(D.location,S,O);n&&n(N,S),u=v()+1;let U=X4(N,u),W=D.createHref(N);try{y.pushState(U,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(W)}c&&a&&a({action:d,location:D.location,delta:1})}function m(S,O){d="REPLACE";let N=z2(D.location,S,O);n&&n(N,S),u=v();let U=X4(N,u),W=D.createHref(N);y.replaceState(U,"",W),c&&a&&a({action:d,location:D.location,delta:0})}function C(S){return s9(S)}let D={get action(){return d},get location(){return e(o,y)},listen(S){if(a)throw new Error("A history only accepts one active listener");return o.addEventListener(Y4,f),a=S,()=>{o.removeEventListener(Y4,f),a=null}},createHref(S){return t(o,S)},createURL:C,encodeLocation(S){let O=C(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:g,replace:m,go(S){return y.go(S)}};return D}function s9(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yo(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:F1(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function SC(e,t,n="/"){return l9(e,t,n,!1)}function l9(e,t,n,r){let o=typeof t=="string"?P0(t):t,c=hh(o.pathname||"/",n);if(c==null)return null;let y=EC(e);u9(y);let d=null;for(let a=0;d==null&&a<y.length;++a){let u=b9(c);d=y9(y[a],u,r)}return d}function EC(e,t=[],n=[],r="",o=!1){let c=(y,d,a=o,u)=>{let v={relativePath:u===void 0?y.path||"":u,caseSensitive:y.caseSensitive===!0,childrenIndex:d,route:y};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&a)return;Yo(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let f=uh([r,v.relativePath]),g=n.concat(v);y.children&&y.children.length>0&&(Yo(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),EC(y.children,t,g,f,a)),!(y.path==null&&!y.index)&&t.push({path:f,score:m9(f,y.index),routesMeta:g})};return e.forEach((y,d)=>{if(y.path===""||!y.path?.includes("?"))c(y,d);else for(let a of AC(y.path))c(y,d,!0,a)}),t}function AC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let y=AC(r.join("/")),d=[];return d.push(...y.map(a=>a===""?c:[c,a].join("/"))),o&&d.push(...y),d.map(a=>e.startsWith("/")&&a===""?"/":a)}function u9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:v9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var c9=/^:[\w-]+$/,f9=3,h9=2,d9=1,g9=10,p9=-2,V4=e=>e==="*";function m9(e,t){let n=e.split("/"),r=n.length;return n.some(V4)&&(r+=p9),t&&(r+=h9),n.filter(o=>!V4(o)).reduce((o,c)=>o+(c9.test(c)?f9:c===""?d9:g9),r)}function v9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function y9(e,t,n=!1){let{routesMeta:r}=e,o={},c="/",y=[];for(let d=0;d<r.length;++d){let a=r[d],u=d===r.length-1,v=c==="/"?t:t.slice(c.length)||"/",f=Ap({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},v),g=a.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ap({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},v)),!f)return null;Object.assign(o,f.params),y.push({params:o,pathname:uh([c,f.pathname]),pathnameBase:E9(uh([c,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(c=uh([c,f.pathnameBase]))}return y}function Ap(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=x9(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let c=o[0],y=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((u,{paramName:v,isOptional:f},g)=>{if(v==="*"){let C=d[g]||"";y=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const m=d[g];return f&&!m?u[v]=void 0:u[v]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:c,pathnameBase:y,pattern:e}}function x9(e,t=!1,n=!0){ju(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,d,a)=>(r.push({paramName:d,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function b9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ju(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var TC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w9=e=>TC.test(e);function C9(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?P0(e):e,c;if(n)if(w9(n))c=n;else{if(n.includes("//")){let y=n;n=n.replace(/\/\/+/g,"/"),ju(!1,`Pathnames cannot have embedded double slashes - normalizing ${y} -> ${n}`)}n.startsWith("/")?c=K4(n.substring(1),"/"):c=K4(n,t)}else c=t;return{pathname:c,search:A9(r),hash:T9(o)}}function K4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ev(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hy(e){let t=S9(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Uy(e,t,n,r=!1){let o;typeof e=="string"?o=P0(e):(o={...e},Yo(!o.pathname||!o.pathname.includes("?"),Ev("?","pathname","search",o)),Yo(!o.pathname||!o.pathname.includes("#"),Ev("#","pathname","hash",o)),Yo(!o.search||!o.search.includes("#"),Ev("#","search","hash",o)));let c=e===""||o.pathname==="",y=c?"/":o.pathname,d;if(y==null)d=n;else{let f=t.length-1;if(!r&&y.startsWith("..")){let g=y.split("/");for(;g[0]==="..";)g.shift(),f-=1;o.pathname=g.join("/")}d=f>=0?t[f]:"/"}let a=C9(o,d),u=y&&y!=="/"&&y.endsWith("/"),v=(c||y===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||v)&&(a.pathname+="/"),a}var uh=e=>e.join("/").replace(/\/\/+/g,"/"),E9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,D9=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function k9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _9(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kC(e,t){let n=e;if(typeof n!="string"||!TC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(DC)try{let c=new URL(window.location.href),y=n.startsWith("//")?new URL(c.protocol+n):new URL(n),d=hh(y.pathname,t);y.origin===c.origin&&d!=null?n=d+y.search+y.hash:o=!0}catch{ju(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _C=["POST","PUT","PATCH","DELETE"];new Set(_C);var M9=["GET",..._C];new Set(M9);var Nd=Re.createContext(null);Nd.displayName="DataRouter";var im=Re.createContext(null);im.displayName="DataRouterState";var O9=Re.createContext(!1),MC=Re.createContext({isTransitioning:!1});MC.displayName="ViewTransition";var I9=Re.createContext(new Map);I9.displayName="Fetchers";var R9=Re.createContext(null);R9.displayName="Await";var mc=Re.createContext(null);mc.displayName="Navigation";var $1=Re.createContext(null);$1.displayName="Location";var zc=Re.createContext({outlet:null,matches:[],isDataRoute:!1});zc.displayName="Route";var jy=Re.createContext(null);jy.displayName="RouteError";var OC="REACT_ROUTER_ERROR",N9="REDIRECT",L9="ROUTE_ERROR_RESPONSE";function B9(e){if(e.startsWith(`${OC}:${N9}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function F9(e){if(e.startsWith(`${OC}:${L9}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new D9(t.status,t.statusText,t.data)}catch{}}function P9(e,{relative:t}={}){Yo(Ld(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=Re.useContext(mc),{hash:o,pathname:c,search:y}=eg(e,{relative:t}),d=c;return n!=="/"&&(d=c==="/"?n:uh([n,c])),r.createHref({pathname:d,search:y,hash:o})}function Ld(){return Re.useContext($1)!=null}function lf(){return Yo(Ld(),"useLocation() may be used only in the context of a <Router> component."),Re.useContext($1).location}var IC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RC(e){Re.useContext(mc).static||Re.useLayoutEffect(e)}function Bd(){let{isDataRoute:e}=Re.useContext(zc);return e?eD():z9()}function z9(){Yo(Ld(),"useNavigate() may be used only in the context of a <Router> component.");let e=Re.useContext(Nd),{basename:t,navigator:n}=Re.useContext(mc),{matches:r}=Re.useContext(zc),{pathname:o}=lf(),c=JSON.stringify(Hy(r)),y=Re.useRef(!1);return RC(()=>{y.current=!0}),Re.useCallback((a,u={})=>{if(ju(y.current,IC),!y.current)return;if(typeof a=="number"){n.go(a);return}let v=Uy(a,JSON.parse(c),o,u.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:uh([t,v.pathname])),(u.replace?n.replace:n.push)(v,u.state,u)},[t,n,c,o,e])}var H9=Re.createContext(null);function U9(e){let t=Re.useContext(zc).outlet;return Re.useMemo(()=>t&&Re.createElement(H9.Provider,{value:e},t),[t,e])}function j9(){let{matches:e}=Re.useContext(zc),t=e[e.length-1];return t?t.params:{}}function eg(e,{relative:t}={}){let{matches:n}=Re.useContext(zc),{pathname:r}=lf(),o=JSON.stringify(Hy(n));return Re.useMemo(()=>Uy(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function W9(e,t){return NC(e,t)}function NC(e,t,n,r,o){Yo(Ld(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=Re.useContext(mc),{matches:y}=Re.useContext(zc),d=y[y.length-1],a=d?d.params:{},u=d?d.pathname:"/",v=d?d.pathnameBase:"/",f=d&&d.route;{let N=f&&f.path||"";BC(u,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=lf(),m;if(t){let N=typeof t=="string"?P0(t):t;Yo(v==="/"||N.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${N.pathname}" was given in the \`location\` prop.`),m=N}else m=g;let C=m.pathname||"/",D=C;if(v!=="/"){let N=v.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=SC(e,{pathname:D});ju(f||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ju(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=K9(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},a,N.params),pathname:uh([v,c.encodeLocation?c.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:uh([v,c.encodeLocation?c.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),y,n,r,o);return t&&O?Re.createElement($1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},O):O}function G9(){let e=$9(),t=k9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},y=null;return console.error("Error handled by React Router default ErrorBoundary:",e),y=Re.createElement(Re.Fragment,null,Re.createElement("p",null," Hey developer "),Re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Re.createElement("code",{style:c},"ErrorBoundary")," or"," ",Re.createElement("code",{style:c},"errorElement")," prop on your route.")),Re.createElement(Re.Fragment,null,Re.createElement("h2",null,"Unexpected Application Error!"),Re.createElement("h3",{style:{fontStyle:"italic"}},t),n?Re.createElement("pre",{style:o},n):null,y)}var Y9=Re.createElement(G9,null),LC=class extends Re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=F9(e.digest);n&&(e=n)}let t=e!==void 0?Re.createElement(zc.Provider,{value:this.props.routeContext},Re.createElement(jy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?Re.createElement(X9,{error:e},t):t}};LC.contextType=O9;var Av=new WeakMap;function X9({children:e,error:t}){let{basename:n}=Re.useContext(mc);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=B9(t.digest);if(r){let o=Av.get(t);if(o)throw o;let c=kC(r.location,n);if(DC&&!Av.get(t))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const y=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Av.set(t,y),y}return Re.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return e}function V9({routeContext:e,match:t,children:n}){let r=Re.useContext(Nd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Re.createElement(zc.Provider,{value:e},n)}function K9(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,y=n?.errors;if(y!=null){let v=c.findIndex(f=>f.route.id&&y?.[f.route.id]!==void 0);Yo(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let d=!1,a=-1;if(n)for(let v=0;v<c.length;v++){let f=c[v];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(a=v),f.route.id){let{loaderData:g,errors:m}=n,C=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||C){d=!0,a>=0?c=c.slice(0,a+1):c=[c[0]];break}}}let u=n&&r?(v,f)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_9(n.matches),errorInfo:f})}:void 0;return c.reduceRight((v,f,g)=>{let m,C=!1,D=null,S=null;n&&(m=y&&f.route.id?y[f.route.id]:void 0,D=f.route.errorElement||Y9,d&&(a<0&&g===0?(BC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,S=null):a===g&&(C=!0,S=f.route.hydrateFallbackElement||null)));let O=t.concat(c.slice(0,g+1)),N=()=>{let U;return m?U=D:C?U=S:f.route.Component?U=Re.createElement(f.route.Component,null):f.route.element?U=f.route.element:U=v,Re.createElement(V9,{match:f,routeContext:{outlet:v,matches:O,isDataRoute:n!=null},children:U})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?Re.createElement(LC,{location:n.location,revalidation:n.revalidation,component:D,error:m,children:N(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:u}):N()},null)}function Wy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z9(e){let t=Re.useContext(Nd);return Yo(t,Wy(e)),t}function q9(e){let t=Re.useContext(im);return Yo(t,Wy(e)),t}function Q9(e){let t=Re.useContext(zc);return Yo(t,Wy(e)),t}function Gy(e){let t=Q9(e),n=t.matches[t.matches.length-1];return Yo(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function J9(){return Gy("useRouteId")}function $9(){let e=Re.useContext(jy),t=q9("useRouteError"),n=Gy("useRouteError");return e!==void 0?e:t.errors?.[n]}function eD(){let{router:e}=Z9("useNavigate"),t=Gy("useNavigate"),n=Re.useRef(!1);return RC(()=>{n.current=!0}),Re.useCallback(async(o,c={})=>{ju(n.current,IC),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...c}))},[e,t])}var Z4={};function BC(e,t,n){!t&&!Z4[e]&&(Z4[e]=!0,ju(!1,n))}Re.memo(tD);function tD({routes:e,future:t,state:n,onError:r}){return NC(e,void 0,n,r,t)}function nD({to:e,replace:t,state:n,relative:r}){Yo(Ld(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Re.useContext(mc);ju(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=Re.useContext(zc),{pathname:y}=lf(),d=Bd(),a=Uy(e,Hy(c),y,r==="path"),u=JSON.stringify(a);return Re.useEffect(()=>{d(JSON.parse(u),{replace:t,state:n,relative:r})},[d,u,r,t,n]),null}function rD(e){return U9(e.context)}function A0(e){Yo(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:y}){Yo(!Ld(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),a=Re.useMemo(()=>({basename:d,navigator:o,static:c,unstable_useTransitions:y,future:{}}),[d,o,c,y]);typeof n=="string"&&(n=P0(n));let{pathname:u="/",search:v="",hash:f="",state:g=null,key:m="default"}=n,C=Re.useMemo(()=>{let D=hh(u,d);return D==null?null:{location:{pathname:D,search:v,hash:f,state:g,key:m},navigationType:r}},[d,u,v,f,g,m,r]);return ju(C!=null,`<Router basename="${d}"> is not able to match the URL "${u}${v}${f}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:Re.createElement(mc.Provider,{value:a},Re.createElement($1.Provider,{children:t,value:C}))}function aD({children:e,location:t}){return W9(H2(e),t)}function H2(e,t=[]){let n=[];return Re.Children.forEach(e,(r,o)=>{if(!Re.isValidElement(r))return;let c=[...t,o];if(r.type===Re.Fragment){n.push.apply(n,H2(r.props.children,c));return}Yo(r.type===A0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yo(!r.props.index||!r.props.children,"An index route cannot have child routes.");let y={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(y.children=H2(r.props.children,c)),n.push(y)}),n}var up="get",cp="application/x-www-form-urlencoded";function am(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function oD(e){return am(e)&&e.tagName.toLowerCase()==="button"}function sD(e){return am(e)&&e.tagName.toLowerCase()==="form"}function lD(e){return am(e)&&e.tagName.toLowerCase()==="input"}function uD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cD(e,t){return e.button===0&&(!t||t==="_self")&&!uD(e)}function U2(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function fD(e,t){let n=U2(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(c=>{n.append(o,c)})}),n}var Pg=null;function hD(){if(Pg===null)try{new FormData(document.createElement("form"),0),Pg=!1}catch{Pg=!0}return Pg}var dD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tv(e){return e!=null&&!dD.has(e)?(ju(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cp}"`),null):e}function gD(e,t){let n,r,o,c,y;if(sD(e)){let d=e.getAttribute("action");r=d?hh(d,t):null,n=e.getAttribute("method")||up,o=Tv(e.getAttribute("enctype"))||cp,c=new FormData(e)}else if(oD(e)||lD(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||d.getAttribute("action");if(r=a?hh(a,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||up,o=Tv(e.getAttribute("formenctype"))||Tv(d.getAttribute("enctype"))||cp,c=new FormData(d,e),!hD()){let{name:u,type:v,value:f}=e;if(v==="image"){let g=u?`${u}.`:"";c.append(`${g}x`,"0"),c.append(`${g}y`,"0")}else u&&c.append(u,f)}}else{if(am(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=up,r=null,o=cp,y=e}return c&&o==="text/plain"&&(y=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pD(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hh(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function mD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yD(e,t,n){let r=await Promise.all(e.map(async o=>{let c=t.routes[o.route.id];if(c){let y=await mD(c,n);return y.links?y.links():[]}return[]}));return CD(r.flat(1).filter(vD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function q4(e,t,n,r,o,c){let y=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,d=(a,u)=>n[u].pathname!==a.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==a.params["*"];return c==="assets"?t.filter((a,u)=>y(a,u)||d(a,u)):c==="data"?t.filter((a,u)=>{let v=r.routes[a.route.id];if(!v||!v.hasLoader)return!1;if(y(a,u)||d(a,u))return!0;if(a.route.shouldRevalidate){let f=a.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function xD(e,t,{includeHydrateFallback:n}={}){return bD(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function bD(e){return[...new Set(e)]}function wD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function CD(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let c=JSON.stringify(wD(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function FC(){let e=Re.useContext(Nd);return Yy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function SD(){let e=Re.useContext(im);return Yy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xy=Re.createContext(void 0);Xy.displayName="FrameworkContext";function PC(){let e=Re.useContext(Xy);return Yy(e,"You must render this element inside a <HydratedRouter> element"),e}function ED(e,t){let n=Re.useContext(Xy),[r,o]=Re.useState(!1),[c,y]=Re.useState(!1),{onFocus:d,onBlur:a,onMouseEnter:u,onMouseLeave:v,onTouchStart:f}=t,g=Re.useRef(null);Re.useEffect(()=>{if(e==="render"&&y(!0),e==="viewport"){let D=O=>{O.forEach(N=>{y(N.isIntersecting)})},S=new IntersectionObserver(D,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),Re.useEffect(()=>{if(r){let D=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(D)}}},[r]);let m=()=>{o(!0)},C=()=>{o(!1),y(!1)};return n?e!=="intent"?[c,g,{}]:[c,g,{onFocus:u1(d,m),onBlur:u1(a,C),onMouseEnter:u1(u,m),onMouseLeave:u1(v,C),onTouchStart:u1(f,m)}]:[!1,g,{}]}function u1(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function AD({page:e,...t}){let{router:n}=FC(),r=Re.useMemo(()=>SC(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?Re.createElement(DD,{page:e,matches:r,...t}):null}function TD(e){let{manifest:t,routeModules:n}=PC(),[r,o]=Re.useState([]);return Re.useEffect(()=>{let c=!1;return yD(e,t,n).then(y=>{c||o(y)}),()=>{c=!0}},[e,t,n]),r}function DD({page:e,matches:t,...n}){let r=lf(),{manifest:o,routeModules:c}=PC(),{basename:y}=FC(),{loaderData:d,matches:a}=SD(),u=Re.useMemo(()=>q4(e,t,a,o,r,"data"),[e,t,a,o,r]),v=Re.useMemo(()=>q4(e,t,a,o,r,"assets"),[e,t,a,o,r]),f=Re.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,D=!1;if(t.forEach(O=>{let N=o.routes[O.route.id];!N||!N.hasLoader||(!u.some(U=>U.route.id===O.route.id)&&O.route.id in d&&c[O.route.id]?.shouldRevalidate||N.hasClientLoader?D=!0:C.add(O.route.id))}),C.size===0)return[];let S=pD(e,y,"data");return D&&C.size>0&&S.searchParams.set("_routes",t.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[y,d,r,o,u,t,e,c]),g=Re.useMemo(()=>xD(v,o),[v,o]),m=TD(v);return Re.createElement(Re.Fragment,null,f.map(C=>Re.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),g.map(C=>Re.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),m.map(({key:C,link:D})=>Re.createElement("link",{key:C,nonce:n.nonce,...D})))}function kD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var _D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_D&&(window.__reactRouterVersion="7.11.0")}catch{}function MD({basename:e,children:t,unstable_useTransitions:n,window:r}){let o=Re.useRef();o.current==null&&(o.current=i9({window:r,v5Compat:!0}));let c=o.current,[y,d]=Re.useState({action:c.action,location:c.location}),a=Re.useCallback(u=>{n===!1?d(u):Re.startTransition(()=>d(u))},[n]);return Re.useLayoutEffect(()=>c.listen(a),[c,a]),Re.createElement(iD,{basename:e,children:t,location:y.location,navigationType:y.action,navigator:c,unstable_useTransitions:n})}var zC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vy=Re.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:y,state:d,target:a,to:u,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g,...m},C){let{basename:D,unstable_useTransitions:S}=Re.useContext(mc),O=typeof u=="string"&&zC.test(u),N=kC(u,D);u=N.to;let U=P9(u,{relative:o}),[W,q,J]=ED(r,m),ne=ND(u,{replace:y,state:d,target:a,preventScrollReset:v,relative:o,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:S});function ve(Be){t&&t(Be),Be.defaultPrevented||ne(Be)}let Se=Re.createElement("a",{...m,...J,href:N.absoluteURL||U,onClick:N.isExternal||c?t:ve,ref:kD(C,q),target:a,"data-discover":!O&&n==="render"?"true":void 0});return W&&!O?Re.createElement(Re.Fragment,null,Se,Re.createElement(AD,{page:U})):Se});Vy.displayName="Link";var OD=Re.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:y,viewTransition:d,children:a,...u},v){let f=eg(y,{relative:u.relative}),g=lf(),m=Re.useContext(im),{navigator:C,basename:D}=Re.useContext(mc),S=m!=null&&HD(f)&&d===!0,O=C.encodeLocation?C.encodeLocation(f).pathname:f.pathname,N=g.pathname,U=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(N=N.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&D&&(U=hh(U,D)||U);const W=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let q=N===O||!o&&N.startsWith(O)&&N.charAt(W)==="/",J=U!=null&&(U===O||!o&&U.startsWith(O)&&U.charAt(O.length)==="/"),ne={isActive:q,isPending:J,isTransitioning:S},ve=q?t:void 0,Se;typeof r=="function"?Se=r(ne):Se=[r,q?"active":null,J?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Be=typeof c=="function"?c(ne):c;return Re.createElement(Vy,{...u,"aria-current":ve,className:Se,ref:v,style:Be,to:y,viewTransition:d},typeof a=="function"?a(ne):a)});OD.displayName="NavLink";var ID=Re.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:c,method:y=up,action:d,onSubmit:a,relative:u,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g,...m},C)=>{let{unstable_useTransitions:D}=Re.useContext(mc),S=PD(),O=zD(d,{relative:u}),N=y.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&zC.test(d),W=q=>{if(a&&a(q),q.defaultPrevented)return;q.preventDefault();let J=q.nativeEvent.submitter,ne=J?.getAttribute("formmethod")||y,ve=()=>S(J||q.currentTarget,{fetcherKey:t,method:ne,navigate:n,replace:o,state:c,relative:u,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g});D&&n!==!1?Re.startTransition(()=>ve()):ve()};return Re.createElement("form",{ref:C,method:N,action:O,onSubmit:r?a:W,...m,"data-discover":!U&&e==="render"?"true":void 0})});ID.displayName="Form";function RD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HC(e){let t=Re.useContext(Nd);return Yo(t,RD(e)),t}function ND(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:y,unstable_defaultShouldRevalidate:d,unstable_useTransitions:a}={}){let u=Bd(),v=lf(),f=eg(e,{relative:c});return Re.useCallback(g=>{if(cD(g,t)){g.preventDefault();let m=n!==void 0?n:F1(v)===F1(f),C=()=>u(e,{replace:m,state:r,preventScrollReset:o,relative:c,viewTransition:y,unstable_defaultShouldRevalidate:d});a?Re.startTransition(()=>C()):C()}},[v,u,f,n,r,t,e,o,c,y,d,a])}function LD(e){ju(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=Re.useRef(U2(e)),n=Re.useRef(!1),r=lf(),o=Re.useMemo(()=>fD(r.search,n.current?null:t.current),[r.search]),c=Bd(),y=Re.useCallback((d,a)=>{const u=U2(typeof d=="function"?d(new URLSearchParams(o)):d);n.current=!0,c("?"+u,a)},[c,o]);return[o,y]}var BD=0,FD=()=>`__${String(++BD)}__`;function PD(){let{router:e}=HC("useSubmit"),{basename:t}=Re.useContext(mc),n=J9(),r=e.fetch,o=e.navigate;return Re.useCallback(async(c,y={})=>{let{action:d,method:a,encType:u,formData:v,body:f}=gD(c,t);if(y.navigate===!1){let g=y.fetcherKey||FD();await r(g,n,y.action||d,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:v,body:f,formMethod:y.method||a,formEncType:y.encType||u,flushSync:y.flushSync})}else await o(y.action||d,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:v,body:f,formMethod:y.method||a,formEncType:y.encType||u,replace:y.replace,state:y.state,fromRouteId:n,flushSync:y.flushSync,viewTransition:y.viewTransition})},[r,o,t,n])}function zD(e,{relative:t}={}){let{basename:n}=Re.useContext(mc),r=Re.useContext(zc);Yo(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...eg(e||".",{relative:t})},y=lf();if(e==null){c.search=y.search;let d=new URLSearchParams(c.search),a=d.getAll("index");if(a.some(v=>v==="")){d.delete("index"),a.filter(f=>f).forEach(f=>d.append("index",f));let v=d.toString();c.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:uh([n,c.pathname])),F1(c)}function HD(e,{relative:t}={}){let n=Re.useContext(MC);Yo(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HC("useViewTransitionState"),o=eg(e,{relative:t});if(!n.isTransitioning)return!1;let c=hh(n.currentLocation.pathname,r)||n.currentLocation.pathname,y=hh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ap(o.pathname,y)!=null||Ap(o.pathname,c)!=null}var om=rm();const UD=F0(om);var Al=function(){return Al=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Al.apply(this,arguments)};function wd(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,c;r<o;r++)(c||!(r in t))&&(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return e.concat(c||Array.prototype.slice.call(t))}var No="-ms-",_1="-moz-",La="-webkit-",UC="comm",sm="rule",Ky="decl",jD="@import",jC="@keyframes",WD="@layer",WC=Math.abs,Zy=String.fromCharCode,j2=Object.assign;function GD(e,t){return El(e,0)^45?(((t<<2^El(e,0))<<2^El(e,1))<<2^El(e,2))<<2^El(e,3):0}function GC(e){return e.trim()}function oh(e,t){return(e=t.exec(e))?e[0]:e}function _i(e,t,n){return e.replace(t,n)}function fp(e,t,n){return e.indexOf(t,n)}function El(e,t){return e.charCodeAt(t)|0}function Cd(e,t,n){return e.slice(t,n)}function Rf(e){return e.length}function YC(e){return e.length}function T1(e,t){return t.push(e),e}function YD(e,t){return e.map(t).join("")}function Q4(e,t){return e.filter(function(n){return!oh(n,t)})}var lm=1,Sd=1,XC=0,Bc=0,Vs=0,Fd="";function um(e,t,n,r,o,c,y,d){return{value:e,root:t,parent:n,type:r,props:o,children:c,line:lm,column:Sd,length:y,return:"",siblings:d}}function Gh(e,t){return j2(um("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ad(e){for(;e.root;)e=Gh(e.root,{children:[e]});T1(e,e.siblings)}function XD(){return Vs}function VD(){return Vs=Bc>0?El(Fd,--Bc):0,Sd--,Vs===10&&(Sd=1,lm--),Vs}function of(){return Vs=Bc<XC?El(Fd,Bc++):0,Sd++,Vs===10&&(Sd=1,lm++),Vs}function O0(){return El(Fd,Bc)}function hp(){return Bc}function cm(e,t){return Cd(Fd,e,t)}function W2(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KD(e){return lm=Sd=1,XC=Rf(Fd=e),Bc=0,[]}function ZD(e){return Fd="",e}function Dv(e){return GC(cm(Bc-1,G2(e===91?e+2:e===40?e+1:e)))}function qD(e){for(;(Vs=O0())&&Vs<33;)of();return W2(e)>2||W2(Vs)>3?"":" "}function QD(e,t){for(;--t&&of()&&!(Vs<48||Vs>102||Vs>57&&Vs<65||Vs>70&&Vs<97););return cm(e,hp()+(t<6&&O0()==32&&of()==32))}function G2(e){for(;of();)switch(Vs){case e:return Bc;case 34:case 39:e!==34&&e!==39&&G2(Vs);break;case 40:e===41&&G2(e);break;case 92:of();break}return Bc}function JD(e,t){for(;of()&&e+Vs!==57;)if(e+Vs===84&&O0()===47)break;return"/*"+cm(t,Bc-1)+"*"+Zy(e===47?e:of())}function $D(e){for(;!W2(O0());)of();return cm(e,Bc)}function ek(e){return ZD(dp("",null,null,null,[""],e=KD(e),0,[0],e))}function dp(e,t,n,r,o,c,y,d,a){for(var u=0,v=0,f=y,g=0,m=0,C=0,D=1,S=1,O=1,N=0,U="",W=o,q=c,J=r,ne=U;S;)switch(C=N,N=of()){case 40:if(C!=108&&El(ne,f-1)==58){fp(ne+=_i(Dv(N),"&","&\f"),"&\f",WC(u?d[u-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:ne+=Dv(N);break;case 9:case 10:case 13:case 32:ne+=qD(C);break;case 92:ne+=QD(hp()-1,7);continue;case 47:switch(O0()){case 42:case 47:T1(tk(JD(of(),hp()),t,n,a),a);break;default:ne+="/"}break;case 123*D:d[u++]=Rf(ne)*O;case 125*D:case 59:case 0:switch(N){case 0:case 125:S=0;case 59+v:O==-1&&(ne=_i(ne,/\f/g,"")),m>0&&Rf(ne)-f&&T1(m>32?$4(ne+";",r,n,f-1,a):$4(_i(ne," ","")+";",r,n,f-2,a),a);break;case 59:ne+=";";default:if(T1(J=J4(ne,t,n,u,v,o,d,U,W=[],q=[],f,c),c),N===123)if(v===0)dp(ne,t,J,J,W,c,f,d,q);else switch(g===99&&El(ne,3)===110?100:g){case 100:case 108:case 109:case 115:dp(e,J,J,r&&T1(J4(e,J,J,0,0,o,d,U,o,W=[],f,q),q),o,q,f,d,r?W:q);break;default:dp(ne,J,J,J,[""],q,0,d,q)}}u=v=m=0,D=O=1,U=ne="",f=y;break;case 58:f=1+Rf(ne),m=C;default:if(D<1){if(N==123)--D;else if(N==125&&D++==0&&VD()==125)continue}switch(ne+=Zy(N),N*D){case 38:O=v>0?1:(ne+="\f",-1);break;case 44:d[u++]=(Rf(ne)-1)*O,O=1;break;case 64:O0()===45&&(ne+=Dv(of())),g=O0(),v=f=Rf(U=ne+=$D(hp())),N++;break;case 45:C===45&&Rf(ne)==2&&(D=0)}}return c}function J4(e,t,n,r,o,c,y,d,a,u,v,f){for(var g=o-1,m=o===0?c:[""],C=YC(m),D=0,S=0,O=0;D<r;++D)for(var N=0,U=Cd(e,g+1,g=WC(S=y[D])),W=e;N<C;++N)(W=GC(S>0?m[N]+" "+U:_i(U,/&\f/g,m[N])))&&(a[O++]=W);return um(e,t,n,o===0?sm:d,a,u,v,f)}function tk(e,t,n,r){return um(e,t,n,UC,Zy(XD()),Cd(e,2,-2),0,r)}function $4(e,t,n,r,o){return um(e,t,n,Ky,Cd(e,0,r),Cd(e,r+1,-1),r,o)}function VC(e,t,n){switch(GD(e,t)){case 5103:return La+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return La+e+e;case 4789:return _1+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return La+e+_1+e+No+e+e;case 5936:switch(El(e,t+11)){case 114:return La+e+No+_i(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return La+e+No+_i(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return La+e+No+_i(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return La+e+No+e+e;case 6165:return La+e+No+"flex-"+e+e;case 5187:return La+e+_i(e,/(\w+).+(:[^]+)/,La+"box-$1$2"+No+"flex-$1$2")+e;case 5443:return La+e+No+"flex-item-"+_i(e,/flex-|-self/g,"")+(oh(e,/flex-|baseline/)?"":No+"grid-row-"+_i(e,/flex-|-self/g,""))+e;case 4675:return La+e+No+"flex-line-pack"+_i(e,/align-content|flex-|-self/g,"")+e;case 5548:return La+e+No+_i(e,"shrink","negative")+e;case 5292:return La+e+No+_i(e,"basis","preferred-size")+e;case 6060:return La+"box-"+_i(e,"-grow","")+La+e+No+_i(e,"grow","positive")+e;case 4554:return La+_i(e,/([^-])(transform)/g,"$1"+La+"$2")+e;case 6187:return _i(_i(_i(e,/(zoom-|grab)/,La+"$1"),/(image-set)/,La+"$1"),e,"")+e;case 5495:case 3959:return _i(e,/(image-set\([^]*)/,La+"$1$`$1");case 4968:return _i(_i(e,/(.+:)(flex-)?(.*)/,La+"box-pack:$3"+No+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+La+e+e;case 4200:if(!oh(e,/flex-|baseline/))return No+"grid-column-align"+Cd(e,t)+e;break;case 2592:case 3360:return No+_i(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,oh(r.props,/grid-\w+-end/)})?~fp(e+(n=n[t].value),"span",0)?e:No+_i(e,"-start","")+e+No+"grid-row-span:"+(~fp(n,"span",0)?oh(n,/\d+/):+oh(n,/\d+/)-+oh(e,/\d+/))+";":No+_i(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return oh(r.props,/grid-\w+-start/)})?e:No+_i(_i(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return _i(e,/(.+)-inline(.+)/,La+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rf(e)-1-t>6)switch(El(e,t+1)){case 109:if(El(e,t+4)!==45)break;case 102:return _i(e,/(.+:)(.+)-([^]+)/,"$1"+La+"$2-$3$1"+_1+(El(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~fp(e,"stretch",0)?VC(_i(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return _i(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,c,y,d,a,u){return No+o+":"+c+u+(y?No+o+"-span:"+(d?a:+a-+c)+u:"")+e});case 4949:if(El(e,t+6)===121)return _i(e,":",":"+La)+e;break;case 6444:switch(El(e,El(e,14)===45?18:11)){case 120:return _i(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+La+(El(e,14)===45?"inline-":"")+"box$3$1"+La+"$2$3$1"+No+"$2box$3")+e;case 100:return _i(e,":",":"+No)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return _i(e,"scroll-","scroll-snap-")+e}return e}function Tp(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function nk(e,t,n,r){switch(e.type){case WD:if(e.children.length)break;case jD:case Ky:return e.return=e.return||e.value;case UC:return"";case jC:return e.return=e.value+"{"+Tp(e.children,r)+"}";case sm:if(!Rf(e.value=e.props.join(",")))return""}return Rf(n=Tp(e.children,r))?e.return=e.value+"{"+n+"}":""}function rk(e){var t=YC(e);return function(n,r,o,c){for(var y="",d=0;d<t;d++)y+=e[d](n,r,o,c)||"";return y}}function ik(e){return function(t){t.root||(t=t.return)&&e(t)}}function ak(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ky:e.return=VC(e.value,e.length,n);return;case jC:return Tp([Gh(e,{value:_i(e.value,"@","@"+La)})],r);case sm:if(e.length)return YD(n=e.props,function(o){switch(oh(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ad(Gh(e,{props:[_i(o,/:(read-\w+)/,":"+_1+"$1")]})),ad(Gh(e,{props:[o]})),j2(e,{props:Q4(n,r)});break;case"::placeholder":ad(Gh(e,{props:[_i(o,/:(plac\w+)/,":"+La+"input-$1")]})),ad(Gh(e,{props:[_i(o,/:(plac\w+)/,":"+_1+"$1")]})),ad(Gh(e,{props:[_i(o,/:(plac\w+)/,No+"input-$1")]})),ad(Gh(e,{props:[o]})),j2(e,{props:Q4(n,r)});break}return""})}}var ok={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lc={},Ed=typeof process<"u"&&lc!==void 0&&(lc.REACT_APP_SC_ATTR||lc.SC_ATTR)||"data-styled",KC="active",ZC="data-styled-version",fm="6.1.19",qy=`/*!sc*/
`,Dp=typeof window<"u"&&typeof document<"u",sk=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&lc!==void 0&&lc.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&lc.REACT_APP_SC_DISABLE_SPEEDY!==""?lc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&lc.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&lc!==void 0&&lc.SC_DISABLE_SPEEDY!==void 0&&lc.SC_DISABLE_SPEEDY!==""&&lc.SC_DISABLE_SPEEDY!=="false"&&lc.SC_DISABLE_SPEEDY),lk={},hm=Object.freeze([]),Ad=Object.freeze({});function qC(e,t,n){return n===void 0&&(n=Ad),e.theme!==n.theme&&e.theme||t||n.theme}var QC=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),uk=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ck=/(^-|-$)/g;function e3(e){return e.replace(uk,"-").replace(ck,"")}var fk=/(a)(d)/gi,zg=52,t3=function(e){return String.fromCharCode(e+(e>25?39:97))};function Y2(e){var t,n="";for(t=Math.abs(e);t>zg;t=t/zg|0)n=t3(t%zg)+n;return(t3(t%zg)+n).replace(fk,"$1-$2")}var kv,JC=5381,md=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$C=function(e){return md(JC,e)};function Qy(e){return Y2($C(e)>>>0)}function hk(e){return e.displayName||e.name||"Component"}function _v(e){return typeof e=="string"&&!0}var eS=typeof Symbol=="function"&&Symbol.for,tS=eS?Symbol.for("react.memo"):60115,dk=eS?Symbol.for("react.forward_ref"):60112,gk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mk=((kv={})[dk]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kv[tS]=nS,kv);function n3(e){return("type"in(t=e)&&t.type.$$typeof)===tS?nS:"$$typeof"in e?mk[e.$$typeof]:gk;var t}var vk=Object.defineProperty,yk=Object.getOwnPropertyNames,r3=Object.getOwnPropertySymbols,xk=Object.getOwnPropertyDescriptor,bk=Object.getPrototypeOf,i3=Object.prototype;function rS(e,t,n){if(typeof t!="string"){if(i3){var r=bk(t);r&&r!==i3&&rS(e,r,n)}var o=yk(t);r3&&(o=o.concat(r3(t)));for(var c=n3(e),y=n3(t),d=0;d<o.length;++d){var a=o[d];if(!(a in pk||n&&n[a]||y&&a in y||c&&a in c)){var u=xk(t,a);try{vk(e,a,u)}catch{}}}}return e}function R0(e){return typeof e=="function"}function Jy(e){return typeof e=="object"&&"styledComponentId"in e}function M0(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function kp(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function P1(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function X2(e,t,n){if(n===void 0&&(n=!1),!n&&!P1(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=X2(e[r],t[r]);else if(P1(t))for(var r in t)e[r]=X2(e[r],t[r]);return e}function $y(e,t){Object.defineProperty(e,"toString",{value:t})}function Zh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var wk=(function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,c=o;t>=c;)if((c<<=1)<0)throw Zh(16,"".concat(t));this.groupSizes=new Uint32Array(c),this.groupSizes.set(r),this.length=c;for(var y=o;y<c;y++)this.groupSizes[y]=0}for(var d=this.indexOfGroup(t+1),a=(y=0,n.length);y<a;y++)this.tag.insertRule(d,n[y])&&(this.groupSizes[t]++,d++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var c=r;c<o;c++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),c=o+r,y=o;y<c;y++)n+="".concat(this.tag.getRule(y)).concat(qy);return n},e})(),gp=new Map,_p=new Map,pp=1,Hg=function(e){if(gp.has(e))return gp.get(e);for(;_p.has(pp);)pp++;var t=pp++;return gp.set(e,t),_p.set(t,e),t},Ck=function(e,t){pp=t+1,gp.set(e,t),_p.set(t,e)},Sk="style[".concat(Ed,"][").concat(ZC,'="').concat(fm,'"]'),Ek=new RegExp("^".concat(Ed,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ak=function(e,t,n){for(var r,o=n.split(","),c=0,y=o.length;c<y;c++)(r=o[c])&&e.registerName(t,r)},Tk=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(qy),o=[],c=0,y=r.length;c<y;c++){var d=r[c].trim();if(d){var a=d.match(Ek);if(a){var u=0|parseInt(a[1],10),v=a[2];u!==0&&(Ck(v,u),Ak(e,v,a[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(d)}}},a3=function(e){for(var t=document.querySelectorAll(Sk),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(Ed)!==KC&&(Tk(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function Dk(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var iS=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=(function(d){var a=Array.from(d.querySelectorAll("style[".concat(Ed,"]")));return a[a.length-1]})(n),c=o!==void 0?o.nextSibling:null;r.setAttribute(Ed,KC),r.setAttribute(ZC,fm);var y=Dk();return y&&r.setAttribute("nonce",y),n.insertBefore(r,c),r},kk=(function(){function e(t){this.element=iS(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,c=r.length;o<c;o++){var y=r[o];if(y.ownerNode===n)return y}throw Zh(17)})(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e})(),_k=(function(){function e(t){this.element=iS(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e})(),Mk=(function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e})(),o3=Dp,Ok={isServer:!Dp,useCSSOMInjection:!sk},Mp=(function(){function e(t,n,r){t===void 0&&(t=Ad),n===void 0&&(n={});var o=this;this.options=Al(Al({},Ok),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Dp&&o3&&(o3=!1,a3(this)),$y(this,function(){return(function(c){for(var y=c.getTag(),d=y.length,a="",u=function(f){var g=(function(O){return _p.get(O)})(f);if(g===void 0)return"continue";var m=c.names.get(g),C=y.getGroup(f);if(m===void 0||!m.size||C.length===0)return"continue";var D="".concat(Ed,".g").concat(f,'[id="').concat(g,'"]'),S="";m!==void 0&&m.forEach(function(O){O.length>0&&(S+="".concat(O,","))}),a+="".concat(C).concat(D,'{content:"').concat(S,'"}').concat(qy)},v=0;v<d;v++)u(v);return a})(o)})}return e.registerId=function(t){return Hg(t)},e.prototype.rehydrate=function(){!this.server&&Dp&&a3(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Al(Al({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new Mk(o):r?new kk(o):new _k(o)})(this.options),new wk(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Hg(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Hg(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Hg(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e})(),Ik=/&/g,Rk=/^\s*\/\/.*$/gm;function aS(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=aS(n.children,t)),n})}function Nk(e){var t,n,r,o=Ad,c=o.options,y=c===void 0?Ad:c,d=o.plugins,a=d===void 0?hm:d,u=function(g,m,C){return C.startsWith(n)&&C.endsWith(n)&&C.replaceAll(n,"").length>0?".".concat(t):g},v=a.slice();v.push(function(g){g.type===sm&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(Ik,n).replace(r,u))}),y.prefix&&v.push(ak),v.push(nk);var f=function(g,m,C,D){m===void 0&&(m=""),C===void 0&&(C=""),D===void 0&&(D="&"),t=D,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var S=g.replace(Rk,""),O=ek(C||m?"".concat(C," ").concat(m," { ").concat(S," }"):S);y.namespace&&(O=aS(O,y.namespace));var N=[];return Tp(O,rk(v.concat(ik(function(U){return N.push(U)})))),N};return f.hash=a.length?a.reduce(function(g,m){return m.name||Zh(15),md(g,m.name)},JC).toString():"",f}var Lk=new Mp,V2=Nk(),oS=Dn.createContext({shouldForwardProp:void 0,styleSheet:Lk,stylis:V2});oS.Consumer;Dn.createContext(void 0);function K2(){return Re.useContext(oS)}var sS=(function(){function e(t,n){var r=this;this.inject=function(o,c){c===void 0&&(c=V2);var y=r.name+c.hash;o.hasNameForId(r.id,y)||o.insertRules(r.id,y,c(r.rules,y,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,$y(this,function(){throw Zh(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=V2),this.name+t.hash},e})(),Bk=function(e){return e>="A"&&e<="Z"};function s3(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;Bk(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var lS=function(e){return e==null||e===!1||e===""},uS=function(e){var t,n,r=[];for(var o in e){var c=e[o];e.hasOwnProperty(o)&&!lS(c)&&(Array.isArray(c)&&c.isCss||R0(c)?r.push("".concat(s3(o),":"),c,";"):P1(c)?r.push.apply(r,wd(wd(["".concat(o," {")],uS(c),!1),["}"],!1)):r.push("".concat(s3(o),": ").concat((t=o,(n=c)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in ok||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Xh(e,t,n,r){if(lS(e))return[];if(Jy(e))return[".".concat(e.styledComponentId)];if(R0(e)){if(!R0(c=e)||c.prototype&&c.prototype.isReactComponent||!t)return[e];var o=e(t);return Xh(o,t,n,r)}var c;return e instanceof sS?n?(e.inject(n,r),[e.getName(r)]):[e]:P1(e)?uS(e):Array.isArray(e)?Array.prototype.concat.apply(hm,e.map(function(y){return Xh(y,t,n,r)})):[e.toString()]}function cS(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(R0(n)&&!Jy(n))return!1}return!0}var Fk=$C(fm),Pk=(function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&cS(t),this.componentId=n,this.baseHash=md(Fk,n),this.baseStyle=r,Mp.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=M0(o,this.staticRulesId);else{var c=kp(Xh(this.rules,t,n,r)),y=Y2(md(this.baseHash,c)>>>0);if(!n.hasNameForId(this.componentId,y)){var d=r(c,".".concat(y),void 0,this.componentId);n.insertRules(this.componentId,y,d)}o=M0(o,y),this.staticRulesId=y}else{for(var a=md(this.baseHash,r.hash),u="",v=0;v<this.rules.length;v++){var f=this.rules[v];if(typeof f=="string")u+=f;else if(f){var g=kp(Xh(f,t,n,r));a=md(a,g+v),u+=g}}if(u){var m=Y2(a>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=M0(o,m)}}return o},e})(),Td=Dn.createContext(void 0);Td.Consumer;function fS(){var e=Re.useContext(Td);if(!e)throw Zh(18);return e}function zk(e){var t=Dn.useContext(Td),n=Re.useMemo(function(){return(function(r,o){if(!r)throw Zh(14);if(R0(r)){var c=r(o);return c}if(Array.isArray(r)||typeof r!="object")throw Zh(8);return o?Al(Al({},o),r):r})(e.theme,t)},[e.theme,t]);return e.children?Dn.createElement(Td.Provider,{value:n},e.children):null}var Mv={};function Hk(e,t,n){var r=Jy(e),o=e,c=!_v(e),y=t.attrs,d=y===void 0?hm:y,a=t.componentId,u=a===void 0?(function(W,q){var J=typeof W!="string"?"sc":e3(W);Mv[J]=(Mv[J]||0)+1;var ne="".concat(J,"-").concat(Qy(fm+J+Mv[J]));return q?"".concat(q,"-").concat(ne):ne})(t.displayName,t.parentComponentId):a,v=t.displayName,f=v===void 0?(function(W){return _v(W)?"styled.".concat(W):"Styled(".concat(hk(W),")")})(e):v,g=t.displayName&&t.componentId?"".concat(e3(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&o.attrs?o.attrs.concat(d).filter(Boolean):d,C=t.shouldForwardProp;if(r&&o.shouldForwardProp){var D=o.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;C=function(W,q){return D(W,q)&&S(W,q)}}else C=D}var O=new Pk(n,g,r?o.componentStyle:void 0);function N(W,q){return(function(J,ne,ve){var Se=J.attrs,Be=J.componentStyle,Ue=J.defaultProps,qe=J.foldedComponentIds,mt=J.styledComponentId,ut=J.target,ge=Dn.useContext(Td),me=K2(),Ie=J.shouldForwardProp||me.shouldForwardProp,lt=qC(ne,ge,Ue)||Ad,Me=(function(Te,Fe,ct){for(var At,rt=Al(Al({},Fe),{className:void 0,theme:ct}),jt=0;jt<Te.length;jt+=1){var _t=R0(At=Te[jt])?At(rt):At;for(var Wt in _t)rt[Wt]=Wt==="className"?M0(rt[Wt],_t[Wt]):Wt==="style"?Al(Al({},rt[Wt]),_t[Wt]):_t[Wt]}return Fe.className&&(rt.className=M0(rt.className,Fe.className)),rt})(Se,ne,lt),ue=Me.as||ut,ce={};for(var oe in Me)Me[oe]===void 0||oe[0]==="$"||oe==="as"||oe==="theme"&&Me.theme===lt||(oe==="forwardedAs"?ce.as=Me.forwardedAs:Ie&&!Ie(oe,ue)||(ce[oe]=Me[oe]));var Z=(function(Te,Fe){var ct=K2(),At=Te.generateAndInjectStyles(Fe,ct.styleSheet,ct.stylis);return At})(Be,Me),be=M0(qe,mt);return Z&&(be+=" "+Z),Me.className&&(be+=" "+Me.className),ce[_v(ue)&&!QC.has(ue)?"class":"className"]=be,ve&&(ce.ref=ve),Re.createElement(ue,ce)})(U,W,q)}N.displayName=f;var U=Dn.forwardRef(N);return U.attrs=m,U.componentStyle=O,U.displayName=f,U.shouldForwardProp=C,U.foldedComponentIds=r?M0(o.foldedComponentIds,o.styledComponentId):"",U.styledComponentId=g,U.target=r?o.target:e,Object.defineProperty(U,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(W){this._foldedDefaultProps=r?(function(q){for(var J=[],ne=1;ne<arguments.length;ne++)J[ne-1]=arguments[ne];for(var ve=0,Se=J;ve<Se.length;ve++)X2(q,Se[ve],!0);return q})({},o.defaultProps,W):W}}),$y(U,function(){return".".concat(U.styledComponentId)}),c&&rS(U,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),U}function l3(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var u3=function(e){return Object.assign(e,{isCss:!0})};function ex(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(R0(e)||P1(e))return u3(Xh(l3(hm,wd([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Xh(r):u3(Xh(l3(r,t)))}function Z2(e,t,n){if(n===void 0&&(n=Ad),!t)throw Zh(1,t);var r=function(o){for(var c=[],y=1;y<arguments.length;y++)c[y-1]=arguments[y];return e(t,n,ex.apply(void 0,wd([o],c,!1)))};return r.attrs=function(o){return Z2(e,t,Al(Al({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return Z2(e,t,Al(Al({},n),o))},r}var hS=function(e){return Z2(Hk,e)},sn=hS;QC.forEach(function(e){sn[e]=hS(e)});var Uk=(function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=cS(t),Mp.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var c=o(kp(Xh(this.rules,n,r,o)),""),y=this.componentId+t;r.insertRules(y,y,c)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&Mp.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e})();function jk(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=ex.apply(void 0,wd([e],t,!1)),o="sc-global-".concat(Qy(JSON.stringify(r))),c=new Uk(r,o),y=function(a){var u=K2(),v=Dn.useContext(Td),f=Dn.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&d(f,a,u.styleSheet,v,u.stylis),Dn.useLayoutEffect(function(){if(!u.styleSheet.server)return d(f,a,u.styleSheet,v,u.stylis),function(){return c.removeStyles(f,u.styleSheet)}},[f,a,u.styleSheet,v,u.stylis]),null};function d(a,u,v,f,g){if(c.isStatic)c.renderStyles(a,lk,v,g);else{var m=Al(Al({},u),{theme:qC(u,f,y.defaultProps)});c.renderStyles(a,m,v,g)}}return Dn.memo(y)}function dS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=kp(ex.apply(void 0,wd([e],t,!1))),o=Qy(r);return new sS(o,r)}const k0={Classic:{mode:"light",background:"#f0f2f5",surface:"#ffffff",border:"#d1d5db",text:"#111827",textSecondary:"#4b5563",primary:"#3b82f6",primaryHover:"#2563eb",danger:"#ef4444",success:"#10b981"},Cream:{mode:"light",background:"#fdf6e3",surface:"#eee8d5",border:"#dccf8e",text:"#657b83",textSecondary:"#93a1a1",primary:"#b58900",primaryHover:"#a57900",danger:"#dc322f",success:"#859900"},Rose:{mode:"light",background:"#fff1f2",surface:"#ffe4e6",border:"#fecdd3",text:"#881337",textSecondary:"#be123c",primary:"#e11d48",primaryHover:"#be123c",danger:"#ef4444",success:"#10b981"},Sky:{mode:"light",background:"#f0f9ff",surface:"#e0f2fe",border:"#bae6fd",text:"#0c4a6e",textSecondary:"#0369a1",primary:"#0ea5e9",primaryHover:"#0284c7",danger:"#ef4444",success:"#10b981"},Mint:{mode:"light",background:"#f0fdf4",surface:"#dcfce7",border:"#bbf7d0",text:"#064e3b",textSecondary:"#047857",primary:"#10b981",primaryHover:"#059669",danger:"#ef4444",success:"#10b981"},Lavender:{mode:"light",background:"#f5f3ff",surface:"#ede9fe",border:"#ddd6fe",text:"#4c1d95",textSecondary:"#6d28d9",primary:"#8b5cf6",primaryHover:"#7c3aed",danger:"#ef4444",success:"#10b981"},Peach:{mode:"light",background:"#fff7ed",surface:"#ffedd5",border:"#fed7aa",text:"#7c2d12",textSecondary:"#9a3412",primary:"#f97316",primaryHover:"#ea580c",danger:"#ef4444",success:"#10b981"},Sand:{mode:"light",background:"#fafaf9",surface:"#f5f5f4",border:"#e7e5e4",text:"#44403c",textSecondary:"#78716c",primary:"#78350f",primaryHover:"#92400e",danger:"#ef4444",success:"#10b981"},Indigo:{mode:"light",background:"#f8fafc",surface:"#f1f5f9",border:"#e2e8f0",text:"#1e1b4b",textSecondary:"#312e81",primary:"#4f46e5",primaryHover:"#4338ca",danger:"#ef4444",success:"#10b981"},Grey:{mode:"light",background:"#f9fafb",surface:"#f3f4f6",border:"#e5e7eb",text:"#1f2937",textSecondary:"#4b5563",primary:"#374151",primaryHover:"#111827",danger:"#ef4444",success:"#10b981"},Dark:{mode:"dark",background:"#2b2d31",surface:"#383a40",border:"#4b4d52",text:"#e8eaed",textSecondary:"#aab0b6",primary:"#60a5fa",primaryHover:"#3b82f6",danger:"#f87171",success:"#34d399"},Midnight:{mode:"dark",background:"#1a1625",surface:"#241e33",border:"#3c3252",text:"#e9e7ed",textSecondary:"#a6a0b3",primary:"#c084fc",primaryHover:"#a855f7",danger:"#f87171",success:"#34d399"},Forest:{mode:"dark",background:"#0a1a15",surface:"#122b24",border:"#1e4237",text:"#e1ede8",textSecondary:"#8da69c",primary:"#10b981",primaryHover:"#059669",danger:"#fb7185",success:"#34d399"},Earth:{mode:"dark",background:"#1c1917",surface:"#292524",border:"#44403c",text:"#f5f5f4",textSecondary:"#a8a29e",primary:"#f59e0b",primaryHover:"#d97706",danger:"#ef4444",success:"#10b981"},Wine:{mode:"dark",background:"#1a0f0f",surface:"#2d1a1a",border:"#452a2a",text:"#fcecec",textSecondary:"#b08b8b",primary:"#f472b6",primaryHover:"#e879f9",danger:"#ef4444",success:"#10b981"},Slate:{mode:"dark",background:"#0f172a",surface:"#1e293b",border:"#334155",text:"#f1f5f9",textSecondary:"#94a3b8",primary:"#38bdf8",primaryHover:"#0ea5e9",danger:"#f43f5e",success:"#22c55e"},OLED:{mode:"dark",background:"#000000",surface:"#111111",border:"#222222",text:"#ffffff",textSecondary:"#999999",primary:"#3291ff",primaryHover:"#0070f3",danger:"#ff4444",success:"#00ff00"},Ocean:{mode:"dark",background:"#081b29",surface:"#112d42",border:"#1a3f5c",text:"#d1e8ff",textSecondary:"#7ab7ff",primary:"#00a8ff",primaryHover:"#0084cc",danger:"#ff4d4d",success:"#4dff88"},Neon:{mode:"dark",background:"#0d0221",surface:"#190e4f",border:"#2a1b82",text:"#e5e0ff",textSecondary:"#8a2be2",primary:"#ff00ff",primaryHover:"#cc00cc",danger:"#ff3131",success:"#00ff9f"},Dracula:{mode:"dark",background:"#282a36",surface:"#44475a",border:"#6272a4",text:"#f8f8f2",textSecondary:"#bd93f9",primary:"#ff79c6",primaryHover:"#bd93f9",danger:"#ff5555",success:"#50fa7b"}},Wk=jk`
  html {
    font-size: ${({theme:e})=>e.fontSize}px;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background-color: ${({theme:e})=>e.colors.background};
    color: ${({theme:e})=>e.colors.text};
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  * {
    box-sizing: border-box;
  }

  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
    &:hover {
      text-decoration: underline;
    }
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: ${({theme:e})=>e.colors.border};
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>e.colors.textSecondary};
  }
`,gS=Re.createContext(void 0),tx=()=>{const e=Re.useContext(gS);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Gk=({children:e})=>{const[t,n]=Re.useState(()=>localStorage.getItem("themeName")||"Classic"),[r,o]=Re.useState(()=>localStorage.getItem("lastLightTheme")||"Classic"),[c,y]=Re.useState(()=>localStorage.getItem("lastDarkTheme")||"Dark"),[d,a]=Re.useState(()=>{const S=localStorage.getItem("theme");return!S&&!localStorage.getItem("themeName")?"light":S||k0[t]?.mode||"light"}),[u,v]=Re.useState(()=>{const S=localStorage.getItem("fontSize");return S?Number(S):16});Re.useEffect(()=>{localStorage.setItem("theme",d)},[d]),Re.useEffect(()=>{localStorage.setItem("themeName",t);const S=k0[t];S&&(S.mode==="light"?(o(t),localStorage.setItem("lastLightTheme",t)):(y(t),localStorage.setItem("lastDarkTheme",t)))},[t]),Re.useEffect(()=>{localStorage.setItem("fontSize",u.toString())},[u]);const f=()=>{d==="light"?(a("dark"),n(c)):(a("light"),n(r))},g=()=>{v(S=>Math.min(S+1,24))},m=()=>{v(S=>Math.max(S-1,12))},C=S=>{n(S);const O=k0[S];O&&a(O.mode)},D={mode:d,fontSize:u,themeName:t,colors:k0[t]||k0.Classic};return te.jsx(gS.Provider,{value:{mode:d,toggleTheme:f,fontSize:u,increaseFontSize:g,decreaseFontSize:m,theme:D,setThemeByName:C},children:te.jsxs(zk,{theme:D,children:[te.jsx(Wk,{}),e]})})},pS=Re.createContext(void 0),mS=()=>{const e=Re.useContext(pS);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},Yk=({children:e})=>{const[t,n]=Re.useState("");return te.jsx(pS.Provider,{value:{searchQuery:t,setSearchQuery:n},children:e})},Xk={en:{sidebar:{new:"New Memo",add_memo:"Add Memo",search:"Search... (tag: for tags)",decrease_font:"Decrease Font Size",increase_font:"Increase Font Size",sync_data:"Sync Data",install_update:"Install Update",check_updates:"Check for Updates",switch_dark:"Switch to Dark Mode",switch_light:"Switch to Light Mode",settings:"Settings",newest:"Date (Newest)",oldest:"Date (Oldest)",last_memoed:"Last Memoed",last_commented:"Last Commented",untitled:"Untitled",update_found:"Update found! Click again to install.",up_to_date:"You are up to date!",check_failed:"Check failed. Try again.",pwa_not_supported:"PWA not supported",collapse:"Collapse",more_memos:"{count} more",drop_to_extract:"Drop to Extract"},settings:{title:"Settings",data_management:"Data Management",export_backup:"Export / Backup",import_restore:"Import / Restore",import_note:"Data is safely merged with existing entries.",language:"Language",english:"English",korean:"Korean",theme_selection:"Theme Appearance",theme_desc:"Choose your favorite color palette",export_data:"Export Data",export_mode:"Export Mode",all_data:"All Data (Default)",select_memos:"Select Memos",filename_optional:"Filename (optional):",enter_filename:"Enter filename...",no_memos_found:"No memos found.",cancel:"Cancel",export:"Export",import_confirm:"Import data? This will merge with existing data.",import_success:"Import successful!",import_failed:"Import failed: ",help:"Help",help_title:"Help & About",help_desc:"HandMemo is a powerful tool for taking and organizing your notes.",help_local_db:"Local Database: All data is stored in your browser using IndexedDB. No server required.",help_offline:"Offline Access: Works offline as a PWA.",help_sync:"Synchronization: Sync data between devices using AES-encrypted Relay Sync.",help_share_memo:"Sharing: Share specific memos with others via QR code.",help_backup:"Import/Export: Backup your data as JSON files anytime.",help_markdown:"Markdown Support: Rich memo editing with full Markdown support.",help_tags:"Tags: Organize memos with searchable tags.",help_comments:"Comments: Leave personal notes on each memo.",help_threads:"Grouping: Memos can be grouped by threads.",help_math:"Math formula editing support.",help_close:"Close",share_app:"Share with Friends",share_desc:"Love HandMemo? Share it with your friends!",share_success:"Link copied to clipboard!",disclaimer_title:"Legal Disclaimer",disclaimer_text:"HandMemo is provided 'as is' without warranty. Data is stored locally on your device; you are responsible for maintaining your own backups. The developers are not liable for any data loss.",factory_reset:"Factory Reset",reset_confirm:"Are you sure? This will delete ALL data including books, memos, settings. This action CANNOT be undone.",reset_success:"All data has been reset."},memo_detail:{loading:"Loading...",title_placeholder:"Memo Title",tags_placeholder:"Tags (comma separated)",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",delete_confirm:"Are you sure you want to delete this memo?",delete_thread_entire:"Delete Entire Thread",delete_memo_only:"Delete Only This Memo",delete_thread_confirm:"This memo is part of a thread. What would you like to delete?",add_thread:"Add Thread",untitled:"Untitled",share_memo:"Share",empty_state_title:"Create a new memo from sidebar"},comments:{title:"Comments",add_comment:"Add a comment...",save_comment:"Save Comment",post:"Post",delete_confirm:"Delete this comment?",cancel:"Cancel",add_button:"Add Comment"},sync:{title:"Relay Sync (AES Encrypted)",host_mode:"Create Sync Session",host_desc:"Create a session to sync with another device. Your data is encrypted locally using the Room ID as a key.",start_host:"Open Session",scan_mode:"Connect to Session",scan_desc:"Scan the QR code or enter the Room ID from the other device to start a bidirectional sync.",scanning:"Scanning QR...",stop_scanning:"Stop Scanning",room_id:"Room ID:",status:"Status:",copy:"Copy",close:"Close",host_session:"Create Session",join_session:"Connect",your_room_id:"Session Room ID",enter_custom_id:"Enter custom session ID",copied:"Copied!",copy_id:"Copy ID",regenerate_id:"New ID",connecting:"Connecting to relay...",restart_hosting:"Restart Session",connected_to_peer:"Linked with device",scan_hint:"Scan this code on your other device to start secure sync.",scan_qr:"Scan QR Code",or:"OR",manual_entry:"Manual Connection",enter_room_id:"Enter Room ID",connect:"Connect & Sync",ready_to_share:"Session active. Waiting for connection...",connected:"Linked",data_synced_reload:"Sync Completed! Reloading in 3 seconds..."},drawing:{title:"Drawing",insert:"Insert Drawing",cancel:"Cancel",placeholder:"Drawing Object (Click to Edit)",clear:"Clear",undo:"Undo",pen:"Pen",eraser:"Eraser",ok:"OK",reset:"Reset",enter_filename:"Enter filename:",head_size:"Arrow Head Size",opacity:"Opacity",palm_rejection:"Palm Rejection (Pen Only)",cancel_confirm:"Are you sure you want to discard your changes?"},android:{exit_warning:"Press back again to exit."}},ko:{sidebar:{new:"  ",add_memo:" ",search:"... ( tag:)",decrease_font:"  ",increase_font:"  ",sync_data:" ",install_update:" ",check_updates:" ",switch_dark:"  ",switch_light:"  ",settings:"",newest:" ()",oldest:" ()",last_memoed:" ",last_commented:" ",untitled:" ",update_found:" !   .",up_to_date:" !",check_failed:" .  .",pwa_not_supported:"PWA  .",collapse:"",more_memos:"{count} ",drop_to_extract:"  "},settings:{title:"",data_management:" ",export_backup:" / ",import_restore:" / ",import_note:"   .",language:"",english:"English",korean:"",theme_selection:" ",theme_desc:"   ",export_data:" ",export_mode:" ",all_data:"  ()",select_memos:" ",filename_optional:" ( ):",enter_filename:" ...",no_memos_found:"   .",cancel:"",export:"",import_confirm:" ?   .",import_success:" !",import_failed:" : ",help:"",help_title:"  ",help_desc:"HandMemo      .",help_local_db:" :   IndexedDB   .   .",help_offline:" : PWA    .",help_sync:": AES         .",help_share_memo:": QR       .",help_backup:"/:   JSON    .",help_markdown:" :      .",help_tags:":      .",help_comments:":        .",help_threads:":      .",help_math:" :        .",help_close:"",share_app:" ",share_desc:"HandMemo  ?  !",share_success:"  !",disclaimer_title:" ",disclaimer_text:"HandMemo   ' ' .      ,        .        .",factory_reset:"  ",reset_confirm:"   ? , ,      .     .",reset_success:"  ."},memo_detail:{loading:" ...",title_placeholder:" ",tags_placeholder:" ( )",save:"",cancel:"",edit:"",delete:"",delete_confirm:"  ?",delete_thread_entire:"  ",delete_memo_only:"  ",delete_thread_confirm:"   .  ?",add_thread:" ",untitled:" ",share_memo:"",empty_state_title:"   "},comments:{title:"",add_comment:" ...",save_comment:" ",post:"",delete_confirm:"  ?",cancel:"",add_button:" "},sync:{title:"  (AES )",host_mode:"  ",host_desc:"     .    ID    .",start_host:" ",scan_mode:" ",scan_desc:"  QR    ID    .",scanning:"QR  ...",stop_scanning:" ",room_id:" ID:",status:":",copy:"",close:"",host_session:" ",join_session:" ",your_room_id:"  ID",enter_custom_id:"  ID ",copied:"!",copy_id:"ID ",regenerate_id:" ID ",connecting:"   ...",restart_hosting:"  ",connected_to_peer:" ",scan_hint:"       .",scan_qr:"QR  ",or:"",manual_entry:" ",enter_room_id:" ID ",connect:"  ",ready_to_share:" .   ...",connected:"",data_synced_reload:" ! 3  ..."},drawing:{title:"",insert:" ",cancel:"",placeholder:"  ( )",clear:"",undo:" ",pen:"",eraser:"",ok:"",reset:"",enter_filename:" :",head_size:"  ",opacity:"",palm_rejection:"  ( )",cancel_confirm:"  ?"},android:{exit_warning:`  
    .`}}},vS=Re.createContext(void 0),Vk=({children:e})=>{const[t,n]=Re.useState(()=>{const c=localStorage.getItem("handmemo-language");return c==="en"||c==="ko"?c:navigator.language.toLowerCase().startsWith("ko")?"ko":"en"}),r=c=>{n(c),localStorage.setItem("handmemo-language",c)},o=Xk[t];return te.jsx(vS.Provider,{value:{language:t,setLanguage:r,t:o},children:e})},uf=()=>{const e=Re.useContext(vS);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},I0={CONTINUE:"CONTINUE",PREVENT_NAVIGATION:"PREVENT",ALLOW_NAVIGATION:"ALLOW"},yS=Re.createContext(null),nx=()=>{const e=Re.useContext(yS);if(!e)throw new Error("useExitGuard must be used within an ExitGuardProvider");return e},Kk=({children:e})=>{const t=Re.useRef({}),n=Re.useCallback((c,y)=>{t.current[c]=y},[]),r=Re.useCallback(c=>{delete t.current[c]},[]),o=Re.useCallback(()=>{for(const c of Object.keys(t.current)){const y=t.current[c]();if(y!==I0.CONTINUE)return y}return I0.CONTINUE},[]);return te.jsx(yS.Provider,{value:{registerGuard:n,unregisterGuard:r,checkGuards:o},children:e})};var mp={exports:{}},Zk=mp.exports,c3;function qk(){return c3||(c3=1,(function(e,t){(function(n,r){e.exports=r()})(Zk,function(){var n=function(b,T){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,j){B.__proto__=j}||function(B,j){for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(B[V]=j[V])})(b,T)},r=function(){return(r=Object.assign||function(b){for(var T,B=1,j=arguments.length;B<j;B++)for(var V in T=arguments[B])Object.prototype.hasOwnProperty.call(T,V)&&(b[V]=T[V]);return b}).apply(this,arguments)};function o(b,T,B){for(var j,V=0,ee=T.length;V<ee;V++)!j&&V in T||((j=j||Array.prototype.slice.call(T,0,V))[V]=T[V]);return b.concat(j||Array.prototype.slice.call(T))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:A1,y=Object.keys,d=Array.isArray;function a(b,T){return typeof T!="object"||y(T).forEach(function(B){b[B]=T[B]}),b}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var u=Object.getPrototypeOf,v={}.hasOwnProperty;function f(b,T){return v.call(b,T)}function g(b,T){typeof T=="function"&&(T=T(u(b))),(typeof Reflect>"u"?y:Reflect.ownKeys)(T).forEach(function(B){C(b,B,T[B])})}var m=Object.defineProperty;function C(b,T,B,j){m(b,T,a(B&&f(B,"get")&&typeof B.get=="function"?{get:B.get,set:B.set,configurable:!0}:{value:B,configurable:!0,writable:!0},j))}function D(b){return{from:function(T){return b.prototype=Object.create(T.prototype),C(b.prototype,"constructor",b),{extend:g.bind(null,b.prototype)}}}}var S=Object.getOwnPropertyDescriptor,O=[].slice;function N(b,T,B){return O.call(b,T,B)}function U(b,T){return T(b)}function W(b){if(!b)throw new Error("Assertion Failed")}function q(b){c.setImmediate?setImmediate(b):setTimeout(b,0)}function J(b,T){if(typeof T=="string"&&f(b,T))return b[T];if(!T)return b;if(typeof T!="string"){for(var B=[],j=0,V=T.length;j<V;++j){var ee=J(b,T[j]);B.push(ee)}return B}var he=T.indexOf(".");if(he!==-1){var Ae=b[T.substr(0,he)];return Ae==null?void 0:J(Ae,T.substr(he+1))}}function ne(b,T,B){if(b&&T!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof T!="string"&&"length"in T){W(typeof B!="string"&&"length"in B);for(var j=0,V=T.length;j<V;++j)ne(b,T[j],B[j])}else{var ee,he,Ae=T.indexOf(".");Ae!==-1?(ee=T.substr(0,Ae),(he=T.substr(Ae+1))===""?B===void 0?d(b)&&!isNaN(parseInt(ee))?b.splice(ee,1):delete b[ee]:b[ee]=B:ne(Ae=!(Ae=b[ee])||!f(b,ee)?b[ee]={}:Ae,he,B)):B===void 0?d(b)&&!isNaN(parseInt(T))?b.splice(T,1):delete b[T]:b[T]=B}}function ve(b){var T,B={};for(T in b)f(b,T)&&(B[T]=b[T]);return B}var Se=[].concat;function Be(b){return Se.apply([],b)}var Pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Be([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(T){return T+b+"Array"})}))).filter(function(b){return c[b]}),Ue=new Set(Pe.map(function(b){return c[b]})),qe=null;function mt(b){return qe=new WeakMap,b=(function T(B){if(!B||typeof B!="object")return B;var j=qe.get(B);if(j)return j;if(d(B)){j=[],qe.set(B,j);for(var V=0,ee=B.length;V<ee;++V)j.push(T(B[V]))}else if(Ue.has(B.constructor))j=B;else{var he,Ae=u(B);for(he in j=Ae===Object.prototype?{}:Object.create(Ae),qe.set(B,j),B)f(B,he)&&(j[he]=T(B[he]))}return j})(b),qe=null,b}var ut={}.toString;function ge(b){return ut.call(b).slice(8,-1)}var me=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ie=typeof me=="symbol"?function(b){var T;return b!=null&&(T=b[me])&&T.apply(b)}:function(){return null};function lt(b,T){return T=b.indexOf(T),0<=T&&b.splice(T,1),0<=T}var Me={};function ue(b){var T,B,j,V;if(arguments.length===1){if(d(b))return b.slice();if(this===Me&&typeof b=="string")return[b];if(V=Ie(b)){for(B=[];!(j=V.next()).done;)B.push(j.value);return B}if(b==null)return[b];if(typeof(T=b.length)!="number")return[b];for(B=new Array(T);T--;)B[T]=b[T];return B}for(T=arguments.length,B=new Array(T);T--;)B[T]=arguments[T];return B}var ce=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},dt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Er=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(dt),oe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Z(b,T){this.name=b,this.message=T}function be(b,T){return b+". Errors: "+Object.keys(T).map(function(B){return T[B].toString()}).filter(function(B,j,V){return V.indexOf(B)===j}).join(`
`)}function Te(b,T,B,j){this.failures=T,this.failedKeys=j,this.successCount=B,this.message=be(b,T)}function Fe(b,T){this.name="BulkError",this.failures=Object.keys(T).map(function(B){return T[B]}),this.failuresByPos=T,this.message=be(b,this.failures)}D(Z).from(Error).extend({toString:function(){return this.name+": "+this.message}}),D(Te).from(Z),D(Fe).from(Z);var ct=Er.reduce(function(b,T){return b[T]=T+"Error",b},{}),At=Z,rt=Er.reduce(function(b,T){var B=T+"Error";function j(V,ee){this.name=B,V?typeof V=="string"?(this.message="".concat(V).concat(ee?`
 `+ee:""),this.inner=ee||null):typeof V=="object"&&(this.message="".concat(V.name," ").concat(V.message),this.inner=V):(this.message=oe[T]||B,this.inner=null)}return D(j).from(At),b[T]=j,b},{});rt.Syntax=SyntaxError,rt.Type=TypeError,rt.Range=RangeError;var jt=dt.reduce(function(b,T){return b[T+"Error"]=rt[T],b},{}),_t=Er.reduce(function(b,T){return["Syntax","Type","Range"].indexOf(T)===-1&&(b[T+"Error"]=rt[T]),b},{});function Wt(){}function ft(b){return b}function kt(b,T){return b==null||b===ft?T:function(B){return T(b(B))}}function Dt(b,T){return function(){b.apply(this,arguments),T.apply(this,arguments)}}function tn(b,T){return b===Wt?T:function(){var B=b.apply(this,arguments);B!==void 0&&(arguments[0]=B);var j=this.onsuccess,V=this.onerror;this.onsuccess=null,this.onerror=null;var ee=T.apply(this,arguments);return j&&(this.onsuccess=this.onsuccess?Dt(j,this.onsuccess):j),V&&(this.onerror=this.onerror?Dt(V,this.onerror):V),ee!==void 0?ee:B}}function zt(b,T){return b===Wt?T:function(){b.apply(this,arguments);var B=this.onsuccess,j=this.onerror;this.onsuccess=this.onerror=null,T.apply(this,arguments),B&&(this.onsuccess=this.onsuccess?Dt(B,this.onsuccess):B),j&&(this.onerror=this.onerror?Dt(j,this.onerror):j)}}function Ut(b,T){return b===Wt?T:function(B){var j=b.apply(this,arguments);a(B,j);var V=this.onsuccess,ee=this.onerror;return this.onsuccess=null,this.onerror=null,B=T.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?Dt(V,this.onsuccess):V),ee&&(this.onerror=this.onerror?Dt(ee,this.onerror):ee),j===void 0?B===void 0?void 0:B:a(j,B)}}function Kt(b,T){return b===Wt?T:function(){return T.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function un(b,T){return b===Wt?T:function(){var B=b.apply(this,arguments);if(B&&typeof B.then=="function"){for(var j=this,V=arguments.length,ee=new Array(V);V--;)ee[V]=arguments[V];return B.then(function(){return T.apply(j,ee)})}return T.apply(this,arguments)}}_t.ModifyError=Te,_t.DexieError=Z,_t.BulkError=Fe;var Xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Zt(b){Xt=b}var Bn={},gt=100,Pe=typeof Promise>"u"?[]:(function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,u(b),b];var T=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[T,u(T),b]})(),dt=Pe[0],Er=Pe[1],Pe=Pe[2],Er=Er&&Er.then,xe=dt&&dt.constructor,Ee=!!Pe,Ze=function(b,T){at.push([b,T]),we&&(queueMicrotask(Hn),we=!1)},re=!0,we=!0,Ve=[],it=[],We=ft,Ct={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Wt,pgp:!1,env:{},finalize:Wt},Ye=Ct,at=[],St=0,yt=[];function Ft(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var T=this._PSD=Ye;if(typeof b!="function"){if(b!==Bn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vn(this,this._value))}this._state=null,this._value=null,++T.ref,(function B(j,V){try{V(function(ee){if(j._state===null){if(ee===j)throw new TypeError("A promise cannot be resolved with itself.");var he=j._lib&&xr();ee&&typeof ee.then=="function"?B(j,function(Ae,Oe){ee instanceof Ft?ee._then(Ae,Oe):ee.then(Ae,Oe)}):(j._state=!0,j._value=ee,$n(j)),he&&Br()}},vn.bind(null,j))}catch(ee){vn(j,ee)}})(this,b)}var pn={get:function(){var b=Ye,T=Sn;function B(j,V){var ee=this,he=!b.global&&(b!==Ye||T!==Sn),Ae=he&&!fi(),Oe=new Ft(function(Le,Xe){Yn(ee,new Cn(aa(j,b,he,Ae),aa(V,b,he,Ae),Le,Xe,b))});return this._consoleTask&&(Oe._consoleTask=this._consoleTask),Oe}return B.prototype=Bn,B},set:function(b){C(this,"then",b&&b.prototype===Bn?pn:{get:function(){return b},set:pn.set})}};function Cn(b,T,B,j,V){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof T=="function"?T:null,this.resolve=B,this.reject=j,this.psd=V}function vn(b,T){var B,j;it.push(T),b._state===null&&(B=b._lib&&xr(),T=We(T),b._state=!1,b._value=T,j=b,Ve.some(function(V){return V._value===j._value})||Ve.push(j),$n(b),B&&Br())}function $n(b){var T=b._listeners;b._listeners=[];for(var B=0,j=T.length;B<j;++B)Yn(b,T[B]);var V=b._PSD;--V.ref||V.finalize(),St===0&&(++St,Ze(function(){--St==0&&mr()},[]))}function Yn(b,T){if(b._state!==null){var B=b._state?T.onFulfilled:T.onRejected;if(B===null)return(b._state?T.resolve:T.reject)(b._value);++T.psd.ref,++St,Ze(er,[B,b,T])}else b._listeners.push(T)}function er(b,T,B){try{var j,V=T._value;!T._state&&it.length&&(it=[]),j=Xt&&T._consoleTask?T._consoleTask.run(function(){return b(V)}):b(V),T._state||it.indexOf(V)!==-1||(function(ee){for(var he=Ve.length;he;)if(Ve[--he]._value===ee._value)return Ve.splice(he,1)})(T),B.resolve(j)}catch(ee){B.reject(ee)}finally{--St==0&&mr(),--B.psd.ref||B.psd.finalize()}}function Hn(){gr(Ct,function(){xr()&&Br()})}function xr(){var b=re;return we=re=!1,b}function Br(){var b,T,B;do for(;0<at.length;)for(b=at,at=[],B=b.length,T=0;T<B;++T){var j=b[T];j[0].apply(null,j[1])}while(0<at.length);we=re=!0}function mr(){var b=Ve;Ve=[],b.forEach(function(j){j._PSD.onunhandled.call(null,j._value,j)});for(var T=yt.slice(0),B=T.length;B;)T[--B]()}function Mi(b){return new Ft(Bn,!1,b)}function Jn(b,T){var B=Ye;return function(){var j=xr(),V=Ye;try{return Tr(B,!0),b.apply(this,arguments)}catch(ee){T&&T(ee)}finally{Tr(V,!1),j&&Br()}}}g(Ft.prototype,{then:pn,_then:function(b,T){Yn(this,new Cn(null,null,b,T,Ye))},catch:function(b){if(arguments.length===1)return this.then(null,b);var T=b,B=arguments[1];return typeof T=="function"?this.then(null,function(j){return(j instanceof T?B:Mi)(j)}):this.then(null,function(j){return(j&&j.name===T?B:Mi)(j)})},finally:function(b){return this.then(function(T){return Ft.resolve(b()).then(function(){return T})},function(T){return Ft.resolve(b()).then(function(){return Mi(T)})})},timeout:function(b,T){var B=this;return b<1/0?new Ft(function(j,V){var ee=setTimeout(function(){return V(new rt.Timeout(T))},b);B.then(j,V).finally(clearTimeout.bind(null,ee))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(Ft.prototype,Symbol.toStringTag,"Dexie.Promise"),Ct.env=zr(),g(Ft,{all:function(){var b=ue.apply(null,arguments).map(yi);return new Ft(function(T,B){b.length===0&&T([]);var j=b.length;b.forEach(function(V,ee){return Ft.resolve(V).then(function(he){b[ee]=he,--j||T(b)},B)})})},resolve:function(b){return b instanceof Ft?b:b&&typeof b.then=="function"?new Ft(function(T,B){b.then(T,B)}):new Ft(Bn,!0,b)},reject:Mi,race:function(){var b=ue.apply(null,arguments).map(yi);return new Ft(function(T,B){b.map(function(j){return Ft.resolve(j).then(T,B)})})},PSD:{get:function(){return Ye},set:function(b){return Ye=b}},totalEchoes:{get:function(){return Sn}},newPSD:Pr,usePSD:gr,scheduler:{get:function(){return Ze},set:function(b){Ze=b}},rejectionMapper:{get:function(){return We},set:function(b){We=b}},follow:function(b,T){return new Ft(function(B,j){return Pr(function(V,ee){var he=Ye;he.unhandleds=[],he.onunhandled=ee,he.finalize=Dt(function(){var Ae,Oe=this;Ae=function(){Oe.unhandleds.length===0?V():ee(Oe.unhandleds[0])},yt.push(function Le(){Ae(),yt.splice(yt.indexOf(Le),1)}),++St,Ze(function(){--St==0&&mr()},[])},he.finalize),b()},T,B,j)})}}),xe&&(xe.allSettled&&C(Ft,"allSettled",function(){var b=ue.apply(null,arguments).map(yi);return new Ft(function(T){b.length===0&&T([]);var B=b.length,j=new Array(B);b.forEach(function(V,ee){return Ft.resolve(V).then(function(he){return j[ee]={status:"fulfilled",value:he}},function(he){return j[ee]={status:"rejected",reason:he}}).then(function(){return--B||T(j)})})})}),xe.any&&typeof AggregateError<"u"&&C(Ft,"any",function(){var b=ue.apply(null,arguments).map(yi);return new Ft(function(T,B){b.length===0&&B(new AggregateError([]));var j=b.length,V=new Array(j);b.forEach(function(ee,he){return Ft.resolve(ee).then(function(Ae){return T(Ae)},function(Ae){V[he]=Ae,--j||B(new AggregateError(V))})})})}),xe.withResolvers&&(Ft.withResolvers=xe.withResolvers));var Fr={awaits:0,echoes:0,id:0},si=0,Yr=[],vi=0,Sn=0,vr=0;function Pr(b,T,B,j){var V=Ye,ee=Object.create(V);return ee.parent=V,ee.ref=0,ee.global=!1,ee.id=++vr,Ct.env,ee.env=Ee?{Promise:Ft,PromiseProp:{value:Ft,configurable:!0,writable:!0},all:Ft.all,race:Ft.race,allSettled:Ft.allSettled,any:Ft.any,resolve:Ft.resolve,reject:Ft.reject}:{},T&&a(ee,T),++V.ref,ee.finalize=function(){--this.parent.ref||this.parent.finalize()},j=gr(ee,b,B,j),ee.ref===0&&ee.finalize(),j}function ar(){return Fr.id||(Fr.id=++si),++Fr.awaits,Fr.echoes+=gt,Fr.id}function fi(){return!!Fr.awaits&&(--Fr.awaits==0&&(Fr.id=0),Fr.echoes=Fr.awaits*gt,!0)}function yi(b){return Fr.echoes&&b&&b.constructor===xe?(ar(),b.then(function(T){return fi(),T},function(T){return fi(),or(T)})):b}function xi(){var b=Yr[Yr.length-1];Yr.pop(),Tr(b,!1)}function Tr(b,T){var B,j=Ye;(T?!Fr.echoes||vi++&&b===Ye:!vi||--vi&&b===Ye)||queueMicrotask(T?(function(V){++Sn,Fr.echoes&&--Fr.echoes!=0||(Fr.echoes=Fr.awaits=Fr.id=0),Yr.push(Ye),Tr(V,!0)}).bind(null,b):xi),b!==Ye&&(Ye=b,j===Ct&&(Ct.env=zr()),Ee&&(B=Ct.env.Promise,T=b.env,(j.global||b.global)&&(Object.defineProperty(c,"Promise",T.PromiseProp),B.all=T.all,B.race=T.race,B.resolve=T.resolve,B.reject=T.reject,T.allSettled&&(B.allSettled=T.allSettled),T.any&&(B.any=T.any))))}function zr(){var b=c.Promise;return Ee?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function gr(b,T,B,j,V){var ee=Ye;try{return Tr(b,!0),T(B,j,V)}finally{Tr(ee,!1)}}function aa(b,T,B,j){return typeof b!="function"?b:function(){var V=Ye;B&&ar(),Tr(T,!0);try{return b.apply(this,arguments)}finally{Tr(V,!1),j&&queueMicrotask(fi)}}}function Hr(b){Promise===xe&&Fr.echoes===0?vi===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Er).indexOf("[native code]")===-1&&(ar=fi=Wt);var or=Ft.reject,co="",bi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ri="String expected.",hn=[],wi="__dbnames",mn="readonly",Ki="readwrite";function Bo(b,T){return b?T?function(){return b.apply(this,arguments)&&T.apply(this,arguments)}:b:T}var br={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xn(b){return typeof b!="string"||/\./.test(b)?function(T){return T}:function(T){return T[b]===void 0&&b in T&&delete(T=mt(T))[b],T}}function fr(){throw rt.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Or(b,T){try{var B=fo(b),j=fo(T);if(B!==j)return B==="Array"?1:j==="Array"?-1:B==="binary"?1:j==="binary"?-1:B==="string"?1:j==="string"?-1:B==="Date"?1:j!=="Date"?NaN:-1;switch(B){case"number":case"Date":case"string":return T<b?1:b<T?-1:0;case"binary":return(function(V,ee){for(var he=V.length,Ae=ee.length,Oe=he<Ae?he:Ae,Le=0;Le<Oe;++Le)if(V[Le]!==ee[Le])return V[Le]<ee[Le]?-1:1;return he===Ae?0:he<Ae?-1:1})(cn(b),cn(T));case"Array":return(function(V,ee){for(var he=V.length,Ae=ee.length,Oe=he<Ae?he:Ae,Le=0;Le<Oe;++Le){var Xe=Or(V[Le],ee[Le]);if(Xe!==0)return Xe}return he===Ae?0:he<Ae?-1:1})(b,T)}}catch{}return NaN}function fo(b){var T=typeof b;return T!="object"?T:ArrayBuffer.isView(b)?"binary":(b=ge(b),b==="ArrayBuffer"?"binary":b)}function cn(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}function On(b,T,B){var j=b.schema.yProps;return j?(T&&0<B.numFailures&&(T=T.filter(function(V,ee){return!B.failures[ee]})),Promise.all(j.map(function(V){return V=V.updatesTable,T?b.db.table(V).where("k").anyOf(T).delete():b.db.table(V).clear()})).then(function(){return B})):B}var Zi=(hl.prototype.execute=function(b){var T=this["@@propmod"];if(T.add!==void 0){var B=T.add;if(d(B))return o(o([],d(b)?b:[],!0),B).sort();if(typeof B=="number")return(Number(b)||0)+B;if(typeof B=="bigint")try{return BigInt(b)+B}catch{return BigInt(0)+B}throw new TypeError("Invalid term ".concat(B))}if(T.remove!==void 0){var j=T.remove;if(d(j))return d(b)?b.filter(function(V){return!j.includes(V)}).sort():[];if(typeof j=="number")return Number(b)-j;if(typeof j=="bigint")try{return BigInt(b)-j}catch{return BigInt(0)-j}throw new TypeError("Invalid subtrahend ".concat(j))}return B=(B=T.replacePrefix)===null||B===void 0?void 0:B[0],B&&typeof b=="string"&&b.startsWith(B)?T.replacePrefix[1]+b.substring(B.length):b},hl);function hl(b){this["@@propmod"]=b}function Ai(b,T){for(var B=y(T),j=B.length,V=!1,ee=0;ee<j;++ee){var he=B[ee],Ae=T[he],Oe=J(b,he);Ae instanceof Zi?(ne(b,he,Ae.execute(Oe)),V=!0):Oe!==Ae&&(ne(b,he,Ae),V=!0)}return V}var ka=(pr.prototype._trans=function(b,T,B){var j=this._tx||Ye.trans,V=this.name,ee=Xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function he(Le,Xe,Ke){if(!Ke.schema[V])throw new rt.NotFound("Table "+V+" not part of transaction");return T(Ke.idbtrans,Ke)}var Ae=xr();try{var Oe=j&&j.db._novip===this.db._novip?j===Ye.trans?j._promise(b,he,B):Pr(function(){return j._promise(b,he,B)},{trans:j,transless:Ye.transless||Ye}):(function Le(Xe,Ke,ot,Je){if(Xe.idbdb&&(Xe._state.openComplete||Ye.letThrough||Xe._vip)){var wt=Xe._createTransaction(Ke,ot,Xe._dbSchema);try{wt.create(),Xe._state.PR1398_maxLoop=3}catch(R){return R.name===ct.InvalidState&&Xe.isOpen()&&0<--Xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Xe.close({disableAutoOpen:!1}),Xe.open().then(function(){return Le(Xe,Ke,ot,Je)})):or(R)}return wt._promise(Ke,function(R,P){return Pr(function(){return Ye.trans=wt,Je(R,P,wt)})}).then(function(R){if(Ke==="readwrite")try{wt.idbtrans.commit()}catch{}return Ke==="readonly"?R:wt._completion.then(function(){return R})})}if(Xe._state.openComplete)return or(new rt.DatabaseClosed(Xe._state.dbOpenError));if(!Xe._state.isBeingOpened){if(!Xe._state.autoOpen)return or(new rt.DatabaseClosed);Xe.open().catch(Wt)}return Xe._state.dbReadyPromise.then(function(){return Le(Xe,Ke,ot,Je)})})(this.db,b,[this.name],he);return ee&&(Oe._consoleTask=ee,Oe=Oe.catch(function(Le){return console.trace(Le),or(Le)})),Oe}finally{Ae&&Br()}},pr.prototype.get=function(b,T){var B=this;return b&&b.constructor===Object?this.where(b).first(T):b==null?or(new rt.Type("Invalid argument to Table.get()")):this._trans("readonly",function(j){return B.core.get({trans:j,key:b}).then(function(V){return B.hook.reading.fire(V)})}).then(T)},pr.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(d(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var T=y(b);if(T.length===1)return this.where(T[0]).equals(b[T[0]]);var B=this.schema.indexes.concat(this.schema.primKey).filter(function(Ae){if(Ae.compound&&T.every(function(Le){return 0<=Ae.keyPath.indexOf(Le)})){for(var Oe=0;Oe<T.length;++Oe)if(T.indexOf(Ae.keyPath[Oe])===-1)return!1;return!0}return!1}).sort(function(Ae,Oe){return Ae.keyPath.length-Oe.keyPath.length})[0];if(B&&this.db._maxKey!==co){var ee=B.keyPath.slice(0,T.length);return this.where(ee).equals(ee.map(function(Oe){return b[Oe]}))}!B&&Xt&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(T.join("+"),"]"));var j=this.schema.idxByName;function V(Ae,Oe){return Or(Ae,Oe)===0}var he=T.reduce(function(Ke,Oe){var Le=Ke[0],Xe=Ke[1],Ke=j[Oe],ot=b[Oe];return[Le||Ke,Le||!Ke?Bo(Xe,Ke&&Ke.multi?function(Je){return Je=J(Je,Oe),d(Je)&&Je.some(function(wt){return V(ot,wt)})}:function(Je){return V(ot,J(Je,Oe))}):Xe]},[null,null]),ee=he[0],he=he[1];return ee?this.where(ee.name).equals(b[ee.keyPath]).filter(he):B?this.filter(he):this.where(T).equals("")},pr.prototype.filter=function(b){return this.toCollection().and(b)},pr.prototype.count=function(b){return this.toCollection().count(b)},pr.prototype.offset=function(b){return this.toCollection().offset(b)},pr.prototype.limit=function(b){return this.toCollection().limit(b)},pr.prototype.each=function(b){return this.toCollection().each(b)},pr.prototype.toArray=function(b){return this.toCollection().toArray(b)},pr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pr.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,d(b)?"[".concat(b.join("+"),"]"):b))},pr.prototype.reverse=function(){return this.toCollection().reverse()},pr.prototype.mapToClass=function(b){var T,B=this.db,j=this.name;function V(){return T!==null&&T.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof fr&&((function(Oe,Le){if(typeof Le!="function"&&Le!==null)throw new TypeError("Class extends value "+String(Le)+" is not a constructor or null");function Xe(){this.constructor=Oe}n(Oe,Le),Oe.prototype=Le===null?Object.create(Le):(Xe.prototype=Le.prototype,new Xe)})(V,T=b),Object.defineProperty(V.prototype,"db",{get:function(){return B},enumerable:!1,configurable:!0}),V.prototype.table=function(){return j},b=V);for(var ee=new Set,he=b.prototype;he;he=u(he))Object.getOwnPropertyNames(he).forEach(function(Oe){return ee.add(Oe)});function Ae(Oe){if(!Oe)return Oe;var Le,Xe=Object.create(b.prototype);for(Le in Oe)if(!ee.has(Le))try{Xe[Le]=Oe[Le]}catch{}return Xe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ae,this.hook("reading",Ae),b},pr.prototype.defineClass=function(){return this.mapToClass(function(b){a(this,b)})},pr.prototype.add=function(b,T){var B=this,j=this.schema.primKey,V=j.auto,ee=j.keyPath,he=b;return ee&&V&&(he=Xn(ee)(b)),this._trans("readwrite",function(Ae){return B.core.mutate({trans:Ae,type:"add",keys:T!=null?[T]:null,values:[he]})}).then(function(Ae){return Ae.numFailures?Ft.reject(Ae.failures[0]):Ae.lastResult}).then(function(Ae){if(ee)try{ne(b,ee,Ae)}catch{}return Ae})},pr.prototype.upsert=function(b,T){var B=this,j=this.schema.primKey.keyPath;return this._trans("readwrite",function(V){return B.core.get({trans:V,key:b}).then(function(ee){var he=ee??{};return Ai(he,T),j&&ne(he,j,b),B.core.mutate({trans:V,type:"put",values:[he],keys:[b],upsert:!0,updates:{keys:[b],changeSpecs:[T]}}).then(function(Ae){return Ae.numFailures?Ft.reject(Ae.failures[0]):!!ee})})})},pr.prototype.update=function(b,T){return typeof b!="object"||d(b)?this.where(":id").equals(b).modify(T):(b=J(b,this.schema.primKey.keyPath),b===void 0?or(new rt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(T))},pr.prototype.put=function(b,T){var B=this,j=this.schema.primKey,V=j.auto,ee=j.keyPath,he=b;return ee&&V&&(he=Xn(ee)(b)),this._trans("readwrite",function(Ae){return B.core.mutate({trans:Ae,type:"put",values:[he],keys:T!=null?[T]:null})}).then(function(Ae){return Ae.numFailures?Ft.reject(Ae.failures[0]):Ae.lastResult}).then(function(Ae){if(ee)try{ne(b,ee,Ae)}catch{}return Ae})},pr.prototype.delete=function(b){var T=this;return this._trans("readwrite",function(B){return T.core.mutate({trans:B,type:"delete",keys:[b]}).then(function(j){return On(T,[b],j)}).then(function(j){return j.numFailures?Ft.reject(j.failures[0]):void 0})})},pr.prototype.clear=function(){var b=this;return this._trans("readwrite",function(T){return b.core.mutate({trans:T,type:"deleteRange",range:br}).then(function(B){return On(b,null,B)})}).then(function(T){return T.numFailures?Ft.reject(T.failures[0]):void 0})},pr.prototype.bulkGet=function(b){var T=this;return this._trans("readonly",function(B){return T.core.getMany({keys:b,trans:B}).then(function(j){return j.map(function(V){return T.hook.reading.fire(V)})})})},pr.prototype.bulkAdd=function(b,T,B){var j=this,V=Array.isArray(T)?T:void 0,ee=(B=B||(V?void 0:T))?B.allKeys:void 0;return this._trans("readwrite",function(he){var Le=j.schema.primKey,Ae=Le.auto,Le=Le.keyPath;if(Le&&V)throw new rt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(V&&V.length!==b.length)throw new rt.InvalidArgument("Arguments objects and keys must have the same length");var Oe=b.length,Le=Le&&Ae?b.map(Xn(Le)):b;return j.core.mutate({trans:he,type:"add",keys:V,values:Le,wantResults:ee}).then(function(wt){var Ke=wt.numFailures,ot=wt.results,Je=wt.lastResult,wt=wt.failures;if(Ke===0)return ee?ot:Je;throw new Fe("".concat(j.name,".bulkAdd(): ").concat(Ke," of ").concat(Oe," operations failed"),wt)})})},pr.prototype.bulkPut=function(b,T,B){var j=this,V=Array.isArray(T)?T:void 0,ee=(B=B||(V?void 0:T))?B.allKeys:void 0;return this._trans("readwrite",function(he){var Le=j.schema.primKey,Ae=Le.auto,Le=Le.keyPath;if(Le&&V)throw new rt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(V&&V.length!==b.length)throw new rt.InvalidArgument("Arguments objects and keys must have the same length");var Oe=b.length,Le=Le&&Ae?b.map(Xn(Le)):b;return j.core.mutate({trans:he,type:"put",keys:V,values:Le,wantResults:ee}).then(function(wt){var Ke=wt.numFailures,ot=wt.results,Je=wt.lastResult,wt=wt.failures;if(Ke===0)return ee?ot:Je;throw new Fe("".concat(j.name,".bulkPut(): ").concat(Ke," of ").concat(Oe," operations failed"),wt)})})},pr.prototype.bulkUpdate=function(b){var T=this,B=this.core,j=b.map(function(he){return he.key}),V=b.map(function(he){return he.changes}),ee=[];return this._trans("readwrite",function(he){return B.getMany({trans:he,keys:j,cache:"clone"}).then(function(Ae){var Oe=[],Le=[];b.forEach(function(Ke,ot){var Je=Ke.key,wt=Ke.changes,R=Ae[ot];if(R){for(var P=0,Y=Object.keys(wt);P<Y.length;P++){var $=Y[P],ae=wt[$];if($===T.schema.primKey.keyPath){if(Or(ae,Je)!==0)throw new rt.Constraint("Cannot update primary key in bulkUpdate()")}else ne(R,$,ae)}ee.push(ot),Oe.push(Je),Le.push(R)}});var Xe=Oe.length;return B.mutate({trans:he,type:"put",keys:Oe,values:Le,updates:{keys:j,changeSpecs:V}}).then(function(Ke){var ot=Ke.numFailures,Je=Ke.failures;if(ot===0)return Xe;for(var wt=0,R=Object.keys(Je);wt<R.length;wt++){var P,Y=R[wt],$=ee[Number(Y)];$!=null&&(P=Je[Y],delete Je[Y],Je[$]=P)}throw new Fe("".concat(T.name,".bulkUpdate(): ").concat(ot," of ").concat(Xe," operations failed"),Je)})})})},pr.prototype.bulkDelete=function(b){var T=this,B=b.length;return this._trans("readwrite",function(j){return T.core.mutate({trans:j,type:"delete",keys:b}).then(function(V){return On(T,b,V)})}).then(function(he){var V=he.numFailures,ee=he.lastResult,he=he.failures;if(V===0)return ee;throw new Fe("".concat(T.name,".bulkDelete(): ").concat(V," of ").concat(B," operations failed"),he)})},pr);function pr(){}function Zn(b){function T(he,Ae){if(Ae){for(var Oe=arguments.length,Le=new Array(Oe-1);--Oe;)Le[Oe-1]=arguments[Oe];return B[he].subscribe.apply(null,Le),b}if(typeof he=="string")return B[he]}var B={};T.addEventType=ee;for(var j=1,V=arguments.length;j<V;++j)ee(arguments[j]);return T;function ee(he,Ae,Oe){if(typeof he!="object"){var Le;Ae=Ae||Kt;var Xe={subscribers:[],fire:Oe=Oe||Wt,subscribe:function(Ke){Xe.subscribers.indexOf(Ke)===-1&&(Xe.subscribers.push(Ke),Xe.fire=Ae(Xe.fire,Ke))},unsubscribe:function(Ke){Xe.subscribers=Xe.subscribers.filter(function(ot){return ot!==Ke}),Xe.fire=Xe.subscribers.reduce(Ae,Oe)}};return B[he]=T[he]=Xe}y(Le=he).forEach(function(Ke){var ot=Le[Ke];if(d(ot))ee(Ke,Le[Ke][0],Le[Ke][1]);else{if(ot!=="asap")throw new rt.InvalidArgument("Invalid event config");var Je=ee(Ke,ft,function(){for(var wt=arguments.length,R=new Array(wt);wt--;)R[wt]=arguments[wt];Je.subscribers.forEach(function(P){q(function(){P.apply(null,R)})})})}})}}function Ir(b,T){return D(T).from({prototype:b}),T}function Ti(b,T){return!(b.filter||b.algorithm||b.or)&&(T?b.justLimit:!b.replayFilter)}function Ht(b,T){b.filter=Bo(b.filter,T)}function Qe(b,T,B){var j=b.replayFilter;b.replayFilter=j?function(){return Bo(j(),T())}:T,b.justLimit=B&&!j}function Gn(b,T){if(b.isPrimKey)return T.primaryKey;var B=T.getIndexByKeyPath(b.index);if(!B)throw new rt.Schema("KeyPath "+b.index+" on object store "+T.name+" is not indexed");return B}function Di(b,T,B){var j=Gn(b,T.schema);return T.openCursor({trans:B,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:j,range:b.range}})}function pa(b,T,B,j){var V=b.replayFilter?Bo(b.filter,b.replayFilter()):b.filter;if(b.or){var ee={},he=function(Ae,Oe,Le){var Xe,Ke;V&&!V(Oe,Le,function(ot){return Oe.stop(ot)},function(ot){return Oe.fail(ot)})||((Ke=""+(Xe=Oe.primaryKey))=="[object ArrayBuffer]"&&(Ke=""+new Uint8Array(Xe)),f(ee,Ke)||(ee[Ke]=!0,T(Ae,Oe,Le)))};return Promise.all([b.or._iterate(he,B),nt(Di(b,j,B),b.algorithm,he,!b.keysOnly&&b.valueMapper)])}return nt(Di(b,j,B),Bo(b.algorithm,V),T,!b.keysOnly&&b.valueMapper)}function nt(b,T,B,j){var V=Jn(j?function(ee,he,Ae){return B(j(ee),he,Ae)}:B);return b.then(function(ee){if(ee)return ee.start(function(){var he=function(){return ee.continue()};T&&!T(ee,function(Ae){return he=Ae},function(Ae){ee.stop(Ae),he=Wt},function(Ae){ee.fail(Ae),he=Wt})||V(ee.value,ee,function(Ae){return he=Ae}),he()})})}var Gt=(It.prototype._read=function(b,T){var B=this._ctx;return B.error?B.table._trans(null,or.bind(null,B.error)):B.table._trans("readonly",b).then(T)},It.prototype._write=function(b){var T=this._ctx;return T.error?T.table._trans(null,or.bind(null,T.error)):T.table._trans("readwrite",b,"locked")},It.prototype._addAlgorithm=function(b){var T=this._ctx;T.algorithm=Bo(T.algorithm,b)},It.prototype._iterate=function(b,T){return pa(this._ctx,b,T,this._ctx.table.core)},It.prototype.clone=function(b){var T=Object.create(this.constructor.prototype),B=Object.create(this._ctx);return b&&a(B,b),T._ctx=B,T},It.prototype.raw=function(){return this._ctx.valueMapper=null,this},It.prototype.each=function(b){var T=this._ctx;return this._read(function(B){return pa(T,b,B,T.table.core)})},It.prototype.count=function(b){var T=this;return this._read(function(B){var j=T._ctx,V=j.table.core;if(Ti(j,!0))return V.count({trans:B,query:{index:Gn(j,V.schema),range:j.range}}).then(function(he){return Math.min(he,j.limit)});var ee=0;return pa(j,function(){return++ee,!1},B,V).then(function(){return ee})}).then(b)},It.prototype.sortBy=function(b,T){var B=b.split(".").reverse(),j=B[0],V=B.length-1;function ee(Oe,Le){return Le?ee(Oe[B[Le]],Le-1):Oe[j]}var he=this._ctx.dir==="next"?1:-1;function Ae(Oe,Le){return Or(ee(Oe,V),ee(Le,V))*he}return this.toArray(function(Oe){return Oe.sort(Ae)}).then(T)},It.prototype.toArray=function(b){var T=this;return this._read(function(B){var j=T._ctx;if(j.dir==="next"&&Ti(j,!0)&&0<j.limit){var V=j.valueMapper,ee=Gn(j,j.table.core.schema);return j.table.core.query({trans:B,limit:j.limit,values:!0,query:{index:ee,range:j.range}}).then(function(Ae){return Ae=Ae.result,V?Ae.map(V):Ae})}var he=[];return pa(j,function(Ae){return he.push(Ae)},B,j.table.core).then(function(){return he})},b)},It.prototype.offset=function(b){var T=this._ctx;return b<=0||(T.offset+=b,Ti(T)?Qe(T,function(){var B=b;return function(j,V){return B===0||(B===1?--B:V(function(){j.advance(B),B=0}),!1)}}):Qe(T,function(){var B=b;return function(){return--B<0}})),this},It.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),Qe(this._ctx,function(){var T=b;return function(B,j,V){return--T<=0&&j(V),0<=T}},!0),this},It.prototype.until=function(b,T){return Ht(this._ctx,function(B,j,V){return!b(B.value)||(j(V),T)}),this},It.prototype.first=function(b){return this.limit(1).toArray(function(T){return T[0]}).then(b)},It.prototype.last=function(b){return this.reverse().first(b)},It.prototype.filter=function(b){var T;return Ht(this._ctx,function(B){return b(B.value)}),(T=this._ctx).isMatch=Bo(T.isMatch,b),this},It.prototype.and=function(b){return this.filter(b)},It.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},It.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},It.prototype.desc=function(){return this.reverse()},It.prototype.eachKey=function(b){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(B,j){b(j.key,j)})},It.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},It.prototype.eachPrimaryKey=function(b){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(B,j){b(j.primaryKey,j)})},It.prototype.keys=function(b){var T=this._ctx;T.keysOnly=!T.isMatch;var B=[];return this.each(function(j,V){B.push(V.key)}).then(function(){return B}).then(b)},It.prototype.primaryKeys=function(b){var T=this._ctx;if(T.dir==="next"&&Ti(T,!0)&&0<T.limit)return this._read(function(j){var V=Gn(T,T.table.core.schema);return T.table.core.query({trans:j,values:!1,limit:T.limit,query:{index:V,range:T.range}})}).then(function(j){return j.result}).then(b);T.keysOnly=!T.isMatch;var B=[];return this.each(function(j,V){B.push(V.primaryKey)}).then(function(){return B}).then(b)},It.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},It.prototype.firstKey=function(b){return this.limit(1).keys(function(T){return T[0]}).then(b)},It.prototype.lastKey=function(b){return this.reverse().firstKey(b)},It.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var T={};return Ht(this._ctx,function(V){var j=V.primaryKey.toString(),V=f(T,j);return T[j]=!0,!V}),this},It.prototype.modify=function(b){var T=this,B=this._ctx;return this._write(function(j){var V=typeof b=="function"?b:function(R){return Ai(R,b)},ee=B.table.core,Le=ee.schema.primaryKey,he=Le.outbound,Ae=Le.extractKey,Oe=200,Le=T.db._options.modifyChunkSize;Le&&(Oe=typeof Le=="object"?Le[ee.name]||Le["*"]||200:Le);function Xe(R,$){var Y=$.failures,$=$.numFailures;ot+=R-$;for(var ae=0,De=y(Y);ae<De.length;ae++){var ze=De[ae];Ke.push(Y[ze])}}var Ke=[],ot=0,Je=[],wt=b===nn;return T.clone().primaryKeys().then(function(R){function P($){var ae=Math.min(Oe,R.length-$),De=R.slice($,$+ae);return(wt?Promise.resolve([]):ee.getMany({trans:j,keys:De,cache:"immutable"})).then(function(ze){var vt=[],tt=[],xt=he?[]:null,Rt=wt?De:[];if(!wt)for(var Et=0;Et<ae;++Et){var Vt=ze[Et],dn={value:mt(Vt),primKey:R[$+Et]};V.call(dn,dn.value,dn)!==!1&&(dn.value==null?Rt.push(R[$+Et]):he||Or(Ae(Vt),Ae(dn.value))===0?(tt.push(dn.value),he&&xt.push(R[$+Et])):(Rt.push(R[$+Et]),vt.push(dn.value)))}return Promise.resolve(0<vt.length&&ee.mutate({trans:j,type:"add",values:vt}).then(function(Nn){for(var In in Nn.failures)Rt.splice(parseInt(In),1);Xe(vt.length,Nn)})).then(function(){return(0<tt.length||Y&&typeof b=="object")&&ee.mutate({trans:j,type:"put",keys:xt,values:tt,criteria:Y,changeSpec:typeof b!="function"&&b,isAdditionalChunk:0<$}).then(function(Nn){return Xe(tt.length,Nn)})}).then(function(){return(0<Rt.length||Y&&wt)&&ee.mutate({trans:j,type:"delete",keys:Rt,criteria:Y,isAdditionalChunk:0<$}).then(function(Nn){return On(B.table,Rt,Nn)}).then(function(Nn){return Xe(Rt.length,Nn)})}).then(function(){return R.length>$+ae&&P($+Oe)})})}var Y=Ti(B)&&B.limit===1/0&&(typeof b!="function"||wt)&&{index:B.index,range:B.range};return P(0).then(function(){if(0<Ke.length)throw new Te("Error modifying one or more objects",Ke,ot,Je);return R.length})})})},It.prototype.delete=function(){var b=this._ctx,T=b.range;return!Ti(b)||b.table.schema.yProps||!b.isPrimKey&&T.type!==3?this.modify(nn):this._write(function(B){var j=b.table.core.schema.primaryKey,V=T;return b.table.core.count({trans:B,query:{index:j,range:V}}).then(function(ee){return b.table.core.mutate({trans:B,type:"deleteRange",range:V}).then(function(Oe){var Ae=Oe.failures,Oe=Oe.numFailures;if(Oe)throw new Te("Could not delete some values",Object.keys(Ae).map(function(Le){return Ae[Le]}),ee-Oe);return ee-Oe})})})},It);function It(){}var nn=function(b,T){return T.value=null};function xn(b,T){return b<T?-1:b===T?0:1}function hr(b,T){return T<b?-1:b===T?0:1}function En(b,T,B){return b=b instanceof Ur?new b.Collection(b):b,b._ctx.error=new(B||TypeError)(T),b}function Dr(b){return new b.Collection(b,function(){return ei("")}).limit(0)}function $r(b,T,B,j){var V,ee,he,Ae,Oe,Le,Xe,Ke=B.length;if(!B.every(function(wt){return typeof wt=="string"}))return En(b,Ri);function ot(wt){V=wt==="next"?function(P){return P.toUpperCase()}:function(P){return P.toLowerCase()},ee=wt==="next"?function(P){return P.toLowerCase()}:function(P){return P.toUpperCase()},he=wt==="next"?xn:hr;var R=B.map(function(P){return{lower:ee(P),upper:V(P)}}).sort(function(P,Y){return he(P.lower,Y.lower)});Ae=R.map(function(P){return P.upper}),Oe=R.map(function(P){return P.lower}),Xe=(Le=wt)==="next"?"":j}ot("next"),b=new b.Collection(b,function(){return Rr(Ae[0],Oe[Ke-1]+j)}),b._ondirectionchange=function(wt){ot(wt)};var Je=0;return b._addAlgorithm(function(wt,R,P){var Y=wt.key;if(typeof Y!="string")return!1;var $=ee(Y);if(T($,Oe,Je))return!0;for(var ae=null,De=Je;De<Ke;++De){var ze=(function(vt,tt,xt,Rt,Et,Vt){for(var dn=Math.min(vt.length,Rt.length),Nn=-1,In=0;In<dn;++In){var rr=tt[In];if(rr!==Rt[In])return Et(vt[In],xt[In])<0?vt.substr(0,In)+xt[In]+xt.substr(In+1):Et(vt[In],Rt[In])<0?vt.substr(0,In)+Rt[In]+xt.substr(In+1):0<=Nn?vt.substr(0,Nn)+tt[Nn]+xt.substr(Nn+1):null;Et(vt[In],rr)<0&&(Nn=In)}return dn<Rt.length&&Vt==="next"?vt+xt.substr(vt.length):dn<vt.length&&Vt==="prev"?vt.substr(0,xt.length):Nn<0?null:vt.substr(0,Nn)+Rt[Nn]+xt.substr(Nn+1)})(Y,$,Ae[De],Oe[De],he,Le);ze===null&&ae===null?Je=De+1:(ae===null||0<he(ae,ze))&&(ae=ze)}return R(ae!==null?function(){wt.continue(ae+Xe)}:P),!1}),b}function Rr(b,T,B,j){return{type:2,lower:b,upper:T,lowerOpen:B,upperOpen:j}}function ei(b){return{type:1,lower:b,upper:b}}var Ur=(Object.defineProperty(Jr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Jr.prototype.between=function(b,T,B,j){B=B!==!1,j=j===!0;try{return 0<this._cmp(b,T)||this._cmp(b,T)===0&&(B||j)&&(!B||!j)?Dr(this):new this.Collection(this,function(){return Rr(b,T,!B,!j)})}catch{return En(this,bi)}},Jr.prototype.equals=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return ei(b)})},Jr.prototype.above=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(b,void 0,!0)})},Jr.prototype.aboveOrEqual=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(b,void 0,!1)})},Jr.prototype.below=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(void 0,b,!1,!0)})},Jr.prototype.belowOrEqual=function(b){return b==null?En(this,bi):new this.Collection(this,function(){return Rr(void 0,b)})},Jr.prototype.startsWith=function(b){return typeof b!="string"?En(this,Ri):this.between(b,b+co,!0,!0)},Jr.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):$r(this,function(T,B){return T.indexOf(B[0])===0},[b],co)},Jr.prototype.equalsIgnoreCase=function(b){return $r(this,function(T,B){return T===B[0]},[b],"")},Jr.prototype.anyOfIgnoreCase=function(){var b=ue.apply(Me,arguments);return b.length===0?Dr(this):$r(this,function(T,B){return B.indexOf(T)!==-1},b,"")},Jr.prototype.startsWithAnyOfIgnoreCase=function(){var b=ue.apply(Me,arguments);return b.length===0?Dr(this):$r(this,function(T,B){return B.some(function(j){return T.indexOf(j)===0})},b,co)},Jr.prototype.anyOf=function(){var b=this,T=ue.apply(Me,arguments),B=this._cmp;try{T.sort(B)}catch{return En(this,bi)}if(T.length===0)return Dr(this);var j=new this.Collection(this,function(){return Rr(T[0],T[T.length-1])});j._ondirectionchange=function(ee){B=ee==="next"?b._ascending:b._descending,T.sort(B)};var V=0;return j._addAlgorithm(function(ee,he,Ae){for(var Oe=ee.key;0<B(Oe,T[V]);)if(++V===T.length)return he(Ae),!1;return B(Oe,T[V])===0||(he(function(){ee.continue(T[V])}),!1)}),j},Jr.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Jr.prototype.noneOf=function(){var b=ue.apply(Me,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return En(this,bi)}var T=b.reduce(function(B,j){return B?B.concat([[B[B.length-1][1],j]]):[[-1/0,j]]},null);return T.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(T,{includeLowers:!1,includeUppers:!1})},Jr.prototype.inAnyRange=function(Y,T){var B=this,j=this._cmp,V=this._ascending,ee=this._descending,he=this._min,Ae=this._max;if(Y.length===0)return Dr(this);if(!Y.every(function($){return $[0]!==void 0&&$[1]!==void 0&&V($[0],$[1])<=0}))return En(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",rt.InvalidArgument);var Oe=!T||T.includeLowers!==!1,Le=T&&T.includeUppers===!0,Xe,Ke=V;function ot($,ae){return Ke($[0],ae[0])}try{(Xe=Y.reduce(function($,ae){for(var De=0,ze=$.length;De<ze;++De){var vt=$[De];if(j(ae[0],vt[1])<0&&0<j(ae[1],vt[0])){vt[0]=he(vt[0],ae[0]),vt[1]=Ae(vt[1],ae[1]);break}}return De===ze&&$.push(ae),$},[])).sort(ot)}catch{return En(this,bi)}var Je=0,wt=Le?function($){return 0<V($,Xe[Je][1])}:function($){return 0<=V($,Xe[Je][1])},R=Oe?function($){return 0<ee($,Xe[Je][0])}:function($){return 0<=ee($,Xe[Je][0])},P=wt,Y=new this.Collection(this,function(){return Rr(Xe[0][0],Xe[Xe.length-1][1],!Oe,!Le)});return Y._ondirectionchange=function($){Ke=$==="next"?(P=wt,V):(P=R,ee),Xe.sort(ot)},Y._addAlgorithm(function($,ae,De){for(var ze,vt=$.key;P(vt);)if(++Je===Xe.length)return ae(De),!1;return!wt(ze=vt)&&!R(ze)||(B._cmp(vt,Xe[Je][1])===0||B._cmp(vt,Xe[Je][0])===0||ae(function(){Ke===V?$.continue(Xe[Je][0]):$.continue(Xe[Je][1])}),!1)}),Y},Jr.prototype.startsWithAnyOf=function(){var b=ue.apply(Me,arguments);return b.every(function(T){return typeof T=="string"})?b.length===0?Dr(this):this.inAnyRange(b.map(function(T){return[T,T+co]})):En(this,"startsWithAnyOf() only works with strings")},Jr);function Jr(){}function kr(b){return Jn(function(T){return Vn(T),b(T.target.error),!1})}function Vn(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var xa="storagemutated",tr="x-storagemutated-1",Kr=Zn(null,xa),hi=(Hi.prototype._lock=function(){return W(!Ye.global),++this._reculock,this._reculock!==1||Ye.global||(Ye.lockOwnerFor=this),this},Hi.prototype._unlock=function(){if(W(!Ye.global),--this._reculock==0)for(Ye.global||(Ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{gr(b[1],b[0])}catch{}}return this},Hi.prototype._locked=function(){return this._reculock&&Ye.lockOwnerFor!==this},Hi.prototype.create=function(b){var T=this;if(!this.mode)return this;var B=this.db.idbdb,j=this.db._state.dbOpenError;if(W(!this.idbtrans),!b&&!B)switch(j&&j.name){case"DatabaseClosedError":throw new rt.DatabaseClosed(j);case"MissingAPIError":throw new rt.MissingAPI(j.message,j);default:throw new rt.OpenFailed(j)}if(!this.active)throw new rt.TransactionInactive;return W(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||B).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Jn(function(V){Vn(V),T._reject(b.error)}),b.onabort=Jn(function(V){Vn(V),T.active&&T._reject(new rt.Abort(b.error)),T.active=!1,T.on("abort").fire(V)}),b.oncomplete=Jn(function(){T.active=!1,T._resolve(),"mutatedParts"in b&&Kr.storagemutated.fire(b.mutatedParts)}),this},Hi.prototype._promise=function(b,T,B){var j=this;if(b==="readwrite"&&this.mode!=="readwrite")return or(new rt.ReadOnly("Transaction is readonly"));if(!this.active)return or(new rt.TransactionInactive);if(this._locked())return new Ft(function(ee,he){j._blockedFuncs.push([function(){j._promise(b,T,B).then(ee,he)},Ye])});if(B)return Pr(function(){var ee=new Ft(function(he,Ae){j._lock();var Oe=T(he,Ae,j);Oe&&Oe.then&&Oe.then(he,Ae)});return ee.finally(function(){return j._unlock()}),ee._lib=!0,ee});var V=new Ft(function(ee,he){var Ae=T(ee,he,j);Ae&&Ae.then&&Ae.then(ee,he)});return V._lib=!0,V},Hi.prototype._root=function(){return this.parent?this.parent._root():this},Hi.prototype.waitFor=function(b){var T,B=this._root(),j=Ft.resolve(b);B._waitingFor?B._waitingFor=B._waitingFor.then(function(){return j}):(B._waitingFor=j,B._waitingQueue=[],T=B.idbtrans.objectStore(B.storeNames[0]),(function ee(){for(++B._spinCount;B._waitingQueue.length;)B._waitingQueue.shift()();B._waitingFor&&(T.get(-1/0).onsuccess=ee)})());var V=B._waitingFor;return new Ft(function(ee,he){j.then(function(Ae){return B._waitingQueue.push(Jn(ee.bind(null,Ae)))},function(Ae){return B._waitingQueue.push(Jn(he.bind(null,Ae)))}).finally(function(){B._waitingFor===V&&(B._waitingFor=null)})})},Hi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new rt.Abort))},Hi.prototype.table=function(b){var T=this._memoizedTables||(this._memoizedTables={});if(f(T,b))return T[b];var B=this.schema[b];if(!B)throw new rt.NotFound("Table "+b+" not part of transaction");return B=new this.db.Table(b,B,this),B.core=this.db.core.table(b),T[b]=B},Hi);function Hi(){}function wo(b,T,B,j,V,ee,he,Ae){return{name:b,keyPath:T,unique:B,multi:j,auto:V,compound:ee,src:(B&&!he?"&":"")+(j?"*":"")+(V?"++":"")+Fo(T),type:Ae}}function Fo(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function As(b,T,B){return{name:b,primKey:T,indexes:B,mappedClass:null,idxByName:(j=function(V){return[V.name,V]},B.reduce(function(V,ee,he){return he=j(ee,he),he&&(V[he[0]]=he[1]),V},{}))};var j}var Co=function(b){try{return b.only([[]]),Co=function(){return[[]]},[[]]}catch{return Co=function(){return co},co}};function ho(b){return b==null?function(){}:typeof b=="string"?(T=b).split(".").length===1?function(B){return B[T]}:function(B){return J(B,T)}:function(B){return J(B,b)};var T}function io(b){return[].slice.call(b)}var us=0;function qi(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function _a(b,T,Oe){function j(P){if(P.type===3)return null;if(P.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Je=P.lower,wt=P.upper,R=P.lowerOpen,P=P.upperOpen;return Je===void 0?wt===void 0?null:T.upperBound(wt,!!P):wt===void 0?T.lowerBound(Je,!!R):T.bound(Je,wt,!!R,!!P)}function V(ot){var Je,wt=ot.name;return{name:wt,schema:ot,mutate:function(R){var P=R.trans,Y=R.type,$=R.keys,ae=R.values,De=R.range;return new Promise(function(ze,vt){ze=Jn(ze);var tt=P.objectStore(wt),xt=tt.keyPath==null,Rt=Y==="put"||Y==="add";if(!Rt&&Y!=="delete"&&Y!=="deleteRange")throw new Error("Invalid operation type: "+Y);var Et,Vt=($||ae||{length:1}).length;if($&&ae&&$.length!==ae.length)throw new Error("Given keys array must have same length as given values array.");if(Vt===0)return ze({numFailures:0,failures:{},results:[],lastResult:void 0});function dn(wr){++rr,Vn(wr)}var Nn=[],In=[],rr=0;if(Y==="deleteRange"){if(De.type===4)return ze({numFailures:rr,failures:In,results:[],lastResult:void 0});De.type===3?Nn.push(Et=tt.clear()):Nn.push(Et=tt.delete(j(De)))}else{var xt=Rt?xt?[ae,$]:[ae,null]:[$,null],Rn=xt[0],sr=xt[1];if(Rt)for(var _r=0;_r<Vt;++_r)Nn.push(Et=sr&&sr[_r]!==void 0?tt[Y](Rn[_r],sr[_r]):tt[Y](Rn[_r])),Et.onerror=dn;else for(_r=0;_r<Vt;++_r)Nn.push(Et=tt[Y](Rn[_r])),Et.onerror=dn}function ea(wr){wr=wr.target.result,Nn.forEach(function(jr,ui){return jr.error!=null&&(In[ui]=jr.error)}),ze({numFailures:rr,failures:In,results:Y==="delete"?$:Nn.map(function(jr){return jr.result}),lastResult:wr})}Et.onerror=function(wr){dn(wr),ea(wr)},Et.onsuccess=ea})},getMany:function(R){var P=R.trans,Y=R.keys;return new Promise(function($,ae){$=Jn($);for(var De,ze=P.objectStore(wt),vt=Y.length,tt=new Array(vt),xt=0,Rt=0,Et=function(Nn){Nn=Nn.target,tt[Nn._pos]=Nn.result,++Rt===xt&&$(tt)},Vt=kr(ae),dn=0;dn<vt;++dn)Y[dn]!=null&&((De=ze.get(Y[dn]))._pos=dn,De.onsuccess=Et,De.onerror=Vt,++xt);xt===0&&$(tt)})},get:function(R){var P=R.trans,Y=R.key;return new Promise(function($,ae){$=Jn($);var De=P.objectStore(wt).get(Y);De.onsuccess=function(ze){return $(ze.target.result)},De.onerror=kr(ae)})},query:(Je=Le,function(R){return new Promise(function(P,Y){P=Jn(P);var $,ae,De,xt=R.trans,ze=R.values,vt=R.limit,Et=R.query,tt=vt===1/0?void 0:vt,Rt=Et.index,Et=Et.range,xt=xt.objectStore(wt),Rt=Rt.isPrimaryKey?xt:xt.index(Rt.name),Et=j(Et);if(vt===0)return P({result:[]});Je?((tt=ze?Rt.getAll(Et,tt):Rt.getAllKeys(Et,tt)).onsuccess=function(Vt){return P({result:Vt.target.result})},tt.onerror=kr(Y)):($=0,ae=!ze&&"openKeyCursor"in Rt?Rt.openKeyCursor(Et):Rt.openCursor(Et),De=[],ae.onsuccess=function(Vt){var dn=ae.result;return dn?(De.push(ze?dn.value:dn.primaryKey),++$===vt?P({result:De}):void dn.continue()):P({result:De})},ae.onerror=kr(Y))})}),openCursor:function(R){var P=R.trans,Y=R.values,$=R.query,ae=R.reverse,De=R.unique;return new Promise(function(ze,vt){ze=Jn(ze);var Rt=$.index,tt=$.range,xt=P.objectStore(wt),xt=Rt.isPrimaryKey?xt:xt.index(Rt.name),Rt=ae?De?"prevunique":"prev":De?"nextunique":"next",Et=!Y&&"openKeyCursor"in xt?xt.openKeyCursor(j(tt),Rt):xt.openCursor(j(tt),Rt);Et.onerror=kr(vt),Et.onsuccess=Jn(function(Vt){var dn,Nn,In,rr,Rn=Et.result;Rn?(Rn.___id=++us,Rn.done=!1,dn=Rn.continue.bind(Rn),Nn=(Nn=Rn.continuePrimaryKey)&&Nn.bind(Rn),In=Rn.advance.bind(Rn),rr=function(){throw new Error("Cursor not stopped")},Rn.trans=P,Rn.stop=Rn.continue=Rn.continuePrimaryKey=Rn.advance=function(){throw new Error("Cursor not started")},Rn.fail=Jn(vt),Rn.next=function(){var sr=this,_r=1;return this.start(function(){return _r--?sr.continue():sr.stop()}).then(function(){return sr})},Rn.start=function(sr){function _r(){if(Et.result)try{sr()}catch(wr){Rn.fail(wr)}else Rn.done=!0,Rn.start=function(){throw new Error("Cursor behind last entry")},Rn.stop()}var ea=new Promise(function(wr,jr){wr=Jn(wr),Et.onerror=kr(jr),Rn.fail=jr,Rn.stop=function(ui){Rn.stop=Rn.continue=Rn.continuePrimaryKey=Rn.advance=rr,wr(ui)}});return Et.onsuccess=Jn(function(wr){Et.onsuccess=_r,_r()}),Rn.continue=dn,Rn.continuePrimaryKey=Nn,Rn.advance=In,_r(),ea},ze(Rn)):ze(null)},vt)})},count:function(R){var P=R.query,Y=R.trans,$=P.index,ae=P.range;return new Promise(function(De,ze){var vt=Y.objectStore(wt),tt=$.isPrimaryKey?vt:vt.index($.name),vt=j(ae),tt=vt?tt.count(vt):tt.count();tt.onsuccess=Jn(function(xt){return De(xt.target.result)}),tt.onerror=kr(ze)})}}}var ee,he,Ae,Xe=(he=Oe,Ae=io((ee=b).objectStoreNames),{schema:{name:ee.name,tables:Ae.map(function(ot){return he.objectStore(ot)}).map(function(ot){var Je=ot.keyPath,P=ot.autoIncrement,wt=d(Je),R={},P={name:ot.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Je==null,compound:wt,keyPath:Je,autoIncrement:P,unique:!0,extractKey:ho(Je)},indexes:io(ot.indexNames).map(function(Y){return ot.index(Y)}).map(function(De){var $=De.name,ae=De.unique,ze=De.multiEntry,De=De.keyPath,ze={name:$,compound:d(De),keyPath:De,unique:ae,multiEntry:ze,extractKey:ho(De)};return R[qi(De)]=ze}),getIndexByKeyPath:function(Y){return R[qi(Y)]}};return R[":id"]=P.primaryKey,Je!=null&&(R[qi(Je)]=P.primaryKey),P})},hasGetAll:0<Ae.length&&"getAll"in he.objectStore(Ae[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Oe=Xe.schema,Le=Xe.hasGetAll,Xe=Oe.tables.map(V),Ke={};return Xe.forEach(function(ot){return Ke[ot.name]=ot}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(ot){if(!Ke[ot])throw new Error("Table '".concat(ot,"' not found"));return Ke[ot]},MIN_KEY:-1/0,MAX_KEY:Co(T),schema:Oe}}function Ea(b,T,B,j){var V=B.IDBKeyRange;return B.indexedDB,{dbcore:(j=_a(T,V,j),b.dbcore.reduce(function(ee,he){return he=he.create,r(r({},ee),he(ee))},j))}}function Ts(b,j){var B=j.db,j=Ea(b._middlewares,B,b._deps,j);b.core=j.dbcore,b.tables.forEach(function(V){var ee=V.name;b.core.schema.tables.some(function(he){return he.name===ee})&&(V.core=b.core.table(ee),b[ee]instanceof b.Table&&(b[ee].core=V.core))})}function Ds(b,T,B,j){B.forEach(function(V){var ee=j[V];T.forEach(function(he){var Ae=(function Oe(Le,Xe){return S(Le,Xe)||(Le=u(Le))&&Oe(Le,Xe)})(he,V);(!Ae||"value"in Ae&&Ae.value===void 0)&&(he===b.Transaction.prototype||he instanceof b.Transaction?C(he,V,{get:function(){return this.table(V)},set:function(Oe){m(this,V,{value:Oe,writable:!0,configurable:!0,enumerable:!0})}}):he[V]=new b.Table(V,ee))})})}function Ma(b,T){T.forEach(function(B){for(var j in B)B[j]instanceof b.Table&&delete B[j]})}function vu(b,T){return b._cfg.version-T._cfg.version}function Ul(b,T,B,j){var V=b._dbSchema;B.objectStoreNames.contains("$meta")&&!V.$meta&&(V.$meta=As("$meta",Nr("")[0],[]),b._storeNames.push("$meta"));var ee=b._createTransaction("readwrite",b._storeNames,V);ee.create(B),ee._completion.catch(j);var he=ee._reject.bind(ee),Ae=Ye.transless||Ye;Pr(function(){return Ye.trans=ee,Ye.transless=Ae,T!==0?(Ts(b,B),Le=T,((Oe=ee).storeNames.includes("$meta")?Oe.table("$meta").get("version").then(function(Xe){return Xe??Le}):Ft.resolve(Le)).then(function(Xe){return ot=Xe,Je=ee,wt=B,R=[],Xe=(Ke=b)._versions,P=Ke._dbSchema=_s(0,Ke.idbdb,wt),(Xe=Xe.filter(function(Y){return Y._cfg.version>=ot})).length!==0?(Xe.forEach(function(Y){R.push(function(){var $=P,ae=Y._cfg.dbschema;Qt(Ke,$,wt),Qt(Ke,ae,wt),P=Ke._dbSchema=ae;var De=gi($,ae);De.add.forEach(function(Rt){ks(wt,Rt[0],Rt[1].primKey,Rt[1].indexes)}),De.change.forEach(function(Rt){if(Rt.recreate)throw new rt.Upgrade("Not yet support for changing primary key");var Et=wt.objectStore(Rt.name);Rt.add.forEach(function(Vt){return Fa(Et,Vt)}),Rt.change.forEach(function(Vt){Et.deleteIndex(Vt.name),Fa(Et,Vt)}),Rt.del.forEach(function(Vt){return Et.deleteIndex(Vt)})});var ze=Y._cfg.contentUpgrade;if(ze&&Y._cfg.version>ot){Ts(Ke,wt),Je._memoizedTables={};var vt=ve(ae);De.del.forEach(function(Rt){vt[Rt]=$[Rt]}),Ma(Ke,[Ke.Transaction.prototype]),Ds(Ke,[Ke.Transaction.prototype],y(vt),vt),Je.schema=vt;var tt,xt=ce(ze);return xt&&ar(),De=Ft.follow(function(){var Rt;(tt=ze(Je))&&xt&&(Rt=fi.bind(null,null),tt.then(Rt,Rt))}),tt&&typeof tt.then=="function"?Ft.resolve(tt):De.then(function(){return tt})}}),R.push(function($){var ae,De,ze=Y._cfg.dbschema;ae=ze,De=$,[].slice.call(De.db.objectStoreNames).forEach(function(vt){return ae[vt]==null&&De.db.deleteObjectStore(vt)}),Ma(Ke,[Ke.Transaction.prototype]),Ds(Ke,[Ke.Transaction.prototype],Ke._storeNames,Ke._dbSchema),Je.schema=Ke._dbSchema}),R.push(function($){Ke.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ke.idbdb.version/10)===Y._cfg.version?(Ke.idbdb.deleteObjectStore("$meta"),delete Ke._dbSchema.$meta,Ke._storeNames=Ke._storeNames.filter(function(ae){return ae!=="$meta"})):$.objectStore("$meta").put(Y._cfg.version,"version"))})}),(function Y(){return R.length?Ft.resolve(R.shift()(Je.idbtrans)).then(Y):Ft.resolve()})().then(function(){_l(P,wt)})):Ft.resolve();var Ke,ot,Je,wt,R,P}).catch(he)):(y(V).forEach(function(Xe){ks(B,Xe,V[Xe].primKey,V[Xe].indexes)}),Ts(b,B),void Ft.follow(function(){return b.on.populate.fire(ee)}).catch(he));var Oe,Le})}function kl(b,T){_l(b._dbSchema,T),T.db.version%10!=0||T.objectStoreNames.contains("$meta")||T.db.createObjectStore("$meta").add(Math.ceil(T.db.version/10-1),"version");var B=_s(0,b.idbdb,T);Qt(b,b._dbSchema,T);for(var j=0,V=gi(B,b._dbSchema).change;j<V.length;j++){var ee=(function(he){if(he.change.length||he.recreate)return console.warn("Unable to patch indexes of table ".concat(he.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ae=T.objectStore(he.name);he.add.forEach(function(Oe){Xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(he.name,".").concat(Oe.src)),Fa(Ae,Oe)})})(V[j]);if(typeof ee=="object")return ee.value}}function gi(b,T){var B,j={del:[],add:[],change:[]};for(B in b)T[B]||j.del.push(B);for(B in T){var V=b[B],ee=T[B];if(V){var he={name:B,def:ee,recreate:!1,del:[],add:[],change:[]};if(""+(V.primKey.keyPath||"")!=""+(ee.primKey.keyPath||"")||V.primKey.auto!==ee.primKey.auto)he.recreate=!0,j.change.push(he);else{var Ae=V.idxByName,Oe=ee.idxByName,Le=void 0;for(Le in Ae)Oe[Le]||he.del.push(Le);for(Le in Oe){var Xe=Ae[Le],Ke=Oe[Le];Xe?Xe.src!==Ke.src&&he.change.push(Ke):he.add.push(Ke)}(0<he.del.length||0<he.add.length||0<he.change.length)&&j.change.push(he)}}else j.add.push([B,ee])}return j}function ks(b,T,B,j){var V=b.db.createObjectStore(T,B.keyPath?{keyPath:B.keyPath,autoIncrement:B.auto}:{autoIncrement:B.auto});return j.forEach(function(ee){return Fa(V,ee)}),V}function _l(b,T){y(b).forEach(function(B){T.db.objectStoreNames.contains(B)||(Xt&&console.debug("Dexie: Creating missing table",B),ks(T,B,b[B].primKey,b[B].indexes))})}function Fa(b,T){b.createIndex(T.name,T.keyPath,{unique:T.unique,multiEntry:T.multi})}function _s(b,T,B){var j={};return N(T.objectStoreNames,0).forEach(function(V){for(var ee=B.objectStore(V),he=wo(Fo(Le=ee.keyPath),Le||"",!0,!1,!!ee.autoIncrement,Le&&typeof Le!="string",!0),Ae=[],Oe=0;Oe<ee.indexNames.length;++Oe){var Xe=ee.index(ee.indexNames[Oe]),Le=Xe.keyPath,Xe=wo(Xe.name,Le,!!Xe.unique,!!Xe.multiEntry,!1,Le&&typeof Le!="string",!1);Ae.push(Xe)}j[V]=As(V,he,Ae)}),j}function Qt(b,T,B){for(var j=B.db.objectStoreNames,V=0;V<j.length;++V){var ee=j[V],he=B.objectStore(ee);b._hasGetAll="getAll"in he;for(var Ae=0;Ae<he.indexNames.length;++Ae){var Oe=he.indexNames[Ae],Le=he.index(Oe).keyPath,Xe=typeof Le=="string"?Le:"["+N(Le).join("+")+"]";!T[ee]||(Le=T[ee].idxByName[Xe])&&(Le.name=Oe,delete T[ee].idxByName[Xe],T[ee].idxByName[Oe]=Le)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function Nr(b){return b.split(",").map(function(T,B){var ee=T.split(":"),j=(V=ee[1])===null||V===void 0?void 0:V.trim(),V=(T=ee[0].trim()).replace(/([&*]|\+\+)/g,""),ee=/^\[/.test(V)?V.match(/^\[(.*)\]$/)[1].split("+"):V;return wo(V,ee||null,/\&/.test(T),/\*/.test(T),/\+\+/.test(T),d(ee),B===0,j)})}var Va=(cs.prototype._createTableSchema=As,cs.prototype._parseIndexSyntax=Nr,cs.prototype._parseStoresSpec=function(b,T){var B=this;y(b).forEach(function(j){if(b[j]!==null){var V=B._parseIndexSyntax(b[j]),ee=V.shift();if(!ee)throw new rt.Schema("Invalid schema for table "+j+": "+b[j]);if(ee.unique=!0,ee.multi)throw new rt.Schema("Primary key cannot be multiEntry*");V.forEach(function(he){if(he.auto)throw new rt.Schema("Only primary key can be marked as autoIncrement (++)");if(!he.keyPath)throw new rt.Schema("Index must have a name and cannot be an empty string")}),V=B._createTableSchema(j,ee,V),T[j]=V}})},cs.prototype.stores=function(B){var T=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,B):B;var B=T._versions,j={},V={};return B.forEach(function(ee){a(j,ee._cfg.storesSource),V=ee._cfg.dbschema={},ee._parseStoresSpec(j,V)}),T._dbSchema=V,Ma(T,[T._allTables,T,T.Transaction.prototype]),Ds(T,[T._allTables,T,T.Transaction.prototype,this._cfg.tables],y(V),V),T._storeNames=y(V),this},cs.prototype.upgrade=function(b){return this._cfg.contentUpgrade=un(this._cfg.contentUpgrade||Wt,b),this},cs);function cs(){}function yu(b,T){var B=b._dbNamesDB;return B||(B=b._dbNamesDB=new Ui(wi,{addons:[],indexedDB:b,IDBKeyRange:T})).version(1).stores({dbnames:"name"}),B.table("dbnames")}function jl(b){return b&&typeof b.databases=="function"}function nu(b){return Pr(function(){return Ye.letThrough=!0,b()})}function Zs(b){return!("from"in b)}var Oa=function(b,T){if(!this){var B=new Oa;return b&&"d"in b&&a(B,b),B}a(this,arguments.length?{d:1,from:b,to:1<arguments.length?T:b}:{d:0})};function Qi(b,T,B){var j=Or(T,B);if(!isNaN(j)){if(0<j)throw RangeError();if(Zs(b))return a(b,{from:T,to:B,d:1});var V=b.l,j=b.r;if(Or(B,b.from)<0)return V?Qi(V,T,B):b.l={from:T,to:B,d:1,l:null,r:null},gl(b);if(0<Or(T,b.to))return j?Qi(j,T,B):b.r={from:T,to:B,d:1,l:null,r:null},gl(b);Or(T,b.from)<0&&(b.from=T,b.l=null,b.d=j?j.d+1:1),0<Or(B,b.to)&&(b.to=B,b.r=null,b.d=b.l?b.l.d+1:1),B=!b.r,V&&!b.l&&Fs(b,V),j&&B&&Fs(b,j)}}function Fs(b,T){Zs(T)||(function B(j,Oe){var ee=Oe.from,he=Oe.to,Ae=Oe.l,Oe=Oe.r;Qi(j,ee,he),Ae&&B(j,Ae),Oe&&B(j,Oe)})(b,T)}function Ni(b,T){var B=dl(T),j=B.next();if(j.done)return!1;for(var V=j.value,ee=dl(b),he=ee.next(V.from),Ae=he.value;!j.done&&!he.done;){if(Or(Ae.from,V.to)<=0&&0<=Or(Ae.to,V.from))return!0;Or(V.from,Ae.from)<0?V=(j=B.next(Ae.from)).value:Ae=(he=ee.next(V.from)).value}return!1}function dl(b){var T=Zs(b)?null:{s:0,n:b};return{next:function(B){for(var j=0<arguments.length;T;)switch(T.s){case 0:if(T.s=1,j)for(;T.n.l&&Or(B,T.n.from)<0;)T={up:T,n:T.n.l,s:1};else for(;T.n.l;)T={up:T,n:T.n.l,s:1};case 1:if(T.s=2,!j||Or(B,T.n.to)<=0)return{value:T.n,done:!1};case 2:if(T.n.r){T.s=3,T={up:T,n:T.n.r,s:0};continue}case 3:T=T.up}return{done:!0}}}}function gl(b){var T,B,j=(((T=b.r)===null||T===void 0?void 0:T.d)||0)-(((B=b.l)===null||B===void 0?void 0:B.d)||0),V=1<j?"r":j<-1?"l":"";V&&(T=V=="r"?"l":"r",B=r({},b),j=b[V],b.from=j.from,b.to=j.to,b[V]=j[V],B[V]=j[T],(b[T]=B).d=ki(B)),b.d=ki(b)}function ki(B){var T=B.r,B=B.l;return(T?B?Math.max(T.d,B.d):T.d:B?B.d:0)+1}function jn(b,T){return y(T).forEach(function(B){b[B]?Fs(b[B],T[B]):b[B]=(function j(V){var ee,he,Ae={};for(ee in V)f(V,ee)&&(he=V[ee],Ae[ee]=!he||typeof he!="object"||Ue.has(he.constructor)?he:j(he));return Ae})(T[B])}),b}function Vo(b,T){return b.all||T.all||Object.keys(b).some(function(B){return T[B]&&Ni(T[B],b[B])})}g(Oa.prototype,((Er={add:function(b){return Fs(this,b),this},addKey:function(b){return Qi(this,b,b),this},addKeys:function(b){var T=this;return b.forEach(function(B){return Qi(T,B,B)}),this},hasKey:function(b){var T=dl(this).next(b).value;return T&&Or(T.from,b)<=0&&0<=Or(T.to,b)}})[me]=function(){return dl(this)},Er));var di={},fs={},qs=!1;function Po(b){jn(fs,b),qs||(qs=!0,setTimeout(function(){qs=!1,oi(fs,!(fs={}))},0))}function oi(b,T){T===void 0&&(T=!1);var B=new Set;if(b.all)for(var j=0,V=Object.values(di);j<V.length;j++)pl(he=V[j],b,B,T);else for(var ee in b){var he,Ae=/^idb\:\/\/(.*)\/(.*)\//.exec(ee);Ae&&(ee=Ae[1],Ae=Ae[2],(he=di["idb://".concat(ee,"/").concat(Ae)])&&pl(he,b,B,T))}B.forEach(function(Oe){return Oe()})}function pl(b,T,B,j){for(var V=[],ee=0,he=Object.entries(b.queries.query);ee<he.length;ee++){for(var Ae=he[ee],Oe=Ae[0],Le=[],Xe=0,Ke=Ae[1];Xe<Ke.length;Xe++){var ot=Ke[Xe];Vo(T,ot.obsSet)?ot.subscribers.forEach(function(P){return B.add(P)}):j&&Le.push(ot)}j&&V.push([Oe,Le])}if(j)for(var Je=0,wt=V;Je<wt.length;Je++){var R=wt[Je],Oe=R[0],Le=R[1];b.queries.query[Oe]=Le}}function Ps(b){var T=b._state,B=b._deps.indexedDB;if(T.isBeingOpened||b.idbdb)return T.dbReadyPromise.then(function(){return T.dbOpenError?or(T.dbOpenError):b});T.isBeingOpened=!0,T.dbOpenError=null,T.openComplete=!1;var j=T.openCanceller,V=Math.round(10*b.verno),ee=!1;function he(){if(T.openCanceller!==j)throw new rt.DatabaseClosed("db.open() was cancelled")}function Ae(){return new Ft(function(ot,Je){if(he(),!B)throw new rt.MissingAPI;var wt=b.name,R=T.autoSchema||!V?B.open(wt):B.open(wt,V);if(!R)throw new rt.MissingAPI;R.onerror=kr(Je),R.onblocked=Jn(b._fireOnBlocked),R.onupgradeneeded=Jn(function(P){var Y;Xe=R.transaction,T.autoSchema&&!b._options.allowEmptyDB?(R.onerror=Vn,Xe.abort(),R.result.close(),(Y=B.deleteDatabase(wt)).onsuccess=Y.onerror=Jn(function(){Je(new rt.NoSuchDatabase("Database ".concat(wt," doesnt exist")))})):(Xe.onerror=kr(Je),P=P.oldVersion>Math.pow(2,62)?0:P.oldVersion,Ke=P<1,b.idbdb=R.result,ee&&kl(b,Xe),Ul(b,P/10,Xe,Je))},Je),R.onsuccess=Jn(function(){Xe=null;var P,Y,$,ae,De,ze=b.idbdb=R.result,vt=N(ze.objectStoreNames);if(0<vt.length)try{var tt=ze.transaction((ae=vt).length===1?ae[0]:ae,"readonly");if(T.autoSchema)Y=ze,$=tt,(P=b).verno=Y.version/10,$=P._dbSchema=_s(0,Y,$),P._storeNames=N(Y.objectStoreNames,0),Ds(P,[P._allTables],y($),$);else if(Qt(b,b._dbSchema,tt),((De=gi(_s(0,(De=b).idbdb,tt),De._dbSchema)).add.length||De.change.some(function(xt){return xt.add.length||xt.change.length}))&&!ee)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ze.close(),V=ze.version+1,ee=!0,ot(Ae());Ts(b,tt)}catch{}hn.push(b),ze.onversionchange=Jn(function(xt){T.vcFired=!0,b.on("versionchange").fire(xt)}),ze.onclose=Jn(function(){b.close({disableAutoOpen:!1})}),Ke&&(De=b._deps,tt=wt,ze=De.indexedDB,De=De.IDBKeyRange,jl(ze)||tt===wi||yu(ze,De).put({name:tt}).catch(Wt)),ot()},Je)}).catch(function(ot){switch(ot?.name){case"UnknownError":if(0<T.PR1398_maxLoop)return T.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ae();break;case"VersionError":if(0<V)return V=0,Ae()}return Ft.reject(ot)})}var Oe,Le=T.dbReadyResolve,Xe=null,Ke=!1;return Ft.race([j,(typeof navigator>"u"?Ft.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ot){function Je(){return indexedDB.databases().finally(ot)}Oe=setInterval(Je,100),Je()}).finally(function(){return clearInterval(Oe)}):Promise.resolve()).then(Ae)]).then(function(){return he(),T.onReadyBeingFired=[],Ft.resolve(nu(function(){return b.on.ready.fire(b.vip)})).then(function ot(){if(0<T.onReadyBeingFired.length){var Je=T.onReadyBeingFired.reduce(un,Wt);return T.onReadyBeingFired=[],Ft.resolve(nu(function(){return Je(b.vip)})).then(ot)}})}).finally(function(){T.openCanceller===j&&(T.onReadyBeingFired=null,T.isBeingOpened=!1)}).catch(function(ot){T.dbOpenError=ot;try{Xe&&Xe.abort()}catch{}return j===T.openCanceller&&b._close(),or(ot)}).finally(function(){T.openComplete=!0,Le()}).then(function(){var ot;return Ke&&(ot={},b.tables.forEach(function(Je){Je.schema.indexes.forEach(function(wt){wt.name&&(ot["idb://".concat(b.name,"/").concat(Je.name,"/").concat(wt.name)]=new Oa(-1/0,[[[]]]))}),ot["idb://".concat(b.name,"/").concat(Je.name,"/")]=ot["idb://".concat(b.name,"/").concat(Je.name,"/:dels")]=new Oa(-1/0,[[[]]])}),Kr(xa).fire(ot),oi(ot,!0)),b})}function Ji(b){function T(ee){return b.next(ee)}var B=V(T),j=V(function(ee){return b.throw(ee)});function V(ee){return function(Oe){var Ae=ee(Oe),Oe=Ae.value;return Ae.done?Oe:Oe&&typeof Oe.then=="function"?Oe.then(B,j):d(Oe)?Promise.all(Oe).then(B,j):B(Oe)}}return V(T)()}function zo(b,T,B){for(var j=d(b)?b.slice():[b],V=0;V<B;++V)j.push(T);return j}var Li={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return r(r({},b),{table:function(T){var B=b.table(T),j=B.schema,V={},ee=[];function he(Ke,ot,Je){var wt=qi(Ke),R=V[wt]=V[wt]||[],P=Ke==null?0:typeof Ke=="string"?1:Ke.length,Y=0<ot,Y=r(r({},Je),{name:Y?"".concat(wt,"(virtual-from:").concat(Je.name,")"):Je.name,lowLevelIndex:Je,isVirtual:Y,keyTail:ot,keyLength:P,extractKey:ho(Ke),unique:!Y&&Je.unique});return R.push(Y),Y.isPrimaryKey||ee.push(Y),1<P&&he(P===2?Ke[0]:Ke.slice(0,P-1),ot+1,Je),R.sort(function($,ae){return $.keyTail-ae.keyTail}),Y}T=he(j.primaryKey.keyPath,0,j.primaryKey),V[":id"]=[T];for(var Ae=0,Oe=j.indexes;Ae<Oe.length;Ae++){var Le=Oe[Ae];he(Le.keyPath,0,Le)}function Xe(Ke){var ot,Je=Ke.query.index;return Je.isVirtual?r(r({},Ke),{query:{index:Je.lowLevelIndex,range:(ot=Ke.query.range,Je=Je.keyTail,{type:ot.type===1?2:ot.type,lower:zo(ot.lower,ot.lowerOpen?b.MAX_KEY:b.MIN_KEY,Je),lowerOpen:!0,upper:zo(ot.upper,ot.upperOpen?b.MIN_KEY:b.MAX_KEY,Je),upperOpen:!0})}}):Ke}return r(r({},B),{schema:r(r({},j),{primaryKey:T,indexes:ee,getIndexByKeyPath:function(Ke){return(Ke=V[qi(Ke)])&&Ke[0]}}),count:function(Ke){return B.count(Xe(Ke))},query:function(Ke){return B.query(Xe(Ke))},openCursor:function(Ke){var ot=Ke.query.index,Je=ot.keyTail,wt=ot.isVirtual,R=ot.keyLength;return wt?B.openCursor(Xe(Ke)).then(function(Y){return Y&&P(Y)}):B.openCursor(Ke);function P(Y){return Object.create(Y,{continue:{value:function($){$!=null?Y.continue(zo($,Ke.reverse?b.MAX_KEY:b.MIN_KEY,Je)):Ke.unique?Y.continue(Y.key.slice(0,R).concat(Ke.reverse?b.MIN_KEY:b.MAX_KEY,Je)):Y.continue()}},continuePrimaryKey:{value:function($,ae){Y.continuePrimaryKey(zo($,b.MAX_KEY,Je),ae)}},primaryKey:{get:function(){return Y.primaryKey}},key:{get:function(){var $=Y.key;return R===1?$[0]:$.slice(0,R)}},value:{get:function(){return Y.value}}})}}})}})}};function Ko(b,T,B,j){return B=B||{},j=j||"",y(b).forEach(function(V){var ee,he,Ae;f(T,V)?(ee=b[V],he=T[V],typeof ee=="object"&&typeof he=="object"&&ee&&he?(Ae=ge(ee))!==ge(he)?B[j+V]=T[V]:Ae==="Object"?Ko(ee,he,B,j+V+"."):ee!==he&&(B[j+V]=T[V]):ee!==he&&(B[j+V]=T[V])):B[j+V]=void 0}),y(T).forEach(function(V){f(b,V)||(B[j+V]=T[V])}),B}function Zo(b,T){return T.type==="delete"?T.keys:T.keys||T.values.map(b.extractKey)}var Qs={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return r(r({},b),{table:function(T){var B=b.table(T),j=B.schema.primaryKey;return r(r({},B),{mutate:function(V){var ee=Ye.trans,he=ee.table(T).hook,Ae=he.deleting,Oe=he.creating,Le=he.updating;switch(V.type){case"add":if(Oe.fire===Wt)break;return ee._promise("readwrite",function(){return Xe(V)},!0);case"put":if(Oe.fire===Wt&&Le.fire===Wt)break;return ee._promise("readwrite",function(){return Xe(V)},!0);case"delete":if(Ae.fire===Wt)break;return ee._promise("readwrite",function(){return Xe(V)},!0);case"deleteRange":if(Ae.fire===Wt)break;return ee._promise("readwrite",function(){return(function Ke(ot,Je,wt){return B.query({trans:ot,values:!1,query:{index:j,range:Je},limit:wt}).then(function(R){var P=R.result;return Xe({type:"delete",keys:P,trans:ot}).then(function(Y){return 0<Y.numFailures?Promise.reject(Y.failures[0]):P.length<wt?{failures:[],numFailures:0,lastResult:void 0}:Ke(ot,r(r({},Je),{lower:P[P.length-1],lowerOpen:!0}),wt)})})})(V.trans,V.range,1e4)},!0)}return B.mutate(V);function Xe(Ke){var ot,Je,wt,R=Ye.trans,P=Ke.keys||Zo(j,Ke);if(!P)throw new Error("Keys missing");return(Ke=Ke.type==="add"||Ke.type==="put"?r(r({},Ke),{keys:P}):r({},Ke)).type!=="delete"&&(Ke.values=o([],Ke.values)),Ke.keys&&(Ke.keys=o([],Ke.keys)),ot=B,wt=P,((Je=Ke).type==="add"?Promise.resolve([]):ot.getMany({trans:Je.trans,keys:wt,cache:"immutable"})).then(function(Y){var $=P.map(function(ae,De){var ze,vt,tt,xt=Y[De],Rt={onerror:null,onsuccess:null};return Ke.type==="delete"?Ae.fire.call(Rt,ae,xt,R):Ke.type==="add"||xt===void 0?(ze=Oe.fire.call(Rt,ae,Ke.values[De],R),ae==null&&ze!=null&&(Ke.keys[De]=ae=ze,j.outbound||ne(Ke.values[De],j.keyPath,ae))):(ze=Ko(xt,Ke.values[De]),(vt=Le.fire.call(Rt,ze,ae,xt,R))&&(tt=Ke.values[De],Object.keys(vt).forEach(function(Et){f(tt,Et)?tt[Et]=vt[Et]:ne(tt,Et,vt[Et])}))),Rt});return B.mutate(Ke).then(function(ae){for(var De=ae.failures,ze=ae.results,vt=ae.numFailures,ae=ae.lastResult,tt=0;tt<P.length;++tt){var xt=(ze||P)[tt],Rt=$[tt];xt==null?Rt.onerror&&Rt.onerror(De[tt]):Rt.onsuccess&&Rt.onsuccess(Ke.type==="put"&&Y[tt]?Ke.values[tt]:xt)}return{failures:De,results:ze,numFailures:vt,lastResult:ae}}).catch(function(ae){return $.forEach(function(De){return De.onerror&&De.onerror(ae)}),Promise.reject(ae)})})}}})}})}};function xu(b,T,B){try{if(!T||T.keys.length<b.length)return null;for(var j=[],V=0,ee=0;V<T.keys.length&&ee<b.length;++V)Or(T.keys[V],b[ee])===0&&(j.push(B?mt(T.values[V]):T.values[V]),++ee);return j.length===b.length?j:null}catch{return null}}var ml={stack:"dbcore",level:-1,create:function(b){return{table:function(T){var B=b.table(T);return r(r({},B),{getMany:function(j){if(!j.cache)return B.getMany(j);var V=xu(j.keys,j.trans._cache,j.cache==="clone");return V?Ft.resolve(V):B.getMany(j).then(function(ee){return j.trans._cache={keys:j.keys,values:j.cache==="clone"?mt(ee):ee},ee})},mutate:function(j){return j.type!=="add"&&(j.trans._cache=null),B.mutate(j)}})}}}};function Js(b,T){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!T.schema.primaryKey.outbound}function qo(b,T){switch(b){case"query":return T.values&&!T.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ml={stack:"dbcore",level:0,name:"Observability",create:function(b){var T=b.schema.name,B=new Oa(b.MIN_KEY,b.MAX_KEY);return r(r({},b),{transaction:function(j,V,ee){if(Ye.subscr&&V!=="readonly")throw new rt.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ye.querier));return b.transaction(j,V,ee)},table:function(j){var V=b.table(j),ee=V.schema,he=ee.primaryKey,Ke=ee.indexes,Ae=he.extractKey,Oe=he.outbound,Le=he.autoIncrement&&Ke.filter(function(Je){return Je.compound&&Je.keyPath.includes(he.keyPath)}),Xe=r(r({},V),{mutate:function(Je){function wt(Et){return Et="idb://".concat(T,"/").concat(j,"/").concat(Et),ae[Et]||(ae[Et]=new Oa)}var R,P,Y,$=Je.trans,ae=Je.mutatedParts||(Je.mutatedParts={}),De=wt(""),ze=wt(":dels"),vt=Je.type,Rt=Je.type==="deleteRange"?[Je.range]:Je.type==="delete"?[Je.keys]:Je.values.length<50?[Zo(he,Je).filter(function(Et){return Et}),Je.values]:[],tt=Rt[0],xt=Rt[1],Rt=Je.trans._cache;return d(tt)?(De.addKeys(tt),(Rt=vt==="delete"||tt.length===xt.length?xu(tt,Rt):null)||ze.addKeys(tt),(Rt||xt)&&(R=wt,P=Rt,Y=xt,ee.indexes.forEach(function(Et){var Vt=R(Et.name||"");function dn(In){return In!=null?Et.extractKey(In):null}function Nn(In){return Et.multiEntry&&d(In)?In.forEach(function(rr){return Vt.addKey(rr)}):Vt.addKey(In)}(P||Y).forEach(function(In,sr){var Rn=P&&dn(P[sr]),sr=Y&&dn(Y[sr]);Or(Rn,sr)!==0&&(Rn!=null&&Nn(Rn),sr!=null&&Nn(sr))})}))):tt?(xt={from:(xt=tt.lower)!==null&&xt!==void 0?xt:b.MIN_KEY,to:(xt=tt.upper)!==null&&xt!==void 0?xt:b.MAX_KEY},ze.add(xt),De.add(xt)):(De.add(B),ze.add(B),ee.indexes.forEach(function(Et){return wt(Et.name).add(B)})),V.mutate(Je).then(function(Et){return!tt||Je.type!=="add"&&Je.type!=="put"||(De.addKeys(Et.results),Le&&Le.forEach(function(Vt){for(var dn=Je.values.map(function(Rn){return Vt.extractKey(Rn)}),Nn=Vt.keyPath.findIndex(function(Rn){return Rn===he.keyPath}),In=0,rr=Et.results.length;In<rr;++In)dn[In][Nn]=Et.results[In];wt(Vt.name).addKeys(dn)})),$.mutatedParts=jn($.mutatedParts||{},ae),Et})}}),Ke=function(wt){var R=wt.query,wt=R.index,R=R.range;return[wt,new Oa((wt=R.lower)!==null&&wt!==void 0?wt:b.MIN_KEY,(R=R.upper)!==null&&R!==void 0?R:b.MAX_KEY)]},ot={get:function(Je){return[he,new Oa(Je.key)]},getMany:function(Je){return[he,new Oa().addKeys(Je.keys)]},count:Ke,query:Ke,openCursor:Ke};return y(ot).forEach(function(Je){Xe[Je]=function(wt){var R=Ye.subscr,P=!!R,Y=Js(Ye,V)&&qo(Je,wt)?wt.obsSet={}:R;if(P){var $=function(xt){return xt="idb://".concat(T,"/").concat(j,"/").concat(xt),Y[xt]||(Y[xt]=new Oa)},ae=$(""),De=$(":dels"),R=ot[Je](wt),P=R[0],R=R[1];if((Je==="query"&&P.isPrimaryKey&&!wt.values?De:$(P.name||"")).add(R),!P.isPrimaryKey){if(Je!=="count"){var ze=Je==="query"&&Oe&&wt.values&&V.query(r(r({},wt),{values:!1}));return V[Je].apply(this,arguments).then(function(xt){if(Je==="query"){if(Oe&&wt.values)return ze.then(function(dn){return dn=dn.result,ae.addKeys(dn),xt});var Rt=wt.values?xt.result.map(Ae):xt.result;(wt.values?ae:De).addKeys(Rt)}else if(Je==="openCursor"){var Et=xt,Vt=wt.values;return Et&&Object.create(Et,{key:{get:function(){return De.addKey(Et.primaryKey),Et.key}},primaryKey:{get:function(){var dn=Et.primaryKey;return De.addKey(dn),dn}},value:{get:function(){return Vt&&ae.addKey(Et.primaryKey),Et.value}}})}return xt})}De.add(B)}}return V[Je].apply(this,arguments)}}),Xe}})}};function Bi(b,T,B){if(B.numFailures===0)return T;if(T.type==="deleteRange")return null;var j=T.keys?T.keys.length:"values"in T&&T.values?T.values.length:1;return B.numFailures===j?null:(T=r({},T),d(T.keys)&&(T.keys=T.keys.filter(function(V,ee){return!(ee in B.failures)})),"values"in T&&d(T.values)&&(T.values=T.values.filter(function(V,ee){return!(ee in B.failures)})),T)}function So(b,T){return B=b,((j=T).lower===void 0||(j.lowerOpen?0<Or(B,j.lower):0<=Or(B,j.lower)))&&(b=b,(T=T).upper===void 0||(T.upperOpen?Or(b,T.upper)<0:Or(b,T.upper)<=0));var B,j}function Ka(b,T,ot,j,V,ee){if(!ot||ot.length===0)return b;var he=T.query.index,Ae=he.multiEntry,Oe=T.query.range,Le=j.schema.primaryKey.extractKey,Xe=he.extractKey,Ke=(he.lowLevelIndex||he).extractKey,ot=ot.reduce(function(Je,wt){var R=Je,P=[];if(wt.type==="add"||wt.type==="put")for(var Y=new Oa,$=wt.values.length-1;0<=$;--$){var ae,De=wt.values[$],ze=Le(De);Y.hasKey(ze)||(ae=Xe(De),(Ae&&d(ae)?ae.some(function(Et){return So(Et,Oe)}):So(ae,Oe))&&(Y.addKey(ze),P.push(De)))}switch(wt.type){case"add":var vt=new Oa().addKeys(T.values?Je.map(function(Vt){return Le(Vt)}):Je),R=Je.concat(T.values?P.filter(function(Vt){return Vt=Le(Vt),!vt.hasKey(Vt)&&(vt.addKey(Vt),!0)}):P.map(function(Vt){return Le(Vt)}).filter(function(Vt){return!vt.hasKey(Vt)&&(vt.addKey(Vt),!0)}));break;case"put":var tt=new Oa().addKeys(wt.values.map(function(Vt){return Le(Vt)}));R=Je.filter(function(Vt){return!tt.hasKey(T.values?Le(Vt):Vt)}).concat(T.values?P:P.map(function(Vt){return Le(Vt)}));break;case"delete":var xt=new Oa().addKeys(wt.keys);R=Je.filter(function(Vt){return!xt.hasKey(T.values?Le(Vt):Vt)});break;case"deleteRange":var Rt=wt.range;R=Je.filter(function(Vt){return!So(Le(Vt),Rt)})}return R},b);return ot===b?b:(ot.sort(function(Je,wt){return Or(Ke(Je),Ke(wt))||Or(Le(Je),Le(wt))}),T.limit&&T.limit<1/0&&(ot.length>T.limit?ot.length=T.limit:b.length===T.limit&&ot.length<T.limit&&(V.dirty=!0)),ee?Object.freeze(ot):ot)}function hs(b,T){return Or(b.lower,T.lower)===0&&Or(b.upper,T.upper)===0&&!!b.lowerOpen==!!T.lowerOpen&&!!b.upperOpen==!!T.upperOpen}function Ms(b,T){return(function(B,j,V,ee){if(B===void 0)return j!==void 0?-1:0;if(j===void 0)return 1;if((j=Or(B,j))===0){if(V&&ee)return 0;if(V)return 1;if(ee)return-1}return j})(b.lower,T.lower,b.lowerOpen,T.lowerOpen)<=0&&0<=(function(B,j,V,ee){if(B===void 0)return j!==void 0?1:0;if(j===void 0)return-1;if((j=Or(B,j))===0){if(V&&ee)return 0;if(V)return-1;if(ee)return 1}return j})(b.upper,T.upper,b.upperOpen,T.upperOpen)}function Qo(b,T,B,j){b.subscribers.add(B),j.addEventListener("abort",function(){var V,ee;b.subscribers.delete(B),b.subscribers.size===0&&(V=b,ee=T,setTimeout(function(){V.subscribers.size===0&&lt(ee,V)},3e3))})}var Ho={stack:"dbcore",level:0,name:"Cache",create:function(b){var T=b.schema.name;return r(r({},b),{transaction:function(B,j,V){var ee,he,Ae=b.transaction(B,j,V);return j==="readwrite"&&(he=(ee=new AbortController).signal,V=function(Oe){return function(){if(ee.abort(),j==="readwrite"){for(var Le=new Set,Xe=0,Ke=B;Xe<Ke.length;Xe++){var ot=Ke[Xe],Je=di["idb://".concat(T,"/").concat(ot)];if(Je){var wt=b.table(ot),R=Je.optimisticOps.filter(function(Vt){return Vt.trans===Ae});if(Ae._explicit&&Oe&&Ae.mutatedParts)for(var P=0,Y=Object.values(Je.queries.query);P<Y.length;P++)for(var $=0,ae=(vt=Y[P]).slice();$<ae.length;$++)Vo((tt=ae[$]).obsSet,Ae.mutatedParts)&&(lt(vt,tt),tt.subscribers.forEach(function(Vt){return Le.add(Vt)}));else if(0<R.length){Je.optimisticOps=Je.optimisticOps.filter(function(Vt){return Vt.trans!==Ae});for(var De=0,ze=Object.values(Je.queries.query);De<ze.length;De++)for(var vt,tt,xt,Rt=0,Et=(vt=ze[De]).slice();Rt<Et.length;Rt++)(tt=Et[Rt]).res!=null&&Ae.mutatedParts&&(Oe&&!tt.dirty?(xt=Object.isFrozen(tt.res),xt=Ka(tt.res,tt.req,R,wt,tt,xt),tt.dirty?(lt(vt,tt),tt.subscribers.forEach(function(Vt){return Le.add(Vt)})):xt!==tt.res&&(tt.res=xt,tt.promise=Ft.resolve({result:xt}))):(tt.dirty&&lt(vt,tt),tt.subscribers.forEach(function(Vt){return Le.add(Vt)})))}}}Le.forEach(function(Vt){return Vt()})}}},Ae.addEventListener("abort",V(!1),{signal:he}),Ae.addEventListener("error",V(!1),{signal:he}),Ae.addEventListener("complete",V(!0),{signal:he})),Ae},table:function(B){var j=b.table(B),V=j.schema.primaryKey;return r(r({},j),{mutate:function(ee){var he=Ye.trans;if(V.outbound||he.db._options.cache==="disabled"||he.explicit||he.idbtrans.mode!=="readwrite")return j.mutate(ee);var Ae=di["idb://".concat(T,"/").concat(B)];return Ae?(he=j.mutate(ee),ee.type!=="add"&&ee.type!=="put"||!(50<=ee.values.length||Zo(V,ee).some(function(Oe){return Oe==null}))?(Ae.optimisticOps.push(ee),ee.mutatedParts&&Po(ee.mutatedParts),he.then(function(Oe){0<Oe.numFailures&&(lt(Ae.optimisticOps,ee),(Oe=Bi(0,ee,Oe))&&Ae.optimisticOps.push(Oe),ee.mutatedParts&&Po(ee.mutatedParts))}),he.catch(function(){lt(Ae.optimisticOps,ee),ee.mutatedParts&&Po(ee.mutatedParts)})):he.then(function(Oe){var Le=Bi(0,r(r({},ee),{values:ee.values.map(function(Xe,Ke){var ot;return Oe.failures[Ke]?Xe:(Xe=(ot=V.keyPath)!==null&&ot!==void 0&&ot.includes(".")?mt(Xe):r({},Xe),ne(Xe,V.keyPath,Oe.results[Ke]),Xe)})}),Oe);Ae.optimisticOps.push(Le),queueMicrotask(function(){return ee.mutatedParts&&Po(ee.mutatedParts)})}),he):j.mutate(ee)},query:function(ee){if(!Js(Ye,j)||!qo("query",ee))return j.query(ee);var he=((Le=Ye.trans)===null||Le===void 0?void 0:Le.db._options.cache)==="immutable",Ke=Ye,Ae=Ke.requery,Oe=Ke.signal,Le=(function(wt,R,P,Y){var $=di["idb://".concat(wt,"/").concat(R)];if(!$)return[];if(!(R=$.queries[P]))return[null,!1,$,null];var ae=R[(Y.query?Y.query.index.name:null)||""];if(!ae)return[null,!1,$,null];switch(P){case"query":var De=ae.find(function(ze){return ze.req.limit===Y.limit&&ze.req.values===Y.values&&hs(ze.req.query.range,Y.query.range)});return De?[De,!0,$,ae]:[ae.find(function(ze){return("limit"in ze.req?ze.req.limit:1/0)>=Y.limit&&(!Y.values||ze.req.values)&&Ms(ze.req.query.range,Y.query.range)}),!1,$,ae];case"count":return De=ae.find(function(ze){return hs(ze.req.query.range,Y.query.range)}),[De,!!De,$,ae]}})(T,B,"query",ee),Xe=Le[0],Ke=Le[1],ot=Le[2],Je=Le[3];return Xe&&Ke?Xe.obsSet=ee.obsSet:(Ke=j.query(ee).then(function(wt){var R=wt.result;if(Xe&&(Xe.res=R),he){for(var P=0,Y=R.length;P<Y;++P)Object.freeze(R[P]);Object.freeze(R)}else wt.result=mt(R);return wt}).catch(function(wt){return Je&&Xe&&lt(Je,Xe),Promise.reject(wt)}),Xe={obsSet:ee.obsSet,promise:Ke,subscribers:new Set,type:"query",req:ee,dirty:!1},Je?Je.push(Xe):(Je=[Xe],(ot=ot||(di["idb://".concat(T,"/").concat(B)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ee.query.index.name||""]=Je)),Qo(Xe,Je,Ae,Oe),Xe.promise.then(function(wt){return{result:Ka(wt.result,ee,ot?.optimisticOps,j,Xe,he)}})}})}})}};function Pa(b,T){return new Proxy(b,{get:function(B,j,V){return j==="db"?T:Reflect.get(B,j,V)}})}var Ui=($i.prototype.version=function(b){if(isNaN(b)||b<.1)throw new rt.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new rt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var T=this._versions,B=T.filter(function(j){return j._cfg.version===b})[0];return B||(B=new this.Version(b),T.push(B),T.sort(vu),B.stores({}),this._state.autoSchema=!1,B)},$i.prototype._whenReady=function(b){var T=this;return this.idbdb&&(this._state.openComplete||Ye.letThrough||this._vip)?b():new Ft(function(B,j){if(T._state.openComplete)return j(new rt.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return void j(new rt.DatabaseClosed);T.open().catch(Wt)}T._state.dbReadyPromise.then(B,j)}).then(b)},$i.prototype.use=function(b){var T=b.stack,B=b.create,j=b.level,V=b.name;return V&&this.unuse({stack:T,name:V}),b=this._middlewares[T]||(this._middlewares[T]=[]),b.push({stack:T,create:B,level:j??10,name:V}),b.sort(function(ee,he){return ee.level-he.level}),this},$i.prototype.unuse=function(b){var T=b.stack,B=b.name,j=b.create;return T&&this._middlewares[T]&&(this._middlewares[T]=this._middlewares[T].filter(function(V){return j?V.create!==j:!!B&&V.name!==B})),this},$i.prototype.open=function(){var b=this;return gr(Ct,function(){return Ps(b)})},$i.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var b=this._state,T=hn.indexOf(this);if(0<=T&&hn.splice(T,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new Ft(function(B){b.dbReadyResolve=B}),b.openCanceller=new Ft(function(B,j){b.cancelOpen=j}))},$i.prototype.close=function(B){var T=(B===void 0?{disableAutoOpen:!0}:B).disableAutoOpen,B=this._state;T?(B.isBeingOpened&&B.cancelOpen(new rt.DatabaseClosed),this._close(),B.autoOpen=!1,B.dbOpenError=new rt.DatabaseClosed):(this._close(),B.autoOpen=this._options.autoOpen||B.isBeingOpened,B.openComplete=!1,B.dbOpenError=null)},$i.prototype.delete=function(b){var T=this;b===void 0&&(b={disableAutoOpen:!0});var B=0<arguments.length&&typeof arguments[0]!="object",j=this._state;return new Ft(function(V,ee){function he(){T.close(b);var Ae=T._deps.indexedDB.deleteDatabase(T.name);Ae.onsuccess=Jn(function(){var Oe,Le,Xe;Oe=T._deps,Le=T.name,Xe=Oe.indexedDB,Oe=Oe.IDBKeyRange,jl(Xe)||Le===wi||yu(Xe,Oe).delete(Le).catch(Wt),V()}),Ae.onerror=kr(ee),Ae.onblocked=T._fireOnBlocked}if(B)throw new rt.InvalidArgument("Invalid closeOptions argument to db.delete()");j.isBeingOpened?j.dbReadyPromise.then(he):he()})},$i.prototype.backendDB=function(){return this.idbdb},$i.prototype.isOpen=function(){return this.idbdb!==null},$i.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},$i.prototype.hasFailed=function(){return this._state.dbOpenError!==null},$i.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty($i.prototype,"tables",{get:function(){var b=this;return y(this._allTables).map(function(T){return b._allTables[T]})},enumerable:!1,configurable:!0}),$i.prototype.transaction=function(){var b=(function(T,B,j){var V=arguments.length;if(V<2)throw new rt.InvalidArgument("Too few arguments");for(var ee=new Array(V-1);--V;)ee[V-1]=arguments[V];return j=ee.pop(),[T,Be(ee),j]}).apply(this,arguments);return this._transaction.apply(this,b)},$i.prototype._transaction=function(b,T,B){var j=this,V=Ye.trans;V&&V.db===this&&b.indexOf("!")===-1||(V=null);var ee,he,Ae=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(he=T.map(function(Le){if(Le=Le instanceof j.Table?Le.name:Le,typeof Le!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Le}),b=="r"||b===mn)ee=mn;else{if(b!="rw"&&b!=Ki)throw new rt.InvalidArgument("Invalid transaction mode: "+b);ee=Ki}if(V){if(V.mode===mn&&ee===Ki){if(!Ae)throw new rt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");V=null}V&&he.forEach(function(Le){if(V&&V.storeNames.indexOf(Le)===-1){if(!Ae)throw new rt.SubTransaction("Table "+Le+" not included in parent transaction.");V=null}}),Ae&&V&&!V.active&&(V=null)}}catch(Le){return V?V._promise(null,function(Xe,Ke){Ke(Le)}):or(Le)}var Oe=(function Le(Xe,Ke,ot,Je,wt){return Ft.resolve().then(function(){var R=Ye.transless||Ye,P=Xe._createTransaction(Ke,ot,Xe._dbSchema,Je);if(P.explicit=!0,R={trans:P,transless:R},Je)P.idbtrans=Je.idbtrans;else try{P.create(),P.idbtrans._explicit=!0,Xe._state.PR1398_maxLoop=3}catch(ae){return ae.name===ct.InvalidState&&Xe.isOpen()&&0<--Xe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Xe.close({disableAutoOpen:!1}),Xe.open().then(function(){return Le(Xe,Ke,ot,null,wt)})):or(ae)}var Y,$=ce(wt);return $&&ar(),R=Ft.follow(function(){var ae;(Y=wt.call(P,P))&&($?(ae=fi.bind(null,null),Y.then(ae,ae)):typeof Y.next=="function"&&typeof Y.throw=="function"&&(Y=Ji(Y)))},R),(Y&&typeof Y.then=="function"?Ft.resolve(Y).then(function(ae){return P.active?ae:or(new rt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):R.then(function(){return Y})).then(function(ae){return Je&&P._resolve(),P._completion.then(function(){return ae})}).catch(function(ae){return P._reject(ae),or(ae)})})}).bind(null,this,ee,he,V,B);return V?V._promise(ee,Oe,"lock"):Ye.trans?gr(Ye.transless,function(){return j._whenReady(Oe)}):this._whenReady(Oe)},$i.prototype.table=function(b){if(!f(this._allTables,b))throw new rt.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},$i);function $i(b,T){var B=this;this._middlewares={},this.verno=0;var j=$i.dependencies;this._options=T=r({addons:$i.addons,autoOpen:!0,indexedDB:j.indexedDB,IDBKeyRange:j.IDBKeyRange,cache:"cloned"},T),this._deps={indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange},j=T.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var V,ee,he,Ae,Oe,Le={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Wt,dbReadyPromise:null,cancelOpen:Wt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:T.autoOpen};Le.dbReadyPromise=new Ft(function(Ke){Le.dbReadyResolve=Ke}),Le.openCanceller=new Ft(function(Ke,ot){Le.cancelOpen=ot}),this._state=Le,this.name=b,this.on=Zn(this,"populate","blocked","versionchange","close",{ready:[un,Wt]}),this.once=function(Ke,ot){var Je=function(){for(var wt=[],R=0;R<arguments.length;R++)wt[R]=arguments[R];B.on(Ke).unsubscribe(Je),ot.apply(B,wt)};return B.on(Ke,Je)},this.on.ready.subscribe=U(this.on.ready.subscribe,function(Ke){return function(ot,Je){$i.vip(function(){var wt,R=B._state;R.openComplete?(R.dbOpenError||Ft.resolve().then(ot),Je&&Ke(ot)):R.onReadyBeingFired?(R.onReadyBeingFired.push(ot),Je&&Ke(ot)):(Ke(ot),wt=B,Je||Ke(function P(){wt.on.ready.unsubscribe(ot),wt.on.ready.unsubscribe(P)}))})}}),this.Collection=(V=this,Ir(Gt.prototype,function(Y,P){this.db=V;var Je=br,wt=null;if(P)try{Je=P()}catch($){wt=$}var R=Y._ctx,P=R.table,Y=P.hook.reading.fire;this._ctx={table:P,index:R.index,isPrimKey:!R.index||P.schema.primKey.keyPath&&R.index===P.schema.primKey.name,range:Je,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:wt,or:R.or,valueMapper:Y!==ft?Y:null}})),this.Table=(ee=this,Ir(ka.prototype,function(Ke,ot,Je){this.db=ee,this._tx=Je,this.name=Ke,this.schema=ot,this.hook=ee._allTables[Ke]?ee._allTables[Ke].hook:Zn(null,{creating:[tn,Wt],reading:[kt,ft],updating:[Ut,Wt],deleting:[zt,Wt]})})),this.Transaction=(he=this,Ir(hi.prototype,function(Ke,ot,Je,wt,R){var P=this;Ke!=="readonly"&&ot.forEach(function(Y){Y=(Y=Je[Y])===null||Y===void 0?void 0:Y.yProps,Y&&(ot=ot.concat(Y.map(function($){return $.updatesTable})))}),this.db=he,this.mode=Ke,this.storeNames=ot,this.schema=Je,this.chromeTransactionDurability=wt,this.idbtrans=null,this.on=Zn(this,"complete","error","abort"),this.parent=R||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ft(function(Y,$){P._resolve=Y,P._reject=$}),this._completion.then(function(){P.active=!1,P.on.complete.fire()},function(Y){var $=P.active;return P.active=!1,P.on.error.fire(Y),P.parent?P.parent._reject(Y):$&&P.idbtrans&&P.idbtrans.abort(),or(Y)})})),this.Version=(Ae=this,Ir(Va.prototype,function(Ke){this.db=Ae,this._cfg={version:Ke,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Oe=this,Ir(Ur.prototype,function(Ke,ot,Je){if(this.db=Oe,this._ctx={table:Ke,index:ot===":id"?null:ot,or:Je},this._cmp=this._ascending=Or,this._descending=function(wt,R){return Or(R,wt)},this._max=function(wt,R){return 0<Or(wt,R)?wt:R},this._min=function(wt,R){return Or(wt,R)<0?wt:R},this._IDBKeyRange=Oe._deps.IDBKeyRange,!this._IDBKeyRange)throw new rt.MissingAPI})),this.on("versionchange",function(Ke){0<Ke.newVersion?console.warn("Another connection wants to upgrade database '".concat(B.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(B.name,"'. Closing db now to resume the delete request.")),B.close({disableAutoOpen:!1})}),this.on("blocked",function(Ke){!Ke.newVersion||Ke.newVersion<Ke.oldVersion?console.warn("Dexie.delete('".concat(B.name,"') was blocked")):console.warn("Upgrade '".concat(B.name,"' blocked by other connection holding version ").concat(Ke.oldVersion/10))}),this._maxKey=Co(T.IDBKeyRange),this._createTransaction=function(Ke,ot,Je,wt){return new B.Transaction(Ke,ot,Je,B._options.chromeTransactionDurability,wt)},this._fireOnBlocked=function(Ke){B.on("blocked").fire(Ke),hn.filter(function(ot){return ot.name===B.name&&ot!==B&&!ot._state.vcFired}).map(function(ot){return ot.on("versionchange").fire(Ke)})},this.use(ml),this.use(Ho),this.use(Ml),this.use(Li),this.use(Qs);var Xe=new Proxy(this,{get:function(Ke,ot,Je){if(ot==="_vip")return!0;if(ot==="table")return function(R){return Pa(B.table(R),Xe)};var wt=Reflect.get(Ke,ot,Je);return wt instanceof ka?Pa(wt,Xe):ot==="tables"?wt.map(function(R){return Pa(R,Xe)}):ot==="_createTransaction"?function(){return Pa(wt.apply(this,arguments),Xe)}:wt}});this.vip=Xe,j.forEach(function(Ke){return Ke(B)})}var go,Er=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$s=(_e.prototype.subscribe=function(b,T,B){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:T,complete:B})},_e.prototype[Er]=function(){return this},_e);function _e(b){this._subscribe=b}try{go={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{go={indexedDB:null,IDBKeyRange:null}}function s(b){var T,B=!1,j=new $s(function(V){var ee=ce(b),he,Ae=!1,Oe={},Le={},Xe={get closed(){return Ae},unsubscribe:function(){Ae||(Ae=!0,he&&he.abort(),Ke&&Kr.storagemutated.unsubscribe(Je))}};V.start&&V.start(Xe);var Ke=!1,ot=function(){return Hr(wt)},Je=function(R){jn(Oe,R),Vo(Le,Oe)&&ot()},wt=function(){var R,P,Y;!Ae&&go.indexedDB&&(Oe={},R={},he&&he.abort(),he=new AbortController,Y=(function($){var ae=xr();try{ee&&ar();var De=Pr(b,$);return De=ee?De.finally(fi):De}finally{ae&&Br()}})(P={subscr:R,signal:he.signal,requery:ot,querier:b,trans:null}),Promise.resolve(Y).then(function($){B=!0,T=$,Ae||P.signal.aborted||(Oe={},(function(ae){for(var De in ae)if(f(ae,De))return;return 1})(Le=R)||Ke||(Kr(xa,Je),Ke=!0),Hr(function(){return!Ae&&V.next&&V.next($)}))},function($){B=!1,["DatabaseClosedError","AbortError"].includes($?.name)||Ae||Hr(function(){Ae||V.error&&V.error($)})}))};return setTimeout(ot,0),Xe});return j.hasValue=function(){return B},j.getValue=function(){return T},j}var p=Ui;function w(b){var T=k;try{k=!0,Kr.storagemutated.fire(b),oi(b,!0)}finally{k=T}}g(p,r(r({},_t),{delete:function(b){return new p(b,{addons:[]}).delete()},exists:function(b){return new p(b,{addons:[]}).open().then(function(T){return T.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return T=p.dependencies,B=T.indexedDB,T=T.IDBKeyRange,(jl(B)?Promise.resolve(B.databases()).then(function(j){return j.map(function(V){return V.name}).filter(function(V){return V!==wi})}):yu(B,T).toCollection().primaryKeys()).then(b)}catch{return or(new rt.MissingAPI)}var T,B},defineClass:function(){return function(b){a(this,b)}},ignoreTransaction:function(b){return Ye.trans?gr(Ye.transless,b):b()},vip:nu,async:function(b){return function(){try{var T=Ji(b.apply(this,arguments));return T&&typeof T.then=="function"?T:Ft.resolve(T)}catch(B){return or(B)}}},spawn:function(b,T,B){try{var j=Ji(b.apply(B,T||[]));return j&&typeof j.then=="function"?j:Ft.resolve(j)}catch(V){return or(V)}},currentTransaction:{get:function(){return Ye.trans||null}},waitFor:function(b,T){return T=Ft.resolve(typeof b=="function"?p.ignoreTransaction(b):b).timeout(T||6e4),Ye.trans?Ye.trans.waitFor(T):T},Promise:Ft,debug:{get:function(){return Xt},set:function(b){Zt(b)}},derive:D,extend:a,props:g,override:U,Events:Zn,on:Kr,liveQuery:s,extendObservabilitySet:jn,getByKeyPath:J,setByKeyPath:ne,delByKeyPath:function(b,T){typeof T=="string"?ne(b,T,void 0):"length"in T&&[].map.call(T,function(B){ne(b,B,void 0)})},shallowClone:ve,deepClone:mt,getObjectDiff:Ko,cmp:Or,asap:q,minKey:-1/0,addons:[],connections:hn,errnames:ct,dependencies:go,cache:di,semVer:"4.2.1",version:"4.2.1".split(".").map(function(b){return parseInt(b)}).reduce(function(b,T,B){return b+T/Math.pow(10,2*B)})})),p.maxKey=Co(p.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Kr(xa,function(b){k||(b=new CustomEvent(tr,{detail:b}),k=!0,dispatchEvent(b),k=!1)}),addEventListener(tr,function(b){b=b.detail,k||w(b)}));var A,k=!1,L=function(){};return typeof BroadcastChannel<"u"&&((L=function(){(A=new BroadcastChannel(tr)).onmessage=function(b){return b.data&&w(b.data)}})(),typeof A.unref=="function"&&A.unref(),Kr(xa,function(b){k||A.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!Ui.disableBfCache&&b.persisted){Xt&&console.debug("Dexie: handling persisted pagehide"),A?.close();for(var T=0,B=hn;T<B.length;T++)B[T].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!Ui.disableBfCache&&b.persisted&&(Xt&&console.debug("Dexie: handling persisted pageshow"),L(),w({all:new Oa(-1/0,[[]])}))})),Ft.rejectionMapper=function(b,T){return!b||b instanceof Z||b instanceof TypeError||b instanceof SyntaxError||!b.name||!jt[b.name]?b:(T=new jt[b.name](T||b.message,b),"stack"in b&&C(T,"stack",{get:function(){return this.inner.stack}}),T)},Zt(Xt),r(Ui,Object.freeze({__proto__:null,Dexie:Ui,liveQuery:s,Entity:fr,cmp:Or,PropModification:Zi,replacePrefix:function(b,T){return new Zi({replacePrefix:[b,T]})},add:function(b){return new Zi({add:b})},remove:function(b){return new Zi({remove:b})},default:Ui,RangeSet:Oa,mergeRanges:Fs,rangesOverlap:Ni}),{default:Ui}),Ui})})(mp)),mp.exports}var Qk=qk();const q2=F0(Qk),f3=Symbol.for("Dexie"),Dd=globalThis[f3]||(globalThis[f3]=q2);if(q2.semVer!==Dd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${q2.semVer} and ${Dd.semVer}`);const{liveQuery:fZ,mergeRanges:hZ,rangesOverlap:dZ,RangeSet:gZ,cmp:pZ,Entity:mZ,PropModification:vZ,replacePrefix:yZ,add:xZ,remove:bZ,DexieYProvider:wZ}=Dd;function Jk(e,t,n){var r,o;typeof e=="function"?(r=t||[],o=n):(r=[],o=t);var c=Dn.useRef({hasResult:!1,result:o,error:null}),y=Dn.useReducer(function(u){return u+1},0);y[0];var d=y[1],a=Dn.useMemo(function(){var u=typeof e=="function"?e():e;if(!u||typeof u.subscribe!="function")throw e===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!c.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")c.current.result=u.getValue(),c.current.hasResult=!0;else{var v=u.subscribe(function(f){c.current.result=f,c.current.hasResult=!0});typeof v=="function"?v():v.unsubscribe()}return u},r);if(Dn.useDebugValue(c.current.result),Dn.useEffect(function(){var u=a.subscribe(function(v){var f=c.current;(f.error!==null||f.result!==v)&&(f.error=null,f.result=v,f.hasResult=!0,d())},function(v){var f=c.current;f.error!==v&&(f.error=v,d())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),c.current.error)throw c.current.error;return c.current.result}function dm(e,t,n){return Jk(function(){return Dd.liveQuery(e)},t||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Dd.DexieYProvider;t&&t.release(e)});class $k extends Dd{memos;comments;constructor(){super("HandMemoDB"),this.version(1).stores({memos:"++id, title, *tags, modelId, createdAt, updatedAt",models:"++id, name",comments:"++id, memoId, createdAt"}),this.version(2).stores({models:"++id, name, order"}),this.version(3).stores({memos:"++id, title, *tags, modelId, createdAt, updatedAt, threadId"}),this.version(4).stores({books:"++id, title, status, createdAt",memos:"++id, bookId, title, *tags, modelId, createdAt, updatedAt, threadId"}),this.version(5).stores({memos:"++id, bookId, title, *tags, modelId, createdAt, updatedAt, threadId, type"}),this.version(6).stores({memos:"++id, bookId, title, *tags, createdAt, updatedAt, threadId, type",models:null}),this.version(7).stores({books:null})}}const ro=new $k;var xS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h3=Dn.createContext&&Dn.createContext(xS),e_=["attr","size","title"];function t_(e,t){if(e==null)return{};var n=n_(e,t),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)r=c[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n_(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(this,arguments)}function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(r){r_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r_(e,t,n){return t=i_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i_(e){var t=a_(e,"string");return typeof t=="symbol"?t:t+""}function a_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bS(e){return e&&e.map((t,n)=>Dn.createElement(t.tag,Ip({key:n},t.attr),bS(t.child)))}function Qr(e){return t=>Dn.createElement(o_,Op({attr:Ip({},e.attr)},t),bS(e.child))}function o_(e){var t=n=>{var{attr:r,size:o,title:c}=e,y=t_(e,e_),d=o||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),Dn.createElement("svg",Op({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,y,{className:a,style:Ip(Ip({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&Dn.createElement("title",null,c),e.children)};return h3!==void 0?Dn.createElement(h3.Consumer,null,n=>t(n)):t(xS)}function rx(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function wS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function s_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function l_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"16 12 12 8 8 12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"8"},child:[]}]})(e)}function u_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function c_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Ug(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function CS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]}]})(e)}function f_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(e)}function Rp(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function SS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function ES(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function h_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function d_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function g_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(e)}function p_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function m_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function ix(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function v_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function AS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"},child:[]},{tag:"path",attr:{d:"M13 13l6 6"},child:[]}]})(e)}function y_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(e)}function TS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function x_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function DS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(e)}function kS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"path",attr:{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"},child:[]}]})(e)}function _S(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function b_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function MS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function OS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function IS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]}]})(e)}function w_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function qh(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function RS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]}]})(e)}function NS(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(e)}function C_(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function tg(e){return Qr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function S_(e){return Qr({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zM2 4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M13 10.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm0-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-5 0A.25.25 0 0 1 8.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 8 8.75zm2 0a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25zm1 2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-5-2A.25.25 0 0 1 6.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 6 8.75zm-2 0A.25.25 0 0 1 4.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 4 8.75zm-2 0A.25.25 0 0 1 2.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 2 8.75zm11-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-2 0a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm-2 0A.25.25 0 0 1 9.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 9 6.75zm-2 0A.25.25 0 0 1 7.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 7 6.75zm-2 0A.25.25 0 0 1 5.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 5 6.75zm-3 0A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 6.75zm0 4a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm2 0a.25.25 0 0 1 .25-.25h5.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-5.5a.25.25 0 0 1-.25-.25z"},child:[]}]})(e)}const E_="modulepreload",A_=function(e){return"/HandMemo/"+e},g3={},T_=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let u=function(v){return Promise.all(v.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var y=u;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),a=d?.nonce||d?.getAttribute("nonce");o=u(n.map(v=>{if(v=A_(v),v in g3)return;g3[v]=!0;const f=v.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${g}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":E_,f||(m.as="script"),m.crossOrigin="",m.href=v,a&&m.setAttribute("nonce",a),document.head.appendChild(m),f)return new Promise((C,D)=>{m.addEventListener("load",C),m.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(d){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=d,window.dispatchEvent(a),!a.defaultPrevented)throw d}return o.then(d=>{for(const a of d||[])a.status==="rejected"&&c(a.reason);return t().catch(c)})};function D_(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:c,onRegisterError:y}=e;let d,a,u;const v=async(g=!0)=>{await a,u?.()};async function f(){if("serviceWorker"in navigator){if(d=await T_(async()=>{const{Workbox:g}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:g}},[]).then(({Workbox:g})=>new g("/HandMemo/sw.js",{scope:"/HandMemo/",type:"classic"})).catch(g=>{y?.(g)}),!d)return;u=()=>{d?.messageSkipWaiting()};{let g=!1;const m=()=>{g=!0,d?.addEventListener("controlling",C=>{C.isUpdate&&window.location.reload()}),n?.()};d.addEventListener("installed",C=>{typeof C.isUpdate>"u"?typeof C.isExternal<"u"&&C.isExternal?m():!g&&r?.():C.isUpdate||r?.()}),d.addEventListener("waiting",m)}d.register({immediate:t}).then(g=>{c?c("/HandMemo/sw.js",g):o?.(g)}).catch(g=>{y?.(g)})}}return a=f(),v}function k_(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:c,onRegisterError:y}=e,[d,a]=Re.useState(!1),[u,v]=Re.useState(!1),[f]=Re.useState(()=>D_({immediate:t,onOfflineReady(){v(!0),r?.()},onNeedRefresh(){a(!0),n?.()},onRegistered:o,onRegisteredSW:c,onRegisterError:y}));return{needRefresh:[d,a],offlineReady:[u,v],updateServiceWorker:f}}const __=sn.div`
  position: fixed;
  top: ${e=>e.$top}px;
  left: ${e=>e.$left}px;
  transform: translateX(-50%);
  padding: 2px 6px;
  background-color: #333; // Dark background
  color: #fff;
  border-radius: 4px;
  font-size: 0.65rem;
  white-space: nowrap;
  pointer-events: none;
  z-index: 9999;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  margin-top: -8px; // Offset slightly above
  opacity: 1;
  visibility: visible;
  
  // Triangle arrow
  &::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -4px;
    border-width: 4px;
    border-style: solid;
    border-color: #333 transparent transparent transparent;
  }
`,od=({content:e,children:t,hoverDelay:n=200,touchDelay:r=500})=>{const[o,c]=Re.useState(!1),[y,d]=Re.useState({top:0,left:0}),a=Re.useRef(null),u=Re.useRef(null),v=()=>{if(u.current){const D=u.current.getBoundingClientRect();d({top:D.top-8,left:D.left+D.width/2})}},f=()=>{a.current=window.setTimeout(()=>{v(),c(!0)},n)},g=()=>{a.current&&(clearTimeout(a.current),a.current=null),c(!1)},m=()=>{a.current=window.setTimeout(()=>{v(),c(!0)},r)},C=()=>{a.current&&(clearTimeout(a.current),a.current=null),setTimeout(()=>c(!1),1500)};return Re.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]),te.jsxs(te.Fragment,{children:[te.jsx("div",{ref:u,onMouseEnter:f,onMouseLeave:g,onTouchStart:m,onTouchEnd:C,style:{display:"inline-flex"},onContextMenu:D=>{o&&D.preventDefault()},children:t}),o&&om.createPortal(te.jsx(__,{$top:y.top,$left:y.left,children:e}),document.body)]})},M_=(e,t,n)=>{const r=document.createElement("a"),o=new Blob([e],{type:n});r.href=URL.createObjectURL(o),r.download=t,r.click()},LS=async e=>{let t=await ro.memos.toArray(),n=await ro.comments.toArray();return e&&e.length>0&&(t=t.filter(r=>r.id!==void 0&&e.includes(r.id)),n=n.filter(r=>e.includes(r.memoId))),{version:1,timestamp:new Date().toISOString(),memos:t,comments:n}},p3=async(e,t)=>{let n=await LS(e),r=t;r||(r=e&&e.length>0?`handmemo-partial-${new Date().toISOString().slice(0,10)}.json`:`handmemo-backup-${new Date().toISOString().slice(0,10)}.json`),r.toLowerCase().endsWith(".json")||(r+=".json"),M_(JSON.stringify(n,null,2),r,"application/json")},O_=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=async o=>{try{const c=o.target?.result,y=JSON.parse(c);await BS(y),t()}catch(c){n(c)}},r.readAsText(e)}),BS=async e=>{if(!e.memos&&!e.logs&&!e.books)throw new Error("Invalid backup file format");const t=e.memos||e.logs||[];await ro.transaction("rw",ro.memos,ro.comments,async()=>{const n=new Map;for(const r of t){const o=r.id,c=typeof r.createdAt=="string"?new Date(r.createdAt):r.createdAt;let d=(await ro.memos.where("title").equals(r.title).toArray()).find(a=>Math.abs(a.createdAt.getTime()-c.getTime())<5e3);if(d)n.set(o,d.id);else{const{id:a,...u}=r;u.createdAt=c,u.updatedAt=typeof r.updatedAt=="string"?new Date(r.updatedAt):r.updatedAt,delete u.bookId;const v=await ro.memos.add(u);n.set(o,v)}}if(e.comments)for(const r of e.comments){const{id:o,...c}=r;c.createdAt=typeof r.createdAt=="string"?new Date(r.createdAt):r.createdAt,c.updatedAt=typeof r.updatedAt=="string"?new Date(r.updatedAt):r.updatedAt;const y=r.memoId!==void 0?r.memoId:r.logId;y&&n.has(y)&&(c.memoId=n.get(y),delete c.logId,(await ro.comments.where("memoId").equals(c.memoId).toArray()).some(u=>u.content===c.content&&Math.abs(u.createdAt.getTime()-c.createdAt.getTime())<5e3)||await ro.comments.add(c))}})};function I_(e){let n=0;const r=e.length;let o="";for(;n<r;){const c=e.subarray(n,Math.min(n+32768,r));o+=String.fromCharCode(...c),n+=32768}return btoa(o)}function R_(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}async function N_(e,t){const n=new TextEncoder,r=n.encode(e),o=crypto.getRandomValues(new Uint8Array(16)),c=await crypto.subtle.importKey("raw",n.encode(t),{name:"PBKDF2"},!1,["deriveKey"]),y=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},c,{name:"AES-GCM",length:256},!1,["encrypt"]),d=crypto.getRandomValues(new Uint8Array(12)),a=await crypto.subtle.encrypt({name:"AES-GCM",iv:d},y,r),u=new Uint8Array(o.length+d.length+a.byteLength);return u.set(o,0),u.set(d,o.length),u.set(new Uint8Array(a),o.length+d.length),I_(u)}async function L_(e,t){const n=new TextEncoder,r=R_(e),o=r.slice(0,16),c=r.slice(16,28),y=r.slice(28),d=await crypto.subtle.importKey("raw",n.encode(t),{name:"PBKDF2"},!1,["deriveKey"]),a=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},d,{name:"AES-GCM",length:256},!1,["decrypt"]),u=await crypto.subtle.decrypt({name:"AES-GCM",iv:c},a,y);return new TextDecoder().decode(u)}const Np=e=>e.trim().replace(/[^a-zA-Z0-9_-]/g,"-"),m3="https://ntfy.sh",B_="wss://ntfy.sh";class FS{options;ws=null;roomId=null;isHost=!1;lastMessageId=null;isSyncing=!1;instanceId=Math.random().toString(36).substring(2,10);constructor(t){this.options=t}async initialize(t){return this.isHost=!0,this.roomId=Np(t),await this.analyzeSyncData(),this.options.onStatusChange("connecting","Connecting to relay..."),await this.connectRelay(),this.options.onStatusChange("ready",`Room ID: ${this.roomId}`),this.roomId}async analyzeSyncData(){if(this.options.onSyncInfo)try{if(this.options.initialDataMemoId){const n=await ro.memos.get(this.options.initialDataMemoId);if(n){if(n.threadId){const r=await ro.memos.where("threadId").equals(n.threadId).count();if((await ro.memos.where("threadId").equals(n.threadId).sortBy("threadOrder"))[0]?.id===n.id&&r>1){this.options.onSyncInfo({type:"thread",count:r,label:n.title});return}}this.options.onSyncInfo({type:"single",count:1,label:n.title});return}}const t=await ro.memos.count();this.options.onSyncInfo({type:"full",count:t,label:`${t} Memos`})}catch(t){console.error("Failed to analyze sync data",t)}}async connect(t){this.isHost=!1,this.roomId=Np(t),this.options.onStatusChange("connecting","Connecting to relay..."),await this.connectRelay(),this.options.onStatusChange("syncing","Requesting data..."),await this.sendRelayMessage({type:"join"})}async connectRelay(){return this.ws&&this.ws.close(),new Promise((t,n)=>{const r=`${B_}/${this.roomId}/ws`,o=setTimeout(()=>{this.ws&&this.ws.readyState!==WebSocket.OPEN&&(this.ws.close(),n(new Error("Relay connection timeout")))},1e4);this.ws=new WebSocket(r),this.ws.onopen=()=>{clearTimeout(o),console.log("Relay connected"),t()},this.ws.onmessage=async c=>{try{const y=JSON.parse(c.data);if(y.event==="message"){if(y.tags&&y.tags.includes(`inst_${this.instanceId}`)){console.log("Ignoring own message");return}if(y.id===this.lastMessageId)return;this.lastMessageId=y.id,await this.handleRelayMessage(y)}}catch{}},this.ws.onerror=c=>{clearTimeout(o),console.error("Relay error:",c),this.options.onStatusChange("error","Relay connection failed"),n(c)},this.ws.onclose=()=>{clearTimeout(o),console.log("Relay disconnected"),this.roomId&&this.options.onStatusChange("disconnected","Relay disconnected")}})}async handleRelayMessage(t){if(t.attachment){console.log("Received attachment:",t.attachment.url),this.options.onStatusChange("syncing","Downloading data..."),await this.downloadAndProcessAttachment(t.attachment.url);return}let n;try{n=JSON.parse(t.message)}catch{return}switch(console.log("Received relay message:",n.type),n.type){case"join":this.isHost&&(console.log("Client joined, sending data..."),this.options.onStatusChange("connected","Client joined!"),setTimeout(()=>this.syncData(),1e3));break;case"sync_data":n.data&&(this.options.onStatusChange("syncing","Decrypting data..."),await this.processReceivedEncodedData(n.data));break}}async syncData(){if(!(!this.roomId||this.isSyncing))try{this.isSyncing=!0,this.options.onStatusChange("syncing","Preparing data...");let t;if(this.options.initialDataMemoId){const y=await ro.memos.get(this.options.initialDataMemoId);if(y&&y.threadId){const d=await ro.memos.where("threadId").equals(y.threadId).sortBy("threadOrder");d.length>0&&d[0].id===y.id?t=d.map(a=>a.id):t=[this.options.initialDataMemoId]}else t=[this.options.initialDataMemoId]}const n=await LS(t),r=JSON.stringify(n);this.options.onStatusChange("syncing","Encrypting...");const o=await N_(r,this.roomId),c=(t?"PARTIAL:":"FULL:")+o;c.length>2e3?(this.options.onStatusChange("syncing","Uploading attachment..."),await this.sendRelayAttachment(c)):(this.options.onStatusChange("syncing","Sending message..."),await this.sendRelayMessage({type:"sync_data",data:c})),console.log("Data sent to relay"),this.options.initialDataMemoId?this.options.onStatusChange("completed","Data sent successfully!"):this.options.onStatusChange("connected","Data sent!")}catch(t){console.error("Sync failed:",t),this.options.onStatusChange("error",`Sync failed: ${t.message}`)}finally{this.isSyncing=!1}}async sendRelayAttachment(t){if(!this.roomId)return;const n=[this.isHost?"host":"client",`inst_${this.instanceId}`];await fetch(`${m3}/${this.roomId}`,{method:"PUT",body:t,headers:{Filename:"sync.enc",Title:"HandMemo Sync Data",Tags:n.join(",")}})}async sendRelayMessage(t){if(this.roomId)try{const n=[this.isHost?"host":"client",`inst_${this.instanceId}`];t.sender=this.isHost?"host":"client",t.instanceId=this.instanceId,await fetch(`${m3}/${this.roomId}`,{method:"POST",body:JSON.stringify(t),headers:{Tags:n.join(",")}})}catch(n){throw console.error("Failed to send relay message:",n),n}}async downloadAndProcessAttachment(t){try{console.log("Downloading attachment from:",t);const n=await fetch(t);if(!n.ok)throw new Error(`Failed to download attachment: ${n.status} ${n.statusText}`);const r=await n.text();console.log("Attachment downloaded, size:",r.length),await this.processReceivedEncodedData(r)}catch(n){console.error("Download error:",n),this.options.onStatusChange("error",`Download failed: ${n.message||n}`)}}async processReceivedEncodedData(t){let n=t,r=!1;try{t.startsWith("PARTIAL:")?(r=!0,n=t.substring(8)):t.startsWith("FULL:")&&(r=!1,n=t.substring(5))}catch(y){this.options.onStatusChange("error",`Pre-processing failed: ${y.message}`);return}let o="";try{this.options.onStatusChange("syncing","Decrypting data..."),o=await L_(n,this.roomId)}catch(y){console.error("Decryption error:",y),this.options.onStatusChange("error",`Decryption failed: ${y.message||"Unknown error"}`);return}let c;try{c=JSON.parse(o);const y=c.memos||c.logs;this.options.onSyncInfo&&y&&(r?y.length>1?this.options.onSyncInfo({type:"thread",count:y.length,label:y[0]?.title||"Combined Memos"}):this.options.onSyncInfo({type:"single",count:1,label:y[0]?.title||"Memo"}):this.options.onSyncInfo({type:"full",count:y.length,label:"Full Backup"}))}catch(y){console.error("JSON Parse error:",y),this.options.onStatusChange("error",`JSON Parse failed: ${y.message}`);return}try{if(this.options.initialDataMemoId&&this.isHost){console.log("In single memo share mode, skipping merge of incoming data."),this.options.onStatusChange("completed","Memo shared successfully!");return}this.options.onStatusChange("syncing","Merging data..."),await BS(c),this.isHost?(this.options.onStatusChange("completed","Sync Completed!"),this.options.onDataReceived()):(r||(this.options.onStatusChange("syncing","Synchronizing back..."),await this.syncData()),this.options.onStatusChange("completed","Sync Completed!"),this.options.onDataReceived())}catch(y){console.error("Merge error:",y),this.options.onStatusChange("error",`Merge failed: ${y.message||y}`)}}destroy(){this.ws&&(this.ws.close(),this.ws=null),this.roomId=null}}function F_(e){return Qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Ov(e){return Qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Iv(e){return Qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function Rv(e){return Qr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Nv(e){return Qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function v3(e){return Qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function PS(e){return Qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function zS(e){return Qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function y3(e){return Qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function P_(e){return Qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function z_(e){return Qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Q2(e){return Qr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function J2(e){return Qr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function HS(e){return Qr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},child:[]}]})(e)}var H_=Object.defineProperty,Lp=Object.getOwnPropertySymbols,US=Object.prototype.hasOwnProperty,jS=Object.prototype.propertyIsEnumerable,x3=(e,t,n)=>t in e?H_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$2=(e,t)=>{for(var n in t||(t={}))US.call(t,n)&&x3(e,n,t[n]);if(Lp)for(var n of Lp(t))jS.call(t,n)&&x3(e,n,t[n]);return e},ey=(e,t)=>{var n={};for(var r in e)US.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lp)for(var r of Lp(e))t.indexOf(r)<0&&jS.call(e,r)&&(n[r]=e[r]);return n};var N0;(e=>{const t=class Xi{constructor(a,u,v,f){if(this.version=a,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],a<Xi.MIN_VERSION||a>Xi.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=a*4+17;let g=[];for(let C=0;C<this.size;C++)g.push(!1);for(let C=0;C<this.size;C++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(v);if(this.drawCodewords(m),f==-1){let C=1e9;for(let D=0;D<8;D++){this.applyMask(D),this.drawFormatBits(D);const S=this.getPenaltyScore();S<C&&(f=D,C=S),this.applyMask(D)}}o(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(a,u){const v=e.QrSegment.makeSegments(a);return Xi.encodeSegments(v,u)}static encodeBinary(a,u){const v=e.QrSegment.makeBytes(a);return Xi.encodeSegments([v],u)}static encodeSegments(a,u,v=1,f=40,g=-1,m=!0){if(!(Xi.MIN_VERSION<=v&&v<=f&&f<=Xi.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let C,D;for(C=v;;C++){const U=Xi.getNumDataCodewords(C,u)*8,W=y.getTotalBits(a,C);if(W<=U){D=W;break}if(C>=f)throw new RangeError("Data too long")}for(const U of[Xi.Ecc.MEDIUM,Xi.Ecc.QUARTILE,Xi.Ecc.HIGH])m&&D<=Xi.getNumDataCodewords(C,U)*8&&(u=U);let S=[];for(const U of a){n(U.mode.modeBits,4,S),n(U.numChars,U.mode.numCharCountBits(C),S);for(const W of U.getData())S.push(W)}o(S.length==D);const O=Xi.getNumDataCodewords(C,u)*8;o(S.length<=O),n(0,Math.min(4,O-S.length),S),n(0,(8-S.length%8)%8,S),o(S.length%8==0);for(let U=236;S.length<O;U^=253)n(U,8,S);let N=[];for(;N.length*8<S.length;)N.push(0);return S.forEach((U,W)=>N[W>>>3]|=U<<7-(W&7)),new Xi(C,u,N,g)}getModule(a,u){return 0<=a&&a<this.size&&0<=u&&u<this.size&&this.modules[u][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),u=a.length;for(let v=0;v<u;v++)for(let f=0;f<u;f++)v==0&&f==0||v==0&&f==u-1||v==u-1&&f==0||this.drawAlignmentPattern(a[v],a[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const u=this.errorCorrectionLevel.formatBits<<3|a;let v=u;for(let g=0;g<10;g++)v=v<<1^(v>>>9)*1335;const f=(u<<10|v)^21522;o(f>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(f,g));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(f,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(f,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(f,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let v=0;v<12;v++)a=a<<1^(a>>>11)*7973;const u=this.version<<12|a;o(u>>>18==0);for(let v=0;v<18;v++){const f=r(u,v),g=this.size-11+v%3,m=Math.floor(v/3);this.setFunctionModule(g,m,f),this.setFunctionModule(m,g,f)}}drawFinderPattern(a,u){for(let v=-4;v<=4;v++)for(let f=-4;f<=4;f++){const g=Math.max(Math.abs(f),Math.abs(v)),m=a+f,C=u+v;0<=m&&m<this.size&&0<=C&&C<this.size&&this.setFunctionModule(m,C,g!=2&&g!=4)}}drawAlignmentPattern(a,u){for(let v=-2;v<=2;v++)for(let f=-2;f<=2;f++)this.setFunctionModule(a+f,u+v,Math.max(Math.abs(f),Math.abs(v))!=1)}setFunctionModule(a,u,v){this.modules[u][a]=v,this.isFunction[u][a]=!0}addEccAndInterleave(a){const u=this.version,v=this.errorCorrectionLevel;if(a.length!=Xi.getNumDataCodewords(u,v))throw new RangeError("Invalid argument");const f=Xi.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][u],g=Xi.ECC_CODEWORDS_PER_BLOCK[v.ordinal][u],m=Math.floor(Xi.getNumRawDataModules(u)/8),C=f-m%f,D=Math.floor(m/f);let S=[];const O=Xi.reedSolomonComputeDivisor(g);for(let U=0,W=0;U<f;U++){let q=a.slice(W,W+D-g+(U<C?0:1));W+=q.length;const J=Xi.reedSolomonComputeRemainder(q,O);U<C&&q.push(0),S.push(q.concat(J))}let N=[];for(let U=0;U<S[0].length;U++)S.forEach((W,q)=>{(U!=D-g||q>=C)&&N.push(W[U])});return o(N.length==m),N}drawCodewords(a){if(a.length!=Math.floor(Xi.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let f=0;f<this.size;f++)for(let g=0;g<2;g++){const m=v-g,D=(v+1&2)==0?this.size-1-f:f;!this.isFunction[D][m]&&u<a.length*8&&(this.modules[D][m]=r(a[u>>>3],7-(u&7)),u++)}}o(u==a.length*8)}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let v=0;v<this.size;v++){let f;switch(a){case 0:f=(v+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=v%3==0;break;case 3:f=(v+u)%3==0;break;case 4:f=(Math.floor(v/3)+Math.floor(u/2))%2==0;break;case 5:f=v*u%2+v*u%3==0;break;case 6:f=(v*u%2+v*u%3)%2==0;break;case 7:f=((v+u)%2+v*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][v]&&f&&(this.modules[u][v]=!this.modules[u][v])}}getPenaltyScore(){let a=0;for(let g=0;g<this.size;g++){let m=!1,C=0,D=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[g][S]==m?(C++,C==5?a+=Xi.PENALTY_N1:C>5&&a++):(this.finderPenaltyAddHistory(C,D),m||(a+=this.finderPenaltyCountPatterns(D)*Xi.PENALTY_N3),m=this.modules[g][S],C=1);a+=this.finderPenaltyTerminateAndCount(m,C,D)*Xi.PENALTY_N3}for(let g=0;g<this.size;g++){let m=!1,C=0,D=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][g]==m?(C++,C==5?a+=Xi.PENALTY_N1:C>5&&a++):(this.finderPenaltyAddHistory(C,D),m||(a+=this.finderPenaltyCountPatterns(D)*Xi.PENALTY_N3),m=this.modules[S][g],C=1);a+=this.finderPenaltyTerminateAndCount(m,C,D)*Xi.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let m=0;m<this.size-1;m++){const C=this.modules[g][m];C==this.modules[g][m+1]&&C==this.modules[g+1][m]&&C==this.modules[g+1][m+1]&&(a+=Xi.PENALTY_N2)}let u=0;for(const g of this.modules)u=g.reduce((m,C)=>m+(C?1:0),u);const v=this.size*this.size,f=Math.ceil(Math.abs(u*20-v*10)/v)-1;return o(0<=f&&f<=9),a+=f*Xi.PENALTY_N4,o(0<=a&&a<=2568888),a}getAlignmentPatternPositions(){if(this.version==1)return[];{const a=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2;let v=[6];for(let f=this.size-7;v.length<a;f-=u)v.splice(1,0,f);return v}}static getNumRawDataModules(a){if(a<Xi.MIN_VERSION||a>Xi.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*a+128)*a+64;if(a>=2){const v=Math.floor(a/7)+2;u-=(25*v-10)*v-55,a>=7&&(u-=36)}return o(208<=u&&u<=29648),u}static getNumDataCodewords(a,u){return Math.floor(Xi.getNumRawDataModules(a)/8)-Xi.ECC_CODEWORDS_PER_BLOCK[u.ordinal][a]*Xi.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<a-1;f++)u.push(0);u.push(1);let v=1;for(let f=0;f<a;f++){for(let g=0;g<u.length;g++)u[g]=Xi.reedSolomonMultiply(u[g],v),g+1<u.length&&(u[g]^=u[g+1]);v=Xi.reedSolomonMultiply(v,2)}return u}static reedSolomonComputeRemainder(a,u){let v=u.map(f=>0);for(const f of a){const g=f^v.shift();v.push(0),u.forEach((m,C)=>v[C]^=Xi.reedSolomonMultiply(m,g))}return v}static reedSolomonMultiply(a,u){if(a>>>8||u>>>8)throw new RangeError("Byte out of range");let v=0;for(let f=7;f>=0;f--)v=v<<1^(v>>>7)*285,v^=(u>>>f&1)*a;return o(v>>>8==0),v}finderPenaltyCountPatterns(a){const u=a[1];o(u<=this.size*3);const v=u>0&&a[2]==u&&a[3]==u*3&&a[4]==u&&a[5]==u;return(v&&a[0]>=u*4&&a[6]>=u?1:0)+(v&&a[6]>=u*4&&a[0]>=u?1:0)}finderPenaltyTerminateAndCount(a,u,v){return a&&(this.finderPenaltyAddHistory(u,v),u=0),u+=this.size,this.finderPenaltyAddHistory(u,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(a,u){u[0]==0&&(a+=this.size),u.pop(),u.unshift(a)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(d,a,u){if(a<0||a>31||d>>>a)throw new RangeError("Value out of range");for(let v=a-1;v>=0;v--)u.push(d>>>v&1)}function r(d,a){return(d>>>a&1)!=0}function o(d){if(!d)throw new Error("Assertion error")}const c=class Ss{constructor(a,u,v){if(this.mode=a,this.numChars=u,this.bitData=v,u<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(a){let u=[];for(const v of a)n(v,8,u);return new Ss(Ss.Mode.BYTE,a.length,u)}static makeNumeric(a){if(!Ss.isNumeric(a))throw new RangeError("String contains non-numeric characters");let u=[];for(let v=0;v<a.length;){const f=Math.min(a.length-v,3);n(parseInt(a.substring(v,v+f),10),f*3+1,u),v+=f}return new Ss(Ss.Mode.NUMERIC,a.length,u)}static makeAlphanumeric(a){if(!Ss.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],v;for(v=0;v+2<=a.length;v+=2){let f=Ss.ALPHANUMERIC_CHARSET.indexOf(a.charAt(v))*45;f+=Ss.ALPHANUMERIC_CHARSET.indexOf(a.charAt(v+1)),n(f,11,u)}return v<a.length&&n(Ss.ALPHANUMERIC_CHARSET.indexOf(a.charAt(v)),6,u),new Ss(Ss.Mode.ALPHANUMERIC,a.length,u)}static makeSegments(a){return a==""?[]:Ss.isNumeric(a)?[Ss.makeNumeric(a)]:Ss.isAlphanumeric(a)?[Ss.makeAlphanumeric(a)]:[Ss.makeBytes(Ss.toUtf8ByteArray(a))]}static makeEci(a){let u=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)n(a,8,u);else if(a<16384)n(2,2,u),n(a,14,u);else if(a<1e6)n(6,3,u),n(a,21,u);else throw new RangeError("ECI assignment value out of range");return new Ss(Ss.Mode.ECI,0,u)}static isNumeric(a){return Ss.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return Ss.ALPHANUMERIC_REGEX.test(a)}getData(){return this.bitData.slice()}static getTotalBits(a,u){let v=0;for(const f of a){const g=f.mode.numCharCountBits(u);if(f.numChars>=1<<g)return 1/0;v+=4+g+f.bitData.length}return v}static toUtf8ByteArray(a){a=encodeURI(a);let u=[];for(let v=0;v<a.length;v++)a.charAt(v)!="%"?u.push(a.charCodeAt(v)):(u.push(parseInt(a.substring(v+1,v+3),16)),v+=2);return u}};c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let y=c;e.QrSegment=c})(N0||(N0={}));(e=>{(t=>{const n=class{constructor(o,c){this.ordinal=o,this.formatBits=c}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(N0||(N0={}));(e=>{(t=>{const n=class{constructor(o,c){this.modeBits=o,this.numBitsCharCount=c}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(N0||(N0={}));var vd=N0;var U_={L:vd.QrCode.Ecc.LOW,M:vd.QrCode.Ecc.MEDIUM,Q:vd.QrCode.Ecc.QUARTILE,H:vd.QrCode.Ecc.HIGH},WS=128,GS="L",YS="#FFFFFF",XS="#000000",VS=!1,KS=1,j_=4,W_=0,G_=.1;function ZS(e,t=0){const n=[];return e.forEach(function(r,o){let c=null;r.forEach(function(y,d){if(!y&&c!==null){n.push(`M${c+t} ${o+t}h${d-c}v1H${c+t}z`),c=null;return}if(d===r.length-1){if(!y)return;c===null?n.push(`M${d+t},${o+t} h1v1H${d+t}z`):n.push(`M${c+t},${o+t} h${d+1-c}v1H${c+t}z`);return}y&&c===null&&(c=d)})}),n.join("")}function qS(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((o,c)=>c<t.x||c>=t.x+t.w?o:!1))}function Y_(e,t,n,r){if(r==null)return null;const o=e.length+n*2,c=Math.floor(t*G_),y=o/t,d=(r.width||c)*y,a=(r.height||c)*y,u=r.x==null?e.length/2-d/2:r.x*y,v=r.y==null?e.length/2-a/2:r.y*y,f=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let C=Math.floor(u),D=Math.floor(v),S=Math.ceil(d+u-C),O=Math.ceil(a+v-D);g={x:C,y:D,w:S,h:O}}const m=r.crossOrigin;return{x:u,y:v,h:a,w:d,excavation:g,opacity:f,crossOrigin:m}}function X_(e,t){return t!=null?Math.max(Math.floor(t),0):e?j_:W_}function QS({value:e,level:t,minVersion:n,includeMargin:r,marginSize:o,imageSettings:c,size:y,boostLevel:d}){let a=Dn.useMemo(()=>{const C=(Array.isArray(e)?e:[e]).reduce((D,S)=>(D.push(...vd.QrSegment.makeSegments(S)),D),[]);return vd.QrCode.encodeSegments(C,U_[t],n,void 0,void 0,d)},[e,t,n,d]);const{cells:u,margin:v,numCells:f,calculatedImageSettings:g}=Dn.useMemo(()=>{let m=a.getModules();const C=X_(r,o),D=m.length+C*2,S=Y_(m,y,C,c);return{cells:m,margin:C,numCells:D,calculatedImageSettings:S}},[a,y,c,r,o]);return{qrcode:a,margin:v,cells:u,numCells:f,calculatedImageSettings:g}}var V_=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),K_=Dn.forwardRef(function(t,n){const r=t,{value:o,size:c=WS,level:y=GS,bgColor:d=YS,fgColor:a=XS,includeMargin:u=VS,minVersion:v=KS,boostLevel:f,marginSize:g,imageSettings:m}=r,D=ey(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:S}=D,O=ey(D,["style"]),N=m?.src,U=Dn.useRef(null),W=Dn.useRef(null),q=Dn.useCallback(ut=>{U.current=ut,typeof n=="function"?n(ut):n&&(n.current=ut)},[n]),[J,ne]=Dn.useState(!1),{margin:ve,cells:Se,numCells:Be,calculatedImageSettings:Ue}=QS({value:o,level:y,minVersion:v,boostLevel:f,includeMargin:u,marginSize:g,imageSettings:m,size:c});Dn.useEffect(()=>{if(U.current!=null){const ut=U.current,ge=ut.getContext("2d");if(!ge)return;let me=Se;const Ie=W.current,lt=Ue!=null&&Ie!==null&&Ie.complete&&Ie.naturalHeight!==0&&Ie.naturalWidth!==0;lt&&Ue.excavation!=null&&(me=qS(Se,Ue.excavation));const Me=window.devicePixelRatio||1;ut.height=ut.width=c*Me;const ue=c/Be*Me;ge.scale(ue,ue),ge.fillStyle=d,ge.fillRect(0,0,Be,Be),ge.fillStyle=a,V_?ge.fill(new Path2D(ZS(me,ve))):Se.forEach(function(ce,oe){ce.forEach(function(Z,be){Z&&ge.fillRect(be+ve,oe+ve,1,1)})}),Ue&&(ge.globalAlpha=Ue.opacity),lt&&ge.drawImage(Ie,Ue.x+ve,Ue.y+ve,Ue.w,Ue.h)}}),Dn.useEffect(()=>{ne(!1)},[N]);const qe=$2({height:c,width:c},S);let mt=null;return N!=null&&(mt=Dn.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{ne(!0)},ref:W,crossOrigin:Ue?.crossOrigin})),Dn.createElement(Dn.Fragment,null,Dn.createElement("canvas",$2({style:qe,height:c,width:c,ref:q,role:"img"},O)),mt)});K_.displayName="QRCodeCanvas";var ax=Dn.forwardRef(function(t,n){const r=t,{value:o,size:c=WS,level:y=GS,bgColor:d=YS,fgColor:a=XS,includeMargin:u=VS,minVersion:v=KS,boostLevel:f,title:g,marginSize:m,imageSettings:C}=r,D=ey(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:S,cells:O,numCells:N,calculatedImageSettings:U}=QS({value:o,level:y,minVersion:v,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:C,size:c});let W=O,q=null;C!=null&&U!=null&&(U.excavation!=null&&(W=qS(O,U.excavation)),q=Dn.createElement("image",{href:C.src,height:U.h,width:U.w,x:U.x+S,y:U.y+S,preserveAspectRatio:"none",opacity:U.opacity,crossOrigin:U.crossOrigin}));const J=ZS(W,S);return Dn.createElement("svg",$2({height:c,width:c,viewBox:`0 0 ${N} ${N}`,ref:n,role:"img"},D),!!g&&Dn.createElement("title",null,g),Dn.createElement("path",{fill:d,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),Dn.createElement("path",{fill:a,d:J,shapeRendering:"crispEdges"}),q)});ax.displayName="QRCodeSVG";var ir;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ir||(ir={}));var b3=new Map([[ir.QR_CODE,"QR_CODE"],[ir.AZTEC,"AZTEC"],[ir.CODABAR,"CODABAR"],[ir.CODE_39,"CODE_39"],[ir.CODE_93,"CODE_93"],[ir.CODE_128,"CODE_128"],[ir.DATA_MATRIX,"DATA_MATRIX"],[ir.MAXICODE,"MAXICODE"],[ir.ITF,"ITF"],[ir.EAN_13,"EAN_13"],[ir.EAN_8,"EAN_8"],[ir.PDF_417,"PDF_417"],[ir.RSS_14,"RSS_14"],[ir.RSS_EXPANDED,"RSS_EXPANDED"],[ir.UPC_A,"UPC_A"],[ir.UPC_E,"UPC_E"],[ir.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),w3;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(w3||(w3={}));function Z_(e){return Object.values(ir).includes(e)}var Qh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Qh||(Qh={}));var nf=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Qh.SCAN_TYPE_CAMERA,Qh.SCAN_TYPE_FILE],e})(),JS=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!b3.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,b3.get(t))},e})(),C3=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),ty;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ty||(ty={}));var $S=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ty.UNKWOWN_ERROR}},e})(),e8=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Of(e){return typeof e>"u"||e===null}function q_(e,t,n){return e>n?n:e<t?t:e}var yd=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Xa=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),S3=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),t8=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(o),y=Object.keys(t),d=0,a=y;d<a.length;d++){var u=a[d];if(c.has(u))return n.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e})(),D1={exports:{}},Q_=D1.exports,E3;function J_(){return E3||(E3=1,(function(e,t){(function(n,r){r(t)})(Q_,(function(n){function r(_e){return _e==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,s){_e.__proto__=s}||function(_e,s){for(var p in s)s.hasOwnProperty(p)&&(_e[p]=s[p])};function c(_e,s){o(_e,s);function p(){this.constructor=_e}_e.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}function y(_e,s){var p=Object.setPrototypeOf;p?p(_e,s):_e.__proto__=s}function d(_e,s){s===void 0&&(s=_e.constructor);var p=Error.captureStackTrace;p&&p(_e,s)}var a=(function(_e){c(s,_e);function s(p){var w=this.constructor,A=_e.call(this,p)||this;return Object.defineProperty(A,"name",{value:w.name,enumerable:!1}),y(A,w.prototype),d(A),A}return s})(Error);class u extends a{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}u.kind="Exception";class v extends u{}v.kind="ArgumentException";class f extends u{}f.kind="IllegalArgumentException";class g{constructor(s){if(this.binarizer=s,s===null)throw new f("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,p){return this.binarizer.getBlackRow(s,p)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,p,w,A){const k=this.binarizer.getLuminanceSource().crop(s,p,w,A);return new g(this.binarizer.createBinarizer(k))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new g(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new g(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class m extends u{static getChecksumInstance(){return new m}}m.kind="ChecksumException";class C{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(s,p,w,A,k){for(;k--;)w[A++]=s[p++]}static currentTimeMillis(){return Date.now()}}class S extends u{}S.kind="IndexOutOfBoundsException";class O extends S{constructor(s=void 0,p=void 0){super(p),this.index=s,this.message=p}}O.kind="ArrayIndexOutOfBoundsException";class N{static fill(s,p){for(let w=0,A=s.length;w<A;w++)s[w]=p}static fillWithin(s,p,w,A){N.rangeCheck(s.length,p,w);for(let k=p;k<w;k++)s[k]=A}static rangeCheck(s,p,w){if(p>w)throw new f("fromIndex("+p+") > toIndex("+w+")");if(p<0)throw new O(p);if(w>s)throw new O(w)}static asList(...s){return s}static create(s,p,w){return Array.from({length:s}).map(k=>Array.from({length:p}).fill(w))}static createInt32Array(s,p,w){return Array.from({length:s}).map(k=>Int32Array.from({length:p}).fill(w))}static equals(s,p){if(!s||!p||!s.length||!p.length||s.length!==p.length)return!1;for(let w=0,A=s.length;w<A;w++)if(s[w]!==p[w])return!1;return!0}static hashCode(s){if(s===null)return 0;let p=1;for(const w of s)p=31*p+w;return p}static fillUint8Array(s,p){for(let w=0;w!==s.length;w++)s[w]=p}static copyOf(s,p){return s.slice(0,p)}static copyOfUint8Array(s,p){if(s.length<=p){const w=new Uint8Array(p);return w.set(s),w}return s.slice(0,p)}static copyOfRange(s,p,w){const A=w-p,k=new Int32Array(A);return D.arraycopy(s,p,k,0,A),k}static binarySearch(s,p,w){w===void 0&&(w=N.numberComparator);let A=0,k=s.length-1;for(;A<=k;){const L=k+A>>1,b=w(p,s[L]);if(b>0)A=L+1;else if(b<0)k=L-1;else return L}return-A-1}static numberComparator(s,p){return s-p}}class U{static numberOfTrailingZeros(s){let p;if(s===0)return 32;let w=31;return p=s<<16,p!==0&&(w-=16,s=p),p=s<<8,p!==0&&(w-=8,s=p),p=s<<4,p!==0&&(w-=4,s=p),p=s<<2,p!==0&&(w-=2,s=p),w-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let p=1;return s>>>16||(p+=16,s<<=16),s>>>24||(p+=8,s<<=8),s>>>28||(p+=4,s<<=4),s>>>30||(p+=2,s<<=2),p-=s>>>31,p}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,p){return Math.trunc(s/p)}static parseInt(s,p=void 0){return parseInt(s,p)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(s,p){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,p==null?this.bits=W.makeArray(s):this.bits=p)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const p=W.makeArray(s);D.arraycopy(this.bits,0,p,0,this.bits.length),this.bits=p}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const p=this.size;if(s>=p)return p;const w=this.bits;let A=Math.floor(s/32),k=w[A];k&=~((1<<(s&31))-1);const L=w.length;for(;k===0;){if(++A===L)return p;k=w[A]}const b=A*32+U.numberOfTrailingZeros(k);return b>p?p:b}getNextUnset(s){const p=this.size;if(s>=p)return p;const w=this.bits;let A=Math.floor(s/32),k=~w[A];k&=~((1<<(s&31))-1);const L=w.length;for(;k===0;){if(++A===L)return p;k=~w[A]}const b=A*32+U.numberOfTrailingZeros(k);return b>p?p:b}setBulk(s,p){this.bits[Math.floor(s/32)]=p}setRange(s,p){if(p<s||s<0||p>this.size)throw new f;if(p===s)return;p--;const w=Math.floor(s/32),A=Math.floor(p/32),k=this.bits;for(let L=w;L<=A;L++){const b=L>w?0:s&31,B=(2<<(L<A?31:p&31))-(1<<b);k[L]|=B}}clear(){const s=this.bits.length,p=this.bits;for(let w=0;w<s;w++)p[w]=0}isRange(s,p,w){if(p<s||s<0||p>this.size)throw new f;if(p===s)return!0;p--;const A=Math.floor(s/32),k=Math.floor(p/32),L=this.bits;for(let b=A;b<=k;b++){const T=b>A?0:s&31,j=(2<<(b<k?31:p&31))-(1<<T)&4294967295;if((L[b]&j)!==(w?j:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,p){if(p<0||p>32)throw new f("Num bits must be between 0 and 32");this.ensureCapacity(this.size+p);for(let w=p;w>0;w--)this.appendBit((s>>w-1&1)===1)}appendBitArray(s){const p=s.size;this.ensureCapacity(this.size+p);for(let w=0;w<p;w++)this.appendBit(s.get(w))}xor(s){if(this.size!==s.size)throw new f("Sizes don't match");const p=this.bits;for(let w=0,A=p.length;w<A;w++)p[w]^=s.bits[w]}toBytes(s,p,w,A){for(let k=0;k<A;k++){let L=0;for(let b=0;b<8;b++)this.get(s)&&(L|=1<<7-b),s++;p[w+k]=L}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),p=Math.floor((this.size-1)/32),w=p+1,A=this.bits;for(let k=0;k<w;k++){let L=A[k];L=L>>1&1431655765|(L&1431655765)<<1,L=L>>2&858993459|(L&858993459)<<2,L=L>>4&252645135|(L&252645135)<<4,L=L>>8&16711935|(L&16711935)<<8,L=L>>16&65535|(L&65535)<<16,s[p-k]=L}if(this.size!==w*32){const k=w*32-this.size;let L=s[0]>>>k;for(let b=1;b<w;b++){const T=s[b];L|=T<<32-k,s[b-1]=L,L=T>>>k}s[w-1]=L}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof W))return!1;const p=s;return this.size===p.size&&N.equals(this.bits,p.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let s="";for(let p=0,w=this.size;p<w;p++)(p&7)===0&&(s+=" "),s+=this.get(p)?"X":".";return s}clone(){return new W(this.size,this.bits.slice())}}var q;(function(_e){_e[_e.OTHER=0]="OTHER",_e[_e.PURE_BARCODE=1]="PURE_BARCODE",_e[_e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_e[_e.TRY_HARDER=3]="TRY_HARDER",_e[_e.CHARACTER_SET=4]="CHARACTER_SET",_e[_e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_e[_e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_e[_e.ASSUME_GS1=7]="ASSUME_GS1",_e[_e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_e[_e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_e[_e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var J=q;class ne extends u{static getFormatInstance(){return new ne}}ne.kind="FormatException";var ve;(function(_e){_e[_e.Cp437=0]="Cp437",_e[_e.ISO8859_1=1]="ISO8859_1",_e[_e.ISO8859_2=2]="ISO8859_2",_e[_e.ISO8859_3=3]="ISO8859_3",_e[_e.ISO8859_4=4]="ISO8859_4",_e[_e.ISO8859_5=5]="ISO8859_5",_e[_e.ISO8859_6=6]="ISO8859_6",_e[_e.ISO8859_7=7]="ISO8859_7",_e[_e.ISO8859_8=8]="ISO8859_8",_e[_e.ISO8859_9=9]="ISO8859_9",_e[_e.ISO8859_10=10]="ISO8859_10",_e[_e.ISO8859_11=11]="ISO8859_11",_e[_e.ISO8859_13=12]="ISO8859_13",_e[_e.ISO8859_14=13]="ISO8859_14",_e[_e.ISO8859_15=14]="ISO8859_15",_e[_e.ISO8859_16=15]="ISO8859_16",_e[_e.SJIS=16]="SJIS",_e[_e.Cp1250=17]="Cp1250",_e[_e.Cp1251=18]="Cp1251",_e[_e.Cp1252=19]="Cp1252",_e[_e.Cp1256=20]="Cp1256",_e[_e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_e[_e.UTF8=22]="UTF8",_e[_e.ASCII=23]="ASCII",_e[_e.Big5=24]="Big5",_e[_e.GB18030=25]="GB18030",_e[_e.EUC_KR=26]="EUC_KR"})(ve||(ve={}));class Se{constructor(s,p,w,...A){this.valueIdentifier=s,this.name=w,typeof p=="number"?this.values=Int32Array.from([p]):this.values=p,this.otherEncodingNames=A,Se.VALUE_IDENTIFIER_TO_ECI.set(s,this),Se.NAME_TO_ECI.set(w,this);const k=this.values;for(let L=0,b=k.length;L!==b;L++){const T=k[L];Se.VALUES_TO_ECI.set(T,this)}for(const L of A)Se.NAME_TO_ECI.set(L,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new ne("incorect value");const p=Se.VALUES_TO_ECI.get(s);if(p===void 0)throw new ne("incorect value");return p}static getCharacterSetECIByName(s){const p=Se.NAME_TO_ECI.get(s);if(p===void 0)throw new ne("incorect value");return p}equals(s){if(!(s instanceof Se))return!1;const p=s;return this.getName()===p.getName()}}Se.VALUE_IDENTIFIER_TO_ECI=new Map,Se.VALUES_TO_ECI=new Map,Se.NAME_TO_ECI=new Map,Se.Cp437=new Se(ve.Cp437,Int32Array.from([0,2]),"Cp437"),Se.ISO8859_1=new Se(ve.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Se.ISO8859_2=new Se(ve.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Se.ISO8859_3=new Se(ve.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Se.ISO8859_4=new Se(ve.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Se.ISO8859_5=new Se(ve.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Se.ISO8859_6=new Se(ve.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Se.ISO8859_7=new Se(ve.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Se.ISO8859_8=new Se(ve.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Se.ISO8859_9=new Se(ve.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Se.ISO8859_10=new Se(ve.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Se.ISO8859_11=new Se(ve.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Se.ISO8859_13=new Se(ve.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Se.ISO8859_14=new Se(ve.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Se.ISO8859_15=new Se(ve.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Se.ISO8859_16=new Se(ve.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Se.SJIS=new Se(ve.SJIS,20,"SJIS","Shift_JIS"),Se.Cp1250=new Se(ve.Cp1250,21,"Cp1250","windows-1250"),Se.Cp1251=new Se(ve.Cp1251,22,"Cp1251","windows-1251"),Se.Cp1252=new Se(ve.Cp1252,23,"Cp1252","windows-1252"),Se.Cp1256=new Se(ve.Cp1256,24,"Cp1256","windows-1256"),Se.UnicodeBigUnmarked=new Se(ve.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Se.UTF8=new Se(ve.UTF8,26,"UTF8","UTF-8"),Se.ASCII=new Se(ve.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Se.Big5=new Se(ve.Big5,28,"Big5"),Se.GB18030=new Se(ve.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Se.EUC_KR=new Se(ve.EUC_KR,30,"EUC_KR","EUC-KR");class Be extends u{}Be.kind="UnsupportedOperationException";class Ue{static decode(s,p){const w=this.encodingName(p);return this.customDecoder?this.customDecoder(s,w):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(w)?this.decodeFallback(s,w):new TextDecoder(w).decode(s)}static shouldDecodeOnFallback(s){return!Ue.isBrowser()&&s==="ISO-8859-1"}static encode(s,p){const w=this.encodingName(p);return this.customEncoder?this.customEncoder(s,w):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof Se?s:Se.getCharacterSetECIByName(s)}static decodeFallback(s,p){const w=this.encodingCharacterSet(p);if(Ue.isDecodeFallbackSupported(w)){let A="";for(let k=0,L=s.length;k<L;k++){let b=s[k].toString(16);b.length<2&&(b="0"+b),A+="%"+b}return decodeURIComponent(A)}if(w.equals(Se.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Be(`Encoding ${this.encodingName(p)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(Se.UTF8)||s.equals(Se.ISO8859_1)||s.equals(Se.ASCII)}static encodeFallback(s){const w=btoa(unescape(encodeURIComponent(s))).split(""),A=[];for(let k=0;k<w.length;k++)A.push(w[k].charCodeAt(0));return new Uint8Array(A)}}class qe{static castAsNonUtf8Char(s,p=null){const w=p?p.getName():this.ISO88591;return Ue.decode(new Uint8Array([s]),w)}static guessEncoding(s,p){if(p!=null&&p.get(J.CHARACTER_SET)!==void 0)return p.get(J.CHARACTER_SET).toString();const w=s.length;let A=!0,k=!0,L=!0,b=0,T=0,B=0,j=0,V=0,ee=0,he=0,Ae=0,Oe=0,Le=0,Xe=0;const Ke=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ot=0;ot<w&&(A||k||L);ot++){const Je=s[ot]&255;L&&(b>0?(Je&128)===0?L=!1:b--:(Je&128)!==0&&((Je&64)===0?L=!1:(b++,(Je&32)===0?T++:(b++,(Je&16)===0?B++:(b++,(Je&8)===0?j++:L=!1))))),A&&(Je>127&&Je<160?A=!1:Je>159&&(Je<192||Je===215||Je===247)&&Xe++),k&&(V>0?Je<64||Je===127||Je>252?k=!1:V--:Je===128||Je===160||Je>239?k=!1:Je>160&&Je<224?(ee++,Ae=0,he++,he>Oe&&(Oe=he)):Je>127?(V++,he=0,Ae++,Ae>Le&&(Le=Ae)):(he=0,Ae=0))}return L&&b>0&&(L=!1),k&&V>0&&(k=!1),L&&(Ke||T+B+j>0)?qe.UTF8:k&&(qe.ASSUME_SHIFT_JIS||Oe>=3||Le>=3)?qe.SHIFT_JIS:A&&k?Oe===2&&ee===2||Xe*10>=w?qe.SHIFT_JIS:qe.ISO88591:A?qe.ISO88591:k?qe.SHIFT_JIS:L?qe.UTF8:qe.PLATFORM_DEFAULT_ENCODING}static format(s,...p){let w=-1;function A(L,b,T,B,j,V){if(L==="%%")return"%";if(p[++w]===void 0)return;L=B?parseInt(B.substr(1)):void 0;let ee=j?parseInt(j.substr(1)):void 0,he;switch(V){case"s":he=p[w];break;case"c":he=p[w][0];break;case"f":he=parseFloat(p[w]).toFixed(L);break;case"p":he=parseFloat(p[w]).toPrecision(L);break;case"e":he=parseFloat(p[w]).toExponential(L);break;case"x":he=parseInt(p[w]).toString(ee||16);break;case"d":he=parseFloat(parseInt(p[w],ee||10).toPrecision(L)).toFixed(0);break}he=typeof he=="object"?JSON.stringify(he):(+he).toString(ee);let Ae=parseInt(T),Oe=T&&T[0]+""=="0"?"0":" ";for(;he.length<Ae;)he=b!==void 0?he+Oe:Oe+he;return he}let k=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(k,A)}static getBytes(s,p){return Ue.encode(s,p)}static getCharCode(s,p=0){return s.charCodeAt(p)}static getCharAt(s){return String.fromCharCode(s)}}qe.SHIFT_JIS=Se.SJIS.getName(),qe.GB2312="GB2312",qe.ISO88591=Se.ISO8859_1.getName(),qe.EUC_JP="EUC_JP",qe.UTF8=Se.UTF8.getName(),qe.PLATFORM_DEFAULT_ENCODING=qe.UTF8,qe.ASSUME_SHIFT_JIS=!1;class mt{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=qe.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,p,w){for(let A=p;p<p+w;A++)this.append(s[A]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,p){this.value=this.value.substr(0,s)+p+this.value.substr(s+1)}substring(s,p){return this.value.substring(s,p)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,p){this.value=this.value.substr(0,s)+p+this.value.substr(s+p.length)}}class ut{constructor(s,p,w,A){if(this.width=s,this.height=p,this.rowSize=w,this.bits=A,p==null&&(p=s),this.height=p,s<1||p<1)throw new f("Both dimensions must be greater than 0");w==null&&(w=Math.floor((s+31)/32)),this.rowSize=w,A==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const p=s.length,w=s[0].length,A=new ut(w,p);for(let k=0;k<p;k++){const L=s[k];for(let b=0;b<w;b++)L[b]&&A.set(b,k)}return A}static parseFromString(s,p,w){if(s===null)throw new f("stringRepresentation cannot be null");const A=new Array(s.length);let k=0,L=0,b=-1,T=0,B=0;for(;B<s.length;)if(s.charAt(B)===`
`||s.charAt(B)==="\r"){if(k>L){if(b===-1)b=k-L;else if(k-L!==b)throw new f("row lengths do not match");L=k,T++}B++}else if(s.substring(B,B+p.length)===p)B+=p.length,A[k]=!0,k++;else if(s.substring(B,B+w.length)===w)B+=w.length,A[k]=!1,k++;else throw new f("illegal character encountered: "+s.substring(B));if(k>L){if(b===-1)b=k-L;else if(k-L!==b)throw new f("row lengths do not match");T++}const j=new ut(b,T);for(let V=0;V<k;V++)A[V]&&j.set(Math.floor(V%b),Math.floor(V/b));return j}get(s,p){const w=p*this.rowSize+Math.floor(s/32);return(this.bits[w]>>>(s&31)&1)!==0}set(s,p){const w=p*this.rowSize+Math.floor(s/32);this.bits[w]|=1<<(s&31)&4294967295}unset(s,p){const w=p*this.rowSize+Math.floor(s/32);this.bits[w]&=~(1<<(s&31)&4294967295)}flip(s,p){const w=p*this.rowSize+Math.floor(s/32);this.bits[w]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new f("input matrix dimensions do not match");const p=new W(Math.floor(this.width/32)+1),w=this.rowSize,A=this.bits;for(let k=0,L=this.height;k<L;k++){const b=k*w,T=s.getRow(k,p).getBitArray();for(let B=0;B<w;B++)A[b+B]^=T[B]}}clear(){const s=this.bits,p=s.length;for(let w=0;w<p;w++)s[w]=0}setRegion(s,p,w,A){if(p<0||s<0)throw new f("Left and top must be nonnegative");if(A<1||w<1)throw new f("Height and width must be at least 1");const k=s+w,L=p+A;if(L>this.height||k>this.width)throw new f("The region must fit inside the matrix");const b=this.rowSize,T=this.bits;for(let B=p;B<L;B++){const j=B*b;for(let V=s;V<k;V++)T[j+Math.floor(V/32)]|=1<<(V&31)&4294967295}}getRow(s,p){p==null||p.getSize()<this.width?p=new W(this.width):p.clear();const w=this.rowSize,A=this.bits,k=s*w;for(let L=0;L<w;L++)p.setBulk(L*32,A[k+L]);return p}setRow(s,p){D.arraycopy(p.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),p=this.getHeight();let w=new W(s),A=new W(s);for(let k=0,L=Math.floor((p+1)/2);k<L;k++)w=this.getRow(k,w),A=this.getRow(p-1-k,A),w.reverse(),A.reverse(),this.setRow(k,A),this.setRow(p-1-k,w)}getEnclosingRectangle(){const s=this.width,p=this.height,w=this.rowSize,A=this.bits;let k=s,L=p,b=-1,T=-1;for(let B=0;B<p;B++)for(let j=0;j<w;j++){const V=A[B*w+j];if(V!==0){if(B<L&&(L=B),B>T&&(T=B),j*32<k){let ee=0;for(;(V<<31-ee&4294967295)===0;)ee++;j*32+ee<k&&(k=j*32+ee)}if(j*32+31>b){let ee=31;for(;!(V>>>ee);)ee--;j*32+ee>b&&(b=j*32+ee)}}}return b<k||T<L?null:Int32Array.from([k,L,b-k+1,T-L+1])}getTopLeftOnBit(){const s=this.rowSize,p=this.bits;let w=0;for(;w<p.length&&p[w]===0;)w++;if(w===p.length)return null;const A=w/s;let k=w%s*32;const L=p[w];let b=0;for(;(L<<31-b&4294967295)===0;)b++;return k+=b,Int32Array.from([k,A])}getBottomRightOnBit(){const s=this.rowSize,p=this.bits;let w=p.length-1;for(;w>=0&&p[w]===0;)w--;if(w<0)return null;const A=Math.floor(w/s);let k=Math.floor(w%s)*32;const L=p[w];let b=31;for(;!(L>>>b);)b--;return k+=b,Int32Array.from([k,A])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ut))return!1;const p=s;return this.width===p.width&&this.height===p.height&&this.rowSize===p.rowSize&&N.equals(this.bits,p.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+N.hashCode(this.bits),s}toString(s="X ",p="  ",w=`
`){return this.buildToString(s,p,w)}buildToString(s,p,w){let A=new mt;for(let k=0,L=this.height;k<L;k++){for(let b=0,T=this.width;b<T;b++)A.append(this.get(b,k)?s:p);A.append(w)}return A.toString()}clone(){return new ut(this.width,this.height,this.rowSize,this.bits.slice())}}class ge extends u{static getNotFoundInstance(){return new ge}}ge.kind="NotFoundException";class me extends C{constructor(s){super(s),this.luminances=me.EMPTY,this.buckets=new Int32Array(me.LUMINANCE_BUCKETS)}getBlackRow(s,p){const w=this.getLuminanceSource(),A=w.getWidth();p==null||p.getSize()<A?p=new W(A):p.clear(),this.initArrays(A);const k=w.getRow(s,this.luminances),L=this.buckets;for(let T=0;T<A;T++)L[(k[T]&255)>>me.LUMINANCE_SHIFT]++;const b=me.estimateBlackPoint(L);if(A<3)for(let T=0;T<A;T++)(k[T]&255)<b&&p.set(T);else{let T=k[0]&255,B=k[1]&255;for(let j=1;j<A-1;j++){const V=k[j+1]&255;(B*4-T-V)/2<b&&p.set(j),T=B,B=V}}return p}getBlackMatrix(){const s=this.getLuminanceSource(),p=s.getWidth(),w=s.getHeight(),A=new ut(p,w);this.initArrays(p);const k=this.buckets;for(let T=1;T<5;T++){const B=Math.floor(w*T/5),j=s.getRow(B,this.luminances),V=Math.floor(p*4/5);for(let ee=Math.floor(p/5);ee<V;ee++){const he=j[ee]&255;k[he>>me.LUMINANCE_SHIFT]++}}const L=me.estimateBlackPoint(k),b=s.getMatrix();for(let T=0;T<w;T++){const B=T*p;for(let j=0;j<p;j++)(b[B+j]&255)<L&&A.set(j,T)}return A}createBinarizer(s){return new me(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const p=this.buckets;for(let w=0;w<me.LUMINANCE_BUCKETS;w++)p[w]=0}static estimateBlackPoint(s){const p=s.length;let w=0,A=0,k=0;for(let j=0;j<p;j++)s[j]>k&&(A=j,k=s[j]),s[j]>w&&(w=s[j]);let L=0,b=0;for(let j=0;j<p;j++){const V=j-A,ee=s[j]*V*V;ee>b&&(L=j,b=ee)}if(A>L){const j=A;A=L,L=j}if(L-A<=p/16)throw new ge;let T=L-1,B=-1;for(let j=L-1;j>A;j--){const V=j-A,ee=V*V*(L-j)*(w-s[j]);ee>B&&(T=j,B=ee)}return T<<me.LUMINANCE_SHIFT}}me.LUMINANCE_BITS=5,me.LUMINANCE_SHIFT=8-me.LUMINANCE_BITS,me.LUMINANCE_BUCKETS=1<<me.LUMINANCE_BITS,me.EMPTY=Uint8ClampedArray.from([0]);class Ie extends me{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),p=s.getWidth(),w=s.getHeight();if(p>=Ie.MINIMUM_DIMENSION&&w>=Ie.MINIMUM_DIMENSION){const A=s.getMatrix();let k=p>>Ie.BLOCK_SIZE_POWER;(p&Ie.BLOCK_SIZE_MASK)!==0&&k++;let L=w>>Ie.BLOCK_SIZE_POWER;(w&Ie.BLOCK_SIZE_MASK)!==0&&L++;const b=Ie.calculateBlackPoints(A,k,L,p,w),T=new ut(p,w);Ie.calculateThresholdForBlock(A,k,L,p,w,b,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ie(s)}static calculateThresholdForBlock(s,p,w,A,k,L,b){const T=k-Ie.BLOCK_SIZE,B=A-Ie.BLOCK_SIZE;for(let j=0;j<w;j++){let V=j<<Ie.BLOCK_SIZE_POWER;V>T&&(V=T);const ee=Ie.cap(j,2,w-3);for(let he=0;he<p;he++){let Ae=he<<Ie.BLOCK_SIZE_POWER;Ae>B&&(Ae=B);const Oe=Ie.cap(he,2,p-3);let Le=0;for(let Ke=-2;Ke<=2;Ke++){const ot=L[ee+Ke];Le+=ot[Oe-2]+ot[Oe-1]+ot[Oe]+ot[Oe+1]+ot[Oe+2]}const Xe=Le/25;Ie.thresholdBlock(s,Ae,V,Xe,A,b)}}}static cap(s,p,w){return s<p?p:s>w?w:s}static thresholdBlock(s,p,w,A,k,L){for(let b=0,T=w*k+p;b<Ie.BLOCK_SIZE;b++,T+=k)for(let B=0;B<Ie.BLOCK_SIZE;B++)(s[T+B]&255)<=A&&L.set(p+B,w+b)}static calculateBlackPoints(s,p,w,A,k){const L=k-Ie.BLOCK_SIZE,b=A-Ie.BLOCK_SIZE,T=new Array(w);for(let B=0;B<w;B++){T[B]=new Int32Array(p);let j=B<<Ie.BLOCK_SIZE_POWER;j>L&&(j=L);for(let V=0;V<p;V++){let ee=V<<Ie.BLOCK_SIZE_POWER;ee>b&&(ee=b);let he=0,Ae=255,Oe=0;for(let Xe=0,Ke=j*A+ee;Xe<Ie.BLOCK_SIZE;Xe++,Ke+=A){for(let ot=0;ot<Ie.BLOCK_SIZE;ot++){const Je=s[Ke+ot]&255;he+=Je,Je<Ae&&(Ae=Je),Je>Oe&&(Oe=Je)}if(Oe-Ae>Ie.MIN_DYNAMIC_RANGE)for(Xe++,Ke+=A;Xe<Ie.BLOCK_SIZE;Xe++,Ke+=A)for(let ot=0;ot<Ie.BLOCK_SIZE;ot++)he+=s[Ke+ot]&255}let Le=he>>Ie.BLOCK_SIZE_POWER*2;if(Oe-Ae<=Ie.MIN_DYNAMIC_RANGE&&(Le=Ae/2,B>0&&V>0)){const Xe=(T[B-1][V]+2*T[B][V-1]+T[B-1][V-1])/4;Ae<Xe&&(Le=Xe)}T[B][V]=Le}}return T}}Ie.BLOCK_SIZE_POWER=3,Ie.BLOCK_SIZE=1<<Ie.BLOCK_SIZE_POWER,Ie.BLOCK_SIZE_MASK=Ie.BLOCK_SIZE-1,Ie.MINIMUM_DIMENSION=Ie.BLOCK_SIZE*5,Ie.MIN_DYNAMIC_RANGE=24;class lt{constructor(s,p){this.width=s,this.height=p}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,p,w,A){throw new Be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Be("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let p=new mt;for(let w=0;w<this.height;w++){const A=this.getRow(w,s);for(let k=0;k<this.width;k++){const L=A[k]&255;let b;L<64?b="#":L<128?b="+":L<192?b=".":b=" ",p.append(b)}p.append(`
`)}return p.toString()}}class Me extends lt{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,p){const w=this.delegate.getRow(s,p),A=this.getWidth();for(let k=0;k<A;k++)w[k]=255-(w[k]&255);return w}getMatrix(){const s=this.delegate.getMatrix(),p=this.getWidth()*this.getHeight(),w=new Uint8ClampedArray(p);for(let A=0;A<p;A++)w[A]=255-(s[A]&255);return w}isCropSupported(){return this.delegate.isCropSupported()}crop(s,p,w,A){return new Me(this.delegate.crop(s,p,w,A))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class ue extends lt{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ue.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const p=s.getContext("2d").getImageData(0,0,s.width,s.height);return ue.toGrayscaleBuffer(p.data,s.width,s.height)}static toGrayscaleBuffer(s,p,w){const A=new Uint8ClampedArray(p*w);for(let k=0,L=0,b=s.length;k<b;k+=4,L++){let T;if(s[k+3]===0)T=255;else{const j=s[k],V=s[k+1],ee=s[k+2];T=306*j+601*V+117*ee+512>>10}A[L]=T}return A}getRow(s,p){if(s<0||s>=this.getHeight())throw new f("Requested row is outside the image: "+s);const w=this.getWidth(),A=s*w;return p===null?p=this.buffer.slice(A,A+w):(p.length<w&&(p=new Uint8ClampedArray(w)),p.set(this.buffer.slice(A,A+w))),p}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,p,w,A){return super.crop(s,p,w,A),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const p=this.getTempCanvasElement(),w=p.getContext("2d"),A=s*ue.DEGREE_TO_RADIANS,k=this.canvas.width,L=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(A))*k+Math.abs(Math.sin(A))*L),T=Math.ceil(Math.abs(Math.sin(A))*k+Math.abs(Math.cos(A))*L);return p.width=b,p.height=T,w.translate(b/2,T/2),w.rotate(A),w.drawImage(this.canvas,k/-2,L/-2),this.buffer=ue.makeBufferFromCanvasImageData(p),this}invert(){return new Me(this)}}ue.DEGREE_TO_RADIANS=Math.PI/180;class ce{constructor(s,p,w){this.deviceId=s,this.label=p,this.kind="videoinput",this.groupId=w||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var oe=(globalThis||A1||self||window||void 0)&&(globalThis||A1||self||window||void 0).__awaiter||function(_e,s,p,w){function A(k){return k instanceof p?k:new p(function(L){L(k)})}return new(p||(p=Promise))(function(k,L){function b(j){try{B(w.next(j))}catch(V){L(V)}}function T(j){try{B(w.throw(j))}catch(V){L(V)}}function B(j){j.done?k(j.value):A(j.value).then(b,T)}B((w=w.apply(_e,s||[])).next())})};class Z{constructor(s,p=500,w){this.reader=s,this.timeBetweenScansMillis=p,this._hints=w,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),p=[];for(const w of s){const A=w.kind==="video"?"videoinput":w.kind;if(A!=="videoinput")continue;const k=w.deviceId||w.id,L=w.label||`Video device ${p.length+1}`,b=w.groupId,T={deviceId:k,label:L,kind:A,groupId:b};p.push(T)}return p})}getVideoInputDevices(){return oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(p=>new ce(p.deviceId,p.label))})}findDeviceById(s){return oe(this,void 0,void 0,function*(){const p=yield this.listVideoInputDevices();return p?p.find(w=>w.deviceId===s):null})}decodeFromInputVideoDevice(s,p){return oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,p)})}decodeOnceFromVideoDevice(s,p){return oe(this,void 0,void 0,function*(){this.reset();let w;s?w={deviceId:{exact:s}}:w={facingMode:"environment"};const A={video:w};return yield this.decodeOnceFromConstraints(A,p)})}decodeOnceFromConstraints(s,p){return oe(this,void 0,void 0,function*(){const w=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(w,p)})}decodeOnceFromStream(s,p){return oe(this,void 0,void 0,function*(){this.reset();const w=yield this.attachStreamToVideo(s,p);return yield this.decodeOnce(w)})}decodeFromInputVideoDeviceContinuously(s,p,w){return oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,p,w)})}decodeFromVideoDevice(s,p,w){return oe(this,void 0,void 0,function*(){let A;s?A={deviceId:{exact:s}}:A={facingMode:"environment"};const k={video:A};return yield this.decodeFromConstraints(k,p,w)})}decodeFromConstraints(s,p,w){return oe(this,void 0,void 0,function*(){const A=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(A,p,w)})}decodeFromStream(s,p,w){return oe(this,void 0,void 0,function*(){this.reset();const A=yield this.attachStreamToVideo(s,p);return yield this.decodeContinuously(A,w)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,p){return oe(this,void 0,void 0,function*(){const w=this.prepareVideoElement(p);return this.addVideoSource(w,s),this.videoElement=w,this.stream=s,yield this.playVideoOnLoadAsync(w),w})}playVideoOnLoadAsync(s){return new Promise((p,w)=>this.playVideoOnLoad(s,()=>p()))}playVideoOnLoad(s,p){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",p),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,p){const w=document.getElementById(s);if(!w)throw new v(`element with id '${s}' not found`);if(w.nodeName.toLowerCase()!==p.toLowerCase())throw new v(`element with id '${s}' must be an ${p} element`);return w}decodeFromImage(s,p){if(!s&&!p)throw new v("either imageElement with a src set or an url must be provided");return p&&!s?this.decodeFromImageUrl(p):this.decodeFromImageElement(s)}decodeFromVideo(s,p){if(!s&&!p)throw new v("Either an element with a src set or an URL must be provided");return p&&!s?this.decodeFromVideoUrl(p):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,p,w){if(s===void 0&&p===void 0)throw new v("Either an element with a src set or an URL must be provided");return p&&!s?this.decodeFromVideoUrlContinuously(p,w):this.decodeFromVideoElementContinuously(s,w)}decodeFromImageElement(s){if(!s)throw new v("An image element must be provided.");this.reset();const p=this.prepareImageElement(s);this.imageElement=p;let w;return this.isImageLoaded(p)?w=this.decodeOnce(p,!1,!0):w=this._decodeOnLoadImage(p),w}decodeFromVideoElement(s){const p=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(p)}decodeFromVideoElementContinuously(s,p){const w=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(w,p)}_decodeFromVideoElementSetup(s){if(!s)throw new v("A video element must be provided.");this.reset();const p=this.prepareVideoElement(s);return this.videoElement=p,p}decodeFromImageUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const p=this.prepareImageElement();this.imageElement=p;const w=this._decodeOnLoadImage(p);return p.src=s,w}decodeFromVideoUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),w=this.decodeFromVideoElement(p);return p.src=s,w}decodeFromVideoUrlContinuously(s,p){if(!s)throw new v("An URL must be provided.");this.reset();const w=this.prepareVideoElement(),A=this.decodeFromVideoElementContinuously(w,p);return w.src=s,A}_decodeOnLoadImage(s){return new Promise((p,w)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(p,w),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,p){return oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,p)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let p;return typeof s>"u"&&(p=document.createElement("img"),p.width=200,p.height=200),typeof s=="string"&&(p=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(p=s),p}prepareVideoElement(s){let p;return!s&&typeof document<"u"&&(p=document.createElement("video"),p.width=200,p.height=200),typeof s=="string"&&(p=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(p=s),p.setAttribute("autoplay","true"),p.setAttribute("muted","true"),p.setAttribute("playsinline","true"),p}decodeOnce(s,p=!0,w=!0){this._stopAsyncDecode=!1;const A=(k,L)=>{if(this._stopAsyncDecode){L(new ge("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(s);k(b)}catch(b){const T=p&&b instanceof ge,j=(b instanceof m||b instanceof ne)&&w;if(T||j)return setTimeout(A,this._timeBetweenDecodingAttempts,k,L);L(b)}};return new Promise((k,L)=>A(k,L))}decodeContinuously(s,p){this._stopContinuousDecode=!1;const w=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const A=this.decode(s);p(A,null),setTimeout(w,this.timeBetweenScansMillis)}catch(A){p(null,A);const k=A instanceof m||A instanceof ne,L=A instanceof ge;(k||L)&&setTimeout(w,this._timeBetweenDecodingAttempts)}};w()}decode(s){const p=this.createBinaryBitmap(s);return this.decodeBitmap(p)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,p,w){p||(p={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),w||(w=this.captureCanvasContext),w.drawImage(s,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}drawImageOnCanvas(s,p,w=this.captureCanvasContext){p||(p={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),w||(w=this.captureCanvasContext),w.drawImage(s,p.sx,p.sy,p.sWidth,p.sHeight,p.dx,p.dy,p.dWidth,p.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const p=this.getCaptureCanvas(s),w=new ue(p),A=new Ie(w);return new g(A)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const w=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=w}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const p=this.createCaptureCanvas(s);this.captureCanvas=p}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const p=document.createElement("canvas");let w,A;return typeof s<"u"&&(s instanceof HTMLVideoElement?(w=s.videoWidth,A=s.videoHeight):s instanceof HTMLImageElement&&(w=s.naturalWidth||s.width,A=s.naturalHeight||s.height)),p.style.width=w+"px",p.style.height=A+"px",p.width=w,p.height=A,p}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,p){try{s.srcObject=p}catch{s.src=URL.createObjectURL(p)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(s,p,w=p==null?0:8*p.length,A,k,L=D.currentTimeMillis()){this.text=s,this.rawBytes=p,this.numBits=w,this.resultPoints=A,this.format=k,this.timestamp=L,this.text=s,this.rawBytes=p,w==null?this.numBits=p==null?0:8*p.length:this.numBits=w,this.resultPoints=A,this.format=k,this.resultMetadata=null,L==null?this.timestamp=D.currentTimeMillis():this.timestamp=L}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,p){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,p)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const p=this.resultPoints;if(p===null)this.resultPoints=s;else if(s!==null&&s.length>0){const w=new Array(p.length+s.length);D.arraycopy(p,0,w,0,p.length),D.arraycopy(s,0,w,p.length,s.length),this.resultPoints=w}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Te;(function(_e){_e[_e.AZTEC=0]="AZTEC",_e[_e.CODABAR=1]="CODABAR",_e[_e.CODE_39=2]="CODE_39",_e[_e.CODE_93=3]="CODE_93",_e[_e.CODE_128=4]="CODE_128",_e[_e.DATA_MATRIX=5]="DATA_MATRIX",_e[_e.EAN_8=6]="EAN_8",_e[_e.EAN_13=7]="EAN_13",_e[_e.ITF=8]="ITF",_e[_e.MAXICODE=9]="MAXICODE",_e[_e.PDF_417=10]="PDF_417",_e[_e.QR_CODE=11]="QR_CODE",_e[_e.RSS_14=12]="RSS_14",_e[_e.RSS_EXPANDED=13]="RSS_EXPANDED",_e[_e.UPC_A=14]="UPC_A",_e[_e.UPC_E=15]="UPC_E",_e[_e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var Fe=Te,ct;(function(_e){_e[_e.OTHER=0]="OTHER",_e[_e.ORIENTATION=1]="ORIENTATION",_e[_e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_e[_e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_e[_e.ISSUE_NUMBER=4]="ISSUE_NUMBER",_e[_e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_e[_e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_e[_e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_e[_e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_e[_e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_e[_e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ct||(ct={}));var At=ct;class rt{constructor(s,p,w,A,k=-1,L=-1){this.rawBytes=s,this.text=p,this.byteSegments=w,this.ecLevel=A,this.structuredAppendSequenceNumber=k,this.structuredAppendParity=L,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class jt{exp(s){return this.expTable[s]}log(s){if(s===0)throw new f;return this.logTable[s]}static addOrSubtract(s,p){return s^p}}class _t{constructor(s,p){if(p.length===0)throw new f;this.field=s;const w=p.length;if(w>1&&p[0]===0){let A=1;for(;A<w&&p[A]===0;)A++;A===w?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(w-A),D.arraycopy(p,A,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const p=this.coefficients;let w;if(s===1){w=0;for(let L=0,b=p.length;L!==b;L++){const T=p[L];w=jt.addOrSubtract(w,T)}return w}w=p[0];const A=p.length,k=this.field;for(let L=1;L<A;L++)w=jt.addOrSubtract(k.multiply(s,w),p[L]);return w}addOrSubtract(s){if(!this.field.equals(s.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let p=this.coefficients,w=s.coefficients;if(p.length>w.length){const L=p;p=w,w=L}let A=new Int32Array(w.length);const k=w.length-p.length;D.arraycopy(w,0,A,0,k);for(let L=k;L<w.length;L++)A[L]=jt.addOrSubtract(p[L-k],w[L]);return new _t(this.field,A)}multiply(s){if(!this.field.equals(s.field))throw new f("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const p=this.coefficients,w=p.length,A=s.coefficients,k=A.length,L=new Int32Array(w+k-1),b=this.field;for(let T=0;T<w;T++){const B=p[T];for(let j=0;j<k;j++)L[T+j]=jt.addOrSubtract(L[T+j],b.multiply(B,A[j]))}return new _t(b,L)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const p=this.coefficients.length,w=this.field,A=new Int32Array(p),k=this.coefficients;for(let L=0;L<p;L++)A[L]=w.multiply(k[L],s);return new _t(w,A)}multiplyByMonomial(s,p){if(s<0)throw new f;if(p===0)return this.field.getZero();const w=this.coefficients,A=w.length,k=new Int32Array(A+s),L=this.field;for(let b=0;b<A;b++)k[b]=L.multiply(w[b],p);return new _t(L,k)}divide(s){if(!this.field.equals(s.field))throw new f("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new f("Divide by 0");const p=this.field;let w=p.getZero(),A=this;const k=s.getCoefficient(s.getDegree()),L=p.inverse(k);for(;A.getDegree()>=s.getDegree()&&!A.isZero();){const b=A.getDegree()-s.getDegree(),T=p.multiply(A.getCoefficient(A.getDegree()),L),B=s.multiplyByMonomial(b,T),j=p.buildMonomial(b,T);w=w.addOrSubtract(j),A=A.addOrSubtract(B)}return[w,A]}toString(){let s="";for(let p=this.getDegree();p>=0;p--){let w=this.getCoefficient(p);if(w!==0){if(w<0?(s+=" - ",w=-w):s.length>0&&(s+=" + "),p===0||w!==1){const A=this.field.log(w);A===0?s+="1":A===1?s+="a":(s+="a^",s+=A)}p!==0&&(p===1?s+="x":(s+="x^",s+=p))}}return s}}class Wt extends u{}Wt.kind="ArithmeticException";class ft extends jt{constructor(s,p,w){super(),this.primitive=s,this.size=p,this.generatorBase=w;const A=new Int32Array(p);let k=1;for(let b=0;b<p;b++)A[b]=k,k*=2,k>=p&&(k^=s,k&=p-1);this.expTable=A;const L=new Int32Array(p);for(let b=0;b<p-1;b++)L[A[b]]=b;this.logTable=L,this.zero=new _t(this,Int32Array.from([0])),this.one=new _t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,p){if(s<0)throw new f;if(p===0)return this.zero;const w=new Int32Array(s+1);return w[0]=p,new _t(this,w)}inverse(s){if(s===0)throw new Wt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,p){return s===0||p===0?0:this.expTable[(this.logTable[s]+this.logTable[p])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}ft.AZTEC_DATA_12=new ft(4201,4096,1),ft.AZTEC_DATA_10=new ft(1033,1024,1),ft.AZTEC_DATA_6=new ft(67,64,1),ft.AZTEC_PARAM=new ft(19,16,1),ft.QR_CODE_FIELD_256=new ft(285,256,0),ft.DATA_MATRIX_FIELD_256=new ft(301,256,1),ft.AZTEC_DATA_8=ft.DATA_MATRIX_FIELD_256,ft.MAXICODE_FIELD_64=ft.AZTEC_DATA_6;class kt extends u{}kt.kind="ReedSolomonException";class Dt extends u{}Dt.kind="IllegalStateException";class tn{constructor(s){this.field=s}decode(s,p){const w=this.field,A=new _t(w,s),k=new Int32Array(p);let L=!0;for(let he=0;he<p;he++){const Ae=A.evaluateAt(w.exp(he+w.getGeneratorBase()));k[k.length-1-he]=Ae,Ae!==0&&(L=!1)}if(L)return;const b=new _t(w,k),T=this.runEuclideanAlgorithm(w.buildMonomial(p,1),b,p),B=T[0],j=T[1],V=this.findErrorLocations(B),ee=this.findErrorMagnitudes(j,V);for(let he=0;he<V.length;he++){const Ae=s.length-1-w.log(V[he]);if(Ae<0)throw new kt("Bad error location");s[Ae]=ft.addOrSubtract(s[Ae],ee[he])}}runEuclideanAlgorithm(s,p,w){if(s.getDegree()<p.getDegree()){const he=s;s=p,p=he}const A=this.field;let k=s,L=p,b=A.getZero(),T=A.getOne();for(;L.getDegree()>=(w/2|0);){let he=k,Ae=b;if(k=L,b=T,k.isZero())throw new kt("r_{i-1} was zero");L=he;let Oe=A.getZero();const Le=k.getCoefficient(k.getDegree()),Xe=A.inverse(Le);for(;L.getDegree()>=k.getDegree()&&!L.isZero();){const Ke=L.getDegree()-k.getDegree(),ot=A.multiply(L.getCoefficient(L.getDegree()),Xe);Oe=Oe.addOrSubtract(A.buildMonomial(Ke,ot)),L=L.addOrSubtract(k.multiplyByMonomial(Ke,ot))}if(T=Oe.multiply(b).addOrSubtract(Ae),L.getDegree()>=k.getDegree())throw new Dt("Division algorithm failed to reduce polynomial?")}const B=T.getCoefficient(0);if(B===0)throw new kt("sigmaTilde(0) was zero");const j=A.inverse(B),V=T.multiplyScalar(j),ee=L.multiplyScalar(j);return[V,ee]}findErrorLocations(s){const p=s.getDegree();if(p===1)return Int32Array.from([s.getCoefficient(1)]);const w=new Int32Array(p);let A=0;const k=this.field;for(let L=1;L<k.getSize()&&A<p;L++)s.evaluateAt(L)===0&&(w[A]=k.inverse(L),A++);if(A!==p)throw new kt("Error locator degree does not match number of roots");return w}findErrorMagnitudes(s,p){const w=p.length,A=new Int32Array(w),k=this.field;for(let L=0;L<w;L++){const b=k.inverse(p[L]);let T=1;for(let B=0;B<w;B++)if(L!==B){const j=k.multiply(p[B],b),V=(j&1)===0?j|1:j&-2;T=k.multiply(T,V)}A[L]=k.multiply(s.evaluateAt(b),k.inverse(T)),k.getGeneratorBase()!==0&&(A[L]=k.multiply(A[L],b))}return A}}var zt;(function(_e){_e[_e.UPPER=0]="UPPER",_e[_e.LOWER=1]="LOWER",_e[_e.MIXED=2]="MIXED",_e[_e.DIGIT=3]="DIGIT",_e[_e.PUNCT=4]="PUNCT",_e[_e.BINARY=5]="BINARY"})(zt||(zt={}));class Ut{decode(s){this.ddata=s;let p=s.getBits(),w=this.extractBits(p),A=this.correctBits(w),k=Ut.convertBoolArrayToByteArray(A),L=Ut.getEncodedData(A),b=new rt(k,L,null,null);return b.setNumBits(A.length),b}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let p=s.length,w=zt.UPPER,A=zt.UPPER,k="",L=0;for(;L<p;)if(A===zt.BINARY){if(p-L<5)break;let b=Ut.readCode(s,L,5);if(L+=5,b===0){if(p-L<11)break;b=Ut.readCode(s,L,11)+31,L+=11}for(let T=0;T<b;T++){if(p-L<8){L=p;break}const B=Ut.readCode(s,L,8);k+=qe.castAsNonUtf8Char(B),L+=8}A=w}else{let b=A===zt.DIGIT?4:5;if(p-L<b)break;let T=Ut.readCode(s,L,b);L+=b;let B=Ut.getCharacter(A,T);B.startsWith("CTRL_")?(w=A,A=Ut.getTable(B.charAt(5)),B.charAt(6)==="L"&&(w=A)):(k+=B,A=w)}return k}static getTable(s){switch(s){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;default:return zt.UPPER}}static getCharacter(s,p){switch(s){case zt.UPPER:return Ut.UPPER_TABLE[p];case zt.LOWER:return Ut.LOWER_TABLE[p];case zt.MIXED:return Ut.MIXED_TABLE[p];case zt.PUNCT:return Ut.PUNCT_TABLE[p];case zt.DIGIT:return Ut.DIGIT_TABLE[p];default:throw new Dt("Bad table")}}correctBits(s){let p,w;this.ddata.getNbLayers()<=2?(w=6,p=ft.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(w=8,p=ft.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(w=10,p=ft.AZTEC_DATA_10):(w=12,p=ft.AZTEC_DATA_12);let A=this.ddata.getNbDatablocks(),k=s.length/w;if(k<A)throw new ne;let L=s.length%w,b=new Int32Array(k);for(let ee=0;ee<k;ee++,L+=w)b[ee]=Ut.readCode(s,L,w);try{new tn(p).decode(b,k-A)}catch(ee){throw new ne(ee)}let T=(1<<w)-1,B=0;for(let ee=0;ee<A;ee++){let he=b[ee];if(he===0||he===T)throw new ne;(he===1||he===T-1)&&B++}let j=new Array(A*w-B),V=0;for(let ee=0;ee<A;ee++){let he=b[ee];if(he===1||he===T-1)j.fill(he>1,V,V+w-1),V+=w-1;else for(let Ae=w-1;Ae>=0;--Ae)j[V++]=(he&1<<Ae)!==0}return j}extractBits(s){let p=this.ddata.isCompact(),w=this.ddata.getNbLayers(),A=(p?11:14)+w*4,k=new Int32Array(A),L=new Array(this.totalBitsInLayer(w,p));if(p)for(let b=0;b<k.length;b++)k[b]=b;else{let b=A+1+2*U.truncDivision(U.truncDivision(A,2)-1,15),T=A/2,B=U.truncDivision(b,2);for(let j=0;j<T;j++){let V=j+U.truncDivision(j,15);k[T-j-1]=B-V-1,k[T+j]=B+V+1}}for(let b=0,T=0;b<w;b++){let B=(w-b)*4+(p?9:12),j=b*2,V=A-1-j;for(let ee=0;ee<B;ee++){let he=ee*2;for(let Ae=0;Ae<2;Ae++)L[T+he+Ae]=s.get(k[j+Ae],k[j+ee]),L[T+2*B+he+Ae]=s.get(k[j+ee],k[V-Ae]),L[T+4*B+he+Ae]=s.get(k[V-Ae],k[V-ee]),L[T+6*B+he+Ae]=s.get(k[V-ee],k[j+Ae])}T+=B*8}return L}static readCode(s,p,w){let A=0;for(let k=p;k<p+w;k++)A<<=1,s[k]&&(A|=1);return A}static readByte(s,p){let w=s.length-p;return w>=8?Ut.readCode(s,p,8):Ut.readCode(s,p,w)<<8-w}static convertBoolArrayToByteArray(s){let p=new Uint8Array((s.length+7)/8);for(let w=0;w<p.length;w++)p[w]=Ut.readByte(s,8*w);return p}totalBitsInLayer(s,p){return((p?88:112)+16*s)*s}}Ut.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ut.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ut.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ut.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ut.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Kt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,p,w,A){const k=s-w,L=p-A;return Math.sqrt(k*k+L*L)}static sum(s){let p=0;for(let w=0,A=s.length;w!==A;w++){const k=s[w];p+=k}return p}}class un{static floatToIntBits(s){return s}}un.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Xt{constructor(s,p){this.x=s,this.y=p}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Xt){const p=s;return this.x===p.x&&this.y===p.y}return!1}hashCode(){return 31*un.floatToIntBits(this.x)+un.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const p=this.distance(s[0],s[1]),w=this.distance(s[1],s[2]),A=this.distance(s[0],s[2]);let k,L,b;if(w>=p&&w>=A?(L=s[0],k=s[1],b=s[2]):A>=w&&A>=p?(L=s[1],k=s[0],b=s[2]):(L=s[2],k=s[0],b=s[1]),this.crossProductZ(k,L,b)<0){const T=k;k=b,b=T}s[0]=k,s[1]=L,s[2]=b}static distance(s,p){return Kt.distance(s.x,s.y,p.x,p.y)}static crossProductZ(s,p,w){const A=p.x,k=p.y;return(w.x-A)*(s.y-k)-(w.y-k)*(s.x-A)}}class Zt{constructor(s,p){this.bits=s,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class Bn extends Zt{constructor(s,p,w,A,k){super(s,p),this.compact=w,this.nbDatablocks=A,this.nbLayers=k}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class gt{constructor(s,p,w,A){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),p==null&&(p=gt.INIT_SIZE),w==null&&(w=s.getWidth()/2|0),A==null&&(A=s.getHeight()/2|0);const k=p/2|0;if(this.leftInit=w-k,this.rightInit=w+k,this.upInit=A-k,this.downInit=A+k,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ge}detect(){let s=this.leftInit,p=this.rightInit,w=this.upInit,A=this.downInit,k=!1,L=!0,b=!1,T=!1,B=!1,j=!1,V=!1;const ee=this.width,he=this.height;for(;L;){L=!1;let Ae=!0;for(;(Ae||!T)&&p<ee;)Ae=this.containsBlackPoint(w,A,p,!1),Ae?(p++,L=!0,T=!0):T||p++;if(p>=ee){k=!0;break}let Oe=!0;for(;(Oe||!B)&&A<he;)Oe=this.containsBlackPoint(s,p,A,!0),Oe?(A++,L=!0,B=!0):B||A++;if(A>=he){k=!0;break}let Le=!0;for(;(Le||!j)&&s>=0;)Le=this.containsBlackPoint(w,A,s,!1),Le?(s--,L=!0,j=!0):j||s--;if(s<0){k=!0;break}let Xe=!0;for(;(Xe||!V)&&w>=0;)Xe=this.containsBlackPoint(s,p,w,!0),Xe?(w--,L=!0,V=!0):V||w--;if(w<0){k=!0;break}L&&(b=!0)}if(!k&&b){const Ae=p-s;let Oe=null;for(let ot=1;Oe===null&&ot<Ae;ot++)Oe=this.getBlackPointOnSegment(s,A-ot,s+ot,A);if(Oe==null)throw new ge;let Le=null;for(let ot=1;Le===null&&ot<Ae;ot++)Le=this.getBlackPointOnSegment(s,w+ot,s+ot,w);if(Le==null)throw new ge;let Xe=null;for(let ot=1;Xe===null&&ot<Ae;ot++)Xe=this.getBlackPointOnSegment(p,w+ot,p-ot,w);if(Xe==null)throw new ge;let Ke=null;for(let ot=1;Ke===null&&ot<Ae;ot++)Ke=this.getBlackPointOnSegment(p,A-ot,p-ot,A);if(Ke==null)throw new ge;return this.centerEdges(Ke,Oe,Xe,Le)}else throw new ge}getBlackPointOnSegment(s,p,w,A){const k=Kt.round(Kt.distance(s,p,w,A)),L=(w-s)/k,b=(A-p)/k,T=this.image;for(let B=0;B<k;B++){const j=Kt.round(s+B*L),V=Kt.round(p+B*b);if(T.get(j,V))return new Xt(j,V)}return null}centerEdges(s,p,w,A){const k=s.getX(),L=s.getY(),b=p.getX(),T=p.getY(),B=w.getX(),j=w.getY(),V=A.getX(),ee=A.getY(),he=gt.CORR;return k<this.width/2?[new Xt(V-he,ee+he),new Xt(b+he,T+he),new Xt(B-he,j-he),new Xt(k+he,L-he)]:[new Xt(V+he,ee+he),new Xt(b+he,T-he),new Xt(B-he,j+he),new Xt(k-he,L-he)]}containsBlackPoint(s,p,w,A){const k=this.image;if(A){for(let L=s;L<=p;L++)if(k.get(L,w))return!0}else for(let L=s;L<=p;L++)if(k.get(w,L))return!0;return!1}}gt.INIT_SIZE=10,gt.CORR=1;class dt{static checkAndNudgePoints(s,p){const w=s.getWidth(),A=s.getHeight();let k=!0;for(let L=0;L<p.length&&k;L+=2){const b=Math.floor(p[L]),T=Math.floor(p[L+1]);if(b<-1||b>w||T<-1||T>A)throw new ge;k=!1,b===-1?(p[L]=0,k=!0):b===w&&(p[L]=w-1,k=!0),T===-1?(p[L+1]=0,k=!0):T===A&&(p[L+1]=A-1,k=!0)}k=!0;for(let L=p.length-2;L>=0&&k;L-=2){const b=Math.floor(p[L]),T=Math.floor(p[L+1]);if(b<-1||b>w||T<-1||T>A)throw new ge;k=!1,b===-1?(p[L]=0,k=!0):b===w&&(p[L]=w-1,k=!0),T===-1?(p[L+1]=0,k=!0):T===A&&(p[L+1]=A-1,k=!0)}}}class Pe{constructor(s,p,w,A,k,L,b,T,B){this.a11=s,this.a21=p,this.a31=w,this.a12=A,this.a22=k,this.a32=L,this.a13=b,this.a23=T,this.a33=B}static quadrilateralToQuadrilateral(s,p,w,A,k,L,b,T,B,j,V,ee,he,Ae,Oe,Le){const Xe=Pe.quadrilateralToSquare(s,p,w,A,k,L,b,T);return Pe.squareToQuadrilateral(B,j,V,ee,he,Ae,Oe,Le).times(Xe)}transformPoints(s){const p=s.length,w=this.a11,A=this.a12,k=this.a13,L=this.a21,b=this.a22,T=this.a23,B=this.a31,j=this.a32,V=this.a33;for(let ee=0;ee<p;ee+=2){const he=s[ee],Ae=s[ee+1],Oe=k*he+T*Ae+V;s[ee]=(w*he+L*Ae+B)/Oe,s[ee+1]=(A*he+b*Ae+j)/Oe}}transformPointsWithValues(s,p){const w=this.a11,A=this.a12,k=this.a13,L=this.a21,b=this.a22,T=this.a23,B=this.a31,j=this.a32,V=this.a33,ee=s.length;for(let he=0;he<ee;he++){const Ae=s[he],Oe=p[he],Le=k*Ae+T*Oe+V;s[he]=(w*Ae+L*Oe+B)/Le,p[he]=(A*Ae+b*Oe+j)/Le}}static squareToQuadrilateral(s,p,w,A,k,L,b,T){const B=s-w+k-b,j=p-A+L-T;if(B===0&&j===0)return new Pe(w-s,k-w,s,A-p,L-A,p,0,0,1);{const V=w-k,ee=b-k,he=A-L,Ae=T-L,Oe=V*Ae-ee*he,Le=(B*Ae-ee*j)/Oe,Xe=(V*j-B*he)/Oe;return new Pe(w-s+Le*w,b-s+Xe*b,s,A-p+Le*A,T-p+Xe*T,p,Le,Xe,1)}}static quadrilateralToSquare(s,p,w,A,k,L,b,T){return Pe.squareToQuadrilateral(s,p,w,A,k,L,b,T).buildAdjoint()}buildAdjoint(){return new Pe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Pe(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class xe extends dt{sampleGrid(s,p,w,A,k,L,b,T,B,j,V,ee,he,Ae,Oe,Le,Xe,Ke,ot){const Je=Pe.quadrilateralToQuadrilateral(A,k,L,b,T,B,j,V,ee,he,Ae,Oe,Le,Xe,Ke,ot);return this.sampleGridWithTransform(s,p,w,Je)}sampleGridWithTransform(s,p,w,A){if(p<=0||w<=0)throw new ge;const k=new ut(p,w),L=new Float32Array(2*p);for(let b=0;b<w;b++){const T=L.length,B=b+.5;for(let j=0;j<T;j+=2)L[j]=j/2+.5,L[j+1]=B;A.transformPoints(L),dt.checkAndNudgePoints(s,L);try{for(let j=0;j<T;j+=2)s.get(Math.floor(L[j]),Math.floor(L[j+1]))&&k.set(j/2,b)}catch{throw new ge}}return k}}class Ee{static setGridSampler(s){Ee.gridSampler=s}static getInstance(){return Ee.gridSampler}}Ee.gridSampler=new xe;class Ze{constructor(s,p){this.x=s,this.y=p}toResultPoint(){return new Xt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class re{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let p=this.getMatrixCenter(),w=this.getBullsEyeCorners(p);if(s){let L=w[0];w[0]=w[2],w[2]=L}this.extractParameters(w);let A=this.sampleGrid(this.image,w[this.shift%4],w[(this.shift+1)%4],w[(this.shift+2)%4],w[(this.shift+3)%4]),k=this.getMatrixCornerPoints(w);return new Bn(A,k,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ge;let p=2*this.nbCenterLayers,w=new Int32Array([this.sampleLine(s[0],s[1],p),this.sampleLine(s[1],s[2],p),this.sampleLine(s[2],s[3],p),this.sampleLine(s[3],s[0],p)]);this.shift=this.getRotation(w,p);let A=0;for(let L=0;L<4;L++){let b=w[(this.shift+L)%4];this.compact?(A<<=7,A+=b>>1&127):(A<<=10,A+=(b>>2&992)+(b>>1&31))}let k=this.getCorrectedParameterData(A,this.compact);this.compact?(this.nbLayers=(k>>6)+1,this.nbDataBlocks=(k&63)+1):(this.nbLayers=(k>>11)+1,this.nbDataBlocks=(k&2047)+1)}getRotation(s,p){let w=0;s.forEach((A,k,L)=>{let b=(A>>p-2<<1)+(A&1);w=(w<<3)+b}),w=((w&1)<<11)+(w>>1);for(let A=0;A<4;A++)if(U.bitCount(w^this.EXPECTED_CORNER_BITS[A])<=2)return A;throw new ge}getCorrectedParameterData(s,p){let w,A;p?(w=7,A=2):(w=10,A=4);let k=w-A,L=new Int32Array(w);for(let T=w-1;T>=0;--T)L[T]=s&15,s>>=4;try{new tn(ft.AZTEC_PARAM).decode(L,k)}catch{throw new ge}let b=0;for(let T=0;T<A;T++)b=(b<<4)+L[T];return b}getBullsEyeCorners(s){let p=s,w=s,A=s,k=s,L=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let V=this.getFirstDifferent(p,L,1,-1),ee=this.getFirstDifferent(w,L,1,1),he=this.getFirstDifferent(A,L,-1,1),Ae=this.getFirstDifferent(k,L,-1,-1);if(this.nbCenterLayers>2){let Oe=this.distancePoint(Ae,V)*this.nbCenterLayers/(this.distancePoint(k,p)*(this.nbCenterLayers+2));if(Oe<.75||Oe>1.25||!this.isWhiteOrBlackRectangle(V,ee,he,Ae))break}p=V,w=ee,A=he,k=Ae,L=!L}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ge;this.compact=this.nbCenterLayers===5;let b=new Xt(p.getX()+.5,p.getY()-.5),T=new Xt(w.getX()+.5,w.getY()+.5),B=new Xt(A.getX()-.5,A.getY()+.5),j=new Xt(k.getX()-.5,k.getY()-.5);return this.expandSquare([b,T,B,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,p,w,A;try{let b=new gt(this.image).detect();s=b[0],p=b[1],w=b[2],A=b[3]}catch{let T=this.image.getWidth()/2,B=this.image.getHeight()/2;s=this.getFirstDifferent(new Ze(T+7,B-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Ze(T+7,B+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new Ze(T-7,B+7),!1,-1,1).toResultPoint(),A=this.getFirstDifferent(new Ze(T-7,B-7),!1,-1,-1).toResultPoint()}let k=Kt.round((s.getX()+A.getX()+p.getX()+w.getX())/4),L=Kt.round((s.getY()+A.getY()+p.getY()+w.getY())/4);try{let b=new gt(this.image,15,k,L).detect();s=b[0],p=b[1],w=b[2],A=b[3]}catch{s=this.getFirstDifferent(new Ze(k+7,L-7),!1,1,-1).toResultPoint(),p=this.getFirstDifferent(new Ze(k+7,L+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new Ze(k-7,L+7),!1,-1,1).toResultPoint(),A=this.getFirstDifferent(new Ze(k-7,L-7),!1,-1,-1).toResultPoint()}return k=Kt.round((s.getX()+A.getX()+p.getX()+w.getX())/4),L=Kt.round((s.getY()+A.getY()+p.getY()+w.getY())/4),new Ze(k,L)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,p,w,A,k){let L=Ee.getInstance(),b=this.getDimension(),T=b/2-this.nbCenterLayers,B=b/2+this.nbCenterLayers;return L.sampleGrid(s,b,b,T,T,B,T,B,B,T,B,p.getX(),p.getY(),w.getX(),w.getY(),A.getX(),A.getY(),k.getX(),k.getY())}sampleLine(s,p,w){let A=0,k=this.distanceResultPoint(s,p),L=k/w,b=s.getX(),T=s.getY(),B=L*(p.getX()-s.getX())/k,j=L*(p.getY()-s.getY())/k;for(let V=0;V<w;V++)this.image.get(Kt.round(b+V*B),Kt.round(T+V*j))&&(A|=1<<w-V-1);return A}isWhiteOrBlackRectangle(s,p,w,A){let k=3;s=new Ze(s.getX()-k,s.getY()+k),p=new Ze(p.getX()-k,p.getY()-k),w=new Ze(w.getX()+k,w.getY()-k),A=new Ze(A.getX()+k,A.getY()+k);let L=this.getColor(A,s);if(L===0)return!1;let b=this.getColor(s,p);return b!==L||(b=this.getColor(p,w),b!==L)?!1:(b=this.getColor(w,A),b===L)}getColor(s,p){let w=this.distancePoint(s,p),A=(p.getX()-s.getX())/w,k=(p.getY()-s.getY())/w,L=0,b=s.getX(),T=s.getY(),B=this.image.get(s.getX(),s.getY()),j=Math.ceil(w);for(let ee=0;ee<j;ee++)b+=A,T+=k,this.image.get(Kt.round(b),Kt.round(T))!==B&&L++;let V=L/w;return V>.1&&V<.9?0:V<=.1===B?1:-1}getFirstDifferent(s,p,w,A){let k=s.getX()+w,L=s.getY()+A;for(;this.isValid(k,L)&&this.image.get(k,L)===p;)k+=w,L+=A;for(k-=w,L-=A;this.isValid(k,L)&&this.image.get(k,L)===p;)k+=w;for(k-=w;this.isValid(k,L)&&this.image.get(k,L)===p;)L+=A;return L-=A,new Ze(k,L)}expandSquare(s,p,w){let A=w/(2*p),k=s[0].getX()-s[2].getX(),L=s[0].getY()-s[2].getY(),b=(s[0].getX()+s[2].getX())/2,T=(s[0].getY()+s[2].getY())/2,B=new Xt(b+A*k,T+A*L),j=new Xt(b-A*k,T-A*L);k=s[1].getX()-s[3].getX(),L=s[1].getY()-s[3].getY(),b=(s[1].getX()+s[3].getX())/2,T=(s[1].getY()+s[3].getY())/2;let V=new Xt(b+A*k,T+A*L),ee=new Xt(b-A*k,T-A*L);return[B,V,j,ee]}isValid(s,p){return s>=0&&s<this.image.getWidth()&&p>0&&p<this.image.getHeight()}isValidPoint(s){let p=Kt.round(s.getX()),w=Kt.round(s.getY());return this.isValid(p,w)}distancePoint(s,p){return Kt.distance(s.getX(),s.getY(),p.getX(),p.getY())}distanceResultPoint(s,p){return Kt.distance(s.getX(),s.getY(),p.getX(),p.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class we{decode(s,p=null){let w=null,A=new re(s.getBlackMatrix()),k=null,L=null;try{let j=A.detectMirror(!1);k=j.getPoints(),this.reportFoundResultPoints(p,k),L=new Ut().decode(j)}catch(j){w=j}if(L==null)try{let j=A.detectMirror(!0);k=j.getPoints(),this.reportFoundResultPoints(p,k),L=new Ut().decode(j)}catch(j){throw w??j}let b=new be(L.getText(),L.getRawBytes(),L.getNumBits(),k,Fe.AZTEC,D.currentTimeMillis()),T=L.getByteSegments();T!=null&&b.putMetadata(At.BYTE_SEGMENTS,T);let B=L.getECLevel();return B!=null&&b.putMetadata(At.ERROR_CORRECTION_LEVEL,B),b}reportFoundResultPoints(s,p){if(s!=null){let w=s.get(J.NEED_RESULT_POINT_CALLBACK);w!=null&&p.forEach((A,k,L)=>{w.foundPossibleResultPoint(A)})}}reset(){}}class Ve extends Z{constructor(s=500){super(new we,s)}}class it{decode(s,p){try{return this.doDecode(s,p)}catch{if(p&&p.get(J.TRY_HARDER)===!0&&s.isRotateSupported()){const k=s.rotateCounterClockwise(),L=this.doDecode(k,p),b=L.getResultMetadata();let T=270;b!==null&&b.get(At.ORIENTATION)===!0&&(T=T+b.get(At.ORIENTATION)%360),L.putMetadata(At.ORIENTATION,T);const B=L.getResultPoints();if(B!==null){const j=k.getHeight();for(let V=0;V<B.length;V++)B[V]=new Xt(j-B[V].getY()-1,B[V].getX())}return L}else throw new ge}}reset(){}doDecode(s,p){const w=s.getWidth(),A=s.getHeight();let k=new W(w);const L=p&&p.get(J.TRY_HARDER)===!0,b=Math.max(1,A>>(L?8:5));let T;L?T=A:T=15;const B=Math.trunc(A/2);for(let j=0;j<T;j++){const V=Math.trunc((j+1)/2),ee=(j&1)===0,he=B+b*(ee?V:-V);if(he<0||he>=A)break;try{k=s.getBlackRow(he,k)}catch{continue}for(let Ae=0;Ae<2;Ae++){if(Ae===1&&(k.reverse(),p&&p.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const Oe=new Map;p.forEach((Le,Xe)=>Oe.set(Xe,Le)),Oe.delete(J.NEED_RESULT_POINT_CALLBACK),p=Oe}try{const Oe=this.decodeRow(he,k,p);if(Ae===1){Oe.putMetadata(At.ORIENTATION,180);const Le=Oe.getResultPoints();Le!==null&&(Le[0]=new Xt(w-Le[0].getX()-1,Le[0].getY()),Le[1]=new Xt(w-Le[1].getX()-1,Le[1].getY()))}return Oe}catch{}}}throw new ge}static recordPattern(s,p,w){const A=w.length;for(let B=0;B<A;B++)w[B]=0;const k=s.getSize();if(p>=k)throw new ge;let L=!s.get(p),b=0,T=p;for(;T<k;){if(s.get(T)!==L)w[b]++;else{if(++b===A)break;w[b]=1,L=!L}T++}if(!(b===A||b===A-1&&T===k))throw new ge}static recordPatternInReverse(s,p,w){let A=w.length,k=s.get(p);for(;p>0&&A>=0;)s.get(--p)!==k&&(A--,k=!k);if(A>=0)throw new ge;it.recordPattern(s,p+1,w)}static patternMatchVariance(s,p,w){const A=s.length;let k=0,L=0;for(let B=0;B<A;B++)k+=s[B],L+=p[B];if(k<L)return Number.POSITIVE_INFINITY;const b=k/L;w*=b;let T=0;for(let B=0;B<A;B++){const j=s[B],V=p[B]*b,ee=j>V?j-V:V-j;if(ee>w)return Number.POSITIVE_INFINITY;T+=ee}return T/k}}class We extends it{static findStartPattern(s){const p=s.getSize(),w=s.getNextSet(0);let A=0,k=Int32Array.from([0,0,0,0,0,0]),L=w,b=!1;const T=6;for(let B=w;B<p;B++)if(s.get(B)!==b)k[A]++;else{if(A===T-1){let j=We.MAX_AVG_VARIANCE,V=-1;for(let ee=We.CODE_START_A;ee<=We.CODE_START_C;ee++){const he=it.patternMatchVariance(k,We.CODE_PATTERNS[ee],We.MAX_INDIVIDUAL_VARIANCE);he<j&&(j=he,V=ee)}if(V>=0&&s.isRange(Math.max(0,L-(B-L)/2),L,!1))return Int32Array.from([L,B,V]);L+=k[0]+k[1],k=k.slice(2,k.length-1),k[A-1]=0,k[A]=0,A--}else A++;k[A]=1,b=!b}throw new ge}static decodeCode(s,p,w){it.recordPattern(s,w,p);let A=We.MAX_AVG_VARIANCE,k=-1;for(let L=0;L<We.CODE_PATTERNS.length;L++){const b=We.CODE_PATTERNS[L],T=this.patternMatchVariance(p,b,We.MAX_INDIVIDUAL_VARIANCE);T<A&&(A=T,k=L)}if(k>=0)return k;throw new ge}decodeRow(s,p,w){const A=w&&w.get(J.ASSUME_GS1)===!0,k=We.findStartPattern(p),L=k[2];let b=0;const T=new Uint8Array(20);T[b++]=L;let B;switch(L){case We.CODE_START_A:B=We.CODE_CODE_A;break;case We.CODE_START_B:B=We.CODE_CODE_B;break;case We.CODE_START_C:B=We.CODE_CODE_C;break;default:throw new ne}let j=!1,V=!1,ee="",he=k[0],Ae=k[1];const Oe=Int32Array.from([0,0,0,0,0,0]);let Le=0,Xe=0,Ke=L,ot=0,Je=!0,wt=!1,R=!1;for(;!j;){const tt=V;switch(V=!1,Le=Xe,Xe=We.decodeCode(p,Oe,Ae),T[b++]=Xe,Xe!==We.CODE_STOP&&(Je=!0),Xe!==We.CODE_STOP&&(ot++,Ke+=ot*Xe),he=Ae,Ae+=Oe.reduce((xt,Rt)=>xt+Rt,0),Xe){case We.CODE_START_A:case We.CODE_START_B:case We.CODE_START_C:throw new ne}switch(B){case We.CODE_CODE_A:if(Xe<64)R===wt?ee+=String.fromCharCode(32+Xe):ee+=String.fromCharCode(32+Xe+128),R=!1;else if(Xe<96)R===wt?ee+=String.fromCharCode(Xe-64):ee+=String.fromCharCode(Xe+64),R=!1;else switch(Xe!==We.CODE_STOP&&(Je=!1),Xe){case We.CODE_FNC_1:A&&(ee.length===0?ee+="]C1":ee+="");break;case We.CODE_FNC_2:case We.CODE_FNC_3:break;case We.CODE_FNC_4_A:!wt&&R?(wt=!0,R=!1):wt&&R?(wt=!1,R=!1):R=!0;break;case We.CODE_SHIFT:V=!0,B=We.CODE_CODE_B;break;case We.CODE_CODE_B:B=We.CODE_CODE_B;break;case We.CODE_CODE_C:B=We.CODE_CODE_C;break;case We.CODE_STOP:j=!0;break}break;case We.CODE_CODE_B:if(Xe<96)R===wt?ee+=String.fromCharCode(32+Xe):ee+=String.fromCharCode(32+Xe+128),R=!1;else switch(Xe!==We.CODE_STOP&&(Je=!1),Xe){case We.CODE_FNC_1:A&&(ee.length===0?ee+="]C1":ee+="");break;case We.CODE_FNC_2:case We.CODE_FNC_3:break;case We.CODE_FNC_4_B:!wt&&R?(wt=!0,R=!1):wt&&R?(wt=!1,R=!1):R=!0;break;case We.CODE_SHIFT:V=!0,B=We.CODE_CODE_A;break;case We.CODE_CODE_A:B=We.CODE_CODE_A;break;case We.CODE_CODE_C:B=We.CODE_CODE_C;break;case We.CODE_STOP:j=!0;break}break;case We.CODE_CODE_C:if(Xe<100)Xe<10&&(ee+="0"),ee+=Xe;else switch(Xe!==We.CODE_STOP&&(Je=!1),Xe){case We.CODE_FNC_1:A&&(ee.length===0?ee+="]C1":ee+="");break;case We.CODE_CODE_A:B=We.CODE_CODE_A;break;case We.CODE_CODE_B:B=We.CODE_CODE_B;break;case We.CODE_STOP:j=!0;break}break}tt&&(B=B===We.CODE_CODE_A?We.CODE_CODE_B:We.CODE_CODE_A)}const P=Ae-he;if(Ae=p.getNextUnset(Ae),!p.isRange(Ae,Math.min(p.getSize(),Ae+(Ae-he)/2),!1))throw new ge;if(Ke-=ot*Le,Ke%103!==Le)throw new m;const Y=ee.length;if(Y===0)throw new ge;Y>0&&Je&&(B===We.CODE_CODE_C?ee=ee.substring(0,Y-2):ee=ee.substring(0,Y-1));const $=(k[1]+k[0])/2,ae=he+P/2,De=T.length,ze=new Uint8Array(De);for(let tt=0;tt<De;tt++)ze[tt]=T[tt];const vt=[new Xt($,s),new Xt(ae,s)];return new be(ee,ze,0,vt,Fe.CODE_128,new Date().getTime())}}We.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],We.MAX_AVG_VARIANCE=.25,We.MAX_INDIVIDUAL_VARIANCE=.7,We.CODE_SHIFT=98,We.CODE_CODE_C=99,We.CODE_CODE_B=100,We.CODE_CODE_A=101,We.CODE_FNC_1=102,We.CODE_FNC_2=97,We.CODE_FNC_3=96,We.CODE_FNC_4_A=101,We.CODE_FNC_4_B=100,We.CODE_START_A=103,We.CODE_START_B=104,We.CODE_START_C=105,We.CODE_STOP=106;class Ct extends it{constructor(s=!1,p=!1){super(),this.usingCheckDigit=s,this.extendedMode=p,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,p,w){let A=this.counters;A.fill(0),this.decodeRowResult="";let k=Ct.findAsteriskPattern(p,A),L=p.getNextSet(k[1]),b=p.getSize(),T,B;do{Ct.recordPattern(p,L,A);let Oe=Ct.toNarrowWidePattern(A);if(Oe<0)throw new ge;T=Ct.patternToChar(Oe),this.decodeRowResult+=T,B=L;for(let Le of A)L+=Le;L=p.getNextSet(L)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let Oe of A)j+=Oe;let V=L-B-j;if(L!==b&&V*2<j)throw new ge;if(this.usingCheckDigit){let Oe=this.decodeRowResult.length-1,Le=0;for(let Xe=0;Xe<Oe;Xe++)Le+=Ct.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Xe));if(this.decodeRowResult.charAt(Oe)!==Ct.ALPHABET_STRING.charAt(Le%43))throw new m;this.decodeRowResult=this.decodeRowResult.substring(0,Oe)}if(this.decodeRowResult.length===0)throw new ge;let ee;this.extendedMode?ee=Ct.decodeExtended(this.decodeRowResult):ee=this.decodeRowResult;let he=(k[1]+k[0])/2,Ae=B+j/2;return new be(ee,null,0,[new Xt(he,s),new Xt(Ae,s)],Fe.CODE_39,new Date().getTime())}static findAsteriskPattern(s,p){let w=s.getSize(),A=s.getNextSet(0),k=0,L=A,b=!1,T=p.length;for(let B=A;B<w;B++)if(s.get(B)!==b)p[k]++;else{if(k===T-1){if(this.toNarrowWidePattern(p)===Ct.ASTERISK_ENCODING&&s.isRange(Math.max(0,L-Math.floor((B-L)/2)),L,!1))return[L,B];L+=p[0]+p[1],p.copyWithin(0,2,2+k-1),p[k-1]=0,p[k]=0,k--}else k++;p[k]=1,b=!b}throw new ge}static toNarrowWidePattern(s){let p=s.length,w=0,A;do{let k=2147483647;for(let T of s)T<k&&T>w&&(k=T);w=k,A=0;let L=0,b=0;for(let T=0;T<p;T++){let B=s[T];B>w&&(b|=1<<p-1-T,A++,L+=B)}if(A===3){for(let T=0;T<p&&A>0;T++){let B=s[T];if(B>w&&(A--,B*2>=L))return-1}return b}}while(A>3);return-1}static patternToChar(s){for(let p=0;p<Ct.CHARACTER_ENCODINGS.length;p++)if(Ct.CHARACTER_ENCODINGS[p]===s)return Ct.ALPHABET_STRING.charAt(p);if(s===Ct.ASTERISK_ENCODING)return"*";throw new ge}static decodeExtended(s){let p=s.length,w="";for(let A=0;A<p;A++){let k=s.charAt(A);if(k==="+"||k==="$"||k==="%"||k==="/"){let L=s.charAt(A+1),b="\0";switch(k){case"+":if(L>="A"&&L<="Z")b=String.fromCharCode(L.charCodeAt(0)+32);else throw new ne;break;case"$":if(L>="A"&&L<="Z")b=String.fromCharCode(L.charCodeAt(0)-64);else throw new ne;break;case"%":if(L>="A"&&L<="E")b=String.fromCharCode(L.charCodeAt(0)-38);else if(L>="F"&&L<="J")b=String.fromCharCode(L.charCodeAt(0)-11);else if(L>="K"&&L<="O")b=String.fromCharCode(L.charCodeAt(0)+16);else if(L>="P"&&L<="T")b=String.fromCharCode(L.charCodeAt(0)+43);else if(L==="U")b="\0";else if(L==="V")b="@";else if(L==="W")b="`";else if(L==="X"||L==="Y"||L==="Z")b="";else throw new ne;break;case"/":if(L>="A"&&L<="O")b=String.fromCharCode(L.charCodeAt(0)-32);else if(L==="Z")b=":";else throw new ne;break}w+=b,A++}else w+=k}return w}}Ct.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ct.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ct.ASTERISK_ENCODING=148;class Ye extends it{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,p,w){let A=this.decodeStart(p),k=this.decodeEnd(p),L=new mt;Ye.decodeMiddle(p,A[1],k[0],L);let b=L.toString(),T=null;w!=null&&(T=w.get(J.ALLOWED_LENGTHS)),T==null&&(T=Ye.DEFAULT_ALLOWED_LENGTHS);let B=b.length,j=!1,V=0;for(let Ae of T){if(B===Ae){j=!0;break}Ae>V&&(V=Ae)}if(!j&&B>V&&(j=!0),!j)throw new ne;const ee=[new Xt(A[1],s),new Xt(k[0],s)];return new be(b,null,0,ee,Fe.ITF,new Date().getTime())}static decodeMiddle(s,p,w,A){let k=new Int32Array(10),L=new Int32Array(5),b=new Int32Array(5);for(k.fill(0),L.fill(0),b.fill(0);p<w;){it.recordPattern(s,p,k);for(let B=0;B<5;B++){let j=2*B;L[B]=k[j],b[B]=k[j+1]}let T=Ye.decodeDigit(L);A.append(T.toString()),T=this.decodeDigit(b),A.append(T.toString()),k.forEach(function(B){p+=B})}}decodeStart(s){let p=Ye.skipWhiteSpace(s),w=Ye.findGuardPattern(s,p,Ye.START_PATTERN);return this.narrowLineWidth=(w[1]-w[0])/4,this.validateQuietZone(s,w[0]),w}validateQuietZone(s,p){let w=this.narrowLineWidth*10;w=w<p?w:p;for(let A=p-1;w>0&&A>=0&&!s.get(A);A--)w--;if(w!==0)throw new ge}static skipWhiteSpace(s){const p=s.getSize(),w=s.getNextSet(0);if(w===p)throw new ge;return w}decodeEnd(s){s.reverse();try{let p=Ye.skipWhiteSpace(s),w;try{w=Ye.findGuardPattern(s,p,Ye.END_PATTERN_REVERSED[0])}catch(k){k instanceof ge&&(w=Ye.findGuardPattern(s,p,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,w[0]);let A=w[0];return w[0]=s.getSize()-w[1],w[1]=s.getSize()-A,w}finally{s.reverse()}}static findGuardPattern(s,p,w){let A=w.length,k=new Int32Array(A),L=s.getSize(),b=!1,T=0,B=p;k.fill(0);for(let j=p;j<L;j++)if(s.get(j)!==b)k[T]++;else{if(T===A-1){if(it.patternMatchVariance(k,w,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[B,j];B+=k[0]+k[1],D.arraycopy(k,2,k,0,T-1),k[T-1]=0,k[T]=0,T--}else T++;k[T]=1,b=!b}throw new ge}static decodeDigit(s){let p=Ye.MAX_AVG_VARIANCE,w=-1,A=Ye.PATTERNS.length;for(let k=0;k<A;k++){let L=Ye.PATTERNS[k],b=it.patternMatchVariance(s,L,Ye.MAX_INDIVIDUAL_VARIANCE);b<p?(p=b,w=k):b===p&&(w=-1)}if(w>=0)return w%10;throw new ge}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class at extends it{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let p=!1,w,A=0,k=Int32Array.from([0,0,0]);for(;!p;){k=Int32Array.from([0,0,0]),w=at.findGuardPattern(s,A,!1,this.START_END_PATTERN,k);let L=w[0];A=w[1];let b=L-(A-L);b>=0&&(p=s.isRange(b,L,!1))}return w}static checkChecksum(s){return at.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let p=s.length;if(p===0)return!1;let w=parseInt(s.charAt(p-1),10);return at.getStandardUPCEANChecksum(s.substring(0,p-1))===w}static getStandardUPCEANChecksum(s){let p=s.length,w=0;for(let A=p-1;A>=0;A-=2){let k=s.charAt(A).charCodeAt(0)-48;if(k<0||k>9)throw new ne;w+=k}w*=3;for(let A=p-2;A>=0;A-=2){let k=s.charAt(A).charCodeAt(0)-48;if(k<0||k>9)throw new ne;w+=k}return(1e3-w)%10}static decodeEnd(s,p){return at.findGuardPattern(s,p,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,p,w,A){return this.findGuardPattern(s,p,w,A,new Int32Array(A.length))}static findGuardPattern(s,p,w,A,k){let L=s.getSize();p=w?s.getNextUnset(p):s.getNextSet(p);let b=0,T=p,B=A.length,j=w;for(let V=p;V<L;V++)if(s.get(V)!==j)k[b]++;else{if(b===B-1){if(it.patternMatchVariance(k,A,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return Int32Array.from([T,V]);T+=k[0]+k[1];let ee=k.slice(2,k.length-1);for(let he=0;he<b-1;he++)k[he]=ee[he];k[b-1]=0,k[b]=0,b--}else b++;k[b]=1,j=!j}throw new ge}static decodeDigit(s,p,w,A){this.recordPattern(s,w,p);let k=this.MAX_AVG_VARIANCE,L=-1,b=A.length;for(let T=0;T<b;T++){let B=A[T],j=it.patternMatchVariance(p,B,at.MAX_INDIVIDUAL_VARIANCE);j<k&&(k=j,L=T)}if(L>=0)return L;throw new ge}}at.MAX_AVG_VARIANCE=.48,at.MAX_INDIVIDUAL_VARIANCE=.7,at.START_END_PATTERN=Int32Array.from([1,1,1]),at.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),at.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),at.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class St{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,p,w){let A=this.decodeRowStringBuffer,k=this.decodeMiddle(p,w,A),L=A.toString(),b=St.parseExtensionString(L),T=[new Xt((w[0]+w[1])/2,s),new Xt(k,s)],B=new be(L,null,0,T,Fe.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&B.putAllMetadata(b),B}decodeMiddle(s,p,w){let A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let k=s.getSize(),L=p[1],b=0;for(let B=0;B<5&&L<k;B++){let j=at.decodeDigit(s,A,L,at.L_AND_G_PATTERNS);w+=String.fromCharCode(48+j%10);for(let V of A)L+=V;j>=10&&(b|=1<<4-B),B!==4&&(L=s.getNextSet(L),L=s.getNextUnset(L))}if(w.length!==5)throw new ge;let T=this.determineCheckDigit(b);if(St.extensionChecksum(w.toString())!==T)throw new ge;return L}static extensionChecksum(s){let p=s.length,w=0;for(let A=p-2;A>=0;A-=2)w+=s.charAt(A).charCodeAt(0)-48;w*=3;for(let A=p-1;A>=0;A-=2)w+=s.charAt(A).charCodeAt(0)-48;return w*=3,w%10}determineCheckDigit(s){for(let p=0;p<10;p++)if(s===this.CHECK_DIGIT_ENCODINGS[p])return p;throw new ge}static parseExtensionString(s){if(s.length!==5)return null;let p=St.parseExtension5String(s);return p==null?null:new Map([[At.SUGGESTED_PRICE,p]])}static parseExtension5String(s){let p;switch(s.charAt(0)){case"0":p="";break;case"5":p="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}p="";break;default:p="";break}let w=parseInt(s.substring(1)),A=(w/100).toString(),k=w%100,L=k<10?"0"+k:k.toString();return p+A+"."+L}}class yt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,p,w){let A=this.decodeRowStringBuffer,k=this.decodeMiddle(p,w,A),L=A.toString(),b=yt.parseExtensionString(L),T=[new Xt((w[0]+w[1])/2,s),new Xt(k,s)],B=new be(L,null,0,T,Fe.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&B.putAllMetadata(b),B}decodeMiddle(s,p,w){let A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let k=s.getSize(),L=p[1],b=0;for(let T=0;T<2&&L<k;T++){let B=at.decodeDigit(s,A,L,at.L_AND_G_PATTERNS);w+=String.fromCharCode(48+B%10);for(let j of A)L+=j;B>=10&&(b|=1<<1-T),T!==1&&(L=s.getNextSet(L),L=s.getNextUnset(L))}if(w.length!==2)throw new ge;if(parseInt(w.toString())%4!==b)throw new ge;return L}static parseExtensionString(s){return s.length!==2?null:new Map([[At.ISSUE_NUMBER,parseInt(s)]])}}class Ft{static decodeRow(s,p,w){let A=at.findGuardPattern(p,w,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new St().decodeRow(s,p,A)}catch{return new yt().decodeRow(s,p,A)}}}Ft.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class pn extends at{constructor(){super(),this.decodeRowStringBuffer="",pn.L_AND_G_PATTERNS=pn.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let p=pn.L_PATTERNS[s-10],w=new Int32Array(p.length);for(let A=0;A<p.length;A++)w[A]=p[p.length-A-1];pn.L_AND_G_PATTERNS[s]=w}}decodeRow(s,p,w){let A=pn.findStartGuardPattern(p),k=w==null?null:w.get(J.NEED_RESULT_POINT_CALLBACK);if(k!=null){const Je=new Xt((A[0]+A[1])/2,s);k.foundPossibleResultPoint(Je)}let L=this.decodeMiddle(p,A,this.decodeRowStringBuffer),b=L.rowOffset,T=L.resultString;if(k!=null){const Je=new Xt(b,s);k.foundPossibleResultPoint(Je)}let B=this.decodeEnd(p,b);if(k!=null){const Je=new Xt((B[0]+B[1])/2,s);k.foundPossibleResultPoint(Je)}let j=B[1],V=j+(j-B[0]);if(V>=p.getSize()||!p.isRange(j,V,!1))throw new ge;let ee=T.toString();if(ee.length<8)throw new ne;if(!pn.checkChecksum(ee))throw new m;let he=(A[1]+A[0])/2,Ae=(B[1]+B[0])/2,Oe=this.getBarcodeFormat(),Le=[new Xt(he,s),new Xt(Ae,s)],Xe=new be(ee,null,0,Le,Oe,new Date().getTime()),Ke=0;try{let Je=Ft.decodeRow(s,p,B[1]);Xe.putMetadata(At.UPC_EAN_EXTENSION,Je.getText()),Xe.putAllMetadata(Je.getResultMetadata()),Xe.addResultPoints(Je.getResultPoints()),Ke=Je.getText().length}catch{}let ot=w==null?null:w.get(J.ALLOWED_EAN_EXTENSIONS);if(ot!=null){let Je=!1;for(let wt in ot)if(Ke.toString()===wt){Je=!0;break}if(!Je)throw new ge}return Xe}decodeEnd(s,p){return pn.findGuardPattern(s,p,!1,pn.START_END_PATTERN,new Int32Array(pn.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return pn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let p=s.length;if(p===0)return!1;let w=parseInt(s.charAt(p-1),10);return pn.getStandardUPCEANChecksum(s.substring(0,p-1))===w}static getStandardUPCEANChecksum(s){let p=s.length,w=0;for(let A=p-1;A>=0;A-=2){let k=s.charAt(A).charCodeAt(0)-48;if(k<0||k>9)throw new ne;w+=k}w*=3;for(let A=p-2;A>=0;A-=2){let k=s.charAt(A).charCodeAt(0)-48;if(k<0||k>9)throw new ne;w+=k}return(1e3-w)%10}}class Cn extends pn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,p,w){let A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let k=s.getSize(),L=p[1],b=0;for(let B=0;B<6&&L<k;B++){let j=pn.decodeDigit(s,A,L,pn.L_AND_G_PATTERNS);w+=String.fromCharCode(48+j%10);for(let V of A)L+=V;j>=10&&(b|=1<<5-B)}w=Cn.determineFirstDigit(w,b),L=pn.findGuardPattern(s,L,!0,pn.MIDDLE_PATTERN,new Int32Array(pn.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&L<k;B++){let j=pn.decodeDigit(s,A,L,pn.L_PATTERNS);w+=String.fromCharCode(48+j);for(let V of A)L+=V}return{rowOffset:L,resultString:w}}getBarcodeFormat(){return Fe.EAN_13}static determineFirstDigit(s,p){for(let w=0;w<10;w++)if(p===this.FIRST_DIGIT_ENCODINGS[w])return s=String.fromCharCode(48+w)+s,s;throw new ge}}Cn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class vn extends pn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,p,w){const A=this.decodeMiddleCounters;A[0]=0,A[1]=0,A[2]=0,A[3]=0;let k=s.getSize(),L=p[1];for(let T=0;T<4&&L<k;T++){let B=pn.decodeDigit(s,A,L,pn.L_PATTERNS);w+=String.fromCharCode(48+B);for(let j of A)L+=j}L=pn.findGuardPattern(s,L,!0,pn.MIDDLE_PATTERN,new Int32Array(pn.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&L<k;T++){let B=pn.decodeDigit(s,A,L,pn.L_PATTERNS);w+=String.fromCharCode(48+B);for(let j of A)L+=j}return{rowOffset:L,resultString:w}}getBarcodeFormat(){return Fe.EAN_8}}class $n extends pn{constructor(){super(...arguments),this.ean13Reader=new Cn}getBarcodeFormat(){return Fe.UPC_A}decode(s,p){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,p,w){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,p,w))}decodeMiddle(s,p,w){return this.ean13Reader.decodeMiddle(s,p,w)}maybeReturnResult(s){let p=s.getText();if(p.charAt(0)==="0"){let w=new be(p.substring(1),null,null,s.getResultPoints(),Fe.UPC_A);return s.getResultMetadata()!=null&&w.putAllMetadata(s.getResultMetadata()),w}else throw new ge}reset(){this.ean13Reader.reset()}}class Yn extends pn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,p,w){const A=this.decodeMiddleCounters.map(B=>B);A[0]=0,A[1]=0,A[2]=0,A[3]=0;const k=s.getSize();let L=p[1],b=0;for(let B=0;B<6&&L<k;B++){const j=Yn.decodeDigit(s,A,L,Yn.L_AND_G_PATTERNS);w+=String.fromCharCode(48+j%10);for(let V of A)L+=V;j>=10&&(b|=1<<5-B)}let T=Yn.determineNumSysAndCheckDigit(w,b);return{rowOffset:L,resultString:T}}decodeEnd(s,p){return Yn.findGuardPatternWithoutCounters(s,p,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(s){return pn.checkChecksum(Yn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,p){for(let w=0;w<=1;w++)for(let A=0;A<10;A++)if(p===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[w][A]){let k=String.fromCharCode(48+w),L=String.fromCharCode(48+A);return k+s+L}throw ge.getNotFoundInstance()}getBarcodeFormat(){return Fe.UPC_E}static convertUPCEtoUPCA(s){const p=s.slice(1,7).split("").map(k=>k.charCodeAt(0)),w=new mt;w.append(s.charAt(0));let A=p[5];switch(A){case 0:case 1:case 2:w.appendChars(p,0,2),w.append(A),w.append("0000"),w.appendChars(p,2,3);break;case 3:w.appendChars(p,0,3),w.append("00000"),w.appendChars(p,3,2);break;case 4:w.appendChars(p,0,4),w.append("00000"),w.append(p[4]);break;default:w.appendChars(p,0,5),w.append("0000"),w.append(A);break}return s.length>=8&&w.append(s.charAt(7)),w.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class er extends it{constructor(s){super();let p=s==null?null:s.get(J.POSSIBLE_FORMATS),w=[];r(p)?(w.push(new Cn),w.push(new $n),w.push(new vn),w.push(new Yn)):(p.indexOf(Fe.EAN_13)>-1&&w.push(new Cn),p.indexOf(Fe.UPC_A)>-1&&w.push(new $n),p.indexOf(Fe.EAN_8)>-1&&w.push(new vn),p.indexOf(Fe.UPC_E)>-1&&w.push(new Yn)),this.readers=w}decodeRow(s,p,w){for(let A of this.readers)try{const k=A.decodeRow(s,p,w),L=k.getBarcodeFormat()===Fe.EAN_13&&k.getText().charAt(0)==="0",b=w==null?null:w.get(J.POSSIBLE_FORMATS),T=b==null||b.includes(Fe.UPC_A);if(L&&T){const B=k.getRawBytes(),j=new be(k.getText().substring(1),B,B?B.length:null,k.getResultPoints(),Fe.UPC_A);return j.putAllMetadata(k.getResultMetadata()),j}return k}catch{}throw new ge}reset(){for(let s of this.readers)s.reset()}}class Hn extends it{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,p){for(let w=0;w<p.length;w++)if(it.patternMatchVariance(s,p[w],Hn.MAX_INDIVIDUAL_VARIANCE)<Hn.MAX_AVG_VARIANCE)return w;throw new ge}static count(s){return Kt.sum(new Int32Array(s))}static increment(s,p){let w=0,A=p[0];for(let k=1;k<s.length;k++)p[k]>A&&(A=p[k],w=k);s[w]++}static decrement(s,p){let w=0,A=p[0];for(let k=1;k<s.length;k++)p[k]<A&&(A=p[k],w=k);s[w]--}static isFinderPattern(s){let p=s[0]+s[1],w=p+s[2]+s[3],A=p/w;if(A>=Hn.MIN_FINDER_PATTERN_RATIO&&A<=Hn.MAX_FINDER_PATTERN_RATIO){let k=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER;for(let b of s)b>L&&(L=b),b<k&&(k=b);return L<10*k}return!1}}Hn.MAX_AVG_VARIANCE=.2,Hn.MAX_INDIVIDUAL_VARIANCE=.45,Hn.MIN_FINDER_PATTERN_RATIO=9.5/12,Hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class xr{constructor(s,p){this.value=s,this.checksumPortion=p}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof xr))return!1;const p=s;return this.value===p.value&&this.checksumPortion===p.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Br{constructor(s,p,w,A,k){this.value=s,this.startEnd=p,this.value=s,this.startEnd=p,this.resultPoints=new Array,this.resultPoints.push(new Xt(w,k)),this.resultPoints.push(new Xt(A,k))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Br))return!1;const p=s;return this.value===p.value}hashCode(){return this.value}}class mr{constructor(){}static getRSSvalue(s,p,w){let A=0;for(let T of s)A+=T;let k=0,L=0,b=s.length;for(let T=0;T<b-1;T++){let B;for(B=1,L|=1<<T;B<s[T];B++,L&=~(1<<T)){let j=mr.combins(A-B-1,b-T-2);if(w&&L===0&&A-B-(b-T-1)>=b-T-1&&(j-=mr.combins(A-B-(b-T),b-T-2)),b-T-1>1){let V=0;for(let ee=A-B-(b-T-2);ee>p;ee--)V+=mr.combins(A-B-ee-1,b-T-3);j-=V*(b-1-T)}else A-B>p&&j--;k+=j}A-=B}return k}static combins(s,p){let w,A;s-p>p?(A=p,w=s-p):(A=s-p,w=p);let k=1,L=1;for(let b=s;b>w;b--)k*=b,L<=A&&(k/=L,L++);for(;L<=A;)k/=L,L++;return k}}class Mi{static buildBitArray(s){let p=s.length*2-1;s[s.length-1].getRightChar()==null&&(p-=1);let w=12*p,A=new W(w),k=0,b=s[0].getRightChar().getValue();for(let T=11;T>=0;--T)(b&1<<T)!=0&&A.set(k),k++;for(let T=1;T<s.length;++T){let B=s[T],j=B.getLeftChar().getValue();for(let V=11;V>=0;--V)(j&1<<V)!=0&&A.set(k),k++;if(B.getRightChar()!=null){let V=B.getRightChar().getValue();for(let ee=11;ee>=0;--ee)(V&1<<ee)!=0&&A.set(k),k++}}return A}}class Jn{constructor(s,p){p?this.decodedInformation=null:(this.finished=s,this.decodedInformation=p)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fr{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class si extends Fr{constructor(s,p){super(s),this.value=p}getValue(){return this.value}isFNC1(){return this.value===si.FNC1}}si.FNC1="$";class Yr extends Fr{constructor(s,p,w){super(s),w?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=p}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vi extends Fr{constructor(s,p,w){if(super(s),p<0||p>10||w<0||w>10)throw new ne;this.firstDigit=p,this.secondDigit=w}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vi.FNC1}isSecondDigitFNC1(){return this.secondDigit===vi.FNC1}isAnyFNC1(){return this.firstDigit===vi.FNC1||this.secondDigit===vi.FNC1}}vi.FNC1=10;class Sn{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ge;let p=s.substring(0,2);for(let k of Sn.TWO_DIGIT_DATA_LENGTH)if(k[0]===p)return k[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(2,k[2],s):Sn.processFixedAI(2,k[1],s);if(s.length<3)throw new ge;let w=s.substring(0,3);for(let k of Sn.THREE_DIGIT_DATA_LENGTH)if(k[0]===w)return k[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(3,k[2],s):Sn.processFixedAI(3,k[1],s);for(let k of Sn.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(k[0]===w)return k[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(4,k[2],s):Sn.processFixedAI(4,k[1],s);if(s.length<4)throw new ge;let A=s.substring(0,4);for(let k of Sn.FOUR_DIGIT_DATA_LENGTH)if(k[0]===A)return k[1]===Sn.VARIABLE_LENGTH?Sn.processVariableAI(4,k[2],s):Sn.processFixedAI(4,k[1],s);throw new ge}static processFixedAI(s,p,w){if(w.length<s)throw new ge;let A=w.substring(0,s);if(w.length<s+p)throw new ge;let k=w.substring(s,s+p),L=w.substring(s+p),b="("+A+")"+k,T=Sn.parseFieldsInGeneralPurpose(L);return T==null?b:b+T}static processVariableAI(s,p,w){let A=w.substring(0,s),k;w.length<s+p?k=w.length:k=s+p;let L=w.substring(s,k),b=w.substring(k),T="("+A+")"+L,B=Sn.parseFieldsInGeneralPurpose(b);return B==null?T:T+B}}Sn.VARIABLE_LENGTH=[],Sn.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Sn.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Sn.VARIABLE_LENGTH,20],["22",Sn.VARIABLE_LENGTH,29],["30",Sn.VARIABLE_LENGTH,8],["37",Sn.VARIABLE_LENGTH,8],["90",Sn.VARIABLE_LENGTH,30],["91",Sn.VARIABLE_LENGTH,30],["92",Sn.VARIABLE_LENGTH,30],["93",Sn.VARIABLE_LENGTH,30],["94",Sn.VARIABLE_LENGTH,30],["95",Sn.VARIABLE_LENGTH,30],["96",Sn.VARIABLE_LENGTH,30],["97",Sn.VARIABLE_LENGTH,3],["98",Sn.VARIABLE_LENGTH,30],["99",Sn.VARIABLE_LENGTH,30]],Sn.THREE_DIGIT_DATA_LENGTH=[["240",Sn.VARIABLE_LENGTH,30],["241",Sn.VARIABLE_LENGTH,30],["242",Sn.VARIABLE_LENGTH,6],["250",Sn.VARIABLE_LENGTH,30],["251",Sn.VARIABLE_LENGTH,30],["253",Sn.VARIABLE_LENGTH,17],["254",Sn.VARIABLE_LENGTH,20],["400",Sn.VARIABLE_LENGTH,30],["401",Sn.VARIABLE_LENGTH,30],["402",17],["403",Sn.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Sn.VARIABLE_LENGTH,20],["421",Sn.VARIABLE_LENGTH,15],["422",3],["423",Sn.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Sn.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Sn.VARIABLE_LENGTH,15],["391",Sn.VARIABLE_LENGTH,18],["392",Sn.VARIABLE_LENGTH,15],["393",Sn.VARIABLE_LENGTH,18],["703",Sn.VARIABLE_LENGTH,30]],Sn.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Sn.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Sn.VARIABLE_LENGTH,20],["8003",Sn.VARIABLE_LENGTH,30],["8004",Sn.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Sn.VARIABLE_LENGTH,30],["8008",Sn.VARIABLE_LENGTH,12],["8018",18],["8020",Sn.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Sn.VARIABLE_LENGTH,70],["8200",Sn.VARIABLE_LENGTH,70]];class vr{constructor(s){this.buffer=new mt,this.information=s}decodeAllCodes(s,p){let w=p,A=null;do{let k=this.decodeGeneralPurposeField(w,A),L=Sn.parseFieldsInGeneralPurpose(k.getNewString());if(L!=null&&s.append(L),k.isRemaining()?A=""+k.getRemainingValue():A=null,w===k.getNewPosition())break;w=k.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let p=s;p<s+3;++p)if(this.information.get(p))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let k=this.extractNumericValueFromBitArray(s,4);return k===0?new vi(this.information.getSize(),vi.FNC1,vi.FNC1):new vi(this.information.getSize(),k-1,vi.FNC1)}let p=this.extractNumericValueFromBitArray(s,7),w=(p-8)/11,A=(p-8)%11;return new vi(s+7,w,A)}extractNumericValueFromBitArray(s,p){return vr.extractNumericValueFromBitArray(this.information,s,p)}static extractNumericValueFromBitArray(s,p,w){let A=0;for(let k=0;k<w;++k)s.get(p+k)&&(A|=1<<w-k-1);return A}decodeGeneralPurposeField(s,p){this.buffer.setLengthToZero(),p!=null&&this.buffer.append(p),this.current.setPosition(s);let w=this.parseBlocks();return w!=null&&w.isRemaining()?new Yr(this.current.getPosition(),this.buffer.toString(),w.getRemainingValue()):new Yr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,p;do{let w=this.current.getPosition();if(this.current.isAlpha()?(p=this.parseAlphaBlock(),s=p.isFinished()):this.current.isIsoIec646()?(p=this.parseIsoIec646Block(),s=p.isFinished()):(p=this.parseNumericBlock(),s=p.isFinished()),!(w!==this.current.getPosition())&&!s)break}while(!s);return p.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let p;return s.isSecondDigitFNC1()?p=new Yr(this.current.getPosition(),this.buffer.toString()):p=new Yr(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Jn(!0,p)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let p=new Yr(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let p=new Yr(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let p=new Yr(this.current.getPosition(),this.buffer.toString());return new Jn(!0,p)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jn(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(s,5);if(p>=5&&p<16)return!0;if(s+7>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(s,7);if(w>=64&&w<116)return!0;if(s+8>this.information.getSize())return!1;let A=this.extractNumericValueFromBitArray(s,8);return A>=232&&A<253}decodeIsoIec646(s){let p=this.extractNumericValueFromBitArray(s,5);if(p===15)return new si(s+5,si.FNC1);if(p>=5&&p<15)return new si(s+5,"0"+(p-5));let w=this.extractNumericValueFromBitArray(s,7);if(w>=64&&w<90)return new si(s+7,""+(w+1));if(w>=90&&w<116)return new si(s+7,""+(w+7));let A=this.extractNumericValueFromBitArray(s,8),k;switch(A){case 232:k="!";break;case 233:k='"';break;case 234:k="%";break;case 235:k="&";break;case 236:k="'";break;case 237:k="(";break;case 238:k=")";break;case 239:k="*";break;case 240:k="+";break;case 241:k=",";break;case 242:k="-";break;case 243:k=".";break;case 244:k="/";break;case 245:k=":";break;case 246:k=";";break;case 247:k="<";break;case 248:k="=";break;case 249:k=">";break;case 250:k="?";break;case 251:k="_";break;case 252:k=" ";break;default:throw new ne}return new si(s+8,k)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(s,5);if(p>=5&&p<16)return!0;if(s+6>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(s,6);return w>=16&&w<63}decodeAlphanumeric(s){let p=this.extractNumericValueFromBitArray(s,5);if(p===15)return new si(s+5,si.FNC1);if(p>=5&&p<15)return new si(s+5,"0"+(p-5));let w=this.extractNumericValueFromBitArray(s,6);if(w>=32&&w<58)return new si(s+6,""+(w+33));let A;switch(w){case 58:A="*";break;case 59:A=",";break;case 60:A="-";break;case 61:A=".";break;case 62:A="/";break;default:throw new Dt("Decoding invalid alphanumeric value: "+w)}return new si(s+6,A)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let p=0;p<5&&p+s<this.information.getSize();++p)if(p===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+p))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let p=s;p<s+3;++p)if(this.information.get(p))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let p=0;p<4&&p+s<this.information.getSize();++p)if(this.information.get(s+p))return!1;return!0}}class Pr{constructor(s){this.information=s,this.generalDecoder=new vr(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ar extends Pr{constructor(s){super(s)}encodeCompressedGtin(s,p){s.append("(01)");let w=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,p,w)}encodeCompressedGtinWithoutAI(s,p,w){for(let A=0;A<4;++A){let k=this.getGeneralDecoder().extractNumericValueFromBitArray(p+10*A,10);k/100===0&&s.append("0"),k/10===0&&s.append("0"),s.append(k)}ar.appendCheckDigit(s,w)}static appendCheckDigit(s,p){let w=0;for(let A=0;A<13;A++){let k=s.charAt(A+p).charCodeAt(0)-48;w+=(A&1)===0?3*k:k}w=10-w%10,w===10&&(w=0),s.append(w)}}ar.GTIN_SIZE=40;class fi extends ar{constructor(s){super(s)}parseInformation(){let s=new mt;s.append("(01)");let p=s.length(),w=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE,4);return s.append(w),this.encodeCompressedGtinWithoutAI(s,fi.HEADER_SIZE+4,p),this.getGeneralDecoder().decodeAllCodes(s,fi.HEADER_SIZE+44)}}fi.HEADER_SIZE=4;class yi extends Pr{constructor(s){super(s)}parseInformation(){let s=new mt;return this.getGeneralDecoder().decodeAllCodes(s,yi.HEADER_SIZE)}}yi.HEADER_SIZE=5;class xi extends ar{constructor(s){super(s)}encodeCompressedWeight(s,p,w){let A=this.getGeneralDecoder().extractNumericValueFromBitArray(p,w);this.addWeightCode(s,A);let k=this.checkWeight(A),L=1e5;for(let b=0;b<5;++b)k/L===0&&s.append("0"),L/=10;s.append(k)}}class Tr extends xi{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Tr.HEADER_SIZE+xi.GTIN_SIZE+Tr.WEIGHT_SIZE)throw new ge;let s=new mt;return this.encodeCompressedGtin(s,Tr.HEADER_SIZE),this.encodeCompressedWeight(s,Tr.HEADER_SIZE+xi.GTIN_SIZE,Tr.WEIGHT_SIZE),s.toString()}}Tr.HEADER_SIZE=5,Tr.WEIGHT_SIZE=15;class zr extends Tr{constructor(s){super(s)}addWeightCode(s,p){s.append("(3103)")}checkWeight(s){return s}}class gr extends Tr{constructor(s){super(s)}addWeightCode(s,p){p<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class aa extends ar{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<aa.HEADER_SIZE+ar.GTIN_SIZE)throw new ge;let s=new mt;this.encodeCompressedGtin(s,aa.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(aa.HEADER_SIZE+ar.GTIN_SIZE,aa.LAST_DIGIT_SIZE);s.append("(392"),s.append(p),s.append(")");let w=this.getGeneralDecoder().decodeGeneralPurposeField(aa.HEADER_SIZE+ar.GTIN_SIZE+aa.LAST_DIGIT_SIZE,null);return s.append(w.getNewString()),s.toString()}}aa.HEADER_SIZE=8,aa.LAST_DIGIT_SIZE=2;class Hr extends ar{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Hr.HEADER_SIZE+ar.GTIN_SIZE)throw new ge;let s=new mt;this.encodeCompressedGtin(s,Hr.HEADER_SIZE);let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Hr.HEADER_SIZE+ar.GTIN_SIZE,Hr.LAST_DIGIT_SIZE);s.append("(393"),s.append(p),s.append(")");let w=this.getGeneralDecoder().extractNumericValueFromBitArray(Hr.HEADER_SIZE+ar.GTIN_SIZE+Hr.LAST_DIGIT_SIZE,Hr.FIRST_THREE_DIGITS_SIZE);w/100==0&&s.append("0"),w/10==0&&s.append("0"),s.append(w);let A=this.getGeneralDecoder().decodeGeneralPurposeField(Hr.HEADER_SIZE+ar.GTIN_SIZE+Hr.LAST_DIGIT_SIZE+Hr.FIRST_THREE_DIGITS_SIZE,null);return s.append(A.getNewString()),s.toString()}}Hr.HEADER_SIZE=8,Hr.LAST_DIGIT_SIZE=2,Hr.FIRST_THREE_DIGITS_SIZE=10;class or extends xi{constructor(s,p,w){super(s),this.dateCode=w,this.firstAIdigits=p}parseInformation(){if(this.getInformation().getSize()!=or.HEADER_SIZE+or.GTIN_SIZE+or.WEIGHT_SIZE+or.DATE_SIZE)throw new ge;let s=new mt;return this.encodeCompressedGtin(s,or.HEADER_SIZE),this.encodeCompressedWeight(s,or.HEADER_SIZE+or.GTIN_SIZE,or.WEIGHT_SIZE),this.encodeCompressedDate(s,or.HEADER_SIZE+or.GTIN_SIZE+or.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,p){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(p,or.DATE_SIZE);if(w==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let A=w%32;w/=32;let k=w%12+1;w/=12;let L=w;L/10==0&&s.append("0"),s.append(L),k/10==0&&s.append("0"),s.append(k),A/10==0&&s.append("0"),s.append(A)}addWeightCode(s,p){s.append("("),s.append(this.firstAIdigits),s.append(p/1e5),s.append(")")}checkWeight(s){return s%1e5}}or.HEADER_SIZE=8,or.WEIGHT_SIZE=20,or.DATE_SIZE=16;function co(_e){try{if(_e.get(1))return new fi(_e);if(!_e.get(2))return new yi(_e);switch(vr.extractNumericValueFromBitArray(_e,1,4)){case 4:return new zr(_e);case 5:return new gr(_e)}switch(vr.extractNumericValueFromBitArray(_e,1,5)){case 12:return new aa(_e);case 13:return new Hr(_e)}switch(vr.extractNumericValueFromBitArray(_e,1,7)){case 56:return new or(_e,"310","11");case 57:return new or(_e,"320","11");case 58:return new or(_e,"310","13");case 59:return new or(_e,"320","13");case 60:return new or(_e,"310","15");case 61:return new or(_e,"320","15");case 62:return new or(_e,"310","17");case 63:return new or(_e,"320","17")}}catch(s){throw console.log(s),new Dt("unknown decoder: "+_e)}}class bi{constructor(s,p,w,A){this.leftchar=s,this.rightchar=p,this.finderpattern=w,this.maybeLast=A}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,p){return s instanceof bi?bi.equalsOrNull(s.leftchar,p.leftchar)&&bi.equalsOrNull(s.rightchar,p.rightchar)&&bi.equalsOrNull(s.finderpattern,p.finderpattern):!1}static equalsOrNull(s,p){return s===null?p===null:bi.equals(s,p)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ri{constructor(s,p,w){this.pairs=s,this.rowNumber=p,this.wasReversed=w}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,p){return s instanceof Ri?this.checkEqualitity(s,p)&&s.wasReversed===p.wasReversed:!1}checkEqualitity(s,p){if(!s||!p)return;let w;return s.forEach((A,k)=>{p.forEach(L=>{A.getLeftChar().getValue()===L.getLeftChar().getValue()&&A.getRightChar().getValue()===L.getRightChar().getValue()&&A.getFinderPatter().getValue()===L.getFinderPatter().getValue()&&(w=!0)})}),w}}class hn extends Hn{constructor(s){super(...arguments),this.pairs=new Array(hn.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,p,w){this.pairs.length=0,this.startFromEven=!1;try{return hn.constructResult(this.decodeRow2pairs(s,p))}catch(A){this.verbose&&console.log(A)}return this.pairs.length=0,this.startFromEven=!0,hn.constructResult(this.decodeRow2pairs(s,p))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,p){let w=!1;for(;!w;)try{this.pairs.push(this.retrieveNextPair(p,this.pairs,s))}catch(k){if(k instanceof ge){if(!this.pairs.length)throw new ge;w=!0}}if(this.checkChecksum())return this.pairs;let A;if(this.rows.length?A=!0:A=!1,this.storeRow(s,!1),A){let k=this.checkRowsBoolean(!1);if(k!=null||(k=this.checkRowsBoolean(!0),k!=null))return k}throw new ge}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let p=null;try{p=this.checkRows(new Array,0)}catch(w){this.verbose&&console.log(w)}return s&&(this.rows=this.rows.reverse()),p}checkRows(s,p){for(let w=p;w<this.rows.length;w++){let A=this.rows[w];this.pairs.length=0;for(let L of s)this.pairs.push(L.getPairs());if(this.pairs.push(A.getPairs()),!hn.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let k=new Array(s);k.push(A);try{return this.checkRows(k,w+1)}catch(L){this.verbose&&console.log(L)}}throw new ge}static isValidSequence(s){for(let p of hn.FINDER_PATTERN_SEQUENCES){if(s.length>p.length)continue;let w=!0;for(let A=0;A<s.length;A++)if(s[A].getFinderPattern().getValue()!=p[A]){w=!1;break}if(w)return!0}return!1}storeRow(s,p){let w=0,A=!1,k=!1;for(;w<this.rows.length;){let L=this.rows[w];if(L.getRowNumber()>s){k=L.isEquivalent(this.pairs);break}A=L.isEquivalent(this.pairs),w++}k||A||hn.isPartialRow(this.pairs,this.rows)||(this.rows.push(w,new Ri(this.pairs,s,p)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,p){for(let w of p)if(w.getPairs().length!==s.length){for(let A of w.getPairs())for(let k of s)if(bi.equals(A,k))break}}static isPartialRow(s,p){for(let w of p){let A=!0;for(let k of s){let L=!1;for(let b of w.getPairs())if(k.equals(b)){L=!0;break}if(!L){A=!1;break}}if(A)return!0}return!1}getRows(){return this.rows}static constructResult(s){let p=Mi.buildBitArray(s),A=co(p).parseInformation(),k=s[0].getFinderPattern().getResultPoints(),L=s[s.length-1].getFinderPattern().getResultPoints(),b=[k[0],k[1],L[0],L[1]];return new be(A,null,null,b,Fe.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),p=s.getLeftChar(),w=s.getRightChar();if(w==null)return!1;let A=w.getChecksumPortion(),k=2;for(let b=1;b<this.pairs.size();++b){let T=this.pairs.get(b);A+=T.getLeftChar().getChecksumPortion(),k++;let B=T.getRightChar();B!=null&&(A+=B.getChecksumPortion(),k++)}return A%=211,211*(k-4)+A==p.getValue()}static getNextSecondBar(s,p){let w;return s.get(p)?(w=s.getNextUnset(p),w=s.getNextSet(w)):(w=s.getNextSet(p),w=s.getNextUnset(w)),w}retrieveNextPair(s,p,w){let A=p.length%2==0;this.startFromEven&&(A=!A);let k,L=!0,b=-1;do this.findNextPair(s,p,b),k=this.parseFoundFinderPattern(s,w,A),k==null?b=hn.getNextSecondBar(s,this.startEnd[0]):L=!1;while(L);let T=this.decodeDataCharacter(s,k,A,!0);if(!this.isEmptyPair(p)&&p[p.length-1].mustBeLast())throw new ge;let B;try{B=this.decodeDataCharacter(s,k,A,!1)}catch(j){B=null,this.verbose&&console.log(j)}return new bi(T,B,k,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,p,w){let A=this.getDecodeFinderCounters();A[0]=0,A[1]=0,A[2]=0,A[3]=0;let k=s.getSize(),L;w>=0?L=w:this.isEmptyPair(p)?L=0:L=p[p.length-1].getFinderPattern().getStartEnd()[1];let b=p.length%2!=0;this.startFromEven&&(b=!b);let T=!1;for(;L<k&&(T=!s.get(L),!!T);)L++;let B=0,j=L;for(let V=L;V<k;V++)if(s.get(V)!=T)A[B]++;else{if(B==3){if(b&&hn.reverseCounters(A),hn.isFinderPattern(A)){this.startEnd[0]=j,this.startEnd[1]=V;return}b&&hn.reverseCounters(A),j+=A[0]+A[1],A[0]=A[2],A[1]=A[3],A[2]=0,A[3]=0,B--}else B++;A[B]=1,T=!T}throw new ge}static reverseCounters(s){let p=s.length;for(let w=0;w<p/2;++w){let A=s[w];s[w]=s[p-w-1],s[p-w-1]=A}}parseFoundFinderPattern(s,p,w){let A,k,L;if(w){let B=this.startEnd[0]-1;for(;B>=0&&!s.get(B);)B--;B++,A=this.startEnd[0]-B,k=B,L=this.startEnd[1]}else k=this.startEnd[0],L=s.getNextUnset(this.startEnd[1]+1),A=L-this.startEnd[1];let b=this.getDecodeFinderCounters();D.arraycopy(b,0,b,1,b.length-1),b[0]=A;let T;try{T=this.parseFinderValue(b,hn.FINDER_PATTERNS)}catch{return null}return new Br(T,[k,L],k,L,p)}decodeDataCharacter(s,p,w,A){let k=this.getDataCharacterCounters();for(let ae=0;ae<k.length;ae++)k[ae]=0;if(A)hn.recordPatternInReverse(s,p.getStartEnd()[0],k);else{hn.recordPattern(s,p.getStartEnd()[1],k);for(let ae=0,De=k.length-1;ae<De;ae++,De--){let ze=k[ae];k[ae]=k[De],k[De]=ze}}let L=17,b=Kt.sum(new Int32Array(k))/L,T=(p.getStartEnd()[1]-p.getStartEnd()[0])/15;if(Math.abs(b-T)/T>.3)throw new ge;let B=this.getOddCounts(),j=this.getEvenCounts(),V=this.getOddRoundingErrors(),ee=this.getEvenRoundingErrors();for(let ae=0;ae<k.length;ae++){let De=1*k[ae]/b,ze=De+.5;if(ze<1){if(De<.3)throw new ge;ze=1}else if(ze>8){if(De>8.7)throw new ge;ze=8}let vt=ae/2;(ae&1)==0?(B[vt]=ze,V[vt]=De-ze):(j[vt]=ze,ee[vt]=De-ze)}this.adjustOddEvenCounts(L);let he=4*p.getValue()+(w?0:2)+(A?0:1)-1,Ae=0,Oe=0;for(let ae=B.length-1;ae>=0;ae--){if(hn.isNotA1left(p,w,A)){let De=hn.WEIGHTS[he][2*ae];Oe+=B[ae]*De}Ae+=B[ae]}let Le=0;for(let ae=j.length-1;ae>=0;ae--)if(hn.isNotA1left(p,w,A)){let De=hn.WEIGHTS[he][2*ae+1];Le+=j[ae]*De}let Xe=Oe+Le;if((Ae&1)!=0||Ae>13||Ae<4)throw new ge;let Ke=(13-Ae)/2,ot=hn.SYMBOL_WIDEST[Ke],Je=9-ot,wt=mr.getRSSvalue(B,ot,!0),R=mr.getRSSvalue(j,Je,!1),P=hn.EVEN_TOTAL_SUBSET[Ke],Y=hn.GSUM[Ke],$=wt*P+R+Y;return new xr($,Xe)}static isNotA1left(s,p,w){return!(s.getValue()==0&&p&&w)}adjustOddEvenCounts(s){let p=Kt.sum(new Int32Array(this.getOddCounts())),w=Kt.sum(new Int32Array(this.getEvenCounts())),A=!1,k=!1;p>13?k=!0:p<4&&(A=!0);let L=!1,b=!1;w>13?b=!0:w<4&&(L=!0);let T=p+w-s,B=(p&1)==1,j=(w&1)==0;if(T==1)if(B){if(j)throw new ge;k=!0}else{if(!j)throw new ge;b=!0}else if(T==-1)if(B){if(j)throw new ge;A=!0}else{if(!j)throw new ge;L=!0}else if(T==0){if(B){if(!j)throw new ge;p<w?(A=!0,b=!0):(k=!0,L=!0)}else if(j)throw new ge}else throw new ge;if(A){if(k)throw new ge;hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(k&&hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),L){if(b)throw new ge;hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}hn.SYMBOL_WIDEST=[7,5,4,3,1],hn.EVEN_TOTAL_SUBSET=[4,20,52,104,204],hn.GSUM=[0,348,1388,2948,3988],hn.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],hn.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],hn.FINDER_PAT_A=0,hn.FINDER_PAT_B=1,hn.FINDER_PAT_C=2,hn.FINDER_PAT_D=3,hn.FINDER_PAT_E=4,hn.FINDER_PAT_F=5,hn.FINDER_PATTERN_SEQUENCES=[[hn.FINDER_PAT_A,hn.FINDER_PAT_A],[hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B],[hn.FINDER_PAT_A,hn.FINDER_PAT_C,hn.FINDER_PAT_B,hn.FINDER_PAT_D],[hn.FINDER_PAT_A,hn.FINDER_PAT_E,hn.FINDER_PAT_B,hn.FINDER_PAT_D,hn.FINDER_PAT_C],[hn.FINDER_PAT_A,hn.FINDER_PAT_E,hn.FINDER_PAT_B,hn.FINDER_PAT_D,hn.FINDER_PAT_D,hn.FINDER_PAT_F],[hn.FINDER_PAT_A,hn.FINDER_PAT_E,hn.FINDER_PAT_B,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_F,hn.FINDER_PAT_F],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_D],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_E],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_F,hn.FINDER_PAT_F],[hn.FINDER_PAT_A,hn.FINDER_PAT_A,hn.FINDER_PAT_B,hn.FINDER_PAT_B,hn.FINDER_PAT_C,hn.FINDER_PAT_D,hn.FINDER_PAT_D,hn.FINDER_PAT_E,hn.FINDER_PAT_E,hn.FINDER_PAT_F,hn.FINDER_PAT_F]],hn.MAX_PAIRS=11;class wi extends xr{constructor(s,p,w){super(s,p),this.count=0,this.finderPattern=w}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class mn extends Hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,p,w){const A=this.decodePair(p,!1,s,w);mn.addOrTally(this.possibleLeftPairs,A),p.reverse();let k=this.decodePair(p,!0,s,w);mn.addOrTally(this.possibleRightPairs,k),p.reverse();for(let L of this.possibleLeftPairs)if(L.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&mn.checkChecksum(L,b))return mn.constructResult(L,b)}throw new ge}static addOrTally(s,p){if(p==null)return;let w=!1;for(let A of s)if(A.getValue()===p.getValue()){A.incrementCount(),w=!0;break}w||s.push(p)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,p){let w=4537077*s.getValue()+p.getValue(),A=new String(w).toString(),k=new mt;for(let B=13-A.length;B>0;B--)k.append("0");k.append(A);let L=0;for(let B=0;B<13;B++){let j=k.charAt(B).charCodeAt(0)-48;L+=(B&1)===0?3*j:j}L=10-L%10,L===10&&(L=0),k.append(L.toString());let b=s.getFinderPattern().getResultPoints(),T=p.getFinderPattern().getResultPoints();return new be(k.toString(),null,0,[b[0],b[1],T[0],T[1]],Fe.RSS_14,new Date().getTime())}static checkChecksum(s,p){let w=(s.getChecksumPortion()+16*p.getChecksumPortion())%79,A=9*s.getFinderPattern().getValue()+p.getFinderPattern().getValue();return A>72&&A--,A>8&&A--,w===A}decodePair(s,p,w,A){try{let k=this.findFinderPattern(s,p),L=this.parseFoundFinderPattern(s,w,p,k),b=A==null?null:A.get(J.NEED_RESULT_POINT_CALLBACK);if(b!=null){let j=(k[0]+k[1])/2;p&&(j=s.getSize()-1-j),b.foundPossibleResultPoint(new Xt(j,w))}let T=this.decodeDataCharacter(s,L,!0),B=this.decodeDataCharacter(s,L,!1);return new wi(1597*T.getValue()+B.getValue(),T.getChecksumPortion()+4*B.getChecksumPortion(),L)}catch{return null}}decodeDataCharacter(s,p,w){let A=this.getDataCharacterCounters();for(let Le=0;Le<A.length;Le++)A[Le]=0;if(w)it.recordPatternInReverse(s,p.getStartEnd()[0],A);else{it.recordPattern(s,p.getStartEnd()[1]+1,A);for(let Le=0,Xe=A.length-1;Le<Xe;Le++,Xe--){let Ke=A[Le];A[Le]=A[Xe],A[Xe]=Ke}}let k=w?16:15,L=Kt.sum(new Int32Array(A))/k,b=this.getOddCounts(),T=this.getEvenCounts(),B=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let Le=0;Le<A.length;Le++){let Xe=A[Le]/L,Ke=Math.floor(Xe+.5);Ke<1?Ke=1:Ke>8&&(Ke=8);let ot=Math.floor(Le/2);(Le&1)===0?(b[ot]=Ke,B[ot]=Xe-Ke):(T[ot]=Ke,j[ot]=Xe-Ke)}this.adjustOddEvenCounts(w,k);let V=0,ee=0;for(let Le=b.length-1;Le>=0;Le--)ee*=9,ee+=b[Le],V+=b[Le];let he=0,Ae=0;for(let Le=T.length-1;Le>=0;Le--)he*=9,he+=T[Le],Ae+=T[Le];let Oe=ee+3*he;if(w){if((V&1)!==0||V>12||V<4)throw new ge;let Le=(12-V)/2,Xe=mn.OUTSIDE_ODD_WIDEST[Le],Ke=9-Xe,ot=mr.getRSSvalue(b,Xe,!1),Je=mr.getRSSvalue(T,Ke,!0),wt=mn.OUTSIDE_EVEN_TOTAL_SUBSET[Le],R=mn.OUTSIDE_GSUM[Le];return new xr(ot*wt+Je+R,Oe)}else{if((Ae&1)!==0||Ae>10||Ae<4)throw new ge;let Le=(10-Ae)/2,Xe=mn.INSIDE_ODD_WIDEST[Le],Ke=9-Xe,ot=mr.getRSSvalue(b,Xe,!0),Je=mr.getRSSvalue(T,Ke,!1),wt=mn.INSIDE_ODD_TOTAL_SUBSET[Le],R=mn.INSIDE_GSUM[Le];return new xr(Je*wt+ot+R,Oe)}}findFinderPattern(s,p){let w=this.getDecodeFinderCounters();w[0]=0,w[1]=0,w[2]=0,w[3]=0;let A=s.getSize(),k=!1,L=0;for(;L<A&&(k=!s.get(L),p!==k);)L++;let b=0,T=L;for(let B=L;B<A;B++)if(s.get(B)!==k)w[b]++;else{if(b===3){if(Hn.isFinderPattern(w))return[T,B];T+=w[0]+w[1],w[0]=w[2],w[1]=w[3],w[2]=0,w[3]=0,b--}else b++;w[b]=1,k=!k}throw new ge}parseFoundFinderPattern(s,p,w,A){let k=s.get(A[0]),L=A[0]-1;for(;L>=0&&k!==s.get(L);)L--;L++;const b=A[0]-L,T=this.getDecodeFinderCounters(),B=new Int32Array(T.length);D.arraycopy(T,0,B,1,T.length-1),B[0]=b;const j=this.parseFinderValue(B,mn.FINDER_PATTERNS);let V=L,ee=A[1];return w&&(V=s.getSize()-1-V,ee=s.getSize()-1-ee),new Br(j,[L,A[1]],V,ee,p)}adjustOddEvenCounts(s,p){let w=Kt.sum(new Int32Array(this.getOddCounts())),A=Kt.sum(new Int32Array(this.getEvenCounts())),k=!1,L=!1,b=!1,T=!1;s?(w>12?L=!0:w<4&&(k=!0),A>12?T=!0:A<4&&(b=!0)):(w>11?L=!0:w<5&&(k=!0),A>10?T=!0:A<4&&(b=!0));let B=w+A-p,j=(w&1)===(s?1:0),V=(A&1)===1;if(B===1)if(j){if(V)throw new ge;L=!0}else{if(!V)throw new ge;T=!0}else if(B===-1)if(j){if(V)throw new ge;k=!0}else{if(!V)throw new ge;b=!0}else if(B===0){if(j){if(!V)throw new ge;w<A?(k=!0,T=!0):(L=!0,b=!0)}else if(V)throw new ge}else throw new ge;if(k){if(L)throw new ge;Hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(L&&Hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(T)throw new ge;Hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],mn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],mn.OUTSIDE_GSUM=[0,161,961,2015,2715],mn.INSIDE_GSUM=[0,336,1036,1516],mn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],mn.INSIDE_ODD_WIDEST=[2,4,6,8],mn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ki extends it{constructor(s,p){super(),this.readers=[],this.verbose=p===!0;const w=s?s.get(J.POSSIBLE_FORMATS):null,A=s&&s.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;w?((w.includes(Fe.EAN_13)||w.includes(Fe.UPC_A)||w.includes(Fe.EAN_8)||w.includes(Fe.UPC_E))&&this.readers.push(new er(s)),w.includes(Fe.CODE_39)&&this.readers.push(new Ct(A)),w.includes(Fe.CODE_128)&&this.readers.push(new We),w.includes(Fe.ITF)&&this.readers.push(new Ye),w.includes(Fe.RSS_14)&&this.readers.push(new mn),w.includes(Fe.RSS_EXPANDED)&&this.readers.push(new hn(this.verbose))):(this.readers.push(new er(s)),this.readers.push(new Ct),this.readers.push(new er(s)),this.readers.push(new We),this.readers.push(new Ye),this.readers.push(new mn),this.readers.push(new hn(this.verbose)))}decodeRow(s,p,w){for(let A=0;A<this.readers.length;A++)try{return this.readers[A].decodeRow(s,p,w)}catch{}throw new ge}reset(){this.readers.forEach(s=>s.reset())}}class Bo extends Z{constructor(s=500,p){super(new Ki(p),s,p)}}class br{constructor(s,p,w){this.ecCodewords=s,this.ecBlocks=[p],w&&this.ecBlocks.push(w)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xn{constructor(s,p){this.count=s,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fr{constructor(s,p,w,A,k,L){this.versionNumber=s,this.symbolSizeRows=p,this.symbolSizeColumns=w,this.dataRegionSizeRows=A,this.dataRegionSizeColumns=k,this.ecBlocks=L;let b=0;const T=L.getECCodewords(),B=L.getECBlocks();for(let j of B)b+=j.getCount()*(j.getDataCodewords()+T);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,p){if((s&1)!==0||(p&1)!==0)throw new ne;for(let w of fr.VERSIONS)if(w.symbolSizeRows===s&&w.symbolSizeColumns===p)return w;throw new ne}toString(){return""+this.versionNumber}static buildVersions(){return[new fr(1,10,10,8,8,new br(5,new Xn(1,3))),new fr(2,12,12,10,10,new br(7,new Xn(1,5))),new fr(3,14,14,12,12,new br(10,new Xn(1,8))),new fr(4,16,16,14,14,new br(12,new Xn(1,12))),new fr(5,18,18,16,16,new br(14,new Xn(1,18))),new fr(6,20,20,18,18,new br(18,new Xn(1,22))),new fr(7,22,22,20,20,new br(20,new Xn(1,30))),new fr(8,24,24,22,22,new br(24,new Xn(1,36))),new fr(9,26,26,24,24,new br(28,new Xn(1,44))),new fr(10,32,32,14,14,new br(36,new Xn(1,62))),new fr(11,36,36,16,16,new br(42,new Xn(1,86))),new fr(12,40,40,18,18,new br(48,new Xn(1,114))),new fr(13,44,44,20,20,new br(56,new Xn(1,144))),new fr(14,48,48,22,22,new br(68,new Xn(1,174))),new fr(15,52,52,24,24,new br(42,new Xn(2,102))),new fr(16,64,64,14,14,new br(56,new Xn(2,140))),new fr(17,72,72,16,16,new br(36,new Xn(4,92))),new fr(18,80,80,18,18,new br(48,new Xn(4,114))),new fr(19,88,88,20,20,new br(56,new Xn(4,144))),new fr(20,96,96,22,22,new br(68,new Xn(4,174))),new fr(21,104,104,24,24,new br(56,new Xn(6,136))),new fr(22,120,120,18,18,new br(68,new Xn(6,175))),new fr(23,132,132,20,20,new br(62,new Xn(8,163))),new fr(24,144,144,22,22,new br(62,new Xn(8,156),new Xn(2,155))),new fr(25,8,18,6,16,new br(7,new Xn(1,5))),new fr(26,8,32,6,14,new br(11,new Xn(1,10))),new fr(27,12,26,10,24,new br(14,new Xn(1,16))),new fr(28,12,36,10,16,new br(18,new Xn(1,22))),new fr(29,16,36,14,16,new br(24,new Xn(1,32))),new fr(30,16,48,14,22,new br(28,new Xn(1,49)))]}}fr.VERSIONS=fr.buildVersions();class Or{constructor(s){const p=s.getHeight();if(p<8||p>144||(p&1)!==0)throw new ne;this.version=Or.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ut(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const p=s.getHeight(),w=s.getWidth();return fr.getVersionForDimensions(p,w)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let p=0,w=4,A=0;const k=this.mappingBitMatrix.getHeight(),L=this.mappingBitMatrix.getWidth();let b=!1,T=!1,B=!1,j=!1;do if(w===k&&A===0&&!b)s[p++]=this.readCorner1(k,L)&255,w-=2,A+=2,b=!0;else if(w===k-2&&A===0&&(L&3)!==0&&!T)s[p++]=this.readCorner2(k,L)&255,w-=2,A+=2,T=!0;else if(w===k+4&&A===2&&(L&7)===0&&!B)s[p++]=this.readCorner3(k,L)&255,w-=2,A+=2,B=!0;else if(w===k-2&&A===0&&(L&7)===4&&!j)s[p++]=this.readCorner4(k,L)&255,w-=2,A+=2,j=!0;else{do w<k&&A>=0&&!this.readMappingMatrix.get(A,w)&&(s[p++]=this.readUtah(w,A,k,L)&255),w-=2,A+=2;while(w>=0&&A<L);w+=1,A+=3;do w>=0&&A<L&&!this.readMappingMatrix.get(A,w)&&(s[p++]=this.readUtah(w,A,k,L)&255),w+=2,A-=2;while(w<k&&A>=0);w+=3,A+=1}while(w<k||A<L);if(p!==this.version.getTotalCodewords())throw new ne;return s}readModule(s,p,w,A){return s<0&&(s+=w,p+=4-(w+4&7)),p<0&&(p+=A,s+=4-(A+4&7)),this.readMappingMatrix.set(p,s),this.mappingBitMatrix.get(p,s)}readUtah(s,p,w,A){let k=0;return this.readModule(s-2,p-2,w,A)&&(k|=1),k<<=1,this.readModule(s-2,p-1,w,A)&&(k|=1),k<<=1,this.readModule(s-1,p-2,w,A)&&(k|=1),k<<=1,this.readModule(s-1,p-1,w,A)&&(k|=1),k<<=1,this.readModule(s-1,p,w,A)&&(k|=1),k<<=1,this.readModule(s,p-2,w,A)&&(k|=1),k<<=1,this.readModule(s,p-1,w,A)&&(k|=1),k<<=1,this.readModule(s,p,w,A)&&(k|=1),k}readCorner1(s,p){let w=0;return this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,1,s,p)&&(w|=1),w<<=1,this.readModule(s-1,2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w<<=1,this.readModule(2,p-1,s,p)&&(w|=1),w<<=1,this.readModule(3,p-1,s,p)&&(w|=1),w}readCorner2(s,p){let w=0;return this.readModule(s-3,0,s,p)&&(w|=1),w<<=1,this.readModule(s-2,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(0,p-4,s,p)&&(w|=1),w<<=1,this.readModule(0,p-3,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w}readCorner3(s,p){let w=0;return this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,p-1,s,p)&&(w|=1),w<<=1,this.readModule(0,p-3,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-3,s,p)&&(w|=1),w<<=1,this.readModule(1,p-2,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w}readCorner4(s,p){let w=0;return this.readModule(s-3,0,s,p)&&(w|=1),w<<=1,this.readModule(s-2,0,s,p)&&(w|=1),w<<=1,this.readModule(s-1,0,s,p)&&(w|=1),w<<=1,this.readModule(0,p-2,s,p)&&(w|=1),w<<=1,this.readModule(0,p-1,s,p)&&(w|=1),w<<=1,this.readModule(1,p-1,s,p)&&(w|=1),w<<=1,this.readModule(2,p-1,s,p)&&(w|=1),w<<=1,this.readModule(3,p-1,s,p)&&(w|=1),w}extractDataRegion(s){const p=this.version.getSymbolSizeRows(),w=this.version.getSymbolSizeColumns();if(s.getHeight()!==p)throw new f("Dimension of bitMatrix must match the version size");const A=this.version.getDataRegionSizeRows(),k=this.version.getDataRegionSizeColumns(),L=p/A|0,b=w/k|0,T=L*A,B=b*k,j=new ut(B,T);for(let V=0;V<L;++V){const ee=V*A;for(let he=0;he<b;++he){const Ae=he*k;for(let Oe=0;Oe<A;++Oe){const Le=V*(A+2)+1+Oe,Xe=ee+Oe;for(let Ke=0;Ke<k;++Ke){const ot=he*(k+2)+1+Ke;if(s.get(ot,Le)){const Je=Ae+Ke;j.set(Je,Xe)}}}}}return j}}class fo{constructor(s,p){this.numDataCodewords=s,this.codewords=p}static getDataBlocks(s,p){const w=p.getECBlocks();let A=0;const k=w.getECBlocks();for(let Oe of k)A+=Oe.getCount();const L=new Array(A);let b=0;for(let Oe of k)for(let Le=0;Le<Oe.getCount();Le++){const Xe=Oe.getDataCodewords(),Ke=w.getECCodewords()+Xe;L[b++]=new fo(Xe,new Uint8Array(Ke))}const B=L[0].codewords.length-w.getECCodewords(),j=B-1;let V=0;for(let Oe=0;Oe<j;Oe++)for(let Le=0;Le<b;Le++)L[Le].codewords[Oe]=s[V++];const ee=p.getVersionNumber()===24,he=ee?8:b;for(let Oe=0;Oe<he;Oe++)L[Oe].codewords[B-1]=s[V++];const Ae=L[0].codewords.length;for(let Oe=B;Oe<Ae;Oe++)for(let Le=0;Le<b;Le++){const Xe=ee?(Le+8)%b:Le,Ke=ee&&Xe>7?Oe-1:Oe;L[Xe].codewords[Ke]=s[V++]}if(V!==s.length)throw new f;return L}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class cn{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new f(""+s);let p=0,w=this.bitOffset,A=this.byteOffset;const k=this.bytes;if(w>0){const L=8-w,b=s<L?s:L,T=L-b,B=255>>8-b<<T;p=(k[A]&B)>>T,s-=b,w+=b,w===8&&(w=0,A++)}if(s>0){for(;s>=8;)p=p<<8|k[A]&255,A++,s-=8;if(s>0){const L=8-s,b=255>>L<<L;p=p<<s|(k[A]&b)>>L,w+=s}}return this.bitOffset=w,this.byteOffset=A,p}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var On;(function(_e){_e[_e.PAD_ENCODE=0]="PAD_ENCODE",_e[_e.ASCII_ENCODE=1]="ASCII_ENCODE",_e[_e.C40_ENCODE=2]="C40_ENCODE",_e[_e.TEXT_ENCODE=3]="TEXT_ENCODE",_e[_e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_e[_e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_e[_e.BASE256_ENCODE=6]="BASE256_ENCODE"})(On||(On={}));class Zi{static decode(s){const p=new cn(s),w=new mt,A=new mt,k=new Array;let L=On.ASCII_ENCODE;do if(L===On.ASCII_ENCODE)L=this.decodeAsciiSegment(p,w,A);else{switch(L){case On.C40_ENCODE:this.decodeC40Segment(p,w);break;case On.TEXT_ENCODE:this.decodeTextSegment(p,w);break;case On.ANSIX12_ENCODE:this.decodeAnsiX12Segment(p,w);break;case On.EDIFACT_ENCODE:this.decodeEdifactSegment(p,w);break;case On.BASE256_ENCODE:this.decodeBase256Segment(p,w,k);break;default:throw new ne}L=On.ASCII_ENCODE}while(L!==On.PAD_ENCODE&&p.available()>0);return A.length()>0&&w.append(A.toString()),new rt(s,w.toString(),k.length===0?null:k,null)}static decodeAsciiSegment(s,p,w){let A=!1;do{let k=s.readBits(8);if(k===0)throw new ne;if(k<=128)return A&&(k+=128),p.append(String.fromCharCode(k-1)),On.ASCII_ENCODE;if(k===129)return On.PAD_ENCODE;if(k<=229){const L=k-130;L<10&&p.append("0"),p.append(""+L)}else switch(k){case 230:return On.C40_ENCODE;case 231:return On.BASE256_ENCODE;case 232:p.append("");break;case 233:case 234:break;case 235:A=!0;break;case 236:p.append("[)>05"),w.insert(0,"");break;case 237:p.append("[)>06"),w.insert(0,"");break;case 238:return On.ANSIX12_ENCODE;case 239:return On.TEXT_ENCODE;case 240:return On.EDIFACT_ENCODE;case 241:break;default:if(k!==254||s.available()!==0)throw new ne;break}}while(s.available()>0);return On.ASCII_ENCODE}static decodeC40Segment(s,p){let w=!1;const A=[];let k=0;do{if(s.available()===8)return;const L=s.readBits(8);if(L===254)return;this.parseTwoBytes(L,s.readBits(8),A);for(let b=0;b<3;b++){const T=A[b];switch(k){case 0:if(T<3)k=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else throw new ne;break;case 1:w?(p.append(String.fromCharCode(T+128)),w=!1):p.append(String.fromCharCode(T)),k=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else switch(T){case 27:p.append("");break;case 30:w=!0;break;default:throw new ne}k=0;break;case 3:w?(p.append(String.fromCharCode(T+224)),w=!1):p.append(String.fromCharCode(T+96)),k=0;break;default:throw new ne}}}while(s.available()>0)}static decodeTextSegment(s,p){let w=!1,A=[],k=0;do{if(s.available()===8)return;const L=s.readBits(8);if(L===254)return;this.parseTwoBytes(L,s.readBits(8),A);for(let b=0;b<3;b++){const T=A[b];switch(k){case 0:if(T<3)k=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else throw new ne;break;case 1:w?(p.append(String.fromCharCode(T+128)),w=!1):p.append(String.fromCharCode(T)),k=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B)}else switch(T){case 27:p.append("");break;case 30:w=!0;break;default:throw new ne}k=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[T];w?(p.append(String.fromCharCode(B.charCodeAt(0)+128)),w=!1):p.append(B),k=0}else throw new ne;break;default:throw new ne}}}while(s.available()>0)}static decodeAnsiX12Segment(s,p){const w=[];do{if(s.available()===8)return;const A=s.readBits(8);if(A===254)return;this.parseTwoBytes(A,s.readBits(8),w);for(let k=0;k<3;k++){const L=w[k];switch(L){case 0:p.append("\r");break;case 1:p.append("*");break;case 2:p.append(">");break;case 3:p.append(" ");break;default:if(L<14)p.append(String.fromCharCode(L+44));else if(L<40)p.append(String.fromCharCode(L+51));else throw new ne;break}}}while(s.available()>0)}static parseTwoBytes(s,p,w){let A=(s<<8)+p-1,k=Math.floor(A/1600);w[0]=k,A-=k*1600,k=Math.floor(A/40),w[1]=k,w[2]=A-k*40}static decodeEdifactSegment(s,p){do{if(s.available()<=16)return;for(let w=0;w<4;w++){let A=s.readBits(6);if(A===31){const k=8-s.getBitOffset();k!==8&&s.readBits(k);return}(A&32)===0&&(A|=64),p.append(String.fromCharCode(A))}}while(s.available()>0)}static decodeBase256Segment(s,p,w){let A=1+s.getByteOffset();const k=this.unrandomize255State(s.readBits(8),A++);let L;if(k===0?L=s.available()/8|0:k<250?L=k:L=250*(k-249)+this.unrandomize255State(s.readBits(8),A++),L<0)throw new ne;const b=new Uint8Array(L);for(let T=0;T<L;T++){if(s.available()<8)throw new ne;b[T]=this.unrandomize255State(s.readBits(8),A++)}w.push(b);try{p.append(Ue.decode(b,qe.ISO88591))}catch(T){throw new Dt("Platform does not support required encoding: "+T.message)}}static unrandomize255State(s,p){const w=149*p%255+1,A=s-w;return A>=0?A:A+256}}Zi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Zi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Zi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Zi.TEXT_SHIFT2_SET_CHARS=Zi.C40_SHIFT2_SET_CHARS,Zi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class hl{constructor(){this.rsDecoder=new tn(ft.DATA_MATRIX_FIELD_256)}decode(s){const p=new Or(s),w=p.getVersion(),A=p.readCodewords(),k=fo.getDataBlocks(A,w);let L=0;for(let B of k)L+=B.getNumDataCodewords();const b=new Uint8Array(L),T=k.length;for(let B=0;B<T;B++){const j=k[B],V=j.getCodewords(),ee=j.getNumDataCodewords();this.correctErrors(V,ee);for(let he=0;he<ee;he++)b[he*T+B]=V[he]}return Zi.decode(b)}correctErrors(s,p){const w=new Int32Array(s);try{this.rsDecoder.decode(w,s.length-p)}catch{throw new m}for(let A=0;A<p;A++)s[A]=w[A]}}class Ai{constructor(s){this.image=s,this.rectangleDetector=new gt(this.image)}detect(){const s=this.rectangleDetector.detect();let p=this.detectSolid1(s);if(p=this.detectSolid2(p),p[3]=this.correctTopRight(p),!p[3])throw new ge;p=this.shiftToModuleCenter(p);const w=p[0],A=p[1],k=p[2],L=p[3];let b=this.transitionsBetween(w,L)+1,T=this.transitionsBetween(k,L)+1;(b&1)===1&&(b+=1),(T&1)===1&&(T+=1),4*b<7*T&&4*T<7*b&&(b=T=Math.max(b,T));let B=Ai.sampleGrid(this.image,w,A,k,L,b,T);return new Zt(B,[w,A,k,L])}static shiftPoint(s,p,w){let A=(p.getX()-s.getX())/(w+1),k=(p.getY()-s.getY())/(w+1);return new Xt(s.getX()+A,s.getY()+k)}static moveAway(s,p,w){let A=s.getX(),k=s.getY();return A<p?A-=1:A+=1,k<w?k-=1:k+=1,new Xt(A,k)}detectSolid1(s){let p=s[0],w=s[1],A=s[3],k=s[2],L=this.transitionsBetween(p,w),b=this.transitionsBetween(w,A),T=this.transitionsBetween(A,k),B=this.transitionsBetween(k,p),j=L,V=[k,p,w,A];return j>b&&(j=b,V[0]=p,V[1]=w,V[2]=A,V[3]=k),j>T&&(j=T,V[0]=w,V[1]=A,V[2]=k,V[3]=p),j>B&&(V[0]=A,V[1]=k,V[2]=p,V[3]=w),V}detectSolid2(s){let p=s[0],w=s[1],A=s[2],k=s[3],L=this.transitionsBetween(p,k),b=Ai.shiftPoint(w,A,(L+1)*4),T=Ai.shiftPoint(A,w,(L+1)*4),B=this.transitionsBetween(b,p),j=this.transitionsBetween(T,k);return B<j?(s[0]=p,s[1]=w,s[2]=A,s[3]=k):(s[0]=w,s[1]=A,s[2]=k,s[3]=p),s}correctTopRight(s){let p=s[0],w=s[1],A=s[2],k=s[3],L=this.transitionsBetween(p,k),b=this.transitionsBetween(w,k),T=Ai.shiftPoint(p,w,(b+1)*4),B=Ai.shiftPoint(A,w,(L+1)*4);L=this.transitionsBetween(T,k),b=this.transitionsBetween(B,k);let j=new Xt(k.getX()+(A.getX()-w.getX())/(L+1),k.getY()+(A.getY()-w.getY())/(L+1)),V=new Xt(k.getX()+(p.getX()-w.getX())/(b+1),k.getY()+(p.getY()-w.getY())/(b+1));if(!this.isValid(j))return this.isValid(V)?V:null;if(!this.isValid(V))return j;let ee=this.transitionsBetween(T,j)+this.transitionsBetween(B,j),he=this.transitionsBetween(T,V)+this.transitionsBetween(B,V);return ee>he?j:V}shiftToModuleCenter(s){let p=s[0],w=s[1],A=s[2],k=s[3],L=this.transitionsBetween(p,k)+1,b=this.transitionsBetween(A,k)+1,T=Ai.shiftPoint(p,w,b*4),B=Ai.shiftPoint(A,w,L*4);L=this.transitionsBetween(T,k)+1,b=this.transitionsBetween(B,k)+1,(L&1)===1&&(L+=1),(b&1)===1&&(b+=1);let j=(p.getX()+w.getX()+A.getX()+k.getX())/4,V=(p.getY()+w.getY()+A.getY()+k.getY())/4;p=Ai.moveAway(p,j,V),w=Ai.moveAway(w,j,V),A=Ai.moveAway(A,j,V),k=Ai.moveAway(k,j,V);let ee,he;return T=Ai.shiftPoint(p,w,b*4),T=Ai.shiftPoint(T,k,L*4),ee=Ai.shiftPoint(w,p,b*4),ee=Ai.shiftPoint(ee,A,L*4),B=Ai.shiftPoint(A,k,b*4),B=Ai.shiftPoint(B,w,L*4),he=Ai.shiftPoint(k,A,b*4),he=Ai.shiftPoint(he,p,L*4),[T,ee,B,he]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,p,w,A,k,L,b){return Ee.getInstance().sampleGrid(s,L,b,.5,.5,L-.5,.5,L-.5,b-.5,.5,b-.5,p.getX(),p.getY(),k.getX(),k.getY(),A.getX(),A.getY(),w.getX(),w.getY())}transitionsBetween(s,p){let w=Math.trunc(s.getX()),A=Math.trunc(s.getY()),k=Math.trunc(p.getX()),L=Math.trunc(p.getY()),b=Math.abs(L-A)>Math.abs(k-w);if(b){let Oe=w;w=A,A=Oe,Oe=k,k=L,L=Oe}let T=Math.abs(k-w),B=Math.abs(L-A),j=-T/2,V=A<L?1:-1,ee=w<k?1:-1,he=0,Ae=this.image.get(b?A:w,b?w:A);for(let Oe=w,Le=A;Oe!==k;Oe+=ee){let Xe=this.image.get(b?Le:Oe,b?Oe:Le);if(Xe!==Ae&&(he++,Ae=Xe),j+=B,j>0){if(Le===L)break;Le+=V,j-=T}}return he}}class ka{constructor(){this.decoder=new hl}decode(s,p=null){let w,A;if(p!=null&&p.has(J.PURE_BARCODE)){const B=ka.extractPureBits(s.getBlackMatrix());w=this.decoder.decode(B),A=ka.NO_POINTS}else{const B=new Ai(s.getBlackMatrix()).detect();w=this.decoder.decode(B.getBits()),A=B.getPoints()}const k=w.getRawBytes(),L=new be(w.getText(),k,8*k.length,A,Fe.DATA_MATRIX,D.currentTimeMillis()),b=w.getByteSegments();b!=null&&L.putMetadata(At.BYTE_SEGMENTS,b);const T=w.getECLevel();return T!=null&&L.putMetadata(At.ERROR_CORRECTION_LEVEL,T),L}reset(){}static extractPureBits(s){const p=s.getTopLeftOnBit(),w=s.getBottomRightOnBit();if(p==null||w==null)throw new ge;const A=this.moduleSize(p,s);let k=p[1];const L=w[1];let b=p[0];const B=(w[0]-b+1)/A,j=(L-k+1)/A;if(B<=0||j<=0)throw new ge;const V=A/2;k+=V,b+=V;const ee=new ut(B,j);for(let he=0;he<j;he++){const Ae=k+he*A;for(let Oe=0;Oe<B;Oe++)s.get(b+Oe*A,Ae)&&ee.set(Oe,he)}return ee}static moduleSize(s,p){const w=p.getWidth();let A=s[0];const k=s[1];for(;A<w&&p.get(A,k);)A++;if(A===w)throw new ge;const L=A-s[0];if(L===0)throw new ge;return L}}ka.NO_POINTS=[];class pr extends Z{constructor(s=500){super(new ka,s)}}var Zn;(function(_e){_e[_e.L=0]="L",_e[_e.M=1]="M",_e[_e.Q=2]="Q",_e[_e.H=3]="H"})(Zn||(Zn={}));class Ir{constructor(s,p,w){this.value=s,this.stringValue=p,this.bits=w,Ir.FOR_BITS.set(w,this),Ir.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Ir.L;case"M":return Ir.M;case"Q":return Ir.Q;case"H":return Ir.H;default:throw new v(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Ir))return!1;const p=s;return this.value===p.value}static forBits(s){if(s<0||s>=Ir.FOR_BITS.size)throw new f;return Ir.FOR_BITS.get(s)}}Ir.FOR_BITS=new Map,Ir.FOR_VALUE=new Map,Ir.L=new Ir(Zn.L,"L",1),Ir.M=new Ir(Zn.M,"M",0),Ir.Q=new Ir(Zn.Q,"Q",3),Ir.H=new Ir(Zn.H,"H",2);class Ti{constructor(s){this.errorCorrectionLevel=Ir.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,p){return U.bitCount(s^p)}static decodeFormatInformation(s,p){const w=Ti.doDecodeFormatInformation(s,p);return w!==null?w:Ti.doDecodeFormatInformation(s^Ti.FORMAT_INFO_MASK_QR,p^Ti.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,p){let w=Number.MAX_SAFE_INTEGER,A=0;for(const k of Ti.FORMAT_INFO_DECODE_LOOKUP){const L=k[0];if(L===s||L===p)return new Ti(k[1]);let b=Ti.numBitsDiffering(s,L);b<w&&(A=k[1],w=b),s!==p&&(b=Ti.numBitsDiffering(p,L),b<w&&(A=k[1],w=b))}return w<=3?new Ti(A):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Ti))return!1;const p=s;return this.errorCorrectionLevel===p.errorCorrectionLevel&&this.dataMask===p.dataMask}}Ti.FORMAT_INFO_MASK_QR=21522,Ti.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ht{constructor(s,...p){this.ecCodewordsPerBlock=s,this.ecBlocks=p}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const p=this.ecBlocks;for(const w of p)s+=w.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Qe{constructor(s,p){this.count=s,this.dataCodewords=p}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Gn{constructor(s,p,...w){this.versionNumber=s,this.alignmentPatternCenters=p,this.ecBlocks=w;let A=0;const k=w[0].getECCodewordsPerBlock(),L=w[0].getECBlocks();for(const b of L)A+=b.getCount()*(b.getDataCodewords()+k);this.totalCodewords=A}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new ne;try{return this.getVersionForNumber((s-17)/4)}catch{throw new ne}}static getVersionForNumber(s){if(s<1||s>40)throw new f;return Gn.VERSIONS[s-1]}static decodeVersionInformation(s){let p=Number.MAX_SAFE_INTEGER,w=0;for(let A=0;A<Gn.VERSION_DECODE_INFO.length;A++){const k=Gn.VERSION_DECODE_INFO[A];if(k===s)return Gn.getVersionForNumber(A+7);const L=Ti.numBitsDiffering(s,k);L<p&&(w=A+7,p=L)}return p<=3?Gn.getVersionForNumber(w):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),p=new ut(s);p.setRegion(0,0,9,9),p.setRegion(s-8,0,8,9),p.setRegion(0,s-8,9,8);const w=this.alignmentPatternCenters.length;for(let A=0;A<w;A++){const k=this.alignmentPatternCenters[A]-2;for(let L=0;L<w;L++)A===0&&(L===0||L===w-1)||A===w-1&&L===0||p.setRegion(this.alignmentPatternCenters[L]-2,k,5,5)}return p.setRegion(6,9,1,s-17),p.setRegion(9,6,s-17,1),this.versionNumber>6&&(p.setRegion(s-11,0,3,6),p.setRegion(0,s-11,6,3)),p}toString(){return""+this.versionNumber}}Gn.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Gn.VERSIONS=[new Gn(1,new Int32Array(0),new Ht(7,new Qe(1,19)),new Ht(10,new Qe(1,16)),new Ht(13,new Qe(1,13)),new Ht(17,new Qe(1,9))),new Gn(2,Int32Array.from([6,18]),new Ht(10,new Qe(1,34)),new Ht(16,new Qe(1,28)),new Ht(22,new Qe(1,22)),new Ht(28,new Qe(1,16))),new Gn(3,Int32Array.from([6,22]),new Ht(15,new Qe(1,55)),new Ht(26,new Qe(1,44)),new Ht(18,new Qe(2,17)),new Ht(22,new Qe(2,13))),new Gn(4,Int32Array.from([6,26]),new Ht(20,new Qe(1,80)),new Ht(18,new Qe(2,32)),new Ht(26,new Qe(2,24)),new Ht(16,new Qe(4,9))),new Gn(5,Int32Array.from([6,30]),new Ht(26,new Qe(1,108)),new Ht(24,new Qe(2,43)),new Ht(18,new Qe(2,15),new Qe(2,16)),new Ht(22,new Qe(2,11),new Qe(2,12))),new Gn(6,Int32Array.from([6,34]),new Ht(18,new Qe(2,68)),new Ht(16,new Qe(4,27)),new Ht(24,new Qe(4,19)),new Ht(28,new Qe(4,15))),new Gn(7,Int32Array.from([6,22,38]),new Ht(20,new Qe(2,78)),new Ht(18,new Qe(4,31)),new Ht(18,new Qe(2,14),new Qe(4,15)),new Ht(26,new Qe(4,13),new Qe(1,14))),new Gn(8,Int32Array.from([6,24,42]),new Ht(24,new Qe(2,97)),new Ht(22,new Qe(2,38),new Qe(2,39)),new Ht(22,new Qe(4,18),new Qe(2,19)),new Ht(26,new Qe(4,14),new Qe(2,15))),new Gn(9,Int32Array.from([6,26,46]),new Ht(30,new Qe(2,116)),new Ht(22,new Qe(3,36),new Qe(2,37)),new Ht(20,new Qe(4,16),new Qe(4,17)),new Ht(24,new Qe(4,12),new Qe(4,13))),new Gn(10,Int32Array.from([6,28,50]),new Ht(18,new Qe(2,68),new Qe(2,69)),new Ht(26,new Qe(4,43),new Qe(1,44)),new Ht(24,new Qe(6,19),new Qe(2,20)),new Ht(28,new Qe(6,15),new Qe(2,16))),new Gn(11,Int32Array.from([6,30,54]),new Ht(20,new Qe(4,81)),new Ht(30,new Qe(1,50),new Qe(4,51)),new Ht(28,new Qe(4,22),new Qe(4,23)),new Ht(24,new Qe(3,12),new Qe(8,13))),new Gn(12,Int32Array.from([6,32,58]),new Ht(24,new Qe(2,92),new Qe(2,93)),new Ht(22,new Qe(6,36),new Qe(2,37)),new Ht(26,new Qe(4,20),new Qe(6,21)),new Ht(28,new Qe(7,14),new Qe(4,15))),new Gn(13,Int32Array.from([6,34,62]),new Ht(26,new Qe(4,107)),new Ht(22,new Qe(8,37),new Qe(1,38)),new Ht(24,new Qe(8,20),new Qe(4,21)),new Ht(22,new Qe(12,11),new Qe(4,12))),new Gn(14,Int32Array.from([6,26,46,66]),new Ht(30,new Qe(3,115),new Qe(1,116)),new Ht(24,new Qe(4,40),new Qe(5,41)),new Ht(20,new Qe(11,16),new Qe(5,17)),new Ht(24,new Qe(11,12),new Qe(5,13))),new Gn(15,Int32Array.from([6,26,48,70]),new Ht(22,new Qe(5,87),new Qe(1,88)),new Ht(24,new Qe(5,41),new Qe(5,42)),new Ht(30,new Qe(5,24),new Qe(7,25)),new Ht(24,new Qe(11,12),new Qe(7,13))),new Gn(16,Int32Array.from([6,26,50,74]),new Ht(24,new Qe(5,98),new Qe(1,99)),new Ht(28,new Qe(7,45),new Qe(3,46)),new Ht(24,new Qe(15,19),new Qe(2,20)),new Ht(30,new Qe(3,15),new Qe(13,16))),new Gn(17,Int32Array.from([6,30,54,78]),new Ht(28,new Qe(1,107),new Qe(5,108)),new Ht(28,new Qe(10,46),new Qe(1,47)),new Ht(28,new Qe(1,22),new Qe(15,23)),new Ht(28,new Qe(2,14),new Qe(17,15))),new Gn(18,Int32Array.from([6,30,56,82]),new Ht(30,new Qe(5,120),new Qe(1,121)),new Ht(26,new Qe(9,43),new Qe(4,44)),new Ht(28,new Qe(17,22),new Qe(1,23)),new Ht(28,new Qe(2,14),new Qe(19,15))),new Gn(19,Int32Array.from([6,30,58,86]),new Ht(28,new Qe(3,113),new Qe(4,114)),new Ht(26,new Qe(3,44),new Qe(11,45)),new Ht(26,new Qe(17,21),new Qe(4,22)),new Ht(26,new Qe(9,13),new Qe(16,14))),new Gn(20,Int32Array.from([6,34,62,90]),new Ht(28,new Qe(3,107),new Qe(5,108)),new Ht(26,new Qe(3,41),new Qe(13,42)),new Ht(30,new Qe(15,24),new Qe(5,25)),new Ht(28,new Qe(15,15),new Qe(10,16))),new Gn(21,Int32Array.from([6,28,50,72,94]),new Ht(28,new Qe(4,116),new Qe(4,117)),new Ht(26,new Qe(17,42)),new Ht(28,new Qe(17,22),new Qe(6,23)),new Ht(30,new Qe(19,16),new Qe(6,17))),new Gn(22,Int32Array.from([6,26,50,74,98]),new Ht(28,new Qe(2,111),new Qe(7,112)),new Ht(28,new Qe(17,46)),new Ht(30,new Qe(7,24),new Qe(16,25)),new Ht(24,new Qe(34,13))),new Gn(23,Int32Array.from([6,30,54,78,102]),new Ht(30,new Qe(4,121),new Qe(5,122)),new Ht(28,new Qe(4,47),new Qe(14,48)),new Ht(30,new Qe(11,24),new Qe(14,25)),new Ht(30,new Qe(16,15),new Qe(14,16))),new Gn(24,Int32Array.from([6,28,54,80,106]),new Ht(30,new Qe(6,117),new Qe(4,118)),new Ht(28,new Qe(6,45),new Qe(14,46)),new Ht(30,new Qe(11,24),new Qe(16,25)),new Ht(30,new Qe(30,16),new Qe(2,17))),new Gn(25,Int32Array.from([6,32,58,84,110]),new Ht(26,new Qe(8,106),new Qe(4,107)),new Ht(28,new Qe(8,47),new Qe(13,48)),new Ht(30,new Qe(7,24),new Qe(22,25)),new Ht(30,new Qe(22,15),new Qe(13,16))),new Gn(26,Int32Array.from([6,30,58,86,114]),new Ht(28,new Qe(10,114),new Qe(2,115)),new Ht(28,new Qe(19,46),new Qe(4,47)),new Ht(28,new Qe(28,22),new Qe(6,23)),new Ht(30,new Qe(33,16),new Qe(4,17))),new Gn(27,Int32Array.from([6,34,62,90,118]),new Ht(30,new Qe(8,122),new Qe(4,123)),new Ht(28,new Qe(22,45),new Qe(3,46)),new Ht(30,new Qe(8,23),new Qe(26,24)),new Ht(30,new Qe(12,15),new Qe(28,16))),new Gn(28,Int32Array.from([6,26,50,74,98,122]),new Ht(30,new Qe(3,117),new Qe(10,118)),new Ht(28,new Qe(3,45),new Qe(23,46)),new Ht(30,new Qe(4,24),new Qe(31,25)),new Ht(30,new Qe(11,15),new Qe(31,16))),new Gn(29,Int32Array.from([6,30,54,78,102,126]),new Ht(30,new Qe(7,116),new Qe(7,117)),new Ht(28,new Qe(21,45),new Qe(7,46)),new Ht(30,new Qe(1,23),new Qe(37,24)),new Ht(30,new Qe(19,15),new Qe(26,16))),new Gn(30,Int32Array.from([6,26,52,78,104,130]),new Ht(30,new Qe(5,115),new Qe(10,116)),new Ht(28,new Qe(19,47),new Qe(10,48)),new Ht(30,new Qe(15,24),new Qe(25,25)),new Ht(30,new Qe(23,15),new Qe(25,16))),new Gn(31,Int32Array.from([6,30,56,82,108,134]),new Ht(30,new Qe(13,115),new Qe(3,116)),new Ht(28,new Qe(2,46),new Qe(29,47)),new Ht(30,new Qe(42,24),new Qe(1,25)),new Ht(30,new Qe(23,15),new Qe(28,16))),new Gn(32,Int32Array.from([6,34,60,86,112,138]),new Ht(30,new Qe(17,115)),new Ht(28,new Qe(10,46),new Qe(23,47)),new Ht(30,new Qe(10,24),new Qe(35,25)),new Ht(30,new Qe(19,15),new Qe(35,16))),new Gn(33,Int32Array.from([6,30,58,86,114,142]),new Ht(30,new Qe(17,115),new Qe(1,116)),new Ht(28,new Qe(14,46),new Qe(21,47)),new Ht(30,new Qe(29,24),new Qe(19,25)),new Ht(30,new Qe(11,15),new Qe(46,16))),new Gn(34,Int32Array.from([6,34,62,90,118,146]),new Ht(30,new Qe(13,115),new Qe(6,116)),new Ht(28,new Qe(14,46),new Qe(23,47)),new Ht(30,new Qe(44,24),new Qe(7,25)),new Ht(30,new Qe(59,16),new Qe(1,17))),new Gn(35,Int32Array.from([6,30,54,78,102,126,150]),new Ht(30,new Qe(12,121),new Qe(7,122)),new Ht(28,new Qe(12,47),new Qe(26,48)),new Ht(30,new Qe(39,24),new Qe(14,25)),new Ht(30,new Qe(22,15),new Qe(41,16))),new Gn(36,Int32Array.from([6,24,50,76,102,128,154]),new Ht(30,new Qe(6,121),new Qe(14,122)),new Ht(28,new Qe(6,47),new Qe(34,48)),new Ht(30,new Qe(46,24),new Qe(10,25)),new Ht(30,new Qe(2,15),new Qe(64,16))),new Gn(37,Int32Array.from([6,28,54,80,106,132,158]),new Ht(30,new Qe(17,122),new Qe(4,123)),new Ht(28,new Qe(29,46),new Qe(14,47)),new Ht(30,new Qe(49,24),new Qe(10,25)),new Ht(30,new Qe(24,15),new Qe(46,16))),new Gn(38,Int32Array.from([6,32,58,84,110,136,162]),new Ht(30,new Qe(4,122),new Qe(18,123)),new Ht(28,new Qe(13,46),new Qe(32,47)),new Ht(30,new Qe(48,24),new Qe(14,25)),new Ht(30,new Qe(42,15),new Qe(32,16))),new Gn(39,Int32Array.from([6,26,54,82,110,138,166]),new Ht(30,new Qe(20,117),new Qe(4,118)),new Ht(28,new Qe(40,47),new Qe(7,48)),new Ht(30,new Qe(43,24),new Qe(22,25)),new Ht(30,new Qe(10,15),new Qe(67,16))),new Gn(40,Int32Array.from([6,30,58,86,114,142,170]),new Ht(30,new Qe(19,118),new Qe(6,119)),new Ht(28,new Qe(18,47),new Qe(31,48)),new Ht(30,new Qe(34,24),new Qe(34,25)),new Ht(30,new Qe(20,15),new Qe(61,16)))];var Di;(function(_e){_e[_e.DATA_MASK_000=0]="DATA_MASK_000",_e[_e.DATA_MASK_001=1]="DATA_MASK_001",_e[_e.DATA_MASK_010=2]="DATA_MASK_010",_e[_e.DATA_MASK_011=3]="DATA_MASK_011",_e[_e.DATA_MASK_100=4]="DATA_MASK_100",_e[_e.DATA_MASK_101=5]="DATA_MASK_101",_e[_e.DATA_MASK_110=6]="DATA_MASK_110",_e[_e.DATA_MASK_111=7]="DATA_MASK_111"})(Di||(Di={}));class pa{constructor(s,p){this.value=s,this.isMasked=p}unmaskBitMatrix(s,p){for(let w=0;w<p;w++)for(let A=0;A<p;A++)this.isMasked(w,A)&&s.flip(A,w)}}pa.values=new Map([[Di.DATA_MASK_000,new pa(Di.DATA_MASK_000,(_e,s)=>(_e+s&1)===0)],[Di.DATA_MASK_001,new pa(Di.DATA_MASK_001,(_e,s)=>(_e&1)===0)],[Di.DATA_MASK_010,new pa(Di.DATA_MASK_010,(_e,s)=>s%3===0)],[Di.DATA_MASK_011,new pa(Di.DATA_MASK_011,(_e,s)=>(_e+s)%3===0)],[Di.DATA_MASK_100,new pa(Di.DATA_MASK_100,(_e,s)=>(Math.floor(_e/2)+Math.floor(s/3)&1)===0)],[Di.DATA_MASK_101,new pa(Di.DATA_MASK_101,(_e,s)=>_e*s%6===0)],[Di.DATA_MASK_110,new pa(Di.DATA_MASK_110,(_e,s)=>_e*s%6<3)],[Di.DATA_MASK_111,new pa(Di.DATA_MASK_111,(_e,s)=>(_e+s+_e*s%3&1)===0)]]);class nt{constructor(s){const p=s.getHeight();if(p<21||(p&3)!==1)throw new ne;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let k=0;k<6;k++)s=this.copyBit(k,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let k=5;k>=0;k--)s=this.copyBit(8,k,s);const p=this.bitMatrix.getHeight();let w=0;const A=p-7;for(let k=p-1;k>=A;k--)w=this.copyBit(8,k,w);for(let k=p-8;k<p;k++)w=this.copyBit(k,8,w);if(this.parsedFormatInfo=Ti.decodeFormatInformation(s,w),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ne}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),p=Math.floor((s-17)/4);if(p<=6)return Gn.getVersionForNumber(p);let w=0;const A=s-11;for(let L=5;L>=0;L--)for(let b=s-9;b>=A;b--)w=this.copyBit(b,L,w);let k=Gn.decodeVersionInformation(w);if(k!==null&&k.getDimensionForVersion()===s)return this.parsedVersion=k,k;w=0;for(let L=5;L>=0;L--)for(let b=s-9;b>=A;b--)w=this.copyBit(L,b,w);if(k=Gn.decodeVersionInformation(w),k!==null&&k.getDimensionForVersion()===s)return this.parsedVersion=k,k;throw new ne}copyBit(s,p,w){return(this.isMirror?this.bitMatrix.get(p,s):this.bitMatrix.get(s,p))?w<<1|1:w<<1}readCodewords(){const s=this.readFormatInformation(),p=this.readVersion(),w=pa.values.get(s.getDataMask()),A=this.bitMatrix.getHeight();w.unmaskBitMatrix(this.bitMatrix,A);const k=p.buildFunctionPattern();let L=!0;const b=new Uint8Array(p.getTotalCodewords());let T=0,B=0,j=0;for(let V=A-1;V>0;V-=2){V===6&&V--;for(let ee=0;ee<A;ee++){const he=L?A-1-ee:ee;for(let Ae=0;Ae<2;Ae++)k.get(V-Ae,he)||(j++,B<<=1,this.bitMatrix.get(V-Ae,he)&&(B|=1),j===8&&(b[T++]=B,j=0,B=0))}L=!L}if(T!==p.getTotalCodewords())throw new ne;return b}remask(){if(this.parsedFormatInfo===null)return;const s=pa.values[this.parsedFormatInfo.getDataMask()],p=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,p)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let p=0,w=s.getWidth();p<w;p++)for(let A=p+1,k=s.getHeight();A<k;A++)s.get(p,A)!==s.get(A,p)&&(s.flip(A,p),s.flip(p,A))}}class Gt{constructor(s,p){this.numDataCodewords=s,this.codewords=p}static getDataBlocks(s,p,w){if(s.length!==p.getTotalCodewords())throw new f;const A=p.getECBlocksForLevel(w);let k=0;const L=A.getECBlocks();for(const Ae of L)k+=Ae.getCount();const b=new Array(k);let T=0;for(const Ae of L)for(let Oe=0;Oe<Ae.getCount();Oe++){const Le=Ae.getDataCodewords(),Xe=A.getECCodewordsPerBlock()+Le;b[T++]=new Gt(Le,new Uint8Array(Xe))}const B=b[0].codewords.length;let j=b.length-1;for(;j>=0&&b[j].codewords.length!==B;)j--;j++;const V=B-A.getECCodewordsPerBlock();let ee=0;for(let Ae=0;Ae<V;Ae++)for(let Oe=0;Oe<T;Oe++)b[Oe].codewords[Ae]=s[ee++];for(let Ae=j;Ae<T;Ae++)b[Ae].codewords[V]=s[ee++];const he=b[0].codewords.length;for(let Ae=V;Ae<he;Ae++)for(let Oe=0;Oe<T;Oe++){const Le=Oe<j?Ae:Ae+1;b[Oe].codewords[Le]=s[ee++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var It;(function(_e){_e[_e.TERMINATOR=0]="TERMINATOR",_e[_e.NUMERIC=1]="NUMERIC",_e[_e.ALPHANUMERIC=2]="ALPHANUMERIC",_e[_e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_e[_e.BYTE=4]="BYTE",_e[_e.ECI=5]="ECI",_e[_e.KANJI=6]="KANJI",_e[_e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_e[_e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_e[_e.HANZI=9]="HANZI"})(It||(It={}));class nn{constructor(s,p,w,A){this.value=s,this.stringValue=p,this.characterCountBitsForVersions=w,this.bits=A,nn.FOR_BITS.set(A,this),nn.FOR_VALUE.set(s,this)}static forBits(s){const p=nn.FOR_BITS.get(s);if(p===void 0)throw new f;return p}getCharacterCountBits(s){const p=s.getVersionNumber();let w;return p<=9?w=0:p<=26?w=1:w=2,this.characterCountBitsForVersions[w]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof nn))return!1;const p=s;return this.value===p.value}toString(){return this.stringValue}}nn.FOR_BITS=new Map,nn.FOR_VALUE=new Map,nn.TERMINATOR=new nn(It.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),nn.NUMERIC=new nn(It.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),nn.ALPHANUMERIC=new nn(It.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),nn.STRUCTURED_APPEND=new nn(It.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),nn.BYTE=new nn(It.BYTE,"BYTE",Int32Array.from([8,16,16]),4),nn.ECI=new nn(It.ECI,"ECI",Int32Array.from([0,0,0]),7),nn.KANJI=new nn(It.KANJI,"KANJI",Int32Array.from([8,10,12]),8),nn.FNC1_FIRST_POSITION=new nn(It.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),nn.FNC1_SECOND_POSITION=new nn(It.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),nn.HANZI=new nn(It.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class xn{static decode(s,p,w,A){const k=new cn(s);let L=new mt;const b=new Array;let T=-1,B=-1;try{let j=null,V=!1,ee;do{if(k.available()<4)ee=nn.TERMINATOR;else{const he=k.readBits(4);ee=nn.forBits(he)}switch(ee){case nn.TERMINATOR:break;case nn.FNC1_FIRST_POSITION:case nn.FNC1_SECOND_POSITION:V=!0;break;case nn.STRUCTURED_APPEND:if(k.available()<16)throw new ne;T=k.readBits(8),B=k.readBits(8);break;case nn.ECI:const he=xn.parseECIValue(k);if(j=Se.getCharacterSetECIByValue(he),j===null)throw new ne;break;case nn.HANZI:const Ae=k.readBits(4),Oe=k.readBits(ee.getCharacterCountBits(p));Ae===xn.GB2312_SUBSET&&xn.decodeHanziSegment(k,L,Oe);break;default:const Le=k.readBits(ee.getCharacterCountBits(p));switch(ee){case nn.NUMERIC:xn.decodeNumericSegment(k,L,Le);break;case nn.ALPHANUMERIC:xn.decodeAlphanumericSegment(k,L,Le,V);break;case nn.BYTE:xn.decodeByteSegment(k,L,Le,j,b,A);break;case nn.KANJI:xn.decodeKanjiSegment(k,L,Le);break;default:throw new ne}break}}while(ee!==nn.TERMINATOR)}catch{throw new ne}return new rt(s,L.toString(),b.length===0?null:b,w===null?null:w.toString(),T,B)}static decodeHanziSegment(s,p,w){if(w*13>s.available())throw new ne;const A=new Uint8Array(2*w);let k=0;for(;w>0;){const L=s.readBits(13);let b=L/96<<8&4294967295|L%96;b<959?b+=41377:b+=42657,A[k]=b>>8&255,A[k+1]=b&255,k+=2,w--}try{p.append(Ue.decode(A,qe.GB2312))}catch(L){throw new ne(L)}}static decodeKanjiSegment(s,p,w){if(w*13>s.available())throw new ne;const A=new Uint8Array(2*w);let k=0;for(;w>0;){const L=s.readBits(13);let b=L/192<<8&4294967295|L%192;b<7936?b+=33088:b+=49472,A[k]=b>>8,A[k+1]=b,k+=2,w--}try{p.append(Ue.decode(A,qe.SHIFT_JIS))}catch(L){throw new ne(L)}}static decodeByteSegment(s,p,w,A,k,L){if(8*w>s.available())throw new ne;const b=new Uint8Array(w);for(let B=0;B<w;B++)b[B]=s.readBits(8);let T;A===null?T=qe.guessEncoding(b,L):T=A.getName();try{p.append(Ue.decode(b,T))}catch(B){throw new ne(B)}k.push(b)}static toAlphaNumericChar(s){if(s>=xn.ALPHANUMERIC_CHARS.length)throw new ne;return xn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,p,w,A){const k=p.length();for(;w>1;){if(s.available()<11)throw new ne;const L=s.readBits(11);p.append(xn.toAlphaNumericChar(Math.floor(L/45))),p.append(xn.toAlphaNumericChar(L%45)),w-=2}if(w===1){if(s.available()<6)throw new ne;p.append(xn.toAlphaNumericChar(s.readBits(6)))}if(A)for(let L=k;L<p.length();L++)p.charAt(L)==="%"&&(L<p.length()-1&&p.charAt(L+1)==="%"?p.deleteCharAt(L+1):p.setCharAt(L,""))}static decodeNumericSegment(s,p,w){for(;w>=3;){if(s.available()<10)throw new ne;const A=s.readBits(10);if(A>=1e3)throw new ne;p.append(xn.toAlphaNumericChar(Math.floor(A/100))),p.append(xn.toAlphaNumericChar(Math.floor(A/10)%10)),p.append(xn.toAlphaNumericChar(A%10)),w-=3}if(w===2){if(s.available()<7)throw new ne;const A=s.readBits(7);if(A>=100)throw new ne;p.append(xn.toAlphaNumericChar(Math.floor(A/10))),p.append(xn.toAlphaNumericChar(A%10))}else if(w===1){if(s.available()<4)throw new ne;const A=s.readBits(4);if(A>=10)throw new ne;p.append(xn.toAlphaNumericChar(A))}}static parseECIValue(s){const p=s.readBits(8);if((p&128)===0)return p&127;if((p&192)===128){const w=s.readBits(8);return(p&63)<<8&4294967295|w}if((p&224)===192){const w=s.readBits(16);return(p&31)<<16&4294967295|w}throw new ne}}xn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",xn.GB2312_SUBSET=1;class hr{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const p=s[0];s[0]=s[2],s[2]=p}}class En{constructor(){this.rsDecoder=new tn(ft.QR_CODE_FIELD_256)}decodeBooleanArray(s,p){return this.decodeBitMatrix(ut.parseFromBooleanArray(s),p)}decodeBitMatrix(s,p){const w=new nt(s);let A=null;try{return this.decodeBitMatrixParser(w,p)}catch(k){A=k}try{w.remask(),w.setMirror(!0),w.readVersion(),w.readFormatInformation(),w.mirror();const k=this.decodeBitMatrixParser(w,p);return k.setOther(new hr(!0)),k}catch(k){throw A!==null?A:k}}decodeBitMatrixParser(s,p){const w=s.readVersion(),A=s.readFormatInformation().getErrorCorrectionLevel(),k=s.readCodewords(),L=Gt.getDataBlocks(k,w,A);let b=0;for(const j of L)b+=j.getNumDataCodewords();const T=new Uint8Array(b);let B=0;for(const j of L){const V=j.getCodewords(),ee=j.getNumDataCodewords();this.correctErrors(V,ee);for(let he=0;he<ee;he++)T[B++]=V[he]}return xn.decode(T,w,A,p)}correctErrors(s,p){const w=new Int32Array(s);try{this.rsDecoder.decode(w,s.length-p)}catch{throw new m}for(let A=0;A<p;A++)s[A]=w[A]}}class Dr extends Xt{constructor(s,p,w){super(s,p),this.estimatedModuleSize=w}aboutEquals(s,p,w){if(Math.abs(p-this.getY())<=s&&Math.abs(w-this.getX())<=s){const A=Math.abs(s-this.estimatedModuleSize);return A<=1||A<=this.estimatedModuleSize}return!1}combineEstimate(s,p,w){const A=(this.getX()+p)/2,k=(this.getY()+s)/2,L=(this.estimatedModuleSize+w)/2;return new Dr(A,k,L)}}class $r{constructor(s,p,w,A,k,L,b){this.image=s,this.startX=p,this.startY=w,this.width=A,this.height=k,this.moduleSize=L,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,p=this.height,w=this.width,A=s+w,k=this.startY+p/2,L=new Int32Array(3),b=this.image;for(let T=0;T<p;T++){const B=k+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));L[0]=0,L[1]=0,L[2]=0;let j=s;for(;j<A&&!b.get(j,B);)j++;let V=0;for(;j<A;){if(b.get(j,B))if(V===1)L[1]++;else if(V===2){if(this.foundPatternCross(L)){const ee=this.handlePossibleCenter(L,B,j);if(ee!==null)return ee}L[0]=L[2],L[1]=1,L[2]=0,V=1}else L[++V]++;else V===1&&V++,L[V]++;j++}if(this.foundPatternCross(L)){const ee=this.handlePossibleCenter(L,B,A);if(ee!==null)return ee}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ge}static centerFromEnd(s,p){return p-s[2]-s[1]/2}foundPatternCross(s){const p=this.moduleSize,w=p/2;for(let A=0;A<3;A++)if(Math.abs(p-s[A])>=w)return!1;return!0}crossCheckVertical(s,p,w,A){const k=this.image,L=k.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let T=s;for(;T>=0&&k.get(p,T)&&b[1]<=w;)b[1]++,T--;if(T<0||b[1]>w)return NaN;for(;T>=0&&!k.get(p,T)&&b[0]<=w;)b[0]++,T--;if(b[0]>w)return NaN;for(T=s+1;T<L&&k.get(p,T)&&b[1]<=w;)b[1]++,T++;if(T===L||b[1]>w)return NaN;for(;T<L&&!k.get(p,T)&&b[2]<=w;)b[2]++,T++;if(b[2]>w)return NaN;const B=b[0]+b[1]+b[2];return 5*Math.abs(B-A)>=2*A?NaN:this.foundPatternCross(b)?$r.centerFromEnd(b,T):NaN}handlePossibleCenter(s,p,w){const A=s[0]+s[1]+s[2],k=$r.centerFromEnd(s,w),L=this.crossCheckVertical(p,k,2*s[1],A);if(!isNaN(L)){const b=(s[0]+s[1]+s[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(b,L,k))return B.combineEstimate(L,k,b);const T=new Dr(k,L,b);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class Rr extends Xt{constructor(s,p,w,A){super(s,p),this.estimatedModuleSize=w,this.count=A,A===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,p,w){if(Math.abs(p-this.getY())<=s&&Math.abs(w-this.getX())<=s){const A=Math.abs(s-this.estimatedModuleSize);return A<=1||A<=this.estimatedModuleSize}return!1}combineEstimate(s,p,w){const A=this.count+1,k=(this.count*this.getX()+p)/A,L=(this.count*this.getY()+s)/A,b=(this.count*this.estimatedModuleSize+w)/A;return new Rr(k,L,b,A)}}class ei{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ur{constructor(s,p){this.image=s,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=p}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const p=s!=null&&s.get(J.TRY_HARDER)!==void 0,w=s!=null&&s.get(J.PURE_BARCODE)!==void 0,A=this.image,k=A.getHeight(),L=A.getWidth();let b=Math.floor(3*k/(4*Ur.MAX_MODULES));(b<Ur.MIN_SKIP||p)&&(b=Ur.MIN_SKIP);let T=!1;const B=new Int32Array(5);for(let V=b-1;V<k&&!T;V+=b){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let ee=0;for(let he=0;he<L;he++)if(A.get(he,V))(ee&1)===1&&ee++,B[ee]++;else if((ee&1)===0)if(ee===4)if(Ur.foundPatternCross(B)){if(this.handlePossibleCenter(B,V,he,w)===!0)if(b=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const Oe=this.findRowSkip();Oe>B[2]&&(V+=Oe-B[2]-b,he=L-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,ee=3;continue}ee=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,ee=3;else B[++ee]++;else B[ee]++;Ur.foundPatternCross(B)&&this.handlePossibleCenter(B,V,L,w)===!0&&(b=B[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return Xt.orderBestPatterns(j),new ei(j)}static centerFromEnd(s,p){return p-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let p=0;for(let k=0;k<5;k++){const L=s[k];if(L===0)return!1;p+=L}if(p<7)return!1;const w=p/7,A=w/2;return Math.abs(w-s[0])<A&&Math.abs(w-s[1])<A&&Math.abs(3*w-s[2])<3*A&&Math.abs(w-s[3])<A&&Math.abs(w-s[4])<A}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,p,w,A){const k=this.getCrossCheckStateCount();let L=0;const b=this.image;for(;s>=L&&p>=L&&b.get(p-L,s-L);)k[2]++,L++;if(s<L||p<L)return!1;for(;s>=L&&p>=L&&!b.get(p-L,s-L)&&k[1]<=w;)k[1]++,L++;if(s<L||p<L||k[1]>w)return!1;for(;s>=L&&p>=L&&b.get(p-L,s-L)&&k[0]<=w;)k[0]++,L++;if(k[0]>w)return!1;const T=b.getHeight(),B=b.getWidth();for(L=1;s+L<T&&p+L<B&&b.get(p+L,s+L);)k[2]++,L++;if(s+L>=T||p+L>=B)return!1;for(;s+L<T&&p+L<B&&!b.get(p+L,s+L)&&k[3]<w;)k[3]++,L++;if(s+L>=T||p+L>=B||k[3]>=w)return!1;for(;s+L<T&&p+L<B&&b.get(p+L,s+L)&&k[4]<w;)k[4]++,L++;if(k[4]>=w)return!1;const j=k[0]+k[1]+k[2]+k[3]+k[4];return Math.abs(j-A)<2*A&&Ur.foundPatternCross(k)}crossCheckVertical(s,p,w,A){const k=this.image,L=k.getHeight(),b=this.getCrossCheckStateCount();let T=s;for(;T>=0&&k.get(p,T);)b[2]++,T--;if(T<0)return NaN;for(;T>=0&&!k.get(p,T)&&b[1]<=w;)b[1]++,T--;if(T<0||b[1]>w)return NaN;for(;T>=0&&k.get(p,T)&&b[0]<=w;)b[0]++,T--;if(b[0]>w)return NaN;for(T=s+1;T<L&&k.get(p,T);)b[2]++,T++;if(T===L)return NaN;for(;T<L&&!k.get(p,T)&&b[3]<w;)b[3]++,T++;if(T===L||b[3]>=w)return NaN;for(;T<L&&k.get(p,T)&&b[4]<w;)b[4]++,T++;if(b[4]>=w)return NaN;const B=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(B-A)>=2*A?NaN:Ur.foundPatternCross(b)?Ur.centerFromEnd(b,T):NaN}crossCheckHorizontal(s,p,w,A){const k=this.image,L=k.getWidth(),b=this.getCrossCheckStateCount();let T=s;for(;T>=0&&k.get(T,p);)b[2]++,T--;if(T<0)return NaN;for(;T>=0&&!k.get(T,p)&&b[1]<=w;)b[1]++,T--;if(T<0||b[1]>w)return NaN;for(;T>=0&&k.get(T,p)&&b[0]<=w;)b[0]++,T--;if(b[0]>w)return NaN;for(T=s+1;T<L&&k.get(T,p);)b[2]++,T++;if(T===L)return NaN;for(;T<L&&!k.get(T,p)&&b[3]<w;)b[3]++,T++;if(T===L||b[3]>=w)return NaN;for(;T<L&&k.get(T,p)&&b[4]<w;)b[4]++,T++;if(b[4]>=w)return NaN;const B=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(B-A)>=A?NaN:Ur.foundPatternCross(b)?Ur.centerFromEnd(b,T):NaN}handlePossibleCenter(s,p,w,A){const k=s[0]+s[1]+s[2]+s[3]+s[4];let L=Ur.centerFromEnd(s,w),b=this.crossCheckVertical(p,Math.floor(L),s[2],k);if(!isNaN(b)&&(L=this.crossCheckHorizontal(Math.floor(L),Math.floor(b),s[2],k),!isNaN(L)&&(!A||this.crossCheckDiagonal(Math.floor(b),Math.floor(L),s[2],k)))){const T=k/7;let B=!1;const j=this.possibleCenters;for(let V=0,ee=j.length;V<ee;V++){const he=j[V];if(he.aboutEquals(T,b,L)){j[V]=he.combineEstimate(b,L,T),B=!0;break}}if(!B){const V=new Rr(L,b,T);j.push(V),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(V)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let p=null;for(const w of this.possibleCenters)if(w.getCount()>=Ur.CENTER_QUORUM)if(p==null)p=w;else return this.hasSkipped=!0,Math.floor((Math.abs(p.getX()-w.getX())-Math.abs(p.getY()-w.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,p=0;const w=this.possibleCenters.length;for(const L of this.possibleCenters)L.getCount()>=Ur.CENTER_QUORUM&&(s++,p+=L.getEstimatedModuleSize());if(s<3)return!1;const A=p/w;let k=0;for(const L of this.possibleCenters)k+=Math.abs(L.getEstimatedModuleSize()-A);return k<=.05*p}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ge;const p=this.possibleCenters;let w;if(s>3){let A=0,k=0;for(const T of this.possibleCenters){const B=T.getEstimatedModuleSize();A+=B,k+=B*B}w=A/s;let L=Math.sqrt(k/s-w*w);p.sort((T,B)=>{const j=Math.abs(B.getEstimatedModuleSize()-w),V=Math.abs(T.getEstimatedModuleSize()-w);return j<V?-1:j>V?1:0});const b=Math.max(.2*w,L);for(let T=0;T<p.length&&p.length>3;T++){const B=p[T];Math.abs(B.getEstimatedModuleSize()-w)>b&&(p.splice(T,1),T--)}}if(p.length>3){let A=0;for(const k of p)A+=k.getEstimatedModuleSize();w=A/p.length,p.sort((k,L)=>{if(L.getCount()===k.getCount()){const b=Math.abs(L.getEstimatedModuleSize()-w),T=Math.abs(k.getEstimatedModuleSize()-w);return b<T?1:b>T?-1:0}else return L.getCount()-k.getCount()}),p.splice(3)}return[p[0],p[1],p[2]]}}Ur.CENTER_QUORUM=2,Ur.MIN_SKIP=3,Ur.MAX_MODULES=57;class Jr{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(J.NEED_RESULT_POINT_CALLBACK);const w=new Ur(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(w)}processFinderPatternInfo(s){const p=s.getTopLeft(),w=s.getTopRight(),A=s.getBottomLeft(),k=this.calculateModuleSize(p,w,A);if(k<1)throw new ge("No pattern found in proccess finder.");const L=Jr.computeDimension(p,w,A,k),b=Gn.getProvisionalVersionForDimension(L),T=b.getDimensionForVersion()-7;let B=null;if(b.getAlignmentPatternCenters().length>0){const he=w.getX()-p.getX()+A.getX(),Ae=w.getY()-p.getY()+A.getY(),Oe=1-3/T,Le=Math.floor(p.getX()+Oe*(he-p.getX())),Xe=Math.floor(p.getY()+Oe*(Ae-p.getY()));for(let Ke=4;Ke<=16;Ke<<=1)try{B=this.findAlignmentInRegion(k,Le,Xe,Ke);break}catch(ot){if(!(ot instanceof ge))throw ot}}const j=Jr.createTransform(p,w,A,B,L),V=Jr.sampleGrid(this.image,j,L);let ee;return B===null?ee=[A,p,w]:ee=[A,p,w,B],new Zt(V,ee)}static createTransform(s,p,w,A,k){const L=k-3.5;let b,T,B,j;return A!==null?(b=A.getX(),T=A.getY(),B=L-3,j=B):(b=p.getX()-s.getX()+w.getX(),T=p.getY()-s.getY()+w.getY(),B=L,j=L),Pe.quadrilateralToQuadrilateral(3.5,3.5,L,3.5,B,j,3.5,L,s.getX(),s.getY(),p.getX(),p.getY(),b,T,w.getX(),w.getY())}static sampleGrid(s,p,w){return Ee.getInstance().sampleGridWithTransform(s,w,w,p)}static computeDimension(s,p,w,A){const k=Kt.round(Xt.distance(s,p)/A),L=Kt.round(Xt.distance(s,w)/A);let b=Math.floor((k+L)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new ge("Dimensions could be not found.")}return b}calculateModuleSize(s,p,w){return(this.calculateModuleSizeOneWay(s,p)+this.calculateModuleSizeOneWay(s,w))/2}calculateModuleSizeOneWay(s,p){const w=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(p.getX()),Math.floor(p.getY())),A=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(w)?A/7:isNaN(A)?w/7:(w+A)/14}sizeOfBlackWhiteBlackRunBothWays(s,p,w,A){let k=this.sizeOfBlackWhiteBlackRun(s,p,w,A),L=1,b=s-(w-s);b<0?(L=s/(s-b),b=0):b>=this.image.getWidth()&&(L=(this.image.getWidth()-1-s)/(b-s),b=this.image.getWidth()-1);let T=Math.floor(p-(A-p)*L);return L=1,T<0?(L=p/(p-T),T=0):T>=this.image.getHeight()&&(L=(this.image.getHeight()-1-p)/(T-p),T=this.image.getHeight()-1),b=Math.floor(s+(b-s)*L),k+=this.sizeOfBlackWhiteBlackRun(s,p,b,T),k-1}sizeOfBlackWhiteBlackRun(s,p,w,A){const k=Math.abs(A-p)>Math.abs(w-s);if(k){let he=s;s=p,p=he,he=w,w=A,A=he}const L=Math.abs(w-s),b=Math.abs(A-p);let T=-L/2;const B=s<w?1:-1,j=p<A?1:-1;let V=0;const ee=w+B;for(let he=s,Ae=p;he!==ee;he+=B){const Oe=k?Ae:he,Le=k?he:Ae;if(V===1===this.image.get(Oe,Le)){if(V===2)return Kt.distance(he,Ae,s,p);V++}if(T+=b,T>0){if(Ae===A)break;Ae+=j,T-=L}}return V===2?Kt.distance(w+B,A,s,p):NaN}findAlignmentInRegion(s,p,w,A){const k=Math.floor(A*s),L=Math.max(0,p-k),b=Math.min(this.image.getWidth()-1,p+k);if(b-L<s*3)throw new ge("Alignment top exceeds estimated module size.");const T=Math.max(0,w-k),B=Math.min(this.image.getHeight()-1,w+k);if(B-T<s*3)throw new ge("Alignment bottom exceeds estimated module size.");return new $r(this.image,L,T,b-L,B-T,s,this.resultPointCallback).find()}}class kr{constructor(){this.decoder=new En}getDecoder(){return this.decoder}decode(s,p){let w,A;if(p!=null&&p.get(J.PURE_BARCODE)!==void 0){const T=kr.extractPureBits(s.getBlackMatrix());w=this.decoder.decodeBitMatrix(T,p),A=kr.NO_POINTS}else{const T=new Jr(s.getBlackMatrix()).detect(p);w=this.decoder.decodeBitMatrix(T.getBits(),p),A=T.getPoints()}w.getOther()instanceof hr&&w.getOther().applyMirroredCorrection(A);const k=new be(w.getText(),w.getRawBytes(),void 0,A,Fe.QR_CODE,void 0),L=w.getByteSegments();L!==null&&k.putMetadata(At.BYTE_SEGMENTS,L);const b=w.getECLevel();return b!==null&&k.putMetadata(At.ERROR_CORRECTION_LEVEL,b),w.hasStructuredAppend()&&(k.putMetadata(At.STRUCTURED_APPEND_SEQUENCE,w.getStructuredAppendSequenceNumber()),k.putMetadata(At.STRUCTURED_APPEND_PARITY,w.getStructuredAppendParity())),k}reset(){}static extractPureBits(s){const p=s.getTopLeftOnBit(),w=s.getBottomRightOnBit();if(p===null||w===null)throw new ge;const A=this.moduleSize(p,s);let k=p[1],L=w[1],b=p[0],T=w[0];if(b>=T||k>=L)throw new ge;if(L-k!==T-b&&(T=b+(L-k),T>=s.getWidth()))throw new ge;const B=Math.round((T-b+1)/A),j=Math.round((L-k+1)/A);if(B<=0||j<=0)throw new ge;if(j!==B)throw new ge;const V=Math.floor(A/2);k+=V,b+=V;const ee=b+Math.floor((B-1)*A)-T;if(ee>0){if(ee>V)throw new ge;b-=ee}const he=k+Math.floor((j-1)*A)-L;if(he>0){if(he>V)throw new ge;k-=he}const Ae=new ut(B,j);for(let Oe=0;Oe<j;Oe++){const Le=k+Math.floor(Oe*A);for(let Xe=0;Xe<B;Xe++)s.get(b+Math.floor(Xe*A),Le)&&Ae.set(Xe,Oe)}return Ae}static moduleSize(s,p){const w=p.getHeight(),A=p.getWidth();let k=s[0],L=s[1],b=!0,T=0;for(;k<A&&L<w;){if(b!==p.get(k,L)){if(++T===5)break;b=!b}k++,L++}if(k===A||L===w)throw new ge;return(k-s[0])/7}}kr.NO_POINTS=new Array;class Vn{PDF417Common(){}static getBitCountSum(s){return Kt.sum(s)}static toIntArray(s){if(s==null||!s.length)return Vn.EMPTY_INT_ARRAY;const p=new Int32Array(s.length);let w=0;for(const A of s)p[w++]=A;return p}static getCodeword(s){const p=N.binarySearch(Vn.SYMBOL_TABLE,s&262143);return p<0?-1:(Vn.CODEWORD_TABLE[p]-1)%Vn.NUMBER_OF_CODEWORDS}}Vn.NUMBER_OF_CODEWORDS=929,Vn.MAX_CODEWORDS_IN_BARCODE=Vn.NUMBER_OF_CODEWORDS-1,Vn.MIN_ROWS_IN_BARCODE=3,Vn.MAX_ROWS_IN_BARCODE=90,Vn.MODULES_IN_CODEWORD=17,Vn.MODULES_IN_STOP_PATTERN=18,Vn.BARS_IN_MODULE=8,Vn.EMPTY_INT_ARRAY=new Int32Array([]),Vn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Vn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xa{constructor(s,p){this.bits=s,this.points=p}getBits(){return this.bits}getPoints(){return this.points}}class tr{static detectMultiple(s,p,w){let A=s.getBlackMatrix(),k=tr.detect(w,A);return k.length||(A=A.clone(),A.rotate180(),k=tr.detect(w,A)),new xa(A,k)}static detect(s,p){const w=new Array;let A=0,k=0,L=!1;for(;A<p.getHeight();){const b=tr.findVertices(p,A,k);if(b[0]==null&&b[3]==null){if(!L)break;L=!1,k=0;for(const T of w)T[1]!=null&&(A=Math.trunc(Math.max(A,T[1].getY()))),T[3]!=null&&(A=Math.max(A,Math.trunc(T[3].getY())));A+=tr.ROW_STEP;continue}if(L=!0,w.push(b),!s)break;b[2]!=null?(k=Math.trunc(b[2].getX()),A=Math.trunc(b[2].getY())):(k=Math.trunc(b[4].getX()),A=Math.trunc(b[4].getY()))}return w}static findVertices(s,p,w){const A=s.getHeight(),k=s.getWidth(),L=new Array(8);return tr.copyToResult(L,tr.findRowsWithPattern(s,A,k,p,w,tr.START_PATTERN),tr.INDEXES_START_PATTERN),L[4]!=null&&(w=Math.trunc(L[4].getX()),p=Math.trunc(L[4].getY())),tr.copyToResult(L,tr.findRowsWithPattern(s,A,k,p,w,tr.STOP_PATTERN),tr.INDEXES_STOP_PATTERN),L}static copyToResult(s,p,w){for(let A=0;A<w.length;A++)s[w[A]]=p[A]}static findRowsWithPattern(s,p,w,A,k,L){const b=new Array(4);let T=!1;const B=new Int32Array(L.length);for(;A<p;A+=tr.ROW_STEP){let V=tr.findGuardPattern(s,k,A,w,!1,L,B);if(V!=null){for(;A>0;){const ee=tr.findGuardPattern(s,k,--A,w,!1,L,B);if(ee!=null)V=ee;else{A++;break}}b[0]=new Xt(V[0],A),b[1]=new Xt(V[1],A),T=!0;break}}let j=A+1;if(T){let V=0,ee=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;j<p;j++){const he=tr.findGuardPattern(s,ee[0],j,w,!1,L,B);if(he!=null&&Math.abs(ee[0]-he[0])<tr.MAX_PATTERN_DRIFT&&Math.abs(ee[1]-he[1])<tr.MAX_PATTERN_DRIFT)ee=he,V=0;else{if(V>tr.SKIPPED_ROW_COUNT_MAX)break;V++}}j-=V+1,b[2]=new Xt(ee[0],j),b[3]=new Xt(ee[1],j)}return j-A<tr.BARCODE_MIN_HEIGHT&&N.fill(b,null),b}static findGuardPattern(s,p,w,A,k,L,b){N.fillWithin(b,0,b.length,0);let T=p,B=0;for(;s.get(T,w)&&T>0&&B++<tr.MAX_PIXEL_DRIFT;)T--;let j=T,V=0,ee=L.length;for(let he=k;j<A;j++)if(s.get(j,w)!==he)b[V]++;else{if(V===ee-1){if(tr.patternMatchVariance(b,L,tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE)return new Int32Array([T,j]);T+=b[0]+b[1],D.arraycopy(b,2,b,0,V-1),b[V-1]=0,b[V]=0,V--}else V++;b[V]=1,he=!he}return V===ee-1&&tr.patternMatchVariance(b,L,tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE?new Int32Array([T,j-1]):null}static patternMatchVariance(s,p,w){let A=s.length,k=0,L=0;for(let B=0;B<A;B++)k+=s[B],L+=p[B];if(k<L)return 1/0;let b=k/L;w*=b;let T=0;for(let B=0;B<A;B++){let j=s[B],V=p[B]*b,ee=j>V?j-V:V-j;if(ee>w)return 1/0;T+=ee}return T/k}}tr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),tr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),tr.MAX_AVG_VARIANCE=.42,tr.MAX_INDIVIDUAL_VARIANCE=.8,tr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),tr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),tr.MAX_PIXEL_DRIFT=3,tr.MAX_PATTERN_DRIFT=5,tr.SKIPPED_ROW_COUNT_MAX=25,tr.ROW_STEP=5,tr.BARCODE_MIN_HEIGHT=10;class Kr{constructor(s,p){if(p.length===0)throw new f;this.field=s;let w=p.length;if(w>1&&p[0]===0){let A=1;for(;A<w&&p[A]===0;)A++;A===w?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(w-A),D.arraycopy(p,A,this.coefficients,0,this.coefficients.length))}else this.coefficients=p}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let A=0;for(let k of this.coefficients)A=this.field.add(A,k);return A}let p=this.coefficients[0],w=this.coefficients.length;for(let A=1;A<w;A++)p=this.field.add(this.field.multiply(s,p),this.coefficients[A]);return p}add(s){if(!this.field.equals(s.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let p=this.coefficients,w=s.coefficients;if(p.length>w.length){let L=p;p=w,w=L}let A=new Int32Array(w.length),k=w.length-p.length;D.arraycopy(w,0,A,0,k);for(let L=k;L<w.length;L++)A[L]=this.field.add(p[L-k],w[L]);return new Kr(this.field,A)}subtract(s){if(!this.field.equals(s.field))throw new f("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Kr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new f("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Kr(this.field,new Int32Array([0]));let p=this.coefficients,w=p.length,A=s.coefficients,k=A.length,L=new Int32Array(w+k-1);for(let b=0;b<w;b++){let T=p[b];for(let B=0;B<k;B++)L[b+B]=this.field.add(L[b+B],this.field.multiply(T,A[B]))}return new Kr(this.field,L)}negative(){let s=this.coefficients.length,p=new Int32Array(s);for(let w=0;w<s;w++)p[w]=this.field.subtract(0,this.coefficients[w]);return new Kr(this.field,p)}multiplyScalar(s){if(s===0)return new Kr(this.field,new Int32Array([0]));if(s===1)return this;let p=this.coefficients.length,w=new Int32Array(p);for(let A=0;A<p;A++)w[A]=this.field.multiply(this.coefficients[A],s);return new Kr(this.field,w)}multiplyByMonomial(s,p){if(s<0)throw new f;if(p===0)return new Kr(this.field,new Int32Array([0]));let w=this.coefficients.length,A=new Int32Array(w+s);for(let k=0;k<w;k++)A[k]=this.field.multiply(this.coefficients[k],p);return new Kr(this.field,A)}toString(){let s=new mt;for(let p=this.getDegree();p>=0;p--){let w=this.getCoefficient(p);w!==0&&(w<0?(s.append(" - "),w=-w):s.length()>0&&s.append(" + "),(p===0||w!==1)&&s.append(w),p!==0&&(p===1?s.append("x"):(s.append("x^"),s.append(p))))}return s.toString()}}class hi{add(s,p){return(s+p)%this.modulus}subtract(s,p){return(this.modulus+s-p)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new f;return this.logTable[s]}inverse(s){if(s===0)throw new Wt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,p){return s===0||p===0?0:this.expTable[(this.logTable[s]+this.logTable[p])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Hi extends hi{constructor(s,p){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let w=1;for(let A=0;A<s;A++)this.expTable[A]=w,w=w*p%s;for(let A=0;A<s-1;A++)this.logTable[this.expTable[A]]=A;this.zero=new Kr(this,new Int32Array([0])),this.one=new Kr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,p){if(s<0)throw new f;if(p===0)return this.zero;let w=new Int32Array(s+1);return w[0]=p,new Kr(this,w)}}Hi.PDF417_GF=new Hi(Vn.NUMBER_OF_CODEWORDS,3);class wo{constructor(){this.field=Hi.PDF417_GF}decode(s,p,w){let A=new Kr(this.field,s),k=new Int32Array(p),L=!1;for(let Ae=p;Ae>0;Ae--){let Oe=A.evaluateAt(this.field.exp(Ae));k[p-Ae]=Oe,Oe!==0&&(L=!0)}if(!L)return 0;let b=this.field.getOne();if(w!=null)for(const Ae of w){let Oe=this.field.exp(s.length-1-Ae),Le=new Kr(this.field,new Int32Array([this.field.subtract(0,Oe),1]));b=b.multiply(Le)}let T=new Kr(this.field,k),B=this.runEuclideanAlgorithm(this.field.buildMonomial(p,1),T,p),j=B[0],V=B[1],ee=this.findErrorLocations(j),he=this.findErrorMagnitudes(V,j,ee);for(let Ae=0;Ae<ee.length;Ae++){let Oe=s.length-1-this.field.log(ee[Ae]);if(Oe<0)throw m.getChecksumInstance();s[Oe]=this.field.subtract(s[Oe],he[Ae])}return ee.length}runEuclideanAlgorithm(s,p,w){if(s.getDegree()<p.getDegree()){let ee=s;s=p,p=ee}let A=s,k=p,L=this.field.getZero(),b=this.field.getOne();for(;k.getDegree()>=Math.round(w/2);){let ee=A,he=L;if(A=k,L=b,A.isZero())throw m.getChecksumInstance();k=ee;let Ae=this.field.getZero(),Oe=A.getCoefficient(A.getDegree()),Le=this.field.inverse(Oe);for(;k.getDegree()>=A.getDegree()&&!k.isZero();){let Xe=k.getDegree()-A.getDegree(),Ke=this.field.multiply(k.getCoefficient(k.getDegree()),Le);Ae=Ae.add(this.field.buildMonomial(Xe,Ke)),k=k.subtract(A.multiplyByMonomial(Xe,Ke))}b=Ae.multiply(L).subtract(he).negative()}let T=b.getCoefficient(0);if(T===0)throw m.getChecksumInstance();let B=this.field.inverse(T),j=b.multiply(B),V=k.multiply(B);return[j,V]}findErrorLocations(s){let p=s.getDegree(),w=new Int32Array(p),A=0;for(let k=1;k<this.field.getSize()&&A<p;k++)s.evaluateAt(k)===0&&(w[A]=this.field.inverse(k),A++);if(A!==p)throw m.getChecksumInstance();return w}findErrorMagnitudes(s,p,w){let A=p.getDegree(),k=new Int32Array(A);for(let B=1;B<=A;B++)k[A-B]=this.field.multiply(B,p.getCoefficient(B));let L=new Kr(this.field,k),b=w.length,T=new Int32Array(b);for(let B=0;B<b;B++){let j=this.field.inverse(w[B]),V=this.field.subtract(0,s.evaluateAt(j)),ee=this.field.inverse(L.evaluateAt(j));T[B]=this.field.multiply(V,ee)}return T}}class Fo{constructor(s,p,w,A,k){s instanceof Fo?this.constructor_2(s):this.constructor_1(s,p,w,A,k)}constructor_1(s,p,w,A,k){const L=p==null||w==null,b=A==null||k==null;if(L&&b)throw new ge;L?(p=new Xt(0,A.getY()),w=new Xt(0,k.getY())):b&&(A=new Xt(s.getWidth()-1,p.getY()),k=new Xt(s.getWidth()-1,w.getY())),this.image=s,this.topLeft=p,this.bottomLeft=w,this.topRight=A,this.bottomRight=k,this.minX=Math.trunc(Math.min(p.getX(),w.getX())),this.maxX=Math.trunc(Math.max(A.getX(),k.getX())),this.minY=Math.trunc(Math.min(p.getY(),A.getY())),this.maxY=Math.trunc(Math.max(w.getY(),k.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,p){return s==null?p:p==null?s:new Fo(s.image,s.topLeft,s.bottomLeft,p.topRight,p.bottomRight)}addMissingRows(s,p,w){let A=this.topLeft,k=this.bottomLeft,L=this.topRight,b=this.bottomRight;if(s>0){let T=w?this.topLeft:this.topRight,B=Math.trunc(T.getY()-s);B<0&&(B=0);let j=new Xt(T.getX(),B);w?A=j:L=j}if(p>0){let T=w?this.bottomLeft:this.bottomRight,B=Math.trunc(T.getY()+p);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let j=new Xt(T.getX(),B);w?k=j:b=j}return new Fo(this.image,A,k,L,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class As{constructor(s,p,w,A){this.columnCount=s,this.errorCorrectionLevel=A,this.rowCountUpperPart=p,this.rowCountLowerPart=w,this.rowCount=p+w}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Co{constructor(){this.buffer=""}static form(s,p){let w=-1;function A(L,b,T,B,j,V){if(L==="%%")return"%";if(p[++w]===void 0)return;L=B?parseInt(B.substr(1)):void 0;let ee=j?parseInt(j.substr(1)):void 0,he;switch(V){case"s":he=p[w];break;case"c":he=p[w][0];break;case"f":he=parseFloat(p[w]).toFixed(L);break;case"p":he=parseFloat(p[w]).toPrecision(L);break;case"e":he=parseFloat(p[w]).toExponential(L);break;case"x":he=parseInt(p[w]).toString(ee||16);break;case"d":he=parseFloat(parseInt(p[w],ee||10).toPrecision(L)).toFixed(0);break}he=typeof he=="object"?JSON.stringify(he):(+he).toString(ee);let Ae=parseInt(T),Oe=T&&T[0]+""=="0"?"0":" ";for(;he.length<Ae;)he=b!==void 0?he+Oe:Oe+he;return he}let k=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(k,A)}format(s,...p){this.buffer+=Co.form(s,p)}toString(){return this.buffer}}class ho{constructor(s){this.boundingBox=new Fo(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let p=this.getCodeword(s);if(p!=null)return p;for(let w=1;w<ho.MAX_NEARBY_DISTANCE;w++){let A=this.imageRowToCodewordIndex(s)-w;if(A>=0&&(p=this.codewords[A],p!=null)||(A=this.imageRowToCodewordIndex(s)+w,A<this.codewords.length&&(p=this.codewords[A],p!=null)))return p}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,p){this.codewords[this.imageRowToCodewordIndex(s)]=p}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Co;let p=0;for(const w of this.codewords){if(w==null){s.format("%3d:    |   %n",p++);continue}s.format("%3d: %3d|%3d%n",p++,w.getRowNumber(),w.getValue())}return s.toString()}}ho.MAX_NEARBY_DISTANCE=5;class io{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let p=this.values.get(s);p==null&&(p=0),p++,this.values.set(s,p)}getValue(){let s=-1,p=new Array;for(const[w,A]of this.values.entries()){const k={getKey:()=>w,getValue:()=>A};k.getValue()>s?(s=k.getValue(),p=[],p.push(k.getKey())):k.getValue()===s&&p.push(k.getKey())}return Vn.toIntArray(p)}getConfidence(s){return this.values.get(s)}}class us extends ho{constructor(s,p){super(s),this._isLeft=p}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let p=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(p,s);let w=this.getBoundingBox(),A=this._isLeft?w.getTopLeft():w.getTopRight(),k=this._isLeft?w.getBottomLeft():w.getBottomRight(),L=this.imageRowToCodewordIndex(Math.trunc(A.getY())),b=this.imageRowToCodewordIndex(Math.trunc(k.getY())),T=-1,B=1,j=0;for(let V=L;V<b;V++){if(p[V]==null)continue;let ee=p[V],he=ee.getRowNumber()-T;if(he===0)j++;else if(he===1)B=Math.max(B,j),j=1,T=ee.getRowNumber();else if(he<0||ee.getRowNumber()>=s.getRowCount()||he>V)p[V]=null;else{let Ae;B>2?Ae=(B-2)*he:Ae=he;let Oe=Ae>=V;for(let Le=1;Le<=Ae&&!Oe;Le++)Oe=p[V-Le]!=null;Oe?p[V]=null:(T=ee.getRowNumber(),j=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let p=new Int32Array(s.getRowCount());for(let w of this.getCodewords())if(w!=null){let A=w.getRowNumber();if(A>=p.length)continue;p[A]++}return p}adjustIncompleteIndicatorColumnRowNumbers(s){let p=this.getBoundingBox(),w=this._isLeft?p.getTopLeft():p.getTopRight(),A=this._isLeft?p.getBottomLeft():p.getBottomRight(),k=this.imageRowToCodewordIndex(Math.trunc(w.getY())),L=this.imageRowToCodewordIndex(Math.trunc(A.getY())),b=this.getCodewords(),T=-1;for(let B=k;B<L;B++){if(b[B]==null)continue;let j=b[B];j.setRowNumberAsRowIndicatorColumn();let V=j.getRowNumber()-T;V===0||(V===1?T=j.getRowNumber():j.getRowNumber()>=s.getRowCount()?b[B]=null:T=j.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),p=new io,w=new io,A=new io,k=new io;for(let b of s){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let T=b.getValue()%30,B=b.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:w.setValue(T*3+1);break;case 1:k.setValue(T/3),A.setValue(T%3);break;case 2:p.setValue(T+1);break}}if(p.getValue().length===0||w.getValue().length===0||A.getValue().length===0||k.getValue().length===0||p.getValue()[0]<1||w.getValue()[0]+A.getValue()[0]<Vn.MIN_ROWS_IN_BARCODE||w.getValue()[0]+A.getValue()[0]>Vn.MAX_ROWS_IN_BARCODE)return null;let L=new As(p.getValue()[0],w.getValue()[0],A.getValue()[0],k.getValue()[0]);return this.removeIncorrectCodewords(s,L),L}removeIncorrectCodewords(s,p){for(let w=0;w<s.length;w++){let A=s[w];if(s[w]==null)continue;let k=A.getValue()%30,L=A.getRowNumber();if(L>p.getRowCount()){s[w]=null;continue}switch(this._isLeft||(L+=2),L%3){case 0:k*3+1!==p.getRowCountUpperPart()&&(s[w]=null);break;case 1:(Math.trunc(k/3)!==p.getErrorCorrectionLevel()||k%3!==p.getRowCountLowerPart())&&(s[w]=null);break;case 2:k+1!==p.getColumnCount()&&(s[w]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class qi{constructor(s,p){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=p,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Vn.MAX_CODEWORDS_IN_BARCODE,p;do p=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<p);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let p=1;p<this.barcodeColumnCount+1;p++){let w=this.detectionResultColumns[p].getCodewords();for(let A=0;A<w.length;A++)w[A]!=null&&(w[A].hasValidRowNumber()||this.adjustRowNumbers(p,A,w))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<s.length;w++)if(s[w]!=null&&p[w]!=null&&s[w].getRowNumber()===p[w].getRowNumber())for(let A=1;A<=this.barcodeColumnCount;A++){let k=this.detectionResultColumns[A].getCodewords()[w];k!=null&&(k.setRowNumber(s[w].getRowNumber()),k.hasValidRowNumber()||(this.detectionResultColumns[A].getCodewords()[w]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,p=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<p.length;w++){if(p[w]==null)continue;let A=p[w].getRowNumber(),k=0;for(let L=this.barcodeColumnCount+1;L>0&&k<this.ADJUST_ROW_NUMBER_SKIP;L--){let b=this.detectionResultColumns[L].getCodewords()[w];b!=null&&(k=qi.adjustRowNumberIfValid(A,k,b),b.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,p=this.detectionResultColumns[0].getCodewords();for(let w=0;w<p.length;w++){if(p[w]==null)continue;let A=p[w].getRowNumber(),k=0;for(let L=1;L<this.barcodeColumnCount+1&&k<this.ADJUST_ROW_NUMBER_SKIP;L++){let b=this.detectionResultColumns[L].getCodewords()[w];b!=null&&(k=qi.adjustRowNumberIfValid(A,k,b),b.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,p,w){return w==null||w.hasValidRowNumber()||(w.isValidRowNumber(s)?(w.setRowNumber(s),p=0):++p),p}adjustRowNumbers(s,p,w){if(!this.detectionResultColumns[s-1])return;let A=w[p],k=this.detectionResultColumns[s-1].getCodewords(),L=k;this.detectionResultColumns[s+1]!=null&&(L=this.detectionResultColumns[s+1].getCodewords());let b=new Array(14);b[2]=k[p],b[3]=L[p],p>0&&(b[0]=w[p-1],b[4]=k[p-1],b[5]=L[p-1]),p>1&&(b[8]=w[p-2],b[10]=k[p-2],b[11]=L[p-2]),p<w.length-1&&(b[1]=w[p+1],b[6]=k[p+1],b[7]=L[p+1]),p<w.length-2&&(b[9]=w[p+2],b[12]=k[p+2],b[13]=L[p+2]);for(let T of b)if(qi.adjustRowNumber(A,T))return}static adjustRowNumber(s,p){return p==null?!1:p.hasValidRowNumber()&&p.getBucket()===s.getBucket()?(s.setRowNumber(p.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,p){this.detectionResultColumns[s]=p}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let p=new Co;for(let w=0;w<s.getCodewords().length;w++){p.format("CW %3d:",w);for(let A=0;A<this.barcodeColumnCount+2;A++){if(this.detectionResultColumns[A]==null){p.format("    |   ");continue}let k=this.detectionResultColumns[A].getCodewords()[w];if(k==null){p.format("    |   ");continue}p.format(" %3d|%3d",k.getRowNumber(),k.getValue())}p.format("%n")}return p.toString()}}class _a{constructor(s,p,w,A){this.rowNumber=_a.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(p),this.bucket=Math.trunc(w),this.value=Math.trunc(A)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==_a.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}_a.BARCODE_ROW_UNKNOWN=-1;class Ea{static initialize(){for(let s=0;s<Vn.SYMBOL_TABLE.length;s++){let p=Vn.SYMBOL_TABLE[s],w=p&1;for(let A=0;A<Vn.BARS_IN_MODULE;A++){let k=0;for(;(p&1)===w;)k+=1,p>>=1;w=p&1,Ea.RATIOS_TABLE[s]||(Ea.RATIOS_TABLE[s]=new Array(Vn.BARS_IN_MODULE)),Ea.RATIOS_TABLE[s][Vn.BARS_IN_MODULE-A-1]=Math.fround(k/Vn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let p=Ea.getDecodedCodewordValue(Ea.sampleBitCounts(s));return p!==-1?p:Ea.getClosestDecodedValue(s)}static sampleBitCounts(s){let p=Kt.sum(s),w=new Int32Array(Vn.BARS_IN_MODULE),A=0,k=0;for(let L=0;L<Vn.MODULES_IN_CODEWORD;L++){let b=p/(2*Vn.MODULES_IN_CODEWORD)+L*p/Vn.MODULES_IN_CODEWORD;k+s[A]<=b&&(k+=s[A],A++),w[A]++}return w}static getDecodedCodewordValue(s){let p=Ea.getBitValue(s);return Vn.getCodeword(p)===-1?-1:p}static getBitValue(s){let p=0;for(let w=0;w<s.length;w++)for(let A=0;A<s[w];A++)p=p<<1|(w%2===0?1:0);return Math.trunc(p)}static getClosestDecodedValue(s){let p=Kt.sum(s),w=new Array(Vn.BARS_IN_MODULE);if(p>1)for(let L=0;L<w.length;L++)w[L]=Math.fround(s[L]/p);let A=un.MAX_VALUE,k=-1;this.bSymbolTableReady||Ea.initialize();for(let L=0;L<Ea.RATIOS_TABLE.length;L++){let b=0,T=Ea.RATIOS_TABLE[L];for(let B=0;B<Vn.BARS_IN_MODULE;B++){let j=Math.fround(T[B]-w[B]);if(b+=Math.fround(j*j),b>=A)break}b<A&&(A=b,k=Vn.SYMBOL_TABLE[L])}return k}}Ea.bSymbolTableReady=!1,Ea.RATIOS_TABLE=new Array(Vn.SYMBOL_TABLE.length).map(_e=>new Array(Vn.BARS_IN_MODULE));class Ts{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Ds{static parseLong(s,p=void 0){return parseInt(s,p)}}class Ma extends u{}Ma.kind="NullPointerException";class vu{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,p,w){if(s==null)throw new Ma;if(p<0||p>s.length||w<0||p+w>s.length||p+w<0)throw new S;if(w===0)return;for(let A=0;A<w;A++)this.write(s[p+A])}flush(){}close(){}}class Ul extends u{}class kl extends vu{constructor(s=32){if(super(),this.count=0,s<0)throw new f("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let w=this.buf.length<<1;if(w-s<0&&(w=s),w<0){if(s<0)throw new Ul;w=U.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,w)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,p,w){if(p<0||p>s.length||w<0||p+w-s.length>0)throw new S;this.ensureCapacity(this.count+w),D.arraycopy(s,p,this.buf,this.count,w),this.count+=w}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var gi;(function(_e){_e[_e.ALPHA=0]="ALPHA",_e[_e.LOWER=1]="LOWER",_e[_e.MIXED=2]="MIXED",_e[_e.PUNCT=3]="PUNCT",_e[_e.ALPHA_SHIFT=4]="ALPHA_SHIFT",_e[_e.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(gi||(gi={}));function ks(){if(typeof window<"u")return window.BigInt||null;if(typeof A1<"u")return A1.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _l;function Fa(_e){if(typeof _l>"u"&&(_l=ks()),_l===null)throw new Error("BigInt is not supported!");return _l(_e)}function _s(){let _e=[];_e[0]=Fa(1);let s=Fa(900);_e[1]=s;for(let p=2;p<16;p++)_e[p]=_e[p-1]*s;return _e}class Qt{static decode(s,p){let w=new mt(""),A=Se.ISO8859_1;w.enableDecoding(A);let k=1,L=s[k++],b=new Ts;for(;k<s[0];){switch(L){case Qt.TEXT_COMPACTION_MODE_LATCH:k=Qt.textCompaction(s,k,w);break;case Qt.BYTE_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH_6:k=Qt.byteCompaction(L,s,A,k,w);break;case Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(s[k++]);break;case Qt.NUMERIC_COMPACTION_MODE_LATCH:k=Qt.numericCompaction(s,k,w);break;case Qt.ECI_CHARSET:Se.getCharacterSetECIByValue(s[k++]);break;case Qt.ECI_GENERAL_PURPOSE:k+=2;break;case Qt.ECI_USER_DEFINED:k++;break;case Qt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:k=Qt.decodeMacroBlock(s,k,b);break;case Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qt.MACRO_PDF417_TERMINATOR:throw new ne;default:k--,k=Qt.textCompaction(s,k,w);break}if(k<s.length)L=s[k++];else throw ne.getFormatInstance()}if(w.length()===0)throw ne.getFormatInstance();let T=new rt(null,w.toString(),null,p);return T.setOther(b),T}static decodeMacroBlock(s,p,w){if(p+Qt.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw ne.getFormatInstance();let A=new Int32Array(Qt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<Qt.NUMBER_OF_SEQUENCE_CODEWORDS;b++,p++)A[b]=s[p];w.setSegmentIndex(U.parseInt(Qt.decodeBase900toBase10(A,Qt.NUMBER_OF_SEQUENCE_CODEWORDS)));let k=new mt;p=Qt.textCompaction(s,p,k),w.setFileId(k.toString());let L=-1;for(s[p]===Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(L=p+1);p<s[0];)switch(s[p]){case Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(p++,s[p]){case Qt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new mt;p=Qt.textCompaction(s,p+1,b),w.setFileName(b.toString());break;case Qt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new mt;p=Qt.textCompaction(s,p+1,T),w.setSender(T.toString());break;case Qt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new mt;p=Qt.textCompaction(s,p+1,B),w.setAddressee(B.toString());break;case Qt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new mt;p=Qt.numericCompaction(s,p+1,j),w.setSegmentCount(U.parseInt(j.toString()));break;case Qt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let V=new mt;p=Qt.numericCompaction(s,p+1,V),w.setTimestamp(Ds.parseLong(V.toString()));break;case Qt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ee=new mt;p=Qt.numericCompaction(s,p+1,ee),w.setChecksum(U.parseInt(ee.toString()));break;case Qt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let he=new mt;p=Qt.numericCompaction(s,p+1,he),w.setFileSize(Ds.parseLong(he.toString()));break;default:throw ne.getFormatInstance()}break;case Qt.MACRO_PDF417_TERMINATOR:p++,w.setLastSegment(!0);break;default:throw ne.getFormatInstance()}if(L!==-1){let b=p-L;w.isLastSegment()&&b--,w.setOptionalData(N.copyOfRange(s,L,L+b))}return p}static textCompaction(s,p,w){let A=new Int32Array((s[0]-p)*2),k=new Int32Array((s[0]-p)*2),L=0,b=!1;for(;p<s[0]&&!b;){let T=s[p++];if(T<Qt.TEXT_COMPACTION_MODE_LATCH)A[L]=T/30,A[L+1]=T%30,L+=2;else switch(T){case Qt.TEXT_COMPACTION_MODE_LATCH:A[L++]=Qt.TEXT_COMPACTION_MODE_LATCH;break;case Qt.BYTE_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH_6:case Qt.NUMERIC_COMPACTION_MODE_LATCH:case Qt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qt.MACRO_PDF417_TERMINATOR:p--,b=!0;break;case Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A[L]=Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=s[p++],k[L]=T,L++;break}}return Qt.decodeTextCompaction(A,k,L,w),p}static decodeTextCompaction(s,p,w,A){let k=gi.ALPHA,L=gi.ALPHA,b=0;for(;b<w;){let T=s[b],B="";switch(k){case gi.ALPHA:if(T<26)B=String.fromCharCode(65+T);else switch(T){case 26:B=" ";break;case Qt.LL:k=gi.LOWER;break;case Qt.ML:k=gi.MIXED;break;case Qt.PS:L=k,k=gi.PUNCT_SHIFT;break;case Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Qt.TEXT_COMPACTION_MODE_LATCH:k=gi.ALPHA;break}break;case gi.LOWER:if(T<26)B=String.fromCharCode(97+T);else switch(T){case 26:B=" ";break;case Qt.AS:L=k,k=gi.ALPHA_SHIFT;break;case Qt.ML:k=gi.MIXED;break;case Qt.PS:L=k,k=gi.PUNCT_SHIFT;break;case Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Qt.TEXT_COMPACTION_MODE_LATCH:k=gi.ALPHA;break}break;case gi.MIXED:if(T<Qt.PL)B=Qt.MIXED_CHARS[T];else switch(T){case Qt.PL:k=gi.PUNCT;break;case 26:B=" ";break;case Qt.LL:k=gi.LOWER;break;case Qt.AL:k=gi.ALPHA;break;case Qt.PS:L=k,k=gi.PUNCT_SHIFT;break;case Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Qt.TEXT_COMPACTION_MODE_LATCH:k=gi.ALPHA;break}break;case gi.PUNCT:if(T<Qt.PAL)B=Qt.PUNCT_CHARS[T];else switch(T){case Qt.PAL:k=gi.ALPHA;break;case Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Qt.TEXT_COMPACTION_MODE_LATCH:k=gi.ALPHA;break}break;case gi.ALPHA_SHIFT:if(k=L,T<26)B=String.fromCharCode(65+T);else switch(T){case 26:B=" ";break;case Qt.TEXT_COMPACTION_MODE_LATCH:k=gi.ALPHA;break}break;case gi.PUNCT_SHIFT:if(k=L,T<Qt.PAL)B=Qt.PUNCT_CHARS[T];else switch(T){case Qt.PAL:k=gi.ALPHA;break;case Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:A.append(p[b]);break;case Qt.TEXT_COMPACTION_MODE_LATCH:k=gi.ALPHA;break}break}B!==""&&A.append(B),b++}}static byteCompaction(s,p,w,A,k){let L=new kl,b=0,T=0,B=!1;switch(s){case Qt.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),V=p[A++];for(;A<p[0]&&!B;)switch(j[b++]=V,T=900*T+V,V=p[A++],V){case Qt.TEXT_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH:case Qt.NUMERIC_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH_6:case Qt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qt.MACRO_PDF417_TERMINATOR:A--,B=!0;break;default:if(b%5===0&&b>0){for(let ee=0;ee<6;++ee)L.write(Number(Fa(T)>>Fa(8*(5-ee))));T=0,b=0}break}A===p[0]&&V<Qt.TEXT_COMPACTION_MODE_LATCH&&(j[b++]=V);for(let ee=0;ee<b;ee++)L.write(j[ee]);break;case Qt.BYTE_COMPACTION_MODE_LATCH_6:for(;A<p[0]&&!B;){let ee=p[A++];if(ee<Qt.TEXT_COMPACTION_MODE_LATCH)b++,T=900*T+ee;else switch(ee){case Qt.TEXT_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH:case Qt.NUMERIC_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH_6:case Qt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qt.MACRO_PDF417_TERMINATOR:A--,B=!0;break}if(b%5===0&&b>0){for(let he=0;he<6;++he)L.write(Number(Fa(T)>>Fa(8*(5-he))));T=0,b=0}}break}return k.append(Ue.decode(L.toByteArray(),w)),A}static numericCompaction(s,p,w){let A=0,k=!1,L=new Int32Array(Qt.MAX_NUMERIC_CODEWORDS);for(;p<s[0]&&!k;){let b=s[p++];if(p===s[0]&&(k=!0),b<Qt.TEXT_COMPACTION_MODE_LATCH)L[A]=b,A++;else switch(b){case Qt.TEXT_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH:case Qt.BYTE_COMPACTION_MODE_LATCH_6:case Qt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qt.MACRO_PDF417_TERMINATOR:p--,k=!0;break}(A%Qt.MAX_NUMERIC_CODEWORDS===0||b===Qt.NUMERIC_COMPACTION_MODE_LATCH||k)&&A>0&&(w.append(Qt.decodeBase900toBase10(L,A)),A=0)}return p}static decodeBase900toBase10(s,p){let w=Fa(0);for(let k=0;k<p;k++)w+=Qt.EXP900[p-k-1]*Fa(s[k]);let A=w.toString();if(A.charAt(0)!=="1")throw new ne;return A.substring(1)}}Qt.TEXT_COMPACTION_MODE_LATCH=900,Qt.BYTE_COMPACTION_MODE_LATCH=901,Qt.NUMERIC_COMPACTION_MODE_LATCH=902,Qt.BYTE_COMPACTION_MODE_LATCH_6=924,Qt.ECI_USER_DEFINED=925,Qt.ECI_GENERAL_PURPOSE=926,Qt.ECI_CHARSET=927,Qt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Qt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Qt.MACRO_PDF417_TERMINATOR=922,Qt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Qt.MAX_NUMERIC_CODEWORDS=15,Qt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Qt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Qt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Qt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Qt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Qt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Qt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Qt.PL=25,Qt.LL=27,Qt.AS=27,Qt.ML=28,Qt.AL=28,Qt.PS=29,Qt.PAL=29,Qt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Qt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Qt.EXP900=ks()?_s():[],Qt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Nr{constructor(){}static decode(s,p,w,A,k,L,b){let T=new Fo(s,p,w,A,k),B=null,j=null,V;for(let Ae=!0;;Ae=!1){if(p!=null&&(B=Nr.getRowIndicatorColumn(s,T,p,!0,L,b)),A!=null&&(j=Nr.getRowIndicatorColumn(s,T,A,!1,L,b)),V=Nr.merge(B,j),V==null)throw ge.getNotFoundInstance();let Oe=V.getBoundingBox();if(Ae&&Oe!=null&&(Oe.getMinY()<T.getMinY()||Oe.getMaxY()>T.getMaxY()))T=Oe;else break}V.setBoundingBox(T);let ee=V.getBarcodeColumnCount()+1;V.setDetectionResultColumn(0,B),V.setDetectionResultColumn(ee,j);let he=B!=null;for(let Ae=1;Ae<=ee;Ae++){let Oe=he?Ae:ee-Ae;if(V.getDetectionResultColumn(Oe)!==void 0)continue;let Le;Oe===0||Oe===ee?Le=new us(T,Oe===0):Le=new ho(T),V.setDetectionResultColumn(Oe,Le);let Xe=-1,Ke=Xe;for(let ot=T.getMinY();ot<=T.getMaxY();ot++){if(Xe=Nr.getStartColumn(V,Oe,ot,he),Xe<0||Xe>T.getMaxX()){if(Ke===-1)continue;Xe=Ke}let Je=Nr.detectCodeword(s,T.getMinX(),T.getMaxX(),he,Xe,ot,L,b);Je!=null&&(Le.setCodeword(ot,Je),Ke=Xe,L=Math.min(L,Je.getWidth()),b=Math.max(b,Je.getWidth()))}}return Nr.createDecoderResult(V)}static merge(s,p){if(s==null&&p==null)return null;let w=Nr.getBarcodeMetadata(s,p);if(w==null)return null;let A=Fo.merge(Nr.adjustBoundingBox(s),Nr.adjustBoundingBox(p));return new qi(w,A)}static adjustBoundingBox(s){if(s==null)return null;let p=s.getRowHeights();if(p==null)return null;let w=Nr.getMax(p),A=0;for(let b of p)if(A+=w-b,b>0)break;let k=s.getCodewords();for(let b=0;A>0&&k[b]==null;b++)A--;let L=0;for(let b=p.length-1;b>=0&&(L+=w-p[b],!(p[b]>0));b--);for(let b=k.length-1;L>0&&k[b]==null;b--)L--;return s.getBoundingBox().addMissingRows(A,L,s.isLeft())}static getMax(s){let p=-1;for(let w of s)p=Math.max(p,w);return p}static getBarcodeMetadata(s,p){let w;if(s==null||(w=s.getBarcodeMetadata())==null)return p==null?null:p.getBarcodeMetadata();let A;return p==null||(A=p.getBarcodeMetadata())==null?w:w.getColumnCount()!==A.getColumnCount()&&w.getErrorCorrectionLevel()!==A.getErrorCorrectionLevel()&&w.getRowCount()!==A.getRowCount()?null:w}static getRowIndicatorColumn(s,p,w,A,k,L){let b=new us(p,A);for(let T=0;T<2;T++){let B=T===0?1:-1,j=Math.trunc(Math.trunc(w.getX()));for(let V=Math.trunc(Math.trunc(w.getY()));V<=p.getMaxY()&&V>=p.getMinY();V+=B){let ee=Nr.detectCodeword(s,0,s.getWidth(),A,j,V,k,L);ee!=null&&(b.setCodeword(V,ee),A?j=ee.getStartX():j=ee.getEndX())}}return b}static adjustCodewordCount(s,p){let w=p[0][1],A=w.getValue(),k=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Nr.getNumberOfECCodeWords(s.getBarcodeECLevel());if(A.length===0){if(k<1||k>Vn.MAX_CODEWORDS_IN_BARCODE)throw ge.getNotFoundInstance();w.setValue(k)}else A[0]!==k&&w.setValue(k)}static createDecoderResult(s){let p=Nr.createBarcodeMatrix(s);Nr.adjustCodewordCount(s,p);let w=new Array,A=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),k=[],L=new Array;for(let T=0;T<s.getBarcodeRowCount();T++)for(let B=0;B<s.getBarcodeColumnCount();B++){let j=p[T][B+1].getValue(),V=T*s.getBarcodeColumnCount()+B;j.length===0?w.push(V):j.length===1?A[V]=j[0]:(L.push(V),k.push(j))}let b=new Array(k.length);for(let T=0;T<b.length;T++)b[T]=k[T];return Nr.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),A,Vn.toIntArray(w),Vn.toIntArray(L),b)}static createDecoderResultFromAmbiguousValues(s,p,w,A,k){let L=new Int32Array(A.length),b=100;for(;b-- >0;){for(let T=0;T<L.length;T++)p[A[T]]=k[T][L[T]];try{return Nr.decodeCodewords(p,s,w)}catch(T){if(!(T instanceof m))throw T}if(L.length===0)throw m.getChecksumInstance();for(let T=0;T<L.length;T++)if(L[T]<k[T].length-1){L[T]++;break}else if(L[T]=0,T===L.length-1)throw m.getChecksumInstance()}throw m.getChecksumInstance()}static createBarcodeMatrix(s){let p=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let A=0;A<p.length;A++)for(let k=0;k<p[A].length;k++)p[A][k]=new io;let w=0;for(let A of s.getDetectionResultColumns()){if(A!=null){for(let k of A.getCodewords())if(k!=null){let L=k.getRowNumber();if(L>=0){if(L>=p.length)continue;p[L][w].setValue(k.getValue())}}}w++}return p}static isValidBarcodeColumn(s,p){return p>=0&&p<=s.getBarcodeColumnCount()+1}static getStartColumn(s,p,w,A){let k=A?1:-1,L=null;if(Nr.isValidBarcodeColumn(s,p-k)&&(L=s.getDetectionResultColumn(p-k).getCodeword(w)),L!=null)return A?L.getEndX():L.getStartX();if(L=s.getDetectionResultColumn(p).getCodewordNearby(w),L!=null)return A?L.getStartX():L.getEndX();if(Nr.isValidBarcodeColumn(s,p-k)&&(L=s.getDetectionResultColumn(p-k).getCodewordNearby(w)),L!=null)return A?L.getEndX():L.getStartX();let b=0;for(;Nr.isValidBarcodeColumn(s,p-k);){p-=k;for(let T of s.getDetectionResultColumn(p).getCodewords())if(T!=null)return(A?T.getEndX():T.getStartX())+k*b*(T.getEndX()-T.getStartX());b++}return A?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,p,w,A,k,L,b,T){k=Nr.adjustCodewordStartColumn(s,p,w,A,k,L);let B=Nr.getModuleBitCount(s,p,w,A,k,L);if(B==null)return null;let j,V=Kt.sum(B);if(A)j=k+V;else{for(let Ae=0;Ae<B.length/2;Ae++){let Oe=B[Ae];B[Ae]=B[B.length-1-Ae],B[B.length-1-Ae]=Oe}j=k,k=j-V}if(!Nr.checkCodewordSkew(V,b,T))return null;let ee=Ea.getDecodedValue(B),he=Vn.getCodeword(ee);return he===-1?null:new _a(k,j,Nr.getCodewordBucketNumber(ee),he)}static getModuleBitCount(s,p,w,A,k,L){let b=k,T=new Int32Array(8),B=0,j=A?1:-1,V=A;for(;(A?b<w:b>=p)&&B<T.length;)s.get(b,L)===V?(T[B]++,b+=j):(B++,V=!V);return B===T.length||b===(A?w:p)&&B===T.length-1?T:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,p,w,A,k,L){let b=k,T=A?-1:1;for(let B=0;B<2;B++){for(;(A?b>=p:b<w)&&A===s.get(b,L);){if(Math.abs(k-b)>Nr.CODEWORD_SKEW_SIZE)return k;b+=T}T=-T,A=!A}return b}static checkCodewordSkew(s,p,w){return p-Nr.CODEWORD_SKEW_SIZE<=s&&s<=w+Nr.CODEWORD_SKEW_SIZE}static decodeCodewords(s,p,w){if(s.length===0)throw ne.getFormatInstance();let A=1<<p+1,k=Nr.correctErrors(s,w,A);Nr.verifyCodewordCount(s,A);let L=Qt.decode(s,""+p);return L.setErrorsCorrected(k),L.setErasures(w.length),L}static correctErrors(s,p,w){if(p!=null&&p.length>w/2+Nr.MAX_ERRORS||w<0||w>Nr.MAX_EC_CODEWORDS)throw m.getChecksumInstance();return Nr.errorCorrection.decode(s,w,p)}static verifyCodewordCount(s,p){if(s.length<4)throw ne.getFormatInstance();let w=s[0];if(w>s.length)throw ne.getFormatInstance();if(w===0)if(p<s.length)s[0]=s.length-p;else throw ne.getFormatInstance()}static getBitCountForCodeword(s){let p=new Int32Array(8),w=0,A=p.length-1;for(;!((s&1)!==w&&(w=s&1,A--,A<0));)p[A]++,s>>=1;return p}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Nr.getCodewordBucketNumber(Nr.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let p=new Co;for(let w=0;w<s.length;w++){p.format("Row %2d: ",w);for(let A=0;A<s[w].length;A++){let k=s[w][A];k.getValue().length===0?p.format("        ",null):p.format("%4d(%2d)",k.getValue()[0],k.getConfidence(k.getValue()[0]))}p.format("%n")}return p.toString()}}Nr.CODEWORD_SKEW_SIZE=2,Nr.MAX_ERRORS=3,Nr.MAX_EC_CODEWORDS=512,Nr.errorCorrection=new wo;class Va{decode(s,p=null){let w=Va.decode(s,p,!1);if(w==null||w.length===0||w[0]==null)throw ge.getNotFoundInstance();return w[0]}decodeMultiple(s,p=null){try{return Va.decode(s,p,!0)}catch(w){throw w instanceof ne||w instanceof m?ge.getNotFoundInstance():w}}static decode(s,p,w){const A=new Array,k=tr.detectMultiple(s,p,w);for(const L of k.getPoints()){const b=Nr.decode(k.getBits(),L[4],L[5],L[6],L[7],Va.getMinCodewordWidth(L),Va.getMaxCodewordWidth(L)),T=new be(b.getText(),b.getRawBytes(),void 0,L,Fe.PDF_417);T.putMetadata(At.ERROR_CORRECTION_LEVEL,b.getECLevel());const B=b.getOther();B!=null&&T.putMetadata(At.PDF417_EXTRA_METADATA,B),A.push(T)}return A.map(L=>L)}static getMaxWidth(s,p){return s==null||p==null?0:Math.trunc(Math.abs(s.getX()-p.getX()))}static getMinWidth(s,p){return s==null||p==null?U.MAX_VALUE:Math.trunc(Math.abs(s.getX()-p.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Va.getMaxWidth(s[0],s[4]),Va.getMaxWidth(s[6],s[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.max(Va.getMaxWidth(s[1],s[5]),Va.getMaxWidth(s[7],s[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Va.getMinWidth(s[0],s[4]),Va.getMinWidth(s[6],s[2])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN),Math.min(Va.getMinWidth(s[1],s[5]),Va.getMinWidth(s[7],s[3])*Vn.MODULES_IN_CODEWORD/Vn.MODULES_IN_STOP_PATTERN)))}reset(){}}class cs extends u{}cs.kind="ReaderException";class yu{constructor(s,p){this.verbose=s===!0,p&&this.setHints(p)}decode(s,p){return p&&this.setHints(p),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const p=!r(s)&&s.get(J.TRY_HARDER)===!0,w=r(s)?null:s.get(J.POSSIBLE_FORMATS),A=new Array;if(!r(w)){const k=w.some(L=>L===Fe.UPC_A||L===Fe.UPC_E||L===Fe.EAN_13||L===Fe.EAN_8||L===Fe.CODABAR||L===Fe.CODE_39||L===Fe.CODE_93||L===Fe.CODE_128||L===Fe.ITF||L===Fe.RSS_14||L===Fe.RSS_EXPANDED);k&&!p&&A.push(new Ki(s,this.verbose)),w.includes(Fe.QR_CODE)&&A.push(new kr),w.includes(Fe.DATA_MATRIX)&&A.push(new ka),w.includes(Fe.AZTEC)&&A.push(new we),w.includes(Fe.PDF_417)&&A.push(new Va),k&&p&&A.push(new Ki(s,this.verbose))}A.length===0&&(p||A.push(new Ki(s,this.verbose)),A.push(new kr),A.push(new ka),A.push(new we),A.push(new Va),p&&A.push(new Ki(s,this.verbose))),this.readers=A}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new cs("No readers where selected, nothing can be read.");for(const p of this.readers)try{return p.decode(s,this.hints)}catch(w){if(w instanceof cs)continue}throw new ge("No MultiFormat Readers were able to detect the code.")}}class jl extends Z{constructor(s=null,p=500){const w=new yu;w.setHints(s),super(w,p)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class nu extends Z{constructor(s=500){super(new Va,s)}}class Zs extends Z{constructor(s=500){super(new kr,s)}}var Oa;(function(_e){_e[_e.ERROR_CORRECTION=0]="ERROR_CORRECTION",_e[_e.CHARACTER_SET=1]="CHARACTER_SET",_e[_e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_e[_e.MIN_SIZE=3]="MIN_SIZE",_e[_e.MAX_SIZE=4]="MAX_SIZE",_e[_e.MARGIN=5]="MARGIN",_e[_e.PDF417_COMPACT=6]="PDF417_COMPACT",_e[_e.PDF417_COMPACTION=7]="PDF417_COMPACTION",_e[_e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_e[_e.AZTEC_LAYERS=9]="AZTEC_LAYERS",_e[_e.QR_VERSION=10]="QR_VERSION"})(Oa||(Oa={}));var Qi=Oa;class Fs{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new _t(s,Int32Array.from([1])))}buildGenerator(s){const p=this.cachedGenerators;if(s>=p.length){let w=p[p.length-1];const A=this.field;for(let k=p.length;k<=s;k++){const L=w.multiply(new _t(A,Int32Array.from([1,A.exp(k-1+A.getGeneratorBase())])));p.push(L),w=L}}return p[s]}encode(s,p){if(p===0)throw new f("No error correction bytes");const w=s.length-p;if(w<=0)throw new f("No data bytes provided");const A=this.buildGenerator(p),k=new Int32Array(w);D.arraycopy(s,0,k,0,w);let L=new _t(this.field,k);L=L.multiplyByMonomial(p,1);const T=L.divide(A)[1].getCoefficients(),B=p-T.length;for(let j=0;j<B;j++)s[w+j]=0;D.arraycopy(T,0,s,w+B,T.length)}}class Ni{constructor(){}static applyMaskPenaltyRule1(s){return Ni.applyMaskPenaltyRule1Internal(s,!0)+Ni.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let p=0;const w=s.getArray(),A=s.getWidth(),k=s.getHeight();for(let L=0;L<k-1;L++){const b=w[L];for(let T=0;T<A-1;T++){const B=b[T];B===b[T+1]&&B===w[L+1][T]&&B===w[L+1][T+1]&&p++}}return Ni.N2*p}static applyMaskPenaltyRule3(s){let p=0;const w=s.getArray(),A=s.getWidth(),k=s.getHeight();for(let L=0;L<k;L++)for(let b=0;b<A;b++){const T=w[L];b+6<A&&T[b]===1&&T[b+1]===0&&T[b+2]===1&&T[b+3]===1&&T[b+4]===1&&T[b+5]===0&&T[b+6]===1&&(Ni.isWhiteHorizontal(T,b-4,b)||Ni.isWhiteHorizontal(T,b+7,b+11))&&p++,L+6<k&&w[L][b]===1&&w[L+1][b]===0&&w[L+2][b]===1&&w[L+3][b]===1&&w[L+4][b]===1&&w[L+5][b]===0&&w[L+6][b]===1&&(Ni.isWhiteVertical(w,b,L-4,L)||Ni.isWhiteVertical(w,b,L+7,L+11))&&p++}return p*Ni.N3}static isWhiteHorizontal(s,p,w){p=Math.max(p,0),w=Math.min(w,s.length);for(let A=p;A<w;A++)if(s[A]===1)return!1;return!0}static isWhiteVertical(s,p,w,A){w=Math.max(w,0),A=Math.min(A,s.length);for(let k=w;k<A;k++)if(s[k][p]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let p=0;const w=s.getArray(),A=s.getWidth(),k=s.getHeight();for(let T=0;T<k;T++){const B=w[T];for(let j=0;j<A;j++)B[j]===1&&p++}const L=s.getHeight()*s.getWidth();return Math.floor(Math.abs(p*2-L)*10/L)*Ni.N4}static getDataMaskBit(s,p,w){let A,k;switch(s){case 0:A=w+p&1;break;case 1:A=w&1;break;case 2:A=p%3;break;case 3:A=(w+p)%3;break;case 4:A=Math.floor(w/2)+Math.floor(p/3)&1;break;case 5:k=w*p,A=(k&1)+k%3;break;case 6:k=w*p,A=(k&1)+k%3&1;break;case 7:k=w*p,A=k%3+(w+p&1)&1;break;default:throw new f("Invalid mask pattern: "+s)}return A===0}static applyMaskPenaltyRule1Internal(s,p){let w=0;const A=p?s.getHeight():s.getWidth(),k=p?s.getWidth():s.getHeight(),L=s.getArray();for(let b=0;b<A;b++){let T=0,B=-1;for(let j=0;j<k;j++){const V=p?L[b][j]:L[j][b];V===B?T++:(T>=5&&(w+=Ni.N1+(T-5)),T=1,B=V)}T>=5&&(w+=Ni.N1+(T-5))}return w}}Ni.N1=3,Ni.N2=3,Ni.N3=40,Ni.N4=10;class dl{constructor(s,p){this.width=s,this.height=p;const w=new Array(p);for(let A=0;A!==p;A++)w[A]=new Uint8Array(s);this.bytes=w}getHeight(){return this.height}getWidth(){return this.width}get(s,p){return this.bytes[p][s]}getArray(){return this.bytes}setNumber(s,p,w){this.bytes[p][s]=w}setBoolean(s,p,w){this.bytes[p][s]=w?1:0}clear(s){for(const p of this.bytes)N.fill(p,s)}equals(s){if(!(s instanceof dl))return!1;const p=s;if(this.width!==p.width||this.height!==p.height)return!1;for(let w=0,A=this.height;w<A;++w){const k=this.bytes[w],L=p.bytes[w];for(let b=0,T=this.width;b<T;++b)if(k[b]!==L[b])return!1}return!0}toString(){const s=new mt;for(let p=0,w=this.height;p<w;++p){const A=this.bytes[p];for(let k=0,L=this.width;k<L;++k)switch(A[k]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class gl{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new mt;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<gl.NUM_MASK_PATTERNS}}gl.NUM_MASK_PATTERNS=8;class ki extends u{}ki.kind="WriterException";class jn{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,p,w,A,k){jn.clearMatrix(k),jn.embedBasicPatterns(w,k),jn.embedTypeInfo(p,A,k),jn.maybeEmbedVersionInfo(w,k),jn.embedDataBits(s,A,k)}static embedBasicPatterns(s,p){jn.embedPositionDetectionPatternsAndSeparators(p),jn.embedDarkDotAtLeftBottomCorner(p),jn.maybeEmbedPositionAdjustmentPatterns(s,p),jn.embedTimingPatterns(p)}static embedTypeInfo(s,p,w){const A=new W;jn.makeTypeInfoBits(s,p,A);for(let k=0,L=A.getSize();k<L;++k){const b=A.get(A.getSize()-1-k),T=jn.TYPE_INFO_COORDINATES[k],B=T[0],j=T[1];if(w.setBoolean(B,j,b),k<8){const V=w.getWidth()-k-1;w.setBoolean(V,8,b)}else{const ee=w.getHeight()-7+(k-8);w.setBoolean(8,ee,b)}}}static maybeEmbedVersionInfo(s,p){if(s.getVersionNumber()<7)return;const w=new W;jn.makeVersionInfoBits(s,w);let A=17;for(let k=0;k<6;++k)for(let L=0;L<3;++L){const b=w.get(A);A--,p.setBoolean(k,p.getHeight()-11+L,b),p.setBoolean(p.getHeight()-11+L,k,b)}}static embedDataBits(s,p,w){let A=0,k=-1,L=w.getWidth()-1,b=w.getHeight()-1;for(;L>0;){for(L===6&&(L-=1);b>=0&&b<w.getHeight();){for(let T=0;T<2;++T){const B=L-T;if(!jn.isEmpty(w.get(B,b)))continue;let j;A<s.getSize()?(j=s.get(A),++A):j=!1,p!==255&&Ni.getDataMaskBit(p,B,b)&&(j=!j),w.setBoolean(B,b,j)}b+=k}k=-k,b+=k,L-=2}if(A!==s.getSize())throw new ki("Not all bits consumed: "+A+"/"+s.getSize())}static findMSBSet(s){return 32-U.numberOfLeadingZeros(s)}static calculateBCHCode(s,p){if(p===0)throw new f("0 polynomial");const w=jn.findMSBSet(p);for(s<<=w-1;jn.findMSBSet(s)>=w;)s^=p<<jn.findMSBSet(s)-w;return s}static makeTypeInfoBits(s,p,w){if(!gl.isValidMaskPattern(p))throw new ki("Invalid mask pattern");const A=s.getBits()<<3|p;w.appendBits(A,5);const k=jn.calculateBCHCode(A,jn.TYPE_INFO_POLY);w.appendBits(k,10);const L=new W;if(L.appendBits(jn.TYPE_INFO_MASK_PATTERN,15),w.xor(L),w.getSize()!==15)throw new ki("should not happen but we got: "+w.getSize())}static makeVersionInfoBits(s,p){p.appendBits(s.getVersionNumber(),6);const w=jn.calculateBCHCode(s.getVersionNumber(),jn.VERSION_INFO_POLY);if(p.appendBits(w,12),p.getSize()!==18)throw new ki("should not happen but we got: "+p.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let p=8;p<s.getWidth()-8;++p){const w=(p+1)%2;jn.isEmpty(s.get(p,6))&&s.setNumber(p,6,w),jn.isEmpty(s.get(6,p))&&s.setNumber(6,p,w)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new ki;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,p,w){for(let A=0;A<8;++A){if(!jn.isEmpty(w.get(s+A,p)))throw new ki;w.setNumber(s+A,p,0)}}static embedVerticalSeparationPattern(s,p,w){for(let A=0;A<7;++A){if(!jn.isEmpty(w.get(s,p+A)))throw new ki;w.setNumber(s,p+A,0)}}static embedPositionAdjustmentPattern(s,p,w){for(let A=0;A<5;++A){const k=jn.POSITION_ADJUSTMENT_PATTERN[A];for(let L=0;L<5;++L)w.setNumber(s+L,p+A,k[L])}}static embedPositionDetectionPattern(s,p,w){for(let A=0;A<7;++A){const k=jn.POSITION_DETECTION_PATTERN[A];for(let L=0;L<7;++L)w.setNumber(s+L,p+A,k[L])}}static embedPositionDetectionPatternsAndSeparators(s){const p=jn.POSITION_DETECTION_PATTERN[0].length;jn.embedPositionDetectionPattern(0,0,s),jn.embedPositionDetectionPattern(s.getWidth()-p,0,s),jn.embedPositionDetectionPattern(0,s.getWidth()-p,s);const w=8;jn.embedHorizontalSeparationPattern(0,w-1,s),jn.embedHorizontalSeparationPattern(s.getWidth()-w,w-1,s),jn.embedHorizontalSeparationPattern(0,s.getWidth()-w,s);const A=7;jn.embedVerticalSeparationPattern(A,0,s),jn.embedVerticalSeparationPattern(s.getHeight()-A-1,0,s),jn.embedVerticalSeparationPattern(A,s.getHeight()-A,s)}static maybeEmbedPositionAdjustmentPatterns(s,p){if(s.getVersionNumber()<2)return;const w=s.getVersionNumber()-1,A=jn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[w];for(let k=0,L=A.length;k!==L;k++){const b=A[k];if(b>=0)for(let T=0;T!==L;T++){const B=A[T];B>=0&&jn.isEmpty(p.get(B,b))&&jn.embedPositionAdjustmentPattern(B-2,b-2,p)}}}}jn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),jn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),jn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),jn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),jn.VERSION_INFO_POLY=7973,jn.TYPE_INFO_POLY=1335,jn.TYPE_INFO_MASK_PATTERN=21522;class Vo{constructor(s,p){this.dataBytes=s,this.errorCorrectionBytes=p}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class di{constructor(){}static calculateMaskPenalty(s){return Ni.applyMaskPenaltyRule1(s)+Ni.applyMaskPenaltyRule2(s)+Ni.applyMaskPenaltyRule3(s)+Ni.applyMaskPenaltyRule4(s)}static encode(s,p,w=null){let A=di.DEFAULT_BYTE_MODE_ENCODING;const k=w!==null&&w.get(Qi.CHARACTER_SET)!==void 0;k&&(A=w.get(Qi.CHARACTER_SET).toString());const L=this.chooseMode(s,A),b=new W;if(L===nn.BYTE&&(k||di.DEFAULT_BYTE_MODE_ENCODING!==A)){const ot=Se.getCharacterSetECIByName(A);ot!==void 0&&this.appendECI(ot,b)}this.appendModeInfo(L,b);const T=new W;this.appendBytes(s,L,T,A);let B;if(w!==null&&w.get(Qi.QR_VERSION)!==void 0){const ot=Number.parseInt(w.get(Qi.QR_VERSION).toString(),10);B=Gn.getVersionForNumber(ot);const Je=this.calculateBitsNeeded(L,b,T,B);if(!this.willFit(Je,B,p))throw new ki("Data too big for requested version")}else B=this.recommendVersion(p,L,b,T);const j=new W;j.appendBitArray(b);const V=L===nn.BYTE?T.getSizeInBytes():s.length;this.appendLengthInfo(V,B,L,j),j.appendBitArray(T);const ee=B.getECBlocksForLevel(p),he=B.getTotalCodewords()-ee.getTotalECCodewords();this.terminateBits(he,j);const Ae=this.interleaveWithECBytes(j,B.getTotalCodewords(),he,ee.getNumBlocks()),Oe=new gl;Oe.setECLevel(p),Oe.setMode(L),Oe.setVersion(B);const Le=B.getDimensionForVersion(),Xe=new dl(Le,Le),Ke=this.chooseMaskPattern(Ae,p,B,Xe);return Oe.setMaskPattern(Ke),jn.buildMatrix(Ae,p,B,Ke,Xe),Oe.setMatrix(Xe),Oe}static recommendVersion(s,p,w,A){const k=this.calculateBitsNeeded(p,w,A,Gn.getVersionForNumber(1)),L=this.chooseVersion(k,s),b=this.calculateBitsNeeded(p,w,A,L);return this.chooseVersion(b,s)}static calculateBitsNeeded(s,p,w,A){return p.getSize()+s.getCharacterCountBits(A)+w.getSize()}static getAlphanumericCode(s){return s<di.ALPHANUMERIC_TABLE.length?di.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,p=null){if(Se.SJIS.getName()===p&&this.isOnlyDoubleByteKanji(s))return nn.KANJI;let w=!1,A=!1;for(let k=0,L=s.length;k<L;++k){const b=s.charAt(k);if(di.isDigit(b))w=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)A=!0;else return nn.BYTE}return A?nn.ALPHANUMERIC:w?nn.NUMERIC:nn.BYTE}static isOnlyDoubleByteKanji(s){let p;try{p=Ue.encode(s,Se.SJIS)}catch{return!1}const w=p.length;if(w%2!==0)return!1;for(let A=0;A<w;A+=2){const k=p[A]&255;if((k<129||k>159)&&(k<224||k>235))return!1}return!0}static chooseMaskPattern(s,p,w,A){let k=Number.MAX_SAFE_INTEGER,L=-1;for(let b=0;b<gl.NUM_MASK_PATTERNS;b++){jn.buildMatrix(s,p,w,b,A);let T=this.calculateMaskPenalty(A);T<k&&(k=T,L=b)}return L}static chooseVersion(s,p){for(let w=1;w<=40;w++){const A=Gn.getVersionForNumber(w);if(di.willFit(s,A,p))return A}throw new ki("Data too big")}static willFit(s,p,w){const A=p.getTotalCodewords(),L=p.getECBlocksForLevel(w).getTotalECCodewords(),b=A-L,T=(s+7)/8;return b>=T}static terminateBits(s,p){const w=s*8;if(p.getSize()>w)throw new ki("data bits cannot fit in the QR Code"+p.getSize()+" > "+w);for(let L=0;L<4&&p.getSize()<w;++L)p.appendBit(!1);const A=p.getSize()&7;if(A>0)for(let L=A;L<8;L++)p.appendBit(!1);const k=s-p.getSizeInBytes();for(let L=0;L<k;++L)p.appendBits((L&1)===0?236:17,8);if(p.getSize()!==w)throw new ki("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,p,w,A,k,L){if(A>=w)throw new ki("Block ID too large");const b=s%w,T=w-b,B=Math.floor(s/w),j=B+1,V=Math.floor(p/w),ee=V+1,he=B-V,Ae=j-ee;if(he!==Ae)throw new ki("EC bytes mismatch");if(w!==T+b)throw new ki("RS blocks mismatch");if(s!==(V+he)*T+(ee+Ae)*b)throw new ki("Total bytes mismatch");A<T?(k[0]=V,L[0]=he):(k[0]=ee,L[0]=Ae)}static interleaveWithECBytes(s,p,w,A){if(s.getSizeInBytes()!==w)throw new ki("Number of bits and data bytes does not match");let k=0,L=0,b=0;const T=new Array;for(let j=0;j<A;++j){const V=new Int32Array(1),ee=new Int32Array(1);di.getNumDataBytesAndNumECBytesForBlockID(p,w,A,j,V,ee);const he=V[0],Ae=new Uint8Array(he);s.toBytes(8*k,Ae,0,he);const Oe=di.generateECBytes(Ae,ee[0]);T.push(new Vo(Ae,Oe)),L=Math.max(L,he),b=Math.max(b,Oe.length),k+=V[0]}if(w!==k)throw new ki("Data bytes does not match offset");const B=new W;for(let j=0;j<L;++j)for(const V of T){const ee=V.getDataBytes();j<ee.length&&B.appendBits(ee[j],8)}for(let j=0;j<b;++j)for(const V of T){const ee=V.getErrorCorrectionBytes();j<ee.length&&B.appendBits(ee[j],8)}if(p!==B.getSizeInBytes())throw new ki("Interleaving error: "+p+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(s,p){const w=s.length,A=new Int32Array(w+p);for(let L=0;L<w;L++)A[L]=s[L]&255;new Fs(ft.QR_CODE_FIELD_256).encode(A,p);const k=new Uint8Array(p);for(let L=0;L<p;L++)k[L]=A[w+L];return k}static appendModeInfo(s,p){p.appendBits(s.getBits(),4)}static appendLengthInfo(s,p,w,A){const k=w.getCharacterCountBits(p);if(s>=1<<k)throw new ki(s+" is bigger than "+((1<<k)-1));A.appendBits(s,k)}static appendBytes(s,p,w,A){switch(p){case nn.NUMERIC:di.appendNumericBytes(s,w);break;case nn.ALPHANUMERIC:di.appendAlphanumericBytes(s,w);break;case nn.BYTE:di.append8BitBytes(s,w,A);break;case nn.KANJI:di.appendKanjiBytes(s,w);break;default:throw new ki("Invalid mode: "+p)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const p=di.getDigit(s);return p>=0&&p<=9}static appendNumericBytes(s,p){const w=s.length;let A=0;for(;A<w;){const k=di.getDigit(s.charAt(A));if(A+2<w){const L=di.getDigit(s.charAt(A+1)),b=di.getDigit(s.charAt(A+2));p.appendBits(k*100+L*10+b,10),A+=3}else if(A+1<w){const L=di.getDigit(s.charAt(A+1));p.appendBits(k*10+L,7),A+=2}else p.appendBits(k,4),A++}}static appendAlphanumericBytes(s,p){const w=s.length;let A=0;for(;A<w;){const k=di.getAlphanumericCode(s.charCodeAt(A));if(k===-1)throw new ki;if(A+1<w){const L=di.getAlphanumericCode(s.charCodeAt(A+1));if(L===-1)throw new ki;p.appendBits(k*45+L,11),A+=2}else p.appendBits(k,6),A++}}static append8BitBytes(s,p,w){let A;try{A=Ue.encode(s,w)}catch(k){throw new ki(k)}for(let k=0,L=A.length;k!==L;k++){const b=A[k];p.appendBits(b,8)}}static appendKanjiBytes(s,p){let w;try{w=Ue.encode(s,Se.SJIS)}catch(k){throw new ki(k)}const A=w.length;for(let k=0;k<A;k+=2){const L=w[k]&255,b=w[k+1]&255,T=L<<8&4294967295|b;let B=-1;if(T>=33088&&T<=40956?B=T-33088:T>=57408&&T<=60351&&(B=T-49472),B===-1)throw new ki("Invalid byte sequence");const j=(B>>8)*192+(B&255);p.appendBits(j,13)}}static appendECI(s,p){p.appendBits(nn.ECI.getBits(),4),p.appendBits(s.getValue(),8)}}di.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),di.DEFAULT_BYTE_MODE_ENCODING=Se.UTF8.getName();class fs{write(s,p,w,A=null){if(s.length===0)throw new f("Found empty contents");if(p<0||w<0)throw new f("Requested dimensions are too small: "+p+"x"+w);let k=Ir.L,L=fs.QUIET_ZONE_SIZE;A!==null&&(A.get(Qi.ERROR_CORRECTION)!==void 0&&(k=Ir.fromString(A.get(Qi.ERROR_CORRECTION).toString())),A.get(Qi.MARGIN)!==void 0&&(L=Number.parseInt(A.get(Qi.MARGIN).toString(),10)));const b=di.encode(s,k,A);return this.renderResult(b,p,w,L)}writeToDom(s,p,w,A,k=null){typeof s=="string"&&(s=document.querySelector(s));const L=this.write(p,w,A,k);s&&s.appendChild(L)}renderResult(s,p,w,A){const k=s.getMatrix();if(k===null)throw new Dt;const L=k.getWidth(),b=k.getHeight(),T=L+A*2,B=b+A*2,j=Math.max(p,T),V=Math.max(w,B),ee=Math.min(Math.floor(j/T),Math.floor(V/B)),he=Math.floor((j-L*ee)/2),Ae=Math.floor((V-b*ee)/2),Oe=this.createSVGElement(j,V);for(let Le=0,Xe=Ae;Le<b;Le++,Xe+=ee)for(let Ke=0,ot=he;Ke<L;Ke++,ot+=ee)if(k.get(Ke,Le)===1){const Je=this.createSvgRectElement(ot,Xe,ee,ee);Oe.appendChild(Je)}return Oe}createSVGElement(s,p){const w=document.createElementNS(fs.SVG_NS,"svg");return w.setAttributeNS(null,"height",s.toString()),w.setAttributeNS(null,"width",p.toString()),w}createSvgRectElement(s,p,w,A){const k=document.createElementNS(fs.SVG_NS,"rect");return k.setAttributeNS(null,"x",s.toString()),k.setAttributeNS(null,"y",p.toString()),k.setAttributeNS(null,"height",w.toString()),k.setAttributeNS(null,"width",A.toString()),k.setAttributeNS(null,"fill","#000000"),k}}fs.QUIET_ZONE_SIZE=4,fs.SVG_NS="http://www.w3.org/2000/svg";class qs{encode(s,p,w,A,k){if(s.length===0)throw new f("Found empty contents");if(p!==Fe.QR_CODE)throw new f("Can only encode QR_CODE, but got "+p);if(w<0||A<0)throw new f(`Requested dimensions are too small: ${w}x${A}`);let L=Ir.L,b=qs.QUIET_ZONE_SIZE;k!==null&&(k.get(Qi.ERROR_CORRECTION)!==void 0&&(L=Ir.fromString(k.get(Qi.ERROR_CORRECTION).toString())),k.get(Qi.MARGIN)!==void 0&&(b=Number.parseInt(k.get(Qi.MARGIN).toString(),10)));const T=di.encode(s,L,k);return qs.renderResult(T,w,A,b)}static renderResult(s,p,w,A){const k=s.getMatrix();if(k===null)throw new Dt;const L=k.getWidth(),b=k.getHeight(),T=L+A*2,B=b+A*2,j=Math.max(p,T),V=Math.max(w,B),ee=Math.min(Math.floor(j/T),Math.floor(V/B)),he=Math.floor((j-L*ee)/2),Ae=Math.floor((V-b*ee)/2),Oe=new ut(j,V);for(let Le=0,Xe=Ae;Le<b;Le++,Xe+=ee)for(let Ke=0,ot=he;Ke<L;Ke++,ot+=ee)k.get(Ke,Le)===1&&Oe.setRegion(ot,Xe,ee,ee);return Oe}}qs.QUIET_ZONE_SIZE=4;class Po{encode(s,p,w,A,k){let L;if(p===Fe.QR_CODE)L=new qs;else throw new f("No encoder available for format "+p);return L.encode(s,p,w,A,k)}}class oi extends lt{constructor(s,p,w,A,k,L,b,T){if(super(L,b),this.yuvData=s,this.dataWidth=p,this.dataHeight=w,this.left=A,this.top=k,A+L>p||k+b>w)throw new f("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(L,b)}getRow(s,p){if(s<0||s>=this.getHeight())throw new f("Requested row is outside the image: "+s);const w=this.getWidth();(p==null||p.length<w)&&(p=new Uint8ClampedArray(w));const A=(s+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,A,p,0,w),p}getMatrix(){const s=this.getWidth(),p=this.getHeight();if(s===this.dataWidth&&p===this.dataHeight)return this.yuvData;const w=s*p,A=new Uint8ClampedArray(w);let k=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return D.arraycopy(this.yuvData,k,A,0,w),A;for(let L=0;L<p;L++){const b=L*s;D.arraycopy(this.yuvData,k,A,b,s),k+=this.dataWidth}return A}isCropSupported(){return!0}crop(s,p,w,A){return new oi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+p,w,A,!1)}renderThumbnail(){const s=this.getWidth()/oi.THUMBNAIL_SCALE_FACTOR,p=this.getHeight()/oi.THUMBNAIL_SCALE_FACTOR,w=new Int32Array(s*p),A=this.yuvData;let k=this.top*this.dataWidth+this.left;for(let L=0;L<p;L++){const b=L*s;for(let T=0;T<s;T++){const B=A[k+T*oi.THUMBNAIL_SCALE_FACTOR]&255;w[b+T]=4278190080|B*65793}k+=this.dataWidth*oi.THUMBNAIL_SCALE_FACTOR}return w}getThumbnailWidth(){return this.getWidth()/oi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/oi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,p){const w=this.yuvData;for(let A=0,k=this.top*this.dataWidth+this.left;A<p;A++,k+=this.dataWidth){const L=k+s/2;for(let b=k,T=k+s-1;b<L;b++,T--){const B=w[b];w[b]=w[T],w[T]=B}}}invert(){return new Me(this)}}oi.THUMBNAIL_SCALE_FACTOR=2;class pl extends lt{constructor(s,p,w,A,k,L,b){if(super(p,w),this.dataWidth=A,this.dataHeight=k,this.left=L,this.top=b,s.BYTES_PER_ELEMENT===4){const T=p*w,B=new Uint8ClampedArray(T);for(let j=0;j<T;j++){const V=s[j],ee=V>>16&255,he=V>>7&510,Ae=V&255;B[j]=(ee+he+Ae)/4&255}this.luminances=B}else this.luminances=s;if(A===void 0&&(this.dataWidth=p),k===void 0&&(this.dataHeight=w),L===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+p>this.dataWidth||this.top+w>this.dataHeight)throw new f("Crop rectangle does not fit within image data.")}getRow(s,p){if(s<0||s>=this.getHeight())throw new f("Requested row is outside the image: "+s);const w=this.getWidth();(p==null||p.length<w)&&(p=new Uint8ClampedArray(w));const A=(s+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,A,p,0,w),p}getMatrix(){const s=this.getWidth(),p=this.getHeight();if(s===this.dataWidth&&p===this.dataHeight)return this.luminances;const w=s*p,A=new Uint8ClampedArray(w);let k=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return D.arraycopy(this.luminances,k,A,0,w),A;for(let L=0;L<p;L++){const b=L*s;D.arraycopy(this.luminances,k,A,b,s),k+=this.dataWidth}return A}isCropSupported(){return!0}crop(s,p,w,A){return new pl(this.luminances,w,A,this.dataWidth,this.dataHeight,this.left+s,this.top+p)}invert(){return new Me(this)}}class Ps extends Se{static forName(s){return this.getCharacterSetECIByName(s)}}class Ji{}Ji.ISO_8859_1=Se.ISO8859_1;class zo{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Li{static singletonList(s){return[s]}static min(s,p){return s.sort(p)[0]}}class Ko{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Zo extends Ko{constructor(s,p,w){super(s),this.value=p,this.bitCount=w}appendTo(s,p){s.appendBits(this.value,this.bitCount)}add(s,p){return new Zo(this,s,p)}addBinaryShift(s,p){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zo(this,s,p)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+U.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Qs extends Zo{constructor(s,p,w){super(s,0,0),this.binaryShiftStart=p,this.binaryShiftByteCount=w}appendTo(s,p){for(let w=0;w<this.binaryShiftByteCount;w++)(w===0||w===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):w===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(p[this.binaryShiftStart+w],8)}addBinaryShift(s,p){return new Qs(this,s,p)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function xu(_e,s,p){return new Qs(_e,s,p)}function ml(_e,s,p){return new Zo(_e,s,p)}const Js=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qo=0,Ml=1,Bi=2,So=3,Ka=4,hs=new Zo(null,0,0),Ms=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Qo(_e){for(let s of _e)N.fill(s,-1);return _e[qo][Ka]=0,_e[Ml][Ka]=0,_e[Ml][qo]=28,_e[So][Ka]=0,_e[Bi][Ka]=0,_e[Bi][qo]=15,_e}const Ho=Qo(N.createInt32Array(6,6));class Pa{constructor(s,p,w,A){this.token=s,this.mode=p,this.binaryShiftByteCount=w,this.bitCount=A}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,p){let w=this.bitCount,A=this.token;if(s!==this.mode){let L=Ms[this.mode][s];A=ml(A,L&65535,L>>16),w+=L>>16}let k=s===Bi?4:5;return A=ml(A,p,k),new Pa(A,s,0,w+k)}shiftAndAppend(s,p){let w=this.token,A=this.mode===Bi?4:5;return w=ml(w,Ho[this.mode][s],A),w=ml(w,p,5),new Pa(w,this.mode,0,this.bitCount+A+5)}addBinaryShiftChar(s){let p=this.token,w=this.mode,A=this.bitCount;if(this.mode===Ka||this.mode===Bi){let b=Ms[w][qo];p=ml(p,b&65535,b>>16),A+=b>>16,w=qo}let k=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,L=new Pa(p,w,this.binaryShiftByteCount+1,A+k);return L.binaryShiftByteCount===2078&&(L=L.endBinaryShift(s+1)),L}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let p=this.token;return p=xu(p,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Pa(p,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let p=this.bitCount+(Ms[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?p+=Pa.calculateBinaryShiftCost(s)-Pa.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(p+=10),p<=s.bitCount}toBitArray(s){let p=[];for(let A=this.endBinaryShift(s.length).token;A!==null;A=A.getPrevious())p.unshift(A);let w=new W;for(const A of p)A.appendTo(w,s);return w}toString(){return qe.format("%s bits=%d bytes=%d",Js[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Pa.INITIAL_STATE=new Pa(hs,qo,0,0);function Ui(_e){const s=qe.getCharCode(" "),p=qe.getCharCode("."),w=qe.getCharCode(",");_e[qo][s]=1;const A=qe.getCharCode("Z"),k=qe.getCharCode("A");for(let ee=k;ee<=A;ee++)_e[qo][ee]=ee-k+2;_e[Ml][s]=1;const L=qe.getCharCode("z"),b=qe.getCharCode("a");for(let ee=b;ee<=L;ee++)_e[Ml][ee]=ee-b+2;_e[Bi][s]=1;const T=qe.getCharCode("9"),B=qe.getCharCode("0");for(let ee=B;ee<=T;ee++)_e[Bi][ee]=ee-B+2;_e[Bi][w]=12,_e[Bi][p]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ee=0;ee<j.length;ee++)_e[So][qe.getCharCode(j[ee])]=ee;const V=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ee=0;ee<V.length;ee++)qe.getCharCode(V[ee])>0&&(_e[Ka][qe.getCharCode(V[ee])]=ee);return _e}const $i=Ui(N.createInt32Array(5,256));class go{constructor(s){this.text=s}encode(){const s=qe.getCharCode(" "),p=qe.getCharCode(`
`);let w=Li.singletonList(Pa.INITIAL_STATE);for(let k=0;k<this.text.length;k++){let L,b=k+1<this.text.length?this.text[k+1]:0;switch(this.text[k]){case qe.getCharCode("\r"):L=b===p?2:0;break;case qe.getCharCode("."):L=b===s?3:0;break;case qe.getCharCode(","):L=b===s?4:0;break;case qe.getCharCode(":"):L=b===s?5:0;break;default:L=0}L>0?(w=go.updateStateListForPair(w,k,L),k++):w=this.updateStateListForChar(w,k)}return Li.min(w,(k,L)=>k.getBitCount()-L.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,p){const w=[];for(let A of s)this.updateStateForChar(A,p,w);return go.simplifyStates(w)}updateStateForChar(s,p,w){let A=this.text[p]&255,k=$i[s.getMode()][A]>0,L=null;for(let b=0;b<=Ka;b++){let T=$i[b][A];if(T>0){if(L==null&&(L=s.endBinaryShift(p)),!k||b===s.getMode()||b===Bi){const B=L.latchAndAppend(b,T);w.push(B)}if(!k&&Ho[s.getMode()][b]>=0){const B=L.shiftAndAppend(b,T);w.push(B)}}}if(s.getBinaryShiftByteCount()>0||$i[s.getMode()][A]===0){let b=s.addBinaryShiftChar(p);w.push(b)}}static updateStateListForPair(s,p,w){const A=[];for(let k of s)this.updateStateForPair(k,p,w,A);return this.simplifyStates(A)}static updateStateForPair(s,p,w,A){let k=s.endBinaryShift(p);if(A.push(k.latchAndAppend(Ka,w)),s.getMode()!==Ka&&A.push(k.shiftAndAppend(Ka,w)),w===3||w===4){let L=k.latchAndAppend(Bi,16-w).latchAndAppend(Bi,1);A.push(L)}if(s.getBinaryShiftByteCount()>0){let L=s.addBinaryShiftChar(p).addBinaryShiftChar(p+1);A.push(L)}}static simplifyStates(s){let p=[];for(const w of s){let A=!0;for(const k of p){if(k.isBetterThanOrEqualTo(w)){A=!1;break}w.isBetterThanOrEqualTo(k)&&(p=p.filter(L=>L!==k))}A&&p.push(w)}return p}}class Er{constructor(){}static encodeBytes(s){return Er.encode(s,Er.DEFAULT_EC_PERCENT,Er.DEFAULT_AZTEC_LAYERS)}static encode(s,p,w){let A=new go(s).encode(),k=U.truncDivision(A.getSize()*p,100)+11,L=A.getSize()+k,b,T,B,j,V;if(w!==Er.DEFAULT_AZTEC_LAYERS){if(b=w<0,T=Math.abs(w),T>(b?Er.MAX_NB_BITS_COMPACT:Er.MAX_NB_BITS))throw new f(qe.format("Illegal value %s for layers",w));B=Er.totalBitsInLayer(T,b),j=Er.WORD_SIZE[T];let Je=B-B%j;if(V=Er.stuffBits(A,j),V.getSize()+k>Je)throw new f("Data to large for user specified layer");if(b&&V.getSize()>j*64)throw new f("Data to large for user specified layer")}else{j=0,V=null;for(let Je=0;;Je++){if(Je>Er.MAX_NB_BITS)throw new f("Data too large for an Aztec code");if(b=Je<=3,T=b?Je+1:Je,B=Er.totalBitsInLayer(T,b),L>B)continue;(V==null||j!==Er.WORD_SIZE[T])&&(j=Er.WORD_SIZE[T],V=Er.stuffBits(A,j));let wt=B-B%j;if(!(b&&V.getSize()>j*64)&&V.getSize()+k<=wt)break}}let ee=Er.generateCheckWords(V,B,j),he=V.getSize()/j,Ae=Er.generateModeMessage(b,T,he),Oe=(b?11:14)+T*4,Le=new Int32Array(Oe),Xe;if(b){Xe=Oe;for(let Je=0;Je<Le.length;Je++)Le[Je]=Je}else{Xe=Oe+1+2*U.truncDivision(U.truncDivision(Oe,2)-1,15);let Je=U.truncDivision(Oe,2),wt=U.truncDivision(Xe,2);for(let R=0;R<Je;R++){let P=R+U.truncDivision(R,15);Le[Je-R-1]=wt-P-1,Le[Je+R]=wt+P+1}}let Ke=new ut(Xe);for(let Je=0,wt=0;Je<T;Je++){let R=(T-Je)*4+(b?9:12);for(let P=0;P<R;P++){let Y=P*2;for(let $=0;$<2;$++)ee.get(wt+Y+$)&&Ke.set(Le[Je*2+$],Le[Je*2+P]),ee.get(wt+R*2+Y+$)&&Ke.set(Le[Je*2+P],Le[Oe-1-Je*2-$]),ee.get(wt+R*4+Y+$)&&Ke.set(Le[Oe-1-Je*2-$],Le[Oe-1-Je*2-P]),ee.get(wt+R*6+Y+$)&&Ke.set(Le[Oe-1-Je*2-P],Le[Je*2+$])}wt+=R*8}if(Er.drawModeMessage(Ke,b,Xe,Ae),b)Er.drawBullsEye(Ke,U.truncDivision(Xe,2),5);else{Er.drawBullsEye(Ke,U.truncDivision(Xe,2),7);for(let Je=0,wt=0;Je<U.truncDivision(Oe,2)-1;Je+=15,wt+=16)for(let R=U.truncDivision(Xe,2)&1;R<Xe;R+=2)Ke.set(U.truncDivision(Xe,2)-wt,R),Ke.set(U.truncDivision(Xe,2)+wt,R),Ke.set(R,U.truncDivision(Xe,2)-wt),Ke.set(R,U.truncDivision(Xe,2)+wt)}let ot=new zo;return ot.setCompact(b),ot.setSize(Xe),ot.setLayers(T),ot.setCodeWords(he),ot.setMatrix(Ke),ot}static drawBullsEye(s,p,w){for(let A=0;A<w;A+=2)for(let k=p-A;k<=p+A;k++)s.set(k,p-A),s.set(k,p+A),s.set(p-A,k),s.set(p+A,k);s.set(p-w,p-w),s.set(p-w+1,p-w),s.set(p-w,p-w+1),s.set(p+w,p-w),s.set(p+w,p-w+1),s.set(p+w,p+w-1)}static generateModeMessage(s,p,w){let A=new W;return s?(A.appendBits(p-1,2),A.appendBits(w-1,6),A=Er.generateCheckWords(A,28,4)):(A.appendBits(p-1,5),A.appendBits(w-1,11),A=Er.generateCheckWords(A,40,4)),A}static drawModeMessage(s,p,w,A){let k=U.truncDivision(w,2);if(p)for(let L=0;L<7;L++){let b=k-3+L;A.get(L)&&s.set(b,k-5),A.get(L+7)&&s.set(k+5,b),A.get(20-L)&&s.set(b,k+5),A.get(27-L)&&s.set(k-5,b)}else for(let L=0;L<10;L++){let b=k-5+L+U.truncDivision(L,5);A.get(L)&&s.set(b,k-7),A.get(L+10)&&s.set(k+7,b),A.get(29-L)&&s.set(b,k+7),A.get(39-L)&&s.set(k-7,b)}}static generateCheckWords(s,p,w){let A=s.getSize()/w,k=new Fs(Er.getGF(w)),L=U.truncDivision(p,w),b=Er.bitsToWords(s,w,L);k.encode(b,L-A);let T=p%w,B=new W;B.appendBits(0,T);for(const j of Array.from(b))B.appendBits(j,w);return B}static bitsToWords(s,p,w){let A=new Int32Array(w),k,L;for(k=0,L=s.getSize()/p;k<L;k++){let b=0;for(let T=0;T<p;T++)b|=s.get(k*p+T)?1<<p-T-1:0;A[k]=b}return A}static getGF(s){switch(s){case 4:return ft.AZTEC_PARAM;case 6:return ft.AZTEC_DATA_6;case 8:return ft.AZTEC_DATA_8;case 10:return ft.AZTEC_DATA_10;case 12:return ft.AZTEC_DATA_12;default:throw new f("Unsupported word size "+s)}}static stuffBits(s,p){let w=new W,A=s.getSize(),k=(1<<p)-2;for(let L=0;L<A;L+=p){let b=0;for(let T=0;T<p;T++)(L+T>=A||s.get(L+T))&&(b|=1<<p-1-T);(b&k)===k?(w.appendBits(b&k,p),L--):(b&k)===0?(w.appendBits(b|1,p),L--):w.appendBits(b,p)}return w}static totalBitsInLayer(s,p){return((p?88:112)+16*s)*s}}Er.DEFAULT_EC_PERCENT=33,Er.DEFAULT_AZTEC_LAYERS=0,Er.MAX_NB_BITS=32,Er.MAX_NB_BITS_COMPACT=4,Er.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $s{encode(s,p,w,A){return this.encodeWithHints(s,p,w,A,null)}encodeWithHints(s,p,w,A,k){let L=Ji.ISO_8859_1,b=Er.DEFAULT_EC_PERCENT,T=Er.DEFAULT_AZTEC_LAYERS;return k!=null&&(k.has(Qi.CHARACTER_SET)&&(L=Ps.forName(k.get(Qi.CHARACTER_SET).toString())),k.has(Qi.ERROR_CORRECTION)&&(b=U.parseInt(k.get(Qi.ERROR_CORRECTION).toString())),k.has(Qi.AZTEC_LAYERS)&&(T=U.parseInt(k.get(Qi.AZTEC_LAYERS).toString()))),$s.encodeLayers(s,p,w,A,L,b,T)}static encodeLayers(s,p,w,A,k,L,b){if(p!==Fe.AZTEC)throw new f("Can only encode AZTEC, but got "+p);let T=Er.encode(qe.getBytes(s,k),L,b);return $s.renderResult(T,w,A)}static renderResult(s,p,w){let A=s.getMatrix();if(A==null)throw new Dt;let k=A.getWidth(),L=A.getHeight(),b=Math.max(p,k),T=Math.max(w,L),B=Math.min(b/k,T/L),j=(b-k*B)/2,V=(T-L*B)/2,ee=new ut(b,T);for(let he=0,Ae=V;he<L;he++,Ae+=B)for(let Oe=0,Le=j;Oe<k;Oe++,Le+=B)A.get(Oe,he)&&ee.setRegion(Le,Ae,B,B);return ee}}n.AbstractExpandedDecoder=Pr,n.ArgumentException=v,n.ArithmeticException=Wt,n.AztecCode=zo,n.AztecCodeReader=we,n.AztecCodeWriter=$s,n.AztecDecoder=Ut,n.AztecDetector=re,n.AztecDetectorResult=Bn,n.AztecEncoder=Er,n.AztecHighLevelEncoder=go,n.AztecPoint=Ze,n.BarcodeFormat=Fe,n.Binarizer=C,n.BinaryBitmap=g,n.BitArray=W,n.BitMatrix=ut,n.BitSource=cn,n.BrowserAztecCodeReader=Ve,n.BrowserBarcodeReader=Bo,n.BrowserCodeReader=Z,n.BrowserDatamatrixCodeReader=pr,n.BrowserMultiFormatReader=jl,n.BrowserPDF417Reader=nu,n.BrowserQRCodeReader=Zs,n.BrowserQRCodeSvgWriter=fs,n.CharacterSetECI=Se,n.ChecksumException=m,n.Code128Reader=We,n.Code39Reader=Ct,n.DataMatrixDecodedBitStreamParser=Zi,n.DataMatrixReader=ka,n.DecodeHintType=J,n.DecoderResult=rt,n.DefaultGridSampler=xe,n.DetectorResult=Zt,n.EAN13Reader=Cn,n.EncodeHintType=Qi,n.Exception=u,n.FormatException=ne,n.GenericGF=ft,n.GenericGFPoly=_t,n.GlobalHistogramBinarizer=me,n.GridSampler=dt,n.GridSamplerInstance=Ee,n.HTMLCanvasElementLuminanceSource=ue,n.HybridBinarizer=Ie,n.ITFReader=Ye,n.IllegalArgumentException=f,n.IllegalStateException=Dt,n.InvertedLuminanceSource=Me,n.LuminanceSource=lt,n.MathUtils=Kt,n.MultiFormatOneDReader=Ki,n.MultiFormatReader=yu,n.MultiFormatWriter=Po,n.NotFoundException=ge,n.OneDReader=it,n.PDF417DecodedBitStreamParser=Qt,n.PDF417DecoderErrorCorrection=wo,n.PDF417Reader=Va,n.PDF417ResultMetadata=Ts,n.PerspectiveTransform=Pe,n.PlanarYUVLuminanceSource=oi,n.QRCodeByteMatrix=dl,n.QRCodeDataMask=pa,n.QRCodeDecodedBitStreamParser=xn,n.QRCodeDecoderErrorCorrectionLevel=Ir,n.QRCodeDecoderFormatInformation=Ti,n.QRCodeEncoder=di,n.QRCodeEncoderQRCode=gl,n.QRCodeMaskUtil=Ni,n.QRCodeMatrixUtil=jn,n.QRCodeMode=nn,n.QRCodeReader=kr,n.QRCodeVersion=Gn,n.QRCodeWriter=qs,n.RGBLuminanceSource=pl,n.RSS14Reader=mn,n.RSSExpandedReader=hn,n.ReaderException=cs,n.ReedSolomonDecoder=tn,n.ReedSolomonEncoder=Fs,n.ReedSolomonException=kt,n.Result=be,n.ResultMetadataType=At,n.ResultPoint=Xt,n.StringUtils=qe,n.UnsupportedOperationException=Be,n.VideoInputDevice=ce,n.WhiteRectangleDetector=gt,n.WriterException=ki,n.ZXingArrays=N,n.ZXingCharset=Ps,n.ZXingInteger=U,n.ZXingStandardCharsets=Ji,n.ZXingStringBuilder=mt,n.ZXingStringEncoding=Ue,n.ZXingSystem=D,n.createAbstractExpandedDecoder=co,Object.defineProperty(n,"__esModule",{value:!0})}))})(D1,D1.exports)),D1.exports}var Lo=J_();const $_=F0(Lo),eM=VT({__proto__:null,default:$_},[Lo]);var A3=(function(){function e(t,n,r){if(this.formatMap=new Map([[ir.QR_CODE,Lo.BarcodeFormat.QR_CODE],[ir.AZTEC,Lo.BarcodeFormat.AZTEC],[ir.CODABAR,Lo.BarcodeFormat.CODABAR],[ir.CODE_39,Lo.BarcodeFormat.CODE_39],[ir.CODE_93,Lo.BarcodeFormat.CODE_93],[ir.CODE_128,Lo.BarcodeFormat.CODE_128],[ir.DATA_MATRIX,Lo.BarcodeFormat.DATA_MATRIX],[ir.MAXICODE,Lo.BarcodeFormat.MAXICODE],[ir.ITF,Lo.BarcodeFormat.ITF],[ir.EAN_13,Lo.BarcodeFormat.EAN_13],[ir.EAN_8,Lo.BarcodeFormat.EAN_8],[ir.PDF_417,Lo.BarcodeFormat.PDF_417],[ir.RSS_14,Lo.BarcodeFormat.RSS_14],[ir.RSS_EXPANDED,Lo.BarcodeFormat.RSS_EXPANDED],[ir.UPC_A,Lo.BarcodeFormat.UPC_A],[ir.UPC_E,Lo.BarcodeFormat.UPC_E],[ir.UPC_EAN_EXTENSION,Lo.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!eM)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),c=new Map;c.set(Lo.DecodeHintType.POSSIBLE_FORMATS,o),c.set(Lo.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(c){o(c)}})},e.prototype.decode=function(t){var n=new Lo.MultiFormatReader(this.verbose,this.hints),r=new Lo.HTMLCanvasElementLuminanceSource(t),o=new Lo.BinaryBitmap(new Lo.HybridBinarizer(r)),c=n.decode(o);return{text:c.text,format:JS.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var c=o[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),tM=function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(y){y(c)})}return new(n||(n=Promise))(function(c,y){function d(v){try{u(r.next(v))}catch(f){y(f)}}function a(v){try{u(r.throw(v))}catch(f){y(f)}}function u(v){v.done?c(v.value):o(v.value).then(d,a)}u((r=r.apply(e,t||[])).next())})},nM=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(u){return function(v){return a([u,v])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(c=u[0]&2?o.return:u[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,u[1])).done)return c;switch(o=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(v){u=[6,v],o=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},T3=(function(){function e(t,n,r){if(this.formatMap=new Map([[ir.QR_CODE,"qr_code"],[ir.AZTEC,"aztec"],[ir.CODABAR,"codabar"],[ir.CODE_39,"code_39"],[ir.CODE_93,"code_93"],[ir.CODE_128,"code_128"],[ir.DATA_MATRIX,"data_matrix"],[ir.ITF,"itf"],[ir.EAN_13,"ean_13"],[ir.EAN_8,"ean_8"],[ir.PDF_417,"pdf417"],[ir.UPC_A,"upc_a"],[ir.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return tM(this,void 0,void 0,function(){var n,r;return nM(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:JS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,c=t;o<c.length;o++){var y=c[o],d=y.boundingBox.width*y.boundingBox.height;d>r&&(r=d,n=y)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var c=o[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),D3=function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(y){y(c)})}return new(n||(n=Promise))(function(c,y){function d(v){try{u(r.next(v))}catch(f){y(f)}}function a(v){try{u(r.throw(v))}catch(f){y(f)}}function u(v){v.done?c(v.value):o(v.value).then(d,a)}u((r=r.apply(e,t||[])).next())})},k3=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(u){return function(v){return a([u,v])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(c=u[0]&2?o.return:u[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,u[1])).done)return c;switch(o=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(v){u=[6,v],o=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},rM=(function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&T3.isSupported()?(this.primaryDecoder=new T3(t,r,o),this.secondaryDecoder=new A3(t,r,o)):this.primaryDecoder=new A3(t,r,o)}return e.prototype.decodeAsync=function(t){return D3(this,void 0,void 0,function(){var n;return k3(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return D3(this,void 0,void 0,function(){var n,r;return k3(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),ox=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Bp=function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(y){y(c)})}return new(n||(n=Promise))(function(c,y){function d(v){try{u(r.next(v))}catch(f){y(f)}}function a(v){try{u(r.throw(v))}catch(f){y(f)}}function u(v){v.done?c(v.value):o(v.value).then(d,a)}u((r=r.apply(e,t||[])).next())})},Fp=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(u){return function(v){return a([u,v])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(c=u[0]&2?o.return:u[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,u[1])).done)return c;switch(o=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(v){u=[6,v],o=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},n8=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),iM=(function(e){ox(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(n8),aM=(function(e){ox(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(iM),oM=(function(e){ox(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(n8),sM=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new aM(this.track)},e.prototype.torchFeature=function(){return new oM(this.track)},e})(),lM=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return Bp(this,void 0,void 0,function(){var c,y;return Fp(this,function(d){switch(d.label){case 0:return c=new e(t,n,o),r.aspectRatio?(y={aspectRatio:r.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:d.sent(),d.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Bp(this,void 0,void 0,function(){return Fp(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),c=o.length,y=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++y,y>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new sM(this.getFirstTrackOrFail())},e})(),uM=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Bp(this,void 0,void 0,function(){return Fp(this,function(o){return[2,lM.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Bp(this,void 0,void 0,function(){var n,r;return Fp(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e})(),_3=function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(y){y(c)})}return new(n||(n=Promise))(function(c,y){function d(v){try{u(r.next(v))}catch(f){y(f)}}function a(v){try{u(r.throw(v))}catch(f){y(f)}}function u(v){v.done?c(v.value):o(v.value).then(d,a)}u((r=r.apply(e,t||[])).next())})},M3=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(u){return function(v){return a([u,v])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(c=u[0]&2?o.return:u[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,u[1])).done)return c;switch(o=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(v){u=[6,v],o=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},cM=(function(){function e(){}return e.failIfNotSupported=function(){return _3(this,void 0,void 0,function(){return M3(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return _3(this,void 0,void 0,function(){return M3(this,function(n){return[2,uM.create(t)]})})},e})(),fM=function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(y){y(c)})}return new(n||(n=Promise))(function(c,y){function d(v){try{u(r.next(v))}catch(f){y(f)}}function a(v){try{u(r.throw(v))}catch(f){y(f)}}function u(v){v.done?c(v.value):o(v.value).then(d,a)}u((r=r.apply(e,t||[])).next())})},hM=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(u){return function(v){return a([u,v])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(c=u[0]&2?o.return:u[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,u[1])).done)return c;switch(o=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(v){u=[6,v],o=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dM=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=yd.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=yd.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return fM(this,void 0,void 0,function(){var t,n,r,o,c,y,d;return hM(this,function(a){switch(a.label){case 0:return t=function(u){for(var v=u.getVideoTracks(),f=0,g=v;f<g.length;f++){var m=g[f];m.enabled=!1,m.stop(),u.removeTrack(m)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=a.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=a.sent(),o=[],c=0,y=r;c<y.length;c++)d=y[c],d.kind==="videoinput"&&o.push({id:d.deviceId,label:d.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(c){for(var y=[],d=0,a=c;d<a.length;d++){var u=a[d];u.kind==="video"&&y.push({id:u.id,label:u.label})}t(y)},o=MediaStreamTrack;o.getSources(r)})},e})(),Es;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Es||(Es={}));var gM=(function(){function e(){this.state=Es.NOT_STARTED,this.onGoingTransactionNewState=Es.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Es.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Es.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Es.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Es.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Es.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Es.UNKNOWN:throw"Transition from unknown is not allowed";case Es.NOT_STARTED:this.failIfNewStateIs(t,[Es.PAUSED]);break;case Es.SCANNING:break;case Es.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var c=o[r];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),pM=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Es.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Es.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Es.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Es.PAUSED},e})(),mM=(function(){function e(){}return e.create=function(){return new pM(new gM)},e})(),vM=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oc=(function(e){vM(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(nf),yM=(function(){function e(t,n){this.logger=n,this.fps=oc.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=oc.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?t8.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Of(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),O3=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new e8(this.verbose),this.qrcode=new rM(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=mM.create()}return e.prototype.start=function(t,n,r,o){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;o?y=o:y=this.verbose?this.logger.log:function(){};var d=yM.create(n,this.logger);this.clearElement();var a=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?a=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=a,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:oc.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var f=this,g=this.stateManagerProxy.startTransition(Es.SCANNING);return new Promise(function(m,C){var D=u?d.videoConstraints:f.createVideoConstraints(t);if(!D){g.cancel(),C("videoConstraints should be defined");return}var S={};(!u||d.aspectRatio)&&(S.aspectRatio=d.aspectRatio);var O={onRenderSurfaceReady:function(N,U){f.setupUi(N,U,d),f.isScanning=!0,f.foreverScan(d,r,y)}};cM.failIfNotSupported().then(function(N){N.create(D).then(function(U){return U.render(c.element,S,O).then(function(W){f.renderedCamera=W,g.execute(),m(null)}).catch(function(W){g.cancel(),C(W)})}).catch(function(U){g.cancel(),C(yd.errorGettingUserMedia(U))})}).catch(function(N){g.cancel(),C(yd.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Es.PAUSED),this.showPausedState(),(Of(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Es.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Es.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var c=document.getElementById(oc.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Of(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,c){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var y=new Image;y.onload=function(){var d=y.width,a=y.height,u=document.getElementById(r.elementId),v=u.clientWidth?u.clientWidth:oc.DEFAULT_WIDTH,f=Math.max(u.clientHeight?u.clientHeight:a,oc.FILE_SCAN_MIN_HEIGHT),g=r.computeCanvasDrawConfig(d,a,v,f);if(n){var m=r.createCanvasElement(v,f,"qr-canvas-visible");m.style.display="inline-block",u.appendChild(m);var C=m.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=v,C.canvas.height=f,C.drawImage(y,0,0,d,a,g.x,g.y,g.width,g.height)}var D=oc.FILE_SCAN_HIDDEN_CANVAS_PADDING,S=Math.max(y.width,g.width),O=Math.max(y.height,g.height),N=S+2*D,U=O+2*D,W=r.createCanvasElement(N,U);u.appendChild(W);var q=W.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=N,q.canvas.height=U,q.drawImage(y,0,0,d,a,D,D,S,O);try{r.qrcode.decodeRobustlyAsync(W).then(function(J){o(C3.createFromQrcodeResult(J))}).catch(c)}catch(J){c("QR code parse error, error = ".concat(J))}},y.onerror=c,y.onabort=c,y.onstalled=c,y.onsuspend=c,y.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return dM.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!t8.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ir.QR_CODE,ir.AZTEC,ir.CODABAR,ir.CODE_39,ir.CODE_93,ir.CODE_128,ir.DATA_MATRIX,ir.MAXICODE,ir.ITF,ir.EAN_13,ir.EAN_8,ir.PDF_417,ir.RSS_14,ir.RSS_EXPANDED,ir.UPC_A,ir.UPC_E,ir.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,c=t.formatsToSupport;o<c.length;o++){var y=c[o];Z_(y)?r.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Of(t))return!0;if(!Of(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Of(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Of(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,c=r.qrbox;this.validateQrboxConfig(c);var y=this.toQrdimensions(t,n,c),d=function(u){if(u<oc.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(oc.MIN_QR_BOX_SIZE,"px.")},a=function(u){return u>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};d(y.width),d(y.height),y.width=a(y.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=Of(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(t,n,o);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=r.isShadedBoxEnabled()&&c.height<=n,d={x:0,y:0,width:t,height:n},a=y?this.getShadedRegionBounds(t,n,c):d,u=this.createCanvasElement(a.width,a.height),v={willReadFrequently:!0},f=u.getContext("2d",v);f.canvas.width=a.width,f.canvas.height=a.height,this.element.append(u),y&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=a,this.context=f,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=yd.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,C3.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var c=yd.codeParseError(o);return n(c,$S.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),y=c.videoWidth/c.clientWidth,d=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var a=this.qrRegion.width*y,u=this.qrRegion.height*d,v=this.qrRegion.x*y,f=this.qrRegion.y*d;this.context.drawImage(c,v,f,a,u,0,0,this.qrRegion.width,this.qrRegion.height);var g=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(m){!m&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){g()})):g()}).catch(function(m){o.logger.logError("Error happend while scanning context",m),g()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},c="exact",y=function(C){if(C in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var a=Object.keys(t)[0];if(a!==n&&a!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(a===n){var u=t.facingMode;if(typeof u=="string"){if(y(u))return{facingMode:u}}else if(typeof u=="object")if(c in u){if(y(u["".concat(c)]))return{facingMode:{exact:u["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var v=typeof u;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var f=t.deviceId;if(typeof f=="string")return{deviceId:f};if(typeof f=="object"){if(c in f)return{deviceId:{exact:f["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var g=typeof f;throw"Invalid type of 'deviceId' = ".concat(g)}}}var m=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(m)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var c=(r-t)/2,y=(o-n)/2;return{x:c,y,width:t,height:n}}else{var d=t,a=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(a)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?oc.BORDER_SHADER_MATCH_COLOR:oc.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,c=n,y=document.createElement("canvas");return y.style.width="".concat(o,"px"),y.style.height="".concat(c,"px"),y.style.display="none",y.id=Of(r)?"qr-canvas":r,y},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var c=document.createElement("div");c.style.position="absolute";var y=(n-o.width)/2,d=(r-o.height)/2;if(c.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(oc.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var a=5,u=40;this.insertShaderBorders(c,u,a,-a,null,0,!0),this.insertShaderBorders(c,u,a,-a,null,0,!1),this.insertShaderBorders(c,u,a,null,-a,0,!0),this.insertShaderBorders(c,u,a,null,-a,0,!1),this.insertShaderBorders(c,a,u+a,-a,null,-a,!0),this.insertShaderBorders(c,a,u+a,null,-a,-a,!0),this.insertShaderBorders(c,a,u+a,-a,null,-a,!1),this.insertShaderBorders(c,a,u+a,null,-a,-a,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,r,o,c,y,d){var a=document.createElement("div");a.style.position="absolute",a.style.backgroundColor=oc.BORDER_SHADER_DEFAULT_COLOR,a.style.width="".concat(n,"px"),a.style.height="".concat(r,"px"),o!==null&&(a.style.top="".concat(o,"px")),c!==null&&(a.style.bottom="".concat(c,"px")),d?a.style.left="".concat(y,"px"):a.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(a),t.appendChild(a)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),sx="data:image/svg+xml;base64,",xM=sx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",bM=sx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",I3=sx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",wM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",R3=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),CM=(function(){function e(){this.data=R3.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=R3.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),SM=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=S3.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(o);var c=document.createElement("a");c.innerText=S3.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),EM=(function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=I3,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=wM,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=I3,this.infoIcon.style.opacity="0.6")},e})(),AM=(function(){function e(){var t=this;this.infoDiv=new SM,this.infoIcon=new EM(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),TM=function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(y){y(c)})}return new(n||(n=Promise))(function(c,y){function d(v){try{u(r.next(v))}catch(f){y(f)}}function a(v){try{u(r.throw(v))}catch(f){y(f)}}function u(v){v.done?c(v.value):o(v.value).then(d,a)}u((r=r.apply(e,t||[])).next())})},DM=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(u){return function(v){return a([u,v])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(c=u[0]&2?o.return:u[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,u[1])).done)return c;switch(o=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(v){u=[6,v],o=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},N3=(function(){function e(){}return e.hasPermissions=function(){return TM(this,void 0,void 0,function(){var t,n,r,o;return DM(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),n=0,r=t;n<r.length;n++)if(o=r[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},e})(),zh=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Qh.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Qh.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return nf.DEFAULT_SUPPORTED_SCAN_TYPE;var n=nf.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,o=t;r<o.length;r++){var c=o[r];if(!nf.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e})(),uc=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),lh=(function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(uc.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),r8=function(e,t,n,r){function o(c){return c instanceof n?c:new n(function(y){y(c)})}return new(n||(n=Promise))(function(c,y){function d(v){try{u(r.next(v))}catch(f){y(f)}}function a(v){try{u(r.throw(v))}catch(f){y(f)}}function u(v){v.done?c(v.value):o(v.value).then(d,a)}u((r=r.apply(e,t||[])).next())})},i8=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,o,c,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(u){return function(v){return a([u,v])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;y&&(y=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(c=u[0]&2?o.return:u[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,u[1])).done)return c;switch(o=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){n.label=u[1];break}if(u[0]===6&&n.label<c[1]){n.label=c[1],c=u;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(u);break}c[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(v){u=[6,v],o=0}finally{r=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},L3=(function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return r8(this,void 0,void 0,function(){var t,n;return i8(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Xa.torchOffButton():Xa.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Xa.torchOnFailedMessage():Xa.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),kM=(function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=lh.createElement("button",uc.TORCH_BUTTON_ID),this.torchController=new L3(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Xa.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(c){return r8(r,void 0,void 0,function(){return i8(this,function(y){switch(y.label){case 0:return[4,o.torchController.flipState()];case 1:return y.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(uc.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(uc.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(uc.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(uc.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new L3(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Xa.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,o){var c=new e(n,o);return c.render(t,r),c},e})(),_M=(function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=lh.createElement("button",uc.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=lh.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var a=d.target;if(!(a.files&&a.files.length===0)){var u=a.files,v=u[0],f=v.name;c.setImageNameToButton(f),r(v)}}});var y=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(y),this.fileBasedScanRegion.addEventListener("dragenter",function(d){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var a=d.dataTransfer;if(a){var u=a.files;if(!u||u.length===0)return;for(var v=!1,f=0;f<u.length;++f){var g=u.item(f);if(g){var m=/image.*/;if(g.type.match(m)){v=!0;var C=g.name;c.setImageNameToButton(C),r(g),y.innerText=Xa.dragAndDropMessage();break}}}v||(y.innerText=Xa.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Xa.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),o=t.length,c=t.substring(o-8,o);t="".concat(r,"....").concat(c)}var y=Xa.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=y},e.prototype.setInitialValueToButton=function(){var t=Xa.fileSelectionChooseImage()+" - "+Xa.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var o=new e(t,n,r);return o},e})(),MM=(function(){function e(t){this.selectElement=lh.createElement("select",uc.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var o=Xa.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var c=1,y=0,d=this.cameras;y<d.length;y++){var a=d[y],u=a.id,v=a.label==null?u:a.label;(!v||v==="")&&(v=[Xa.anonymousCameraPrefix(),c++].join(" "));var f=document.createElement("option");f.value=u,f.innerText=v,this.options.push(f),this.selectElement.appendChild(f)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var o=r[n];if(o.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e})(),OM=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=lh.createElement("input",uc.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Xa.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Xa.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,o){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e})(),sc;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(sc||(sc={}));function IM(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function RM(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var NM=(function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new zh(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new e8(this.verbose),this.persistedDataManager=new CM,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,y){if(t)t(c,y);else{if(r.lastMatchFound===c)return;r.lastMatchFound=c,r.setHeaderMessage(Xa.lastMatch(c),sc.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,y){n&&n(c,y)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new O3(this.getScanRegionId(),RM(this.config,this.verbose))},e.prototype.pause=function(t){(Of(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,o){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),o(c)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=nf.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!nf.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=nf.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=nf.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:nf.SCAN_DEFAULT_FPS,rememberLastUsedCamera:nf.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:nf.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),zh.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),c=this.getDashboardId();o.id=c,o.style.width="100%",t.appendChild(o),this.setupInitialDashboard(o)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new AM;r.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(Xa.cameraPermissionRequesting());var c=function(){r||o.createPermissionButton(t,n)};O3.getCameras().then(function(y){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),y&&y.length>0?(t.removeChild(n),o.renderCameraSelection(y)):(o.setHeaderMessage(Xa.noCameraFound(),sc.STATUS_WARNING),c())}).catch(function(y){o.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:c(),o.setHeaderMessage(y,sc.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,o=lh.createElement("button",this.getCameraPermissionButtonId());o.innerText=Xa.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,r.createCameraListUi(t,n,o)}),n.appendChild(o)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(zh.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){N3.hasPermissions().then(function(o){o?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(o){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=zh.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var o=document.createElement("div");o.style.textAlign="center",r.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,o),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=zh.isFileScanType(this.currentScanType),r=this,o=function(c){if(!r.html5Qrcode)throw"html5Qrcode not defined";zh.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Xa.loadingImage()),r.html5Qrcode.scanFileV2(c,!0).then(function(y){r.resetHeaderMessage(),r.qrCodeSuccessCallback(y.decodedText,y)}).catch(function(y){r.setHeaderMessage(y,sc.STATUS_WARNING),r.qrCodeErrorCallback(y,$S.createFrom(y))}))};this.fileSelectionUi=_M.create(t,n,o)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var c=OM.create(o,!1),y=function(D){var S=D.zoomFeature();if(S.isSupported()){c.setOnCameraZoomValueChangeCallback(function(N){S.apply(N)});var O=1;n.config.defaultZoomValueIfSupported&&(O=n.config.defaultZoomValueIfSupported),O=q_(O,S.min(),S.max()),c.setValues(S.min(),S.max(),O,S.step()),c.show()}},d=MM.create(o,t),a=document.createElement("span"),u=lh.createElement("button",uc.CAMERA_START_BUTTON_ID);u.innerText=Xa.scanButtonStartScanningText(),a.appendChild(u);var v=lh.createElement("button",uc.CAMERA_STOP_BUTTON_ID);v.innerText=Xa.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,a.appendChild(v);var f,g=function(D){if(!D.torchFeature().isSupported()){f&&f.hide();return}f?f.updateTorchCapability(D.torchFeature()):f=kM.create(a,D.torchFeature(),{display:"none",marginLeft:"5px"},function(S){r.setHeaderMessage(S,sc.STATUS_WARNING)}),f.show()};o.appendChild(a);var m=function(D){D||(u.style.display="none"),u.innerText=Xa.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,D&&(u.style.display="inline-block")};if(u.addEventListener("click",function(D){u.innerText=Xa.scanButtonScanningStarting(),d.disable(),u.disabled=!0,u.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var S=d.getValue();r.persistedDataManager.setLastUsedCameraId(S),r.html5Qrcode.start(S,IM(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(O){v.disabled=!1,v.style.display="inline-block",m(!1);var N=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&g(N),n.config.showZoomSliderIfSupported===!0&&y(N)}).catch(function(O){r.showHideScanTypeSwapLink(!0),d.enable(),m(!0),r.setHeaderMessage(O,sc.STATUS_WARNING)})}),d.hasSingleItem()&&u.click(),v.addEventListener("click",function(D){if(!r.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,r.html5Qrcode.stop().then(function(S){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),u.disabled=!1,v.style.display="none",u.style.display="inline-block",f&&(f.reset(),f.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(S){v.disabled=!1,r.setHeaderMessage(S,sc.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var C=r.persistedDataManager.getLastUsedCameraId();d.hasValue(C)?(d.setValue(C),u.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Xa.textIfCameraScanSelected(),r=Xa.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var y=lh.createElement("span",this.getDashboardSectionSwapLinkId());y.style.textDecoration="underline",y.style.cursor="pointer",y.innerText=zh.isCameraScanType(this.currentScanType)?n:r,y.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,zh.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),y.innerText=r,t.currentScanType=Qh.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),y.innerText=n,t.currentScanType=Qh.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(y),o.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){N3.hasPermissions().then(function(r){if(r){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=sc.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case sc.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case sc.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case sc.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=xM,this.cameraScanImage.alt=Xa.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=bM,this.fileScanImage.alt=Xa.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return uc.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return uc.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const B3=()=>Math.random().toString(36).substring(2,8).toUpperCase(),LM=sn.div`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
`,BM=sn.div`
    background-color: ${({theme:e})=>e.colors.background};
    border: 1px solid ${({theme:e})=>e.colors.border};
    border-radius: 20px;
    width: 440px;
    max-width: 95%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    color: ${({theme:e})=>e.colors.text};
    overflow: hidden;
`,FM=sn.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: ${({theme:e})=>e.mode==="dark"?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.02)"};
    border-bottom: 1px solid ${({theme:e})=>e.colors.border};

        h2 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
            color: ${({theme:e})=>e.colors.primary};
            
            svg:last-child {
                font-size: 0.9rem;
                opacity: 0.6;
            }
        }
`,PM=sn.div`
    display: flex;
    background: ${({theme:e})=>e.colors.surface};
    margin: 16px 24px;
    padding: 4px;
    border-radius: 12px;
    gap: 4px;
`,F3=sn.button`
    flex: 1;
    padding: 10px;
    background: ${e=>e.$active?e.theme.colors.background:"transparent"};
    border: none;
    border-radius: 8px;
    color: ${e=>e.$active?e.theme.colors.primary:e.theme.colors.textSecondary};
    font-weight: ${e=>e.$active?"600":"500"};
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 0.95rem;
    box-shadow: ${e=>e.$active?"0 2px 8px rgba(0,0,0,0.1)":"none"};

    &:hover {
        color: ${e=>e.$active?e.theme.colors.primary:e.theme.colors.text};
    }
    
    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,zM=sn.div`
    padding: 8px 24px 24px;
    overflow-y: auto;
    flex: 1;

    @media (max-width: 480px) {
        padding: 8px 16px 20px;
    }
`,HM=sn.div`
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 0 auto;

    @media (max-width: 600px) {
        max-width: 310px;
    }
`,UM=sn.button`
    background: none;
    border: none;
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    border-radius: 50%;
    transition: all 0.2s;
    
    &:hover {
        background-color: ${({theme:e})=>e.colors.surface};
        color: ${({theme:e})=>e.colors.text};
    }
`,P3=sn.label`
    display: block;
    margin-bottom: 8px;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.85rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    width: 100%;
`,z3=sn.div`
    display: flex;
    gap: 8px;
    margin-bottom: 20px;
    width: 100%;
`,H3=sn.input`
    flex: 1;
    min-width: 0;
    padding: 12px 16px;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.text};
    font-size: 1rem;
    font-family: inherit;
    transition: all 0.2s;

    &:focus {
        outline: none;
        border-color: ${({theme:e})=>e.colors.primary};
        background-color: ${({theme:e})=>e.colors.background};
    }
    
    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
`,Lv=sn.button`
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;

    &:hover:not(:disabled) {
        border-color: ${({theme:e})=>e.colors.textSecondary};
        color: ${({theme:e})=>e.colors.text};
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,Bv=sn.button`
    padding: 14px 24px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: ${e=>e.$fullWidth?"100%":"auto"};
    
    background-color: ${e=>e.$variant==="secondary"?e.theme.colors.surface:e.$variant==="danger"?e.theme.colors.danger:e.theme.colors.primary};
    
    color: ${e=>e.$variant==="secondary"?e.theme.colors.text:"#ffffff"};

    &:hover:not(:disabled) {
        filter: brightness(1.1);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    &:active:not(:disabled) {
        transform: translateY(0);
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,Fv=sn.div`
    background: ${({theme:e})=>e.colors.surface};
    border: 1px solid ${({theme:e})=>e.colors.primary}40;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 16px;
    animation: fadeIn 0.3s ease;

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .icon-box {
        width: 44px;
        height: 44px;
        border-radius: 12px;
        background: ${({theme:e})=>e.colors.primary}15;
        color: ${({theme:e})=>e.colors.primary};
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        flex-shrink: 0;
    }
    
    .content {
        flex: 1;
        min-width: 0;
        
        h4 {
            margin: 0 0 4px 0;
            font-size: 0.9rem;
            color: ${({theme:e})=>e.colors.primary};
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        p {
            margin: 0;
            font-size: 0.95rem;
            color: ${({theme:e})=>e.colors.text};
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .sub {
            font-size: 0.8rem;
            color: ${({theme:e})=>e.colors.textSecondary};
            margin-top: 2px;
        }
    }
`,jM=sn.div`
    width: 100%;
    margin-top: 20px;
`,WM=sn.div`
    height: 6px;
    background: ${({theme:e})=>e.colors.border};
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 12px;
    position: relative;

    &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: ${e=>e.$percent}%;
        background: ${({theme:e})=>e.colors.primary};
        transition: width 0.3s ease;
    }
`,GM=sn.div`
    padding: 16px;
    border-radius: 12px;
    background-color: ${({theme:e})=>e.colors.surface};
    text-align: center;
    font-weight: 500;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 0.95rem;
    width: 100%;
    word-break: break-word;
    
    color: ${({theme:e})=>e.colors.text};
    border: 1px solid ${({theme:e})=>e.colors.border};

    .icon-area {
        font-size: 1.5rem;
        margin-bottom: 4px;
        color: ${e=>e.$status==="error"?e.theme.colors.danger:e.$status==="completed"?e.theme.colors.success:e.$status==="ready"||e.$status==="connected"?e.theme.colors.primary:e.$status==="connecting"?"#f59e0b":e.theme.colors.textSecondary};
    }
`,YM=sn.div`
    background: white;
    padding: 24px;
    border-radius: 16px;
    margin: 20px auto;
    width: fit-content;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
`,XM=sn.div`
    width: 100%;
    aspect-ratio: 1;
    max-width: 320px;
    margin: 0 auto 24px;
    overflow: hidden;
    border-radius: 16px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background: #000;
    position: relative;

    #reader {
        width: 100% !important;
        border: none !important;
    }

    #reader__scan_region {
        background: #000 !important;
    }

    #reader__dashboard_section_csr button {
        background-color: ${({theme:e})=>e.colors.primary} !important;
        color: white !important;
        border: none !important;
        padding: 8px 16px !important;
        border-radius: 8px !important;
        cursor: pointer !important;
        margin: 10px !important;
        font-weight: 600 !important;
    }
`,VM=sn.div`
    display: flex;
    align-items: center;
    text-align: center;
    margin: 24px 0;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.8rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    width: 100%;

    &::before, &::after {
        content: '';
        flex: 1;
        border-bottom: 1px solid ${({theme:e})=>e.colors.border};
    }

    &::before {
        margin-right: 16px;
    }

    &::after {
        margin-left: 16px;
    }
`,KM=({isOpen:e,onClose:t})=>{const[n,r]=Re.useState("host"),[o,c]=Re.useState(""),[y,d]=Re.useState(""),[a,u]=Re.useState("disconnected"),[v,f]=Re.useState(""),[g,m]=Re.useState(!1),[C,D]=Re.useState(!1),[S,O]=Re.useState(null),[N,U]=Re.useState(0),W=Re.useRef(null),q=Re.useRef(null),J=fS(),{t:ne,language:ve}=uf();Re.useEffect(()=>{e&&(o||c(B3()))},[e]),Re.useEffect(()=>{if(g&&!W.current){const me=new NM("reader",{fps:10,qrbox:{width:250,height:250}},!1);me.render(Ie=>{d(Ie),mt(Ie)},()=>{}),W.current=me}return()=>{!g&&W.current&&(W.current.clear().catch(me=>console.error("Scanner clear error",me)),W.current=null)}},[g]);const Se=()=>{W.current&&(W.current.clear().catch(console.error),W.current=null),q.current&&(q.current.destroy(),q.current=null),u("disconnected"),f(""),O(null),U(0),m(!1),t()},Be=(me,Ie)=>{u(me),Ie&&f(Ie),me==="connecting"?U(15):me==="connected"?U(30):me==="syncing"?Ie?.toLowerCase().includes("preparing")?U(10):Ie?.toLowerCase().includes("encrypting")?U(25):Ie?.toLowerCase().includes("sending")||Ie?.toLowerCase().includes("uploading")?U(45):Ie?.toLowerCase().includes("downloading")?U(60):Ie?.toLowerCase().includes("decrypting")?U(75):Ie?.toLowerCase().includes("merging")?U(90):Ie?.toLowerCase().includes("back")?U(95):U(50):me==="completed"?U(100):(me==="error"||me==="disconnected"||me==="ready")&&U(0)},Ue=()=>(q.current||(q.current=new FS({onStatusChange:Be,onDataReceived:()=>{u("completed"),f(ne.sync.data_synced_reload),U(100),setTimeout(()=>{window.location.reload()},3e3)},onSyncInfo:me=>O(me)})),q.current),qe=async me=>{const Ie=me||o;if(Ie.trim())try{await Ue().initialize(Ie)}catch(lt){console.error(lt)}},mt=async me=>{const Ie=me||y;if(!(!Ie.trim()||a==="connecting"||a==="connected"||a==="syncing")){g&&(m(!1),W.current&&(W.current.clear().catch(console.error),W.current=null));try{await Ue().connect(Ie)}catch(lt){console.error("Connect error:",lt),u("error"),f(`Connection failed: ${lt.message||"Unknown error"} `)}}},ut=()=>{navigator.clipboard.writeText(o),D(!0),setTimeout(()=>D(!1),2e3)},ge=()=>{if(a==="syncing"||a==="connected")return;q.current&&(q.current.destroy(),q.current=null);const me=B3();c(me),u("disconnected"),f(""),O(null),U(0),n==="host"&&qe(me)};return e?te.jsx(LM,{onClick:Se,children:te.jsxs(BM,{onClick:me=>me.stopPropagation(),children:[te.jsxs(FM,{children:[te.jsxs("h2",{children:[te.jsx(Q2,{})," ",ne.sync.title," ",te.jsx(PS,{style:{fontSize:"0.9rem",opacity:.6},title:"End-to-End Encrypted"})]}),te.jsx(UM,{onClick:Se,children:te.jsx(J2,{})})]}),te.jsxs(PM,{children:[te.jsx(F3,{$active:n==="host",onClick:()=>r("host"),disabled:a==="syncing"||a==="connected"&&n==="join",children:ne.sync.host_session}),te.jsx(F3,{$active:n==="join",onClick:()=>r("join"),disabled:a==="syncing"||a==="connected"&&n==="host",children:ne.sync.join_session})]}),te.jsx(zM,{children:te.jsxs(HM,{children:[n==="host"?te.jsxs(te.Fragment,{children:[S&&te.jsxs(Fv,{children:[te.jsx("div",{className:"icon-box",children:S.type==="thread"?te.jsx(Nv,{}):S.type==="full"?te.jsx(Iv,{}):te.jsx(Rv,{})}),te.jsxs("div",{className:"content",children:[te.jsx("h4",{children:S.type==="thread"?"Sharing Thread":S.type==="full"?"Full Backup":"Sharing Memo"}),te.jsx("p",{children:S.label}),te.jsxs("div",{className:"sub",children:[S.count," items"]})]})]}),te.jsx(P3,{children:ne.sync.your_room_id}),te.jsxs(z3,{children:[te.jsx(H3,{value:o,onChange:me=>c(me.target.value),disabled:a==="connected"||a==="connecting"||a==="syncing",placeholder:ne.sync.enter_custom_id}),te.jsx(Lv,{onClick:ut,title:C?ne.sync.copied:ne.sync.copy_id,children:C?te.jsx(Ov,{style:{color:J.colors.success}}):te.jsx(HS,{})}),te.jsx(Lv,{onClick:ge,disabled:a==="syncing"||a==="connected",title:ne.sync.regenerate_id,children:te.jsx(zS,{})})]}),te.jsx(Bv,{$fullWidth:!0,onClick:()=>qe(),disabled:a==="syncing"||a==="connected"||a==="connecting",children:a==="connecting"?ne.sync.connecting:a==="ready"?ne.sync.restart_hosting:ne.sync.start_host}),te.jsx(YM,{children:te.jsx(ax,{value:Np(o),size:180,level:"H"})}),te.jsx("p",{style:{fontSize:"0.85rem",color:J.colors.textSecondary,textAlign:"center",marginTop:-8},children:a==="connected"||a==="syncing"?ne.sync.connected_to_peer:ne.sync.scan_hint})]}):te.jsx(te.Fragment,{children:g?te.jsxs(te.Fragment,{children:[te.jsx(XM,{children:te.jsx("div",{id:"reader"})}),S&&te.jsxs(Fv,{children:[te.jsx("div",{className:"icon-box",children:S.type==="thread"?te.jsx(Nv,{}):S.type==="full"?te.jsx(Iv,{}):te.jsx(Rv,{})}),te.jsxs("div",{className:"content",children:[te.jsx("h4",{children:S.type==="thread"?"Received Thread":S.type==="full"?"Receiving Backup":"Received Memo"}),te.jsx("p",{children:S.label}),te.jsxs("div",{className:"sub",children:[S.count," items"]})]})]}),te.jsxs(Bv,{$fullWidth:!0,$variant:"secondary",onClick:()=>m(!1),children:[te.jsx(z_,{})," ",ne.sync.stop_scanning]})]}):te.jsxs(te.Fragment,{children:[te.jsxs(Bv,{$fullWidth:!0,onClick:()=>m(!0),disabled:a==="connected",style:{marginBottom:12,marginTop:8},children:[te.jsx(F_,{})," ",ne.sync.scan_qr]}),te.jsx(VM,{children:ne.sync.or}),S&&te.jsxs(Fv,{children:[te.jsx("div",{className:"icon-box",children:S.type==="thread"?te.jsx(Nv,{}):S.type==="full"?te.jsx(Iv,{}):te.jsx(Rv,{})}),te.jsxs("div",{className:"content",children:[te.jsx("h4",{children:S.type==="thread"?"Received Thread":S.type==="full"?"Receiving Backup":"Received Memo"}),te.jsx("p",{children:S.label}),te.jsxs("div",{className:"sub",children:[S.count," items"]})]})]}),te.jsx(P3,{children:ne.sync.manual_entry}),te.jsxs(z3,{children:[te.jsx(H3,{placeholder:ne.sync.enter_room_id,value:y,onChange:me=>d(me.target.value),disabled:a==="connected"}),te.jsx(Lv,{onClick:()=>mt(),disabled:!y||a==="connected"||a==="syncing",title:ne.sync.connect,children:a==="connected"?te.jsx(Ov,{style:{color:J.colors.success}}):te.jsx(v3,{})})]})]})}),(v||a!=="disconnected")&&te.jsxs(jM,{children:[N>0&&te.jsx(WM,{$percent:N}),te.jsxs(GM,{$status:a,children:[te.jsx("div",{className:"icon-area",children:a==="connecting"||a==="syncing"?te.jsx(Q2,{className:"fa-spin"}):a==="completed"?te.jsx(Ov,{}):a==="error"?te.jsx(J2,{}):a==="connected"?te.jsx(v3,{}):null}),te.jsx("div",{children:v||(a==="ready"?ne.sync.ready_to_share:a==="connected"?ne.sync.connected:"")})]})]}),te.jsxs("div",{style:{marginTop:"24px",padding:"14px",borderRadius:"12px",background:J.mode==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.03)",border:`1px solid ${J.colors.border} `,fontSize:"0.8rem",color:J.colors.textSecondary,display:"flex",alignItems:"flex-start",gap:"12px",lineHeight:"1.5"},children:[te.jsx(P_,{style:{fontSize:"1.2rem",color:J.colors.primary,marginTop:"2px",flexShrink:0}}),te.jsx("span",{children:ve==="ko"?"     (AES-256)   .       .":"Data is end-to-end encrypted locally (AES-256) before sync. The relay server cannot access your content."})]})]})})]})}):null},ZM=dS`
  0% { opacity: 0; transform: translate(-50%, 30px) scale(0.9); }
  10% { opacity: 1; transform: translate(-50%, 0) scale(1.05); }
  15% { opacity: 1; transform: translate(-50%, 0) scale(1); }
  85% { opacity: 1; transform: translate(-50%, 0) scale(1); }
  100% { opacity: 0; transform: translate(-50%, -20px) scale(0.9); }
`,qM=dS`
  0% { transform: scale(1); box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 0 0px rgba(245, 158, 11, 0); }
  50% { transform: scale(1.02); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(245, 158, 11, 0.4); }
  100% { transform: scale(1); box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2), 0 0 0px rgba(245, 158, 11, 0); }
`,QM=sn.div`
  position: fixed;
  ${({$position:e})=>e==="centered"?"top: 50%; left: 50%; transform: translate(-50%, -50%);":e==="left-centered"?"top: 50%; left: 16px; transform: translateY(-50%);":"bottom: 100px; left: 50%; transform: translateX(-50%);"}
  
  background: ${({$variant:e})=>e==="warning"?"#f59e0b":e==="danger"?"#ef4444":"rgba(0, 0, 0, 0.9)"};
  color: white;
  padding: 6px 14px;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  z-index: 10000;
  pointer-events: none;
  text-align: center;
  white-space: pre-line;
  max-width: 80vw;
  animation: ${ZM} 2.5s cubic-bezier(0.4, 0, 0.2, 1) forwards,
             ${({$variant:e})=>e==="warning"?qM:"none"} 1.5s ease-in-out infinite;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  gap: 6px;
`,lx=({message:e,onClose:t,duration:n=2500,variant:r="default",icon:o,position:c="bottom"})=>(Re.useEffect(()=>{const y=setTimeout(()=>{t()},n);return()=>clearTimeout(y)},[n,t]),te.jsxs(QM,{$variant:r,$position:c,children:[o,e]})),JM=sn(Vy)`
  display: block;
  padding: 0.5rem 0.75rem;
  padding-left: ${({$inThread:e})=>e?"1.5rem":"0.75rem"};
  border-radius: 6px;
  margin-bottom: 0.125rem;
  text-decoration: none;
  background: ${({$isActive:e,theme:t})=>e?t.colors.border:"transparent"};
  color: ${({theme:e})=>e.colors.text};
  position: relative;
  
  /* Connector for child memos */
  ${({$inThread:e,theme:t})=>e&&`
    &::before {
      content: '';
      position: absolute;
      left: 0.75rem;
      top: 0;
      bottom: 0;
      width: 2px;
      background-color: ${t.colors.border};
    }
  `}

  &:hover {
    background: ${({theme:e,$isActive:t})=>t?e.colors.border:e.colors.surface};
    text-decoration: none;
  }
`,$M=sn.div`
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.95rem;
`,eO=sn.div`
  font-size: 0.75rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-top: 0.1rem;
`;sn.div`
    border-left: 2px solid ${({theme:e})=>e.colors.border};
    margin-left: 0.75rem;
    padding-left: 0.5rem;
    margin-bottom: 0.5rem;
`;sn.div`
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.25rem 0.5rem;
    cursor: pointer;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.85rem;
    font-weight: 500;
    
    &:hover {
        color: ${({theme:e})=>e.colors.text};
    }
`;sn.button`
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.5rem 0.25rem 0.25rem;
    margin-left: 0.5rem;
    margin-top: -0.25rem;
    margin-bottom: 0.25rem;
    background: transparent;
    border: none;
    cursor: pointer;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.8rem;
    border-radius: 4px;
    
    &:hover {
        color: ${({theme:e})=>e.colors.text};
        background: ${({theme:e})=>e.colors.surface};
    }
`;function du(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tO=typeof Symbol=="function"&&Symbol.observable||"@@observable",U3=tO,j3=()=>Math.random().toString(36).substring(7).split("").join("."),nO={INIT:`@@redux/INIT${j3()}`,REPLACE:`@@redux/REPLACE${j3()}`},W3=nO;function rO(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function a8(e,t,n){if(typeof e!="function")throw new Error(du(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(du(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(du(1));return n(a8)(e,t)}let r=e,o=t,c=new Map,y=c,d=0,a=!1;function u(){y===c&&(y=new Map,c.forEach((S,O)=>{y.set(O,S)}))}function v(){if(a)throw new Error(du(3));return o}function f(S){if(typeof S!="function")throw new Error(du(4));if(a)throw new Error(du(5));let O=!0;u();const N=d++;return y.set(N,S),function(){if(O){if(a)throw new Error(du(6));O=!1,u(),y.delete(N),c=null}}}function g(S){if(!rO(S))throw new Error(du(7));if(typeof S.type>"u")throw new Error(du(8));if(typeof S.type!="string")throw new Error(du(17));if(a)throw new Error(du(9));try{a=!0,o=r(o,S)}finally{a=!1}return(c=y).forEach(N=>{N()}),S}function m(S){if(typeof S!="function")throw new Error(du(10));r=S,g({type:W3.REPLACE})}function C(){const S=f;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(du(11));function N(){const W=O;W.next&&W.next(v())}return N(),{unsubscribe:S(N)}},[U3](){return this}}}return g({type:W3.INIT}),{dispatch:g,subscribe:f,getState:v,replaceReducer:m,[U3]:C}}function G3(e,t){return function(...n){return t(e.apply(this,n))}}function Y3(e,t){if(typeof e=="function")return G3(e,t);if(typeof e!="object"||e===null)throw new Error(du(16));const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=G3(o,t))}return n}function o8(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function iO(...e){return t=>(n,r)=>{const o=t(n,r);let c=()=>{throw new Error(du(15))};const y={getState:o.getState,dispatch:(a,...u)=>c(a,...u)},d=e.map(a=>a(y));return c=o8(...d)(o.dispatch),{...o,dispatch:c}}}var Pv={exports:{}},zv={};var X3;function aO(){if(X3)return zv;X3=1;var e=Rd();function t(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,c=e.useEffect,y=e.useMemo,d=e.useDebugValue;return zv.useSyncExternalStoreWithSelector=function(a,u,v,f,g){var m=o(null);if(m.current===null){var C={hasValue:!1,value:null};m.current=C}else C=m.current;m=y(function(){function S(q){if(!O){if(O=!0,N=q,q=f(q),g!==void 0&&C.hasValue){var J=C.value;if(g(J,q))return U=J}return U=q}if(J=U,n(N,q))return J;var ne=f(q);return g!==void 0&&g(J,ne)?(N=q,J):(N=q,U=ne)}var O=!1,N,U,W=v===void 0?null:v;return[function(){return S(u())},W===null?void 0:function(){return S(W())}]},[u,v,f,g]);var D=r(a,m[0],m[1]);return c(function(){C.hasValue=!0,C.value=D},[D]),d(D),D},zv}var V3;function oO(){return V3||(V3=1,Pv.exports=aO()),Pv.exports}oO();var sO=Re.version.startsWith("19"),lO=Symbol.for(sO?"react.transitional.element":"react.element"),uO=Symbol.for("react.portal"),cO=Symbol.for("react.fragment"),fO=Symbol.for("react.strict_mode"),hO=Symbol.for("react.profiler"),dO=Symbol.for("react.consumer"),gO=Symbol.for("react.context"),s8=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),mO=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),vO=Symbol.for("react.lazy"),yO=s8,xO=ux;function bO(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case lO:switch(e=e.type,e){case cO:case hO:case fO:case pO:case mO:return e;default:switch(e=e&&e.$$typeof,e){case gO:case s8:case vO:case ux:return e;case dO:return e;default:return t}}case uO:return t}}}function wO(e){return bO(e)===ux}function CO(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:c,areStatePropsEqual:y}){let d=!1,a,u,v,f,g;function m(N,U){return a=N,u=U,v=e(a,u),f=t(r,u),g=n(v,f,u),d=!0,g}function C(){return v=e(a,u),t.dependsOnOwnProps&&(f=t(r,u)),g=n(v,f,u),g}function D(){return e.dependsOnOwnProps&&(v=e(a,u)),t.dependsOnOwnProps&&(f=t(r,u)),g=n(v,f,u),g}function S(){const N=e(a,u),U=!y(N,v);return v=N,U&&(g=n(v,f,u)),g}function O(N,U){const W=!c(U,u),q=!o(N,a,U,u);return a=N,u=U,W&&q?C():W?D():q?S():g}return function(U,W){return d?O(U,W):m(U,W)}}function SO(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){const c=t(e,o),y=n(e,o),d=r(e,o);return CO(c,y,d,e,o)}function EO(e,t){const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=(...c)=>t(o(...c)))}return n}function ny(e){return function(n){const r=e(n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function K3(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function l8(e,t){return function(r,{displayName:o}){const c=function(d,a){return c.dependsOnOwnProps?c.mapToProps(d,a):c.mapToProps(d,void 0)};return c.dependsOnOwnProps=!0,c.mapToProps=function(d,a){c.mapToProps=e,c.dependsOnOwnProps=K3(e);let u=c(d,a);return typeof u=="function"&&(c.mapToProps=u,c.dependsOnOwnProps=K3(u),u=c(d,a)),u},c}}function cx(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function AO(e){return e&&typeof e=="object"?ny(t=>EO(e,t)):e?typeof e=="function"?l8(e):cx(e,"mapDispatchToProps"):ny(t=>({dispatch:t}))}function TO(e){return e?typeof e=="function"?l8(e):cx(e,"mapStateToProps"):ny(()=>({}))}function DO(e,t,n){return{...n,...e,...t}}function kO(e){return function(n,{displayName:r,areMergedPropsEqual:o}){let c=!1,y;return function(a,u,v){const f=e(a,u,v);return c?o(f,y)||(y=f):(c=!0,y=f),y}}}function _O(e){return e?typeof e=="function"?kO(e):cx(e,"mergeProps"):()=>DO}function MO(e){e()}function OO(){let e=null,t=null;return{clear(){e=null,t=null},notify(){MO(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Z3={notify(){},get:()=>[]};function u8(e,t){let n,r=Z3,o=0,c=!1;function y(D){v();const S=r.subscribe(D);let O=!1;return()=>{O||(O=!0,S(),f())}}function d(){r.notify()}function a(){C.onStateChange&&C.onStateChange()}function u(){return c}function v(){o++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=OO())}function f(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=Z3)}function g(){c||(c=!0,v())}function m(){c&&(c=!1,f())}const C={addNestedSub:y,notifyNestedSubs:d,handleChangeWrapper:a,isSubscribed:u,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>r};return C}var IO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RO=IO(),NO=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LO=NO(),BO=()=>RO||LO?Re.useLayoutEffect:Re.useEffect,Pp=BO();function q3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Hv(e,t){if(q3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!q3(e[n[o]],t[n[o]]))return!1;return!0}var FO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},HO={[yO]:zO,[xO]:c8};function Q3(e){return wO(e)?c8:HO[e.$$typeof]||FO}var UO=Object.defineProperty,jO=Object.getOwnPropertyNames,J3=Object.getOwnPropertySymbols,WO=Object.getOwnPropertyDescriptor,GO=Object.getPrototypeOf,$3=Object.prototype;function ry(e,t){if(typeof t!="string"){if($3){const c=GO(t);c&&c!==$3&&ry(e,c)}let n=jO(t);J3&&(n=n.concat(J3(t)));const r=Q3(e),o=Q3(t);for(let c=0;c<n.length;++c){const y=n[c];if(!PO[y]&&!(o&&o[y])&&!(r&&r[y])){const d=WO(t,y);try{UO(e,y,d)}catch{}}}}return e}var YO=Symbol.for("react-redux-context"),XO=typeof globalThis<"u"?globalThis:{};function VO(){if(!Re.createContext)return{};const e=XO[YO]??=new Map;let t=e.get(Re.createContext);return t||(t=Re.createContext(null),e.set(Re.createContext,t)),t}var f8=VO(),KO=[null,null];function ZO(e,t,n){Pp(()=>e(...t),n)}function qO(e,t,n,r,o,c){e.current=r,n.current=!1,o.current&&(o.current=null,c())}function QO(e,t,n,r,o,c,y,d,a,u,v){if(!e)return()=>{};let f=!1,g=null;const m=()=>{if(f||!d.current)return;const D=t.getState();let S,O;try{S=r(D,o.current)}catch(N){O=N,g=N}O||(g=null),S===c.current?y.current||u():(c.current=S,a.current=S,y.current=!0,v())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function JO(e,t){return e===t}function $O(e,t,n,{pure:r,areStatesEqual:o=JO,areOwnPropsEqual:c=Hv,areStatePropsEqual:y=Hv,areMergedPropsEqual:d=Hv,forwardRef:a=!1,context:u=f8}={}){const v=u,f=TO(e),g=AO(t),m=_O(n),C=!!e;return S=>{const O=S.displayName||S.name||"Component",N=`Connect(${O})`,U={shouldHandleStateChanges:C,displayName:N,wrappedComponentName:O,WrappedComponent:S,initMapStateToProps:f,initMapDispatchToProps:g,initMergeProps:m,areStatesEqual:o,areStatePropsEqual:y,areOwnPropsEqual:c,areMergedPropsEqual:d};function W(ne){const[ve,Se,Be]=Re.useMemo(()=>{const{reactReduxForwardedRef:Wt,...ft}=ne;return[ne.context,Wt,ft]},[ne]),Ue=Re.useMemo(()=>{let Wt=v;return ve?.Consumer,Wt},[ve,v]),qe=Re.useContext(Ue),mt=!!ne.store&&!!ne.store.getState&&!!ne.store.dispatch,ut=!!qe&&!!qe.store,ge=mt?ne.store:qe.store,me=ut?qe.getServerState:ge.getState,Ie=Re.useMemo(()=>SO(ge.dispatch,U),[ge]),[lt,Me]=Re.useMemo(()=>{if(!C)return KO;const Wt=u8(ge,mt?void 0:qe.subscription),ft=Wt.notifyNestedSubs.bind(Wt);return[Wt,ft]},[ge,mt,qe]),ue=Re.useMemo(()=>mt?qe:{...qe,subscription:lt},[mt,qe,lt]),ce=Re.useRef(void 0),oe=Re.useRef(Be),Z=Re.useRef(void 0),be=Re.useRef(!1),Te=Re.useRef(!1),Fe=Re.useRef(void 0);Pp(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const ct=Re.useMemo(()=>()=>Z.current&&Be===oe.current?Z.current:Ie(ge.getState(),Be),[ge,Be]),At=Re.useMemo(()=>ft=>lt?QO(C,ge,lt,Ie,oe,ce,be,Te,Z,Me,ft):()=>{},[lt]);ZO(qO,[oe,ce,be,Be,Z,Me]);let rt;try{rt=Re.useSyncExternalStore(At,ct,me?()=>Ie(me(),Be):ct)}catch(Wt){throw Fe.current&&(Wt.message+=`
The error may be correlated with this previous error:
${Fe.current.stack}

`),Wt}Pp(()=>{Fe.current=void 0,Z.current=void 0,ce.current=rt});const jt=Re.useMemo(()=>Re.createElement(S,{...rt,ref:Se}),[Se,S,rt]);return Re.useMemo(()=>C?Re.createElement(Ue.Provider,{value:ue},jt):jt,[Ue,jt,ue])}const J=Re.memo(W);if(J.WrappedComponent=S,J.displayName=W.displayName=N,a){const ve=Re.forwardRef(function(Be,Ue){return Re.createElement(J,{...Be,reactReduxForwardedRef:Ue})});return ve.displayName=N,ve.WrappedComponent=S,ry(ve,S)}return ry(J,S)}}var h8=$O;function eI(e){const{children:t,context:n,serverState:r,store:o}=e,c=Re.useMemo(()=>{const a=u8(o);return{store:o,subscription:a,getServerState:r?()=>r:void 0}},[o,r]),y=Re.useMemo(()=>o.getState(),[o]);Pp(()=>{const{subscription:a}=c;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),y!==o.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[c,y]);const d=n||f8;return Re.createElement(d.Provider,{value:c},t)}var tI=eI,nI="Invariant failed";function rI(e,t){throw new Error(nI)}var af=function(t){var n=t.top,r=t.right,o=t.bottom,c=t.left,y=r-c,d=o-n,a={top:n,right:r,bottom:o,left:c,width:y,height:d,x:c,y:n,center:{x:(r+c)/2,y:(o+n)/2}};return a},fx=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},ew=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},iI=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Uv={top:0,right:0,bottom:0,left:0},hx=function(t){var n=t.borderBox,r=t.margin,o=r===void 0?Uv:r,c=t.border,y=c===void 0?Uv:c,d=t.padding,a=d===void 0?Uv:d,u=af(fx(n,o)),v=af(ew(n,y)),f=af(ew(v,a));return{marginBox:u,borderBox:af(n),paddingBox:v,contentBox:f,margin:o,border:y,padding:a}},Oc=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var o=Number(n);return isNaN(o)&&rI(),o},aI=function(){return{x:window.pageXOffset,y:window.pageYOffset}},zp=function(t,n){var r=t.borderBox,o=t.border,c=t.margin,y=t.padding,d=iI(r,n);return hx({borderBox:d,border:o,margin:c,padding:y})},Hp=function(t,n){return n===void 0&&(n=aI()),zp(t,n)},d8=function(t,n){var r={top:Oc(n.marginTop),right:Oc(n.marginRight),bottom:Oc(n.marginBottom),left:Oc(n.marginLeft)},o={top:Oc(n.paddingTop),right:Oc(n.paddingRight),bottom:Oc(n.paddingBottom),left:Oc(n.paddingLeft)},c={top:Oc(n.borderTopWidth),right:Oc(n.borderRightWidth),bottom:Oc(n.borderBottomWidth),left:Oc(n.borderLeftWidth)};return hx({borderBox:t,margin:r,padding:o,border:c})},g8=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return d8(n,r)},z1=function(t){var n=[],r=null,o=function(){for(var y=arguments.length,d=new Array(y),a=0;a<y;a++)d[a]=arguments[a];n=d,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Up.apply(null,arguments)}function p8(e,t){}p8.bind(null,"warn");p8.bind(null,"error");function Vh(){}function oI(e,t){return{...e,...t}}function Rc(e,t,n){const r=t.map(o=>{const c=oI(n,o.options);return e.addEventListener(o.eventName,o.fn,c),function(){e.removeEventListener(o.eventName,o.fn,c)}});return function(){r.forEach(c=>{c()})}}const sI="Invariant failed";class jp extends Error{}jp.prototype.toString=function(){return this.message};function Un(e,t){throw new jp(sI)}class lI extends Dn.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Vh,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof jp&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Rc(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof jp){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const uI=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Wp=e=>e+1,cI=e=>`
  You have lifted an item in position ${Wp(e.source.index)}
`,m8=(e,t)=>{const n=e.droppableId===t.droppableId,r=Wp(e.index),o=Wp(t.index);return n?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},v8=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,fI=e=>{const t=e.destination;if(t)return m8(e.source,t);const n=e.combine;return n?v8(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},tw=e=>`
  The item has returned to its starting position
  of ${Wp(e.index)}
`,hI=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${tw(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${m8(e.source,t)}
    `:n?`
      You have dropped the item.
      ${v8(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${tw(e.source)}
  `},vp={dragHandleUsageInstructions:uI,onDragStart:cI,onDragUpdate:fI,onDragEnd:hI};function dI(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function y8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!dI(e[n],t[n]))return!1;return!0}function ga(e,t){const n=Re.useState(()=>({inputs:t,result:e()}))[0],r=Re.useRef(!0),o=Re.useRef(n),y=r.current||!!(t&&o.current.inputs&&y8(t,o.current.inputs))?o.current:{inputs:t,result:e()};return Re.useEffect(()=>{r.current=!1,o.current=y},[y]),y.result}function Mr(e,t){return ga(()=>e,t)}const Dl={x:0,y:0},zl=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),fc=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Kh=(e,t)=>e.x===t.x&&e.y===t.y,Pd=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),L0=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},H1=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),nw=(e,t)=>Math.min(...t.map(n=>H1(e,n))),x8=e=>t=>({x:e(t.x),y:e(t.y)});var gI=(e,t)=>{const n=af({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ng=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),rw=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],pI={top:0,right:0,bottom:0,left:0},mI=(e,t)=>t?ng(e,t.scroll.diff.displacement):e,vI=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,yI=(e,t)=>t&&t.shouldClipSubject?gI(t.pageMarginBox,e):af(e);var kd=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=mI(e.marginBox,r),c=vI(o,n,t),y=yI(c,r);return{page:e,withPlaceholder:t,active:y}},dx=(e,t)=>{e.frame||Un();const n=e.frame,r=fc(t,n.scroll.initial),o=Pd(r),c={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},y=kd({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:c});return{...e,frame:c,subject:y}};function Tl(e,t=y8){let n=null;function r(...o){if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;const c=e.apply(this,o);return n={lastResult:c,lastArgs:o,lastThis:this},c}return r.clear=function(){n=null},r}const b8=Tl(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),w8=Tl(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),gm=Tl(e=>Object.values(e)),xI=Tl(e=>Object.values(e));var zd=Tl((e,t)=>xI(t).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function gx(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function pm(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var mm=Tl((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),bI=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled||!gx(o))return null;function y(m){const C={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...o,at:C}}const d=o.displaced.all,a=d.length?d[0]:null;if(e)return a?y(a):null;const u=mm(t,r);if(!a){if(!u.length)return null;const m=u[u.length-1];return y(m.descriptor.id)}const v=u.findIndex(m=>m.descriptor.id===a);v===-1&&Un();const f=v-1;if(f<0)return null;const g=u[f];return y(g.descriptor.id)},Hd=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const C8={point:Dl,value:0},U1={invisible:{},visible:{},all:[]},wI={displaced:U1,displacedBy:C8,at:null};var Lc=(e,t)=>n=>e<=n&&n<=t,S8=e=>{const t=Lc(e.top,e.bottom),n=Lc(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const c=t(r.top)||t(r.bottom),y=n(r.left)||n(r.right);if(c&&y)return!0;const a=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return a&&u?!0:a&&y||u&&c}},CI=e=>{const t=Lc(e.top,e.bottom),n=Lc(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const px={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},E8={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var SI=e=>t=>{const n=Lc(t.top,t.bottom),r=Lc(t.left,t.right);return o=>e===px?n(o.top)&&n(o.bottom):r(o.left)&&r(o.right)};const EI=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Dl;return ng(e,n)},AI=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,TI=(e,t,n)=>n(t)(e),mx=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const c=r?EI(e,t):e;return AI(c,t,o)&&TI(c,n,o)},DI=e=>mx({...e,isVisibleThroughFrameFn:S8}),A8=e=>mx({...e,isVisibleThroughFrameFn:CI}),kI=e=>mx({...e,isVisibleThroughFrameFn:SI(e.destination.axis)}),_I=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const c=o[e];return c?c.shouldAnimate:!0};function MI(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return af(fx(n,r))}function j1({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:c}){return e.reduce(function(d,a){const u=MI(a,n),v=a.descriptor.id;if(d.all.push(v),!DI({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return d.invisible[a.descriptor.id]=!0,d;const g=_I(v,c,o),m={draggableId:v,shouldAnimate:g};return d.visible[v]=m,d},{all:[],visible:{},invisible:{}})}function OI(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function iw({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=OI(e,{inHomeList:t});return{displaced:U1,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Gp({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:c,index:y,forceShouldAnimate:d}){const a=Hd(e,n);if(y==null)return iw({insideDestination:t,inHomeList:a,displacedBy:o,destination:n});const u=t.find(C=>C.descriptor.index===y);if(!u)return iw({insideDestination:t,inHomeList:a,displacedBy:o,destination:n});const v=mm(e,t),f=t.indexOf(u),g=v.slice(f);return{displaced:j1({afterDragging:g,destination:n,displacedBy:o,last:c,viewport:r.frame,forceShouldAnimate:d}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:y}}}}function Jh(e,t){return!!t.effected[e]}var II=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const c=r.draggableId,d=n[c].descriptor.index;return Jh(c,o)?e?d:d-1:e?d+1:d},RI=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,c=e?o+1:o-1,y=n[0].descriptor.index,d=n[n.length-1].descriptor.index,a=t?d:d+1;return c<y||c>a?null:c},NI=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:c,previousImpact:y,viewport:d,afterCritical:a})=>{const u=y.at;if(u||Un(),u.type==="REORDER"){const f=RI({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:c});return f==null?null:Gp({draggable:n,insideDestination:c,destination:o,viewport:d,last:y.displaced,displacedBy:y.displacedBy,index:f})}const v=II({isMovingForward:e,destination:o,displaced:y.displaced,draggables:r,combine:u.combine,afterCritical:a});return v==null?null:Gp({draggable:n,insideDestination:c,destination:o,viewport:d,last:y.displaced,displacedBy:y.displacedBy,index:v})},LI=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=!!(e.visible[n]||e.invisible[n]);return Jh(n,t)?o?Dl:Pd(r.point):o?r.point:Dl},BI=({afterCritical:e,impact:t,draggables:n})=>{const r=pm(t);r||Un();const o=r.draggableId,c=n[o].page.borderBox.center,y=LI({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return zl(c,y)};const T8=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,FI=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,vx=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,aw=({axis:e,moveRelativeTo:t,isMoving:n})=>L0(e.line,t.marginBox[e.end]+T8(e,n),vx(e,t.marginBox,n)),ow=({axis:e,moveRelativeTo:t,isMoving:n})=>L0(e.line,t.marginBox[e.start]-FI(e,n),vx(e,t.marginBox,n)),PI=({axis:e,moveInto:t,isMoving:n})=>L0(e.line,t.contentBox[e.start]+T8(e,n),vx(e,t.contentBox,n));var zI=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const c=zd(r.descriptor.id,n),y=t.page,d=r.axis;if(!c.length)return PI({axis:d,moveInto:r.page,isMoving:y});const{displaced:a,displacedBy:u}=e,v=a.all[0];if(v){const g=n[v];if(Jh(v,o))return ow({axis:d,moveRelativeTo:g.page,isMoving:y});const m=zp(g.page,u.point);return ow({axis:d,moveRelativeTo:m,isMoving:y})}const f=c[c.length-1];if(f.descriptor.id===t.descriptor.id)return y.borderBox.center;if(Jh(f.descriptor.id,o)){const g=zp(f.page,Pd(o.displacedBy.point));return aw({axis:d,moveRelativeTo:g,isMoving:y})}return aw({axis:d,moveRelativeTo:f.page,isMoving:y})},iy=(e,t)=>{const n=e.frame;return n?zl(t,n.scroll.diff.displacement):t};const HI=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const c=t.page.borderBox.center,y=e.at;return!n||!y?c:y.type==="REORDER"?zI({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):BI({impact:e,draggables:r,afterCritical:o})};var vm=e=>{const t=HI(e),n=e.droppable;return n?iy(n,t):t},D8=(e,t)=>{const n=fc(t,e.scroll.initial),r=Pd(n);return{frame:af({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function sw(e,t){return e.map(n=>t[n])}function UI(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var jI=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const c=D8(t,zl(t.scroll.current,o)),y=n.frame?dx(n,zl(n.frame.scroll.current,o)):n,d=e.displaced,a=j1({afterDragging:sw(d.all,r),destination:n,displacedBy:e.displacedBy,viewport:c.frame,last:d,forceShouldAnimate:!1}),u=j1({afterDragging:sw(d.all,r),destination:y,displacedBy:e.displacedBy,viewport:t.frame,last:d,forceShouldAnimate:!1}),v={},f={},g=[d,a,u];return d.all.forEach(C=>{const D=UI(C,g);if(D){f[C]=D;return}v[C]=!0}),{...e,displaced:{all:d.all,invisible:v,visible:f}}},WI=(e,t)=>zl(e.scroll.diff.displacement,t),yx=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=WI(n,e),o=fc(r,t.page.borderBox.center);return zl(t.client.borderBox.center,o)},k8=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:c=!1})=>{const y=fc(n,e.page.borderBox.center),a={target:ng(e.page.borderBox,y),destination:t,withDroppableDisplacement:o,viewport:r};return c?kI(a):A8(a)},GI=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:c,previousPageBorderBoxCenter:y,previousClientSelection:d,afterCritical:a})=>{if(!n.isEnabled)return null;const u=zd(n.descriptor.id,r),v=Hd(t,n),f=bI({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:o})||NI({isMovingForward:e,isInHomeList:v,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:o,viewport:c,afterCritical:a});if(!f)return null;const g=vm({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:a});if(k8({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:yx({pageBorderBoxCenter:g,draggable:t,viewport:c}),impact:f,scrollJumpRequest:null};const C=fc(g,y),D=jI({impact:f,viewport:c,destination:n,draggables:r,maxScrollChange:C});return{clientSelection:d,impact:D,scrollJumpRequest:C}};const fu=e=>{const t=e.subject.active;return t||Un(),t};var YI=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const c=n.subject.active;if(!c)return null;const y=n.axis,d=Lc(c[y.start],c[y.end]),a=gm(r).filter(v=>v!==n).filter(v=>v.isEnabled).filter(v=>!!v.subject.active).filter(v=>S8(o.frame)(fu(v))).filter(v=>{const f=fu(v);return e?c[y.crossAxisEnd]<f[y.crossAxisEnd]:f[y.crossAxisStart]<c[y.crossAxisStart]}).filter(v=>{const f=fu(v),g=Lc(f[y.start],f[y.end]);return d(f[y.start])||d(f[y.end])||g(c[y.start])||g(c[y.end])}).sort((v,f)=>{const g=fu(v)[y.crossAxisStart],m=fu(f)[y.crossAxisStart];return e?g-m:m-g}).filter((v,f,g)=>fu(v)[y.crossAxisStart]===fu(g[0])[y.crossAxisStart]);if(!a.length)return null;if(a.length===1)return a[0];const u=a.filter(v=>Lc(fu(v)[y.start],fu(v)[y.end])(t[y.line]));return u.length===1?u[0]:u.length>1?u.sort((v,f)=>fu(v)[y.start]-fu(f)[y.start])[0]:a.sort((v,f)=>{const g=nw(t,rw(fu(v))),m=nw(t,rw(fu(f)));return g!==m?g-m:fu(v)[y.start]-fu(f)[y.start]})[0]};const lw=(e,t)=>{const n=e.page.borderBox.center;return Jh(e.descriptor.id,t)?fc(n,t.displacedBy.point):n},XI=(e,t)=>{const n=e.page.borderBox;return Jh(e.descriptor.id,t)?ng(n,Pd(t.displacedBy.point)):n};var VI=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(y=>A8({target:XI(y,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((y,d)=>{const a=H1(e,iy(n,lw(y,o))),u=H1(e,iy(n,lw(d,o)));return a<u?-1:u<a?1:y.descriptor.index-d.descriptor.index})[0]||null,rg=Tl(function(t,n){const r=n[t.line];return{value:r,point:L0(t.line,r)}});const KI=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return L0(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],a=zd(e.descriptor.id,n).reduce((u,v)=>u+v.client.marginBox[r.size],0)+t[r.line]-o;return a<=0?null:L0(r.line,a)},_8=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),M8=(e,t,n)=>{const r=e.frame;Hd(t,e)&&Un(),e.subject.withPlaceholder&&Un();const o=rg(e.axis,t.displaceBy).point,c=KI(e,o,n),y={placeholderSize:o,increasedBy:c,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const v=kd({page:e.subject.page,withPlaceholder:y,axis:e.axis,frame:e.frame});return{...e,subject:v}}const d=c?zl(r.scroll.max,c):r.scroll.max,a=_8(r,d),u=kd({page:e.subject.page,withPlaceholder:y,axis:e.axis,frame:a});return{...e,subject:u,frame:a}},ZI=e=>{const t=e.subject.withPlaceholder;t||Un();const n=e.frame;if(!n){const y=kd({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:y}}const r=t.oldFrameMaxScroll;r||Un();const o=_8(n,r),c=kd({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:c,frame:o}};var qI=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:c,viewport:y,afterCritical:d})=>{if(!t){if(n.length)return null;const f={displaced:U1,displacedBy:C8,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},g=vm({impact:f,draggable:r,droppable:c,draggables:o,afterCritical:d}),m=Hd(r,c)?c:M8(c,r,o);return k8({draggable:r,destination:m,newPageBorderBoxCenter:g,viewport:y.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const a=e[c.axis.line]<=t.page.borderBox.center[c.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||a?f:f+1})(),v=rg(c.axis,r.displaceBy);return Gp({draggable:r,insideDestination:n,destination:c,viewport:y,displacedBy:v,last:U1,index:u})},QI=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:c,viewport:y,afterCritical:d})=>{const a=YI({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:c,viewport:y});if(!a)return null;const u=zd(a.descriptor.id,o),v=VI({pageBorderBoxCenter:t,viewport:y,destination:a,insideDestination:u,afterCritical:d}),f=qI({previousPageBorderBoxCenter:t,destination:a,draggable:n,draggables:o,moveRelativeTo:v,insideDestination:u,viewport:y,afterCritical:d});if(!f)return null;const g=vm({impact:f,draggable:n,droppable:a,draggables:o,afterCritical:d});return{clientSelection:yx({pageBorderBoxCenter:g,draggable:n,viewport:y}),impact:f,scrollJumpRequest:null}},hc=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const JI=(e,t)=>{const n=hc(e);return n?t[n]:null};var $I=({state:e,type:t})=>{const n=JI(e.impact,e.dimensions.droppables),r=!!n,o=e.dimensions.droppables[e.critical.droppable.id],c=n||o,y=c.axis.direction,d=y==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||y==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(d&&!r)return null;const a=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],v=e.current.page.borderBoxCenter,{draggables:f,droppables:g}=e.dimensions;return d?GI({isMovingForward:a,previousPageBorderBoxCenter:v,draggable:u,destination:c,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):QI({isMovingForward:a,previousPageBorderBoxCenter:v,draggable:u,isOver:c,draggables:f,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function T0(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function O8(e){const t=Lc(e.top,e.bottom),n=Lc(e.left,e.right);return function(o){return t(o.y)&&n(o.x)}}function eR(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function tR({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(c=>{const y=c.axis,d=L0(c.axis.line,e.center[y.line],c.page.borderBox.center[y.crossAxisLine]);return{id:c.descriptor.id,distance:H1(r,d)}}).sort((c,y)=>y.distance-c.distance);return o[0]?o[0].id:null}function nR({pageBorderBox:e,draggable:t,droppables:n}){const r=gm(n).filter(o=>{if(!o.isEnabled)return!1;const c=o.subject.active;if(!c||!eR(e,c))return!1;if(O8(c)(e.center))return!0;const y=o.axis,d=c.center[y.crossAxisLine],a=e[y.crossAxisStart],u=e[y.crossAxisEnd],v=Lc(c[y.crossAxisStart],c[y.crossAxisEnd]),f=v(a),g=v(u);return!f&&!g?!0:f?a<d:u>d});return r.length?r.length===1?r[0].descriptor.id:tR({pageBorderBox:e,draggable:t,candidates:r}):null}const I8=(e,t)=>af(ng(e,t));var rR=(e,t)=>{const n=e.frame;return n?I8(t,n.scroll.diff.value):t};function R8({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function iR({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var aR=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:c,afterCritical:y})=>{const d=n.axis,a=rg(n.axis,t.displaceBy),u=a.value,v=e[d.start],f=e[d.end],m=mm(t,r).find(D=>{const S=D.descriptor.id,O=D.page.borderBox.center[d.line],N=Jh(S,y),U=R8({displaced:o,id:S});return N?U?f<=O:v<O-u:U?f<=O+u:v<O})||null,C=iR({draggable:t,closest:m,inHomeList:Hd(t,n)});return Gp({draggable:t,insideDestination:r,destination:n,viewport:c,last:o,displacedBy:a,index:C})};const oR=4;var sR=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:c})=>{if(!r.isCombineEnabled)return null;const y=r.axis,d=rg(r.axis,e.displaceBy),a=d.value,u=t[y.start],v=t[y.end],g=mm(e,o).find(C=>{const D=C.descriptor.id,S=C.page.borderBox,N=S[y.size]/oR,U=Jh(D,c),W=R8({displaced:n.displaced,id:D});return U?W?v>S[y.start]+N&&v<S[y.end]-N:u>S[y.start]-a+N&&u<S[y.end]-a-N:W?v>S[y.start]+a+N&&v<S[y.end]+a-N:u>S[y.start]+N&&u<S[y.end]-N});return g?{displacedBy:d,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},N8=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:c,afterCritical:y})=>{const d=I8(t.page.borderBox,e),a=nR({pageBorderBox:d,draggable:t,droppables:r});if(!a)return wI;const u=r[a],v=zd(u.descriptor.id,n),f=rR(u,d);return sR({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:o,destination:u,insideDestination:v,afterCritical:y})||aR({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:v,last:o.displaced,viewport:c,afterCritical:y})},xx=(e,t)=>({...e,[t.descriptor.id]:t});const lR=({previousImpact:e,impact:t,droppables:n})=>{const r=hc(e),o=hc(t);if(!r||r===o)return n;const c=n[r];if(!c.subject.withPlaceholder)return n;const y=ZI(c);return xx(n,y)};var uR=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const c=lR({previousImpact:r,impact:o,droppables:n}),y=hc(o);if(!y)return c;const d=n[y];if(Hd(e,d)||d.subject.withPlaceholder)return c;const a=M8(d,e,t);return xx(c,a)},M1=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:c})=>{const y=r||e.viewport,d=n||e.dimensions,a=t||e.current.client.selection,u=fc(a,e.initial.client.selection),v={offset:u,selection:a,borderBoxCenter:zl(e.initial.client.borderBoxCenter,u)},f={selection:zl(v.selection,y.scroll.current),borderBoxCenter:zl(v.borderBoxCenter,y.scroll.current),offset:zl(v.offset,y.scroll.diff.value)},g={client:v,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:d,viewport:y,current:g};const m=d.draggables[e.critical.draggable.id],C=o||N8({pageOffset:f.offset,draggable:m,draggables:d.draggables,droppables:d.droppables,previousImpact:e.impact,viewport:y,afterCritical:e.afterCritical}),D=uR({draggable:m,impact:C,previousImpact:e.impact,draggables:d.draggables,droppables:d.droppables});return{...e,current:g,dimensions:{draggables:d.draggables,droppables:D},impact:C,viewport:y,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null}};function cR(e,t){return e.map(n=>t[n])}var L8=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const c=e.displaced,y=cR(c.all,n),d=j1({afterDragging:y,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:c});return{...e,displaced:d}},B8=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:c})=>{const y=vm({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:c});return yx({pageBorderBoxCenter:y,draggable:t,viewport:o})},F8=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Un();const r=e.impact,o=n||e.viewport,c=t||e.dimensions,{draggables:y,droppables:d}=c,a=y[e.critical.draggable.id],u=hc(r);u||Un();const v=d[u],f=L8({impact:r,viewport:o,destination:v,draggables:y}),g=B8({impact:f,draggable:a,droppable:v,draggables:y,viewport:o,afterCritical:e.afterCritical});return M1({impact:f,clientSelection:g,state:e,dimensions:c,viewport:o})},fR=e=>({index:e.index,droppableId:e.droppableId}),P8=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=rg(t.axis,e.displaceBy),c=zd(t.descriptor.id,n),y=c.indexOf(e);y===-1&&Un();const d=c.slice(y+1),a=d.reduce((g,m)=>(g[m.descriptor.id]=!0,g),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:a};return{impact:{displaced:j1({afterDragging:d,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:fR(e.descriptor)}},afterCritical:u}},hR=(e,t)=>({draggables:e.draggables,droppables:xx(e.droppables,t)}),dR=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=zp(e.client,t),o=Hp(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},gR=e=>{const t=e.frame;return t||Un(),t},pR=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(o=>{const c=o.descriptor.droppableId,y=t[c],a=gR(y).scroll.diff.value,u=zl(r,a);return dR({draggable:o,offset:u,initialWindowScroll:n.scroll.initial})})},mR=({state:e,published:t})=>{const n=t.modified.map(O=>{const N=e.dimensions.droppables[O.droppableId];return dx(N,O.scroll)}),r={...e.dimensions.droppables,...b8(n)},o=w8(pR({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),c={...e.dimensions.draggables,...o};t.removals.forEach(O=>{delete c[O]});const y={droppables:r,draggables:c},d=hc(e.impact),a=d?y.droppables[d]:null,u=y.draggables[e.critical.draggable.id],v=y.droppables[e.critical.droppable.id],{impact:f,afterCritical:g}=P8({draggable:u,home:v,draggables:c,viewport:e.viewport}),m=a&&a.isCombineEnabled?e.impact:f,C=N8({pageOffset:e.current.page.offset,draggable:y.draggables[e.critical.draggable.id],draggables:y.draggables,droppables:y.droppables,previousImpact:m,viewport:e.viewport,afterCritical:g}),D={...e,phase:"DRAGGING",impact:C,onLiftImpact:f,dimensions:y,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?D:{...D,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const ay=e=>e.movementMode==="SNAP",jv=(e,t,n)=>{const r=hR(e.dimensions,t);return!ay(e)||n?M1({state:e,dimensions:r}):F8({state:e,dimensions:r})};function Wv(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const uw={phase:"IDLE",completed:null,shouldFlush:!1};var vR=(e=uw,t)=>{if(t.type==="FLUSH")return{...uw,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Un();const{critical:n,clientSelection:r,viewport:o,dimensions:c,movementMode:y}=t.payload,d=c.draggables[n.draggable.id],a=c.droppables[n.droppable.id],u={selection:r,borderBoxCenter:d.client.borderBox.center,offset:Dl},v={client:u,page:{selection:zl(u.selection,o.scroll.initial),borderBoxCenter:zl(u.selection,o.scroll.initial),offset:zl(u.selection,o.scroll.diff.value)}},f=gm(c.droppables).every(D=>!D.isFixedOnPage),{impact:g,afterCritical:m}=P8({draggable:d,home:a,draggables:c.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:y,dimensions:c,initial:v,current:v,isWindowScrollAllowed:f,impact:g,afterCritical:m,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Un(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Un(),mR({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;T0(e)||Un();const{client:n}=t.payload;return Kh(n,e.current.client.selection)?e:M1({state:e,clientSelection:n,impact:ay(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Wv(e);T0(e)||Un();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const c=dx(o,r);return jv(e,c,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;T0(e)||Un();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Un(),o.isEnabled===r&&Un();const c={...o,isEnabled:r};return jv(e,c,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;T0(e)||Un();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Un(),o.isCombineEnabled===r&&Un();const c={...o,isCombineEnabled:r};return jv(e,c,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;T0(e)||Un(),e.isWindowScrollAllowed||Un();const n=t.payload.newScroll;if(Kh(e.viewport.scroll.current,n))return Wv(e);const r=D8(e.viewport,n);return ay(e)?F8({state:e,viewport:r}):M1({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!T0(e))return e;const n=t.payload.maxScroll;if(Kh(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Un();const n=$I({state:e,type:t.type});return n?M1({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Un(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Un(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ba(e,t){return e instanceof Object&&"type"in e&&e.type===t}const yR=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),xR=e=>({type:"LIFT",payload:e}),bR=e=>({type:"INITIAL_PUBLISH",payload:e}),wR=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),CR=()=>({type:"COLLECTION_STARTING",payload:null}),SR=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),ER=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),AR=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),z8=e=>({type:"MOVE",payload:e}),TR=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),DR=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),kR=()=>({type:"MOVE_UP",payload:null}),_R=()=>({type:"MOVE_DOWN",payload:null}),MR=()=>({type:"MOVE_RIGHT",payload:null}),OR=()=>({type:"MOVE_LEFT",payload:null}),bx=()=>({type:"FLUSH",payload:null}),IR=e=>({type:"DROP_ANIMATE",payload:e}),wx=e=>({type:"DROP_COMPLETE",payload:e}),H8=e=>({type:"DROP",payload:e}),RR=e=>({type:"DROP_PENDING",payload:e}),U8=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var NR=e=>({getState:t,dispatch:n})=>r=>o=>{if(!Ba(o,"LIFT")){r(o);return}const{id:c,clientSelection:y,movementMode:d}=o.payload,a=t();a.phase==="DROP_ANIMATING"&&n(wx({completed:a.completed})),t().phase!=="IDLE"&&Un(),n(bx()),n(yR({draggableId:c,movementMode:d}));const v={draggableId:c,scrollOptions:{shouldPublishImmediately:d==="SNAP"}},{critical:f,dimensions:g,viewport:m}=e.startPublishing(v);n(bR({critical:f,dimensions:g,clientSelection:y,movementMode:d,viewport:m}))},LR=e=>()=>t=>n=>{Ba(n,"INITIAL_PUBLISH")&&e.dragging(),Ba(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ba(n,"FLUSH")||Ba(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Cx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},W1={opacity:{drop:0,combining:.7},scale:{drop:.75}},j8={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},v0=`${j8.outOfTheWay}s ${Cx.outOfTheWay}`,O1={fluid:`opacity ${v0}`,snap:`transform ${v0}, opacity ${v0}`,drop:e=>{const t=`${e}s ${Cx.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${v0}`,placeholder:`height ${v0}, width ${v0}, margin ${v0}`},cw=e=>Kh(e,Dl)?void 0:`translate(${e.x}px, ${e.y}px)`,oy={moveTo:cw,drop:(e,t)=>{const n=cw(e);if(n)return t?`${n} scale(${W1.scale.drop})`:n}},{minDropTime:sy,maxDropTime:W8}=j8,BR=W8-sy,fw=1500,FR=.6;var PR=({current:e,destination:t,reason:n})=>{const r=H1(e,t);if(r<=0)return sy;if(r>=fw)return W8;const o=r/fw,c=sy+BR*o,y=n==="CANCEL"?c*FR:c;return Number(y.toFixed(2))},zR=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:c,droppables:y}=n,d=hc(e),a=d?y[d]:null,u=y[t.descriptor.droppableId],v=B8({impact:e,draggable:t,draggables:c,afterCritical:o,droppable:a||u,viewport:r});return fc(v,t.client.borderBox.center)},HR=({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:c})=>!n.at||t!=="DROP"?{impact:L8({draggables:e,impact:c,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:U1},didDropInsideDroppable:!0};const UR=({getState:e,dispatch:t})=>n=>r=>{if(!Ba(r,"DROP")){n(r);return}const o=e(),c=r.payload.reason;if(o.phase==="COLLECTING"){t(RR({reason:c}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Un(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Un();const d=o.critical,a=o.dimensions,u=a.draggables[o.critical.draggable.id],{impact:v,didDropInsideDroppable:f}=HR({reason:c,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),g=f?gx(v):null,m=f?pm(v):null,C={index:d.draggable.index,droppableId:d.droppable.id},D={draggableId:u.descriptor.id,type:u.descriptor.type,source:C,reason:c,mode:o.movementMode,destination:g,combine:m},S=zR({impact:v,draggable:u,dimensions:a,viewport:o.viewport,afterCritical:o.afterCritical}),O={critical:o.critical,afterCritical:o.afterCritical,result:D,impact:v};if(!(!Kh(o.current.client.offset,S)||!!D.combine)){t(wx({completed:O}));return}const U=PR({current:o.current.client.offset,destination:S,reason:c});t(IR({newHomeClientOffset:S,dropDuration:U,completed:O}))};var G8=()=>({x:window.pageXOffset,y:window.pageYOffset});function jR(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function WR({onWindowScroll:e}){function t(){e(G8())}const n=z1(t),r=jR(n);let o=Vh;function c(){return o!==Vh}function y(){c()&&Un(),o=Rc(window,[r])}function d(){c()||Un(),n.cancel(),o(),o=Vh}return{start:y,stop:d,isActive:c}}const GR=e=>Ba(e,"DROP_COMPLETE")||Ba(e,"DROP_ANIMATE")||Ba(e,"FLUSH"),YR=e=>{const t=WR({onWindowScroll:n=>{e.dispatch(TR({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ba(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&GR(r)&&t.stop(),n(r)}};var XR=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=c=>{t||n||(t=!0,e(c),clearTimeout(r))};return o.wasCalled=()=>t,o},VR=()=>{const e=[],t=o=>{const c=e.findIndex(d=>d.timerId===o);c===-1&&Un();const[y]=e.splice(c,1);y.callback()};return{add:o=>{const c=setTimeout(()=>t(c)),y={timerId:c,callback:o};e.push(y)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(c=>{clearTimeout(c.timerId),c.callback()})}}};const KR=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,ZR=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,qR=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},c1=(e,t)=>{t()},jg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Gv(e,t,n,r){if(!e){n(r(t));return}const o=XR(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var QR=(e,t)=>{const n=VR();let r=null;const o=(f,g)=>{r&&Un(),c1("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:g})})},c=(f,g)=>{r&&Un(),c1("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(jg(f,g))})},y=(f,g)=>{r&&Un();const m=jg(f,g);r={mode:g,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{c1("onDragStart",()=>Gv(e().onDragStart,m,t,vp.onDragStart))})},d=(f,g)=>{const m=gx(g),C=pm(g);r||Un();const D=!qR(f,r.lastCritical);D&&(r.lastCritical=f);const S=!KR(r.lastLocation,m);S&&(r.lastLocation=m);const O=!ZR(r.lastCombine,C);if(O&&(r.lastCombine=C),!D&&!S&&!O)return;const N={...jg(f,r.mode),combine:C,destination:m};n.add(()=>{c1("onDragUpdate",()=>Gv(e().onDragUpdate,N,t,vp.onDragUpdate))})},a=()=>{r||Un(),n.flush()},u=f=>{r||Un(),r=null,c1("onDragEnd",()=>Gv(e().onDragEnd,f,t,vp.onDragEnd))};return{beforeCapture:o,beforeStart:c,start:y,update:d,flush:a,drop:u,abort:()=>{if(!r)return;const f={...jg(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},JR=(e,t)=>{const n=QR(e,t);return r=>o=>c=>{if(Ba(c,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(c.payload.draggableId,c.payload.movementMode);return}if(Ba(c,"INITIAL_PUBLISH")){const d=c.payload.critical;n.beforeStart(d,c.payload.movementMode),o(c),n.start(d,c.payload.movementMode);return}if(Ba(c,"DROP_COMPLETE")){const d=c.payload.completed.result;n.flush(),o(c),n.drop(d);return}if(o(c),Ba(c,"FLUSH")){n.abort();return}const y=r.getState();y.phase==="DRAGGING"&&n.update(y.critical,y.impact)}};const $R=e=>t=>n=>{if(!Ba(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Un(),e.dispatch(wx({completed:r.completed}))},eN=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o=>c=>{if((Ba(c,"FLUSH")||Ba(c,"DROP_COMPLETE")||Ba(c,"DROP_ANIMATION_FINISHED"))&&r(),o(c),!Ba(c,"DROP_ANIMATE"))return;const y={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(U8())}};n=requestAnimationFrame(()=>{n=null,t=Rc(window,[y])})}};var tN=e=>()=>t=>n=>{(Ba(n,"DROP_COMPLETE")||Ba(n,"FLUSH")||Ba(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},nN=e=>{let t=!1;return()=>n=>r=>{if(Ba(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ba(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ba(r,"DROP_COMPLETE")){t=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const rN=e=>Ba(e,"DROP_COMPLETE")||Ba(e,"DROP_ANIMATE")||Ba(e,"FLUSH");var iN=e=>t=>n=>r=>{if(rN(r)){e.stop(),n(r);return}if(Ba(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();o.phase!=="DRAGGING"&&Un(),e.start(o);return}n(r),e.scroll(t.getState())};const aN=e=>t=>n=>{if(t(n),!Ba(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(H8({reason:r.reason})))},oN=o8;var sN=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:c})=>a8(vR,oN(iO(LR(n),tN(e),NR(e),UR,$R,eN,aN,iN(c),YR,nN(t),JR(r,o))));const Yv=()=>({additions:{},removals:{},modified:{}});function lN({registry:e,callbacks:t}){let n=Yv(),r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:a,removals:u,modified:v}=n,f=Object.keys(a).map(C=>e.draggable.getById(C).getDimension(Dl)).sort((C,D)=>C.descriptor.index-D.descriptor.index),g=Object.keys(v).map(C=>{const S=e.droppable.getById(C).callbacks.getScrollWhileDragging();return{droppableId:C,scroll:S}}),m={additions:f,removals:Object.keys(u),modified:g};n=Yv(),t.publish(m)}))};return{add:a=>{const u=a.descriptor.id;n.additions[u]=a,n.modified[a.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],o()},remove:a=>{const u=a.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Yv())}}}var Y8=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=fc({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},X8=()=>{const e=document.documentElement;return e||Un(),e},V8=()=>{const e=X8();return Y8({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},uN=()=>{const e=G8(),t=V8(),n=e.y,r=e.x,o=X8(),c=o.clientWidth,y=o.clientHeight,d=r+c,a=n+y;return{frame:af({top:n,left:r,right:d,bottom:a}),scroll:{initial:e,current:e,max:t,diff:{value:Dl,displacement:Dl}}}},cN=({critical:e,scrollOptions:t,registry:n})=>{const r=uN(),o=r.scroll.current,c=e.droppable,y=n.droppable.getAllByType(c.type).map(v=>v.callbacks.getDimensionAndWatchScroll(o,t)),d=n.draggable.getAllByType(e.draggable.type).map(v=>v.getDimension(o));return{dimensions:{draggables:w8(d),droppables:b8(y)},critical:e,viewport:r}};function hw(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var fN=(e,t)=>{let n=null;const r=lN({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(g,m)=>{e.droppable.exists(g)||Un(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:m})},c=(g,m)=>{n&&(e.droppable.exists(g)||Un(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:m}))},y=(g,m)=>{n&&(e.droppable.exists(g)||Un(),t.updateDroppableScroll({id:g,newScroll:m}))},d=(g,m)=>{n&&e.droppable.getById(g).callbacks.scroll(m)},a=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=g=>{n||Un();const m=n.critical.draggable;g.type==="ADDITION"&&hw(e,m,g.value)&&r.add(g.value),g.type==="REMOVAL"&&hw(e,m,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:c,scrollDroppable:d,updateDroppableScroll:y,startPublishing:g=>{n&&Un();const m=e.draggable.getById(g.draggableId),C=e.droppable.getById(m.descriptor.droppableId),D={draggable:m.descriptor,droppable:C.descriptor},S=e.subscribe(u);return n={critical:D,unsubscribe:S},cN({critical:D,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:a}},K8=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",hN=e=>{window.scrollBy(e.x,e.y)};const dN=Tl(e=>gm(e).filter(t=>!(!t.isEnabled||!t.frame))),gN=(e,t)=>dN(t).find(r=>(r.frame||Un(),O8(r.frame.pageMarginBox)(e)))||null;var pN=({center:e,destination:t,droppables:n})=>{if(t){const o=n[t];return o.frame?o:null}return gN(e,n)};const G1={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var mN=(e,t,n=()=>G1)=>{const r=n(),o=e[t.size]*r.startFromPercentage,c=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:c}},Z8=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Sx=1,vN=(e,t,n=()=>G1)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Sx;const c=1-Z8({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),y=r.maxPixelScroll*r.ease(c);return Math.ceil(y)},yN=(e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,c=r.durationDampening.stopDampeningAt,y=t,d=c,u=Date.now()-y;if(u>=c)return e;if(u<o)return Sx;const v=Z8({startOfRange:o,endOfRange:d,current:u}),f=e*r.ease(v);return Math.ceil(f)},dw=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const c=vN(e,t,o);return c===0?0:r?Math.max(yN(c,n,o),Sx):c},gw=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const y=mN(e,r,c);return t[r.end]<t[r.start]?dw({distanceToEdge:t[r.end],thresholds:y,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c}):-1*dw({distanceToEdge:t[r.start],thresholds:y,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c})},xN=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return!o&&!r?n:o&&r?null:{x:o?0:n.x,y:r?0:n.y}};const bN=x8(e=>e===0?0:e);var q8=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const y={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},d=gw({container:t,distanceToEdges:y,dragStartTime:e,axis:px,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),a=gw({container:t,distanceToEdges:y,dragStartTime:e,axis:E8,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),u=bN({x:a,y:d});if(Kh(u,Dl))return null;const v=xN({container:t,subject:n,proposedScroll:u});return v?Kh(v,Dl)?null:v:null};const wN=x8(e=>e===0?0:e>0?1:-1),Ex=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const o=zl(t,r),c={x:e(o.x,n.x),y:e(o.y,n.y)};return Kh(c,Dl)?null:c}})(),Q8=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=wN(n),c=Ex({max:r,current:t,change:o});return!c||o.x!==0&&c.x===0||o.y!==0&&c.y===0},Ax=(e,t)=>Q8({current:e.scroll.current,max:e.scroll.max,change:t}),CN=(e,t)=>{if(!Ax(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Ex({current:r,max:n,change:t})},Tx=(e,t)=>{const n=e.frame;return n?Q8({current:n.scroll.current,max:n.scroll.max,change:t}):!1},SN=(e,t)=>{const n=e.frame;return!n||!Tx(e,t)?null:Ex({current:n.scroll.current,max:n.scroll.max,change:t})};var EN=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const y=q8({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return y&&Ax(e,y)?y:null},AN=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const y=e.frame;if(!y)return null;const d=q8({dragStartTime:r,container:y.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return d&&Tx(e,d)?d:null},pw=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:c})=>{const y=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,g=EN({dragStartTime:t,viewport:f,subject:a,center:y,shouldUseTimeDampening:n,getAutoScrollerOptions:c});if(g){r(g);return}}const u=pN({center:y,destination:hc(e.impact),droppables:e.dimensions.droppables});if(!u)return;const v=AN({dragStartTime:t,droppable:u,subject:a,center:y,shouldUseTimeDampening:n,getAutoScrollerOptions:c});v&&o(u.descriptor.id,v)},TN=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>G1})=>{const r=z1(e),o=z1(t);let c=null;const y=u=>{c||Un();const{shouldUseTimeDampening:v,dragStartTime:f}=c;pw({state:u,scrollWindow:r,scrollDroppable:o,dragStartTime:f,shouldUseTimeDampening:v,getAutoScrollerOptions:n})};return{start:u=>{c&&Un();const v=Date.now();let f=!1;const g=()=>{f=!0};pw({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),c={dragStartTime:v,shouldUseTimeDampening:f},f&&y(u)},stop:()=>{c&&(r.cancel(),o.cancel(),c=null)},scroll:y}},DN=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(d,a)=>{const u=zl(d.current.client.selection,a);e({client:u})},o=(d,a)=>{if(!Tx(d,a))return a;const u=SN(d,a);if(!u)return t(d.descriptor.id,a),null;const v=fc(a,u);return t(d.descriptor.id,v),fc(a,v)},c=(d,a,u)=>{if(!d||!Ax(a,u))return u;const v=CN(a,u);if(!v)return n(u),null;const f=fc(u,v);return n(f),fc(u,f)};return d=>{const a=d.scrollJumpRequest;if(!a)return;const u=hc(d.impact);u||Un();const v=o(d.dimensions.droppables[u],a);if(!v)return;const f=d.viewport,g=c(d.isWindowScrollAllowed,f,v);g&&r(d,g)}},kN=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=TN({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),c=DN({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:a=>{if(!(r().disabled||a.phase!=="DRAGGING")){if(a.movementMode==="FLUID"){o.scroll(a);return}a.scrollJumpRequest&&c(a)}},start:o.start,stop:o.stop}};const _d="data-rfd",Md=(()=>{const e=`${_d}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),ly=(()=>{const e=`${_d}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),_N=(()=>{const e=`${_d}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),mw={contextId:`${_d}-scroll-container-context-id`},MN=e=>t=>`[${t}="${e}"]`,f1=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),ON="pointer-events: none;";var IN=e=>{const t=MN(e),n=(()=>{const d=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Md.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:d,dragging:ON,dropAnimating:d}}})(),r=(()=>{const d=`
      transition: ${O1.outOfTheWay};
    `;return{selector:t(ly.contextId),styles:{dragging:d,dropAnimating:d,userCancel:d}}})(),o={selector:t(_N.contextId),styles:{always:"overflow-anchor: none;"}},y=[r,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:f1(y,"always"),resting:f1(y,"resting"),dragging:f1(y,"dragging"),dropAnimating:f1(y,"dropAnimating"),userCancel:f1(y,"userCancel")}};const dc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Re.useLayoutEffect:Re.useEffect,Xv=()=>{const e=document.querySelector("head");return e||Un(),e},vw=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function RN(e,t){const n=ga(()=>IN(e),[e]),r=Re.useRef(null),o=Re.useRef(null),c=Mr(Tl(f=>{const g=o.current;g||Un(),g.textContent=f}),[]),y=Mr(f=>{const g=r.current;g||Un(),g.textContent=f},[]);dc(()=>{!r.current&&!o.current||Un();const f=vw(t),g=vw(t);return r.current=f,o.current=g,f.setAttribute(`${_d}-always`,e),g.setAttribute(`${_d}-dynamic`,e),Xv().appendChild(f),Xv().appendChild(g),y(n.always),c(n.resting),()=>{const m=C=>{const D=C.current;D||Un(),Xv().removeChild(D),C.current=null};m(r),m(o)}},[t,y,c,n.always,n.resting,e]);const d=Mr(()=>c(n.dragging),[c,n.dragging]),a=Mr(f=>{if(f==="DROP"){c(n.dropAnimating);return}c(n.userCancel)},[c,n.dropAnimating,n.userCancel]),u=Mr(()=>{o.current&&c(n.resting)},[c,n.resting]);return ga(()=>({dragging:d,dropping:a,resting:u}),[d,a,u])}function J8(e,t){return Array.from(e.querySelectorAll(t))}var $8=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ym(e){return e instanceof $8(e).HTMLElement}function NN(e,t){const n=`[${Md.contextId}="${e}"]`,r=J8(document,n);if(!r.length)return null;const o=r.find(c=>c.getAttribute(Md.draggableId)===t);return!o||!ym(o)?null:o}function LN(e){const t=Re.useRef({}),n=Re.useRef(null),r=Re.useRef(null),o=Re.useRef(!1),c=Mr(function(g,m){const C={id:g,focus:m};return t.current[g]=C,function(){const S=t.current;S[g]!==C&&delete S[g]}},[]),y=Mr(function(g){const m=NN(e,g);m&&m!==document.activeElement&&m.focus()},[e]),d=Mr(function(g,m){n.current===g&&(n.current=m)},[]),a=Mr(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&y(g)}))},[y]),u=Mr(function(g){n.current=null;const m=document.activeElement;m&&m.getAttribute(Md.draggableId)===g&&(n.current=g)},[]);return dc(()=>(o.current=!0,function(){o.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),ga(()=>({register:c,tryRecordFocus:u,tryRestoreFocusRecorded:a,tryShiftRecord:d}),[c,u,a,d])}function BN(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(g=>g(f))}function o(f){return e.draggables[f]||null}function c(f){const g=o(f);return g||Un(),g}const y={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,g)=>{const m=e.draggables[g.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const g=f.descriptor.id,m=o(g);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[g],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:c,findById:o,exists:f=>!!o(f),getAllByType:f=>Object.values(e.draggables).filter(g=>g.descriptor.type===f)};function d(f){return e.droppables[f]||null}function a(f){const g=d(f);return g||Un(),g}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const g=d(f.descriptor.id);g&&f.uniqueId===g.uniqueId&&delete e.droppables[f.descriptor.id]},getById:a,findById:d,exists:f=>!!d(f),getAllByType:f=>Object.values(e.droppables).filter(g=>g.descriptor.type===f)};function v(){e.draggables={},e.droppables={},t.length=0}return{draggable:y,droppable:u,subscribe:n,clean:v}}function FN(){const e=ga(BN,[]);return Re.useEffect(()=>function(){e.clean()},[e]),e}var Dx=Dn.createContext(null),Yp=()=>{const e=document.body;return e||Un(),e};const PN={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},zN=e=>`rfd-announcement-${e}`;function HN(e){const t=ga(()=>zN(e),[e]),n=Re.useRef(null);return Re.useEffect(function(){const c=document.createElement("div");return n.current=c,c.id=t,c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),Up(c.style,PN),Yp().appendChild(c),function(){setTimeout(function(){const a=Yp();a.contains(c)&&a.removeChild(c),c===n.current&&(n.current=null)})}},[t]),Mr(o=>{const c=n.current;if(c){c.textContent=o;return}},[])}const UN={separator:"::"};function kx(e,t=UN){const n=Dn.useId();return ga(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function jN({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function WN({contextId:e,text:t}){const n=kx("hidden-text",{separator:"-"}),r=ga(()=>jN({contextId:e,uniqueId:n}),[n,e]);return Re.useEffect(function(){const c=document.createElement("div");return c.id=r,c.textContent=t,c.style.display="none",Yp().appendChild(c),function(){const d=Yp();d.contains(c)&&d.removeChild(c)}},[r,t]),r}var xm=Dn.createContext(null);function e7(e){const t=Re.useRef(e);return Re.useEffect(()=>{t.current=e}),t}function GN(){let e=null;function t(){return!!e}function n(y){return y===e}function r(y){e&&Un();const d={abandon:y};return e=d,d}function o(){e||Un(),e=null}function c(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:n,claim:r,release:o,tryAbandon:c}}function Y1(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const YN=9,XN=13,_x=27,t7=32,VN=33,KN=34,ZN=35,qN=36,QN=37,JN=38,$N=39,eL=40,tL={[XN]:!0,[YN]:!0};var n7=e=>{tL[e.keyCode]&&e.preventDefault()};const bm=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),r7=0,yw=5;function nL(e,t){return Math.abs(t.x-e.x)>=yw||Math.abs(t.y-e.y)>=yw}const xw={type:"IDLE"};function rL({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:c,clientX:y,clientY:d}=o;if(c!==r7)return;const a={x:y,y:d},u=n();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(a);return}u.type!=="PENDING"&&Un();const v=u.point;if(!nL(v,a))return;o.preventDefault();const f=u.actions.fluidLift(a);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:o=>{const c=n();if(c.type!=="DRAGGING"){e();return}o.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){e();return}if(o.keyCode===_x){o.preventDefault(),e();return}n7(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const c=n();if(c.type==="IDLE"&&Un(),c.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:bm,fn:e}]}function iL(e){const t=Re.useRef(xw),n=Re.useRef(Vh),r=ga(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==r7||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const g=e.findClosestDraggableId(f);if(!g)return;const m=e.tryGetLock(g,y,{sourceEvent:f});if(!m)return;f.preventDefault();const C={x:f.clientX,y:f.clientY};n.current(),u(m,C)}}),[e]),o=ga(()=>({eventName:"webkitmouseforcewillbegin",fn:v=>{if(v.defaultPrevented)return;const f=e.findClosestDraggableId(v);if(!f)return;const g=e.findOptionsForDraggable(f);g&&(g.shouldRespectForcePress||e.canGetLock(f)&&v.preventDefault())}}),[e]),c=Mr(function(){const f={passive:!1,capture:!0};n.current=Rc(window,[o,r],f)},[o,r]),y=Mr(()=>{t.current.type!=="IDLE"&&(t.current=xw,n.current(),c())},[c]),d=Mr(()=>{const v=t.current;y(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[y]),a=Mr(function(){const f={capture:!0,passive:!1},g=rL({cancel:d,completed:y,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Rc(window,g,f)},[d,y]),u=Mr(function(f,g){t.current.type!=="IDLE"&&Un(),t.current={type:"PENDING",point:g,actions:f},a()},[a]);dc(function(){return c(),function(){n.current()}},[c])}function aL(){}const oL={[KN]:!0,[VN]:!0,[qN]:!0,[ZN]:!0};function sL(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===_x){o.preventDefault(),n();return}if(o.keyCode===t7){o.preventDefault(),r();return}if(o.keyCode===eL){o.preventDefault(),e.moveDown();return}if(o.keyCode===JN){o.preventDefault(),e.moveUp();return}if(o.keyCode===$N){o.preventDefault(),e.moveRight();return}if(o.keyCode===QN){o.preventDefault(),e.moveLeft();return}if(oL[o.keyCode]){o.preventDefault();return}n7(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:bm,fn:n}]}function lL(e){const t=Re.useRef(aL),n=ga(()=>({eventName:"keydown",fn:function(c){if(c.defaultPrevented||c.keyCode!==t7)return;const y=e.findClosestDraggableId(c);if(!y)return;const d=e.tryGetLock(y,v,{sourceEvent:c});if(!d)return;c.preventDefault();let a=!0;const u=d.snapLift();t.current();function v(){a||Un(),a=!1,t.current(),r()}t.current=Rc(window,sL(u,v),{capture:!0,passive:!1})}}),[e]),r=Mr(function(){const c={passive:!1,capture:!0};t.current=Rc(window,[n],c)},[n]);dc(function(){return r(),function(){t.current()}},[r])}const Vv={type:"IDLE"},uL=120,cL=.15;function fL({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===_x&&n.preventDefault(),e()}},{eventName:bm,fn:e}]}function hL({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:c,clientY:y}=r.touches[0],d={x:c,y};r.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=n();o.type==="IDLE"&&Un();const c=r.touches[0];if(!c||!(c.force>=cL))return;const d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:bm,fn:e}]}function dL(e){const t=Re.useRef(Vv),n=Re.useRef(Vh),r=Mr(function(){return t.current},[]),o=Mr(function(m){t.current=m},[]),c=ga(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const C=e.findClosestDraggableId(m);if(!C)return;const D=e.tryGetLock(C,d,{sourceEvent:m});if(!D)return;const S=m.touches[0],{clientX:O,clientY:N}=S,U={x:O,y:N};n.current(),f(D,U)}}),[e]),y=Mr(function(){const m={capture:!0,passive:!1};n.current=Rc(window,[c],m)},[c]),d=Mr(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),o(Vv),n.current(),y())},[y,o]),a=Mr(()=>{const g=t.current;d(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[d]),u=Mr(function(){const m={capture:!0,passive:!1},C={cancel:a,completed:d,getPhase:r},D=Rc(window,hL(C),m),S=Rc(window,fL(C),m);n.current=function(){D(),S()}},[a,r,d]),v=Mr(function(){const m=r();m.type!=="PENDING"&&Un();const C=m.actions.fluidLift(m.point);o({type:"DRAGGING",actions:C,hasMoved:!1})},[r,o]),f=Mr(function(m,C){r().type!=="IDLE"&&Un();const D=setTimeout(v,uL);o({type:"PENDING",point:C,actions:m,longPressTimerId:D}),u()},[u,r,o,v]);dc(function(){return y(),function(){n.current();const C=r();C.type==="PENDING"&&(clearTimeout(C.longPressTimerId),o(Vv))}},[r,y,o]),dc(function(){return Rc(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const gL=["input","button","textarea","select","option","optgroup","video","audio"];function i7(e,t){if(t==null)return!1;if(gL.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:i7(e,t.parentElement)}function pL(e,t){const n=t.target;return ym(n)?i7(e,n):!1}var mL=e=>af(e.getBoundingClientRect()).center;function vL(e){return e instanceof $8(e).Element}const yL=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function a7(e,t){return e==null?null:e[yL](t)?e:a7(e.parentElement,t)}function xL(e,t){return e.closest?e.closest(t):a7(e,t)}function bL(e){return`[${Md.contextId}="${e}"]`}function wL(e,t){const n=t.target;if(!vL(n))return null;const r=bL(e),o=xL(n,r);return!o||!ym(o)?null:o}function CL(e,t){const n=wL(e,t);return n?n.getAttribute(Md.draggableId):null}function SL(e,t){const n=`[${ly.contextId}="${e}"]`,o=J8(document,n).find(c=>c.getAttribute(ly.id)===t);return!o||!ym(o)?null:o}function EL(e){e.preventDefault()}function Wg({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function o7({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!(!o||!o.options.isEnabled||!K8(t.getState(),r))}function AL({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:c,sourceEvent:y}){if(!o7({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const a=r.draggable.getById(o),u=SL(t,a.descriptor.id);if(!u||y&&!a.options.canDragInteractiveElements&&pL(u,y))return null;const v=e.claim(c||Vh);let f="PRE_DRAG";function g(){return a.options.shouldRespectForcePress}function m(){return e.isActive(v)}function C(q,J){Wg({expected:q,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(J())}const D=C.bind(null,"DRAGGING");function S(q){function J(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(J(),Un()),n.dispatch(xR(q.liftActionArgs)),f="DRAGGING";function ne(ve,Se={shouldBlockNextClick:!1}){if(q.cleanup(),Se.shouldBlockNextClick){const Be=Rc(window,[{eventName:"click",fn:EL,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Be)}J(),n.dispatch(H8({reason:ve}))}return{isActive:()=>Wg({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:g,drop:ve=>ne("DROP",ve),cancel:ve=>ne("CANCEL",ve),...q.actions}}function O(q){const J=z1(ve=>{D(()=>z8({client:ve}))});return{...S({liftActionArgs:{id:o,clientSelection:q,movementMode:"FLUID"},cleanup:()=>J.cancel(),actions:{move:J}}),move:J}}function N(){const q={moveUp:()=>D(kR),moveRight:()=>D(MR),moveDown:()=>D(_R),moveLeft:()=>D(OR)};return S({liftActionArgs:{id:o,clientSelection:mL(u),movementMode:"SNAP"},cleanup:Vh,actions:q})}function U(){Wg({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>Wg({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:O,snapLift:N,abort:U}}const TL=[iL,lL,dL];function DL({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const c=[...o?TL:[],...r||[]],y=Re.useState(()=>GN())[0],d=Mr(function(S,O){Y1(S)&&!Y1(O)&&y.tryAbandon()},[y]);dc(function(){let S=t.getState();return t.subscribe(()=>{const N=t.getState();d(S,N),S=N})},[y,t,d]),dc(()=>y.tryAbandon,[y.tryAbandon]);const a=Mr(D=>o7({lockAPI:y,registry:n,store:t,draggableId:D}),[y,n,t]),u=Mr((D,S,O)=>AL({lockAPI:y,registry:n,contextId:e,store:t,draggableId:D,forceSensorStop:S||null,sourceEvent:O&&O.sourceEvent?O.sourceEvent:null}),[e,y,n,t]),v=Mr(D=>CL(e,D),[e]),f=Mr(D=>{const S=n.draggable.findById(D);return S?S.options:null},[n.draggable]),g=Mr(function(){y.isClaimed()&&(y.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(bx()))},[y,t]),m=Mr(()=>y.isClaimed(),[y]),C=ga(()=>({canGetLock:a,tryGetLock:u,findClosestDraggableId:v,findOptionsForDraggable:f,tryReleaseLock:g,isLockClaimed:m}),[a,u,v,f,g,m]);for(let D=0;D<c.length;D++)c[D](C)}const kL=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};om.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),_L=e=>({...G1,...e.autoScrollerOptions,durationDampening:{...G1.durationDampening,...e.autoScrollerOptions}});function h1(e){return e.current||Un(),e.current}function ML(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:c}=e,y=Re.useRef(null),d=e7(e),a=Mr(()=>kL(d.current),[d]),u=Mr(()=>_L(d.current),[d]),v=HN(t),f=WN({contextId:t,text:c}),g=RN(t,o),m=Mr(Be=>{h1(y).dispatch(Be)},[]),C=ga(()=>Y3({publishWhileDragging:wR,updateDroppableScroll:SR,updateDroppableIsEnabled:ER,updateDroppableIsCombineEnabled:AR,collectionStarting:CR},m),[m]),D=FN(),S=ga(()=>fN(D,C),[D,C]),O=ga(()=>kN({scrollWindow:hN,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:u,...Y3({move:z8},m)}),[S.scrollDroppable,m,u]),N=LN(t),U=ga(()=>sN({announce:v,autoScroller:O,dimensionMarshal:S,focusMarshal:N,getResponders:a,styleMarshal:g}),[v,O,S,N,a,g]);y.current=U;const W=Mr(()=>{const Be=h1(y);Be.getState().phase!=="IDLE"&&Be.dispatch(bx())},[]),q=Mr(()=>{const Be=h1(y).getState();return Be.phase==="DROP_ANIMATING"?!0:Be.phase==="IDLE"?!1:Be.isDragging},[]),J=ga(()=>({isDragging:q,tryAbort:W}),[q,W]);n(J);const ne=Mr(Be=>K8(h1(y).getState(),Be),[]),ve=Mr(()=>T0(h1(y).getState()),[]),Se=ga(()=>({marshal:S,focus:N,contextId:t,canLift:ne,isMovementAllowed:ve,dragHandleUsageInstructionsId:f,registry:D}),[t,S,f,N,ne,ve,D]);return DL({contextId:t,store:U,registry:D,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),Re.useEffect(()=>W,[W]),Dn.createElement(xm.Provider,{value:Se},Dn.createElement(tI,{context:Dx,store:U},e.children))}function OL(){return Dn.useId()}function s7(e){const t=OL(),n=e.dragHandleUsageInstructions||vp.dragHandleUsageInstructions;return Dn.createElement(lI,null,r=>Dn.createElement(ML,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const bw={dragging:5e3,dropAnimating:4500},IL=(e,t)=>t?O1.drop(t.duration):e?O1.snap:O1.fluid,RL=(e,t)=>{if(e)return t?W1.opacity.drop:W1.opacity.combining},NL=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function LL(e){const n=e.dimension.client,{offset:r,combineWith:o,dropping:c}=e,y=!!o,d=NL(e),a=!!c,u=a?oy.drop(r,y):oy.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:IL(d,c),transform:u,opacity:RL(y,a),zIndex:a?bw.dropAnimating:bw.dragging,pointerEvents:"none"}}function BL(e){return{transform:oy.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function FL(e){return e.type==="DRAGGING"?LL(e):BL(e)}function PL(e,t,n=Dl){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),c=d8(o,r),y=Hp(c,n),d={client:c,tagName:t.tagName.toLowerCase(),display:r.display},a={x:c.marginBox.width,y:c.marginBox.height};return{descriptor:e,placeholder:d,displaceBy:a,client:c,page:y}}function zL(e){const t=kx("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:c,shouldRespectForcePress:y,isEnabled:d}=e,a=ga(()=>({canDragInteractiveElements:c,shouldRespectForcePress:y,isEnabled:d}),[c,d,y]),u=Mr(m=>{const C=o();return C||Un(),PL(n,C,m)},[n,o]),v=ga(()=>({uniqueId:t,descriptor:n,options:a,getDimension:u}),[n,u,a,t]),f=Re.useRef(v),g=Re.useRef(!0);dc(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),dc(()=>{if(g.current){g.current=!1;return}const m=f.current;f.current=v,r.draggable.update(v,m)},[v,r.draggable])}var Mx=Dn.createContext(null);function Xp(e){const t=Re.useContext(e);return t||Un(),t}function HL(e){e.preventDefault()}const UL=e=>{const t=Re.useRef(null),n=Mr((J=null)=>{t.current=J},[]),r=Mr(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:c,registry:y}=Xp(xm),{type:d,droppableId:a}=Xp(Mx),u=ga(()=>({id:e.draggableId,index:e.index,type:d,droppableId:a}),[e.draggableId,e.index,d,a]),{children:v,draggableId:f,isEnabled:g,shouldRespectForcePress:m,canDragInteractiveElements:C,isClone:D,mapped:S,dropAnimationFinished:O}=e;if(!D){const J=ga(()=>({descriptor:u,registry:y,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:m,isEnabled:g}),[u,y,r,C,m,g]);zL(J)}const N=ga(()=>g?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:HL}:null,[o,c,f,g]),U=Mr(J=>{S.type==="DRAGGING"&&S.dropping&&J.propertyName==="transform"&&om.flushSync(O)},[O,S]),W=ga(()=>{const J=FL(S),ne=S.type==="DRAGGING"&&S.dropping?U:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":f,style:J,onTransitionEnd:ne},dragHandleProps:N}},[o,N,f,S,U,n]),q=ga(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Dn.createElement(Dn.Fragment,null,v(W,S.snapshot,q))};var l7=(e,t)=>e===t,u7=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const jL=e=>e.combine?e.combine.draggableId:null,WL=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function GL(){const e=Tl((o,c)=>({x:o,y:c})),t=Tl((o,c,y=null,d=null,a=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!a,dropAnimation:a,mode:o,draggingOver:y,combineWith:d,combineTargetFor:null})),n=Tl((o,c,y,d,a=null,u=null,v=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:u,mode:c,offset:o,dimension:y,forceShouldAnimate:v,snapshot:t(c,d,a,u,null)}}));return(o,c)=>{if(Y1(o)){if(o.critical.draggable.id!==c.draggableId)return null;const y=o.current.client.offset,d=o.dimensions.draggables[c.draggableId],a=hc(o.impact),u=WL(o.impact),v=o.forceShouldAnimate;return n(e(y.x,y.y),o.movementMode,d,c.isClone,a,u,v)}if(o.phase==="DROP_ANIMATING"){const y=o.completed;if(y.result.draggableId!==c.draggableId)return null;const d=c.isClone,a=o.dimensions.draggables[c.draggableId],u=y.result,v=u.mode,f=u7(u),g=jL(u),C={duration:o.dropDuration,curve:Cx.drop,moveTo:o.newHomeClientOffset,opacity:g?W1.opacity.drop:null,scale:g?W1.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:a,dropping:C,draggingOver:f,combineWith:g,mode:v,forceShouldAnimate:null,snapshot:t(v,d,f,g,C)}}}return null}}function c7(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const YL={mapped:{type:"SECONDARY",offset:Dl,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:c7(null)}};function XL(){const e=Tl((y,d)=>({x:y,y:d})),t=Tl(c7),n=Tl((y,d=null,a)=>({mapped:{type:"SECONDARY",offset:y,combineTargetFor:d,shouldAnimateDisplacement:a,snapshot:t(d)}})),r=y=>y?n(Dl,y,!0):null,o=(y,d,a,u)=>{const v=a.displaced.visible[y],f=!!(u.inVirtualList&&u.effected[y]),g=pm(a),m=g&&g.draggableId===y?d:null;if(!v){if(!f)return r(m);if(a.displaced.invisible[y])return null;const S=Pd(u.displacedBy.point),O=e(S.x,S.y);return n(O,m,!0)}if(f)return r(m);const C=a.displacedBy.point,D=e(C.x,C.y);return n(D,m,v.shouldAnimate)};return(y,d)=>{if(Y1(y))return y.critical.draggable.id===d.draggableId?null:o(d.draggableId,y.critical.draggable.id,y.impact,y.afterCritical);if(y.phase==="DROP_ANIMATING"){const a=y.completed;return a.result.draggableId===d.draggableId?null:o(d.draggableId,a.result.draggableId,a.impact,a.afterCritical)}return null}}const VL=()=>{const e=GL(),t=XL();return(r,o)=>e(r,o)||t(r,o)||YL},KL={dropAnimationFinished:U8},ZL=h8(VL,KL,null,{context:Dx,areStatePropsEqual:l7})(UL);function f7(e){return Xp(Mx).isUsingCloneFor===e.draggableId&&!e.isClone?null:Dn.createElement(ZL,e)}function uy(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Dn.createElement(f7,Up({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const h7=e=>t=>e===t,qL=h7("scroll"),QL=h7("auto"),ww=(e,t)=>t(e.overflowX)||t(e.overflowY),JL=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return ww(n,qL)||ww(n,QL)},$L=()=>!1,d7=e=>e==null?null:e===document.body?$L()?e:null:e===document.documentElement?null:JL(e)?e:d7(e.parentElement);var cy=e=>({x:e.scrollLeft,y:e.scrollTop});const g7=e=>e?window.getComputedStyle(e).position==="fixed"?!0:g7(e.parentElement):!1;var eB=e=>{const t=d7(e),n=g7(e);return{closestScrollable:t,isFixedOnPage:n}},tB=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:c,page:y,closest:d})=>{const a=(()=>{if(!d)return null;const{scrollSize:g,client:m}=d,C=Y8({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:m,scrollSize:g,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:C,diff:{value:Dl,displacement:Dl}}}})(),u=o==="vertical"?px:E8,v=kd({page:y,withPlaceholder:null,axis:u,frame:a});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:c,page:y,frame:a,subject:v}};const nB=(e,t)=>{const n=g8(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,c=r+t.scrollHeight,y=o+t.scrollWidth,a=fx({top:r,right:y,bottom:c,left:o},n.border);return hx({borderBox:a,margin:n.margin,border:n.border,padding:n.padding})};var rB=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:c,isCombineEnabled:y,shouldClipSubject:d})=>{const a=n.closestScrollable,u=nB(e,a),v=Hp(u,r),f=(()=>{if(!a)return null;const m=g8(a),C={scrollHeight:a.scrollHeight,scrollWidth:a.scrollWidth};return{client:m,page:Hp(m,r),scroll:cy(a),scrollSize:C,shouldClipSubject:d}})();return tB({descriptor:t,isEnabled:!c,isCombineEnabled:y,isFixedOnPage:n.isFixedOnPage,direction:o,client:u,page:v,closest:f})};const iB={passive:!1},aB={passive:!0};var Cw=e=>e.shouldPublishImmediately?iB:aB;const Gg=e=>e&&e.env.closestScrollable||null;function oB(e){const t=Re.useRef(null),n=Xp(xm),r=kx("droppable"),{registry:o,marshal:c}=n,y=e7(e),d=ga(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),a=Re.useRef(d),u=ga(()=>Tl((W,q)=>{t.current||Un();const J={x:W,y:q};c.updateDroppableScroll(d.id,J)}),[d.id,c]),v=Mr(()=>{const W=t.current;return!W||!W.env.closestScrollable?Dl:cy(W.env.closestScrollable)},[]),f=Mr(()=>{const W=v();u(W.x,W.y)},[v,u]),g=ga(()=>z1(f),[f]),m=Mr(()=>{const W=t.current,q=Gg(W);if(W&&q||Un(),W.scrollOptions.shouldPublishImmediately){f();return}g()},[g,f]),C=Mr((W,q)=>{t.current&&Un();const J=y.current,ne=J.getDroppableRef();ne||Un();const ve=eB(ne),Se={ref:ne,descriptor:d,env:ve,scrollOptions:q};t.current=Se;const Be=rB({ref:ne,descriptor:d,env:ve,windowScroll:W,direction:J.direction,isDropDisabled:J.isDropDisabled,isCombineEnabled:J.isCombineEnabled,shouldClipSubject:!J.ignoreContainerClipping}),Ue=ve.closestScrollable;return Ue&&(Ue.setAttribute(mw.contextId,n.contextId),Ue.addEventListener("scroll",m,Cw(Se.scrollOptions))),Be},[n.contextId,d,m,y]),D=Mr(()=>{const W=t.current,q=Gg(W);return W&&q||Un(),cy(q)},[]),S=Mr(()=>{const W=t.current;W||Un();const q=Gg(W);t.current=null,q&&(g.cancel(),q.removeAttribute(mw.contextId),q.removeEventListener("scroll",m,Cw(W.scrollOptions)))},[m,g]),O=Mr(W=>{const q=t.current;q||Un();const J=Gg(q);J||Un(),J.scrollTop+=W.y,J.scrollLeft+=W.x},[]),N=ga(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:D,dragStopped:S,scroll:O}),[S,C,D,O]),U=ga(()=>({uniqueId:r,descriptor:d,callbacks:N}),[N,d,r]);dc(()=>(a.current=U.descriptor,o.droppable.register(U),()=>{t.current&&S(),o.droppable.unregister(U)}),[N,d,S,U,c,o.droppable]),dc(()=>{t.current&&c.updateDroppableIsEnabled(a.current.id,!e.isDropDisabled)},[e.isDropDisabled,c]),dc(()=>{t.current&&c.updateDroppableIsCombineEnabled(a.current.id,e.isCombineEnabled)},[e.isCombineEnabled,c])}function Kv(){}const Sw={width:0,height:0,margin:pI},sB=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Sw:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},lB=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=sB({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?O1.placeholder:null}},uB=e=>{const t=Re.useRef(null),n=Mr(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:c,contextId:y}=e,[d,a]=Re.useState(e.animate==="open");Re.useEffect(()=>d?r!=="open"?(n(),a(!1),Kv):t.current?Kv:(t.current=setTimeout(()=>{t.current=null,a(!1)}),n):Kv,[r,d,n]);const u=Mr(f=>{f.propertyName==="height"&&(o(),r==="close"&&c())},[r,c,o]),v=lB({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return Dn.createElement(e.placeholder.tagName,{style:v,"data-rfd-placeholder-context-id":y,onTransitionEnd:u,ref:e.innerRef})};var cB=Dn.memo(uB);class fB extends Dn.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const hB=e=>{const t=Re.useContext(xm);t||Un();const{contextId:n,isMovementAllowed:r}=t,o=Re.useRef(null),c=Re.useRef(null),{children:y,droppableId:d,type:a,mode:u,direction:v,ignoreContainerClipping:f,isDropDisabled:g,isCombineEnabled:m,snapshot:C,useClone:D,updateViewportMaxScroll:S,getContainerForClone:O}=e,N=Mr(()=>o.current,[]),U=Mr((Ue=null)=>{o.current=Ue},[]);Mr(()=>c.current,[]);const W=Mr((Ue=null)=>{c.current=Ue},[]),q=Mr(()=>{r()&&S({maxScroll:V8()})},[r,S]);oB({droppableId:d,type:a,mode:u,direction:v,isDropDisabled:g,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:N});const J=ga(()=>Dn.createElement(fB,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:Ue,data:qe,animate:mt})=>Dn.createElement(cB,{placeholder:qe,onClose:Ue,innerRef:W,animate:mt,contextId:n,onTransitionEnd:q})),[n,q,e.placeholder,e.shouldAnimatePlaceholder,W]),ne=ga(()=>({innerRef:U,placeholder:J,droppableProps:{"data-rfd-droppable-id":d,"data-rfd-droppable-context-id":n}}),[n,d,J,U]),ve=D?D.dragging.draggableId:null,Se=ga(()=>({droppableId:d,type:a,isUsingCloneFor:ve}),[d,ve,a]);function Be(){if(!D)return null;const{dragging:Ue,render:qe}=D,mt=Dn.createElement(f7,{draggableId:Ue.draggableId,index:Ue.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ut,ge)=>qe(ut,ge,Ue));return UD.createPortal(mt,O())}return Dn.createElement(Mx.Provider,{value:Se},y(ne,C),Be())};function dB(){return document.body||Un(),document.body}const Ew={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:dB},p7=e=>{let t={...e},n;for(n in Ew)e[n]===void 0&&(t={...t,[n]:Ew[n]});return t},Zv=(e,t)=>e===t.droppable.type,Aw=(e,t)=>t.draggables[e.draggable.id],gB=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Tl(c=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),r=Tl((c,y,d,a,u,v)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===c){const C=v?{render:v,dragging:n(u.descriptor)}:null,D={isDraggingOver:d,draggingOverWith:d?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:D,useClone:C}}if(!y)return t;if(!a)return e;const m={isDraggingOver:d,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(c,y)=>{const d=p7(y),a=d.droppableId,u=d.type,v=!d.isDropDisabled,f=d.renderClone;if(Y1(c)){const g=c.critical;if(!Zv(u,g))return t;const m=Aw(g,c.dimensions),C=hc(c.impact)===a;return r(a,v,C,C,m,f)}if(c.phase==="DROP_ANIMATING"){const g=c.completed;if(!Zv(u,g.critical))return t;const m=Aw(g.critical,c.dimensions);return r(a,v,u7(g.result)===a,hc(g.impact)===a,m,f)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){const g=c.completed;if(!Zv(u,g.critical))return t;const m=hc(g.impact)===a,C=!!(g.impact.at&&g.impact.at.type==="COMBINE"),D=g.critical.droppable.id===a;return m?C?e:t:D?e:t}return t}},pB={updateViewportMaxScroll:DR},fy=h8(gB,pB,(e,t,n)=>({...p7(n),...e,...t}),{context:Dx,areStatePropsEqual:l7})(hB),mB=({children:e,touchDelay:t=800,...n})=>{const[r,o]=Re.useState(!1),c=Re.useRef(null),y=Re.useRef(null),d=Re.useRef(!1),a=Re.useRef(null),u=g=>{if(g.nativeEvent._isSynthetic)return;const m=g.touches[0];y.current={x:m.clientX,y:m.clientY},a.current=m,d.current=!1,o(!0),c.current&&window.clearTimeout(c.current),c.current=window.setTimeout(()=>{d.current=!0,o(!1),window.navigator.vibrate&&window.navigator.vibrate(40),setTimeout(()=>{if(d.current&&a.current){const C=g.target,D=a.current,S=new TouchEvent("touchstart",{cancelable:!0,bubbles:!0,touches:[D],targetTouches:[D],changedTouches:[D]});S._isSynthetic=!0,C.dispatchEvent(S)}},50)},t)},v=g=>{if(g.nativeEvent._isSynthetic||!y.current||d.current)return;const m=g.touches[0],C=Math.abs(m.clientX-y.current.x),D=Math.abs(m.clientY-y.current.y);(C>10||D>10)&&(c.current&&(window.clearTimeout(c.current),c.current=null),o(!0))},f=g=>{g.nativeEvent._isSynthetic||(c.current&&(window.clearTimeout(c.current),c.current=null),d.current=!1,setTimeout(()=>{o(!1)},100))};return te.jsx(uy,{...n,isDragDisabled:r,children:(g,m)=>te.jsx("div",{onTouchStart:u,onTouchMove:v,onTouchEnd:f,style:{touchAction:"pan-y",...m.isDragging?{zIndex:9999}:{}},children:e(g,m)})})},vB=({memo:e,index:t,isActive:n,onClick:r,formatDate:o,inThread:c,untitledText:y,isCombineTarget:d})=>{const a=c?`thread-child-${e.id}`:String(e.id);return te.jsx(mB,{draggableId:a,index:t,children:(u,v)=>te.jsx("div",{ref:u.innerRef,...u.draggableProps,...u.dragHandleProps,style:{...u.draggableProps.style,marginBottom:"2px",opacity:v.isDragging?.8:1,transition:"background-color 0.1s ease-out, border-color 0.1s ease-out",borderRadius:"6px",border:d?"2px solid #3b82f6":"2px solid transparent",backgroundColor:d?"rgba(59, 130, 246, 0.05)":"transparent"},children:te.jsxs(JM,{to:`/memo/${e.id}`,$isActive:n,$inThread:c,onClick:()=>r?.(!0),children:[te.jsx($M,{title:e.title||y,children:e.title||y}),te.jsx(eO,{children:o(e.createdAt)})]})})})},m7=6048e5,yB=864e5,Tw=Symbol.for("constructDateFrom");function $h(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Tw in e?e[Tw](t):e instanceof Date?new e.constructor(t):new Date(t)}function cf(e,t){return $h(t||e,e)}let xB={};function wm(){return xB}function X1(e,t){const n=wm(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=cf(e,t?.in),c=o.getDay(),y=(c<r?7:0)+c-r;return o.setDate(o.getDate()-y),o.setHours(0,0,0,0),o}function Vp(e,t){return X1(e,{...t,weekStartsOn:1})}function v7(e,t){const n=cf(e,t?.in),r=n.getFullYear(),o=$h(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const c=Vp(o),y=$h(n,0);y.setFullYear(r,0,4),y.setHours(0,0,0,0);const d=Vp(y);return n.getTime()>=c.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Dw(e){const t=cf(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bB(e,...t){const n=$h.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function kw(e,t){const n=cf(e,t?.in);return n.setHours(0,0,0,0),n}function wB(e,t,n){const[r,o]=bB(n?.in,e,t),c=kw(r),y=kw(o),d=+c-Dw(c),a=+y-Dw(y);return Math.round((d-a)/yB)}function CB(e,t){const n=v7(e,t),r=$h(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Vp(r)}function SB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function EB(e){return!(!SB(e)&&typeof e!="number"||isNaN(+cf(e)))}function AB(e,t){const n=cf(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const TB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DB=(e,t,n)=>{let r;const o=TB[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qv(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_B={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OB={date:qv({formats:kB,defaultWidth:"full"}),time:qv({formats:_B,defaultWidth:"full"}),dateTime:qv({formats:MB,defaultWidth:"full"})},IB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RB=(e,t,n,r)=>IB[e];function d1(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const y=e.defaultFormattingWidth||e.defaultWidth,d=n?.width?String(n.width):y;o=e.formattingValues[d]||e.formattingValues[y]}else{const y=e.defaultWidth,d=n?.width?String(n.width):e.defaultWidth;o=e.values[d]||e.values[y]}const c=e.argumentCallback?e.argumentCallback(t):t;return o[c]}}const NB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HB=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UB={ordinalNumber:HB,era:d1({values:NB,defaultWidth:"wide"}),quarter:d1({values:LB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:d1({values:BB,defaultWidth:"wide"}),day:d1({values:FB,defaultWidth:"wide"}),dayPeriod:d1({values:PB,defaultWidth:"wide",formattingValues:zB,defaultFormattingWidth:"wide"})};function g1(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],c=t.match(o);if(!c)return null;const y=c[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(d)?WB(d,f=>f.test(y)):jB(d,f=>f.test(y));let u;u=e.valueCallback?e.valueCallback(a):a,u=n.valueCallback?n.valueCallback(u):u;const v=t.slice(y.length);return{value:u,rest:v}}}function jB(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function WB(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function GB(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],c=t.match(e.parsePattern);if(!c)return null;let y=e.valueCallback?e.valueCallback(c[0]):c[0];y=n.valueCallback?n.valueCallback(y):y;const d=t.slice(o.length);return{value:y,rest:d}}}const YB=/^(\d+)(th|st|nd|rd)?/i,XB=/\d+/i,VB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KB={any:[/^b/i,/^(a|c)/i]},ZB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qB={any:[/1/i,/2/i,/3/i,/4/i]},QB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$B={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rF={ordinalNumber:GB({matchPattern:YB,parsePattern:XB,valueCallback:e=>parseInt(e,10)}),era:g1({matchPatterns:VB,defaultMatchWidth:"wide",parsePatterns:KB,defaultParseWidth:"any"}),quarter:g1({matchPatterns:ZB,defaultMatchWidth:"wide",parsePatterns:qB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:g1({matchPatterns:QB,defaultMatchWidth:"wide",parsePatterns:JB,defaultParseWidth:"any"}),day:g1({matchPatterns:$B,defaultMatchWidth:"wide",parsePatterns:eF,defaultParseWidth:"any"}),dayPeriod:g1({matchPatterns:tF,defaultMatchWidth:"any",parsePatterns:nF,defaultParseWidth:"any"})},iF={code:"en-US",formatDistance:DB,formatLong:OB,formatRelative:RB,localize:UB,match:rF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aF(e,t){const n=cf(e,t?.in);return wB(n,AB(n))+1}function oF(e,t){const n=cf(e,t?.in),r=+Vp(n)-+CB(n);return Math.round(r/m7)+1}function y7(e,t){const n=cf(e,t?.in),r=n.getFullYear(),o=wm(),c=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,y=$h(t?.in||e,0);y.setFullYear(r+1,0,c),y.setHours(0,0,0,0);const d=X1(y,t),a=$h(t?.in||e,0);a.setFullYear(r,0,c),a.setHours(0,0,0,0);const u=X1(a,t);return+n>=+d?r+1:+n>=+u?r:r-1}function sF(e,t){const n=wm(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=y7(e,t),c=$h(t?.in||e,0);return c.setFullYear(o,0,r),c.setHours(0,0,0,0),X1(c,t)}function lF(e,t){const n=cf(e,t?.in),r=+X1(n,t)-+sF(n,t);return Math.round(r/m7)+1}function Ya(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Hh={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ya(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ya(n+1,2)},d(e,t){return Ya(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ya(e.getHours()%12||12,t.length)},H(e,t){return Ya(e.getHours(),t.length)},m(e,t){return Ya(e.getMinutes(),t.length)},s(e,t){return Ya(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Ya(o,t.length)}},sd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_w={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Hh.y(e,t)},Y:function(e,t,n,r){const o=y7(e,r),c=o>0?o:1-o;if(t==="YY"){const y=c%100;return Ya(y,2)}return t==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ya(c,t.length)},R:function(e,t){const n=v7(e);return Ya(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ya(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ya(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ya(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Hh.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ya(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=lF(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Ya(o,t.length)},I:function(e,t,n){const r=oF(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ya(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Hh.d(e,t)},D:function(e,t,n){const r=aF(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ya(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Ya(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Ya(c,t.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Ya(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=sd.noon:r===0?o=sd.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=sd.evening:r>=12?o=sd.afternoon:r>=4?o=sd.morning:o=sd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Hh.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Hh.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ya(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ya(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Hh.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Hh.s(e,t)},S:function(e,t){return Hh.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ow(r);case"XXXX":case"XX":return D0(r);default:return D0(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ow(r);case"xxxx":case"xx":return D0(r);default:return D0(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Mw(r,":");default:return"GMT"+D0(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Mw(r,":");default:return"GMT"+D0(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Ya(r,t.length)},T:function(e,t,n){return Ya(+e,t.length)}};function Mw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),c=r%60;return c===0?n+String(o):n+String(o)+t+Ya(c,2)}function Ow(e,t){return e%60===0?(e>0?"-":"+")+Ya(Math.abs(e)/60,2):D0(e,t)}function D0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Ya(Math.trunc(r/60),2),c=Ya(r%60,2);return n+o+t+c}const Iw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},x7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},uF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Iw(e,t);let c;switch(r){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",Iw(r,t)).replace("{{time}}",x7(o,t))},cF={p:x7,P:uF},fF=/^D+$/,hF=/^Y+$/,dF=["D","DD","YY","YYYY"];function gF(e){return fF.test(e)}function pF(e){return hF.test(e)}function mF(e,t,n){const r=vF(e,t,n);if(console.warn(r),dF.includes(e))throw new RangeError(r)}function vF(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bF=/^'([^]*?)'?$/,wF=/''/g,CF=/[a-zA-Z]/;function _0(e,t,n){const r=wm(),o=r.locale??iF,c=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,y=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=cf(e,n?.in);if(!EB(d))throw new RangeError("Invalid time value");let a=t.match(xF).map(v=>{const f=v[0];if(f==="p"||f==="P"){const g=cF[f];return g(v,o.formatLong)}return v}).join("").match(yF).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const f=v[0];if(f==="'")return{isToken:!1,value:SF(v)};if(_w[f])return{isToken:!0,value:v};if(f.match(CF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(a=o.localize.preprocessor(d,a));const u={firstWeekContainsDate:c,weekStartsOn:y,locale:o};return a.map(v=>{if(!v.isToken)return v.value;const f=v.value;(pF(f)||gF(f))&&mF(f,t,String(e));const g=_w[f[0]];return g(d,f,o.localize,u)}).join("")}function SF(e){const t=e.match(bF);return t?t[1].replace(wF,"'"):e}const EF=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  backdrop-filter: blur(2px);
`,AF=sn.div`
  background: ${({theme:e})=>e.colors.surface};
  padding: 1.5rem;
  border-radius: 12px;
  width: 90%;
  max-width: 320px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  border: 1px solid ${({theme:e})=>e.colors.border};
`,TF=sn.p`
  margin: 0 0 1.5rem 0;
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  line-height: 1.5;
  text-align: center;
`,DF=sn.div`
  display: flex;
  gap: 0.75rem;
  justify-content: center;
`,Rw=sn.button`
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  border: 1px solid ${({theme:e,$variant:t})=>t==="secondary"?e.colors.border:"transparent"};
  background: ${({theme:e,$variant:t})=>t==="secondary"?"transparent":e.colors.primary};
  color: ${({theme:e,$variant:t})=>t==="secondary"?e.colors.text:"white"};
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
  flex: 1;

  &:hover {
    filter: brightness(0.95);
    background: ${({theme:e,$variant:t})=>t==="secondary"?e.colors.border:e.colors.primary};
  }
`,kF=({isOpen:e,message:t,onConfirm:n,onCancel:r})=>{const{language:o}=uf();return e?te.jsx(EF,{onClick:r,children:te.jsxs(AF,{onClick:c=>c.stopPropagation(),children:[te.jsx(TF,{children:t}),te.jsxs(DF,{children:[te.jsx(Rw,{$variant:"secondary",onClick:r,children:o==="ko"?"":"Cancel"}),te.jsx(Rw,{onClick:n,children:o==="ko"?"":"OK"})]})]})}):null},_F="1.2.0",MF={version:_F},OF=sn.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  .spin {
    animation: spin 1s linear infinite;
  }
`,IF=sn.div`
  padding: 0.5rem 1rem;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  overflow: hidden;

  @media (max-width: 768px) {
    padding: 0.5rem 0.75rem;
  }
`,RF=sn.div`
  position: relative;
  margin-bottom: 0.5rem;
`,NF=sn(b_)`
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  color: ${({theme:e})=>e.colors.textSecondary};
`,LF=sn.input`
  width: 100%;
  padding: 0.5rem 2rem 0.5rem 2rem;
  border-radius: 6px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }

  @media (max-width: 768px) {
    padding: 8px 32px 8px 32px;
    font-size: 14px;
  }
`,BF=sn.button`
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
  border-radius: 50%;
  
  &:hover {
    color: ${({theme:e})=>e.colors.text};
    background-color: ${({theme:e})=>e.colors.surface};
  }
`,Nw=sn.button`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  padding: 6px 12px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  background: ${({theme:e})=>e.colors.primary};
  color: white;
  font-size: 13px;
  font-weight: 600;
  white-space: nowrap;
  flex-shrink: 0;
  
  &:hover {
    background: ${({theme:e})=>e.colors.primaryHover};
  }

  @media (max-width: 768px) {
    padding: 6px 10px;
    font-size: 14px !important;
    max-height: 36px;
    min-width: 36px;
  }
`,FF=sn.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.25rem;
  margin-bottom: 0.5rem;
  overflow: hidden;

  @media (max-width: 768px) {
    gap: 2px;
    flex-wrap: nowrap;
    max-height: 44px;
  }
`,PF=sn.div`
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem;
  scrollbar-width: thin;

  /* Improve drag behavior on touch devices */
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;

  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: ${({theme:e})=>e.colors.border};
    border-radius: 10px;
  }
`,ld=sn.button`
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  padding: 0.25rem;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  
  &:hover {
    background: ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.text};
  }

  @media (max-width: 768px) {
    padding: 4px;
    /* Limit icon button size on mobile regardless of font size */
    width: 32px !important;
    height: 32px !important;
    max-width: 32px;
    max-height: 32px;
    
    svg {
      width: 18px !important;
      height: 18px !important;
    }
  }
`,zF=sn.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 1.25rem 0 1.25rem;
`,HF=sn.div`
  font-size: 1.1rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  letter-spacing: -0.02em;

  @media (max-width: 768px) {
    font-size: 18px;
  }
`,UF=sn.span`
  font-size: 0.75rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  font-weight: 400;
  opacity: 0.8;
  font-variant-numeric: tabular-nums;
`,jF=({onCloseMobile:e})=>{const{searchQuery:t,setSearchQuery:n}=mS(),{t:r,language:o}=uf(),[c,y]=Re.useState("date-desc"),{mode:d,toggleTheme:a,increaseFontSize:u,decreaseFontSize:v,theme:f}=tx(),g=Bd(),m=lf(),[C,D]=Re.useState(!1),[S,O]=Re.useState(!1),[N,U]=Re.useState(!1),[W,q]=Re.useState(null),[J,ne]=Re.useState({isOpen:!1,message:"",onConfirm:()=>{}}),ve=Re.useRef(!1),Se=me=>{me()},{needRefresh:[Be],updateServiceWorker:Ue}=k_({immediate:!1,onRegistered(me){console.log("SW Registered: "+me)},onRegisterError(me){console.log("SW registration error",me)}});Re.useEffect(()=>{ve.current=Be},[Be]);const qe=async()=>{if(!N&&(U(!0),O(!0),Be)){O(!1),q(r.sidebar.update_found);return}if(Be){q(r.sidebar.install_update),setTimeout(()=>{Ue(!0),setTimeout(()=>window.location.reload(),3e3)},500);return}if(!(S&&N))if(O(!0),"serviceWorker"in navigator)try{await(await navigator.serviceWorker.ready).update(),setTimeout(()=>{O(!1),U(!0),ve.current?q(r.sidebar.update_found):q(r.sidebar.up_to_date)},1500)}catch(me){console.error("Error checking for updates:",me),O(!1),q(r.sidebar.check_failed)}else O(!1),q(r.sidebar.pwa_not_supported)},mt=dm(()=>ro.memos.toArray()),ut=Dn.useMemo(()=>{if(!mt)return[];let me=[...mt];if(t){const Ie=t.toLowerCase();if(Ie.startsWith("tag:")){const lt=Ie.slice(4).trim();lt&&(me=me.filter(Me=>Me.tags&&Me.tags.some(ue=>ue.toLowerCase().includes(lt))))}else me=me.filter(lt=>lt.title.toLowerCase().includes(Ie)||lt.content.toLowerCase().includes(Ie)||lt.tags&&lt.tags.some(Me=>Me.toLowerCase().includes(Ie)))}return me.sort((Ie,lt)=>c==="date-desc"?lt.updatedAt.getTime()-Ie.updatedAt.getTime():c==="date-asc"?Ie.updatedAt.getTime()-lt.updatedAt.getTime():c==="title-asc"?(Ie.title||"").localeCompare(lt.title||""):lt.updatedAt.getTime()-Ie.updatedAt.getTime())},[mt,t,c]),ge=Be&&N;return te.jsxs(OF,{children:[te.jsxs(zF,{children:[te.jsx(HF,{children:"HandMemo"}),te.jsxs(UF,{children:["v",MF.version]})]}),te.jsxs(IF,{children:[te.jsxs(FF,{children:[te.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[te.jsx(Nw,{onClick:()=>{Se(()=>{g(`/memo/new?drawing=true&t=${Date.now()}`,{replace:!0,state:{isGuard:!0}}),e(!0)})},title:r.sidebar.add_memo||"Drawing Memo",children:te.jsx(y_,{size:16})}),te.jsx(Nw,{onClick:()=>{Se(()=>{g(`/memo/new?t=${Date.now()}`,{replace:!0,state:{isGuard:!0}}),e(!0)})},title:"Text Memo",children:te.jsx(S_,{size:16})})]}),te.jsxs("div",{style:{display:"flex",gap:"0rem",alignItems:"center",flexShrink:1,minWidth:0,overflow:"hidden"},children:[te.jsx(od,{content:r.sidebar.decrease_font,children:te.jsx(ld,{onClick:v,children:te.jsx(ix,{size:16})})}),te.jsx(od,{content:r.sidebar.increase_font,children:te.jsx(ld,{onClick:u,children:te.jsx(TS,{size:16})})}),te.jsx(od,{content:r.sidebar.sync_data,children:te.jsx(ld,{onClick:()=>{D(!0),e(!0)},children:te.jsx(x_,{size:18})})}),te.jsx(od,{content:ge?r.sidebar.install_update:r.sidebar.check_updates,children:te.jsxs(ld,{onClick:qe,style:{position:"relative"},children:[te.jsx(l_,{size:18,className:S?"spin":""}),ge&&te.jsx("span",{style:{position:"absolute",top:"4px",right:"4px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#ef4444",border:"1px solid white"}})]})}),te.jsx(od,{content:d==="light"?r.sidebar.switch_dark:r.sidebar.switch_light,children:te.jsx(ld,{onClick:a,children:d==="light"?te.jsx(v_,{size:18}):te.jsx(w_,{size:18})})}),te.jsx(od,{content:r.sidebar.settings,children:te.jsx(ld,{onClick:()=>{Se(()=>{g("/settings",{replace:!0,state:{isGuard:!0}}),e(!0)})},children:te.jsx(MS,{size:18})})})]})]}),te.jsxs(RF,{children:[te.jsx(NF,{size:16}),te.jsx(LF,{placeholder:r.sidebar.search,value:t,onChange:me=>n(me.target.value)}),t&&te.jsx(BF,{onClick:()=>n(""),children:te.jsx(tg,{size:14})})]}),te.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:te.jsxs("select",{value:c,onChange:me=>y(me.target.value),style:{flex:1,padding:window.innerWidth<=768?"8px":"0.5rem",fontSize:window.innerWidth<=768?"14px":"inherit",borderRadius:"6px",border:`1px solid ${f.colors.border}`,background:f.colors.surface,color:f.colors.text},children:[te.jsx("option",{value:"date-desc",children:r.sidebar.newest}),te.jsx("option",{value:"date-asc",children:r.sidebar.oldest}),te.jsx("option",{value:"title-asc",children:"Title (A-Z)"})]})})]}),te.jsx(PF,{children:te.jsx(s7,{onDragEnd:()=>{},children:te.jsx(fy,{droppableId:"sidebar-memos",children:me=>te.jsxs("div",{...me.droppableProps,ref:me.innerRef,style:{display:"flex",flexDirection:"column"},children:[ut?.map((Ie,lt)=>te.jsx(vB,{index:lt,memo:Ie,isActive:m.pathname.includes(`/memo/${Ie.id}`),onClick:e,formatDate:Me=>_0(Me,o==="ko"?"yyyy.MM.dd":"MMM d, yyyy"),untitledText:r.sidebar.untitled},Ie.id)),me.placeholder]})})})}),te.jsx(kF,{isOpen:J.isOpen,message:J.message,onConfirm:J.onConfirm,onCancel:()=>ne(me=>({...me,isOpen:!1}))}),te.jsx(KM,{isOpen:C,onClose:()=>D(!1)}),W&&te.jsx(lx,{message:W,onClose:()=>q(null)})]})},WF=sn.div`
  display: flex;
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  ${({$isResizing:e})=>e&&`
    cursor: col-resize;
    user-select: none;
    -webkit-user-select: none;
  `}
`,GF=sn.div`
  width: ${({$width:e})=>e}px;
  min-width: ${({$width:e})=>e}px;
  border-right: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.surface};
  display: flex;
  flex-direction: column;
  transition: transform 0.3s ease, width 0.1s ease;
  position: relative;

  @media (max-width: 768px) {
    /* Use dynamic width on mobile too */
    width: ${({$width:e})=>e}px !important;
    min-width: ${({$width:e})=>e}px !important;
    max-width: 90vw;
    position: absolute;
    z-index: 10;
    height: 100%;
    transform: translateX(${({$isOpen:e})=>e?"0":"-100%"});
  }
`,YF=sn.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  position: relative;
`,XF=sn.div`
  width: 4px;
  cursor: col-resize;
  background: ${({$isResizing:e,theme:t})=>e?t.colors.primary:"transparent"};
  transition: background 0.2s;
  z-index: 15;
  position: absolute;
  right: -2px;
  top: 0;
  bottom: 0;
  touch-action: none;
  display: ${({$isVisible:e})=>e?"block":"none"};

  &::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: -10px;
    right: -10px;
  }

  &:hover {
    background: ${({theme:e})=>e.colors.primary};
    opacity: 0.5;
  }

  @media (max-width: 768px) {
    z-index: 20;
  }
`,VF=sn.div`
  display: none;
  padding: 1rem;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  align-items: center;
  gap: 1rem;

  @media (max-width: 768px) {
    display: flex;
  }
`,KF=sn.div`
  display: none;
  @media (max-width: 768px) {
    display: ${({$isOpen:e})=>e?"block":"none"};
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 5;
  }
`,Lw="handmemo-sidebar-width",ZF=300,Bw=340,Fw=600,Qv=200,Pw=Math.min(400,window.innerWidth*.9),qF=()=>{const[e,t]=Re.useState(()=>/Android/i.test(navigator.userAgent)),[n,r]=Re.useState(()=>{const S=localStorage.getItem(Lw),O=S?parseInt(S,10):ZF;return Math.max(Qv,O)}),[o,c]=Re.useState(!1),[y,d]=Re.useState(window.innerWidth<=768),a=Re.useRef(null),u=Re.useRef(null);Re.useEffect(()=>{const S=()=>d(window.innerWidth<=768);return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const v=Re.useCallback(S=>{"touches"in S?u.current=setTimeout(()=>{c(!0),navigator.vibrate&&navigator.vibrate(50)},500):(S.preventDefault(),c(!0))},[]),f=Re.useCallback(()=>{u.current&&(clearTimeout(u.current),u.current=null),c(!1),localStorage.setItem(Lw,n.toString())},[n]),g=Re.useCallback(S=>{if(o){const O=S.clientX,N=y?Qv:Bw,U=y?Math.min(Pw,window.innerWidth*.9):Fw;O>=N&&O<=U&&r(O)}},[o,y]),m=Re.useCallback(S=>{if(o){S.preventDefault();const O=S.touches[0].clientX,N=y?Qv:Bw,U=y?Math.min(Pw,window.innerWidth*.9):Fw;O>=N&&O<=U&&r(O)}},[o,y]);Re.useEffect(()=>(o?(window.addEventListener("mousemove",g),window.addEventListener("mouseup",f),window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("touchend",f)):(window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",f)),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",f),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",f)}),[o,g,m,f]);const C=Re.useCallback((S,O=!1)=>{t(S),y&&(S?window.history.state?.sidebarOpen||window.history.pushState({sidebarOpen:!0,isGuard:!0},""):O||window.history.state?.sidebarOpen&&window.history.back())},[y]);Re.useEffect(()=>{const S=O=>{y&&t(!!O.state?.sidebarOpen)};return window.addEventListener("popstate",S),()=>window.removeEventListener("popstate",S)},[y]);const D=!y||e;return te.jsxs(WF,{ref:a,$isResizing:o,children:[te.jsx(KF,{$isOpen:e,onClick:()=>C(!1)}),te.jsxs(GF,{$isOpen:e,$width:n,children:[te.jsx(jF,{onCloseMobile:S=>C(!1,S)}),te.jsx(XF,{$isResizing:o,$isVisible:D,onMouseDown:v,onTouchStart:v,onTouchEnd:f})]}),te.jsxs(YF,{children:[te.jsxs(VF,{children:[!e&&te.jsx(p_,{size:24,onClick:()=>C(!0)}),te.jsx("h3",{children:"HandMemo"})]}),te.jsx(rD,{})]})]})};var yp={exports:{}},QF=yp.exports,zw;function vc(){return zw||(zw=1,(function(e,t){(function(n,r){e.exports=r()})(QF,(function(){var n=navigator.userAgent,r=navigator.platform,o=/gecko\/\d/i.test(n),c=/MSIE \d/.test(n),y=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),d=/Edge\/(\d+)/.exec(n),a=c||y||d,u=a&&(c?document.documentMode||6:+(d||y)[1]),v=!d&&/WebKit\//.test(n),f=v&&/Qt\/\d+\.\d+/.test(n),g=!d&&/Chrome\/(\d+)/.exec(n),m=g&&+g[1],C=/Opera\//.test(n),D=/Apple Computer/.test(navigator.vendor),S=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),O=/PhantomJS/.test(n),N=D&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),U=/Android/.test(n),W=N||U||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),q=N||/Mac/.test(r),J=/\bCrOS\b/.test(n),ne=/win/i.test(r),ve=C&&n.match(/Version\/(\d*\.\d*)/);ve&&(ve=Number(ve[1])),ve&&ve>=15&&(C=!1,v=!0);var Se=q&&(f||C&&(ve==null||ve<12.11)),Be=o||a&&u>=9;function Ue(l){return new RegExp("(^|\\s)"+l+"(?:$|\\s)\\s*")}var qe=function(l,x){var M=l.className,_=Ue(x).exec(M);if(_){var F=M.slice(_.index+_[0].length);l.className=M.slice(0,_.index)+(F?_[1]+F:"")}};function mt(l){for(var x=l.childNodes.length;x>0;--x)l.removeChild(l.firstChild);return l}function ut(l,x){return mt(l).appendChild(x)}function ge(l,x,M,_){var F=document.createElement(l);if(M&&(F.className=M),_&&(F.style.cssText=_),typeof x=="string")F.appendChild(document.createTextNode(x));else if(x)for(var X=0;X<x.length;++X)F.appendChild(x[X]);return F}function me(l,x,M,_){var F=ge(l,x,M,_);return F.setAttribute("role","presentation"),F}var Ie;document.createRange?Ie=function(l,x,M,_){var F=document.createRange();return F.setEnd(_||l,M),F.setStart(l,x),F}:Ie=function(l,x,M){var _=document.body.createTextRange();try{_.moveToElementText(l.parentNode)}catch{return _}return _.collapse(!0),_.moveEnd("character",M),_.moveStart("character",x),_};function lt(l,x){if(x.nodeType==3&&(x=x.parentNode),l.contains)return l.contains(x);do if(x.nodeType==11&&(x=x.host),x==l)return!0;while(x=x.parentNode)}function Me(l){var x=l.ownerDocument||l,M;try{M=l.activeElement}catch{M=x.body||null}for(;M&&M.shadowRoot&&M.shadowRoot.activeElement;)M=M.shadowRoot.activeElement;return M}function ue(l,x){var M=l.className;Ue(x).test(M)||(l.className+=(M?" ":"")+x)}function ce(l,x){for(var M=l.split(" "),_=0;_<M.length;_++)M[_]&&!Ue(M[_]).test(x)&&(x+=" "+M[_]);return x}var oe=function(l){l.select()};N?oe=function(l){l.selectionStart=0,l.selectionEnd=l.value.length}:a&&(oe=function(l){try{l.select()}catch{}});function Z(l){return l.display.wrapper.ownerDocument}function be(l){return Te(l.display.wrapper)}function Te(l){return l.getRootNode?l.getRootNode():l.ownerDocument}function Fe(l){return Z(l).defaultView}function ct(l){var x=Array.prototype.slice.call(arguments,1);return function(){return l.apply(null,x)}}function At(l,x,M){x||(x={});for(var _ in l)l.hasOwnProperty(_)&&(M!==!1||!x.hasOwnProperty(_))&&(x[_]=l[_]);return x}function rt(l,x,M,_,F){x==null&&(x=l.search(/[^\s\u00a0]/),x==-1&&(x=l.length));for(var X=_||0,ie=F||0;;){var fe=l.indexOf("	",X);if(fe<0||fe>=x)return ie+(x-X);ie+=fe-X,ie+=M-ie%M,X=fe+1}}var jt=function(){this.id=null,this.f=null,this.time=0,this.handler=ct(this.onTimeout,this)};jt.prototype.onTimeout=function(l){l.id=0,l.time<=+new Date?l.f():setTimeout(l.handler,l.time-+new Date)},jt.prototype.set=function(l,x){this.f=x;var M=+new Date+l;(!this.id||M<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,l),this.time=M)};function _t(l,x){for(var M=0;M<l.length;++M)if(l[M]==x)return M;return-1}var Wt=50,ft={toString:function(){return"CodeMirror.Pass"}},kt={scroll:!1},Dt={origin:"*mouse"},tn={origin:"+move"};function zt(l,x,M){for(var _=0,F=0;;){var X=l.indexOf("	",_);X==-1&&(X=l.length);var ie=X-_;if(X==l.length||F+ie>=x)return _+Math.min(ie,x-F);if(F+=X-_,F+=M-F%M,_=X+1,F>=x)return _}}var Ut=[""];function Kt(l){for(;Ut.length<=l;)Ut.push(un(Ut)+" ");return Ut[l]}function un(l){return l[l.length-1]}function Xt(l,x){for(var M=[],_=0;_<l.length;_++)M[_]=x(l[_],_);return M}function Zt(l,x,M){for(var _=0,F=M(x);_<l.length&&M(l[_])<=F;)_++;l.splice(_,0,x)}function Bn(){}function gt(l,x){var M;return Object.create?M=Object.create(l):(Bn.prototype=l,M=new Bn),x&&At(x,M),M}var dt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Pe(l){return/\w/.test(l)||l>""&&(l.toUpperCase()!=l.toLowerCase()||dt.test(l))}function xe(l,x){return x?x.source.indexOf("\\w")>-1&&Pe(l)?!0:x.test(l):Pe(l)}function Ee(l){for(var x in l)if(l.hasOwnProperty(x)&&l[x])return!1;return!0}var Ze=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(l){return l.charCodeAt(0)>=768&&Ze.test(l)}function we(l,x,M){for(;(M<0?x>0:x<l.length)&&re(l.charAt(x));)x+=M;return x}function Ve(l,x,M){for(var _=x>M?-1:1;;){if(x==M)return x;var F=(x+M)/2,X=_<0?Math.ceil(F):Math.floor(F);if(X==x)return l(X)?x:M;l(X)?M=X:x=X+_}}function it(l,x,M,_){if(!l)return _(x,M,"ltr",0);for(var F=!1,X=0;X<l.length;++X){var ie=l[X];(ie.from<M&&ie.to>x||x==M&&ie.to==x)&&(_(Math.max(ie.from,x),Math.min(ie.to,M),ie.level==1?"rtl":"ltr",X),F=!0)}F||_(x,M,"ltr")}var We=null;function Ct(l,x,M){var _;We=null;for(var F=0;F<l.length;++F){var X=l[F];if(X.from<x&&X.to>x)return F;X.to==x&&(X.from!=X.to&&M=="before"?_=F:We=F),X.from==x&&(X.from!=X.to&&M!="before"?_=F:We=F)}return _??We}var Ye=(function(){var l="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",x="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function M(ke){return ke<=247?l.charAt(ke):1424<=ke&&ke<=1524?"R":1536<=ke&&ke<=1785?x.charAt(ke-1536):1774<=ke&&ke<=2220?"r":8192<=ke&&ke<=8203?"w":ke==8204?"b":"L"}var _=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,F=/[stwN]/,X=/[LRr]/,ie=/[Lb1n]/,fe=/[1n]/;function ye(ke,et,st){this.level=ke,this.from=et,this.to=st}return function(ke,et){var st=et=="ltr"?"L":"R";if(ke.length==0||et=="ltr"&&!_.test(ke))return!1;for(var Pt=ke.length,Mt=[],an=0;an<Pt;++an)Mt.push(M(ke.charCodeAt(an)));for(var gn=0,Tn=st;gn<Pt;++gn){var Fn=Mt[gn];Fn=="m"?Mt[gn]=Tn:Tn=Fn}for(var zn=0,wn=st;zn<Pt;++zn){var Kn=Mt[zn];Kn=="1"&&wn=="r"?Mt[zn]="n":X.test(Kn)&&(wn=Kn,Kn=="r"&&(Mt[zn]="R"))}for(var Cr=1,dr=Mt[0];Cr<Pt-1;++Cr){var ii=Mt[Cr];ii=="+"&&dr=="1"&&Mt[Cr+1]=="1"?Mt[Cr]="1":ii==","&&dr==Mt[Cr+1]&&(dr=="1"||dr=="n")&&(Mt[Cr]=dr),dr=ii}for(var Wi=0;Wi<Pt;++Wi){var bs=Mt[Wi];if(bs==",")Mt[Wi]="N";else if(bs=="%"){var oo=void 0;for(oo=Wi+1;oo<Pt&&Mt[oo]=="%";++oo);for(var Gs=Wi&&Mt[Wi-1]=="!"||oo<Pt&&Mt[oo]=="1"?"1":"N",yo=Wi;yo<oo;++yo)Mt[yo]=Gs;Wi=oo-1}}for(var Wo=0,ul=st;Wo<Pt;++Wo){var Ns=Mt[Wo];ul=="L"&&Ns=="1"?Mt[Wo]="L":X.test(Ns)&&(ul=Ns)}for(var Go=0;Go<Pt;++Go)if(F.test(Mt[Go])){var Ro=void 0;for(Ro=Go+1;Ro<Pt&&F.test(Mt[Ro]);++Ro);for(var eo=(Go?Mt[Go-1]:st)=="L",Sl=(Ro<Pt?Mt[Ro]:st)=="L",Ql=eo==Sl?eo?"L":"R":st,ja=Go;ja<Ro;++ja)Mt[ja]=Ql;Go=Ro-1}for(var Ls=[],tc,Pi=0;Pi<Pt;)if(ie.test(Mt[Pi])){var Yd=Pi;for(++Pi;Pi<Pt&&ie.test(Mt[Pi]);++Pi);Ls.push(new ye(0,Yd,Pi))}else{var kc=Pi,kf=Ls.length,ba=et=="rtl"?1:0;for(++Pi;Pi<Pt&&Mt[Pi]!="L";++Pi);for(var Ta=kc;Ta<Pi;)if(fe.test(Mt[Ta])){kc<Ta&&(Ls.splice(kf,0,new ye(1,kc,Ta)),kf+=ba);var Jl=Ta;for(++Ta;Ta<Pi&&fe.test(Mt[Ta]);++Ta);Ls.splice(kf,0,new ye(2,Jl,Ta)),kf+=ba,kc=Ta}else++Ta;kc<Pi&&Ls.splice(kf,0,new ye(1,kc,Pi))}return et=="ltr"&&(Ls[0].level==1&&(tc=ke.match(/^\s+/))&&(Ls[0].from=tc[0].length,Ls.unshift(new ye(0,0,tc[0].length))),un(Ls).level==1&&(tc=ke.match(/\s+$/))&&(un(Ls).to-=tc[0].length,Ls.push(new ye(0,Pt-tc[0].length,Pt)))),et=="rtl"?Ls.reverse():Ls}})();function at(l,x){var M=l.order;return M==null&&(M=l.order=Ye(l.text,x)),M}var St=[],yt=function(l,x,M){if(l.addEventListener)l.addEventListener(x,M,!1);else if(l.attachEvent)l.attachEvent("on"+x,M);else{var _=l._handlers||(l._handlers={});_[x]=(_[x]||St).concat(M)}};function Ft(l,x){return l._handlers&&l._handlers[x]||St}function pn(l,x,M){if(l.removeEventListener)l.removeEventListener(x,M,!1);else if(l.detachEvent)l.detachEvent("on"+x,M);else{var _=l._handlers,F=_&&_[x];if(F){var X=_t(F,M);X>-1&&(_[x]=F.slice(0,X).concat(F.slice(X+1)))}}}function Cn(l,x){var M=Ft(l,x);if(M.length)for(var _=Array.prototype.slice.call(arguments,2),F=0;F<M.length;++F)M[F].apply(null,_)}function vn(l,x,M){return typeof x=="string"&&(x={type:x,preventDefault:function(){this.defaultPrevented=!0}}),Cn(l,M||x.type,l,x),Br(x)||x.codemirrorIgnore}function $n(l){var x=l._handlers&&l._handlers.cursorActivity;if(x)for(var M=l.curOp.cursorActivityHandlers||(l.curOp.cursorActivityHandlers=[]),_=0;_<x.length;++_)_t(M,x[_])==-1&&M.push(x[_])}function Yn(l,x){return Ft(l,x).length>0}function er(l){l.prototype.on=function(x,M){yt(this,x,M)},l.prototype.off=function(x,M){pn(this,x,M)}}function Hn(l){l.preventDefault?l.preventDefault():l.returnValue=!1}function xr(l){l.stopPropagation?l.stopPropagation():l.cancelBubble=!0}function Br(l){return l.defaultPrevented!=null?l.defaultPrevented:l.returnValue==!1}function mr(l){Hn(l),xr(l)}function Mi(l){return l.target||l.srcElement}function Jn(l){var x=l.which;return x==null&&(l.button&1?x=1:l.button&2?x=3:l.button&4&&(x=2)),q&&l.ctrlKey&&x==1&&(x=3),x}var Fr=(function(){if(a&&u<9)return!1;var l=ge("div");return"draggable"in l||"dragDrop"in l})(),si;function Yr(l){if(si==null){var x=ge("span","");ut(l,ge("span",[x,document.createTextNode("x")])),l.firstChild.offsetHeight!=0&&(si=x.offsetWidth<=1&&x.offsetHeight>2&&!(a&&u<8))}var M=si?ge("span",""):ge("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return M.setAttribute("cm-text",""),M}var vi;function Sn(l){if(vi!=null)return vi;var x=ut(l,document.createTextNode("AA")),M=Ie(x,0,1).getBoundingClientRect(),_=Ie(x,1,2).getBoundingClientRect();return mt(l),!M||M.left==M.right?!1:vi=_.right-M.right<3}var vr=`

b`.split(/\n/).length!=3?function(l){for(var x=0,M=[],_=l.length;x<=_;){var F=l.indexOf(`
`,x);F==-1&&(F=l.length);var X=l.slice(x,l.charAt(F-1)=="\r"?F-1:F),ie=X.indexOf("\r");ie!=-1?(M.push(X.slice(0,ie)),x+=ie+1):(M.push(X),x=F+1)}return M}:function(l){return l.split(/\r\n?|\n/)},Pr=window.getSelection?function(l){try{return l.selectionStart!=l.selectionEnd}catch{return!1}}:function(l){var x;try{x=l.ownerDocument.selection.createRange()}catch{}return!x||x.parentElement()!=l?!1:x.compareEndPoints("StartToEnd",x)!=0},ar=(function(){var l=ge("div");return"oncopy"in l?!0:(l.setAttribute("oncopy","return;"),typeof l.oncopy=="function")})(),fi=null;function yi(l){if(fi!=null)return fi;var x=ut(l,ge("span","x")),M=x.getBoundingClientRect(),_=Ie(x,0,1).getBoundingClientRect();return fi=Math.abs(M.left-_.left)>1}var xi={},Tr={};function zr(l,x){arguments.length>2&&(x.dependencies=Array.prototype.slice.call(arguments,2)),xi[l]=x}function gr(l,x){Tr[l]=x}function aa(l){if(typeof l=="string"&&Tr.hasOwnProperty(l))l=Tr[l];else if(l&&typeof l.name=="string"&&Tr.hasOwnProperty(l.name)){var x=Tr[l.name];typeof x=="string"&&(x={name:x}),l=gt(x,l),l.name=x.name}else{if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(l))return aa("application/xml");if(typeof l=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(l))return aa("application/json")}return typeof l=="string"?{name:l}:l||{name:"null"}}function Hr(l,x){x=aa(x);var M=xi[x.name];if(!M)return Hr(l,"text/plain");var _=M(l,x);if(or.hasOwnProperty(x.name)){var F=or[x.name];for(var X in F)F.hasOwnProperty(X)&&(_.hasOwnProperty(X)&&(_["_"+X]=_[X]),_[X]=F[X])}if(_.name=x.name,x.helperType&&(_.helperType=x.helperType),x.modeProps)for(var ie in x.modeProps)_[ie]=x.modeProps[ie];return _}var or={};function co(l,x){var M=or.hasOwnProperty(l)?or[l]:or[l]={};At(x,M)}function bi(l,x){if(x===!0)return x;if(l.copyState)return l.copyState(x);var M={};for(var _ in x){var F=x[_];F instanceof Array&&(F=F.concat([])),M[_]=F}return M}function Ri(l,x){for(var M;l.innerMode&&(M=l.innerMode(x),!(!M||M.mode==l));)x=M.state,l=M.mode;return M||{mode:l,state:x}}function hn(l,x,M){return l.startState?l.startState(x,M):!0}var wi=function(l,x,M){this.pos=this.start=0,this.string=l,this.tabSize=x||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=M};wi.prototype.eol=function(){return this.pos>=this.string.length},wi.prototype.sol=function(){return this.pos==this.lineStart},wi.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},wi.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},wi.prototype.eat=function(l){var x=this.string.charAt(this.pos),M;if(typeof l=="string"?M=x==l:M=x&&(l.test?l.test(x):l(x)),M)return++this.pos,x},wi.prototype.eatWhile=function(l){for(var x=this.pos;this.eat(l););return this.pos>x},wi.prototype.eatSpace=function(){for(var l=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>l},wi.prototype.skipToEnd=function(){this.pos=this.string.length},wi.prototype.skipTo=function(l){var x=this.string.indexOf(l,this.pos);if(x>-1)return this.pos=x,!0},wi.prototype.backUp=function(l){this.pos-=l},wi.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=rt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?rt(this.string,this.lineStart,this.tabSize):0)},wi.prototype.indentation=function(){return rt(this.string,null,this.tabSize)-(this.lineStart?rt(this.string,this.lineStart,this.tabSize):0)},wi.prototype.match=function(l,x,M){if(typeof l=="string"){var _=function(ie){return M?ie.toLowerCase():ie},F=this.string.substr(this.pos,l.length);if(_(F)==_(l))return x!==!1&&(this.pos+=l.length),!0}else{var X=this.string.slice(this.pos).match(l);return X&&X.index>0?null:(X&&x!==!1&&(this.pos+=X[0].length),X)}},wi.prototype.current=function(){return this.string.slice(this.start,this.pos)},wi.prototype.hideFirstChars=function(l,x){this.lineStart+=l;try{return x()}finally{this.lineStart-=l}},wi.prototype.lookAhead=function(l){var x=this.lineOracle;return x&&x.lookAhead(l)},wi.prototype.baseToken=function(){var l=this.lineOracle;return l&&l.baseToken(this.pos)};function mn(l,x){if(x-=l.first,x<0||x>=l.size)throw new Error("There is no line "+(x+l.first)+" in the document.");for(var M=l;!M.lines;)for(var _=0;;++_){var F=M.children[_],X=F.chunkSize();if(x<X){M=F;break}x-=X}return M.lines[x]}function Ki(l,x,M){var _=[],F=x.line;return l.iter(x.line,M.line+1,function(X){var ie=X.text;F==M.line&&(ie=ie.slice(0,M.ch)),F==x.line&&(ie=ie.slice(x.ch)),_.push(ie),++F}),_}function Bo(l,x,M){var _=[];return l.iter(x,M,function(F){_.push(F.text)}),_}function br(l,x){var M=x-l.height;if(M)for(var _=l;_;_=_.parent)_.height+=M}function Xn(l){if(l.parent==null)return null;for(var x=l.parent,M=_t(x.lines,l),_=x.parent;_;x=_,_=_.parent)for(var F=0;_.children[F]!=x;++F)M+=_.children[F].chunkSize();return M+x.first}function fr(l,x){var M=l.first;e:do{for(var _=0;_<l.children.length;++_){var F=l.children[_],X=F.height;if(x<X){l=F;continue e}x-=X,M+=F.chunkSize()}return M}while(!l.lines);for(var ie=0;ie<l.lines.length;++ie){var fe=l.lines[ie],ye=fe.height;if(x<ye)break;x-=ye}return M+ie}function Or(l,x){return x>=l.first&&x<l.first+l.size}function fo(l,x){return String(l.lineNumberFormatter(x+l.firstLineNumber))}function cn(l,x,M){if(M===void 0&&(M=null),!(this instanceof cn))return new cn(l,x,M);this.line=l,this.ch=x,this.sticky=M}function On(l,x){return l.line-x.line||l.ch-x.ch}function Zi(l,x){return l.sticky==x.sticky&&On(l,x)==0}function hl(l){return cn(l.line,l.ch)}function Ai(l,x){return On(l,x)<0?x:l}function ka(l,x){return On(l,x)<0?l:x}function pr(l,x){return Math.max(l.first,Math.min(x,l.first+l.size-1))}function Zn(l,x){if(x.line<l.first)return cn(l.first,0);var M=l.first+l.size-1;return x.line>M?cn(M,mn(l,M).text.length):Ir(x,mn(l,x.line).text.length)}function Ir(l,x){var M=l.ch;return M==null||M>x?cn(l.line,x):M<0?cn(l.line,0):l}function Ti(l,x){for(var M=[],_=0;_<x.length;_++)M[_]=Zn(l,x[_]);return M}var Ht=function(l,x){this.state=l,this.lookAhead=x},Qe=function(l,x,M,_){this.state=x,this.doc=l,this.line=M,this.maxLookAhead=_||0,this.baseTokens=null,this.baseTokenPos=1};Qe.prototype.lookAhead=function(l){var x=this.doc.getLine(this.line+l);return x!=null&&l>this.maxLookAhead&&(this.maxLookAhead=l),x},Qe.prototype.baseToken=function(l){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=l;)this.baseTokenPos+=2;var x=this.baseTokens[this.baseTokenPos+1];return{type:x&&x.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-l}},Qe.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Qe.fromSaved=function(l,x,M){return x instanceof Ht?new Qe(l,bi(l.mode,x.state),M,x.lookAhead):new Qe(l,bi(l.mode,x),M)},Qe.prototype.save=function(l){var x=l!==!1?bi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ht(x,this.maxLookAhead):x};function Gn(l,x,M,_){var F=[l.state.modeGen],X={};En(l,x.text,l.doc.mode,M,function(ke,et){return F.push(ke,et)},X,_);for(var ie=M.state,fe=function(ke){M.baseTokens=F;var et=l.state.overlays[ke],st=1,Pt=0;M.state=!0,En(l,x.text,et.mode,M,function(Mt,an){for(var gn=st;Pt<Mt;){var Tn=F[st];Tn>Mt&&F.splice(st,1,Mt,F[st+1],Tn),st+=2,Pt=Math.min(Mt,Tn)}if(an)if(et.opaque)F.splice(gn,st-gn,Mt,"overlay "+an),st=gn+2;else for(;gn<st;gn+=2){var Fn=F[gn+1];F[gn+1]=(Fn?Fn+" ":"")+"overlay "+an}},X),M.state=ie,M.baseTokens=null,M.baseTokenPos=1},ye=0;ye<l.state.overlays.length;++ye)fe(ye);return{styles:F,classes:X.bgClass||X.textClass?X:null}}function Di(l,x,M){if(!x.styles||x.styles[0]!=l.state.modeGen){var _=pa(l,Xn(x)),F=x.text.length>l.options.maxHighlightLength&&bi(l.doc.mode,_.state),X=Gn(l,x,_);F&&(_.state=F),x.stateAfter=_.save(!F),x.styles=X.styles,X.classes?x.styleClasses=X.classes:x.styleClasses&&(x.styleClasses=null),M===l.doc.highlightFrontier&&(l.doc.modeFrontier=Math.max(l.doc.modeFrontier,++l.doc.highlightFrontier))}return x.styles}function pa(l,x,M){var _=l.doc,F=l.display;if(!_.mode.startState)return new Qe(_,!0,x);var X=Dr(l,x,M),ie=X>_.first&&mn(_,X-1).stateAfter,fe=ie?Qe.fromSaved(_,ie,X):new Qe(_,hn(_.mode),X);return _.iter(X,x,function(ye){nt(l,ye.text,fe);var ke=fe.line;ye.stateAfter=ke==x-1||ke%5==0||ke>=F.viewFrom&&ke<F.viewTo?fe.save():null,fe.nextLine()}),M&&(_.modeFrontier=fe.line),fe}function nt(l,x,M,_){var F=l.doc.mode,X=new wi(x,l.options.tabSize,M);for(X.start=X.pos=_||0,x==""&&Gt(F,M.state);!X.eol();)It(F,X,M.state),X.start=X.pos}function Gt(l,x){if(l.blankLine)return l.blankLine(x);if(l.innerMode){var M=Ri(l,x);if(M.mode.blankLine)return M.mode.blankLine(M.state)}}function It(l,x,M,_){for(var F=0;F<10;F++){_&&(_[0]=Ri(l,M).mode);var X=l.token(x,M);if(x.pos>x.start)return X}throw new Error("Mode "+l.name+" failed to advance stream.")}var nn=function(l,x,M){this.start=l.start,this.end=l.pos,this.string=l.current(),this.type=x||null,this.state=M};function xn(l,x,M,_){var F=l.doc,X=F.mode,ie;x=Zn(F,x);var fe=mn(F,x.line),ye=pa(l,x.line,M),ke=new wi(fe.text,l.options.tabSize,ye),et;for(_&&(et=[]);(_||ke.pos<x.ch)&&!ke.eol();)ke.start=ke.pos,ie=It(X,ke,ye.state),_&&et.push(new nn(ke,ie,bi(F.mode,ye.state)));return _?et:new nn(ke,ie,ye.state)}function hr(l,x){if(l)for(;;){var M=l.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!M)break;l=l.slice(0,M.index)+l.slice(M.index+M[0].length);var _=M[1]?"bgClass":"textClass";x[_]==null?x[_]=M[2]:new RegExp("(?:^|\\s)"+M[2]+"(?:$|\\s)").test(x[_])||(x[_]+=" "+M[2])}return l}function En(l,x,M,_,F,X,ie){var fe=M.flattenSpans;fe==null&&(fe=l.options.flattenSpans);var ye=0,ke=null,et=new wi(x,l.options.tabSize,_),st,Pt=l.options.addModeClass&&[null];for(x==""&&hr(Gt(M,_.state),X);!et.eol();){if(et.pos>l.options.maxHighlightLength?(fe=!1,ie&&nt(l,x,_,et.pos),et.pos=x.length,st=null):st=hr(It(M,et,_.state,Pt),X),Pt){var Mt=Pt[0].name;Mt&&(st="m-"+(st?Mt+" "+st:Mt))}if(!fe||ke!=st){for(;ye<et.start;)ye=Math.min(et.start,ye+5e3),F(ye,ke);ke=st}et.start=et.pos}for(;ye<et.pos;){var an=Math.min(et.pos,ye+5e3);F(an,ke),ye=an}}function Dr(l,x,M){for(var _,F,X=l.doc,ie=M?-1:x-(l.doc.mode.innerMode?1e3:100),fe=x;fe>ie;--fe){if(fe<=X.first)return X.first;var ye=mn(X,fe-1),ke=ye.stateAfter;if(ke&&(!M||fe+(ke instanceof Ht?ke.lookAhead:0)<=X.modeFrontier))return fe;var et=rt(ye.text,null,l.options.tabSize);(F==null||_>et)&&(F=fe-1,_=et)}return F}function $r(l,x){if(l.modeFrontier=Math.min(l.modeFrontier,x),!(l.highlightFrontier<x-10)){for(var M=l.first,_=x-1;_>M;_--){var F=mn(l,_).stateAfter;if(F&&(!(F instanceof Ht)||_+F.lookAhead<x)){M=_+1;break}}l.highlightFrontier=Math.min(l.highlightFrontier,M)}}var Rr=!1,ei=!1;function Ur(){Rr=!0}function Jr(){ei=!0}function kr(l,x,M){this.marker=l,this.from=x,this.to=M}function Vn(l,x){if(l)for(var M=0;M<l.length;++M){var _=l[M];if(_.marker==x)return _}}function xa(l,x){for(var M,_=0;_<l.length;++_)l[_]!=x&&(M||(M=[])).push(l[_]);return M}function tr(l,x,M){var _=M&&window.WeakSet&&(M.markedSpans||(M.markedSpans=new WeakSet));_&&l.markedSpans&&_.has(l.markedSpans)?l.markedSpans.push(x):(l.markedSpans=l.markedSpans?l.markedSpans.concat([x]):[x],_&&_.add(l.markedSpans)),x.marker.attachLine(l)}function Kr(l,x,M){var _;if(l)for(var F=0;F<l.length;++F){var X=l[F],ie=X.marker,fe=X.from==null||(ie.inclusiveLeft?X.from<=x:X.from<x);if(fe||X.from==x&&ie.type=="bookmark"&&(!M||!X.marker.insertLeft)){var ye=X.to==null||(ie.inclusiveRight?X.to>=x:X.to>x);(_||(_=[])).push(new kr(ie,X.from,ye?null:X.to))}}return _}function hi(l,x,M){var _;if(l)for(var F=0;F<l.length;++F){var X=l[F],ie=X.marker,fe=X.to==null||(ie.inclusiveRight?X.to>=x:X.to>x);if(fe||X.from==x&&ie.type=="bookmark"&&(!M||X.marker.insertLeft)){var ye=X.from==null||(ie.inclusiveLeft?X.from<=x:X.from<x);(_||(_=[])).push(new kr(ie,ye?null:X.from-x,X.to==null?null:X.to-x))}}return _}function Hi(l,x){if(x.full)return null;var M=Or(l,x.from.line)&&mn(l,x.from.line).markedSpans,_=Or(l,x.to.line)&&mn(l,x.to.line).markedSpans;if(!M&&!_)return null;var F=x.from.ch,X=x.to.ch,ie=On(x.from,x.to)==0,fe=Kr(M,F,ie),ye=hi(_,X,ie),ke=x.text.length==1,et=un(x.text).length+(ke?F:0);if(fe)for(var st=0;st<fe.length;++st){var Pt=fe[st];if(Pt.to==null){var Mt=Vn(ye,Pt.marker);Mt?ke&&(Pt.to=Mt.to==null?null:Mt.to+et):Pt.to=F}}if(ye)for(var an=0;an<ye.length;++an){var gn=ye[an];if(gn.to!=null&&(gn.to+=et),gn.from==null){var Tn=Vn(fe,gn.marker);Tn||(gn.from=et,ke&&(fe||(fe=[])).push(gn))}else gn.from+=et,ke&&(fe||(fe=[])).push(gn)}fe&&(fe=wo(fe)),ye&&ye!=fe&&(ye=wo(ye));var Fn=[fe];if(!ke){var zn=x.text.length-2,wn;if(zn>0&&fe)for(var Kn=0;Kn<fe.length;++Kn)fe[Kn].to==null&&(wn||(wn=[])).push(new kr(fe[Kn].marker,null,null));for(var Cr=0;Cr<zn;++Cr)Fn.push(wn);Fn.push(ye)}return Fn}function wo(l){for(var x=0;x<l.length;++x){var M=l[x];M.from!=null&&M.from==M.to&&M.marker.clearWhenEmpty!==!1&&l.splice(x--,1)}return l.length?l:null}function Fo(l,x,M){var _=null;if(l.iter(x.line,M.line+1,function(Mt){if(Mt.markedSpans)for(var an=0;an<Mt.markedSpans.length;++an){var gn=Mt.markedSpans[an].marker;gn.readOnly&&(!_||_t(_,gn)==-1)&&(_||(_=[])).push(gn)}}),!_)return null;for(var F=[{from:x,to:M}],X=0;X<_.length;++X)for(var ie=_[X],fe=ie.find(0),ye=0;ye<F.length;++ye){var ke=F[ye];if(!(On(ke.to,fe.from)<0||On(ke.from,fe.to)>0)){var et=[ye,1],st=On(ke.from,fe.from),Pt=On(ke.to,fe.to);(st<0||!ie.inclusiveLeft&&!st)&&et.push({from:ke.from,to:fe.from}),(Pt>0||!ie.inclusiveRight&&!Pt)&&et.push({from:fe.to,to:ke.to}),F.splice.apply(F,et),ye+=et.length-3}}return F}function As(l){var x=l.markedSpans;if(x){for(var M=0;M<x.length;++M)x[M].marker.detachLine(l);l.markedSpans=null}}function Co(l,x){if(x){for(var M=0;M<x.length;++M)x[M].marker.attachLine(l);l.markedSpans=x}}function ho(l){return l.inclusiveLeft?-1:0}function io(l){return l.inclusiveRight?1:0}function us(l,x){var M=l.lines.length-x.lines.length;if(M!=0)return M;var _=l.find(),F=x.find(),X=On(_.from,F.from)||ho(l)-ho(x);if(X)return-X;var ie=On(_.to,F.to)||io(l)-io(x);return ie||x.id-l.id}function qi(l,x){var M=ei&&l.markedSpans,_;if(M)for(var F=void 0,X=0;X<M.length;++X)F=M[X],F.marker.collapsed&&(x?F.from:F.to)==null&&(!_||us(_,F.marker)<0)&&(_=F.marker);return _}function _a(l){return qi(l,!0)}function Ea(l){return qi(l,!1)}function Ts(l,x){var M=ei&&l.markedSpans,_;if(M)for(var F=0;F<M.length;++F){var X=M[F];X.marker.collapsed&&(X.from==null||X.from<x)&&(X.to==null||X.to>x)&&(!_||us(_,X.marker)<0)&&(_=X.marker)}return _}function Ds(l,x,M,_,F){var X=mn(l,x),ie=ei&&X.markedSpans;if(ie)for(var fe=0;fe<ie.length;++fe){var ye=ie[fe];if(ye.marker.collapsed){var ke=ye.marker.find(0),et=On(ke.from,M)||ho(ye.marker)-ho(F),st=On(ke.to,_)||io(ye.marker)-io(F);if(!(et>=0&&st<=0||et<=0&&st>=0)&&(et<=0&&(ye.marker.inclusiveRight&&F.inclusiveLeft?On(ke.to,M)>=0:On(ke.to,M)>0)||et>=0&&(ye.marker.inclusiveRight&&F.inclusiveLeft?On(ke.from,_)<=0:On(ke.from,_)<0)))return!0}}}function Ma(l){for(var x;x=_a(l);)l=x.find(-1,!0).line;return l}function vu(l){for(var x;x=Ea(l);)l=x.find(1,!0).line;return l}function Ul(l){for(var x,M;x=Ea(l);)l=x.find(1,!0).line,(M||(M=[])).push(l);return M}function kl(l,x){var M=mn(l,x),_=Ma(M);return M==_?x:Xn(_)}function gi(l,x){if(x>l.lastLine())return x;var M=mn(l,x),_;if(!ks(l,M))return x;for(;_=Ea(M);)M=_.find(1,!0).line;return Xn(M)+1}function ks(l,x){var M=ei&&x.markedSpans;if(M){for(var _=void 0,F=0;F<M.length;++F)if(_=M[F],!!_.marker.collapsed){if(_.from==null)return!0;if(!_.marker.widgetNode&&_.from==0&&_.marker.inclusiveLeft&&_l(l,x,_))return!0}}}function _l(l,x,M){if(M.to==null){var _=M.marker.find(1,!0);return _l(l,_.line,Vn(_.line.markedSpans,M.marker))}if(M.marker.inclusiveRight&&M.to==x.text.length)return!0;for(var F=void 0,X=0;X<x.markedSpans.length;++X)if(F=x.markedSpans[X],F.marker.collapsed&&!F.marker.widgetNode&&F.from==M.to&&(F.to==null||F.to!=M.from)&&(F.marker.inclusiveLeft||M.marker.inclusiveRight)&&_l(l,x,F))return!0}function Fa(l){l=Ma(l);for(var x=0,M=l.parent,_=0;_<M.lines.length;++_){var F=M.lines[_];if(F==l)break;x+=F.height}for(var X=M.parent;X;M=X,X=M.parent)for(var ie=0;ie<X.children.length;++ie){var fe=X.children[ie];if(fe==M)break;x+=fe.height}return x}function _s(l){if(l.height==0)return 0;for(var x=l.text.length,M,_=l;M=_a(_);){var F=M.find(0,!0);_=F.from.line,x+=F.from.ch-F.to.ch}for(_=l;M=Ea(_);){var X=M.find(0,!0);x-=_.text.length-X.from.ch,_=X.to.line,x+=_.text.length-X.to.ch}return x}function Qt(l){var x=l.display,M=l.doc;x.maxLine=mn(M,M.first),x.maxLineLength=_s(x.maxLine),x.maxLineChanged=!0,M.iter(function(_){var F=_s(_);F>x.maxLineLength&&(x.maxLineLength=F,x.maxLine=_)})}var Nr=function(l,x,M){this.text=l,Co(this,x),this.height=M?M(this):1};Nr.prototype.lineNo=function(){return Xn(this)},er(Nr);function Va(l,x,M,_){l.text=x,l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null),l.order!=null&&(l.order=null),As(l),Co(l,M);var F=_?_(l):1;F!=l.height&&br(l,F)}function cs(l){l.parent=null,As(l)}var yu={},jl={};function nu(l,x){if(!l||/^\s*$/.test(l))return null;var M=x.addModeClass?jl:yu;return M[l]||(M[l]=l.replace(/\S+/g,"cm-$&"))}function Zs(l,x){var M=me("span",null,null,v?"padding-right: .1px":null),_={pre:me("pre",[M],"CodeMirror-line"),content:M,col:0,pos:0,cm:l,trailingSpace:!1,splitSpaces:l.getOption("lineWrapping")};x.measure={};for(var F=0;F<=(x.rest?x.rest.length:0);F++){var X=F?x.rest[F-1]:x.line,ie=void 0;_.pos=0,_.addToken=Qi,Sn(l.display.measure)&&(ie=at(X,l.doc.direction))&&(_.addToken=Ni(_.addToken,ie)),_.map=[];var fe=x!=l.display.externalMeasured&&Xn(X);gl(X,_,Di(l,X,fe)),X.styleClasses&&(X.styleClasses.bgClass&&(_.bgClass=ce(X.styleClasses.bgClass,_.bgClass||"")),X.styleClasses.textClass&&(_.textClass=ce(X.styleClasses.textClass,_.textClass||""))),_.map.length==0&&_.map.push(0,0,_.content.appendChild(Yr(l.display.measure))),F==0?(x.measure.map=_.map,x.measure.cache={}):((x.measure.maps||(x.measure.maps=[])).push(_.map),(x.measure.caches||(x.measure.caches=[])).push({}))}if(v){var ye=_.content.lastChild;(/\bcm-tab\b/.test(ye.className)||ye.querySelector&&ye.querySelector(".cm-tab"))&&(_.content.className="cm-tab-wrap-hack")}return Cn(l,"renderLine",l,x.line,_.pre),_.pre.className&&(_.textClass=ce(_.pre.className,_.textClass||"")),_}function Oa(l){var x=ge("span","","cm-invalidchar");return x.title="\\u"+l.charCodeAt(0).toString(16),x.setAttribute("aria-label",x.title),x}function Qi(l,x,M,_,F,X,ie){if(x){var fe=l.splitSpaces?Fs(x,l.trailingSpace):x,ye=l.cm.state.specialChars,ke=!1,et;if(!ye.test(x))l.col+=x.length,et=document.createTextNode(fe),l.map.push(l.pos,l.pos+x.length,et),a&&u<9&&(ke=!0),l.pos+=x.length;else{et=document.createDocumentFragment();for(var st=0;;){ye.lastIndex=st;var Pt=ye.exec(x),Mt=Pt?Pt.index-st:x.length-st;if(Mt){var an=document.createTextNode(fe.slice(st,st+Mt));a&&u<9?et.appendChild(ge("span",[an])):et.appendChild(an),l.map.push(l.pos,l.pos+Mt,an),l.col+=Mt,l.pos+=Mt}if(!Pt)break;st+=Mt+1;var gn=void 0;if(Pt[0]=="	"){var Tn=l.cm.options.tabSize,Fn=Tn-l.col%Tn;gn=et.appendChild(ge("span",Kt(Fn),"cm-tab")),gn.setAttribute("role","presentation"),gn.setAttribute("cm-text","	"),l.col+=Fn}else Pt[0]=="\r"||Pt[0]==`
`?(gn=et.appendChild(ge("span",Pt[0]=="\r"?"":"","cm-invalidchar")),gn.setAttribute("cm-text",Pt[0]),l.col+=1):(gn=l.cm.options.specialCharPlaceholder(Pt[0]),gn.setAttribute("cm-text",Pt[0]),a&&u<9?et.appendChild(ge("span",[gn])):et.appendChild(gn),l.col+=1);l.map.push(l.pos,l.pos+1,gn),l.pos++}}if(l.trailingSpace=fe.charCodeAt(x.length-1)==32,M||_||F||ke||X||ie){var zn=M||"";_&&(zn+=_),F&&(zn+=F);var wn=ge("span",[et],zn,X);if(ie)for(var Kn in ie)ie.hasOwnProperty(Kn)&&Kn!="style"&&Kn!="class"&&wn.setAttribute(Kn,ie[Kn]);return l.content.appendChild(wn)}l.content.appendChild(et)}}function Fs(l,x){if(l.length>1&&!/  /.test(l))return l;for(var M=x,_="",F=0;F<l.length;F++){var X=l.charAt(F);X==" "&&M&&(F==l.length-1||l.charCodeAt(F+1)==32)&&(X=""),_+=X,M=X==" "}return _}function Ni(l,x){return function(M,_,F,X,ie,fe,ye){F=F?F+" cm-force-border":"cm-force-border";for(var ke=M.pos,et=ke+_.length;;){for(var st=void 0,Pt=0;Pt<x.length&&(st=x[Pt],!(st.to>ke&&st.from<=ke));Pt++);if(st.to>=et)return l(M,_,F,X,ie,fe,ye);l(M,_.slice(0,st.to-ke),F,X,null,fe,ye),X=null,_=_.slice(st.to-ke),ke=st.to}}}function dl(l,x,M,_){var F=!_&&M.widgetNode;F&&l.map.push(l.pos,l.pos+x,F),!_&&l.cm.display.input.needsContentAttribute&&(F||(F=l.content.appendChild(document.createElement("span"))),F.setAttribute("cm-marker",M.id)),F&&(l.cm.display.input.setUneditable(F),l.content.appendChild(F)),l.pos+=x,l.trailingSpace=!1}function gl(l,x,M){var _=l.markedSpans,F=l.text,X=0;if(!_){for(var ie=1;ie<M.length;ie+=2)x.addToken(x,F.slice(X,X=M[ie]),nu(M[ie+1],x.cm.options));return}for(var fe=F.length,ye=0,ke=1,et="",st,Pt,Mt=0,an,gn,Tn,Fn,zn;;){if(Mt==ye){an=gn=Tn=Pt="",zn=null,Fn=null,Mt=1/0;for(var wn=[],Kn=void 0,Cr=0;Cr<_.length;++Cr){var dr=_[Cr],ii=dr.marker;if(ii.type=="bookmark"&&dr.from==ye&&ii.widgetNode)wn.push(ii);else if(dr.from<=ye&&(dr.to==null||dr.to>ye||ii.collapsed&&dr.to==ye&&dr.from==ye)){if(dr.to!=null&&dr.to!=ye&&Mt>dr.to&&(Mt=dr.to,gn=""),ii.className&&(an+=" "+ii.className),ii.css&&(Pt=(Pt?Pt+";":"")+ii.css),ii.startStyle&&dr.from==ye&&(Tn+=" "+ii.startStyle),ii.endStyle&&dr.to==Mt&&(Kn||(Kn=[])).push(ii.endStyle,dr.to),ii.title&&((zn||(zn={})).title=ii.title),ii.attributes)for(var Wi in ii.attributes)(zn||(zn={}))[Wi]=ii.attributes[Wi];ii.collapsed&&(!Fn||us(Fn.marker,ii)<0)&&(Fn=dr)}else dr.from>ye&&Mt>dr.from&&(Mt=dr.from)}if(Kn)for(var bs=0;bs<Kn.length;bs+=2)Kn[bs+1]==Mt&&(gn+=" "+Kn[bs]);if(!Fn||Fn.from==ye)for(var oo=0;oo<wn.length;++oo)dl(x,0,wn[oo]);if(Fn&&(Fn.from||0)==ye){if(dl(x,(Fn.to==null?fe+1:Fn.to)-ye,Fn.marker,Fn.from==null),Fn.to==null)return;Fn.to==ye&&(Fn=!1)}}if(ye>=fe)break;for(var Gs=Math.min(fe,Mt);;){if(et){var yo=ye+et.length;if(!Fn){var Wo=yo>Gs?et.slice(0,Gs-ye):et;x.addToken(x,Wo,st?st+an:an,Tn,ye+Wo.length==Mt?gn:"",Pt,zn)}if(yo>=Gs){et=et.slice(Gs-ye),ye=Gs;break}ye=yo,Tn=""}et=F.slice(X,X=M[ke++]),st=nu(M[ke++],x.cm.options)}}}function ki(l,x,M){this.line=x,this.rest=Ul(x),this.size=this.rest?Xn(un(this.rest))-M+1:1,this.node=this.text=null,this.hidden=ks(l,x)}function jn(l,x,M){for(var _=[],F,X=x;X<M;X=F){var ie=new ki(l.doc,mn(l.doc,X),X);F=X+ie.size,_.push(ie)}return _}var Vo=null;function di(l){Vo?Vo.ops.push(l):l.ownsGroup=Vo={ops:[l],delayedCallbacks:[]}}function fs(l){var x=l.delayedCallbacks,M=0;do{for(;M<x.length;M++)x[M].call(null);for(var _=0;_<l.ops.length;_++){var F=l.ops[_];if(F.cursorActivityHandlers)for(;F.cursorActivityCalled<F.cursorActivityHandlers.length;)F.cursorActivityHandlers[F.cursorActivityCalled++].call(null,F.cm)}}while(M<x.length)}function qs(l,x){var M=l.ownsGroup;if(M)try{fs(M)}finally{Vo=null,x(M)}}var Po=null;function oi(l,x){var M=Ft(l,x);if(M.length){var _=Array.prototype.slice.call(arguments,2),F;Vo?F=Vo.delayedCallbacks:Po?F=Po:(F=Po=[],setTimeout(pl,0));for(var X=function(fe){F.push(function(){return M[fe].apply(null,_)})},ie=0;ie<M.length;++ie)X(ie)}}function pl(){var l=Po;Po=null;for(var x=0;x<l.length;++x)l[x]()}function Ps(l,x,M,_){for(var F=0;F<x.changes.length;F++){var X=x.changes[F];X=="text"?Ko(l,x):X=="gutter"?Qs(l,x,M,_):X=="class"?Zo(l,x):X=="widget"&&xu(l,x,_)}x.changes=null}function Ji(l){return l.node==l.text&&(l.node=ge("div",null,null,"position: relative"),l.text.parentNode&&l.text.parentNode.replaceChild(l.node,l.text),l.node.appendChild(l.text),a&&u<8&&(l.node.style.zIndex=2)),l.node}function zo(l,x){var M=x.bgClass?x.bgClass+" "+(x.line.bgClass||""):x.line.bgClass;if(M&&(M+=" CodeMirror-linebackground"),x.background)M?x.background.className=M:(x.background.parentNode.removeChild(x.background),x.background=null);else if(M){var _=Ji(x);x.background=_.insertBefore(ge("div",null,M),_.firstChild),l.display.input.setUneditable(x.background)}}function Li(l,x){var M=l.display.externalMeasured;return M&&M.line==x.line?(l.display.externalMeasured=null,x.measure=M.measure,M.built):Zs(l,x)}function Ko(l,x){var M=x.text.className,_=Li(l,x);x.text==x.node&&(x.node=_.pre),x.text.parentNode.replaceChild(_.pre,x.text),x.text=_.pre,_.bgClass!=x.bgClass||_.textClass!=x.textClass?(x.bgClass=_.bgClass,x.textClass=_.textClass,Zo(l,x)):M&&(x.text.className=M)}function Zo(l,x){zo(l,x),x.line.wrapClass?Ji(x).className=x.line.wrapClass:x.node!=x.text&&(x.node.className="");var M=x.textClass?x.textClass+" "+(x.line.textClass||""):x.line.textClass;x.text.className=M||""}function Qs(l,x,M,_){if(x.gutter&&(x.node.removeChild(x.gutter),x.gutter=null),x.gutterBackground&&(x.node.removeChild(x.gutterBackground),x.gutterBackground=null),x.line.gutterClass){var F=Ji(x);x.gutterBackground=ge("div",null,"CodeMirror-gutter-background "+x.line.gutterClass,"left: "+(l.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px; width: "+_.gutterTotalWidth+"px"),l.display.input.setUneditable(x.gutterBackground),F.insertBefore(x.gutterBackground,x.text)}var X=x.line.gutterMarkers;if(l.options.lineNumbers||X){var ie=Ji(x),fe=x.gutter=ge("div",null,"CodeMirror-gutter-wrapper","left: "+(l.options.fixedGutter?_.fixedPos:-_.gutterTotalWidth)+"px");if(fe.setAttribute("aria-hidden","true"),l.display.input.setUneditable(fe),ie.insertBefore(fe,x.text),x.line.gutterClass&&(fe.className+=" "+x.line.gutterClass),l.options.lineNumbers&&(!X||!X["CodeMirror-linenumbers"])&&(x.lineNumber=fe.appendChild(ge("div",fo(l.options,M),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+_.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.display.lineNumInnerWidth+"px"))),X)for(var ye=0;ye<l.display.gutterSpecs.length;++ye){var ke=l.display.gutterSpecs[ye].className,et=X.hasOwnProperty(ke)&&X[ke];et&&fe.appendChild(ge("div",[et],"CodeMirror-gutter-elt","left: "+_.gutterLeft[ke]+"px; width: "+_.gutterWidth[ke]+"px"))}}}function xu(l,x,M){x.alignable&&(x.alignable=null);for(var _=Ue("CodeMirror-linewidget"),F=x.node.firstChild,X=void 0;F;F=X)X=F.nextSibling,_.test(F.className)&&x.node.removeChild(F);Js(l,x,M)}function ml(l,x,M,_){var F=Li(l,x);return x.text=x.node=F.pre,F.bgClass&&(x.bgClass=F.bgClass),F.textClass&&(x.textClass=F.textClass),Zo(l,x),Qs(l,x,M,_),Js(l,x,_),x.node}function Js(l,x,M){if(qo(l,x.line,x,M,!0),x.rest)for(var _=0;_<x.rest.length;_++)qo(l,x.rest[_],x,M,!1)}function qo(l,x,M,_,F){if(x.widgets)for(var X=Ji(M),ie=0,fe=x.widgets;ie<fe.length;++ie){var ye=fe[ie],ke=ge("div",[ye.node],"CodeMirror-linewidget"+(ye.className?" "+ye.className:""));ye.handleMouseEvents||ke.setAttribute("cm-ignore-events","true"),Ml(ye,ke,M,_),l.display.input.setUneditable(ke),F&&ye.above?X.insertBefore(ke,M.gutter||M.text):X.appendChild(ke),oi(ye,"redraw")}}function Ml(l,x,M,_){if(l.noHScroll){(M.alignable||(M.alignable=[])).push(x);var F=_.wrapperWidth;x.style.left=_.fixedPos+"px",l.coverGutter||(F-=_.gutterTotalWidth,x.style.paddingLeft=_.gutterTotalWidth+"px"),x.style.width=F+"px"}l.coverGutter&&(x.style.zIndex=5,x.style.position="relative",l.noHScroll||(x.style.marginLeft=-_.gutterTotalWidth+"px"))}function Bi(l){if(l.height!=null)return l.height;var x=l.doc.cm;if(!x)return 0;if(!lt(document.body,l.node)){var M="position: relative;";l.coverGutter&&(M+="margin-left: -"+x.display.gutters.offsetWidth+"px;"),l.noHScroll&&(M+="width: "+x.display.wrapper.clientWidth+"px;"),ut(x.display.measure,ge("div",[l.node],null,M))}return l.height=l.node.parentNode.offsetHeight}function So(l,x){for(var M=Mi(x);M!=l.wrapper;M=M.parentNode)if(!M||M.nodeType==1&&M.getAttribute("cm-ignore-events")=="true"||M.parentNode==l.sizer&&M!=l.mover)return!0}function Ka(l){return l.lineSpace.offsetTop}function hs(l){return l.mover.offsetHeight-l.lineSpace.offsetHeight}function Ms(l){if(l.cachedPaddingH)return l.cachedPaddingH;var x=ut(l.measure,ge("pre","x","CodeMirror-line-like")),M=window.getComputedStyle?window.getComputedStyle(x):x.currentStyle,_={left:parseInt(M.paddingLeft),right:parseInt(M.paddingRight)};return!isNaN(_.left)&&!isNaN(_.right)&&(l.cachedPaddingH=_),_}function Qo(l){return Wt-l.display.nativeBarWidth}function Ho(l){return l.display.scroller.clientWidth-Qo(l)-l.display.barWidth}function Pa(l){return l.display.scroller.clientHeight-Qo(l)-l.display.barHeight}function Ui(l,x,M){var _=l.options.lineWrapping,F=_&&Ho(l);if(!x.measure.heights||_&&x.measure.width!=F){var X=x.measure.heights=[];if(_){x.measure.width=F;for(var ie=x.text.firstChild.getClientRects(),fe=0;fe<ie.length-1;fe++){var ye=ie[fe],ke=ie[fe+1];Math.abs(ye.bottom-ke.bottom)>2&&X.push((ye.bottom+ke.top)/2-M.top)}}X.push(M.bottom-M.top)}}function $i(l,x,M){if(l.line==x)return{map:l.measure.map,cache:l.measure.cache};if(l.rest){for(var _=0;_<l.rest.length;_++)if(l.rest[_]==x)return{map:l.measure.maps[_],cache:l.measure.caches[_]};for(var F=0;F<l.rest.length;F++)if(Xn(l.rest[F])>M)return{map:l.measure.maps[F],cache:l.measure.caches[F],before:!0}}}function go(l,x){x=Ma(x);var M=Xn(x),_=l.display.externalMeasured=new ki(l.doc,x,M);_.lineN=M;var F=_.built=Zs(l,_);return _.text=F.pre,ut(l.display.lineMeasure,F.pre),_}function Er(l,x,M,_){return s(l,_e(l,x),M,_)}function $s(l,x){if(x>=l.display.viewFrom&&x<l.display.viewTo)return l.display.view[Vt(l,x)];var M=l.display.externalMeasured;if(M&&x>=M.lineN&&x<M.lineN+M.size)return M}function _e(l,x){var M=Xn(x),_=$s(l,M);_&&!_.text?_=null:_&&_.changes&&(Ps(l,_,M,vt(l)),l.curOp.forceUpdate=!0),_||(_=go(l,x));var F=$i(_,x,M);return{line:x,view:_,rect:null,map:F.map,cache:F.cache,before:F.before,hasHeights:!1}}function s(l,x,M,_,F){x.before&&(M=-1);var X=M+(_||""),ie;return x.cache.hasOwnProperty(X)?ie=x.cache[X]:(x.rect||(x.rect=x.view.text.getBoundingClientRect()),x.hasHeights||(Ui(l,x.view,x.rect),x.hasHeights=!0),ie=k(l,x,M,_),ie.bogus||(x.cache[X]=ie)),{left:ie.left,right:ie.right,top:F?ie.rtop:ie.top,bottom:F?ie.rbottom:ie.bottom}}var p={left:0,right:0,top:0,bottom:0};function w(l,x,M){for(var _,F,X,ie,fe,ye,ke=0;ke<l.length;ke+=3)if(fe=l[ke],ye=l[ke+1],x<fe?(F=0,X=1,ie="left"):x<ye?(F=x-fe,X=F+1):(ke==l.length-3||x==ye&&l[ke+3]>x)&&(X=ye-fe,F=X-1,x>=ye&&(ie="right")),F!=null){if(_=l[ke+2],fe==ye&&M==(_.insertLeft?"left":"right")&&(ie=M),M=="left"&&F==0)for(;ke&&l[ke-2]==l[ke-3]&&l[ke-1].insertLeft;)_=l[(ke-=3)+2],ie="left";if(M=="right"&&F==ye-fe)for(;ke<l.length-3&&l[ke+3]==l[ke+4]&&!l[ke+5].insertLeft;)_=l[(ke+=3)+2],ie="right";break}return{node:_,start:F,end:X,collapse:ie,coverStart:fe,coverEnd:ye}}function A(l,x){var M=p;if(x=="left")for(var _=0;_<l.length&&(M=l[_]).left==M.right;_++);else for(var F=l.length-1;F>=0&&(M=l[F]).left==M.right;F--);return M}function k(l,x,M,_){var F=w(x.map,M,_),X=F.node,ie=F.start,fe=F.end,ye=F.collapse,ke;if(X.nodeType==3){for(var et=0;et<4;et++){for(;ie&&re(x.line.text.charAt(F.coverStart+ie));)--ie;for(;F.coverStart+fe<F.coverEnd&&re(x.line.text.charAt(F.coverStart+fe));)++fe;if(a&&u<9&&ie==0&&fe==F.coverEnd-F.coverStart?ke=X.parentNode.getBoundingClientRect():ke=A(Ie(X,ie,fe).getClientRects(),_),ke.left||ke.right||ie==0)break;fe=ie,ie=ie-1,ye="right"}a&&u<11&&(ke=L(l.display.measure,ke))}else{ie>0&&(ye=_="right");var st;l.options.lineWrapping&&(st=X.getClientRects()).length>1?ke=st[_=="right"?st.length-1:0]:ke=X.getBoundingClientRect()}if(a&&u<9&&!ie&&(!ke||!ke.left&&!ke.right)){var Pt=X.parentNode.getClientRects()[0];Pt?ke={left:Pt.left,right:Pt.left+ze(l.display),top:Pt.top,bottom:Pt.bottom}:ke=p}for(var Mt=ke.top-x.rect.top,an=ke.bottom-x.rect.top,gn=(Mt+an)/2,Tn=x.view.measure.heights,Fn=0;Fn<Tn.length-1&&!(gn<Tn[Fn]);Fn++);var zn=Fn?Tn[Fn-1]:0,wn=Tn[Fn],Kn={left:(ye=="right"?ke.right:ke.left)-x.rect.left,right:(ye=="left"?ke.left:ke.right)-x.rect.left,top:zn,bottom:wn};return!ke.left&&!ke.right&&(Kn.bogus=!0),l.options.singleCursorHeightPerLine||(Kn.rtop=Mt,Kn.rbottom=an),Kn}function L(l,x){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!yi(l))return x;var M=screen.logicalXDPI/screen.deviceXDPI,_=screen.logicalYDPI/screen.deviceYDPI;return{left:x.left*M,right:x.right*M,top:x.top*_,bottom:x.bottom*_}}function b(l){if(l.measure&&(l.measure.cache={},l.measure.heights=null,l.rest))for(var x=0;x<l.rest.length;x++)l.measure.caches[x]={}}function T(l){l.display.externalMeasure=null,mt(l.display.lineMeasure);for(var x=0;x<l.display.view.length;x++)b(l.display.view[x])}function B(l){T(l),l.display.cachedCharWidth=l.display.cachedTextHeight=l.display.cachedPaddingH=null,l.options.lineWrapping||(l.display.maxLineChanged=!0),l.display.lineNumChars=null}function j(l){return g&&U?-(l.body.getBoundingClientRect().left-parseInt(getComputedStyle(l.body).marginLeft)):l.defaultView.pageXOffset||(l.documentElement||l.body).scrollLeft}function V(l){return g&&U?-(l.body.getBoundingClientRect().top-parseInt(getComputedStyle(l.body).marginTop)):l.defaultView.pageYOffset||(l.documentElement||l.body).scrollTop}function ee(l){var x=Ma(l),M=x.widgets,_=0;if(M)for(var F=0;F<M.length;++F)M[F].above&&(_+=Bi(M[F]));return _}function he(l,x,M,_,F){if(!F){var X=ee(x);M.top+=X,M.bottom+=X}if(_=="line")return M;_||(_="local");var ie=Fa(x);if(_=="local"?ie+=Ka(l.display):ie-=l.display.viewOffset,_=="page"||_=="window"){var fe=l.display.lineSpace.getBoundingClientRect();ie+=fe.top+(_=="window"?0:V(Z(l)));var ye=fe.left+(_=="window"?0:j(Z(l)));M.left+=ye,M.right+=ye}return M.top+=ie,M.bottom+=ie,M}function Ae(l,x,M){if(M=="div")return x;var _=x.left,F=x.top;if(M=="page")_-=j(Z(l)),F-=V(Z(l));else if(M=="local"||!M){var X=l.display.sizer.getBoundingClientRect();_+=X.left,F+=X.top}var ie=l.display.lineSpace.getBoundingClientRect();return{left:_-ie.left,top:F-ie.top}}function Oe(l,x,M,_,F){return _||(_=mn(l.doc,x.line)),he(l,_,Er(l,_,x.ch,F),M)}function Le(l,x,M,_,F,X){_=_||mn(l.doc,x.line),F||(F=_e(l,_));function ie(an,gn){var Tn=s(l,F,an,gn?"right":"left",X);return gn?Tn.left=Tn.right:Tn.right=Tn.left,he(l,_,Tn,M)}var fe=at(_,l.doc.direction),ye=x.ch,ke=x.sticky;if(ye>=_.text.length?(ye=_.text.length,ke="before"):ye<=0&&(ye=0,ke="after"),!fe)return ie(ke=="before"?ye-1:ye,ke=="before");function et(an,gn,Tn){var Fn=fe[gn],zn=Fn.level==1;return ie(Tn?an-1:an,zn!=Tn)}var st=Ct(fe,ye,ke),Pt=We,Mt=et(ye,st,ke=="before");return Pt!=null&&(Mt.other=et(ye,Pt,ke!="before")),Mt}function Xe(l,x){var M=0;x=Zn(l.doc,x),l.options.lineWrapping||(M=ze(l.display)*x.ch);var _=mn(l.doc,x.line),F=Fa(_)+Ka(l.display);return{left:M,right:M,top:F,bottom:F+_.height}}function Ke(l,x,M,_,F){var X=cn(l,x,M);return X.xRel=F,_&&(X.outside=_),X}function ot(l,x,M){var _=l.doc;if(M+=l.display.viewOffset,M<0)return Ke(_.first,0,null,-1,-1);var F=fr(_,M),X=_.first+_.size-1;if(F>X)return Ke(_.first+_.size-1,mn(_,X).text.length,null,1,1);x<0&&(x=0);for(var ie=mn(_,F);;){var fe=P(l,ie,F,x,M),ye=Ts(ie,fe.ch+(fe.xRel>0||fe.outside>0?1:0));if(!ye)return fe;var ke=ye.find(1);if(ke.line==F)return ke;ie=mn(_,F=ke.line)}}function Je(l,x,M,_){_-=ee(x);var F=x.text.length,X=Ve(function(ie){return s(l,M,ie-1).bottom<=_},F,0);return F=Ve(function(ie){return s(l,M,ie).top>_},X,F),{begin:X,end:F}}function wt(l,x,M,_){M||(M=_e(l,x));var F=he(l,x,s(l,M,_),"line").top;return Je(l,x,M,F)}function R(l,x,M,_){return l.bottom<=M?!1:l.top>M?!0:(_?l.left:l.right)>x}function P(l,x,M,_,F){F-=Fa(x);var X=_e(l,x),ie=ee(x),fe=0,ye=x.text.length,ke=!0,et=at(x,l.doc.direction);if(et){var st=(l.options.lineWrapping?$:Y)(l,x,M,X,et,_,F);ke=st.level!=1,fe=ke?st.from:st.to-1,ye=ke?st.to:st.from-1}var Pt=null,Mt=null,an=Ve(function(Cr){var dr=s(l,X,Cr);return dr.top+=ie,dr.bottom+=ie,R(dr,_,F,!1)?(dr.top<=F&&dr.left<=_&&(Pt=Cr,Mt=dr),!0):!1},fe,ye),gn,Tn,Fn=!1;if(Mt){var zn=_-Mt.left<Mt.right-_,wn=zn==ke;an=Pt+(wn?0:1),Tn=wn?"after":"before",gn=zn?Mt.left:Mt.right}else{!ke&&(an==ye||an==fe)&&an++,Tn=an==0?"after":an==x.text.length?"before":s(l,X,an-(ke?1:0)).bottom+ie<=F==ke?"after":"before";var Kn=Le(l,cn(M,an,Tn),"line",x,X);gn=Kn.left,Fn=F<Kn.top?-1:F>=Kn.bottom?1:0}return an=we(x.text,an,1),Ke(M,an,Tn,Fn,_-gn)}function Y(l,x,M,_,F,X,ie){var fe=Ve(function(st){var Pt=F[st],Mt=Pt.level!=1;return R(Le(l,cn(M,Mt?Pt.to:Pt.from,Mt?"before":"after"),"line",x,_),X,ie,!0)},0,F.length-1),ye=F[fe];if(fe>0){var ke=ye.level!=1,et=Le(l,cn(M,ke?ye.from:ye.to,ke?"after":"before"),"line",x,_);R(et,X,ie,!0)&&et.top>ie&&(ye=F[fe-1])}return ye}function $(l,x,M,_,F,X,ie){var fe=Je(l,x,_,ie),ye=fe.begin,ke=fe.end;/\s/.test(x.text.charAt(ke-1))&&ke--;for(var et=null,st=null,Pt=0;Pt<F.length;Pt++){var Mt=F[Pt];if(!(Mt.from>=ke||Mt.to<=ye)){var an=Mt.level!=1,gn=s(l,_,an?Math.min(ke,Mt.to)-1:Math.max(ye,Mt.from)).right,Tn=gn<X?X-gn+1e9:gn-X;(!et||st>Tn)&&(et=Mt,st=Tn)}}return et||(et=F[F.length-1]),et.from<ye&&(et={from:ye,to:et.to,level:et.level}),et.to>ke&&(et={from:et.from,to:ke,level:et.level}),et}var ae;function De(l){if(l.cachedTextHeight!=null)return l.cachedTextHeight;if(ae==null){ae=ge("pre",null,"CodeMirror-line-like");for(var x=0;x<49;++x)ae.appendChild(document.createTextNode("x")),ae.appendChild(ge("br"));ae.appendChild(document.createTextNode("x"))}ut(l.measure,ae);var M=ae.offsetHeight/50;return M>3&&(l.cachedTextHeight=M),mt(l.measure),M||1}function ze(l){if(l.cachedCharWidth!=null)return l.cachedCharWidth;var x=ge("span","xxxxxxxxxx"),M=ge("pre",[x],"CodeMirror-line-like");ut(l.measure,M);var _=x.getBoundingClientRect(),F=(_.right-_.left)/10;return F>2&&(l.cachedCharWidth=F),F||10}function vt(l){for(var x=l.display,M={},_={},F=x.gutters.clientLeft,X=x.gutters.firstChild,ie=0;X;X=X.nextSibling,++ie){var fe=l.display.gutterSpecs[ie].className;M[fe]=X.offsetLeft+X.clientLeft+F,_[fe]=X.clientWidth}return{fixedPos:tt(x),gutterTotalWidth:x.gutters.offsetWidth,gutterLeft:M,gutterWidth:_,wrapperWidth:x.wrapper.clientWidth}}function tt(l){return l.scroller.getBoundingClientRect().left-l.sizer.getBoundingClientRect().left}function xt(l){var x=De(l.display),M=l.options.lineWrapping,_=M&&Math.max(5,l.display.scroller.clientWidth/ze(l.display)-3);return function(F){if(ks(l.doc,F))return 0;var X=0;if(F.widgets)for(var ie=0;ie<F.widgets.length;ie++)F.widgets[ie].height&&(X+=F.widgets[ie].height);return M?X+(Math.ceil(F.text.length/_)||1)*x:X+x}}function Rt(l){var x=l.doc,M=xt(l);x.iter(function(_){var F=M(_);F!=_.height&&br(_,F)})}function Et(l,x,M,_){var F=l.display;if(!M&&Mi(x).getAttribute("cm-not-content")=="true")return null;var X,ie,fe=F.lineSpace.getBoundingClientRect();try{X=x.clientX-fe.left,ie=x.clientY-fe.top}catch{return null}var ye=ot(l,X,ie),ke;if(_&&ye.xRel>0&&(ke=mn(l.doc,ye.line).text).length==ye.ch){var et=rt(ke,ke.length,l.options.tabSize)-ke.length;ye=cn(ye.line,Math.max(0,Math.round((X-Ms(l.display).left)/ze(l.display))-et))}return ye}function Vt(l,x){if(x>=l.display.viewTo||(x-=l.display.viewFrom,x<0))return null;for(var M=l.display.view,_=0;_<M.length;_++)if(x-=M[_].size,x<0)return _}function dn(l,x,M,_){x==null&&(x=l.doc.first),M==null&&(M=l.doc.first+l.doc.size),_||(_=0);var F=l.display;if(_&&M<F.viewTo&&(F.updateLineNumbers==null||F.updateLineNumbers>x)&&(F.updateLineNumbers=x),l.curOp.viewChanged=!0,x>=F.viewTo)ei&&kl(l.doc,x)<F.viewTo&&In(l);else if(M<=F.viewFrom)ei&&gi(l.doc,M+_)>F.viewFrom?In(l):(F.viewFrom+=_,F.viewTo+=_);else if(x<=F.viewFrom&&M>=F.viewTo)In(l);else if(x<=F.viewFrom){var X=rr(l,M,M+_,1);X?(F.view=F.view.slice(X.index),F.viewFrom=X.lineN,F.viewTo+=_):In(l)}else if(M>=F.viewTo){var ie=rr(l,x,x,-1);ie?(F.view=F.view.slice(0,ie.index),F.viewTo=ie.lineN):In(l)}else{var fe=rr(l,x,x,-1),ye=rr(l,M,M+_,1);fe&&ye?(F.view=F.view.slice(0,fe.index).concat(jn(l,fe.lineN,ye.lineN)).concat(F.view.slice(ye.index)),F.viewTo+=_):In(l)}var ke=F.externalMeasured;ke&&(M<ke.lineN?ke.lineN+=_:x<ke.lineN+ke.size&&(F.externalMeasured=null))}function Nn(l,x,M){l.curOp.viewChanged=!0;var _=l.display,F=l.display.externalMeasured;if(F&&x>=F.lineN&&x<F.lineN+F.size&&(_.externalMeasured=null),!(x<_.viewFrom||x>=_.viewTo)){var X=_.view[Vt(l,x)];if(X.node!=null){var ie=X.changes||(X.changes=[]);_t(ie,M)==-1&&ie.push(M)}}}function In(l){l.display.viewFrom=l.display.viewTo=l.doc.first,l.display.view=[],l.display.viewOffset=0}function rr(l,x,M,_){var F=Vt(l,x),X,ie=l.display.view;if(!ei||M==l.doc.first+l.doc.size)return{index:F,lineN:M};for(var fe=l.display.viewFrom,ye=0;ye<F;ye++)fe+=ie[ye].size;if(fe!=x){if(_>0){if(F==ie.length-1)return null;X=fe+ie[F].size-x,F++}else X=fe-x;x+=X,M+=X}for(;kl(l.doc,M)!=M;){if(F==(_<0?0:ie.length-1))return null;M+=_*ie[F-(_<0?1:0)].size,F+=_}return{index:F,lineN:M}}function Rn(l,x,M){var _=l.display,F=_.view;F.length==0||x>=_.viewTo||M<=_.viewFrom?(_.view=jn(l,x,M),_.viewFrom=x):(_.viewFrom>x?_.view=jn(l,x,_.viewFrom).concat(_.view):_.viewFrom<x&&(_.view=_.view.slice(Vt(l,x))),_.viewFrom=x,_.viewTo<M?_.view=_.view.concat(jn(l,_.viewTo,M)):_.viewTo>M&&(_.view=_.view.slice(0,Vt(l,M)))),_.viewTo=M}function sr(l){for(var x=l.display.view,M=0,_=0;_<x.length;_++){var F=x[_];!F.hidden&&(!F.node||F.changes)&&++M}return M}function _r(l){l.display.input.showSelection(l.display.input.prepareSelection())}function ea(l,x){x===void 0&&(x=!0);var M=l.doc,_={},F=_.cursors=document.createDocumentFragment(),X=_.selection=document.createDocumentFragment(),ie=l.options.$customCursor;ie&&(x=!0);for(var fe=0;fe<M.sel.ranges.length;fe++)if(!(!x&&fe==M.sel.primIndex)){var ye=M.sel.ranges[fe];if(!(ye.from().line>=l.display.viewTo||ye.to().line<l.display.viewFrom)){var ke=ye.empty();if(ie){var et=ie(l,ye);et&&wr(l,et,F)}else(ke||l.options.showCursorWhenSelecting)&&wr(l,ye.head,F);ke||ui(l,ye,X)}}return _}function wr(l,x,M){var _=Le(l,x,"div",null,null,!l.options.singleCursorHeightPerLine),F=M.appendChild(ge("div","","CodeMirror-cursor"));if(F.style.left=_.left+"px",F.style.top=_.top+"px",F.style.height=Math.max(0,_.bottom-_.top)*l.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(l.getWrapperElement().className)){var X=Oe(l,x,"div",null,null),ie=X.right-X.left;F.style.width=(ie>0?ie:l.defaultCharWidth())+"px"}if(_.other){var fe=M.appendChild(ge("div","","CodeMirror-cursor CodeMirror-secondarycursor"));fe.style.display="",fe.style.left=_.other.left+"px",fe.style.top=_.other.top+"px",fe.style.height=(_.other.bottom-_.other.top)*.85+"px"}}function jr(l,x){return l.top-x.top||l.left-x.left}function ui(l,x,M){var _=l.display,F=l.doc,X=document.createDocumentFragment(),ie=Ms(l.display),fe=ie.left,ye=Math.max(_.sizerWidth,Ho(l)-_.sizer.offsetLeft)-ie.right,ke=F.direction=="ltr";function et(wn,Kn,Cr,dr){Kn<0&&(Kn=0),Kn=Math.round(Kn),dr=Math.round(dr),X.appendChild(ge("div",null,"CodeMirror-selected","position: absolute; left: "+wn+`px;
                             top: `+Kn+"px; width: "+(Cr??ye-wn)+`px;
                             height: `+(dr-Kn)+"px"))}function st(wn,Kn,Cr){var dr=mn(F,wn),ii=dr.text.length,Wi,bs;function oo(Wo,ul){return Oe(l,cn(wn,Wo),"div",dr,ul)}function Gs(Wo,ul,Ns){var Go=wt(l,dr,null,Wo),Ro=ul=="ltr"==(Ns=="after")?"left":"right",eo=Ns=="after"?Go.begin:Go.end-(/\s/.test(dr.text.charAt(Go.end-1))?2:1);return oo(eo,Ro)[Ro]}var yo=at(dr,F.direction);return it(yo,Kn||0,Cr??ii,function(Wo,ul,Ns,Go){var Ro=Ns=="ltr",eo=oo(Wo,Ro?"left":"right"),Sl=oo(ul-1,Ro?"right":"left"),Ql=Kn==null&&Wo==0,ja=Cr==null&&ul==ii,Ls=Go==0,tc=!yo||Go==yo.length-1;if(Sl.top-eo.top<=3){var Pi=(ke?Ql:ja)&&Ls,Yd=(ke?ja:Ql)&&tc,kc=Pi?fe:(Ro?eo:Sl).left,kf=Yd?ye:(Ro?Sl:eo).right;et(kc,eo.top,kf-kc,eo.bottom)}else{var ba,Ta,Jl,X0;Ro?(ba=ke&&Ql&&Ls?fe:eo.left,Ta=ke?ye:Gs(Wo,Ns,"before"),Jl=ke?fe:Gs(ul,Ns,"after"),X0=ke&&ja&&tc?ye:Sl.right):(ba=ke?Gs(Wo,Ns,"before"):fe,Ta=!ke&&Ql&&Ls?ye:eo.right,Jl=!ke&&ja&&tc?fe:Sl.left,X0=ke?Gs(ul,Ns,"after"):ye),et(ba,eo.top,Ta-ba,eo.bottom),eo.bottom<Sl.top&&et(fe,eo.bottom,null,Sl.top),et(Jl,Sl.top,X0-Jl,Sl.bottom)}(!Wi||jr(eo,Wi)<0)&&(Wi=eo),jr(Sl,Wi)<0&&(Wi=Sl),(!bs||jr(eo,bs)<0)&&(bs=eo),jr(Sl,bs)<0&&(bs=Sl)}),{start:Wi,end:bs}}var Pt=x.from(),Mt=x.to();if(Pt.line==Mt.line)st(Pt.line,Pt.ch,Mt.ch);else{var an=mn(F,Pt.line),gn=mn(F,Mt.line),Tn=Ma(an)==Ma(gn),Fn=st(Pt.line,Pt.ch,Tn?an.text.length+1:null).end,zn=st(Mt.line,Tn?0:null,Mt.ch).start;Tn&&(Fn.top<zn.top-2?(et(Fn.right,Fn.top,null,Fn.bottom),et(fe,zn.top,zn.left,zn.bottom)):et(Fn.right,Fn.top,zn.left-Fn.right,Fn.bottom)),Fn.bottom<zn.top&&et(fe,Fn.bottom,null,zn.top)}M.appendChild(X)}function ua(l){if(l.state.focused){var x=l.display;clearInterval(x.blinker);var M=!0;x.cursorDiv.style.visibility="",l.options.cursorBlinkRate>0?x.blinker=setInterval(function(){l.hasFocus()||ca(l),x.cursorDiv.style.visibility=(M=!M)?"":"hidden"},l.options.cursorBlinkRate):l.options.cursorBlinkRate<0&&(x.cursorDiv.style.visibility="hidden")}}function pi(l){l.hasFocus()||(l.display.input.focus(),l.state.focused||Fi(l))}function za(l){l.state.delayingBlurEvent=!0,setTimeout(function(){l.state.delayingBlurEvent&&(l.state.delayingBlurEvent=!1,l.state.focused&&ca(l))},100)}function Fi(l,x){l.state.delayingBlurEvent&&!l.state.draggingText&&(l.state.delayingBlurEvent=!1),l.options.readOnly!="nocursor"&&(l.state.focused||(Cn(l,"focus",l,x),l.state.focused=!0,ue(l.display.wrapper,"CodeMirror-focused"),!l.curOp&&l.display.selForContextMenu!=l.doc.sel&&(l.display.input.reset(),v&&setTimeout(function(){return l.display.input.reset(!0)},20)),l.display.input.receivedFocus()),ua(l))}function ca(l,x){l.state.delayingBlurEvent||(l.state.focused&&(Cn(l,"blur",l,x),l.state.focused=!1,qe(l.display.wrapper,"CodeMirror-focused")),clearInterval(l.display.blinker),setTimeout(function(){l.state.focused||(l.display.shift=!1)},150))}function fa(l){for(var x=l.display,M=x.lineDiv.offsetTop,_=Math.max(0,x.scroller.getBoundingClientRect().top),F=x.lineDiv.getBoundingClientRect().top,X=0,ie=0;ie<x.view.length;ie++){var fe=x.view[ie],ye=l.options.lineWrapping,ke=void 0,et=0;if(!fe.hidden){if(F+=fe.line.height,a&&u<8){var st=fe.node.offsetTop+fe.node.offsetHeight;ke=st-M,M=st}else{var Pt=fe.node.getBoundingClientRect();ke=Pt.bottom-Pt.top,!ye&&fe.text.firstChild&&(et=fe.text.firstChild.getBoundingClientRect().right-Pt.left-1)}var Mt=fe.line.height-ke;if((Mt>.005||Mt<-.005)&&(F<_&&(X-=Mt),br(fe.line,ke),ma(fe.line),fe.rest))for(var an=0;an<fe.rest.length;an++)ma(fe.rest[an]);if(et>l.display.sizerWidth){var gn=Math.ceil(et/ze(l.display));gn>l.display.maxLineLength&&(l.display.maxLineLength=gn,l.display.maxLine=fe.line,l.display.maxLineChanged=!0)}}}Math.abs(X)>2&&(x.scroller.scrollTop+=X)}function ma(l){if(l.widgets)for(var x=0;x<l.widgets.length;++x){var M=l.widgets[x],_=M.node.parentNode;_&&(M.height=_.offsetHeight)}}function Eo(l,x,M){var _=M&&M.top!=null?Math.max(0,M.top):l.scroller.scrollTop;_=Math.floor(_-Ka(l));var F=M&&M.bottom!=null?M.bottom:_+l.wrapper.clientHeight,X=fr(x,_),ie=fr(x,F);if(M&&M.ensure){var fe=M.ensure.from.line,ye=M.ensure.to.line;fe<X?(X=fe,ie=fr(x,Fa(mn(x,fe))+l.wrapper.clientHeight)):Math.min(ye,x.lastLine())>=ie&&(X=fr(x,Fa(mn(x,ye))-l.wrapper.clientHeight),ie=ye)}return{from:X,to:Math.max(ie,X+1)}}function ru(l,x){if(!vn(l,"scrollCursorIntoView")){var M=l.display,_=M.sizer.getBoundingClientRect(),F=null,X=M.wrapper.ownerDocument;if(x.top+_.top<0?F=!0:x.bottom+_.top>(X.defaultView.innerHeight||X.documentElement.clientHeight)&&(F=!1),F!=null&&!O){var ie=ge("div","",null,`position: absolute;
                         top: `+(x.top-M.viewOffset-Ka(l.display))+`px;
                         height: `+(x.bottom-x.top+Qo(l)+M.barHeight)+`px;
                         left: `+x.left+"px; width: "+Math.max(2,x.right-x.left)+"px;");l.display.lineSpace.appendChild(ie),ie.scrollIntoView(F),l.display.lineSpace.removeChild(ie)}}}function zs(l,x,M,_){_==null&&(_=0);var F;!l.options.lineWrapping&&x==M&&(M=x.sticky=="before"?cn(x.line,x.ch+1,"before"):x,x=x.ch?cn(x.line,x.sticky=="before"?x.ch-1:x.ch,"after"):x);for(var X=0;X<5;X++){var ie=!1,fe=Le(l,x),ye=!M||M==x?fe:Le(l,M);F={left:Math.min(fe.left,ye.left),top:Math.min(fe.top,ye.top)-_,right:Math.max(fe.left,ye.left),bottom:Math.max(fe.bottom,ye.bottom)+_};var ke=el(l,F),et=l.doc.scrollTop,st=l.doc.scrollLeft;if(ke.scrollTop!=null&&(ji(l,ke.scrollTop),Math.abs(l.doc.scrollTop-et)>1&&(ie=!0)),ke.scrollLeft!=null&&(To(l,ke.scrollLeft),Math.abs(l.doc.scrollLeft-st)>1&&(ie=!0)),!ie)break}return F}function ds(l,x){var M=el(l,x);M.scrollTop!=null&&ji(l,M.scrollTop),M.scrollLeft!=null&&To(l,M.scrollLeft)}function el(l,x){var M=l.display,_=De(l.display);x.top<0&&(x.top=0);var F=l.curOp&&l.curOp.scrollTop!=null?l.curOp.scrollTop:M.scroller.scrollTop,X=Pa(l),ie={};x.bottom-x.top>X&&(x.bottom=x.top+X);var fe=l.doc.height+hs(M),ye=x.top<_,ke=x.bottom>fe-_;if(x.top<F)ie.scrollTop=ye?0:x.top;else if(x.bottom>F+X){var et=Math.min(x.top,(ke?fe:x.bottom)-X);et!=F&&(ie.scrollTop=et)}var st=l.options.fixedGutter?0:M.gutters.offsetWidth,Pt=l.curOp&&l.curOp.scrollLeft!=null?l.curOp.scrollLeft:M.scroller.scrollLeft-st,Mt=Ho(l)-M.gutters.offsetWidth,an=x.right-x.left>Mt;return an&&(x.right=x.left+Mt),x.left<10?ie.scrollLeft=0:x.left<Pt?ie.scrollLeft=Math.max(0,x.left+st-(an?0:10)):x.right>Mt+Pt-3&&(ie.scrollLeft=x.right+(an?0:10)-Mt),ie}function Ha(l,x){x!=null&&(Ua(l),l.curOp.scrollTop=(l.curOp.scrollTop==null?l.doc.scrollTop:l.curOp.scrollTop)+x)}function po(l){Ua(l);var x=l.getCursor();l.curOp.scrollToPos={from:x,to:x,margin:l.options.cursorScrollMargin}}function Ao(l,x,M){(x!=null||M!=null)&&Ua(l),x!=null&&(l.curOp.scrollLeft=x),M!=null&&(l.curOp.scrollTop=M)}function Za(l,x){Ua(l),l.curOp.scrollToPos=x}function Ua(l){var x=l.curOp.scrollToPos;if(x){l.curOp.scrollToPos=null;var M=Xe(l,x.from),_=Xe(l,x.to);gs(l,M,_,x.margin)}}function gs(l,x,M,_){var F=el(l,{left:Math.min(x.left,M.left),top:Math.min(x.top,M.top)-_,right:Math.max(x.right,M.right),bottom:Math.max(x.bottom,M.bottom)+_});Ao(l,F.scrollLeft,F.scrollTop)}function ji(l,x){Math.abs(l.doc.scrollTop-x)<2||(o||Ja(l,{top:x}),Jo(l,x,!0),o&&Ja(l),Do(l,100))}function Jo(l,x,M){x=Math.max(0,Math.min(l.display.scroller.scrollHeight-l.display.scroller.clientHeight,x)),!(l.display.scroller.scrollTop==x&&!M)&&(l.doc.scrollTop=x,l.display.scrollbars.setScrollTop(x),l.display.scroller.scrollTop!=x&&(l.display.scroller.scrollTop=x))}function To(l,x,M,_){x=Math.max(0,Math.min(x,l.display.scroller.scrollWidth-l.display.scroller.clientWidth)),!((M?x==l.doc.scrollLeft:Math.abs(l.doc.scrollLeft-x)<2)&&!_)&&(l.doc.scrollLeft=x,bc(l),l.display.scroller.scrollLeft!=x&&(l.display.scroller.scrollLeft=x),l.display.scrollbars.setScrollLeft(x))}function bu(l){var x=l.display,M=x.gutters.offsetWidth,_=Math.round(l.doc.height+hs(l.display));return{clientHeight:x.scroller.clientHeight,viewHeight:x.wrapper.clientHeight,scrollWidth:x.scroller.scrollWidth,clientWidth:x.scroller.clientWidth,viewWidth:x.wrapper.clientWidth,barLeft:l.options.fixedGutter?M:0,docHeight:_,scrollHeight:_+Qo(l)+x.barHeight,nativeBarWidth:x.nativeBarWidth,gutterWidth:M}}var Ol=function(l,x,M){this.cm=M;var _=this.vert=ge("div",[ge("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),F=this.horiz=ge("div",[ge("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");_.tabIndex=F.tabIndex=-1,l(_),l(F),yt(_,"scroll",function(){_.clientHeight&&x(_.scrollTop,"vertical")}),yt(F,"scroll",function(){F.clientWidth&&x(F.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ol.prototype.update=function(l){var x=l.scrollWidth>l.clientWidth+1,M=l.scrollHeight>l.clientHeight+1,_=l.nativeBarWidth;if(M){this.vert.style.display="block",this.vert.style.bottom=x?_+"px":"0";var F=l.viewHeight-(x?_:0);this.vert.firstChild.style.height=Math.max(0,l.scrollHeight-l.clientHeight+F)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(x){this.horiz.style.display="block",this.horiz.style.right=M?_+"px":"0",this.horiz.style.left=l.barLeft+"px";var X=l.viewWidth-l.barLeft-(M?_:0);this.horiz.firstChild.style.width=Math.max(0,l.scrollWidth-l.clientWidth+X)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&l.clientHeight>0&&(_==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:M?_:0,bottom:x?_:0}},Ol.prototype.setScrollLeft=function(l){this.horiz.scrollLeft!=l&&(this.horiz.scrollLeft=l),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ol.prototype.setScrollTop=function(l){this.vert.scrollTop!=l&&(this.vert.scrollTop=l),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ol.prototype.zeroWidthHack=function(){var l=q&&!S?"12px":"18px";this.horiz.style.height=this.vert.style.width=l,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new jt,this.disableVert=new jt},Ol.prototype.enableZeroWidthBar=function(l,x,M){l.style.visibility="";function _(){var F=l.getBoundingClientRect(),X=M=="vert"?document.elementFromPoint(F.right-1,(F.top+F.bottom)/2):document.elementFromPoint((F.right+F.left)/2,F.bottom-1);X!=l?l.style.visibility="hidden":x.set(1e3,_)}x.set(1e3,_)},Ol.prototype.clear=function(){var l=this.horiz.parentNode;l.removeChild(this.horiz),l.removeChild(this.vert)};var wu=function(){};wu.prototype.update=function(){return{bottom:0,right:0}},wu.prototype.setScrollLeft=function(){},wu.prototype.setScrollTop=function(){},wu.prototype.clear=function(){};function iu(l,x){x||(x=bu(l));var M=l.display.barWidth,_=l.display.barHeight;qa(l,x);for(var F=0;F<4&&M!=l.display.barWidth||_!=l.display.barHeight;F++)M!=l.display.barWidth&&l.options.lineWrapping&&fa(l),qa(l,bu(l)),M=l.display.barWidth,_=l.display.barHeight}function qa(l,x){var M=l.display,_=M.scrollbars.update(x);M.sizer.style.paddingRight=(M.barWidth=_.right)+"px",M.sizer.style.paddingBottom=(M.barHeight=_.bottom)+"px",M.heightForcer.style.borderBottom=_.bottom+"px solid transparent",_.right&&_.bottom?(M.scrollbarFiller.style.display="block",M.scrollbarFiller.style.height=_.bottom+"px",M.scrollbarFiller.style.width=_.right+"px"):M.scrollbarFiller.style.display="",_.bottom&&l.options.coverGutterNextToScrollbar&&l.options.fixedGutter?(M.gutterFiller.style.display="block",M.gutterFiller.style.height=_.bottom+"px",M.gutterFiller.style.width=x.gutterWidth+"px"):M.gutterFiller.style.display=""}var va={native:Ol,null:wu};function ri(l){l.display.scrollbars&&(l.display.scrollbars.clear(),l.display.scrollbars.addClass&&qe(l.display.wrapper,l.display.scrollbars.addClass)),l.display.scrollbars=new va[l.options.scrollbarStyle](function(x){l.display.wrapper.insertBefore(x,l.display.scrollbarFiller),yt(x,"mousedown",function(){l.state.focused&&setTimeout(function(){return l.display.input.focus()},0)}),x.setAttribute("cm-not-content","true")},function(x,M){M=="horizontal"?To(l,x):ji(l,x)},l),l.display.scrollbars.addClass&&ue(l.display.wrapper,l.display.scrollbars.addClass)}var $o=0;function Ia(l){l.curOp={cm:l,viewChanged:!1,startHeight:l.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$o,markArrays:null},di(l.curOp)}function vl(l){var x=l.curOp;x&&qs(x,function(M){for(var _=0;_<M.ops.length;_++)M.ops[_].cm.curOp=null;Os(M)})}function Os(l){for(var x=l.ops,M=0;M<x.length;M++)ff(x[M]);for(var _=0;_<x.length;_++)tl(x[_]);for(var F=0;F<x.length;F++)Wl(x[F]);for(var X=0;X<x.length;X++)yl(x[X]);for(var ie=0;ie<x.length;ie++)Cu(x[ie])}function ff(l){var x=l.cm,M=x.display;xc(x),l.updateMaxLine&&Qt(x),l.mustUpdate=l.viewChanged||l.forceUpdate||l.scrollTop!=null||l.scrollToPos&&(l.scrollToPos.from.line<M.viewFrom||l.scrollToPos.to.line>=M.viewTo)||M.maxLineChanged&&x.options.lineWrapping,l.update=l.mustUpdate&&new nl(x,l.mustUpdate&&{top:l.scrollTop,ensure:l.scrollToPos},l.forceUpdate)}function tl(l){l.updatedDisplay=l.mustUpdate&&Is(l.cm,l.update)}function Wl(l){var x=l.cm,M=x.display;l.updatedDisplay&&fa(x),l.barMeasure=bu(x),M.maxLineChanged&&!x.options.lineWrapping&&(l.adjustWidthTo=Er(x,M.maxLine,M.maxLine.text.length).left+3,x.display.sizerWidth=l.adjustWidthTo,l.barMeasure.scrollWidth=Math.max(M.scroller.clientWidth,M.sizer.offsetLeft+l.adjustWidthTo+Qo(x)+x.display.barWidth),l.maxScrollLeft=Math.max(0,M.sizer.offsetLeft+l.adjustWidthTo-Ho(x))),(l.updatedDisplay||l.selectionChanged)&&(l.preparedSelection=M.input.prepareSelection())}function yl(l){var x=l.cm;l.adjustWidthTo!=null&&(x.display.sizer.style.minWidth=l.adjustWidthTo+"px",l.maxScrollLeft<x.doc.scrollLeft&&To(x,Math.min(x.display.scroller.scrollLeft,l.maxScrollLeft),!0),x.display.maxLineChanged=!1);var M=l.focus&&l.focus==Me(be(x));l.preparedSelection&&x.display.input.showSelection(l.preparedSelection,M),(l.updatedDisplay||l.startHeight!=x.doc.height)&&iu(x,l.barMeasure),l.updatedDisplay&&Hc(x,l.barMeasure),l.selectionChanged&&ua(x),x.state.focused&&l.updateInput&&x.display.input.reset(l.typing),M&&pi(l.cm)}function Cu(l){var x=l.cm,M=x.display,_=x.doc;if(l.updatedDisplay&&sa(x,l.update),M.wheelStartX!=null&&(l.scrollTop!=null||l.scrollLeft!=null||l.scrollToPos)&&(M.wheelStartX=M.wheelStartY=null),l.scrollTop!=null&&Jo(x,l.scrollTop,l.forceScroll),l.scrollLeft!=null&&To(x,l.scrollLeft,!0,!0),l.scrollToPos){var F=zs(x,Zn(_,l.scrollToPos.from),Zn(_,l.scrollToPos.to),l.scrollToPos.margin);ru(x,F)}var X=l.maybeHiddenMarkers,ie=l.maybeUnhiddenMarkers;if(X)for(var fe=0;fe<X.length;++fe)X[fe].lines.length||Cn(X[fe],"hide");if(ie)for(var ye=0;ye<ie.length;++ye)ie[ye].lines.length&&Cn(ie[ye],"unhide");M.wrapper.offsetHeight&&(_.scrollTop=x.display.scroller.scrollTop),l.changeObjs&&Cn(x,"changes",x,l.changeObjs),l.update&&l.update.finish()}function Qa(l,x){if(l.curOp)return x();Ia(l);try{return x()}finally{vl(l)}}function oa(l,x){return function(){if(l.curOp)return x.apply(l,arguments);Ia(l);try{return x.apply(l,arguments)}finally{vl(l)}}}function Ra(l){return function(){if(this.curOp)return l.apply(this,arguments);Ia(this);try{return l.apply(this,arguments)}finally{vl(this)}}}function Zr(l){return function(){var x=this.cm;if(!x||x.curOp)return l.apply(this,arguments);Ia(x);try{return l.apply(this,arguments)}finally{vl(x)}}}function Do(l,x){l.doc.highlightFrontier<l.display.viewTo&&l.state.highlight.set(x,ct(Hs,l))}function Hs(l){var x=l.doc;if(!(x.highlightFrontier>=l.display.viewTo)){var M=+new Date+l.options.workTime,_=pa(l,x.highlightFrontier),F=[];x.iter(_.line,Math.min(x.first+x.size,l.display.viewTo+500),function(X){if(_.line>=l.display.viewFrom){var ie=X.styles,fe=X.text.length>l.options.maxHighlightLength?bi(x.mode,_.state):null,ye=Gn(l,X,_,!0);fe&&(_.state=fe),X.styles=ye.styles;var ke=X.styleClasses,et=ye.classes;et?X.styleClasses=et:ke&&(X.styleClasses=null);for(var st=!ie||ie.length!=X.styles.length||ke!=et&&(!ke||!et||ke.bgClass!=et.bgClass||ke.textClass!=et.textClass),Pt=0;!st&&Pt<ie.length;++Pt)st=ie[Pt]!=X.styles[Pt];st&&F.push(_.line),X.stateAfter=_.save(),_.nextLine()}else X.text.length<=l.options.maxHighlightLength&&nt(l,X.text,_),X.stateAfter=_.line%5==0?_.save():null,_.nextLine();if(+new Date>M)return Do(l,l.options.workDelay),!0}),x.highlightFrontier=_.line,x.modeFrontier=Math.max(x.modeFrontier,_.line),F.length&&Qa(l,function(){for(var X=0;X<F.length;X++)Nn(l,F[X],"text")})}}var nl=function(l,x,M){var _=l.display;this.viewport=x,this.visible=Eo(_,l.doc,x),this.editorIsHidden=!_.wrapper.offsetWidth,this.wrapperHeight=_.wrapper.clientHeight,this.wrapperWidth=_.wrapper.clientWidth,this.oldDisplayWidth=Ho(l),this.force=M,this.dims=vt(l),this.events=[]};nl.prototype.signal=function(l,x){Yn(l,x)&&this.events.push(arguments)},nl.prototype.finish=function(){for(var l=0;l<this.events.length;l++)Cn.apply(null,this.events[l])};function xc(l){var x=l.display;!x.scrollbarsClipped&&x.scroller.offsetWidth&&(x.nativeBarWidth=x.scroller.offsetWidth-x.scroller.clientWidth,x.heightForcer.style.height=Qo(l)+"px",x.sizer.style.marginBottom=-x.nativeBarWidth+"px",x.sizer.style.borderRightWidth=Qo(l)+"px",x.scrollbarsClipped=!0)}function es(l){if(l.hasFocus())return null;var x=Me(be(l));if(!x||!lt(l.display.lineDiv,x))return null;var M={activeElt:x};if(window.getSelection){var _=Fe(l).getSelection();_.anchorNode&&_.extend&&lt(l.display.lineDiv,_.anchorNode)&&(M.anchorNode=_.anchorNode,M.anchorOffset=_.anchorOffset,M.focusNode=_.focusNode,M.focusOffset=_.focusOffset)}return M}function Il(l){if(!(!l||!l.activeElt||l.activeElt==Me(Te(l.activeElt)))&&(l.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(l.activeElt.nodeName)&&l.anchorNode&&lt(document.body,l.anchorNode)&&lt(document.body,l.focusNode))){var x=l.activeElt.ownerDocument,M=x.defaultView.getSelection(),_=x.createRange();_.setEnd(l.anchorNode,l.anchorOffset),_.collapse(!1),M.removeAllRanges(),M.addRange(_),M.extend(l.focusNode,l.focusOffset)}}function Is(l,x){var M=l.display,_=l.doc;if(x.editorIsHidden)return In(l),!1;if(!x.force&&x.visible.from>=M.viewFrom&&x.visible.to<=M.viewTo&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo)&&M.renderedView==M.view&&sr(l)==0)return!1;Aa(l)&&(In(l),x.dims=vt(l));var F=_.first+_.size,X=Math.max(x.visible.from-l.options.viewportMargin,_.first),ie=Math.min(F,x.visible.to+l.options.viewportMargin);M.viewFrom<X&&X-M.viewFrom<20&&(X=Math.max(_.first,M.viewFrom)),M.viewTo>ie&&M.viewTo-ie<20&&(ie=Math.min(F,M.viewTo)),ei&&(X=kl(l.doc,X),ie=gi(l.doc,ie));var fe=X!=M.viewFrom||ie!=M.viewTo||M.lastWrapHeight!=x.wrapperHeight||M.lastWrapWidth!=x.wrapperWidth;Rn(l,X,ie),M.viewOffset=Fa(mn(l.doc,M.viewFrom)),l.display.mover.style.top=M.viewOffset+"px";var ye=sr(l);if(!fe&&ye==0&&!x.force&&M.renderedView==M.view&&(M.updateLineNumbers==null||M.updateLineNumbers>=M.viewTo))return!1;var ke=es(l);return ye>4&&(M.lineDiv.style.display="none"),Yu(l,M.updateLineNumbers,x.dims),ye>4&&(M.lineDiv.style.display=""),M.renderedView=M.view,Il(ke),mt(M.cursorDiv),mt(M.selectionDiv),M.gutters.style.height=M.sizer.style.minHeight=0,fe&&(M.lastWrapHeight=x.wrapperHeight,M.lastWrapWidth=x.wrapperWidth,Do(l,400)),M.updateLineNumbers=null,!0}function sa(l,x){for(var M=x.viewport,_=!0;;_=!1){if(!_||!l.options.lineWrapping||x.oldDisplayWidth==Ho(l)){if(M&&M.top!=null&&(M={top:Math.min(l.doc.height+hs(l.display)-Pa(l),M.top)}),x.visible=Eo(l.display,l.doc,M),x.visible.from>=l.display.viewFrom&&x.visible.to<=l.display.viewTo)break}else _&&(x.visible=Eo(l.display,l.doc,M));if(!Is(l,x))break;fa(l);var F=bu(l);_r(l),iu(l,F),Hc(l,F),x.force=!1}x.signal(l,"update",l),(l.display.viewFrom!=l.display.reportedViewFrom||l.display.viewTo!=l.display.reportedViewTo)&&(x.signal(l,"viewportChange",l,l.display.viewFrom,l.display.viewTo),l.display.reportedViewFrom=l.display.viewFrom,l.display.reportedViewTo=l.display.viewTo)}function Ja(l,x){var M=new nl(l,x);if(Is(l,M)){fa(l),sa(l,M);var _=bu(l);_r(l),iu(l,_),Hc(l,_),M.finish()}}function Yu(l,x,M){var _=l.display,F=l.options.lineNumbers,X=_.lineDiv,ie=X.firstChild;function fe(an){var gn=an.nextSibling;return v&&q&&l.display.currentWheelTarget==an?an.style.display="none":an.parentNode.removeChild(an),gn}for(var ye=_.view,ke=_.viewFrom,et=0;et<ye.length;et++){var st=ye[et];if(!st.hidden)if(!st.node||st.node.parentNode!=X){var Pt=ml(l,st,ke,M);X.insertBefore(Pt,ie)}else{for(;ie!=st.node;)ie=fe(ie);var Mt=F&&x!=null&&x<=ke&&st.lineNumber;st.changes&&(_t(st.changes,"gutter")>-1&&(Mt=!1),Ps(l,st,ke,M)),Mt&&(mt(st.lineNumber),st.lineNumber.appendChild(document.createTextNode(fo(l.options,ke)))),ie=st.node.nextSibling}ke+=st.size}for(;ie;)ie=fe(ie)}function Uo(l){var x=l.gutters.offsetWidth;l.sizer.style.marginLeft=x+"px",oi(l,"gutterChanged",l)}function Hc(l,x){l.display.sizer.style.minHeight=x.docHeight+"px",l.display.heightForcer.style.top=x.docHeight+"px",l.display.gutters.style.height=x.docHeight+l.display.barHeight+Qo(l)+"px"}function bc(l){var x=l.display,M=x.view;if(!(!x.alignWidgets&&(!x.gutters.firstChild||!l.options.fixedGutter))){for(var _=tt(x)-x.scroller.scrollLeft+l.doc.scrollLeft,F=x.gutters.offsetWidth,X=_+"px",ie=0;ie<M.length;ie++)if(!M[ie].hidden){l.options.fixedGutter&&(M[ie].gutter&&(M[ie].gutter.style.left=X),M[ie].gutterBackground&&(M[ie].gutterBackground.style.left=X));var fe=M[ie].alignable;if(fe)for(var ye=0;ye<fe.length;ye++)fe[ye].style.left=X}l.options.fixedGutter&&(x.gutters.style.left=_+F+"px")}}function Aa(l){if(!l.options.lineNumbers)return!1;var x=l.doc,M=fo(l.options,x.first+x.size-1),_=l.display;if(M.length!=_.lineNumChars){var F=_.measure.appendChild(ge("div",[ge("div",M)],"CodeMirror-linenumber CodeMirror-gutter-elt")),X=F.firstChild.offsetWidth,ie=F.offsetWidth-X;return _.lineGutter.style.width="",_.lineNumInnerWidth=Math.max(X,_.lineGutter.offsetWidth-ie)+1,_.lineNumWidth=_.lineNumInnerWidth+ie,_.lineNumChars=_.lineNumInnerWidth?M.length:-1,_.lineGutter.style.width=_.lineNumWidth+"px",Uo(l.display),!0}return!1}function wc(l,x){for(var M=[],_=!1,F=0;F<l.length;F++){var X=l[F],ie=null;if(typeof X!="string"&&(ie=X.style,X=X.className),X=="CodeMirror-linenumbers")if(x)_=!0;else continue;M.push({className:X,style:ie})}return x&&!_&&M.push({className:"CodeMirror-linenumbers",style:null}),M}function Xu(l){var x=l.gutters,M=l.gutterSpecs;mt(x),l.lineGutter=null;for(var _=0;_<M.length;++_){var F=M[_],X=F.className,ie=F.style,fe=x.appendChild(ge("div",null,"CodeMirror-gutter "+X));ie&&(fe.style.cssText=ie),X=="CodeMirror-linenumbers"&&(l.lineGutter=fe,fe.style.width=(l.lineNumWidth||1)+"px")}x.style.display=M.length?"":"none",Uo(l)}function ts(l){Xu(l.display),dn(l),bc(l)}function au(l,x,M,_){var F=this;this.input=M,F.scrollbarFiller=ge("div",null,"CodeMirror-scrollbar-filler"),F.scrollbarFiller.setAttribute("cm-not-content","true"),F.gutterFiller=ge("div",null,"CodeMirror-gutter-filler"),F.gutterFiller.setAttribute("cm-not-content","true"),F.lineDiv=me("div",null,"CodeMirror-code"),F.selectionDiv=ge("div",null,null,"position: relative; z-index: 1"),F.cursorDiv=ge("div",null,"CodeMirror-cursors"),F.measure=ge("div",null,"CodeMirror-measure"),F.lineMeasure=ge("div",null,"CodeMirror-measure"),F.lineSpace=me("div",[F.measure,F.lineMeasure,F.selectionDiv,F.cursorDiv,F.lineDiv],null,"position: relative; outline: none");var X=me("div",[F.lineSpace],"CodeMirror-lines");F.mover=ge("div",[X],null,"position: relative"),F.sizer=ge("div",[F.mover],"CodeMirror-sizer"),F.sizerWidth=null,F.heightForcer=ge("div",null,null,"position: absolute; height: "+Wt+"px; width: 1px;"),F.gutters=ge("div",null,"CodeMirror-gutters"),F.lineGutter=null,F.scroller=ge("div",[F.sizer,F.heightForcer,F.gutters],"CodeMirror-scroll"),F.scroller.setAttribute("tabIndex","-1"),F.wrapper=ge("div",[F.scrollbarFiller,F.gutterFiller,F.scroller],"CodeMirror"),g&&m===105&&(F.wrapper.style.clipPath="inset(0px)"),F.wrapper.setAttribute("translate","no"),a&&u<8&&(F.gutters.style.zIndex=-1,F.scroller.style.paddingRight=0),!v&&!(o&&W)&&(F.scroller.draggable=!0),l&&(l.appendChild?l.appendChild(F.wrapper):l(F.wrapper)),F.viewFrom=F.viewTo=x.first,F.reportedViewFrom=F.reportedViewTo=x.first,F.view=[],F.renderedView=null,F.externalMeasured=null,F.viewOffset=0,F.lastWrapHeight=F.lastWrapWidth=0,F.updateLineNumbers=null,F.nativeBarWidth=F.barHeight=F.barWidth=0,F.scrollbarsClipped=!1,F.lineNumWidth=F.lineNumInnerWidth=F.lineNumChars=null,F.alignWidgets=!1,F.cachedCharWidth=F.cachedTextHeight=F.cachedPaddingH=null,F.maxLine=null,F.maxLineLength=0,F.maxLineChanged=!1,F.wheelDX=F.wheelDY=F.wheelStartX=F.wheelStartY=null,F.shift=!1,F.selForContextMenu=null,F.activeTouch=null,F.gutterSpecs=wc(_.gutters,_.lineNumbers),Xu(F),M.init(F)}var ps=0,ta=null;a?ta=-.53:o?ta=15:g?ta=-.7:D&&(ta=-1/3);function Vu(l){var x=l.wheelDeltaX,M=l.wheelDeltaY;return x==null&&l.detail&&l.axis==l.HORIZONTAL_AXIS&&(x=l.detail),M==null&&l.detail&&l.axis==l.VERTICAL_AXIS?M=l.detail:M==null&&(M=l.wheelDelta),{x,y:M}}function Ku(l){var x=Vu(l);return x.x*=ta,x.y*=ta,x}function Uc(l,x){g&&m==102&&(l.display.chromeScrollHack==null?l.display.sizer.style.pointerEvents="none":clearTimeout(l.display.chromeScrollHack),l.display.chromeScrollHack=setTimeout(function(){l.display.chromeScrollHack=null,l.display.sizer.style.pointerEvents=""},100));var M=Vu(x),_=M.x,F=M.y,X=ta;x.deltaMode===0&&(_=x.deltaX,F=x.deltaY,X=1);var ie=l.display,fe=ie.scroller,ye=fe.scrollWidth>fe.clientWidth,ke=fe.scrollHeight>fe.clientHeight;if(_&&ye||F&&ke){if(F&&q&&v){e:for(var et=x.target,st=ie.view;et!=fe;et=et.parentNode)for(var Pt=0;Pt<st.length;Pt++)if(st[Pt].node==et){l.display.currentWheelTarget=et;break e}}if(_&&!o&&!C&&X!=null){F&&ke&&ji(l,Math.max(0,fe.scrollTop+F*X)),To(l,Math.max(0,fe.scrollLeft+_*X)),(!F||F&&ke)&&Hn(x),ie.wheelStartX=null;return}if(F&&X!=null){var Mt=F*X,an=l.doc.scrollTop,gn=an+ie.wrapper.clientHeight;Mt<0?an=Math.max(0,an+Mt-50):gn=Math.min(l.doc.height,gn+Mt+50),Ja(l,{top:an,bottom:gn})}ps<20&&x.deltaMode!==0&&(ie.wheelStartX==null?(ie.wheelStartX=fe.scrollLeft,ie.wheelStartY=fe.scrollTop,ie.wheelDX=_,ie.wheelDY=F,setTimeout(function(){if(ie.wheelStartX!=null){var Tn=fe.scrollLeft-ie.wheelStartX,Fn=fe.scrollTop-ie.wheelStartY,zn=Fn&&ie.wheelDY&&Fn/ie.wheelDY||Tn&&ie.wheelDX&&Tn/ie.wheelDX;ie.wheelStartX=ie.wheelStartY=null,zn&&(ta=(ta*ps+zn)/(ps+1),++ps)}},200)):(ie.wheelDX+=_,ie.wheelDY+=F))}}var ns=function(l,x){this.ranges=l,this.primIndex=x};ns.prototype.primary=function(){return this.ranges[this.primIndex]},ns.prototype.equals=function(l){if(l==this)return!0;if(l.primIndex!=this.primIndex||l.ranges.length!=this.ranges.length)return!1;for(var x=0;x<this.ranges.length;x++){var M=this.ranges[x],_=l.ranges[x];if(!Zi(M.anchor,_.anchor)||!Zi(M.head,_.head))return!1}return!0},ns.prototype.deepCopy=function(){for(var l=[],x=0;x<this.ranges.length;x++)l[x]=new li(hl(this.ranges[x].anchor),hl(this.ranges[x].head));return new ns(l,this.primIndex)},ns.prototype.somethingSelected=function(){for(var l=0;l<this.ranges.length;l++)if(!this.ranges[l].empty())return!0;return!1},ns.prototype.contains=function(l,x){x||(x=l);for(var M=0;M<this.ranges.length;M++){var _=this.ranges[M];if(On(x,_.from())>=0&&On(l,_.to())<=0)return M}return-1};var li=function(l,x){this.anchor=l,this.head=x};li.prototype.from=function(){return ka(this.anchor,this.head)},li.prototype.to=function(){return Ai(this.anchor,this.head)},li.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function ms(l,x,M){var _=l&&l.options.selectionsMayTouch,F=x[M];x.sort(function(Pt,Mt){return On(Pt.from(),Mt.from())}),M=_t(x,F);for(var X=1;X<x.length;X++){var ie=x[X],fe=x[X-1],ye=On(fe.to(),ie.from());if(_&&!ie.empty()?ye>0:ye>=0){var ke=ka(fe.from(),ie.from()),et=Ai(fe.to(),ie.to()),st=fe.empty()?ie.from()==ie.head:fe.from()==fe.head;X<=M&&--M,x.splice(--X,2,new li(st?et:ke,st?ke:et))}}return new ns(x,M)}function rl(l,x){return new ns([new li(l,x||l)],0)}function la(l){return l.text?cn(l.from.line+l.text.length-1,un(l.text).length+(l.text.length==1?l.from.ch:0)):l.to}function Gl(l,x){if(On(l,x.from)<0)return l;if(On(l,x.to)<=0)return la(x);var M=l.line+x.text.length-(x.to.line-x.from.line)-1,_=l.ch;return l.line==x.to.line&&(_+=la(x).ch-x.to.ch),cn(M,_)}function Yl(l,x){for(var M=[],_=0;_<l.sel.ranges.length;_++){var F=l.sel.ranges[_];M.push(new li(Gl(F.anchor,x),Gl(F.head,x)))}return ms(l.cm,M,l.sel.primIndex)}function Xl(l,x,M){return l.line==x.line?cn(M.line,l.ch-x.ch+M.ch):cn(M.line+(l.line-x.line),l.ch)}function Su(l,x,M){for(var _=[],F=cn(l.first,0),X=F,ie=0;ie<x.length;ie++){var fe=x[ie],ye=Xl(fe.from,F,X),ke=Xl(la(fe),F,X);if(F=fe.to,X=ke,M=="around"){var et=l.sel.ranges[ie],st=On(et.head,et.anchor)<0;_[ie]=new li(st?ke:ye,st?ye:ke)}else _[ie]=new li(ye,ye)}return new ns(_,l.sel.primIndex)}function Zu(l){l.doc.mode=Hr(l.options,l.doc.modeOption),Vl(l)}function Vl(l){l.doc.iter(function(x){x.stateAfter&&(x.stateAfter=null),x.styles&&(x.styles=null)}),l.doc.modeFrontier=l.doc.highlightFrontier=l.doc.first,Do(l,100),l.state.modeGen++,l.curOp&&dn(l)}function xl(l,x){return x.from.ch==0&&x.to.ch==0&&un(x.text)==""&&(!l.cm||l.cm.options.wholeLineUpdateBefore)}function rs(l,x,M,_){function F(zn){return M?M[zn]:null}function X(zn,wn,Kn){Va(zn,wn,Kn,_),oi(zn,"change",zn,x)}function ie(zn,wn){for(var Kn=[],Cr=zn;Cr<wn;++Cr)Kn.push(new Nr(ke[Cr],F(Cr),_));return Kn}var fe=x.from,ye=x.to,ke=x.text,et=mn(l,fe.line),st=mn(l,ye.line),Pt=un(ke),Mt=F(ke.length-1),an=ye.line-fe.line;if(x.full)l.insert(0,ie(0,ke.length)),l.remove(ke.length,l.size-ke.length);else if(xl(l,x)){var gn=ie(0,ke.length-1);X(st,st.text,Mt),an&&l.remove(fe.line,an),gn.length&&l.insert(fe.line,gn)}else if(et==st)if(ke.length==1)X(et,et.text.slice(0,fe.ch)+Pt+et.text.slice(ye.ch),Mt);else{var Tn=ie(1,ke.length-1);Tn.push(new Nr(Pt+et.text.slice(ye.ch),Mt,_)),X(et,et.text.slice(0,fe.ch)+ke[0],F(0)),l.insert(fe.line+1,Tn)}else if(ke.length==1)X(et,et.text.slice(0,fe.ch)+ke[0]+st.text.slice(ye.ch),F(0)),l.remove(fe.line+1,an);else{X(et,et.text.slice(0,fe.ch)+ke[0],F(0)),X(st,Pt+st.text.slice(ye.ch),Mt);var Fn=ie(1,ke.length-1);an>1&&l.remove(fe.line+1,an-1),l.insert(fe.line+1,Fn)}oi(l,"change",l,x)}function ao(l,x,M){function _(F,X,ie){if(F.linked)for(var fe=0;fe<F.linked.length;++fe){var ye=F.linked[fe];if(ye.doc!=X){var ke=ie&&ye.sharedHist;M&&!ke||(x(ye.doc,ke),_(ye.doc,F,ke))}}}_(l,null,!0)}function jc(l,x){if(x.cm)throw new Error("This document is already in use.");l.doc=x,x.cm=l,Rt(l),Zu(l),Us(l),l.options.direction=x.direction,l.options.lineWrapping||Qt(l),l.options.mode=x.modeOption,dn(l)}function Us(l){(l.doc.direction=="rtl"?ue:qe)(l.display.lineDiv,"CodeMirror-rtl")}function qu(l){Qa(l,function(){Us(l),dn(l)})}function Rs(l){this.done=[],this.undone=[],this.undoDepth=l?l.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=l?l.maxGeneration:1}function il(l,x){var M={from:hl(x.from),to:la(x),text:Ki(l,x.from,x.to)};return Eu(l,M,x.from.line,x.to.line+1),ao(l,function(_){return Eu(_,M,x.from.line,x.to.line+1)},!0),M}function al(l){for(;l.length;){var x=un(l);if(x.ranges)l.pop();else break}}function Qu(l,x){if(x)return al(l.done),un(l.done);if(l.done.length&&!un(l.done).ranges)return un(l.done);if(l.done.length>1&&!l.done[l.done.length-2].ranges)return l.done.pop(),un(l.done)}function vs(l,x,M,_){var F=l.history;F.undone.length=0;var X=+new Date,ie,fe;if((F.lastOp==_||F.lastOrigin==x.origin&&x.origin&&(x.origin.charAt(0)=="+"&&F.lastModTime>X-(l.cm?l.cm.options.historyEventDelay:500)||x.origin.charAt(0)=="*"))&&(ie=Qu(F,F.lastOp==_)))fe=un(ie.changes),On(x.from,x.to)==0&&On(x.from,fe.to)==0?fe.to=la(x):ie.changes.push(il(l,x));else{var ye=un(F.done);for((!ye||!ye.ranges)&&js(l.sel,F.done),ie={changes:[il(l,x)],generation:F.generation},F.done.push(ie);F.done.length>F.undoDepth;)F.done.shift(),F.done[0].ranges||F.done.shift()}F.done.push(M),F.generation=++F.maxGeneration,F.lastModTime=F.lastSelTime=X,F.lastOp=F.lastSelOp=_,F.lastOrigin=F.lastSelOrigin=x.origin,fe||Cn(l,"historyAdded")}function hf(l,x,M,_){var F=x.charAt(0);return F=="*"||F=="+"&&M.ranges.length==_.ranges.length&&M.somethingSelected()==_.somethingSelected()&&new Date-l.history.lastSelTime<=(l.cm?l.cm.options.historyEventDelay:500)}function Kl(l,x,M,_){var F=l.history,X=_&&_.origin;M==F.lastSelOp||X&&F.lastSelOrigin==X&&(F.lastModTime==F.lastSelTime&&F.lastOrigin==X||hf(l,X,un(F.done),x))?F.done[F.done.length-1]=x:js(x,F.done),F.lastSelTime=+new Date,F.lastSelOrigin=X,F.lastSelOp=M,_&&_.clearRedo!==!1&&al(F.undone)}function js(l,x){var M=un(x);M&&M.ranges&&M.equals(l)||x.push(l)}function Eu(l,x,M,_){var F=x["spans_"+l.id],X=0;l.iter(Math.max(l.first,M),Math.min(l.first+l.size,_),function(ie){ie.markedSpans&&((F||(F=x["spans_"+l.id]={}))[X]=ie.markedSpans),++X})}function Ws(l){if(!l)return null;for(var x,M=0;M<l.length;++M)l[M].marker.explicitlyCleared?x||(x=l.slice(0,M)):x&&x.push(l[M]);return x?x.length?x:null:l}function ys(l,x){var M=x["spans_"+l.id];if(!M)return null;for(var _=[],F=0;F<x.text.length;++F)_.push(Ws(M[F]));return _}function ol(l,x){var M=ys(l,x),_=Hi(l,x);if(!M)return _;if(!_)return M;for(var F=0;F<M.length;++F){var X=M[F],ie=_[F];if(X&&ie)e:for(var fe=0;fe<ie.length;++fe){for(var ye=ie[fe],ke=0;ke<X.length;++ke)if(X[ke].marker==ye.marker)continue e;X.push(ye)}else ie&&(M[F]=ie)}return M}function ko(l,x,M){for(var _=[],F=0;F<l.length;++F){var X=l[F];if(X.ranges){_.push(M?ns.prototype.deepCopy.call(X):X);continue}var ie=X.changes,fe=[];_.push({changes:fe});for(var ye=0;ye<ie.length;++ye){var ke=ie[ye],et=void 0;if(fe.push({from:ke.from,to:ke.to,text:ke.text}),x)for(var st in ke)(et=st.match(/^spans_(\d+)$/))&&_t(x,Number(et[1]))>-1&&(un(fe)[st]=ke[st],delete ke[st])}}return _}function Au(l,x,M,_){if(_){var F=l.anchor;if(M){var X=On(x,F)<0;X!=On(M,F)<0?(F=x,x=M):X!=On(x,M)<0&&(x=M)}return new li(F,x)}else return new li(M||x,x)}function Zl(l,x,M,_,F){F==null&&(F=l.cm&&(l.cm.display.shift||l.extend)),de(l,new ns([Au(l.sel.primary(),x,M,F)],0),_)}function Rl(l,x,M){for(var _=[],F=l.cm&&(l.cm.display.shift||l.extend),X=0;X<l.sel.ranges.length;X++)_[X]=Au(l.sel.ranges[X],x[X],null,F);var ie=ms(l.cm,_,l.sel.primIndex);de(l,ie,M)}function z(l,x,M,_){var F=l.sel.ranges.slice(0);F[x]=M,de(l,ms(l.cm,F,l.sel.primIndex),_)}function H(l,x,M,_){de(l,rl(x,M),_)}function Q(l,x,M){var _={ranges:x.ranges,update:function(F){this.ranges=[];for(var X=0;X<F.length;X++)this.ranges[X]=new li(Zn(l,F[X].anchor),Zn(l,F[X].head))},origin:M&&M.origin};return Cn(l,"beforeSelectionChange",l,_),l.cm&&Cn(l.cm,"beforeSelectionChange",l.cm,_),_.ranges!=x.ranges?ms(l.cm,_.ranges,_.ranges.length-1):x}function le(l,x,M){var _=l.history.done,F=un(_);F&&F.ranges?(_[_.length-1]=x,He(l,x,M)):de(l,x,M)}function de(l,x,M){He(l,x,M),Kl(l,l.sel,l.cm?l.cm.curOp.id:NaN,M)}function He(l,x,M){(Yn(l,"beforeSelectionChange")||l.cm&&Yn(l.cm,"beforeSelectionChange"))&&(x=Q(l,x,M));var _=M&&M.bias||(On(x.primary().head,l.sel.primary().head)<0?-1:1);$e(l,ht(l,x,_,!0)),!(M&&M.scroll===!1)&&l.cm&&l.cm.getOption("readOnly")!="nocursor"&&po(l.cm)}function $e(l,x){x.equals(l.sel)||(l.sel=x,l.cm&&(l.cm.curOp.updateInput=1,l.cm.curOp.selectionChanged=!0,$n(l.cm)),oi(l,"cursorActivity",l))}function Ot(l){$e(l,ht(l,l.sel,null,!1))}function ht(l,x,M,_){for(var F,X=0;X<x.ranges.length;X++){var ie=x.ranges[X],fe=x.ranges.length==l.sel.ranges.length&&l.sel.ranges[X],ye=qt(l,ie.anchor,fe&&fe.anchor,M,_),ke=ie.head==ie.anchor?ye:qt(l,ie.head,fe&&fe.head,M,_);(F||ye!=ie.anchor||ke!=ie.head)&&(F||(F=x.ranges.slice(0,X)),F[X]=new li(ye,ke))}return F?ms(l.cm,F,x.primIndex):x}function Nt(l,x,M,_,F){var X=mn(l,x.line);if(X.markedSpans)for(var ie=0;ie<X.markedSpans.length;++ie){var fe=X.markedSpans[ie],ye=fe.marker,ke="selectLeft"in ye?!ye.selectLeft:ye.inclusiveLeft,et="selectRight"in ye?!ye.selectRight:ye.inclusiveRight;if((fe.from==null||(ke?fe.from<=x.ch:fe.from<x.ch))&&(fe.to==null||(et?fe.to>=x.ch:fe.to>x.ch))){if(F&&(Cn(ye,"beforeCursorEnter"),ye.explicitlyCleared))if(X.markedSpans){--ie;continue}else break;if(!ye.atomic)continue;if(M){var st=ye.find(_<0?1:-1),Pt=void 0;if((_<0?et:ke)&&(st=on(l,st,-_,st&&st.line==x.line?X:null)),st&&st.line==x.line&&(Pt=On(st,M))&&(_<0?Pt<0:Pt>0))return Nt(l,st,x,_,F)}var Mt=ye.find(_<0?-1:1);return(_<0?ke:et)&&(Mt=on(l,Mt,_,Mt.line==x.line?X:null)),Mt?Nt(l,Mt,x,_,F):null}}return x}function qt(l,x,M,_,F){var X=_||1,ie=Nt(l,x,M,X,F)||!F&&Nt(l,x,M,X,!0)||Nt(l,x,M,-X,F)||!F&&Nt(l,x,M,-X,!0);return ie||(l.cantEdit=!0,cn(l.first,0))}function on(l,x,M,_){return M<0&&x.ch==0?x.line>l.first?Zn(l,cn(x.line-1)):null:M>0&&x.ch==(_||mn(l,x.line)).text.length?x.line<l.first+l.size-1?cn(x.line+1,0):null:new cn(x.line,x.ch+M)}function kn(l){l.setSelection(cn(l.firstLine(),0),cn(l.lastLine()),kt)}function _n(l,x,M){var _={canceled:!1,from:x.from,to:x.to,text:x.text,origin:x.origin,cancel:function(){return _.canceled=!0}};return M&&(_.update=function(F,X,ie,fe){F&&(_.from=Zn(l,F)),X&&(_.to=Zn(l,X)),ie&&(_.text=ie),fe!==void 0&&(_.origin=fe)}),Cn(l,"beforeChange",l,_),l.cm&&Cn(l.cm,"beforeChange",l.cm,_),_.canceled?(l.cm&&(l.cm.curOp.updateInput=2),null):{from:_.from,to:_.to,text:_.text,origin:_.origin}}function lr(l,x,M){if(l.cm){if(!l.cm.curOp)return oa(l.cm,lr)(l,x,M);if(l.cm.state.suppressEdits)return}if(!((Yn(l,"beforeChange")||l.cm&&Yn(l.cm,"beforeChange"))&&(x=_n(l,x,!0),!x))){var _=Rr&&!M&&Fo(l,x.from,x.to);if(_)for(var F=_.length-1;F>=0;--F)ti(l,{from:_[F].from,to:_[F].to,text:F?[""]:x.text,origin:x.origin});else ti(l,x)}}function ti(l,x){if(!(x.text.length==1&&x.text[0]==""&&On(x.from,x.to)==0)){var M=Yl(l,x);vs(l,x,M,l.cm?l.cm.curOp.id:NaN),cr(l,x,M,Hi(l,x));var _=[];ao(l,function(F,X){!X&&_t(_,F.history)==-1&&(mo(F.history,x),_.push(F.history)),cr(F,x,null,Hi(F,x))})}}function Wr(l,x,M){var _=l.cm&&l.cm.state.suppressEdits;if(!(_&&!M)){for(var F=l.history,X,ie=l.sel,fe=x=="undo"?F.done:F.undone,ye=x=="undo"?F.undone:F.done,ke=0;ke<fe.length&&(X=fe[ke],!(M?X.ranges&&!X.equals(l.sel):!X.ranges));ke++);if(ke!=fe.length){for(F.lastOrigin=F.lastSelOrigin=null;;)if(X=fe.pop(),X.ranges){if(js(X,ye),M&&!X.equals(l.sel)){de(l,X,{clearRedo:!1});return}ie=X}else if(_){fe.push(X);return}else break;var et=[];js(ie,ye),ye.push({changes:et,generation:F.generation}),F.generation=X.generation||++F.maxGeneration;for(var st=Yn(l,"beforeChange")||l.cm&&Yn(l.cm,"beforeChange"),Pt=function(gn){var Tn=X.changes[gn];if(Tn.origin=x,st&&!_n(l,Tn,!1))return fe.length=0,{};et.push(il(l,Tn));var Fn=gn?Yl(l,Tn):un(fe);cr(l,Tn,Fn,ol(l,Tn)),!gn&&l.cm&&l.cm.scrollIntoView({from:Tn.from,to:la(Tn)});var zn=[];ao(l,function(wn,Kn){!Kn&&_t(zn,wn.history)==-1&&(mo(wn.history,Tn),zn.push(wn.history)),cr(wn,Tn,null,ol(wn,Tn))})},Mt=X.changes.length-1;Mt>=0;--Mt){var an=Pt(Mt);if(an)return an.v}}}}function qn(l,x){if(x!=0&&(l.first+=x,l.sel=new ns(Xt(l.sel.ranges,function(F){return new li(cn(F.anchor.line+x,F.anchor.ch),cn(F.head.line+x,F.head.ch))}),l.sel.primIndex),l.cm)){dn(l.cm,l.first,l.first-x,x);for(var M=l.cm.display,_=M.viewFrom;_<M.viewTo;_++)Nn(l.cm,_,"gutter")}}function cr(l,x,M,_){if(l.cm&&!l.cm.curOp)return oa(l.cm,cr)(l,x,M,_);if(x.to.line<l.first){qn(l,x.text.length-1-(x.to.line-x.from.line));return}if(!(x.from.line>l.lastLine())){if(x.from.line<l.first){var F=x.text.length-1-(l.first-x.from.line);qn(l,F),x={from:cn(l.first,0),to:cn(x.to.line+F,x.to.ch),text:[un(x.text)],origin:x.origin}}var X=l.lastLine();x.to.line>X&&(x={from:x.from,to:cn(X,mn(l,X).text.length),text:[x.text[0]],origin:x.origin}),x.removed=Ki(l,x.from,x.to),M||(M=Yl(l,x)),l.cm?mi(l.cm,x,_):rs(l,x,_),He(l,M,kt),l.cantEdit&&qt(l,cn(l.firstLine(),0))&&(l.cantEdit=!1)}}function mi(l,x,M){var _=l.doc,F=l.display,X=x.from,ie=x.to,fe=!1,ye=X.line;l.options.lineWrapping||(ye=Xn(Ma(mn(_,X.line))),_.iter(ye,ie.line+1,function(Mt){if(Mt==F.maxLine)return fe=!0,!0})),_.sel.contains(x.from,x.to)>-1&&$n(l),rs(_,x,M,xt(l)),l.options.lineWrapping||(_.iter(ye,X.line+x.text.length,function(Mt){var an=_s(Mt);an>F.maxLineLength&&(F.maxLine=Mt,F.maxLineLength=an,F.maxLineChanged=!0,fe=!1)}),fe&&(l.curOp.updateMaxLine=!0)),$r(_,X.line),Do(l,400);var ke=x.text.length-(ie.line-X.line)-1;x.full?dn(l):X.line==ie.line&&x.text.length==1&&!xl(l.doc,x)?Nn(l,X.line,"text"):dn(l,X.line,ie.line+1,ke);var et=Yn(l,"changes"),st=Yn(l,"change");if(st||et){var Pt={from:X,to:ie,text:x.text,removed:x.removed,origin:x.origin};st&&oi(l,"change",l,Pt),et&&(l.curOp.changeObjs||(l.curOp.changeObjs=[])).push(Pt)}l.display.selForContextMenu=null}function $a(l,x,M,_,F){var X;_||(_=M),On(_,M)<0&&(X=[_,M],M=X[0],_=X[1]),typeof x=="string"&&(x=l.splitLines(x)),lr(l,{from:M,to:_,text:x,origin:F})}function jo(l,x,M,_){M<l.line?l.line+=_:x<l.line&&(l.line=x,l.ch=0)}function Ar(l,x,M,_){for(var F=0;F<l.length;++F){var X=l[F],ie=!0;if(X.ranges){X.copied||(X=l[F]=X.deepCopy(),X.copied=!0);for(var fe=0;fe<X.ranges.length;fe++)jo(X.ranges[fe].anchor,x,M,_),jo(X.ranges[fe].head,x,M,_);continue}for(var ye=0;ye<X.changes.length;++ye){var ke=X.changes[ye];if(M<ke.from.line)ke.from=cn(ke.from.line+_,ke.from.ch),ke.to=cn(ke.to.line+_,ke.to.ch);else if(x<=ke.to.line){ie=!1;break}}ie||(l.splice(0,F+1),F=0)}}function mo(l,x){var M=x.from.line,_=x.to.line,F=x.text.length-(_-M)-1;Ar(l.done,M,_,F),Ar(l.undone,M,_,F)}function na(l,x,M,_){var F=x,X=x;return typeof x=="number"?X=mn(l,pr(l,x)):F=Xn(x),F==null?null:(_(X,F)&&l.cm&&Nn(l.cm,F,M),X)}function Na(l){this.lines=l,this.parent=null;for(var x=0,M=0;M<l.length;++M)l[M].parent=this,x+=l[M].height;this.height=x}Na.prototype={chunkSize:function(){return this.lines.length},removeInner:function(l,x){for(var M=l,_=l+x;M<_;++M){var F=this.lines[M];this.height-=F.height,cs(F),oi(F,"delete")}this.lines.splice(l,x)},collapse:function(l){l.push.apply(l,this.lines)},insertInner:function(l,x,M){this.height+=M,this.lines=this.lines.slice(0,l).concat(x).concat(this.lines.slice(l));for(var _=0;_<x.length;++_)x[_].parent=this},iterN:function(l,x,M){for(var _=l+x;l<_;++l)if(M(this.lines[l]))return!0}};function sl(l){this.children=l;for(var x=0,M=0,_=0;_<l.length;++_){var F=l[_];x+=F.chunkSize(),M+=F.height,F.parent=this}this.size=x,this.height=M,this.parent=null}sl.prototype={chunkSize:function(){return this.size},removeInner:function(l,x){this.size-=x;for(var M=0;M<this.children.length;++M){var _=this.children[M],F=_.chunkSize();if(l<F){var X=Math.min(x,F-l),ie=_.height;if(_.removeInner(l,X),this.height-=ie-_.height,F==X&&(this.children.splice(M--,1),_.parent=null),(x-=X)==0)break;l=0}else l-=F}if(this.size-x<25&&(this.children.length>1||!(this.children[0]instanceof Na))){var fe=[];this.collapse(fe),this.children=[new Na(fe)],this.children[0].parent=this}},collapse:function(l){for(var x=0;x<this.children.length;++x)this.children[x].collapse(l)},insertInner:function(l,x,M){this.size+=x.length,this.height+=M;for(var _=0;_<this.children.length;++_){var F=this.children[_],X=F.chunkSize();if(l<=X){if(F.insertInner(l,x,M),F.lines&&F.lines.length>50){for(var ie=F.lines.length%25+25,fe=ie;fe<F.lines.length;){var ye=new Na(F.lines.slice(fe,fe+=25));F.height-=ye.height,this.children.splice(++_,0,ye),ye.parent=this}F.lines=F.lines.slice(0,ie),this.maybeSpill()}break}l-=X}},maybeSpill:function(){if(!(this.children.length<=10)){var l=this;do{var x=l.children.splice(l.children.length-5,5),M=new sl(x);if(l.parent){l.size-=M.size,l.height-=M.height;var F=_t(l.parent.children,l);l.parent.children.splice(F+1,0,M)}else{var _=new sl(l.children);_.parent=l,l.children=[_,M],l=_}M.parent=l.parent}while(l.children.length>10);l.parent.maybeSpill()}},iterN:function(l,x,M){for(var _=0;_<this.children.length;++_){var F=this.children[_],X=F.chunkSize();if(l<X){var ie=Math.min(x,X-l);if(F.iterN(l,ie,M))return!0;if((x-=ie)==0)break;l=0}else l-=X}}};var Gr=function(l,x,M){if(M)for(var _ in M)M.hasOwnProperty(_)&&(this[_]=M[_]);this.doc=l,this.node=x};Gr.prototype.clear=function(){var l=this.doc.cm,x=this.line.widgets,M=this.line,_=Xn(M);if(!(_==null||!x)){for(var F=0;F<x.length;++F)x[F]==this&&x.splice(F--,1);x.length||(M.widgets=null);var X=Bi(this);br(M,Math.max(0,M.height-X)),l&&(Qa(l,function(){Nl(l,M,-X),Nn(l,_,"widget")}),oi(l,"lineWidgetCleared",l,this,_))}},Gr.prototype.changed=function(){var l=this,x=this.height,M=this.doc.cm,_=this.line;this.height=null;var F=Bi(this)-x;F&&(ks(this.doc,_)||br(_,_.height+F),M&&Qa(M,function(){M.curOp.forceUpdate=!0,Nl(M,_,F),oi(M,"lineWidgetChanged",M,l,Xn(_))}))},er(Gr);function Nl(l,x,M){Fa(x)<(l.curOp&&l.curOp.scrollTop||l.doc.scrollTop)&&Ha(l,M)}function bl(l,x,M,_){var F=new Gr(l,M,_),X=l.cm;return X&&F.noHScroll&&(X.display.alignWidgets=!0),na(l,x,"widget",function(ie){var fe=ie.widgets||(ie.widgets=[]);if(F.insertAt==null?fe.push(F):fe.splice(Math.min(fe.length,Math.max(0,F.insertAt)),0,F),F.line=ie,X&&!ks(l,ie)){var ye=Fa(ie)<l.scrollTop;br(ie,ie.height+Bi(F)),ye&&Ha(X,F.height),X.curOp.forceUpdate=!0}return!0}),X&&oi(X,"lineWidgetAdded",X,F,typeof x=="number"?x:Xn(x)),F}var _o=0,vo=function(l,x){this.lines=[],this.type=x,this.doc=l,this.id=++_o};vo.prototype.clear=function(){if(!this.explicitlyCleared){var l=this.doc.cm,x=l&&!l.curOp;if(x&&Ia(l),Yn(this,"clear")){var M=this.find();M&&oi(this,"clear",M.from,M.to)}for(var _=null,F=null,X=0;X<this.lines.length;++X){var ie=this.lines[X],fe=Vn(ie.markedSpans,this);l&&!this.collapsed?Nn(l,Xn(ie),"text"):l&&(fe.to!=null&&(F=Xn(ie)),fe.from!=null&&(_=Xn(ie))),ie.markedSpans=xa(ie.markedSpans,fe),fe.from==null&&this.collapsed&&!ks(this.doc,ie)&&l&&br(ie,De(l.display))}if(l&&this.collapsed&&!l.options.lineWrapping)for(var ye=0;ye<this.lines.length;++ye){var ke=Ma(this.lines[ye]),et=_s(ke);et>l.display.maxLineLength&&(l.display.maxLine=ke,l.display.maxLineLength=et,l.display.maxLineChanged=!0)}_!=null&&l&&this.collapsed&&dn(l,_,F+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,l&&Ot(l.doc)),l&&oi(l,"markerCleared",l,this,_,F),x&&vl(l),this.parent&&this.parent.clear()}},vo.prototype.find=function(l,x){l==null&&this.type=="bookmark"&&(l=1);for(var M,_,F=0;F<this.lines.length;++F){var X=this.lines[F],ie=Vn(X.markedSpans,this);if(ie.from!=null&&(M=cn(x?X:Xn(X),ie.from),l==-1))return M;if(ie.to!=null&&(_=cn(x?X:Xn(X),ie.to),l==1))return _}return M&&{from:M,to:_}},vo.prototype.changed=function(){var l=this,x=this.find(-1,!0),M=this,_=this.doc.cm;!x||!_||Qa(_,function(){var F=x.line,X=Xn(x.line),ie=$s(_,X);if(ie&&(b(ie),_.curOp.selectionChanged=_.curOp.forceUpdate=!0),_.curOp.updateMaxLine=!0,!ks(M.doc,F)&&M.height!=null){var fe=M.height;M.height=null;var ye=Bi(M)-fe;ye&&br(F,F.height+ye)}oi(_,"markerChanged",_,l)})},vo.prototype.attachLine=function(l){if(!this.lines.length&&this.doc.cm){var x=this.doc.cm.curOp;(!x.maybeHiddenMarkers||_t(x.maybeHiddenMarkers,this)==-1)&&(x.maybeUnhiddenMarkers||(x.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(l)},vo.prototype.detachLine=function(l){if(this.lines.splice(_t(this.lines,l),1),!this.lines.length&&this.doc.cm){var x=this.doc.cm.curOp;(x.maybeHiddenMarkers||(x.maybeHiddenMarkers=[])).push(this)}},er(vo);function ql(l,x,M,_,F){if(_&&_.shared)return ou(l,x,M,_,F);if(l.cm&&!l.cm.curOp)return oa(l.cm,ql)(l,x,M,_,F);var X=new vo(l,F),ie=On(x,M);if(_&&At(_,X,!1),ie>0||ie==0&&X.clearWhenEmpty!==!1)return X;if(X.replacedWith&&(X.collapsed=!0,X.widgetNode=me("span",[X.replacedWith],"CodeMirror-widget"),_.handleMouseEvents||X.widgetNode.setAttribute("cm-ignore-events","true"),_.insertLeft&&(X.widgetNode.insertLeft=!0)),X.collapsed){if(Ds(l,x.line,x,M,X)||x.line!=M.line&&Ds(l,M.line,x,M,X))throw new Error("Inserting collapsed marker partially overlapping an existing one");Jr()}X.addToHistory&&vs(l,{from:x,to:M,origin:"markText"},l.sel,NaN);var fe=x.line,ye=l.cm,ke;if(l.iter(fe,M.line+1,function(st){ye&&X.collapsed&&!ye.options.lineWrapping&&Ma(st)==ye.display.maxLine&&(ke=!0),X.collapsed&&fe!=x.line&&br(st,0),tr(st,new kr(X,fe==x.line?x.ch:null,fe==M.line?M.ch:null),l.cm&&l.cm.curOp),++fe}),X.collapsed&&l.iter(x.line,M.line+1,function(st){ks(l,st)&&br(st,0)}),X.clearOnEnter&&yt(X,"beforeCursorEnter",function(){return X.clear()}),X.readOnly&&(Ur(),(l.history.done.length||l.history.undone.length)&&l.clearHistory()),X.collapsed&&(X.id=++_o,X.atomic=!0),ye){if(ke&&(ye.curOp.updateMaxLine=!0),X.collapsed)dn(ye,x.line,M.line+1);else if(X.className||X.startStyle||X.endStyle||X.css||X.attributes||X.title)for(var et=x.line;et<=M.line;et++)Nn(ye,et,"text");X.atomic&&Ot(ye.doc),oi(ye,"markerAdded",ye,X)}return X}var Ll=function(l,x){this.markers=l,this.primary=x;for(var M=0;M<l.length;++M)l[M].parent=this};Ll.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var l=0;l<this.markers.length;++l)this.markers[l].clear();oi(this,"clear")}},Ll.prototype.find=function(l,x){return this.primary.find(l,x)},er(Ll);function ou(l,x,M,_,F){_=At(_),_.shared=!1;var X=[ql(l,x,M,_,F)],ie=X[0],fe=_.widgetNode;return ao(l,function(ye){fe&&(_.widgetNode=fe.cloneNode(!0)),X.push(ql(ye,Zn(ye,x),Zn(ye,M),_,F));for(var ke=0;ke<ye.linked.length;++ke)if(ye.linked[ke].isParent)return;ie=un(X)}),new Ll(X,ie)}function Tu(l){return l.findMarks(cn(l.first,0),l.clipPos(cn(l.lastLine())),function(x){return x.parent})}function is(l,x){for(var M=0;M<x.length;M++){var _=x[M],F=_.find(),X=l.clipPos(F.from),ie=l.clipPos(F.to);if(On(X,ie)){var fe=ql(l,X,ie,_.primary,_.primary.type);_.markers.push(fe),fe.parent=_}}}function ha(l){for(var x=function(_){var F=l[_],X=[F.primary.doc];ao(F.primary.doc,function(ye){return X.push(ye)});for(var ie=0;ie<F.markers.length;ie++){var fe=F.markers[ie];_t(X,fe.doc)==-1&&(fe.parent=null,F.markers.splice(ie--,1))}},M=0;M<l.length;M++)x(M)}var su=0,Mo=function(l,x,M,_,F){if(!(this instanceof Mo))return new Mo(l,x,M,_,F);M==null&&(M=0),sl.call(this,[new Na([new Nr("",null)])]),this.first=M,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=M;var X=cn(M,0);this.sel=rl(X),this.history=new Rs(null),this.id=++su,this.modeOption=x,this.lineSep=_,this.direction=F=="rtl"?"rtl":"ltr",this.extend=!1,typeof l=="string"&&(l=this.splitLines(l)),rs(this,{from:X,to:X,text:l}),de(this,rl(X),kt)};Mo.prototype=gt(sl.prototype,{constructor:Mo,iter:function(l,x,M){M?this.iterN(l-this.first,x-l,M):this.iterN(this.first,this.first+this.size,l)},insert:function(l,x){for(var M=0,_=0;_<x.length;++_)M+=x[_].height;this.insertInner(l-this.first,x,M)},remove:function(l,x){this.removeInner(l-this.first,x)},getValue:function(l){var x=Bo(this,this.first,this.first+this.size);return l===!1?x:x.join(l||this.lineSeparator())},setValue:Zr(function(l){var x=cn(this.first,0),M=this.first+this.size-1;lr(this,{from:x,to:cn(M,mn(this,M).text.length),text:this.splitLines(l),origin:"setValue",full:!0},!0),this.cm&&Ao(this.cm,0,0),de(this,rl(x),kt)}),replaceRange:function(l,x,M,_){x=Zn(this,x),M=M?Zn(this,M):x,$a(this,l,x,M,_)},getRange:function(l,x,M){var _=Ki(this,Zn(this,l),Zn(this,x));return M===!1?_:M===""?_.join(""):_.join(M||this.lineSeparator())},getLine:function(l){var x=this.getLineHandle(l);return x&&x.text},getLineHandle:function(l){if(Or(this,l))return mn(this,l)},getLineNumber:function(l){return Xn(l)},getLineHandleVisualStart:function(l){return typeof l=="number"&&(l=mn(this,l)),Ma(l)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(l){return Zn(this,l)},getCursor:function(l){var x=this.sel.primary(),M;return l==null||l=="head"?M=x.head:l=="anchor"?M=x.anchor:l=="end"||l=="to"||l===!1?M=x.to():M=x.from(),M},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Zr(function(l,x,M){H(this,Zn(this,typeof l=="number"?cn(l,x||0):l),null,M)}),setSelection:Zr(function(l,x,M){H(this,Zn(this,l),Zn(this,x||l),M)}),extendSelection:Zr(function(l,x,M){Zl(this,Zn(this,l),x&&Zn(this,x),M)}),extendSelections:Zr(function(l,x){Rl(this,Ti(this,l),x)}),extendSelectionsBy:Zr(function(l,x){var M=Xt(this.sel.ranges,l);Rl(this,Ti(this,M),x)}),setSelections:Zr(function(l,x,M){if(l.length){for(var _=[],F=0;F<l.length;F++)_[F]=new li(Zn(this,l[F].anchor),Zn(this,l[F].head||l[F].anchor));x==null&&(x=Math.min(l.length-1,this.sel.primIndex)),de(this,ms(this.cm,_,x),M)}}),addSelection:Zr(function(l,x,M){var _=this.sel.ranges.slice(0);_.push(new li(Zn(this,l),Zn(this,x||l))),de(this,ms(this.cm,_,_.length-1),M)}),getSelection:function(l){for(var x=this.sel.ranges,M,_=0;_<x.length;_++){var F=Ki(this,x[_].from(),x[_].to());M=M?M.concat(F):F}return l===!1?M:M.join(l||this.lineSeparator())},getSelections:function(l){for(var x=[],M=this.sel.ranges,_=0;_<M.length;_++){var F=Ki(this,M[_].from(),M[_].to());l!==!1&&(F=F.join(l||this.lineSeparator())),x[_]=F}return x},replaceSelection:function(l,x,M){for(var _=[],F=0;F<this.sel.ranges.length;F++)_[F]=l;this.replaceSelections(_,x,M||"+input")},replaceSelections:Zr(function(l,x,M){for(var _=[],F=this.sel,X=0;X<F.ranges.length;X++){var ie=F.ranges[X];_[X]={from:ie.from(),to:ie.to(),text:this.splitLines(l[X]),origin:M}}for(var fe=x&&x!="end"&&Su(this,_,x),ye=_.length-1;ye>=0;ye--)lr(this,_[ye]);fe?le(this,fe):this.cm&&po(this.cm)}),undo:Zr(function(){Wr(this,"undo")}),redo:Zr(function(){Wr(this,"redo")}),undoSelection:Zr(function(){Wr(this,"undo",!0)}),redoSelection:Zr(function(){Wr(this,"redo",!0)}),setExtending:function(l){this.extend=l},getExtending:function(){return this.extend},historySize:function(){for(var l=this.history,x=0,M=0,_=0;_<l.done.length;_++)l.done[_].ranges||++x;for(var F=0;F<l.undone.length;F++)l.undone[F].ranges||++M;return{undo:x,redo:M}},clearHistory:function(){var l=this;this.history=new Rs(this.history),ao(this,function(x){return x.history=l.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(l){return l&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(l){return this.history.generation==(l||this.cleanGeneration)},getHistory:function(){return{done:ko(this.history.done),undone:ko(this.history.undone)}},setHistory:function(l){var x=this.history=new Rs(this.history);x.done=ko(l.done.slice(0),null,!0),x.undone=ko(l.undone.slice(0),null,!0)},setGutterMarker:Zr(function(l,x,M){return na(this,l,"gutter",function(_){var F=_.gutterMarkers||(_.gutterMarkers={});return F[x]=M,!M&&Ee(F)&&(_.gutterMarkers=null),!0})}),clearGutter:Zr(function(l){var x=this;this.iter(function(M){M.gutterMarkers&&M.gutterMarkers[l]&&na(x,M,"gutter",function(){return M.gutterMarkers[l]=null,Ee(M.gutterMarkers)&&(M.gutterMarkers=null),!0})})}),lineInfo:function(l){var x;if(typeof l=="number"){if(!Or(this,l)||(x=l,l=mn(this,l),!l))return null}else if(x=Xn(l),x==null)return null;return{line:x,handle:l,text:l.text,gutterMarkers:l.gutterMarkers,textClass:l.textClass,bgClass:l.bgClass,wrapClass:l.wrapClass,widgets:l.widgets}},addLineClass:Zr(function(l,x,M){return na(this,l,x=="gutter"?"gutter":"class",function(_){var F=x=="text"?"textClass":x=="background"?"bgClass":x=="gutter"?"gutterClass":"wrapClass";if(!_[F])_[F]=M;else{if(Ue(M).test(_[F]))return!1;_[F]+=" "+M}return!0})}),removeLineClass:Zr(function(l,x,M){return na(this,l,x=="gutter"?"gutter":"class",function(_){var F=x=="text"?"textClass":x=="background"?"bgClass":x=="gutter"?"gutterClass":"wrapClass",X=_[F];if(X)if(M==null)_[F]=null;else{var ie=X.match(Ue(M));if(!ie)return!1;var fe=ie.index+ie[0].length;_[F]=X.slice(0,ie.index)+(!ie.index||fe==X.length?"":" ")+X.slice(fe)||null}else return!1;return!0})}),addLineWidget:Zr(function(l,x,M){return bl(this,l,x,M)}),removeLineWidget:function(l){l.clear()},markText:function(l,x,M){return ql(this,Zn(this,l),Zn(this,x),M,M&&M.type||"range")},setBookmark:function(l,x){var M={replacedWith:x&&(x.nodeType==null?x.widget:x),insertLeft:x&&x.insertLeft,clearWhenEmpty:!1,shared:x&&x.shared,handleMouseEvents:x&&x.handleMouseEvents};return l=Zn(this,l),ql(this,l,l,M,"bookmark")},findMarksAt:function(l){l=Zn(this,l);var x=[],M=mn(this,l.line).markedSpans;if(M)for(var _=0;_<M.length;++_){var F=M[_];(F.from==null||F.from<=l.ch)&&(F.to==null||F.to>=l.ch)&&x.push(F.marker.parent||F.marker)}return x},findMarks:function(l,x,M){l=Zn(this,l),x=Zn(this,x);var _=[],F=l.line;return this.iter(l.line,x.line+1,function(X){var ie=X.markedSpans;if(ie)for(var fe=0;fe<ie.length;fe++){var ye=ie[fe];!(ye.to!=null&&F==l.line&&l.ch>=ye.to||ye.from==null&&F!=l.line||ye.from!=null&&F==x.line&&ye.from>=x.ch)&&(!M||M(ye.marker))&&_.push(ye.marker.parent||ye.marker)}++F}),_},getAllMarks:function(){var l=[];return this.iter(function(x){var M=x.markedSpans;if(M)for(var _=0;_<M.length;++_)M[_].from!=null&&l.push(M[_].marker)}),l},posFromIndex:function(l){var x,M=this.first,_=this.lineSeparator().length;return this.iter(function(F){var X=F.text.length+_;if(X>l)return x=l,!0;l-=X,++M}),Zn(this,cn(M,x))},indexFromPos:function(l){l=Zn(this,l);var x=l.ch;if(l.line<this.first||l.ch<0)return 0;var M=this.lineSeparator().length;return this.iter(this.first,l.line,function(_){x+=_.text.length+M}),x},copy:function(l){var x=new Mo(Bo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return x.scrollTop=this.scrollTop,x.scrollLeft=this.scrollLeft,x.sel=this.sel,x.extend=!1,l&&(x.history.undoDepth=this.history.undoDepth,x.setHistory(this.getHistory())),x},linkedDoc:function(l){l||(l={});var x=this.first,M=this.first+this.size;l.from!=null&&l.from>x&&(x=l.from),l.to!=null&&l.to<M&&(M=l.to);var _=new Mo(Bo(this,x,M),l.mode||this.modeOption,x,this.lineSep,this.direction);return l.sharedHist&&(_.history=this.history),(this.linked||(this.linked=[])).push({doc:_,sharedHist:l.sharedHist}),_.linked=[{doc:this,isParent:!0,sharedHist:l.sharedHist}],is(_,Tu(this)),_},unlinkDoc:function(l){if(l instanceof Oi&&(l=l.doc),this.linked)for(var x=0;x<this.linked.length;++x){var M=this.linked[x];if(M.doc==l){this.linked.splice(x,1),l.unlinkDoc(this),ha(Tu(this));break}}if(l.history==this.history){var _=[l.id];ao(l,function(F){return _.push(F.id)},!0),l.history=new Rs(null),l.history.done=ko(this.history.done,_),l.history.undone=ko(this.history.undone,_)}},iterLinkedDocs:function(l){ao(this,l)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(l){return this.lineSep?l.split(this.lineSep):vr(l)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Zr(function(l){l!="rtl"&&(l="ltr"),l!=this.direction&&(this.direction=l,this.iter(function(x){return x.order=null}),this.cm&&qu(this.cm))})}),Mo.prototype.eachLine=Mo.prototype.iter;var Wc=0;function Gc(l){var x=this;if(Cc(x),!(vn(x,l)||So(x.display,l))){Hn(l),a&&(Wc=+new Date);var M=Et(x,l,!0),_=l.dataTransfer.files;if(!(!M||x.isReadOnly()))if(_&&_.length&&window.FileReader&&window.File)for(var F=_.length,X=Array(F),ie=0,fe=function(){++ie==F&&oa(x,function(){M=Zn(x.doc,M);var Mt={from:M,to:M,text:x.doc.splitLines(X.filter(function(an){return an!=null}).join(x.doc.lineSeparator())),origin:"paste"};lr(x.doc,Mt),le(x.doc,rl(Zn(x.doc,M),Zn(x.doc,la(Mt))))})()},ye=function(Mt,an){if(x.options.allowDropFileTypes&&_t(x.options.allowDropFileTypes,Mt.type)==-1){fe();return}var gn=new FileReader;gn.onerror=function(){return fe()},gn.onload=function(){var Tn=gn.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Tn)){fe();return}X[an]=Tn,fe()},gn.readAsText(Mt)},ke=0;ke<_.length;ke++)ye(_[ke],ke);else{if(x.state.draggingText&&x.doc.sel.contains(M)>-1){x.state.draggingText(l),setTimeout(function(){return x.display.input.focus()},20);return}try{var et=l.dataTransfer.getData("Text");if(et){var st;if(x.state.draggingText&&!x.state.draggingText.copy&&(st=x.listSelections()),He(x.doc,rl(M,M)),st)for(var Pt=0;Pt<st.length;++Pt)$a(x.doc,"",st[Pt].anchor,st[Pt].head,"drag");x.replaceSelection(et,"around","paste"),x.display.input.focus()}}catch{}}}}function as(l,x){if(a&&(!l.state.draggingText||+new Date-Wc<100)){mr(x);return}if(!(vn(l,x)||So(l.display,x))&&(x.dataTransfer.setData("Text",l.getSelection()),x.dataTransfer.effectAllowed="copyMove",x.dataTransfer.setDragImage&&!D)){var M=ge("img",null,null,"position: fixed; left: 0; top: 0;");M.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",C&&(M.width=M.height=1,l.display.wrapper.appendChild(M),M._top=M.offsetTop),x.dataTransfer.setDragImage(M,0,0),C&&M.parentNode.removeChild(M)}}function Uf(l,x){var M=Et(l,x);if(M){var _=document.createDocumentFragment();wr(l,M,_),l.display.dragCursor||(l.display.dragCursor=ge("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),l.display.lineSpace.insertBefore(l.display.dragCursor,l.display.cursorDiv)),ut(l.display.dragCursor,_)}}function Cc(l){l.display.dragCursor&&(l.display.lineSpace.removeChild(l.display.dragCursor),l.display.dragCursor=null)}function jf(l){if(document.getElementsByClassName){for(var x=document.getElementsByClassName("CodeMirror"),M=[],_=0;_<x.length;_++){var F=x[_].CodeMirror;F&&M.push(F)}M.length&&M[0].operation(function(){for(var X=0;X<M.length;X++)l(M[X])})}}var yh=!1;function a0(){yh||(o0(),yh=!0)}function o0(){var l;yt(window,"resize",function(){l==null&&(l=setTimeout(function(){l=null,jf(s0)},100))}),yt(window,"blur",function(){return jf(ca)})}function s0(l){var x=l.display;x.cachedCharWidth=x.cachedTextHeight=x.cachedPaddingH=null,x.scrollbarsClipped=!1,l.setSize()}for(var Du={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ku=0;ku<10;ku++)Du[ku+48]=Du[ku+96]=String(ku);for(var wl=65;wl<=90;wl++)Du[wl]=String.fromCharCode(wl);for(var Yc=1;Yc<=12;Yc++)Du[Yc+111]=Du[Yc+63235]="F"+Yc;var _u={};_u.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},_u.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},_u.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},_u.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},_u.default=q?_u.macDefault:_u.pcDefault;function df(l){var x=l.split(/-(?!$)/);l=x[x.length-1];for(var M,_,F,X,ie=0;ie<x.length-1;ie++){var fe=x[ie];if(/^(cmd|meta|m)$/i.test(fe))X=!0;else if(/^a(lt)?$/i.test(fe))M=!0;else if(/^(c|ctrl|control)$/i.test(fe))_=!0;else if(/^s(hift)?$/i.test(fe))F=!0;else throw new Error("Unrecognized modifier name: "+fe)}return M&&(l="Alt-"+l),_&&(l="Ctrl-"+l),X&&(l="Cmd-"+l),F&&(l="Shift-"+l),l}function l0(l){var x={};for(var M in l)if(l.hasOwnProperty(M)){var _=l[M];if(/^(name|fallthrough|(de|at)tach)$/.test(M))continue;if(_=="..."){delete l[M];continue}for(var F=Xt(M.split(" "),df),X=0;X<F.length;X++){var ie=void 0,fe=void 0;X==F.length-1?(fe=F.join(" "),ie=_):(fe=F.slice(0,X+1).join(" "),ie="...");var ye=x[fe];if(!ye)x[fe]=ie;else if(ye!=ie)throw new Error("Inconsistent bindings for "+fe)}delete l[M]}for(var ke in x)l[ke]=x[ke];return l}function Bl(l,x,M,_){x=Ju(x);var F=x.call?x.call(l,_):x[l];if(F===!1)return"nothing";if(F==="...")return"multi";if(F!=null&&M(F))return"handled";if(x.fallthrough){if(Object.prototype.toString.call(x.fallthrough)!="[object Array]")return Bl(l,x.fallthrough,M,_);for(var X=0;X<x.fallthrough.length;X++){var ie=Bl(l,x.fallthrough[X],M,_);if(ie)return ie}}}function Sc(l){var x=typeof l=="string"?l:Du[l.keyCode];return x=="Ctrl"||x=="Alt"||x=="Shift"||x=="Mod"}function Xc(l,x,M){var _=l;return x.altKey&&_!="Alt"&&(l="Alt-"+l),(Se?x.metaKey:x.ctrlKey)&&_!="Ctrl"&&(l="Ctrl-"+l),(Se?x.ctrlKey:x.metaKey)&&_!="Mod"&&(l="Cmd-"+l),!M&&x.shiftKey&&_!="Shift"&&(l="Shift-"+l),l}function Vc(l,x){if(C&&l.keyCode==34&&l.char)return!1;var M=Du[l.keyCode];return M==null||l.altGraphKey?!1:(l.keyCode==3&&l.code&&(M=l.code),Xc(M,l,x))}function Ju(l){return typeof l=="string"?_u[l]:l}function Cl(l,x){for(var M=l.doc.sel.ranges,_=[],F=0;F<M.length;F++){for(var X=x(M[F]);_.length&&On(X.from,un(_).to)<=0;){var ie=_.pop();if(On(ie.from,X.from)<0){X.from=ie.from;break}}_.push(X)}Qa(l,function(){for(var fe=_.length-1;fe>=0;fe--)$a(l.doc,"",_[fe].from,_[fe].to,"+delete");po(l)})}function gf(l,x,M){var _=we(l.text,x+M,M);return _<0||_>l.text.length?null:_}function Wf(l,x,M){var _=gf(l,x.ch,M);return _==null?null:new cn(x.line,_,M<0?"after":"before")}function Mu(l,x,M,_,F){if(l){x.doc.direction=="rtl"&&(F=-F);var X=at(M,x.doc.direction);if(X){var ie=F<0?un(X):X[0],fe=F<0==(ie.level==1),ye=fe?"after":"before",ke;if(ie.level>0||x.doc.direction=="rtl"){var et=_e(x,M);ke=F<0?M.text.length-1:0;var st=s(x,et,ke).top;ke=Ve(function(Pt){return s(x,et,Pt).top==st},F<0==(ie.level==1)?ie.from:ie.to-1,ke),ye=="before"&&(ke=gf(M,ke,1))}else ke=F<0?ie.to:ie.from;return new cn(_,ke,ye)}}return new cn(_,F<0?M.text.length:0,F<0?"before":"after")}function Kc(l,x,M,_){var F=at(x,l.doc.direction);if(!F)return Wf(x,M,_);M.ch>=x.text.length?(M.ch=x.text.length,M.sticky="before"):M.ch<=0&&(M.ch=0,M.sticky="after");var X=Ct(F,M.ch,M.sticky),ie=F[X];if(l.doc.direction=="ltr"&&ie.level%2==0&&(_>0?ie.to>M.ch:ie.from<M.ch))return Wf(x,M,_);var fe=function(Fn,zn){return gf(x,Fn instanceof cn?Fn.ch:Fn,zn)},ye,ke=function(Fn){return l.options.lineWrapping?(ye=ye||_e(l,x),wt(l,x,ye,Fn)):{begin:0,end:x.text.length}},et=ke(M.sticky=="before"?fe(M,-1):M.ch);if(l.doc.direction=="rtl"||ie.level==1){var st=ie.level==1==_<0,Pt=fe(M,st?1:-1);if(Pt!=null&&(st?Pt<=ie.to&&Pt<=et.end:Pt>=ie.from&&Pt>=et.begin)){var Mt=st?"before":"after";return new cn(M.line,Pt,Mt)}}var an=function(Fn,zn,wn){for(var Kn=function(Wi,bs){return bs?new cn(M.line,fe(Wi,1),"before"):new cn(M.line,Wi,"after")};Fn>=0&&Fn<F.length;Fn+=zn){var Cr=F[Fn],dr=zn>0==(Cr.level!=1),ii=dr?wn.begin:fe(wn.end,-1);if(Cr.from<=ii&&ii<Cr.to||(ii=dr?Cr.from:fe(Cr.to,-1),wn.begin<=ii&&ii<wn.end))return Kn(ii,dr)}},gn=an(X+_,_,et);if(gn)return gn;var Tn=_>0?et.end:fe(et.begin,-1);return Tn!=null&&!(_>0&&Tn==x.text.length)&&(gn=an(_>0?0:F.length-1,_,ke(Tn)),gn)?gn:null}var $u={selectAll:kn,singleSelection:function(l){return l.setSelection(l.getCursor("anchor"),l.getCursor("head"),kt)},killLine:function(l){return Cl(l,function(x){if(x.empty()){var M=mn(l.doc,x.head.line).text.length;return x.head.ch==M&&x.head.line<l.lastLine()?{from:x.head,to:cn(x.head.line+1,0)}:{from:x.head,to:cn(x.head.line,M)}}else return{from:x.from(),to:x.to()}})},deleteLine:function(l){return Cl(l,function(x){return{from:cn(x.from().line,0),to:Zn(l.doc,cn(x.to().line+1,0))}})},delLineLeft:function(l){return Cl(l,function(x){return{from:cn(x.from().line,0),to:x.from()}})},delWrappedLineLeft:function(l){return Cl(l,function(x){var M=l.charCoords(x.head,"div").top+5,_=l.coordsChar({left:0,top:M},"div");return{from:_,to:x.from()}})},delWrappedLineRight:function(l){return Cl(l,function(x){var M=l.charCoords(x.head,"div").top+5,_=l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:M},"div");return{from:x.from(),to:_}})},undo:function(l){return l.undo()},redo:function(l){return l.redo()},undoSelection:function(l){return l.undoSelection()},redoSelection:function(l){return l.redoSelection()},goDocStart:function(l){return l.extendSelection(cn(l.firstLine(),0))},goDocEnd:function(l){return l.extendSelection(cn(l.lastLine()))},goLineStart:function(l){return l.extendSelectionsBy(function(x){return pf(l,x.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(l){return l.extendSelectionsBy(function(x){return xh(l,x.head)},{origin:"+move",bias:1})},goLineEnd:function(l){return l.extendSelectionsBy(function(x){return Ec(l,x.head.line)},{origin:"+move",bias:-1})},goLineRight:function(l){return l.extendSelectionsBy(function(x){var M=l.cursorCoords(x.head,"div").top+5;return l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:M},"div")},tn)},goLineLeft:function(l){return l.extendSelectionsBy(function(x){var M=l.cursorCoords(x.head,"div").top+5;return l.coordsChar({left:0,top:M},"div")},tn)},goLineLeftSmart:function(l){return l.extendSelectionsBy(function(x){var M=l.cursorCoords(x.head,"div").top+5,_=l.coordsChar({left:0,top:M},"div");return _.ch<l.getLine(_.line).search(/\S/)?xh(l,x.head):_},tn)},goLineUp:function(l){return l.moveV(-1,"line")},goLineDown:function(l){return l.moveV(1,"line")},goPageUp:function(l){return l.moveV(-1,"page")},goPageDown:function(l){return l.moveV(1,"page")},goCharLeft:function(l){return l.moveH(-1,"char")},goCharRight:function(l){return l.moveH(1,"char")},goColumnLeft:function(l){return l.moveH(-1,"column")},goColumnRight:function(l){return l.moveH(1,"column")},goWordLeft:function(l){return l.moveH(-1,"word")},goGroupRight:function(l){return l.moveH(1,"group")},goGroupLeft:function(l){return l.moveH(-1,"group")},goWordRight:function(l){return l.moveH(1,"word")},delCharBefore:function(l){return l.deleteH(-1,"codepoint")},delCharAfter:function(l){return l.deleteH(1,"char")},delWordBefore:function(l){return l.deleteH(-1,"word")},delWordAfter:function(l){return l.deleteH(1,"word")},delGroupBefore:function(l){return l.deleteH(-1,"group")},delGroupAfter:function(l){return l.deleteH(1,"group")},indentAuto:function(l){return l.indentSelection("smart")},indentMore:function(l){return l.indentSelection("add")},indentLess:function(l){return l.indentSelection("subtract")},insertTab:function(l){return l.replaceSelection("	")},insertSoftTab:function(l){for(var x=[],M=l.listSelections(),_=l.options.tabSize,F=0;F<M.length;F++){var X=M[F].from(),ie=rt(l.getLine(X.line),X.ch,_);x.push(Kt(_-ie%_))}l.replaceSelections(x)},defaultTab:function(l){l.somethingSelected()?l.indentSelection("add"):l.execCommand("insertTab")},transposeChars:function(l){return Qa(l,function(){for(var x=l.listSelections(),M=[],_=0;_<x.length;_++)if(x[_].empty()){var F=x[_].head,X=mn(l.doc,F.line).text;if(X){if(F.ch==X.length&&(F=new cn(F.line,F.ch-1)),F.ch>0)F=new cn(F.line,F.ch+1),l.replaceRange(X.charAt(F.ch-1)+X.charAt(F.ch-2),cn(F.line,F.ch-2),F,"+transpose");else if(F.line>l.doc.first){var ie=mn(l.doc,F.line-1).text;ie&&(F=new cn(F.line,1),l.replaceRange(X.charAt(0)+l.doc.lineSeparator()+ie.charAt(ie.length-1),cn(F.line-1,ie.length-1),F,"+transpose"))}}M.push(new li(F,F))}l.setSelections(M)})},newlineAndIndent:function(l){return Qa(l,function(){for(var x=l.listSelections(),M=x.length-1;M>=0;M--)l.replaceRange(l.doc.lineSeparator(),x[M].anchor,x[M].head,"+input");x=l.listSelections();for(var _=0;_<x.length;_++)l.indentLine(x[_].from().line,null,!0);po(l)})},openLine:function(l){return l.replaceSelection(`
`,"start")},toggleOverwrite:function(l){return l.toggleOverwrite()}};function pf(l,x){var M=mn(l.doc,x),_=Ma(M);return _!=M&&(x=Xn(_)),Mu(!0,l,_,x,1)}function Ec(l,x){var M=mn(l.doc,x),_=vu(M);return _!=M&&(x=Xn(_)),Mu(!0,l,M,x,-1)}function xh(l,x){var M=pf(l,x.line),_=mn(l.doc,M.line),F=at(_,l.doc.direction);if(!F||F[0].level==0){var X=Math.max(M.ch,_.text.search(/\S/)),ie=x.line==M.line&&x.ch<=X&&x.ch;return cn(M.line,ie?0:X,M.sticky)}return M}function Ou(l,x,M){if(typeof x=="string"&&(x=$u[x],!x))return!1;l.display.input.ensurePolled();var _=l.display.shift,F=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),M&&(l.display.shift=!1),F=x(l)!=ft}finally{l.display.shift=_,l.state.suppressEdits=!1}return F}function Gf(l,x,M){for(var _=0;_<l.state.keyMaps.length;_++){var F=Bl(x,l.state.keyMaps[_],M,l);if(F)return F}return l.options.extraKeys&&Bl(x,l.options.extraKeys,M,l)||Bl(x,l.options.keyMap,M,l)}var u0=new jt;function Zc(l,x,M,_){var F=l.state.keySeq;if(F){if(Sc(x))return"handled";if(/\'$/.test(x)?l.state.keySeq=null:u0.set(50,function(){l.state.keySeq==F&&(l.state.keySeq=null,l.display.input.reset())}),c0(l,F+" "+x,M,_))return!0}return c0(l,x,M,_)}function c0(l,x,M,_){var F=Gf(l,x,_);return F=="multi"&&(l.state.keySeq=x),F=="handled"&&oi(l,"keyHandled",l,x,M),(F=="handled"||F=="multi")&&(Hn(M),ua(l)),!!F}function f0(l,x){var M=Vc(x,!0);return M?x.shiftKey&&!l.state.keySeq?Zc(l,"Shift-"+M,x,function(_){return Ou(l,_,!0)})||Zc(l,M,x,function(_){if(typeof _=="string"?/^go[A-Z]/.test(_):_.motion)return Ou(l,_)}):Zc(l,M,x,function(_){return Ou(l,_)}):!1}function bh(l,x,M){return Zc(l,"'"+M+"'",x,function(_){return Ou(l,_,!0)})}var Yf=null;function h0(l){var x=this;if(!(l.target&&l.target!=x.display.input.getField())&&(x.curOp.focus=Me(be(x)),!vn(x,l))){a&&u<11&&l.keyCode==27&&(l.returnValue=!1);var M=l.keyCode;x.display.shift=M==16||l.shiftKey;var _=f0(x,l);C&&(Yf=_?M:null,!_&&M==88&&!ar&&(q?l.metaKey:l.ctrlKey)&&x.replaceSelection("",null,"cut")),o&&!q&&!_&&M==46&&l.shiftKey&&!l.ctrlKey&&document.execCommand&&document.execCommand("cut"),M==18&&!/\bCodeMirror-crosshair\b/.test(x.display.lineDiv.className)&&j0(x)}}function j0(l){var x=l.display.lineDiv;ue(x,"CodeMirror-crosshair");function M(_){(_.keyCode==18||!_.altKey)&&(qe(x,"CodeMirror-crosshair"),pn(document,"keyup",M),pn(document,"mouseover",M))}yt(document,"keyup",M),yt(document,"mouseover",M)}function lu(l){l.keyCode==16&&(this.doc.sel.shift=!1),vn(this,l)}function mf(l){var x=this;if(!(l.target&&l.target!=x.display.input.getField())&&!(So(x.display,l)||vn(x,l)||l.ctrlKey&&!l.altKey||q&&l.metaKey)){var M=l.keyCode,_=l.charCode;if(C&&M==Yf){Yf=null,Hn(l);return}if(!(C&&(!l.which||l.which<10)&&f0(x,l))){var F=String.fromCharCode(_??M);F!="\b"&&(bh(x,l,F)||x.display.input.onKeyPress(l))}}}var vf=400,Ac=function(l,x,M){this.time=l,this.pos=x,this.button=M};Ac.prototype.compare=function(l,x,M){return this.time+vf>l&&On(x,this.pos)==0&&M==this.button};var Iu,ec;function wh(l,x){var M=+new Date;return ec&&ec.compare(M,l,x)?(Iu=ec=null,"triple"):Iu&&Iu.compare(M,l,x)?(ec=new Ac(M,l,x),Iu=null,"double"):(Iu=new Ac(M,l,x),ec=null,"single")}function Xf(l){var x=this,M=x.display;if(!(vn(x,l)||M.activeTouch&&M.input.supportsTouch())){if(M.input.ensurePolled(),M.shift=l.shiftKey,So(M,l)){v||(M.scroller.draggable=!1,setTimeout(function(){return M.scroller.draggable=!0},100));return}if(!Vf(x,l)){var _=Et(x,l),F=Jn(l),X=_?wh(_,F):"single";Fe(x).focus(),F==1&&x.state.selectingText&&x.state.selectingText(l),!(_&&W0(x,F,_,X,l))&&(F==1?_?G0(x,_,X,l):Mi(l)==M.scroller&&Hn(l):F==2?(_&&Zl(x.doc,_),setTimeout(function(){return M.input.focus()},20)):F==3&&(Be?x.display.input.onContextMenu(l):za(x)))}}}function W0(l,x,M,_,F){var X="Click";return _=="double"?X="Double"+X:_=="triple"&&(X="Triple"+X),X=(x==1?"Left":x==2?"Middle":"Right")+X,Zc(l,Xc(X,F),F,function(ie){if(typeof ie=="string"&&(ie=$u[ie]),!ie)return!1;var fe=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),fe=ie(l,M)!=ft}finally{l.state.suppressEdits=!1}return fe})}function Ch(l,x,M){var _=l.getOption("configureMouse"),F=_?_(l,x,M):{};if(F.unit==null){var X=J?M.shiftKey&&M.metaKey:M.altKey;F.unit=X?"rectangle":x=="single"?"char":x=="double"?"word":"line"}return(F.extend==null||l.doc.extend)&&(F.extend=l.doc.extend||M.shiftKey),F.addNew==null&&(F.addNew=q?M.metaKey:M.ctrlKey),F.moveOnDrag==null&&(F.moveOnDrag=!(q?M.altKey:M.ctrlKey)),F}function G0(l,x,M,_){a?setTimeout(ct(pi,l),0):l.curOp.focus=Me(be(l));var F=Ch(l,M,_),X=l.doc.sel,ie;l.options.dragDrop&&Fr&&!l.isReadOnly()&&M=="single"&&(ie=X.contains(x))>-1&&(On((ie=X.ranges[ie]).from(),x)<0||x.xRel>0)&&(On(ie.to(),x)>0||x.xRel<0)?Sh(l,_,x,F):xf(l,_,x,F)}function Sh(l,x,M,_){var F=l.display,X=!1,ie=oa(l,function(ke){v&&(F.scroller.draggable=!1),l.state.draggingText=!1,l.state.delayingBlurEvent&&(l.hasFocus()?l.state.delayingBlurEvent=!1:za(l)),pn(F.wrapper.ownerDocument,"mouseup",ie),pn(F.wrapper.ownerDocument,"mousemove",fe),pn(F.scroller,"dragstart",ye),pn(F.scroller,"drop",ie),X||(Hn(ke),_.addNew||Zl(l.doc,M,null,null,_.extend),v&&!D||a&&u==9?setTimeout(function(){F.wrapper.ownerDocument.body.focus({preventScroll:!0}),F.input.focus()},20):F.input.focus())}),fe=function(ke){X=X||Math.abs(x.clientX-ke.clientX)+Math.abs(x.clientY-ke.clientY)>=10},ye=function(){return X=!0};v&&(F.scroller.draggable=!0),l.state.draggingText=ie,ie.copy=!_.moveOnDrag,yt(F.wrapper.ownerDocument,"mouseup",ie),yt(F.wrapper.ownerDocument,"mousemove",fe),yt(F.scroller,"dragstart",ye),yt(F.scroller,"drop",ie),l.state.delayingBlurEvent=!0,setTimeout(function(){return F.input.focus()},20),F.scroller.dragDrop&&F.scroller.dragDrop()}function yf(l,x,M){if(M=="char")return new li(x,x);if(M=="word")return l.findWordAt(x);if(M=="line")return new li(cn(x.line,0),Zn(l.doc,cn(x.line+1,0)));var _=M(l,x);return new li(_.from,_.to)}function xf(l,x,M,_){a&&za(l);var F=l.display,X=l.doc;Hn(x);var ie,fe,ye=X.sel,ke=ye.ranges;if(_.addNew&&!_.extend?(fe=X.sel.contains(M),fe>-1?ie=ke[fe]:ie=new li(M,M)):(ie=X.sel.primary(),fe=X.sel.primIndex),_.unit=="rectangle")_.addNew||(ie=new li(M,M)),M=Et(l,x,!0,!0),fe=-1;else{var et=yf(l,M,_.unit);_.extend?ie=Au(ie,et.anchor,et.head,_.extend):ie=et}_.addNew?fe==-1?(fe=ke.length,de(X,ms(l,ke.concat([ie]),fe),{scroll:!1,origin:"*mouse"})):ke.length>1&&ke[fe].empty()&&_.unit=="char"&&!_.extend?(de(X,ms(l,ke.slice(0,fe).concat(ke.slice(fe+1)),0),{scroll:!1,origin:"*mouse"}),ye=X.sel):z(X,fe,ie,Dt):(fe=0,de(X,new ns([ie],0),Dt),ye=X.sel);var st=M;function Pt(wn){if(On(st,wn)!=0)if(st=wn,_.unit=="rectangle"){for(var Kn=[],Cr=l.options.tabSize,dr=rt(mn(X,M.line).text,M.ch,Cr),ii=rt(mn(X,wn.line).text,wn.ch,Cr),Wi=Math.min(dr,ii),bs=Math.max(dr,ii),oo=Math.min(M.line,wn.line),Gs=Math.min(l.lastLine(),Math.max(M.line,wn.line));oo<=Gs;oo++){var yo=mn(X,oo).text,Wo=zt(yo,Wi,Cr);Wi==bs?Kn.push(new li(cn(oo,Wo),cn(oo,Wo))):yo.length>Wo&&Kn.push(new li(cn(oo,Wo),cn(oo,zt(yo,bs,Cr))))}Kn.length||Kn.push(new li(M,M)),de(X,ms(l,ye.ranges.slice(0,fe).concat(Kn),fe),{origin:"*mouse",scroll:!1}),l.scrollIntoView(wn)}else{var ul=ie,Ns=yf(l,wn,_.unit),Go=ul.anchor,Ro;On(Ns.anchor,Go)>0?(Ro=Ns.head,Go=ka(ul.from(),Ns.anchor)):(Ro=Ns.anchor,Go=Ai(ul.to(),Ns.head));var eo=ye.ranges.slice(0);eo[fe]=bf(l,new li(Zn(X,Go),Ro)),de(X,ms(l,eo,fe),Dt)}}var Mt=F.wrapper.getBoundingClientRect(),an=0;function gn(wn){var Kn=++an,Cr=Et(l,wn,!0,_.unit=="rectangle");if(Cr)if(On(Cr,st)!=0){l.curOp.focus=Me(be(l)),Pt(Cr);var dr=Eo(F,X);(Cr.line>=dr.to||Cr.line<dr.from)&&setTimeout(oa(l,function(){an==Kn&&gn(wn)}),150)}else{var ii=wn.clientY<Mt.top?-20:wn.clientY>Mt.bottom?20:0;ii&&setTimeout(oa(l,function(){an==Kn&&(F.scroller.scrollTop+=ii,gn(wn))}),50)}}function Tn(wn){l.state.selectingText=!1,an=1/0,wn&&(Hn(wn),F.input.focus()),pn(F.wrapper.ownerDocument,"mousemove",Fn),pn(F.wrapper.ownerDocument,"mouseup",zn),X.history.lastSelOrigin=null}var Fn=oa(l,function(wn){wn.buttons===0||!Jn(wn)?Tn(wn):gn(wn)}),zn=oa(l,Tn);l.state.selectingText=zn,yt(F.wrapper.ownerDocument,"mousemove",Fn),yt(F.wrapper.ownerDocument,"mouseup",zn)}function bf(l,x){var M=x.anchor,_=x.head,F=mn(l.doc,M.line);if(On(M,_)==0&&M.sticky==_.sticky)return x;var X=at(F);if(!X)return x;var ie=Ct(X,M.ch,M.sticky),fe=X[ie];if(fe.from!=M.ch&&fe.to!=M.ch)return x;var ye=ie+(fe.from==M.ch==(fe.level!=1)?0:1);if(ye==0||ye==X.length)return x;var ke;if(_.line!=M.line)ke=(_.line-M.line)*(l.doc.direction=="ltr"?1:-1)>0;else{var et=Ct(X,_.ch,_.sticky),st=et-ie||(_.ch-M.ch)*(fe.level==1?-1:1);et==ye-1||et==ye?ke=st<0:ke=st>0}var Pt=X[ye+(ke?-1:0)],Mt=ke==(Pt.level==1),an=Mt?Pt.from:Pt.to,gn=Mt?"after":"before";return M.ch==an&&M.sticky==gn?x:new li(new cn(M.line,an,gn),_)}function qc(l,x,M,_){var F,X;if(x.touches)F=x.touches[0].clientX,X=x.touches[0].clientY;else try{F=x.clientX,X=x.clientY}catch{return!1}if(F>=Math.floor(l.display.gutters.getBoundingClientRect().right))return!1;_&&Hn(x);var ie=l.display,fe=ie.lineDiv.getBoundingClientRect();if(X>fe.bottom||!Yn(l,M))return Br(x);X-=fe.top-ie.viewOffset;for(var ye=0;ye<l.display.gutterSpecs.length;++ye){var ke=ie.gutters.childNodes[ye];if(ke&&ke.getBoundingClientRect().right>=F){var et=fr(l.doc,X),st=l.display.gutterSpecs[ye];return Cn(l,M,l,et,st.className,x),Br(x)}}}function Vf(l,x){return qc(l,x,"gutterClick",!0)}function Eh(l,x){So(l.display,x)||Kf(l,x)||vn(l,x,"contextmenu")||Be||l.display.input.onContextMenu(x)}function Kf(l,x){return Yn(l,"gutterContextMenu")?qc(l,x,"gutterContextMenu",!1):!1}function wf(l){l.display.wrapper.className=l.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+l.options.theme.replace(/(^|\s)\s*/g," cm-s-"),B(l)}var Fl={toString:function(){return"CodeMirror.Init"}},d0={},uu={};function Ah(l){var x=l.optionHandlers;function M(_,F,X,ie){l.defaults[_]=F,X&&(x[_]=ie?function(fe,ye,ke){ke!=Fl&&X(fe,ye,ke)}:X)}l.defineOption=M,l.Init=Fl,M("value","",function(_,F){return _.setValue(F)},!0),M("mode",null,function(_,F){_.doc.modeOption=F,Zu(_)},!0),M("indentUnit",2,Zu,!0),M("indentWithTabs",!1),M("smartIndent",!0),M("tabSize",4,function(_){Vl(_),B(_),dn(_)},!0),M("lineSeparator",null,function(_,F){if(_.doc.lineSep=F,!!F){var X=[],ie=_.doc.first;_.doc.iter(function(ye){for(var ke=0;;){var et=ye.text.indexOf(F,ke);if(et==-1)break;ke=et+F.length,X.push(cn(ie,et))}ie++});for(var fe=X.length-1;fe>=0;fe--)$a(_.doc,F,X[fe],cn(X[fe].line,X[fe].ch+F.length))}}),M("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(_,F,X){_.state.specialChars=new RegExp(F.source+(F.test("	")?"":"|	"),"g"),X!=Fl&&_.refresh()}),M("specialCharPlaceholder",Oa,function(_){return _.refresh()},!0),M("electricChars",!0),M("inputStyle",W?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),M("spellcheck",!1,function(_,F){return _.getInputField().spellcheck=F},!0),M("autocorrect",!1,function(_,F){return _.getInputField().autocorrect=F},!0),M("autocapitalize",!1,function(_,F){return _.getInputField().autocapitalize=F},!0),M("rtlMoveVisually",!ne),M("wholeLineUpdateBefore",!0),M("theme","default",function(_){wf(_),ts(_)},!0),M("keyMap","default",function(_,F,X){var ie=Ju(F),fe=X!=Fl&&Ju(X);fe&&fe.detach&&fe.detach(_,ie),ie.attach&&ie.attach(_,fe||null)}),M("extraKeys",null),M("configureMouse",null),M("lineWrapping",!1,Zf,!0),M("gutters",[],function(_,F){_.display.gutterSpecs=wc(F,_.options.lineNumbers),ts(_)},!0),M("fixedGutter",!0,function(_,F){_.display.gutters.style.left=F?tt(_.display)+"px":"0",_.refresh()},!0),M("coverGutterNextToScrollbar",!1,function(_){return iu(_)},!0),M("scrollbarStyle","native",function(_){ri(_),iu(_),_.display.scrollbars.setScrollTop(_.doc.scrollTop),_.display.scrollbars.setScrollLeft(_.doc.scrollLeft)},!0),M("lineNumbers",!1,function(_,F){_.display.gutterSpecs=wc(_.options.gutters,F),ts(_)},!0),M("firstLineNumber",1,ts,!0),M("lineNumberFormatter",function(_){return _},ts,!0),M("showCursorWhenSelecting",!1,_r,!0),M("resetSelectionOnContextMenu",!0),M("lineWiseCopyCut",!0),M("pasteLinesPerSelection",!0),M("selectionsMayTouch",!1),M("readOnly",!1,function(_,F){F=="nocursor"&&(ca(_),_.display.input.blur()),_.display.input.readOnlyChanged(F)}),M("screenReaderLabel",null,function(_,F){F=F===""?null:F,_.display.input.screenReaderLabelChanged(F)}),M("disableInput",!1,function(_,F){F||_.display.input.reset()},!0),M("dragDrop",!0,Cf),M("allowDropFileTypes",null),M("cursorBlinkRate",530),M("cursorScrollMargin",0),M("cursorHeight",1,_r,!0),M("singleCursorHeightPerLine",!0,_r,!0),M("workTime",100),M("workDelay",100),M("flattenSpans",!0,Vl,!0),M("addModeClass",!1,Vl,!0),M("pollInterval",100),M("undoDepth",200,function(_,F){return _.doc.history.undoDepth=F}),M("historyEventDelay",1250),M("viewportMargin",10,function(_){return _.refresh()},!0),M("maxHighlightLength",1e4,Vl,!0),M("moveInputWithCursor",!0,function(_,F){F||_.display.input.resetPosition()}),M("tabindex",null,function(_,F){return _.display.input.getField().tabIndex=F||""}),M("autofocus",null),M("direction","ltr",function(_,F){return _.doc.setDirection(F)},!0),M("phrases",null)}function Cf(l,x,M){var _=M&&M!=Fl;if(!x!=!_){var F=l.display.dragFunctions,X=x?yt:pn;X(l.display.scroller,"dragstart",F.start),X(l.display.scroller,"dragenter",F.enter),X(l.display.scroller,"dragover",F.over),X(l.display.scroller,"dragleave",F.leave),X(l.display.scroller,"drop",F.drop)}}function Zf(l){l.options.lineWrapping?(ue(l.display.wrapper,"CodeMirror-wrap"),l.display.sizer.style.minWidth="",l.display.sizerWidth=null):(qe(l.display.wrapper,"CodeMirror-wrap"),Qt(l)),Rt(l),dn(l),B(l),setTimeout(function(){return iu(l)},100)}function Oi(l,x){var M=this;if(!(this instanceof Oi))return new Oi(l,x);this.options=x=x?At(x):{},At(d0,x,!1);var _=x.value;typeof _=="string"?_=new Mo(_,x.mode,null,x.lineSeparator,x.direction):x.mode&&(_.modeOption=x.mode),this.doc=_;var F=new Oi.inputStyles[x.inputStyle](this),X=this.display=new au(l,_,F,x);X.wrapper.CodeMirror=this,wf(this),x.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ri(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new jt,keySeq:null,specialChars:null},x.autofocus&&!W&&X.input.focus(),a&&u<11&&setTimeout(function(){return M.display.input.reset(!0)},20),g0(this),a0(),Ia(this),this.curOp.forceUpdate=!0,jc(this,_),x.autofocus&&!W||this.hasFocus()?setTimeout(function(){M.hasFocus()&&!M.state.focused&&Fi(M)},20):ca(this);for(var ie in uu)uu.hasOwnProperty(ie)&&uu[ie](this,x[ie],Fl);Aa(this),x.finishInit&&x.finishInit(this);for(var fe=0;fe<Ru.length;++fe)Ru[fe](this);vl(this),v&&x.lineWrapping&&getComputedStyle(X.lineDiv).textRendering=="optimizelegibility"&&(X.lineDiv.style.textRendering="auto")}Oi.defaults=d0,Oi.optionHandlers=uu;function g0(l){var x=l.display;yt(x.scroller,"mousedown",oa(l,Xf)),a&&u<11?yt(x.scroller,"dblclick",oa(l,function(ye){if(!vn(l,ye)){var ke=Et(l,ye);if(!(!ke||Vf(l,ye)||So(l.display,ye))){Hn(ye);var et=l.findWordAt(ke);Zl(l.doc,et.anchor,et.head)}}})):yt(x.scroller,"dblclick",function(ye){return vn(l,ye)||Hn(ye)}),yt(x.scroller,"contextmenu",function(ye){return Eh(l,ye)}),yt(x.input.getField(),"contextmenu",function(ye){x.scroller.contains(ye.target)||Eh(l,ye)});var M,_={end:0};function F(){x.activeTouch&&(M=setTimeout(function(){return x.activeTouch=null},1e3),_=x.activeTouch,_.end=+new Date)}function X(ye){if(ye.touches.length!=1)return!1;var ke=ye.touches[0];return ke.radiusX<=1&&ke.radiusY<=1}function ie(ye,ke){if(ke.left==null)return!0;var et=ke.left-ye.left,st=ke.top-ye.top;return et*et+st*st>400}yt(x.scroller,"touchstart",function(ye){if(!vn(l,ye)&&!X(ye)&&!Vf(l,ye)){x.input.ensurePolled(),clearTimeout(M);var ke=+new Date;x.activeTouch={start:ke,moved:!1,prev:ke-_.end<=300?_:null},ye.touches.length==1&&(x.activeTouch.left=ye.touches[0].pageX,x.activeTouch.top=ye.touches[0].pageY)}}),yt(x.scroller,"touchmove",function(){x.activeTouch&&(x.activeTouch.moved=!0)}),yt(x.scroller,"touchend",function(ye){var ke=x.activeTouch;if(ke&&!So(x,ye)&&ke.left!=null&&!ke.moved&&new Date-ke.start<300){var et=l.coordsChar(x.activeTouch,"page"),st;!ke.prev||ie(ke,ke.prev)?st=new li(et,et):!ke.prev.prev||ie(ke,ke.prev.prev)?st=l.findWordAt(et):st=new li(cn(et.line,0),Zn(l.doc,cn(et.line+1,0))),l.setSelection(st.anchor,st.head),l.focus(),Hn(ye)}F()}),yt(x.scroller,"touchcancel",F),yt(x.scroller,"scroll",function(){x.scroller.clientHeight&&(ji(l,x.scroller.scrollTop),To(l,x.scroller.scrollLeft,!0),Cn(l,"scroll",l))}),yt(x.scroller,"mousewheel",function(ye){return Uc(l,ye)}),yt(x.scroller,"DOMMouseScroll",function(ye){return Uc(l,ye)}),yt(x.wrapper,"scroll",function(){return x.wrapper.scrollTop=x.wrapper.scrollLeft=0}),x.dragFunctions={enter:function(ye){vn(l,ye)||mr(ye)},over:function(ye){vn(l,ye)||(Uf(l,ye),mr(ye))},start:function(ye){return as(l,ye)},drop:oa(l,Gc),leave:function(ye){vn(l,ye)||Cc(l)}};var fe=x.input.getField();yt(fe,"keyup",function(ye){return lu.call(l,ye)}),yt(fe,"keydown",oa(l,h0)),yt(fe,"keypress",oa(l,mf)),yt(fe,"focus",function(ye){return Fi(l,ye)}),yt(fe,"blur",function(ye){return ca(l,ye)})}var Ru=[];Oi.defineInitHook=function(l){return Ru.push(l)};function Qc(l,x,M,_){var F=l.doc,X;M==null&&(M="add"),M=="smart"&&(F.mode.indent?X=pa(l,x).state:M="prev");var ie=l.options.tabSize,fe=mn(F,x),ye=rt(fe.text,null,ie);fe.stateAfter&&(fe.stateAfter=null);var ke=fe.text.match(/^\s*/)[0],et;if(!_&&!/\S/.test(fe.text))et=0,M="not";else if(M=="smart"&&(et=F.mode.indent(X,fe.text.slice(ke.length),fe.text),et==ft||et>150)){if(!_)return;M="prev"}M=="prev"?x>F.first?et=rt(mn(F,x-1).text,null,ie):et=0:M=="add"?et=ye+l.options.indentUnit:M=="subtract"?et=ye-l.options.indentUnit:typeof M=="number"&&(et=ye+M),et=Math.max(0,et);var st="",Pt=0;if(l.options.indentWithTabs)for(var Mt=Math.floor(et/ie);Mt;--Mt)Pt+=ie,st+="	";if(Pt<et&&(st+=Kt(et-Pt)),st!=ke)return $a(F,st,cn(x,0),cn(x,ke.length),"+input"),fe.stateAfter=null,!0;for(var an=0;an<F.sel.ranges.length;an++){var gn=F.sel.ranges[an];if(gn.head.line==x&&gn.head.ch<ke.length){var Tn=cn(x,ke.length);z(F,an,new li(Tn,Tn));break}}}var ll=null;function Nu(l){ll=l}function Sf(l,x,M,_,F){var X=l.doc;l.display.shift=!1,_||(_=X.sel);var ie=+new Date-200,fe=F=="paste"||l.state.pasteIncoming>ie,ye=vr(x),ke=null;if(fe&&_.ranges.length>1)if(ll&&ll.text.join(`
`)==x){if(_.ranges.length%ll.text.length==0){ke=[];for(var et=0;et<ll.text.length;et++)ke.push(X.splitLines(ll.text[et]))}}else ye.length==_.ranges.length&&l.options.pasteLinesPerSelection&&(ke=Xt(ye,function(Fn){return[Fn]}));for(var st=l.curOp.updateInput,Pt=_.ranges.length-1;Pt>=0;Pt--){var Mt=_.ranges[Pt],an=Mt.from(),gn=Mt.to();Mt.empty()&&(M&&M>0?an=cn(an.line,an.ch-M):l.state.overwrite&&!fe?gn=cn(gn.line,Math.min(mn(X,gn.line).text.length,gn.ch+un(ye).length)):fe&&ll&&ll.lineWise&&ll.text.join(`
`)==ye.join(`
`)&&(an=gn=cn(an.line,0)));var Tn={from:an,to:gn,text:ke?ke[Pt%ke.length]:ye,origin:F||(fe?"paste":l.state.cutIncoming>ie?"cut":"+input")};lr(l.doc,Tn),oi(l,"inputRead",l,Tn)}x&&!fe&&qf(l,x),po(l),l.curOp.updateInput<2&&(l.curOp.updateInput=st),l.curOp.typing=!0,l.state.pasteIncoming=l.state.cutIncoming=-1}function Ef(l,x){var M=l.clipboardData&&l.clipboardData.getData("Text");if(M)return l.preventDefault(),!x.isReadOnly()&&!x.options.disableInput&&x.hasFocus()&&Qa(x,function(){return Sf(x,M,0,null,"paste")}),!0}function qf(l,x){if(!(!l.options.electricChars||!l.options.smartIndent))for(var M=l.doc.sel,_=M.ranges.length-1;_>=0;_--){var F=M.ranges[_];if(!(F.head.ch>100||_&&M.ranges[_-1].head.line==F.head.line)){var X=l.getModeAt(F.head),ie=!1;if(X.electricChars){for(var fe=0;fe<X.electricChars.length;fe++)if(x.indexOf(X.electricChars.charAt(fe))>-1){ie=Qc(l,F.head.line,"smart");break}}else X.electricInput&&X.electricInput.test(mn(l.doc,F.head.line).text.slice(0,F.head.ch))&&(ie=Qc(l,F.head.line,"smart"));ie&&oi(l,"electricInput",l,F.head.line)}}}function Af(l){for(var x=[],M=[],_=0;_<l.doc.sel.ranges.length;_++){var F=l.doc.sel.ranges[_].head.line,X={anchor:cn(F,0),head:cn(F+1,0)};M.push(X),x.push(l.getRange(X.anchor,X.head))}return{text:x,ranges:M}}function Qf(l,x,M,_){l.setAttribute("autocorrect",M?"on":"off"),l.setAttribute("autocapitalize",_?"on":"off"),l.setAttribute("spellcheck",!!x)}function Oo(){var l=ge("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),x=ge("div",[l],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return v?l.style.width="1000px":l.setAttribute("wrap","off"),N&&(l.style.border="1px solid black"),x}function xs(l){var x=l.optionHandlers,M=l.helpers={};l.prototype={constructor:l,focus:function(){Fe(this).focus(),this.display.input.focus()},setOption:function(_,F){var X=this.options,ie=X[_];X[_]==F&&_!="mode"||(X[_]=F,x.hasOwnProperty(_)&&oa(this,x[_])(this,F,ie),Cn(this,"optionChange",this,_))},getOption:function(_){return this.options[_]},getDoc:function(){return this.doc},addKeyMap:function(_,F){this.state.keyMaps[F?"push":"unshift"](Ju(_))},removeKeyMap:function(_){for(var F=this.state.keyMaps,X=0;X<F.length;++X)if(F[X]==_||F[X].name==_)return F.splice(X,1),!0},addOverlay:Ra(function(_,F){var X=_.token?_:l.getMode(this.options,_);if(X.startState)throw new Error("Overlays may not be stateful.");Zt(this.state.overlays,{mode:X,modeSpec:_,opaque:F&&F.opaque,priority:F&&F.priority||0},function(ie){return ie.priority}),this.state.modeGen++,dn(this)}),removeOverlay:Ra(function(_){for(var F=this.state.overlays,X=0;X<F.length;++X){var ie=F[X].modeSpec;if(ie==_||typeof _=="string"&&ie.name==_){F.splice(X,1),this.state.modeGen++,dn(this);return}}}),indentLine:Ra(function(_,F,X){typeof F!="string"&&typeof F!="number"&&(F==null?F=this.options.smartIndent?"smart":"prev":F=F?"add":"subtract"),Or(this.doc,_)&&Qc(this,_,F,X)}),indentSelection:Ra(function(_){for(var F=this.doc.sel.ranges,X=-1,ie=0;ie<F.length;ie++){var fe=F[ie];if(fe.empty())fe.head.line>X&&(Qc(this,fe.head.line,_,!0),X=fe.head.line,ie==this.doc.sel.primIndex&&po(this));else{var ye=fe.from(),ke=fe.to(),et=Math.max(X,ye.line);X=Math.min(this.lastLine(),ke.line-(ke.ch?0:1))+1;for(var st=et;st<X;++st)Qc(this,st,_);var Pt=this.doc.sel.ranges;ye.ch==0&&F.length==Pt.length&&Pt[ie].from().ch>0&&z(this.doc,ie,new li(ye,Pt[ie].to()),kt)}}}),getTokenAt:function(_,F){return xn(this,_,F)},getLineTokens:function(_,F){return xn(this,cn(_),F,!0)},getTokenTypeAt:function(_){_=Zn(this.doc,_);var F=Di(this,mn(this.doc,_.line)),X=0,ie=(F.length-1)/2,fe=_.ch,ye;if(fe==0)ye=F[2];else for(;;){var ke=X+ie>>1;if((ke?F[ke*2-1]:0)>=fe)ie=ke;else if(F[ke*2+1]<fe)X=ke+1;else{ye=F[ke*2+2];break}}var et=ye?ye.indexOf("overlay "):-1;return et<0?ye:et==0?null:ye.slice(0,et-1)},getModeAt:function(_){var F=this.doc.mode;return F.innerMode?l.innerMode(F,this.getTokenAt(_).state).mode:F},getHelper:function(_,F){return this.getHelpers(_,F)[0]},getHelpers:function(_,F){var X=[];if(!M.hasOwnProperty(F))return X;var ie=M[F],fe=this.getModeAt(_);if(typeof fe[F]=="string")ie[fe[F]]&&X.push(ie[fe[F]]);else if(fe[F])for(var ye=0;ye<fe[F].length;ye++){var ke=ie[fe[F][ye]];ke&&X.push(ke)}else fe.helperType&&ie[fe.helperType]?X.push(ie[fe.helperType]):ie[fe.name]&&X.push(ie[fe.name]);for(var et=0;et<ie._global.length;et++){var st=ie._global[et];st.pred(fe,this)&&_t(X,st.val)==-1&&X.push(st.val)}return X},getStateAfter:function(_,F){var X=this.doc;return _=pr(X,_??X.first+X.size-1),pa(this,_+1,F).state},cursorCoords:function(_,F){var X,ie=this.doc.sel.primary();return _==null?X=ie.head:typeof _=="object"?X=Zn(this.doc,_):X=_?ie.from():ie.to(),Le(this,X,F||"page")},charCoords:function(_,F){return Oe(this,Zn(this.doc,_),F||"page")},coordsChar:function(_,F){return _=Ae(this,_,F||"page"),ot(this,_.left,_.top)},lineAtHeight:function(_,F){return _=Ae(this,{top:_,left:0},F||"page").top,fr(this.doc,_+this.display.viewOffset)},heightAtLine:function(_,F,X){var ie=!1,fe;if(typeof _=="number"){var ye=this.doc.first+this.doc.size-1;_<this.doc.first?_=this.doc.first:_>ye&&(_=ye,ie=!0),fe=mn(this.doc,_)}else fe=_;return he(this,fe,{top:0,left:0},F||"page",X||ie).top+(ie?this.doc.height-Fa(fe):0)},defaultTextHeight:function(){return De(this.display)},defaultCharWidth:function(){return ze(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(_,F,X,ie,fe){var ye=this.display;_=Le(this,Zn(this.doc,_));var ke=_.bottom,et=_.left;if(F.style.position="absolute",F.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(F),ye.sizer.appendChild(F),ie=="over")ke=_.top;else if(ie=="above"||ie=="near"){var st=Math.max(ye.wrapper.clientHeight,this.doc.height),Pt=Math.max(ye.sizer.clientWidth,ye.lineSpace.clientWidth);(ie=="above"||_.bottom+F.offsetHeight>st)&&_.top>F.offsetHeight?ke=_.top-F.offsetHeight:_.bottom+F.offsetHeight<=st&&(ke=_.bottom),et+F.offsetWidth>Pt&&(et=Pt-F.offsetWidth)}F.style.top=ke+"px",F.style.left=F.style.right="",fe=="right"?(et=ye.sizer.clientWidth-F.offsetWidth,F.style.right="0px"):(fe=="left"?et=0:fe=="middle"&&(et=(ye.sizer.clientWidth-F.offsetWidth)/2),F.style.left=et+"px"),X&&ds(this,{left:et,top:ke,right:et+F.offsetWidth,bottom:ke+F.offsetHeight})},triggerOnKeyDown:Ra(h0),triggerOnKeyPress:Ra(mf),triggerOnKeyUp:lu,triggerOnMouseDown:Ra(Xf),execCommand:function(_){if($u.hasOwnProperty(_))return $u[_].call(null,this)},triggerElectric:Ra(function(_){qf(this,_)}),findPosH:function(_,F,X,ie){var fe=1;F<0&&(fe=-1,F=-F);for(var ye=Zn(this.doc,_),ke=0;ke<F&&(ye=Tc(this.doc,ye,fe,X,ie),!ye.hitSide);++ke);return ye},moveH:Ra(function(_,F){var X=this;this.extendSelectionsBy(function(ie){return X.display.shift||X.doc.extend||ie.empty()?Tc(X.doc,ie.head,_,F,X.options.rtlMoveVisually):_<0?ie.from():ie.to()},tn)}),deleteH:Ra(function(_,F){var X=this.doc.sel,ie=this.doc;X.somethingSelected()?ie.replaceSelection("",null,"+delete"):Cl(this,function(fe){var ye=Tc(ie,fe.head,_,F,!1);return _<0?{from:ye,to:fe.head}:{from:fe.head,to:ye}})}),findPosV:function(_,F,X,ie){var fe=1,ye=ie;F<0&&(fe=-1,F=-F);for(var ke=Zn(this.doc,_),et=0;et<F;++et){var st=Le(this,ke,"div");if(ye==null?ye=st.left:st.left=ye,ke=Jc(this,st,fe,X),ke.hitSide)break}return ke},moveV:Ra(function(_,F){var X=this,ie=this.doc,fe=[],ye=!this.display.shift&&!ie.extend&&ie.sel.somethingSelected();if(ie.extendSelectionsBy(function(et){if(ye)return _<0?et.from():et.to();var st=Le(X,et.head,"div");et.goalColumn!=null&&(st.left=et.goalColumn),fe.push(st.left);var Pt=Jc(X,st,_,F);return F=="page"&&et==ie.sel.primary()&&Ha(X,Oe(X,Pt,"div").top-st.top),Pt},tn),fe.length)for(var ke=0;ke<ie.sel.ranges.length;ke++)ie.sel.ranges[ke].goalColumn=fe[ke]}),findWordAt:function(_){var F=this.doc,X=mn(F,_.line).text,ie=_.ch,fe=_.ch;if(X){var ye=this.getHelper(_,"wordChars");(_.sticky=="before"||fe==X.length)&&ie?--ie:++fe;for(var ke=X.charAt(ie),et=xe(ke,ye)?function(st){return xe(st,ye)}:/\s/.test(ke)?function(st){return/\s/.test(st)}:function(st){return!/\s/.test(st)&&!xe(st)};ie>0&&et(X.charAt(ie-1));)--ie;for(;fe<X.length&&et(X.charAt(fe));)++fe}return new li(cn(_.line,ie),cn(_.line,fe))},toggleOverwrite:function(_){_!=null&&_==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ue(this.display.cursorDiv,"CodeMirror-overwrite"):qe(this.display.cursorDiv,"CodeMirror-overwrite"),Cn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Me(be(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ra(function(_,F){Ao(this,_,F)}),getScrollInfo:function(){var _=this.display.scroller;return{left:_.scrollLeft,top:_.scrollTop,height:_.scrollHeight-Qo(this)-this.display.barHeight,width:_.scrollWidth-Qo(this)-this.display.barWidth,clientHeight:Pa(this),clientWidth:Ho(this)}},scrollIntoView:Ra(function(_,F){_==null?(_={from:this.doc.sel.primary().head,to:null},F==null&&(F=this.options.cursorScrollMargin)):typeof _=="number"?_={from:cn(_,0),to:null}:_.from==null&&(_={from:_,to:null}),_.to||(_.to=_.from),_.margin=F||0,_.from.line!=null?Za(this,_):gs(this,_.from,_.to,_.margin)}),setSize:Ra(function(_,F){var X=this,ie=function(ye){return typeof ye=="number"||/^\d+$/.test(String(ye))?ye+"px":ye};_!=null&&(this.display.wrapper.style.width=ie(_)),F!=null&&(this.display.wrapper.style.height=ie(F)),this.options.lineWrapping&&T(this);var fe=this.display.viewFrom;this.doc.iter(fe,this.display.viewTo,function(ye){if(ye.widgets){for(var ke=0;ke<ye.widgets.length;ke++)if(ye.widgets[ke].noHScroll){Nn(X,fe,"widget");break}}++fe}),this.curOp.forceUpdate=!0,Cn(this,"refresh",this)}),operation:function(_){return Qa(this,_)},startOperation:function(){return Ia(this)},endOperation:function(){return vl(this)},refresh:Ra(function(){var _=this.display.cachedTextHeight;dn(this),this.curOp.forceUpdate=!0,B(this),Ao(this,this.doc.scrollLeft,this.doc.scrollTop),Uo(this.display),(_==null||Math.abs(_-De(this.display))>.5||this.options.lineWrapping)&&Rt(this),Cn(this,"refresh",this)}),swapDoc:Ra(function(_){var F=this.doc;return F.cm=null,this.state.selectingText&&this.state.selectingText(),jc(this,_),B(this),this.display.input.reset(),Ao(this,_.scrollLeft,_.scrollTop),this.curOp.forceScroll=!0,oi(this,"swapDoc",this,F),F}),phrase:function(_){var F=this.options.phrases;return F&&Object.prototype.hasOwnProperty.call(F,_)?F[_]:_},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},er(l),l.registerHelper=function(_,F,X){M.hasOwnProperty(_)||(M[_]=l[_]={_global:[]}),M[_][F]=X},l.registerGlobalHelper=function(_,F,X,ie){l.registerHelper(_,F,ie),M[_]._global.push({pred:X,val:ie})}}function Tc(l,x,M,_,F){var X=x,ie=M,fe=mn(l,x.line),ye=F&&l.direction=="rtl"?-M:M;function ke(){var zn=x.line+ye;return zn<l.first||zn>=l.first+l.size?!1:(x=new cn(zn,x.ch,x.sticky),fe=mn(l,zn))}function et(zn){var wn;if(_=="codepoint"){var Kn=fe.text.charCodeAt(x.ch+(M>0?0:-1));if(isNaN(Kn))wn=null;else{var Cr=M>0?Kn>=55296&&Kn<56320:Kn>=56320&&Kn<57343;wn=new cn(x.line,Math.max(0,Math.min(fe.text.length,x.ch+M*(Cr?2:1))),-M)}}else F?wn=Kc(l.cm,fe,x,M):wn=Wf(fe,x,M);if(wn==null)if(!zn&&ke())x=Mu(F,l.cm,fe,x.line,ye);else return!1;else x=wn;return!0}if(_=="char"||_=="codepoint")et();else if(_=="column")et(!0);else if(_=="word"||_=="group")for(var st=null,Pt=_=="group",Mt=l.cm&&l.cm.getHelper(x,"wordChars"),an=!0;!(M<0&&!et(!an));an=!1){var gn=fe.text.charAt(x.ch)||`
`,Tn=xe(gn,Mt)?"w":Pt&&gn==`
`?"n":!Pt||/\s/.test(gn)?null:"p";if(Pt&&!an&&!Tn&&(Tn="s"),st&&st!=Tn){M<0&&(M=1,et(),x.sticky="after");break}if(Tn&&(st=Tn),M>0&&!et(!an))break}var Fn=qt(l,x,X,ie,!0);return Zi(X,Fn)&&(Fn.hitSide=!0),Fn}function Jc(l,x,M,_){var F=l.doc,X=x.left,ie;if(_=="page"){var fe=Math.min(l.display.wrapper.clientHeight,Fe(l).innerHeight||F(l).documentElement.clientHeight),ye=Math.max(fe-.5*De(l.display),3);ie=(M>0?x.bottom:x.top)+M*ye}else _=="line"&&(ie=M>0?x.bottom+3:x.top-3);for(var ke;ke=ot(l,X,ie),!!ke.outside;){if(M<0?ie<=0:ie>=F.height){ke.hitSide=!0;break}ie+=M*5}return ke}var Ii=function(l){this.cm=l,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new jt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ii.prototype.init=function(l){var x=this,M=this,_=M.cm,F=M.div=l.lineDiv;F.contentEditable=!0,Qf(F,_.options.spellcheck,_.options.autocorrect,_.options.autocapitalize);function X(fe){for(var ye=fe.target;ye;ye=ye.parentNode){if(ye==F)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ye.className))break}return!1}yt(F,"paste",function(fe){!X(fe)||vn(_,fe)||Ef(fe,_)||u<=11&&setTimeout(oa(_,function(){return x.updateFromDOM()}),20)}),yt(F,"compositionstart",function(fe){x.composing={data:fe.data,done:!1}}),yt(F,"compositionupdate",function(fe){x.composing||(x.composing={data:fe.data,done:!1})}),yt(F,"compositionend",function(fe){x.composing&&(fe.data!=x.composing.data&&x.readFromDOMSoon(),x.composing.done=!0)}),yt(F,"touchstart",function(){return M.forceCompositionEnd()}),yt(F,"input",function(){x.composing||x.readFromDOMSoon()});function ie(fe){if(!(!X(fe)||vn(_,fe))){if(_.somethingSelected())Nu({lineWise:!1,text:_.getSelections()}),fe.type=="cut"&&_.replaceSelection("",null,"cut");else if(_.options.lineWiseCopyCut){var ye=Af(_);Nu({lineWise:!0,text:ye.text}),fe.type=="cut"&&_.operation(function(){_.setSelections(ye.ranges,0,kt),_.replaceSelection("",null,"cut")})}else return;if(fe.clipboardData){fe.clipboardData.clearData();var ke=ll.text.join(`
`);if(fe.clipboardData.setData("Text",ke),fe.clipboardData.getData("Text")==ke){fe.preventDefault();return}}var et=Oo(),st=et.firstChild;Qf(st),_.display.lineSpace.insertBefore(et,_.display.lineSpace.firstChild),st.value=ll.text.join(`
`);var Pt=Me(Te(F));oe(st),setTimeout(function(){_.display.lineSpace.removeChild(et),Pt.focus(),Pt==F&&M.showPrimarySelection()},50)}}yt(F,"copy",ie),yt(F,"cut",ie)},Ii.prototype.screenReaderLabelChanged=function(l){l?this.div.setAttribute("aria-label",l):this.div.removeAttribute("aria-label")},Ii.prototype.prepareSelection=function(){var l=ea(this.cm,!1);return l.focus=Me(Te(this.div))==this.div,l},Ii.prototype.showSelection=function(l,x){!l||!this.cm.display.view.length||((l.focus||x)&&this.showPrimarySelection(),this.showMultipleSelections(l))},Ii.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ii.prototype.showPrimarySelection=function(){var l=this.getSelection(),x=this.cm,M=x.doc.sel.primary(),_=M.from(),F=M.to();if(x.display.viewTo==x.display.viewFrom||_.line>=x.display.viewTo||F.line<x.display.viewFrom){l.removeAllRanges();return}var X=Io(x,l.anchorNode,l.anchorOffset),ie=Io(x,l.focusNode,l.focusOffset);if(!(X&&!X.bad&&ie&&!ie.bad&&On(ka(X,ie),_)==0&&On(Ai(X,ie),F)==0)){var fe=x.display.view,ye=_.line>=x.display.viewFrom&&Tf(x,_)||{node:fe[0].measure.map[2],offset:0},ke=F.line<x.display.viewTo&&Tf(x,F);if(!ke){var et=fe[fe.length-1].measure,st=et.maps?et.maps[et.maps.length-1]:et.map;ke={node:st[st.length-1],offset:st[st.length-2]-st[st.length-3]}}if(!ye||!ke){l.removeAllRanges();return}var Pt=l.rangeCount&&l.getRangeAt(0),Mt;try{Mt=Ie(ye.node,ye.offset,ke.offset,ke.node)}catch{}Mt&&(!o&&x.state.focused?(l.collapse(ye.node,ye.offset),Mt.collapsed||(l.removeAllRanges(),l.addRange(Mt))):(l.removeAllRanges(),l.addRange(Mt)),Pt&&l.anchorNode==null?l.addRange(Pt):o&&this.startGracePeriod()),this.rememberSelection()}},Ii.prototype.startGracePeriod=function(){var l=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){l.gracePeriod=!1,l.selectionChanged()&&l.cm.operation(function(){return l.cm.curOp.selectionChanged=!0})},20)},Ii.prototype.showMultipleSelections=function(l){ut(this.cm.display.cursorDiv,l.cursors),ut(this.cm.display.selectionDiv,l.selection)},Ii.prototype.rememberSelection=function(){var l=this.getSelection();this.lastAnchorNode=l.anchorNode,this.lastAnchorOffset=l.anchorOffset,this.lastFocusNode=l.focusNode,this.lastFocusOffset=l.focusOffset},Ii.prototype.selectionInEditor=function(){var l=this.getSelection();if(!l.rangeCount)return!1;var x=l.getRangeAt(0).commonAncestorContainer;return lt(this.div,x)},Ii.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Me(Te(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ii.prototype.blur=function(){this.div.blur()},Ii.prototype.getField=function(){return this.div},Ii.prototype.supportsTouch=function(){return!0},Ii.prototype.receivedFocus=function(){var l=this,x=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):Qa(this.cm,function(){return x.cm.curOp.selectionChanged=!0});function M(){x.cm.state.focused&&(x.pollSelection(),x.polling.set(x.cm.options.pollInterval,M))}this.polling.set(this.cm.options.pollInterval,M)},Ii.prototype.selectionChanged=function(){var l=this.getSelection();return l.anchorNode!=this.lastAnchorNode||l.anchorOffset!=this.lastAnchorOffset||l.focusNode!=this.lastFocusNode||l.focusOffset!=this.lastFocusOffset},Ii.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var l=this.getSelection(),x=this.cm;if(U&&g&&this.cm.display.gutterSpecs.length&&cu(l.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var M=Io(x,l.anchorNode,l.anchorOffset),_=Io(x,l.focusNode,l.focusOffset);M&&_&&Qa(x,function(){de(x.doc,rl(M,_),kt),(M.bad||_.bad)&&(x.curOp.selectionChanged=!0)})}}},Ii.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var l=this.cm,x=l.display,M=l.doc.sel.primary(),_=M.from(),F=M.to();if(_.ch==0&&_.line>l.firstLine()&&(_=cn(_.line-1,mn(l.doc,_.line-1).length)),F.ch==mn(l.doc,F.line).text.length&&F.line<l.lastLine()&&(F=cn(F.line+1,0)),_.line<x.viewFrom||F.line>x.viewTo-1)return!1;var X,ie,fe;_.line==x.viewFrom||(X=Vt(l,_.line))==0?(ie=Xn(x.view[0].line),fe=x.view[0].node):(ie=Xn(x.view[X].line),fe=x.view[X-1].node.nextSibling);var ye=Vt(l,F.line),ke,et;if(ye==x.view.length-1?(ke=x.viewTo-1,et=x.lineDiv.lastChild):(ke=Xn(x.view[ye+1].line)-1,et=x.view[ye+1].node.previousSibling),!fe)return!1;for(var st=l.doc.splitLines(os(l,fe,et,ie,ke)),Pt=Ki(l.doc,cn(ie,0),cn(ke,mn(l.doc,ke).text.length));st.length>1&&Pt.length>1;)if(un(st)==un(Pt))st.pop(),Pt.pop(),ke--;else if(st[0]==Pt[0])st.shift(),Pt.shift(),ie++;else break;for(var Mt=0,an=0,gn=st[0],Tn=Pt[0],Fn=Math.min(gn.length,Tn.length);Mt<Fn&&gn.charCodeAt(Mt)==Tn.charCodeAt(Mt);)++Mt;for(var zn=un(st),wn=un(Pt),Kn=Math.min(zn.length-(st.length==1?Mt:0),wn.length-(Pt.length==1?Mt:0));an<Kn&&zn.charCodeAt(zn.length-an-1)==wn.charCodeAt(wn.length-an-1);)++an;if(st.length==1&&Pt.length==1&&ie==_.line)for(;Mt&&Mt>_.ch&&zn.charCodeAt(zn.length-an-1)==wn.charCodeAt(wn.length-an-1);)Mt--,an++;st[st.length-1]=zn.slice(0,zn.length-an).replace(/^\u200b+/,""),st[0]=st[0].slice(Mt).replace(/\u200b+$/,"");var Cr=cn(ie,Mt),dr=cn(ke,Pt.length?un(Pt).length-an:0);if(st.length>1||st[0]||On(Cr,dr))return $a(l.doc,st,Cr,dr,"+input"),!0},Ii.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ii.prototype.reset=function(){this.forceCompositionEnd()},Ii.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ii.prototype.readFromDOMSoon=function(){var l=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(l.readDOMTimeout=null,l.composing)if(l.composing.done)l.composing=null;else return;l.updateFromDOM()},80))},Ii.prototype.updateFromDOM=function(){var l=this;(this.cm.isReadOnly()||!this.pollContent())&&Qa(this.cm,function(){return dn(l.cm)})},Ii.prototype.setUneditable=function(l){l.contentEditable="false"},Ii.prototype.onKeyPress=function(l){l.charCode==0||this.composing||(l.preventDefault(),this.cm.isReadOnly()||oa(this.cm,Sf)(this.cm,String.fromCharCode(l.charCode==null?l.keyCode:l.charCode),0))},Ii.prototype.readOnlyChanged=function(l){this.div.contentEditable=String(l!="nocursor")},Ii.prototype.onContextMenu=function(){},Ii.prototype.resetPosition=function(){},Ii.prototype.needsContentAttribute=!0;function Tf(l,x){var M=$s(l,x.line);if(!M||M.hidden)return null;var _=mn(l.doc,x.line),F=$i(M,_,x.line),X=at(_,l.doc.direction),ie="left";if(X){var fe=Ct(X,x.ch);ie=fe%2?"right":"left"}var ye=w(F.map,x.ch,ie);return ye.offset=ye.collapse=="right"?ye.end:ye.start,ye}function cu(l){for(var x=l;x;x=x.parentNode)if(/CodeMirror-gutter-wrapper/.test(x.className))return!0;return!1}function $c(l,x){return x&&(l.bad=!0),l}function os(l,x,M,_,F){var X="",ie=!1,fe=l.doc.lineSeparator(),ye=!1;function ke(Mt){return function(an){return an.id==Mt}}function et(){ie&&(X+=fe,ye&&(X+=fe),ie=ye=!1)}function st(Mt){Mt&&(et(),X+=Mt)}function Pt(Mt){if(Mt.nodeType==1){var an=Mt.getAttribute("cm-text");if(an){st(an);return}var gn=Mt.getAttribute("cm-marker"),Tn;if(gn){var Fn=l.findMarks(cn(_,0),cn(F+1,0),ke(+gn));Fn.length&&(Tn=Fn[0].find(0))&&st(Ki(l.doc,Tn.from,Tn.to).join(fe));return}if(Mt.getAttribute("contenteditable")=="false")return;var zn=/^(pre|div|p|li|table|br)$/i.test(Mt.nodeName);if(!/^br$/i.test(Mt.nodeName)&&Mt.textContent.length==0)return;zn&&et();for(var wn=0;wn<Mt.childNodes.length;wn++)Pt(Mt.childNodes[wn]);/^(pre|p)$/i.test(Mt.nodeName)&&(ye=!0),zn&&(ie=!0)}else Mt.nodeType==3&&st(Mt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Pt(x),x!=M;)x=x.nextSibling,ye=!1;return X}function Io(l,x,M){var _;if(x==l.display.lineDiv){if(_=l.display.lineDiv.childNodes[M],!_)return $c(l.clipPos(cn(l.display.viewTo-1)),!0);x=null,M=0}else for(_=x;;_=_.parentNode){if(!_||_==l.display.lineDiv)return null;if(_.parentNode&&_.parentNode==l.display.lineDiv)break}for(var F=0;F<l.display.view.length;F++){var X=l.display.view[F];if(X.node==_)return Y0(X,x,M)}}function Y0(l,x,M){var _=l.text.firstChild,F=!1;if(!x||!lt(_,x))return $c(cn(Xn(l.line),0),!0);if(x==_&&(F=!0,x=_.childNodes[M],M=0,!x)){var X=l.rest?un(l.rest):l.line;return $c(cn(Xn(X),X.text.length),F)}var ie=x.nodeType==3?x:null,fe=x;for(!ie&&x.childNodes.length==1&&x.firstChild.nodeType==3&&(ie=x.firstChild,M&&(M=ie.nodeValue.length));fe.parentNode!=_;)fe=fe.parentNode;var ye=l.measure,ke=ye.maps;function et(Tn,Fn,zn){for(var wn=-1;wn<(ke?ke.length:0);wn++)for(var Kn=wn<0?ye.map:ke[wn],Cr=0;Cr<Kn.length;Cr+=3){var dr=Kn[Cr+2];if(dr==Tn||dr==Fn){var ii=Xn(wn<0?l.line:l.rest[wn]),Wi=Kn[Cr]+zn;return(zn<0||dr!=Tn)&&(Wi=Kn[Cr+(zn?1:0)]),cn(ii,Wi)}}}var st=et(ie,fe,M);if(st)return $c(st,F);for(var Pt=fe.nextSibling,Mt=ie?ie.nodeValue.length-M:0;Pt;Pt=Pt.nextSibling){if(st=et(Pt,Pt.firstChild,0),st)return $c(cn(st.line,st.ch-Mt),F);Mt+=Pt.textContent.length}for(var an=fe.previousSibling,gn=M;an;an=an.previousSibling){if(st=et(an,an.firstChild,-1),st)return $c(cn(st.line,st.ch+gn),F);gn+=an.textContent.length}}var da=function(l){this.cm=l,this.prevInput="",this.pollingFast=!1,this.polling=new jt,this.hasSelection=!1,this.composing=null,this.resetting=!1};da.prototype.init=function(l){var x=this,M=this,_=this.cm;this.createField(l);var F=this.textarea;l.wrapper.insertBefore(this.wrapper,l.wrapper.firstChild),N&&(F.style.width="0px"),yt(F,"input",function(){a&&u>=9&&x.hasSelection&&(x.hasSelection=null),M.poll()}),yt(F,"paste",function(ie){vn(_,ie)||Ef(ie,_)||(_.state.pasteIncoming=+new Date,M.fastPoll())});function X(ie){if(!vn(_,ie)){if(_.somethingSelected())Nu({lineWise:!1,text:_.getSelections()});else if(_.options.lineWiseCopyCut){var fe=Af(_);Nu({lineWise:!0,text:fe.text}),ie.type=="cut"?_.setSelections(fe.ranges,null,kt):(M.prevInput="",F.value=fe.text.join(`
`),oe(F))}else return;ie.type=="cut"&&(_.state.cutIncoming=+new Date)}}yt(F,"cut",X),yt(F,"copy",X),yt(l.scroller,"paste",function(ie){if(!(So(l,ie)||vn(_,ie))){if(!F.dispatchEvent){_.state.pasteIncoming=+new Date,M.focus();return}var fe=new Event("paste");fe.clipboardData=ie.clipboardData,F.dispatchEvent(fe)}}),yt(l.lineSpace,"selectstart",function(ie){So(l,ie)||Hn(ie)}),yt(F,"compositionstart",function(){var ie=_.getCursor("from");M.composing&&M.composing.range.clear(),M.composing={start:ie,range:_.markText(ie,_.getCursor("to"),{className:"CodeMirror-composing"})}}),yt(F,"compositionend",function(){M.composing&&(M.poll(),M.composing.range.clear(),M.composing=null)})},da.prototype.createField=function(l){this.wrapper=Oo(),this.textarea=this.wrapper.firstChild;var x=this.cm.options;Qf(this.textarea,x.spellcheck,x.autocorrect,x.autocapitalize)},da.prototype.screenReaderLabelChanged=function(l){l?this.textarea.setAttribute("aria-label",l):this.textarea.removeAttribute("aria-label")},da.prototype.prepareSelection=function(){var l=this.cm,x=l.display,M=l.doc,_=ea(l);if(l.options.moveInputWithCursor){var F=Le(l,M.sel.primary().head,"div"),X=x.wrapper.getBoundingClientRect(),ie=x.lineDiv.getBoundingClientRect();_.teTop=Math.max(0,Math.min(x.wrapper.clientHeight-10,F.top+ie.top-X.top)),_.teLeft=Math.max(0,Math.min(x.wrapper.clientWidth-10,F.left+ie.left-X.left))}return _},da.prototype.showSelection=function(l){var x=this.cm,M=x.display;ut(M.cursorDiv,l.cursors),ut(M.selectionDiv,l.selection),l.teTop!=null&&(this.wrapper.style.top=l.teTop+"px",this.wrapper.style.left=l.teLeft+"px")},da.prototype.reset=function(l){if(!(this.contextMenuPending||this.composing&&l)){var x=this.cm;if(this.resetting=!0,x.somethingSelected()){this.prevInput="";var M=x.getSelection();this.textarea.value=M,x.state.focused&&oe(this.textarea),a&&u>=9&&(this.hasSelection=M)}else l||(this.prevInput=this.textarea.value="",a&&u>=9&&(this.hasSelection=null));this.resetting=!1}},da.prototype.getField=function(){return this.textarea},da.prototype.supportsTouch=function(){return!1},da.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!W||Me(Te(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},da.prototype.blur=function(){this.textarea.blur()},da.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},da.prototype.receivedFocus=function(){this.slowPoll()},da.prototype.slowPoll=function(){var l=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){l.poll(),l.cm.state.focused&&l.slowPoll()})},da.prototype.fastPoll=function(){var l=!1,x=this;x.pollingFast=!0;function M(){var _=x.poll();!_&&!l?(l=!0,x.polling.set(60,M)):(x.pollingFast=!1,x.slowPoll())}x.polling.set(20,M)},da.prototype.poll=function(){var l=this,x=this.cm,M=this.textarea,_=this.prevInput;if(this.contextMenuPending||this.resetting||!x.state.focused||Pr(M)&&!_&&!this.composing||x.isReadOnly()||x.options.disableInput||x.state.keySeq)return!1;var F=M.value;if(F==_&&!x.somethingSelected())return!1;if(a&&u>=9&&this.hasSelection===F||q&&/[\uf700-\uf7ff]/.test(F))return x.display.input.reset(),!1;if(x.doc.sel==x.display.selForContextMenu){var X=F.charCodeAt(0);if(X==8203&&!_&&(_=""),X==8666)return this.reset(),this.cm.execCommand("undo")}for(var ie=0,fe=Math.min(_.length,F.length);ie<fe&&_.charCodeAt(ie)==F.charCodeAt(ie);)++ie;return Qa(x,function(){Sf(x,F.slice(ie),_.length-ie,null,l.composing?"*compose":null),F.length>1e3||F.indexOf(`
`)>-1?M.value=l.prevInput="":l.prevInput=F,l.composing&&(l.composing.range.clear(),l.composing.range=x.markText(l.composing.start,x.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},da.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},da.prototype.onKeyPress=function(){a&&u>=9&&(this.hasSelection=null),this.fastPoll()},da.prototype.onContextMenu=function(l){var x=this,M=x.cm,_=M.display,F=x.textarea;x.contextMenuPending&&x.contextMenuPending();var X=Et(M,l),ie=_.scroller.scrollTop;if(!X||C)return;var fe=M.options.resetSelectionOnContextMenu;fe&&M.doc.sel.contains(X)==-1&&oa(M,de)(M.doc,rl(X),kt);var ye=F.style.cssText,ke=x.wrapper.style.cssText,et=x.wrapper.offsetParent.getBoundingClientRect();x.wrapper.style.cssText="position: static",F.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(l.clientY-et.top-5)+"px; left: "+(l.clientX-et.left-5)+`px;
      z-index: 1000; background: `+(a?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var st;v&&(st=F.ownerDocument.defaultView.scrollY),_.input.focus(),v&&F.ownerDocument.defaultView.scrollTo(null,st),_.input.reset(),M.somethingSelected()||(F.value=x.prevInput=" "),x.contextMenuPending=Mt,_.selForContextMenu=M.doc.sel,clearTimeout(_.detectingSelectAll);function Pt(){if(F.selectionStart!=null){var gn=M.somethingSelected(),Tn=""+(gn?F.value:"");F.value="",F.value=Tn,x.prevInput=gn?"":"",F.selectionStart=1,F.selectionEnd=Tn.length,_.selForContextMenu=M.doc.sel}}function Mt(){if(x.contextMenuPending==Mt&&(x.contextMenuPending=!1,x.wrapper.style.cssText=ke,F.style.cssText=ye,a&&u<9&&_.scrollbars.setScrollTop(_.scroller.scrollTop=ie),F.selectionStart!=null)){(!a||a&&u<9)&&Pt();var gn=0,Tn=function(){_.selForContextMenu==M.doc.sel&&F.selectionStart==0&&F.selectionEnd>0&&x.prevInput==""?oa(M,kn)(M):gn++<10?_.detectingSelectAll=setTimeout(Tn,500):(_.selForContextMenu=null,_.input.reset())};_.detectingSelectAll=setTimeout(Tn,200)}}if(a&&u>=9&&Pt(),Be){mr(l);var an=function(){pn(window,"mouseup",an),setTimeout(Mt,20)};yt(window,"mouseup",an)}else setTimeout(Mt,50)},da.prototype.readOnlyChanged=function(l){l||this.reset(),this.textarea.disabled=l=="nocursor",this.textarea.readOnly=!!l},da.prototype.setUneditable=function(){},da.prototype.needsContentAttribute=!1;function Jf(l,x){if(x=x?At(x):{},x.value=l.value,!x.tabindex&&l.tabIndex&&(x.tabindex=l.tabIndex),!x.placeholder&&l.placeholder&&(x.placeholder=l.placeholder),x.autofocus==null){var M=Me(Te(l));x.autofocus=M==l||l.getAttribute("autofocus")!=null&&M==document.body}function _(){l.value=fe.getValue()}var F;if(l.form&&(yt(l.form,"submit",_),!x.leaveSubmitMethodAlone)){var X=l.form;F=X.submit;try{var ie=X.submit=function(){_(),X.submit=F,X.submit(),X.submit=ie}}catch{}}x.finishInit=function(ye){ye.save=_,ye.getTextArea=function(){return l},ye.toTextArea=function(){ye.toTextArea=isNaN,_(),l.parentNode.removeChild(ye.getWrapperElement()),l.style.display="",l.form&&(pn(l.form,"submit",_),!x.leaveSubmitMethodAlone&&typeof l.form.submit=="function"&&(l.form.submit=F))}},l.style.display="none";var fe=Oi(function(ye){return l.parentNode.insertBefore(ye,l.nextSibling)},x);return fe}function Dc(l){l.off=pn,l.on=yt,l.wheelEventPixels=Ku,l.Doc=Mo,l.splitLines=vr,l.countColumn=rt,l.findColumn=zt,l.isWordChar=Pe,l.Pass=ft,l.signal=Cn,l.Line=Nr,l.changeEnd=la,l.scrollbarModel=va,l.Pos=cn,l.cmpPos=On,l.modes=xi,l.mimeModes=Tr,l.resolveMode=aa,l.getMode=Hr,l.modeExtensions=or,l.extendMode=co,l.copyState=bi,l.startState=hn,l.innerMode=Ri,l.commands=$u,l.keyMap=_u,l.keyName=Vc,l.isModifierKey=Sc,l.lookupKey=Bl,l.normalizeKeyMap=l0,l.StringStream=wi,l.SharedTextMarker=Ll,l.TextMarker=vo,l.LineWidget=Gr,l.e_preventDefault=Hn,l.e_stopPropagation=xr,l.e_stop=mr,l.addClass=ue,l.contains=lt,l.rmClass=qe,l.keyNames=Du}Ah(Oi),xs(Oi);var Th="iter insert remove copy getEditor constructor".split(" ");for(var Df in Mo.prototype)Mo.prototype.hasOwnProperty(Df)&&_t(Th,Df)<0&&(Oi.prototype[Df]=(function(l){return function(){return l.apply(this.doc,arguments)}})(Mo.prototype[Df]));return er(Mo),Oi.inputStyles={textarea:da,contenteditable:Ii},Oi.defineMode=function(l){!Oi.defaults.mode&&l!="null"&&(Oi.defaults.mode=l),zr.apply(this,arguments)},Oi.defineMIME=gr,Oi.defineMode("null",function(){return{token:function(l){return l.skipToEnd()}}}),Oi.defineMIME("text/plain","null"),Oi.defineExtension=function(l,x){Oi.prototype[l]=x},Oi.defineDocExtension=function(l,x){Mo.prototype[l]=x},Oi.fromTextArea=Jf,Dc(Oi),Oi.version="5.65.20",Oi}))})(yp)),yp.exports}var Hw={exports:{}},Uw;function JF(){return Uw||(Uw=1,(function(e,t){(function(n){n(vc())})(function(n){var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,o=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,c=/[*+-]\s/;n.commands.newlineAndIndentContinueMarkdownList=function(d){if(d.getOption("disableInput"))return n.Pass;for(var a=d.listSelections(),u=[],v=0;v<a.length;v++){var f=a[v].head,g=d.getStateAfter(f.line),m=n.innerMode(d.getMode(),g);if(m.mode.name!=="markdown"&&m.mode.helperType!=="markdown"){d.execCommand("newlineAndIndent");return}else g=m.state;var C=g.list!==!1,D=g.quote!==0,S=d.getLine(f.line),O=r.exec(S),N=/^\s*$/.test(S.slice(0,f.ch));if(!a[v].empty()||!C&&!D||!O||N){d.execCommand("newlineAndIndent");return}if(o.test(S)){var U=D&&/>\s*$/.test(S),W=!/>\s*$/.test(S);(U||W)&&d.replaceRange("",{line:f.line,ch:0},{line:f.line,ch:f.ch+1}),u[v]=`
`}else{var q=O[1],J=O[5],ne=!(c.test(O[2])||O[2].indexOf(">")>=0),ve=ne?parseInt(O[3],10)+1+O[4]:O[2].replace("x"," ");u[v]=`
`+q+ve+J,ne&&y(d,f)}}d.replaceSelections(u)};function y(d,a){var u=a.line,v=0,f=0,g=r.exec(d.getLine(u)),m=g[1];do{v+=1;var C=u+v,D=d.getLine(C),S=r.exec(D);if(S){var O=S[1],N=parseInt(g[3],10)+v-f,U=parseInt(S[3],10),W=U;if(m===O&&!isNaN(U))N===U&&(W=U+1),N>U&&(W=N+1),d.replaceRange(D.replace(r,O+W+S[4]+S[5]),{line:C,ch:0},{line:C,ch:D.length});else{if(m.length>O.length||m.length<O.length&&v===1)return;f+=1}}}while(S)}})})()),Hw.exports}var jw={},Ww;function $F(){if(Ww)return jw;Ww=1;var e=vc();return e.commands.tabAndIndentMarkdownList=function(t){var n=t.listSelections(),r=n[0].head,o=t.getStateAfter(r.line),c=o.list!==!1;if(c){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var y=Array(t.options.tabSize+1).join(" ");t.replaceSelection(y)}},e.commands.shiftTabAndUnindentMarkdownList=function(t){var n=t.listSelections(),r=n[0].head,o=t.getStateAfter(r.line),c=o.list!==!1;if(c){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var y=Array(t.options.tabSize+1).join(" ");t.replaceSelection(y)}},jw}var Gw={exports:{}},Yw;function eP(){return Yw||(Yw=1,(function(e,t){(function(n){n(vc())})(function(n){n.defineOption("fullScreen",!1,function(c,y,d){d==n.Init&&(d=!1),!d!=!y&&(y?r(c):o(c))});function r(c){var y=c.getWrapperElement();c.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:y.style.width,height:y.style.height},y.style.width="",y.style.height="auto",y.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",c.refresh()}function o(c){var y=c.getWrapperElement();y.className=y.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var d=c.state.fullScreenRestore;y.style.width=d.width,y.style.height=d.height,window.scrollTo(d.scrollLeft,d.scrollTop),c.refresh()}})})()),Gw.exports}var Xw={exports:{}},Vw={exports:{}},Kw;function b7(){return Kw||(Kw=1,(function(e,t){(function(n){n(vc())})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(c,y){var d=c.indentUnit,a={},u=y.htmlMode?r:o;for(var v in u)a[v]=u[v];for(var v in y)a[v]=y[v];var f,g;function m(ge,me){function Ie(ue){return me.tokenize=ue,ue(ge,me)}var lt=ge.next();if(lt=="<")return ge.eat("!")?ge.eat("[")?ge.match("CDATA[")?Ie(S("atom","]]>")):null:ge.match("--")?Ie(S("comment","-->")):ge.match("DOCTYPE",!0,!0)?(ge.eatWhile(/[\w\._\-]/),Ie(O(1))):null:ge.eat("?")?(ge.eatWhile(/[\w\._\-]/),me.tokenize=S("meta","?>"),"meta"):(f=ge.eat("/")?"closeTag":"openTag",me.tokenize=C,"tag bracket");if(lt=="&"){var Me;return ge.eat("#")?ge.eat("x")?Me=ge.eatWhile(/[a-fA-F\d]/)&&ge.eat(";"):Me=ge.eatWhile(/[\d]/)&&ge.eat(";"):Me=ge.eatWhile(/[\w\.\-:]/)&&ge.eat(";"),Me?"atom":"error"}else return ge.eatWhile(/[^&<]/),null}m.isInText=!0;function C(ge,me){var Ie=ge.next();if(Ie==">"||Ie=="/"&&ge.eat(">"))return me.tokenize=m,f=Ie==">"?"endTag":"selfcloseTag","tag bracket";if(Ie=="=")return f="equals",null;if(Ie=="<"){me.tokenize=m,me.state=J,me.tagName=me.tagStart=null;var lt=me.tokenize(ge,me);return lt?lt+" tag error":"tag error"}else return/[\'\"]/.test(Ie)?(me.tokenize=D(Ie),me.stringStartCol=ge.column(),me.tokenize(ge,me)):(ge.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function D(ge){var me=function(Ie,lt){for(;!Ie.eol();)if(Ie.next()==ge){lt.tokenize=C;break}return"string"};return me.isInAttribute=!0,me}function S(ge,me){return function(Ie,lt){for(;!Ie.eol();){if(Ie.match(me)){lt.tokenize=m;break}Ie.next()}return ge}}function O(ge){return function(me,Ie){for(var lt;(lt=me.next())!=null;){if(lt=="<")return Ie.tokenize=O(ge+1),Ie.tokenize(me,Ie);if(lt==">")if(ge==1){Ie.tokenize=m;break}else return Ie.tokenize=O(ge-1),Ie.tokenize(me,Ie)}return"meta"}}function N(ge){return ge&&ge.toLowerCase()}function U(ge,me,Ie){this.prev=ge.context,this.tagName=me||"",this.indent=ge.indented,this.startOfLine=Ie,(a.doNotIndent.hasOwnProperty(me)||ge.context&&ge.context.noIndent)&&(this.noIndent=!0)}function W(ge){ge.context&&(ge.context=ge.context.prev)}function q(ge,me){for(var Ie;;){if(!ge.context||(Ie=ge.context.tagName,!a.contextGrabbers.hasOwnProperty(N(Ie))||!a.contextGrabbers[N(Ie)].hasOwnProperty(N(me))))return;W(ge)}}function J(ge,me,Ie){return ge=="openTag"?(Ie.tagStart=me.column(),ne):ge=="closeTag"?ve:J}function ne(ge,me,Ie){return ge=="word"?(Ie.tagName=me.current(),g="tag",Ue):a.allowMissingTagName&&ge=="endTag"?(g="tag bracket",Ue(ge,me,Ie)):(g="error",ne)}function ve(ge,me,Ie){if(ge=="word"){var lt=me.current();return Ie.context&&Ie.context.tagName!=lt&&a.implicitlyClosed.hasOwnProperty(N(Ie.context.tagName))&&W(Ie),Ie.context&&Ie.context.tagName==lt||a.matchClosing===!1?(g="tag",Se):(g="tag error",Be)}else return a.allowMissingTagName&&ge=="endTag"?(g="tag bracket",Se(ge,me,Ie)):(g="error",Be)}function Se(ge,me,Ie){return ge!="endTag"?(g="error",Se):(W(Ie),J)}function Be(ge,me,Ie){return g="error",Se(ge,me,Ie)}function Ue(ge,me,Ie){if(ge=="word")return g="attribute",qe;if(ge=="endTag"||ge=="selfcloseTag"){var lt=Ie.tagName,Me=Ie.tagStart;return Ie.tagName=Ie.tagStart=null,ge=="selfcloseTag"||a.autoSelfClosers.hasOwnProperty(N(lt))?q(Ie,lt):(q(Ie,lt),Ie.context=new U(Ie,lt,Me==Ie.indented)),J}return g="error",Ue}function qe(ge,me,Ie){return ge=="equals"?mt:(a.allowMissing||(g="error"),Ue(ge,me,Ie))}function mt(ge,me,Ie){return ge=="string"?ut:ge=="word"&&a.allowUnquoted?(g="string",Ue):(g="error",Ue(ge,me,Ie))}function ut(ge,me,Ie){return ge=="string"?ut:Ue(ge,me,Ie)}return{startState:function(ge){var me={tokenize:m,state:J,indented:ge||0,tagName:null,tagStart:null,context:null};return ge!=null&&(me.baseIndent=ge),me},token:function(ge,me){if(!me.tagName&&ge.sol()&&(me.indented=ge.indentation()),ge.eatSpace())return null;f=null;var Ie=me.tokenize(ge,me);return(Ie||f)&&Ie!="comment"&&(g=null,me.state=me.state(f||Ie,ge,me),g&&(Ie=g=="error"?Ie+" error":g)),Ie},indent:function(ge,me,Ie){var lt=ge.context;if(ge.tokenize.isInAttribute)return ge.tagStart==ge.indented?ge.stringStartCol+1:ge.indented+d;if(lt&&lt.noIndent)return n.Pass;if(ge.tokenize!=C&&ge.tokenize!=m)return Ie?Ie.match(/^(\s*)/)[0].length:0;if(ge.tagName)return a.multilineTagIndentPastTag!==!1?ge.tagStart+ge.tagName.length+2:ge.tagStart+d*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(me))return 0;var Me=me&&/^<(\/)?([\w_:\.-]*)/.exec(me);if(Me&&Me[1])for(;lt;)if(lt.tagName==Me[2]){lt=lt.prev;break}else if(a.implicitlyClosed.hasOwnProperty(N(lt.tagName)))lt=lt.prev;else break;else if(Me)for(;lt;){var ue=a.contextGrabbers[N(lt.tagName)];if(ue&&ue.hasOwnProperty(N(Me[2])))lt=lt.prev;else break}for(;lt&&lt.prev&&!lt.startOfLine;)lt=lt.prev;return lt?lt.indent+d:ge.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(ge){ge.state==mt&&(ge.state=Ue)},xmlCurrentTag:function(ge){return ge.tagName?{name:ge.tagName,close:ge.type=="closeTag"}:null},xmlCurrentContext:function(ge){for(var me=[],Ie=ge.context;Ie;Ie=Ie.prev)me.push(Ie.tagName);return me.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})()),Vw.exports}var Zw={exports:{}},qw;function tP(){return qw||(qw=1,(function(e,t){(function(n){n(vc())})(function(n){n.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<n.modeInfo.length;r++){var o=n.modeInfo[r];o.mimes&&(o.mime=o.mimes[0])}n.findModeByMIME=function(c){c=c.toLowerCase();for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.mime==c)return d;if(d.mimes){for(var a=0;a<d.mimes.length;a++)if(d.mimes[a]==c)return d}}if(/\+xml$/.test(c))return n.findModeByMIME("application/xml");if(/\+json$/.test(c))return n.findModeByMIME("application/json")},n.findModeByExtension=function(c){c=c.toLowerCase();for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.ext){for(var a=0;a<d.ext.length;a++)if(d.ext[a]==c)return d}}},n.findModeByFileName=function(c){for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.file&&d.file.test(c))return d}var a=c.lastIndexOf("."),u=a>-1&&c.substring(a+1,c.length);if(u)return n.findModeByExtension(u)},n.findModeByName=function(c){c=c.toLowerCase();for(var y=0;y<n.modeInfo.length;y++){var d=n.modeInfo[y];if(d.name.toLowerCase()==c)return d;if(d.alias){for(var a=0;a<d.alias.length;a++)if(d.alias[a].toLowerCase()==c)return d}}}})})()),Zw.exports}var Qw;function w7(){return Qw||(Qw=1,(function(e,t){(function(n){n(vc(),b7(),tP())})(function(n){n.defineMode("markdown",function(r,o){var c=n.getMode(r,"text/html"),y=c.name=="null";function d(oe){if(n.findModeByName){var Z=n.findModeByName(oe);Z&&(oe=Z.mime||Z.mimes[0])}var be=n.getMode(r,oe);return be.name=="null"?null:be}o.highlightFormatting===void 0&&(o.highlightFormatting=!1),o.maxBlockquoteDepth===void 0&&(o.maxBlockquoteDepth=0),o.taskLists===void 0&&(o.taskLists=!1),o.strikethrough===void 0&&(o.strikethrough=!1),o.emoji===void 0&&(o.emoji=!1),o.fencedCodeBlockHighlighting===void 0&&(o.fencedCodeBlockHighlighting=!0),o.fencedCodeBlockDefaultMode===void 0&&(o.fencedCodeBlockDefaultMode="text/plain"),o.xml===void 0&&(o.xml=!0),o.tokenTypeOverrides===void 0&&(o.tokenTypeOverrides={});var a={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var u in a)a.hasOwnProperty(u)&&o.tokenTypeOverrides[u]&&(a[u]=o.tokenTypeOverrides[u]);var v=/^([*\-_])(?:\s*\1){2,}\s*$/,f=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,g=/^\[(x| )\](?=\s)/i,m=o.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,C=/^ {0,3}(?:\={1,}|-{2,})\s*$/,D=/^[^#!\[\]*_\\<>` "'(~:]+/,S=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,O=/^\s*\[[^\]]+?\]:.*$/,N=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,U="    ";function W(oe,Z,be){return Z.f=Z.inline=be,be(oe,Z)}function q(oe,Z,be){return Z.f=Z.block=be,be(oe,Z)}function J(oe){return!oe||!/\S/.test(oe.string)}function ne(oe){if(oe.linkTitle=!1,oe.linkHref=!1,oe.linkText=!1,oe.em=!1,oe.strong=!1,oe.strikethrough=!1,oe.quote=0,oe.indentedCode=!1,oe.f==Se){var Z=y;if(!Z){var be=n.innerMode(c,oe.htmlState);Z=be.mode.name=="xml"&&be.state.tagStart===null&&!be.state.context&&be.state.tokenize.isInText}Z&&(oe.f=mt,oe.block=ve,oe.htmlState=null)}return oe.trailingSpace=0,oe.trailingSpaceNewLine=!1,oe.prevLine=oe.thisLine,oe.thisLine={stream:null},null}function ve(oe,Z){var be=oe.column()===Z.indentation,Te=J(Z.prevLine.stream),Fe=Z.indentedCode,ct=Z.prevLine.hr,At=Z.list!==!1,rt=(Z.listStack[Z.listStack.length-1]||0)+3;Z.indentedCode=!1;var jt=Z.indentation;if(Z.indentationDiff===null&&(Z.indentationDiff=Z.indentation,At)){for(Z.list=null;jt<Z.listStack[Z.listStack.length-1];)Z.listStack.pop(),Z.listStack.length?Z.indentation=Z.listStack[Z.listStack.length-1]:Z.list=!1;Z.list!==!1&&(Z.indentationDiff=jt-Z.listStack[Z.listStack.length-1])}var _t=!Te&&!ct&&!Z.prevLine.header&&(!At||!Fe)&&!Z.prevLine.fencedCodeEnd,Wt=(Z.list===!1||ct||Te)&&Z.indentation<=rt&&oe.match(v),ft=null;if(Z.indentationDiff>=4&&(Fe||Z.prevLine.fencedCodeEnd||Z.prevLine.header||Te))return oe.skipToEnd(),Z.indentedCode=!0,a.code;if(oe.eatSpace())return null;if(be&&Z.indentation<=rt&&(ft=oe.match(m))&&ft[1].length<=6)return Z.quote=0,Z.header=ft[1].length,Z.thisLine.header=!0,o.highlightFormatting&&(Z.formatting="header"),Z.f=Z.inline,Ue(Z);if(Z.indentation<=rt&&oe.eat(">"))return Z.quote=be?1:Z.quote+1,o.highlightFormatting&&(Z.formatting="quote"),oe.eatSpace(),Ue(Z);if(!Wt&&!Z.setext&&be&&Z.indentation<=rt&&(ft=oe.match(f))){var kt=ft[1]?"ol":"ul";return Z.indentation=jt+oe.current().length,Z.list=!0,Z.quote=0,Z.listStack.push(Z.indentation),Z.em=!1,Z.strong=!1,Z.code=!1,Z.strikethrough=!1,o.taskLists&&oe.match(g,!1)&&(Z.taskList=!0),Z.f=Z.inline,o.highlightFormatting&&(Z.formatting=["list","list-"+kt]),Ue(Z)}else{if(be&&Z.indentation<=rt&&(ft=oe.match(S,!0)))return Z.quote=0,Z.fencedEndRE=new RegExp(ft[1]+"+ *$"),Z.localMode=o.fencedCodeBlockHighlighting&&d(ft[2]||o.fencedCodeBlockDefaultMode),Z.localMode&&(Z.localState=n.startState(Z.localMode)),Z.f=Z.block=Be,o.highlightFormatting&&(Z.formatting="code-block"),Z.code=-1,Ue(Z);if(Z.setext||(!_t||!At)&&!Z.quote&&Z.list===!1&&!Z.code&&!Wt&&!O.test(oe.string)&&(ft=oe.lookAhead(1))&&(ft=ft.match(C)))return Z.setext?(Z.header=Z.setext,Z.setext=0,oe.skipToEnd(),o.highlightFormatting&&(Z.formatting="header")):(Z.header=ft[0].charAt(0)=="="?1:2,Z.setext=Z.header),Z.thisLine.header=!0,Z.f=Z.inline,Ue(Z);if(Wt)return oe.skipToEnd(),Z.hr=!0,Z.thisLine.hr=!0,a.hr;if(oe.peek()==="[")return W(oe,Z,lt)}return W(oe,Z,Z.inline)}function Se(oe,Z){var be=c.token(oe,Z.htmlState);if(!y){var Te=n.innerMode(c,Z.htmlState);(Te.mode.name=="xml"&&Te.state.tagStart===null&&!Te.state.context&&Te.state.tokenize.isInText||Z.md_inside&&oe.current().indexOf(">")>-1)&&(Z.f=mt,Z.block=ve,Z.htmlState=null)}return be}function Be(oe,Z){var be=Z.listStack[Z.listStack.length-1]||0,Te=Z.indentation<be,Fe=be+3;if(Z.fencedEndRE&&Z.indentation<=Fe&&(Te||oe.match(Z.fencedEndRE))){o.highlightFormatting&&(Z.formatting="code-block");var ct;return Te||(ct=Ue(Z)),Z.localMode=Z.localState=null,Z.block=ve,Z.f=mt,Z.fencedEndRE=null,Z.code=0,Z.thisLine.fencedCodeEnd=!0,Te?q(oe,Z,Z.block):ct}else return Z.localMode?Z.localMode.token(oe,Z.localState):(oe.skipToEnd(),a.code)}function Ue(oe){var Z=[];if(oe.formatting){Z.push(a.formatting),typeof oe.formatting=="string"&&(oe.formatting=[oe.formatting]);for(var be=0;be<oe.formatting.length;be++)Z.push(a.formatting+"-"+oe.formatting[be]),oe.formatting[be]==="header"&&Z.push(a.formatting+"-"+oe.formatting[be]+"-"+oe.header),oe.formatting[be]==="quote"&&(!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=oe.quote?Z.push(a.formatting+"-"+oe.formatting[be]+"-"+oe.quote):Z.push("error"))}if(oe.taskOpen)return Z.push("meta"),Z.length?Z.join(" "):null;if(oe.taskClosed)return Z.push("property"),Z.length?Z.join(" "):null;if(oe.linkHref?Z.push(a.linkHref,"url"):(oe.strong&&Z.push(a.strong),oe.em&&Z.push(a.em),oe.strikethrough&&Z.push(a.strikethrough),oe.emoji&&Z.push(a.emoji),oe.linkText&&Z.push(a.linkText),oe.code&&Z.push(a.code),oe.image&&Z.push(a.image),oe.imageAltText&&Z.push(a.imageAltText,"link"),oe.imageMarker&&Z.push(a.imageMarker)),oe.header&&Z.push(a.header,a.header+"-"+oe.header),oe.quote&&(Z.push(a.quote),!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=oe.quote?Z.push(a.quote+"-"+oe.quote):Z.push(a.quote+"-"+o.maxBlockquoteDepth)),oe.list!==!1){var Te=(oe.listStack.length-1)%3;Te?Te===1?Z.push(a.list2):Z.push(a.list3):Z.push(a.list1)}return oe.trailingSpaceNewLine?Z.push("trailing-space-new-line"):oe.trailingSpace&&Z.push("trailing-space-"+(oe.trailingSpace%2?"a":"b")),Z.length?Z.join(" "):null}function qe(oe,Z){if(oe.match(D,!0))return Ue(Z)}function mt(oe,Z){var be=Z.text(oe,Z);if(typeof be<"u")return be;if(Z.list)return Z.list=null,Ue(Z);if(Z.taskList){var Te=oe.match(g,!0)[1]===" ";return Te?Z.taskOpen=!0:Z.taskClosed=!0,o.highlightFormatting&&(Z.formatting="task"),Z.taskList=!1,Ue(Z)}if(Z.taskOpen=!1,Z.taskClosed=!1,Z.header&&oe.match(/^#+$/,!0))return o.highlightFormatting&&(Z.formatting="header"),Ue(Z);var Fe=oe.next();if(Z.linkTitle){Z.linkTitle=!1;var ct=Fe;Fe==="("&&(ct=")"),ct=(ct+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var At="^\\s*(?:[^"+ct+"\\\\]+|\\\\\\\\|\\\\.)"+ct;if(oe.match(new RegExp(At),!0))return a.linkHref}if(Fe==="`"){var rt=Z.formatting;o.highlightFormatting&&(Z.formatting="code"),oe.eatWhile("`");var jt=oe.current().length;if(Z.code==0&&(!Z.quote||jt==1))return Z.code=jt,Ue(Z);if(jt==Z.code){var _t=Ue(Z);return Z.code=0,_t}else return Z.formatting=rt,Ue(Z)}else if(Z.code)return Ue(Z);if(Fe==="\\"&&(oe.next(),o.highlightFormatting)){var Wt=Ue(Z),ft=a.formatting+"-escape";return Wt?Wt+" "+ft:ft}if(Fe==="!"&&oe.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Z.imageMarker=!0,Z.image=!0,o.highlightFormatting&&(Z.formatting="image"),Ue(Z);if(Fe==="["&&Z.imageMarker&&oe.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Z.imageMarker=!1,Z.imageAltText=!0,o.highlightFormatting&&(Z.formatting="image"),Ue(Z);if(Fe==="]"&&Z.imageAltText){o.highlightFormatting&&(Z.formatting="image");var Wt=Ue(Z);return Z.imageAltText=!1,Z.image=!1,Z.inline=Z.f=ge,Wt}if(Fe==="["&&!Z.image)return Z.linkText&&oe.match(/^.*?\]/)||(Z.linkText=!0,o.highlightFormatting&&(Z.formatting="link")),Ue(Z);if(Fe==="]"&&Z.linkText){o.highlightFormatting&&(Z.formatting="link");var Wt=Ue(Z);return Z.linkText=!1,Z.inline=Z.f=oe.match(/\(.*?\)| ?\[.*?\]/,!1)?ge:mt,Wt}if(Fe==="<"&&oe.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Z.f=Z.inline=ut,o.highlightFormatting&&(Z.formatting="link");var Wt=Ue(Z);return Wt?Wt+=" ":Wt="",Wt+a.linkInline}if(Fe==="<"&&oe.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Z.f=Z.inline=ut,o.highlightFormatting&&(Z.formatting="link");var Wt=Ue(Z);return Wt?Wt+=" ":Wt="",Wt+a.linkEmail}if(o.xml&&Fe==="<"&&oe.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var kt=oe.string.indexOf(">",oe.pos);if(kt!=-1){var Dt=oe.string.substring(oe.start,kt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Dt)&&(Z.md_inside=!0)}return oe.backUp(1),Z.htmlState=n.startState(c),q(oe,Z,Se)}if(o.xml&&Fe==="<"&&oe.match(/^\/\w*?>/))return Z.md_inside=!1,"tag";if(Fe==="*"||Fe==="_"){for(var tn=1,zt=oe.pos==1?" ":oe.string.charAt(oe.pos-2);tn<3&&oe.eat(Fe);)tn++;var Ut=oe.peek()||" ",Kt=!/\s/.test(Ut)&&(!N.test(Ut)||/\s/.test(zt)||N.test(zt)),un=!/\s/.test(zt)&&(!N.test(zt)||/\s/.test(Ut)||N.test(Ut)),Xt=null,Zt=null;if(tn%2&&(!Z.em&&Kt&&(Fe==="*"||!un||N.test(zt))?Xt=!0:Z.em==Fe&&un&&(Fe==="*"||!Kt||N.test(Ut))&&(Xt=!1)),tn>1&&(!Z.strong&&Kt&&(Fe==="*"||!un||N.test(zt))?Zt=!0:Z.strong==Fe&&un&&(Fe==="*"||!Kt||N.test(Ut))&&(Zt=!1)),Zt!=null||Xt!=null){o.highlightFormatting&&(Z.formatting=Xt==null?"strong":Zt==null?"em":"strong em"),Xt===!0&&(Z.em=Fe),Zt===!0&&(Z.strong=Fe);var _t=Ue(Z);return Xt===!1&&(Z.em=!1),Zt===!1&&(Z.strong=!1),_t}}else if(Fe===" "&&(oe.eat("*")||oe.eat("_"))){if(oe.peek()===" ")return Ue(Z);oe.backUp(1)}if(o.strikethrough){if(Fe==="~"&&oe.eatWhile(Fe)){if(Z.strikethrough){o.highlightFormatting&&(Z.formatting="strikethrough");var _t=Ue(Z);return Z.strikethrough=!1,_t}else if(oe.match(/^[^\s]/,!1))return Z.strikethrough=!0,o.highlightFormatting&&(Z.formatting="strikethrough"),Ue(Z)}else if(Fe===" "&&oe.match("~~",!0)){if(oe.peek()===" ")return Ue(Z);oe.backUp(2)}}if(o.emoji&&Fe===":"&&oe.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Z.emoji=!0,o.highlightFormatting&&(Z.formatting="emoji");var Bn=Ue(Z);return Z.emoji=!1,Bn}return Fe===" "&&(oe.match(/^ +$/,!1)?Z.trailingSpace++:Z.trailingSpace&&(Z.trailingSpaceNewLine=!0)),Ue(Z)}function ut(oe,Z){var be=oe.next();if(be===">"){Z.f=Z.inline=mt,o.highlightFormatting&&(Z.formatting="link");var Te=Ue(Z);return Te?Te+=" ":Te="",Te+a.linkInline}return oe.match(/^[^>]+/,!0),a.linkInline}function ge(oe,Z){if(oe.eatSpace())return null;var be=oe.next();return be==="("||be==="["?(Z.f=Z.inline=Ie(be==="("?")":"]"),o.highlightFormatting&&(Z.formatting="link-string"),Z.linkHref=!0,Ue(Z)):"error"}var me={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Ie(oe){return function(Z,be){var Te=Z.next();if(Te===oe){be.f=be.inline=mt,o.highlightFormatting&&(be.formatting="link-string");var Fe=Ue(be);return be.linkHref=!1,Fe}return Z.match(me[oe]),be.linkHref=!0,Ue(be)}}function lt(oe,Z){return oe.match(/^([^\]\\]|\\.)*\]:/,!1)?(Z.f=Me,oe.next(),o.highlightFormatting&&(Z.formatting="link"),Z.linkText=!0,Ue(Z)):W(oe,Z,mt)}function Me(oe,Z){if(oe.match("]:",!0)){Z.f=Z.inline=ue,o.highlightFormatting&&(Z.formatting="link");var be=Ue(Z);return Z.linkText=!1,be}return oe.match(/^([^\]\\]|\\.)+/,!0),a.linkText}function ue(oe,Z){return oe.eatSpace()?null:(oe.match(/^[^\s]+/,!0),oe.peek()===void 0?Z.linkTitle=!0:oe.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Z.f=Z.inline=mt,a.linkHref+" url")}var ce={startState:function(){return{f:ve,prevLine:{stream:null},thisLine:{stream:null},block:ve,htmlState:null,indentation:0,inline:mt,text:qe,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(oe){return{f:oe.f,prevLine:oe.prevLine,thisLine:oe.thisLine,block:oe.block,htmlState:oe.htmlState&&n.copyState(c,oe.htmlState),indentation:oe.indentation,localMode:oe.localMode,localState:oe.localMode?n.copyState(oe.localMode,oe.localState):null,inline:oe.inline,text:oe.text,formatting:!1,linkText:oe.linkText,linkTitle:oe.linkTitle,linkHref:oe.linkHref,code:oe.code,em:oe.em,strong:oe.strong,strikethrough:oe.strikethrough,emoji:oe.emoji,header:oe.header,setext:oe.setext,hr:oe.hr,taskList:oe.taskList,list:oe.list,listStack:oe.listStack.slice(0),quote:oe.quote,indentedCode:oe.indentedCode,trailingSpace:oe.trailingSpace,trailingSpaceNewLine:oe.trailingSpaceNewLine,md_inside:oe.md_inside,fencedEndRE:oe.fencedEndRE}},token:function(oe,Z){if(Z.formatting=!1,oe!=Z.thisLine.stream){if(Z.header=0,Z.hr=!1,oe.match(/^\s*$/,!0))return ne(Z),null;if(Z.prevLine=Z.thisLine,Z.thisLine={stream:oe},Z.taskList=!1,Z.trailingSpace=0,Z.trailingSpaceNewLine=!1,!Z.localState&&(Z.f=Z.block,Z.f!=Se)){var be=oe.match(/^\s*/,!0)[0].replace(/\t/g,U).length;if(Z.indentation=be,Z.indentationDiff=null,be>0)return null}}return Z.f(oe,Z)},innerMode:function(oe){return oe.block==Se?{state:oe.htmlState,mode:c}:oe.localState?{state:oe.localState,mode:oe.localMode}:{state:oe,mode:ce}},indent:function(oe,Z,be){return oe.block==Se&&c.indent?c.indent(oe.htmlState,Z,be):oe.localState&&oe.localMode.indent?oe.localMode.indent(oe.localState,Z,be):n.Pass},blankLine:ne,getType:Ue,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ce},"xml"),n.defineMIME("text/markdown","markdown"),n.defineMIME("text/x-markdown","markdown")})})()),Xw.exports}var Jw={exports:{}},$w;function C7(){return $w||($w=1,(function(e,t){(function(n){n(vc())})(function(n){n.overlayMode=function(r,o,c){return{startState:function(){return{base:n.startState(r),overlay:n.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(y){return{base:n.copyState(r,y.base),overlay:n.copyState(o,y.overlay),basePos:y.basePos,baseCur:null,overlayPos:y.overlayPos,overlayCur:null}},token:function(y,d){return(y!=d.streamSeen||Math.min(d.basePos,d.overlayPos)<y.start)&&(d.streamSeen=y,d.basePos=d.overlayPos=y.start),y.start==d.basePos&&(d.baseCur=r.token(y,d.base),d.basePos=y.pos),y.start==d.overlayPos&&(y.pos=y.start,d.overlayCur=o.token(y,d.overlay),d.overlayPos=y.pos),y.pos=Math.min(d.basePos,d.overlayPos),d.overlayCur==null?d.baseCur:d.baseCur!=null&&d.overlay.combineTokens||c&&d.overlay.combineTokens==null?d.baseCur+" "+d.overlayCur:d.overlayCur},indent:r.indent&&function(y,d,a){return r.indent(y.base,d,a)},electricChars:r.electricChars,innerMode:function(y){return{state:y.base,mode:r}},blankLine:function(y){var d,a;return r.blankLine&&(d=r.blankLine(y.base)),o.blankLine&&(a=o.blankLine(y.overlay)),a==null?d:c&&d!=null?d+" "+a:a}}}})})()),Jw.exports}var e5={exports:{}},t5;function nP(){return t5||(t5=1,(function(e,t){(function(n){n(vc())})(function(n){n.defineOption("placeholder","",function(u,v,f){var g=f&&f!=n.Init;if(v&&!g)u.on("blur",y),u.on("change",d),u.on("swapDoc",d),n.on(u.getInputField(),"compositionupdate",u.state.placeholderCompose=function(){c(u)}),d(u);else if(!v&&g){u.off("blur",y),u.off("change",d),u.off("swapDoc",d),n.off(u.getInputField(),"compositionupdate",u.state.placeholderCompose),r(u);var m=u.getWrapperElement();m.className=m.className.replace(" CodeMirror-empty","")}v&&!u.hasFocus()&&y(u)});function r(u){u.state.placeholder&&(u.state.placeholder.parentNode.removeChild(u.state.placeholder),u.state.placeholder=null)}function o(u){r(u);var v=u.state.placeholder=document.createElement("pre");v.style.cssText="height: 0; overflow: visible",v.style.direction=u.getOption("direction"),v.className="CodeMirror-placeholder CodeMirror-line-like";var f=u.getOption("placeholder");typeof f=="string"&&(f=document.createTextNode(f)),v.appendChild(f),u.display.lineSpace.insertBefore(v,u.display.lineSpace.firstChild)}function c(u){setTimeout(function(){var v=!1;if(u.lineCount()==1){var f=u.getInputField();v=f.nodeName=="TEXTAREA"?!u.getLine(0).length:!/[^\u200b]/.test(f.querySelector(".CodeMirror-line").textContent)}v?o(u):r(u)},20)}function y(u){a(u)&&o(u)}function d(u){var v=u.getWrapperElement(),f=a(u);v.className=v.className.replace(" CodeMirror-empty","")+(f?" CodeMirror-empty":""),f?o(u):r(u)}function a(u){return u.lineCount()===1&&u.getLine(0)===""}})})()),e5.exports}var n5={exports:{}},r5;function rP(){return r5||(r5=1,(function(e,t){(function(n){n(vc())})(function(n){n.defineOption("autoRefresh",!1,function(c,y){c.state.autoRefresh&&(o(c,c.state.autoRefresh),c.state.autoRefresh=null),y&&c.display.wrapper.offsetHeight==0&&r(c,c.state.autoRefresh={delay:y.delay||250})});function r(c,y){function d(){c.display.wrapper.offsetHeight?(o(c,y),c.display.lastWrapHeight!=c.display.wrapper.clientHeight&&c.refresh()):y.timeout=setTimeout(d,y.delay)}y.timeout=setTimeout(d,y.delay),y.hurry=function(){clearTimeout(y.timeout),y.timeout=setTimeout(d,50)},n.on(window,"mouseup",y.hurry),n.on(window,"keyup",y.hurry)}function o(c,y){clearTimeout(y.timeout),n.off(window,"mouseup",y.hurry),n.off(window,"keyup",y.hurry)}})})()),n5.exports}var i5={exports:{}},a5;function iP(){return a5||(a5=1,(function(e,t){(function(n){n(vc())})(function(n){n.defineOption("styleSelectedText",!1,function(g,m,C){var D=C&&C!=n.Init;m&&!D?(g.state.markedSelection=[],g.state.markedSelectionStyle=typeof m=="string"?m:"CodeMirror-selectedtext",v(g),g.on("cursorActivity",r),g.on("change",o)):!m&&D&&(g.off("cursorActivity",r),g.off("change",o),u(g),g.state.markedSelection=g.state.markedSelectionStyle=null)});function r(g){g.state.markedSelection&&g.operation(function(){f(g)})}function o(g){g.state.markedSelection&&g.state.markedSelection.length&&g.operation(function(){u(g)})}var c=8,y=n.Pos,d=n.cmpPos;function a(g,m,C,D){if(d(m,C)!=0)for(var S=g.state.markedSelection,O=g.state.markedSelectionStyle,N=m.line;;){var U=N==m.line?m:y(N,0),W=N+c,q=W>=C.line,J=q?C:y(W,0),ne=g.markText(U,J,{className:O});if(D==null?S.push(ne):S.splice(D++,0,ne),q)break;N=W}}function u(g){for(var m=g.state.markedSelection,C=0;C<m.length;++C)m[C].clear();m.length=0}function v(g){u(g);for(var m=g.listSelections(),C=0;C<m.length;C++)a(g,m[C].from(),m[C].to())}function f(g){if(!g.somethingSelected())return u(g);if(g.listSelections().length>1)return v(g);var m=g.getCursor("start"),C=g.getCursor("end"),D=g.state.markedSelection;if(!D.length)return a(g,m,C);var S=D[0].find(),O=D[D.length-1].find();if(!S||!O||C.line-m.line<=c||d(m,O.to)>=0||d(C,S.from)<=0)return v(g);for(;d(m,S.from)>0;)D.shift().clear(),S=D[0].find();for(d(m,S.from)<0&&(S.to.line-m.line<c?(D.shift().clear(),a(g,m,S.to,0)):a(g,m,S.from,0));d(C,O.to)<0;)D.pop().clear(),O=D[D.length-1].find();d(C,O.to)>0&&(C.line-O.from.line<c?(D.pop().clear(),a(g,O.from,C)):a(g,O.to,C))}})})()),i5.exports}var o5={exports:{}},s5;function aP(){return s5||(s5=1,(function(e,t){(function(n){n(vc())})(function(n){var r=n.Pos;function o(N){var U=N.flags;return U??(N.ignoreCase?"i":"")+(N.global?"g":"")+(N.multiline?"m":"")}function c(N,U){for(var W=o(N),q=W,J=0;J<U.length;J++)q.indexOf(U.charAt(J))==-1&&(q+=U.charAt(J));return W==q?N:new RegExp(N.source,q)}function y(N){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(N.source)}function d(N,U,W){U=c(U,"g");for(var q=W.line,J=W.ch,ne=N.lastLine();q<=ne;q++,J=0){U.lastIndex=J;var ve=N.getLine(q),Se=U.exec(ve);if(Se)return{from:r(q,Se.index),to:r(q,Se.index+Se[0].length),match:Se}}}function a(N,U,W){if(!y(U))return d(N,U,W);U=c(U,"gm");for(var q,J=1,ne=W.line,ve=N.lastLine();ne<=ve;){for(var Se=0;Se<J&&!(ne>ve);Se++){var Be=N.getLine(ne++);q=q==null?Be:q+`
`+Be}J=J*2,U.lastIndex=W.ch;var Ue=U.exec(q);if(Ue){var qe=q.slice(0,Ue.index).split(`
`),mt=Ue[0].split(`
`),ut=W.line+qe.length-1,ge=qe[qe.length-1].length;return{from:r(ut,ge),to:r(ut+mt.length-1,mt.length==1?ge+mt[0].length:mt[mt.length-1].length),match:Ue}}}}function u(N,U,W){for(var q,J=0;J<=N.length;){U.lastIndex=J;var ne=U.exec(N);if(!ne)break;var ve=ne.index+ne[0].length;if(ve>N.length-W)break;(!q||ve>q.index+q[0].length)&&(q=ne),J=ne.index+1}return q}function v(N,U,W){U=c(U,"g");for(var q=W.line,J=W.ch,ne=N.firstLine();q>=ne;q--,J=-1){var ve=N.getLine(q),Se=u(ve,U,J<0?0:ve.length-J);if(Se)return{from:r(q,Se.index),to:r(q,Se.index+Se[0].length),match:Se}}}function f(N,U,W){if(!y(U))return v(N,U,W);U=c(U,"gm");for(var q,J=1,ne=N.getLine(W.line).length-W.ch,ve=W.line,Se=N.firstLine();ve>=Se;){for(var Be=0;Be<J&&ve>=Se;Be++){var Ue=N.getLine(ve--);q=q==null?Ue:Ue+`
`+q}J*=2;var qe=u(q,U,ne);if(qe){var mt=q.slice(0,qe.index).split(`
`),ut=qe[0].split(`
`),ge=ve+mt.length,me=mt[mt.length-1].length;return{from:r(ge,me),to:r(ge+ut.length-1,ut.length==1?me+ut[0].length:ut[ut.length-1].length),match:qe}}}}var g,m;String.prototype.normalize?(g=function(N){return N.normalize("NFD").toLowerCase()},m=function(N){return N.normalize("NFD")}):(g=function(N){return N.toLowerCase()},m=function(N){return N});function C(N,U,W,q){if(N.length==U.length)return W;for(var J=0,ne=W+Math.max(0,N.length-U.length);;){if(J==ne)return J;var ve=J+ne>>1,Se=q(N.slice(0,ve)).length;if(Se==W)return ve;Se>W?ne=ve:J=ve+1}}function D(N,U,W,q){if(!U.length)return null;var J=q?g:m,ne=J(U).split(/\r|\n\r?/);e:for(var ve=W.line,Se=W.ch,Be=N.lastLine()+1-ne.length;ve<=Be;ve++,Se=0){var Ue=N.getLine(ve).slice(Se),qe=J(Ue);if(ne.length==1){var mt=qe.indexOf(ne[0]);if(mt==-1)continue e;var W=C(Ue,qe,mt,J)+Se;return{from:r(ve,C(Ue,qe,mt,J)+Se),to:r(ve,C(Ue,qe,mt+ne[0].length,J)+Se)}}else{var ut=qe.length-ne[0].length;if(qe.slice(ut)!=ne[0])continue e;for(var ge=1;ge<ne.length-1;ge++)if(J(N.getLine(ve+ge))!=ne[ge])continue e;var me=N.getLine(ve+ne.length-1),Ie=J(me),lt=ne[ne.length-1];if(Ie.slice(0,lt.length)!=lt)continue e;return{from:r(ve,C(Ue,qe,ut,J)+Se),to:r(ve+ne.length-1,C(me,Ie,lt.length,J))}}}}function S(N,U,W,q){if(!U.length)return null;var J=q?g:m,ne=J(U).split(/\r|\n\r?/);e:for(var ve=W.line,Se=W.ch,Be=N.firstLine()-1+ne.length;ve>=Be;ve--,Se=-1){var Ue=N.getLine(ve);Se>-1&&(Ue=Ue.slice(0,Se));var qe=J(Ue);if(ne.length==1){var mt=qe.lastIndexOf(ne[0]);if(mt==-1)continue e;return{from:r(ve,C(Ue,qe,mt,J)),to:r(ve,C(Ue,qe,mt+ne[0].length,J))}}else{var ut=ne[ne.length-1];if(qe.slice(0,ut.length)!=ut)continue e;for(var ge=1,W=ve-ne.length+1;ge<ne.length-1;ge++)if(J(N.getLine(W+ge))!=ne[ge])continue e;var me=N.getLine(ve+1-ne.length),Ie=J(me);if(Ie.slice(Ie.length-ne[0].length)!=ne[0])continue e;return{from:r(ve+1-ne.length,C(me,Ie,me.length-ne[0].length,J)),to:r(ve,C(Ue,qe,ut.length,J))}}}}function O(N,U,W,q){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=N,W=W?N.clipPos(W):r(0,0),this.pos={from:W,to:W};var J;typeof q=="object"?J=q.caseFold:(J=q,q=null),typeof U=="string"?(J==null&&(J=!1),this.matches=function(ne,ve){return(ne?S:D)(N,U,ve,J)}):(U=c(U,"gm"),!q||q.multiline!==!1?this.matches=function(ne,ve){return(ne?f:a)(N,U,ve)}:this.matches=function(ne,ve){return(ne?v:d)(N,U,ve)})}O.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(N){var U=this.doc.clipPos(N?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(U=r(U.line,U.ch),N?(U.ch--,U.ch<0&&(U.line--,U.ch=(this.doc.getLine(U.line)||"").length)):(U.ch++,U.ch>(this.doc.getLine(U.line)||"").length&&(U.ch=0,U.line++)),n.cmpPos(U,this.doc.clipPos(U))!=0))return this.atOccurrence=!1;var W=this.matches(N,U);if(this.afterEmptyMatch=W&&n.cmpPos(W.from,W.to)==0,W)return this.pos=W,this.atOccurrence=!0,this.pos.match||!0;var q=r(N?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:q,to:q},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(N,U){if(this.atOccurrence){var W=n.splitLines(N);this.doc.replaceRange(W,this.pos.from,this.pos.to,U),this.pos.to=r(this.pos.from.line+W.length-1,W[W.length-1].length+(W.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(N,U,W){return new O(this.doc,N,U,W)}),n.defineDocExtension("getSearchCursor",function(N,U,W){return new O(this,N,U,W)}),n.defineExtension("selectMatches",function(N,U){for(var W=[],q=this.getSearchCursor(N,this.getCursor("from"),U);q.findNext()&&!(n.cmpPos(q.to(),this.getCursor("to"))>0);)W.push({anchor:q.from(),head:q.to()});W.length&&this.setSelections(W,0)})})})()),o5.exports}var l5={exports:{}},u5;function oP(){return u5||(u5=1,(function(e,t){(function(n){n(vc(),w7(),C7())})(function(n){var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;n.defineMode("gfm",function(o,c){var y=0;function d(f){return f.code=!1,null}var a={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(f){return{code:f.code,codeBlock:f.codeBlock,ateSpace:f.ateSpace}},token:function(f,g){if(g.combineTokens=null,g.codeBlock)return f.match(/^```+/)?(g.codeBlock=!1,null):(f.skipToEnd(),null);if(f.sol()&&(g.code=!1),f.sol()&&f.match(/^```+/))return f.skipToEnd(),g.codeBlock=!0,null;if(f.peek()==="`"){f.next();var m=f.pos;f.eatWhile("`");var C=1+f.pos-m;return g.code?C===y&&(g.code=!1):(y=C,g.code=!0),null}else if(g.code)return f.next(),null;if(f.eatSpace())return g.ateSpace=!0,null;if((f.sol()||g.ateSpace)&&(g.ateSpace=!1,c.gitHubSpice!==!1)){if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return g.combineTokens=!0,"link";if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return g.combineTokens=!0,"link"}return f.match(r)&&f.string.slice(f.start-2,f.start)!="]("&&(f.start==0||/\W/.test(f.string.charAt(f.start-1)))?(g.combineTokens=!0,"link"):(f.next(),null)},blankLine:d},u={taskLists:!0,strikethrough:!0,emoji:!0};for(var v in c)u[v]=c[v];return u.name="markdown",n.overlayMode(n.getMode(o,u),a)},"markdown"),n.defineMIME("text/x-gfm","gfm")})})()),l5.exports}function sP(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jv={exports:{}};const lP={},uP=Object.freeze(Object.defineProperty({__proto__:null,default:lP},Symbol.toStringTag,{value:"Module"})),xp=KT(uP);var c5;function cP(){return c5||(c5=1,(function(e){var t;(function(){t=function(n,r,o,c){c=c||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=c.flags||{},this.memoized={},this.loaded=!1;var y=this,d,a,u,v,f;if(n)if(y.dictionary=n,r&&o)S();else if(typeof window<"u"&&(window.chrome&&window.chrome.runtime||window.browser&&window.browser.runtime)){var g=window.chrome&&window.chrome.runtime?window.chrome.runtime:window.browser.runtime;c.dictionaryPath?d=c.dictionaryPath:d="typo/dictionaries",r||m(g.getURL(d+"/"+n+"/"+n+".aff"),C),o||m(g.getURL(d+"/"+n+"/"+n+".dic"),D)}else c.dictionaryPath?d=c.dictionaryPath:typeof __dirname<"u"?d=__dirname+"/dictionaries":d="./dictionaries",r||m(d+"/"+n+"/"+n+".aff",C),o||m(d+"/"+n+"/"+n+".dic",D);function m(O,N){var U=y._readFile(O,null,c?.asyncLoad);c?.asyncLoad?U.then(function(W){N(W)}):N(U)}function C(O){r=O,o&&S()}function D(O){o=O,r&&S()}function S(){for(y.rules=y._parseAFF(r),y.compoundRuleCodes={},a=0,v=y.compoundRules.length;a<v;a++){var O=y.compoundRules[a];for(u=0,f=O.length;u<f;u++)y.compoundRuleCodes[O[u]]=[]}"ONLYINCOMPOUND"in y.flags&&(y.compoundRuleCodes[y.flags.ONLYINCOMPOUND]=[]),y.dictionaryTable=y._parseDIC(o);for(a in y.compoundRuleCodes)y.compoundRuleCodes[a].length===0&&delete y.compoundRuleCodes[a];for(a=0,v=y.compoundRules.length;a<v;a++){var N=y.compoundRules[a],U="";for(u=0,f=N.length;u<f;u++){var W=N[u];W in y.compoundRuleCodes?U+="("+y.compoundRuleCodes[W].join("|")+")":U+=W}y.compoundRules[a]=new RegExp("^"+U+"$","i")}y.loaded=!0,c?.asyncLoad&&c?.loadedCallback&&c.loadedCallback(y)}return this},t.prototype={load:function(n){for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);return this},_readFile:function(n,r,o){var c;if(r=r||"utf8",typeof XMLHttpRequest<"u"){var y=new XMLHttpRequest;if(y.open("GET",n,!!o),(c=y.overrideMimeType)===null||c===void 0||c.call(y,"text/plain; charset="+r),o){var d=new Promise(function(u,v){y.onload=function(){y.status===200?u(y.responseText):v(y.statusText)},y.onerror=function(){v(y.statusText)}});return y.send(null),d}else return y.send(null),y.responseText}else if(typeof sP<"u"){var a=xp;try{if(a.existsSync(n))return a.readFileSync(n,r);console.log("Path "+n+" does not exist.")}catch(u){console.log(u)}return""}return""},_parseAFF:function(n){var r={},o,c,y,d,a,u,v,f,g=n.split(/\r?\n/);for(a=0,v=g.length;a<v;a++)if(o=this._removeAffixComments(g[a]),o=o.trim(),!!o){var m=o.split(/\s+/),C=m[0];if(C==="PFX"||C==="SFX"){var D=m[1],S=m[2];y=parseInt(m[3],10);var O=[];for(u=a+1,f=a+1+y;u<f;u++){c=g[u],d=c.split(/\s+/);var N=d[2],U=d[3].split("/"),W=U[0];W==="0"&&(W="");var q=this.parseRuleCodes(U[1]),J=d[4],ne={add:W};q.length>0&&(ne.continuationClasses=q),J!=="."&&(C==="SFX"?ne.match=new RegExp(J+"$"):ne.match=new RegExp("^"+J)),N!="0"&&(C==="SFX"?ne.remove=new RegExp(N+"$"):ne.remove=N),O.push(ne)}r[D]={type:C,combineable:S==="Y",entries:O},a+=y}else if(C==="COMPOUNDRULE"){for(y=parseInt(m[1],10),u=a+1,f=a+1+y;u<f;u++)o=g[u],d=o.split(/\s+/),this.compoundRules.push(d[1]);a+=y}else C==="REP"?(d=o.split(/\s+/),d.length===3&&this.replacementTable.push([d[1],d[2]])):this.flags[C]=m[1]}return r},_removeAffixComments:function(n){return n.match(/^\s*#/)?"":n},_parseDIC:function(n){n=this._removeDicComments(n);var r=n.split(/\r?\n/),o={};function c(qe,mt){o.hasOwnProperty(qe)||(o[qe]=null),mt.length>0&&(o[qe]===null&&(o[qe]=[]),o[qe].push(mt))}for(var y=1,d=r.length;y<d;y++){var a=r[y];if(a){var u=a.replace(/\s.*$/,""),v=u.split("/",2),f=v[0];if(v.length>1){var g=this.parseRuleCodes(v[1]);(!("NEEDAFFIX"in this.flags)||g.indexOf(this.flags.NEEDAFFIX)===-1)&&c(f,g);for(var m=0,C=g.length;m<C;m++){var D=g[m],S=this.rules[D];if(S)for(var O=this._applyRule(f,S),N=0,U=O.length;N<U;N++){var W=O[N];if(c(W,[]),S.combineable)for(var q=m+1;q<C;q++){var J=g[q],ne=this.rules[J];if(ne&&ne.combineable&&S.type!=ne.type)for(var ve=this._applyRule(W,ne),Se=0,Be=ve.length;Se<Be;Se++){var Ue=ve[Se];c(Ue,[])}}}D in this.compoundRuleCodes&&this.compoundRuleCodes[D].push(f)}}else c(f.trim(),[])}}return o},_removeDicComments:function(n){return n=n.replace(/^\t.*$/mg,""),n},parseRuleCodes:function(n){if(n)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],o=0,c=n.length;o<c;o+=2)r.push(n.substr(o,2));return r}else return this.flags.FLAG==="num"?n.split(","):this.flags.FLAG==="UTF-8"?Array.from(n):n.split("");else return n.split("");else return[]},_applyRule:function(n,r){for(var o=r.entries,c=[],y=0,d=o.length;y<d;y++){var a=o[y];if(!a.match||n.match(a.match)){var u=n;if(a.remove&&(u=u.replace(a.remove,"")),r.type==="SFX"?u=u+a.add:u=a.add+u,c.push(u),"continuationClasses"in a)for(var v=0,f=a.continuationClasses.length;v<f;v++){var g=this.rules[a.continuationClasses[v]];g&&(c=c.concat(this._applyRule(u,g)))}}}return c},check:function(n){if(!this.loaded)throw"Dictionary not loaded.";if(!n)return!1;var r=n.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var o=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(o,"KEEPCASE"))return!1;if(this.checkExact(o)||this.checkExact(r.toLowerCase()))return!0}var c=r[0].toLowerCase()+r.substring(1);if(c!==r){if(this.hasFlag(c,"KEEPCASE"))return!1;if(this.checkExact(c))return!0}return!1},checkExact:function(n){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[n],o,c;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&n.length>=this.flags.COMPOUNDMIN){for(o=0,c=this.compoundRules.length;o<c;o++)if(n.match(this.compoundRules[o]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(o=0,c=r.length;o<c;o++)if(!this.hasFlag(n,"ONLYINCOMPOUND",r[o]))return!0}}return!1},hasFlag:function(n,r,o){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof o>"u"&&(o=Array.prototype.concat.apply([],this.dictionaryTable[n])),o&&o.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(n,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(n)){var o=this.memoized[n].limit;if(r<=o||this.memoized[n].suggestions.length<o)return this.memoized[n].suggestions.slice(0,r)}if(this.check(n))return[];for(var c=0,y=this.replacementTable.length;c<y;c++){var d=this.replacementTable[c];if(n.indexOf(d[0])!==-1){var a=n.replace(d[0],d[1]);if(this.check(a))return[a]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var u=this.alphabet.split("");u.sort();for(var v={},c=0;c<u.length;c++)v[u[c]]=!0;this.alphabet="";for(var c in v)this.alphabet+=c}var f=this;function g(C,D){var S={},O,N,U,W,q=f.alphabet.length;for(var J in C)for(O=0,U=J.length+1;O<U;O++){var ne=[J.substring(0,O),J.substring(O)];if(ne[1]&&(W=ne[0]+ne[1].substring(1),(!D||f.check(W))&&(W in S?S[W]+=1:S[W]=1)),ne[1].length>1&&ne[1][1]!==ne[1][0]&&(W=ne[0]+ne[1][1]+ne[1][0]+ne[1].substring(2),(!D||f.check(W))&&(W in S?S[W]+=1:S[W]=1)),ne[1]){var ve=ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase";for(N=0;N<q;N++){var Se=f.alphabet[N];ve==="uppercase"&&(Se=Se.toUpperCase()),Se!=ne[1].substring(0,1)&&(W=ne[0]+Se+ne[1].substring(1),(!D||f.check(W))&&(W in S?S[W]+=1:S[W]=1))}}if(ne[1])for(N=0;N<q;N++){var ve=ne[0].substring(-1).toUpperCase()===ne[0].substring(-1)&&ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase",Se=f.alphabet[N];ve==="uppercase"&&(Se=Se.toUpperCase()),W=ne[0]+Se+ne[1],(!D||f.check(W))&&(W in S?S[W]+=1:S[W]=1)}}return S}function m(C){var D,S=g((D={},D[C]=!0,D)),O=g(S,!0),N=O;for(var U in S)f.check(U)&&(U in N?N[U]+=S[U]:N[U]=S[U]);var W,q=[];for(W in N)N.hasOwnProperty(W)&&(f.hasFlag(W,"PRIORITYSUGGEST")&&(N[W]+=1e3),q.push([W,N[W]]));function J(Be,Ue){var qe=Be[1],mt=Ue[1];return qe<mt?-1:qe>mt?1:Ue[0].localeCompare(Be[0])}q.sort(J).reverse();var ne=[],ve="lowercase";C.toUpperCase()===C?ve="uppercase":C.substr(0,1).toUpperCase()+C.substr(1).toLowerCase()===C&&(ve="capitalized");var Se=r;for(W=0;W<Math.min(Se,q.length);W++)ve==="uppercase"?q[W][0]=q[W][0].toUpperCase():ve==="capitalized"&&(q[W][0]=q[W][0].substr(0,1).toUpperCase()+q[W][0].substr(1)),!f.hasFlag(q[W][0],"NOSUGGEST")&&ne.indexOf(q[W][0])===-1?ne.push(q[W][0]):Se++;return ne}return this.memoized[n]={suggestions:m(n),limit:r},this.memoized[n].suggestions}}})(),e.exports=t})(Jv)),Jv.exports}var $v,f5;function fP(){if(f5)return $v;f5=1;var e=cP();function t(n){if(n=n||{},typeof n.codeMirrorInstance!="function"||typeof n.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),n.codeMirrorInstance.defineMode("spell-checker",function(r){if(!t.aff_loading){t.aff_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),o.onload=function(){o.readyState===4&&o.status===200&&(t.aff_data=o.responseText,t.num_loaded++,t.num_loaded==2&&(t.typo=new e("en_US",t.aff_data,t.dic_data,{platform:"any"})))},o.send(null)}if(!t.dic_loading){t.dic_loading=!0;var c=new XMLHttpRequest;c.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),c.onload=function(){c.readyState===4&&c.status===200&&(t.dic_data=c.responseText,t.num_loaded++,t.num_loaded==2&&(t.typo=new e("en_US",t.aff_data,t.dic_data,{platform:"any"})))},c.send(null)}var y='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',d={token:function(u){var v=u.peek(),f="";if(y.includes(v))return u.next(),null;for(;(v=u.peek())!=null&&!y.includes(v);)f+=v,u.next();return t.typo&&!t.typo.check(f)?"spell-error":null}},a=n.codeMirrorInstance.getMode(r,r.backdrop||"text/plain");return n.codeMirrorInstance.overlayMode(a,d,!0)})}return t.num_loaded=0,t.aff_loading=!1,t.dic_loading=!1,t.aff_data="",t.dic_data="",t.typo,$v=t,$v}var e2={},h5;function hP(){return h5||(h5=1,(function(e){function t(gt,dt){for(var Pe=0;Pe<dt.length;Pe++){var xe=dt[Pe];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(gt,a(xe.key),xe)}}function n(gt,dt,Pe){return Pe&&t(gt,Pe),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function r(){return r=Object.assign?Object.assign.bind():function(gt){for(var dt=1;dt<arguments.length;dt++){var Pe=arguments[dt];for(var xe in Pe)Object.prototype.hasOwnProperty.call(Pe,xe)&&(gt[xe]=Pe[xe])}return gt},r.apply(this,arguments)}function o(gt,dt){if(gt){if(typeof gt=="string")return c(gt,dt);var Pe=Object.prototype.toString.call(gt).slice(8,-1);if(Pe==="Object"&&gt.constructor&&(Pe=gt.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(gt);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return c(gt,dt)}}function c(gt,dt){(dt==null||dt>gt.length)&&(dt=gt.length);for(var Pe=0,xe=new Array(dt);Pe<dt;Pe++)xe[Pe]=gt[Pe];return xe}function y(gt,dt){var Pe=typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Pe)return(Pe=Pe.call(gt)).next.bind(Pe);if(Array.isArray(gt)||(Pe=o(gt))||dt){Pe&&(gt=Pe);var xe=0;return function(){return xe>=gt.length?{done:!0}:{done:!1,value:gt[xe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(gt,dt){if(typeof gt!="object"||gt===null)return gt;var Pe=gt[Symbol.toPrimitive];if(Pe!==void 0){var xe=Pe.call(gt,dt);if(typeof xe!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(gt)}function a(gt){var dt=d(gt,"string");return typeof dt=="symbol"?dt:String(dt)}function u(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=u();function v(gt){e.defaults=gt}var f=/[&<>"']/,g=new RegExp(f.source,"g"),m=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,C=new RegExp(m.source,"g"),D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},S=function(dt){return D[dt]};function O(gt,dt){if(dt){if(f.test(gt))return gt.replace(g,S)}else if(m.test(gt))return gt.replace(C,S);return gt}var N=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function U(gt){return gt.replace(N,function(dt,Pe){return Pe=Pe.toLowerCase(),Pe==="colon"?":":Pe.charAt(0)==="#"?Pe.charAt(1)==="x"?String.fromCharCode(parseInt(Pe.substring(2),16)):String.fromCharCode(+Pe.substring(1)):""})}var W=/(^|[^\[])\^/g;function q(gt,dt){gt=typeof gt=="string"?gt:gt.source,dt=dt||"";var Pe={replace:function(Ee,Ze){return Ze=Ze.source||Ze,Ze=Ze.replace(W,"$1"),gt=gt.replace(Ee,Ze),Pe},getRegex:function(){return new RegExp(gt,dt)}};return Pe}var J=/[^\w:]/g,ne=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ve(gt,dt,Pe){if(gt){var xe;try{xe=decodeURIComponent(U(Pe)).replace(J,"").toLowerCase()}catch{return null}if(xe.indexOf("javascript:")===0||xe.indexOf("vbscript:")===0||xe.indexOf("data:")===0)return null}dt&&!ne.test(Pe)&&(Pe=mt(dt,Pe));try{Pe=encodeURI(Pe).replace(/%25/g,"%")}catch{return null}return Pe}var Se={},Be=/^[^:]+:\/*[^/]*$/,Ue=/^([^:]+:)[\s\S]*$/,qe=/^([^:]+:\/*[^/]*)[\s\S]*$/;function mt(gt,dt){Se[" "+gt]||(Be.test(gt)?Se[" "+gt]=gt+"/":Se[" "+gt]=me(gt,"/",!0)),gt=Se[" "+gt];var Pe=gt.indexOf(":")===-1;return dt.substring(0,2)==="//"?Pe?dt:gt.replace(Ue,"$1")+dt:dt.charAt(0)==="/"?Pe?dt:gt.replace(qe,"$1")+dt:gt+dt}var ut={exec:function(){}};function ge(gt,dt){var Pe=gt.replace(/\|/g,function(Ze,re,we){for(var Ve=!1,it=re;--it>=0&&we[it]==="\\";)Ve=!Ve;return Ve?"|":" |"}),xe=Pe.split(/ \|/),Ee=0;if(xe[0].trim()||xe.shift(),xe.length>0&&!xe[xe.length-1].trim()&&xe.pop(),xe.length>dt)xe.splice(dt);else for(;xe.length<dt;)xe.push("");for(;Ee<xe.length;Ee++)xe[Ee]=xe[Ee].trim().replace(/\\\|/g,"|");return xe}function me(gt,dt,Pe){var xe=gt.length;if(xe===0)return"";for(var Ee=0;Ee<xe;){var Ze=gt.charAt(xe-Ee-1);if(Ze===dt&&!Pe)Ee++;else if(Ze!==dt&&Pe)Ee++;else break}return gt.slice(0,xe-Ee)}function Ie(gt,dt){if(gt.indexOf(dt[1])===-1)return-1;for(var Pe=gt.length,xe=0,Ee=0;Ee<Pe;Ee++)if(gt[Ee]==="\\")Ee++;else if(gt[Ee]===dt[0])xe++;else if(gt[Ee]===dt[1]&&(xe--,xe<0))return Ee;return-1}function lt(gt){gt&&gt.sanitize&&!gt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Me(gt,dt){if(dt<1)return"";for(var Pe="";dt>1;)dt&1&&(Pe+=gt),dt>>=1,gt+=gt;return Pe+gt}function ue(gt,dt,Pe,xe){var Ee=dt.href,Ze=dt.title?O(dt.title):null,re=gt[1].replace(/\\([\[\]])/g,"$1");if(gt[0].charAt(0)!=="!"){xe.state.inLink=!0;var we={type:"link",raw:Pe,href:Ee,title:Ze,text:re,tokens:xe.inlineTokens(re)};return xe.state.inLink=!1,we}return{type:"image",raw:Pe,href:Ee,title:Ze,text:O(re)}}function ce(gt,dt){var Pe=gt.match(/^(\s+)(?:```)/);if(Pe===null)return dt;var xe=Pe[1];return dt.split(`
`).map(function(Ee){var Ze=Ee.match(/^\s+/);if(Ze===null)return Ee;var re=Ze[0];return re.length>=xe.length?Ee.slice(xe.length):Ee}).join(`
`)}var oe=(function(){function gt(Pe){this.options=Pe||e.defaults}var dt=gt.prototype;return dt.space=function(xe){var Ee=this.rules.block.newline.exec(xe);if(Ee&&Ee[0].length>0)return{type:"space",raw:Ee[0]}},dt.code=function(xe){var Ee=this.rules.block.code.exec(xe);if(Ee){var Ze=Ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ee[0],codeBlockStyle:"indented",text:this.options.pedantic?Ze:me(Ze,`
`)}}},dt.fences=function(xe){var Ee=this.rules.block.fences.exec(xe);if(Ee){var Ze=Ee[0],re=ce(Ze,Ee[3]||"");return{type:"code",raw:Ze,lang:Ee[2]?Ee[2].trim().replace(this.rules.inline._escapes,"$1"):Ee[2],text:re}}},dt.heading=function(xe){var Ee=this.rules.block.heading.exec(xe);if(Ee){var Ze=Ee[2].trim();if(/#$/.test(Ze)){var re=me(Ze,"#");(this.options.pedantic||!re||/ $/.test(re))&&(Ze=re.trim())}return{type:"heading",raw:Ee[0],depth:Ee[1].length,text:Ze,tokens:this.lexer.inline(Ze)}}},dt.hr=function(xe){var Ee=this.rules.block.hr.exec(xe);if(Ee)return{type:"hr",raw:Ee[0]}},dt.blockquote=function(xe){var Ee=this.rules.block.blockquote.exec(xe);if(Ee){var Ze=Ee[0].replace(/^ *>[ \t]?/gm,""),re=this.lexer.state.top;this.lexer.state.top=!0;var we=this.lexer.blockTokens(Ze);return this.lexer.state.top=re,{type:"blockquote",raw:Ee[0],tokens:we,text:Ze}}},dt.list=function(xe){var Ee=this.rules.block.list.exec(xe);if(Ee){var Ze,re,we,Ve,it,We,Ct,Ye,at,St,yt,Ft,pn=Ee[1].trim(),Cn=pn.length>1,vn={type:"list",raw:"",ordered:Cn,start:Cn?+pn.slice(0,-1):"",loose:!1,items:[]};pn=Cn?"\\d{1,9}\\"+pn.slice(-1):"\\"+pn,this.options.pedantic&&(pn=Cn?pn:"[*+-]");for(var $n=new RegExp("^( {0,3}"+pn+")((?:[	 ][^\\n]*)?(?:\\n|$))");xe&&(Ft=!1,!(!(Ee=$n.exec(xe))||this.rules.block.hr.test(xe)));){if(Ze=Ee[0],xe=xe.substring(Ze.length),Ye=Ee[2].split(`
`,1)[0].replace(/^\t+/,function(Jn){return" ".repeat(3*Jn.length)}),at=xe.split(`
`,1)[0],this.options.pedantic?(Ve=2,yt=Ye.trimLeft()):(Ve=Ee[2].search(/[^ ]/),Ve=Ve>4?1:Ve,yt=Ye.slice(Ve),Ve+=Ee[1].length),We=!1,!Ye&&/^ *$/.test(at)&&(Ze+=at+`
`,xe=xe.substring(at.length+1),Ft=!0),!Ft)for(var Yn=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),er=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Hn=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}(?:```|~~~)"),xr=new RegExp("^ {0,"+Math.min(3,Ve-1)+"}#");xe&&(St=xe.split(`
`,1)[0],at=St,this.options.pedantic&&(at=at.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Hn.test(at)||xr.test(at)||Yn.test(at)||er.test(xe)));){if(at.search(/[^ ]/)>=Ve||!at.trim())yt+=`
`+at.slice(Ve);else{if(We||Ye.search(/[^ ]/)>=4||Hn.test(Ye)||xr.test(Ye)||er.test(Ye))break;yt+=`
`+at}!We&&!at.trim()&&(We=!0),Ze+=St+`
`,xe=xe.substring(St.length+1),Ye=at.slice(Ve)}vn.loose||(Ct?vn.loose=!0:/\n *\n *$/.test(Ze)&&(Ct=!0)),this.options.gfm&&(re=/^\[[ xX]\] /.exec(yt),re&&(we=re[0]!=="[ ] ",yt=yt.replace(/^\[[ xX]\] +/,""))),vn.items.push({type:"list_item",raw:Ze,task:!!re,checked:we,loose:!1,text:yt}),vn.raw+=Ze}vn.items[vn.items.length-1].raw=Ze.trimRight(),vn.items[vn.items.length-1].text=yt.trimRight(),vn.raw=vn.raw.trimRight();var Br=vn.items.length;for(it=0;it<Br;it++)if(this.lexer.state.top=!1,vn.items[it].tokens=this.lexer.blockTokens(vn.items[it].text,[]),!vn.loose){var mr=vn.items[it].tokens.filter(function(Jn){return Jn.type==="space"}),Mi=mr.length>0&&mr.some(function(Jn){return/\n.*\n/.test(Jn.raw)});vn.loose=Mi}if(vn.loose)for(it=0;it<Br;it++)vn.items[it].loose=!0;return vn}},dt.html=function(xe){var Ee=this.rules.block.html.exec(xe);if(Ee){var Ze={type:"html",raw:Ee[0],pre:!this.options.sanitizer&&(Ee[1]==="pre"||Ee[1]==="script"||Ee[1]==="style"),text:Ee[0]};if(this.options.sanitize){var re=this.options.sanitizer?this.options.sanitizer(Ee[0]):O(Ee[0]);Ze.type="paragraph",Ze.text=re,Ze.tokens=this.lexer.inline(re)}return Ze}},dt.def=function(xe){var Ee=this.rules.block.def.exec(xe);if(Ee){var Ze=Ee[1].toLowerCase().replace(/\s+/g," "),re=Ee[2]?Ee[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",we=Ee[3]?Ee[3].substring(1,Ee[3].length-1).replace(this.rules.inline._escapes,"$1"):Ee[3];return{type:"def",tag:Ze,raw:Ee[0],href:re,title:we}}},dt.table=function(xe){var Ee=this.rules.block.table.exec(xe);if(Ee){var Ze={type:"table",header:ge(Ee[1]).map(function(Ct){return{text:Ct}}),align:Ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ee[3]&&Ee[3].trim()?Ee[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Ze.header.length===Ze.align.length){Ze.raw=Ee[0];var re=Ze.align.length,we,Ve,it,We;for(we=0;we<re;we++)/^ *-+: *$/.test(Ze.align[we])?Ze.align[we]="right":/^ *:-+: *$/.test(Ze.align[we])?Ze.align[we]="center":/^ *:-+ *$/.test(Ze.align[we])?Ze.align[we]="left":Ze.align[we]=null;for(re=Ze.rows.length,we=0;we<re;we++)Ze.rows[we]=ge(Ze.rows[we],Ze.header.length).map(function(Ct){return{text:Ct}});for(re=Ze.header.length,Ve=0;Ve<re;Ve++)Ze.header[Ve].tokens=this.lexer.inline(Ze.header[Ve].text);for(re=Ze.rows.length,Ve=0;Ve<re;Ve++)for(We=Ze.rows[Ve],it=0;it<We.length;it++)We[it].tokens=this.lexer.inline(We[it].text);return Ze}}},dt.lheading=function(xe){var Ee=this.rules.block.lheading.exec(xe);if(Ee)return{type:"heading",raw:Ee[0],depth:Ee[2].charAt(0)==="="?1:2,text:Ee[1],tokens:this.lexer.inline(Ee[1])}},dt.paragraph=function(xe){var Ee=this.rules.block.paragraph.exec(xe);if(Ee){var Ze=Ee[1].charAt(Ee[1].length-1)===`
`?Ee[1].slice(0,-1):Ee[1];return{type:"paragraph",raw:Ee[0],text:Ze,tokens:this.lexer.inline(Ze)}}},dt.text=function(xe){var Ee=this.rules.block.text.exec(xe);if(Ee)return{type:"text",raw:Ee[0],text:Ee[0],tokens:this.lexer.inline(Ee[0])}},dt.escape=function(xe){var Ee=this.rules.inline.escape.exec(xe);if(Ee)return{type:"escape",raw:Ee[0],text:O(Ee[1])}},dt.tag=function(xe){var Ee=this.rules.inline.tag.exec(xe);if(Ee)return!this.lexer.state.inLink&&/^<a /i.test(Ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ee[0]):O(Ee[0]):Ee[0]}},dt.link=function(xe){var Ee=this.rules.inline.link.exec(xe);if(Ee){var Ze=Ee[2].trim();if(!this.options.pedantic&&/^</.test(Ze)){if(!/>$/.test(Ze))return;var re=me(Ze.slice(0,-1),"\\");if((Ze.length-re.length)%2===0)return}else{var we=Ie(Ee[2],"()");if(we>-1){var Ve=Ee[0].indexOf("!")===0?5:4,it=Ve+Ee[1].length+we;Ee[2]=Ee[2].substring(0,we),Ee[0]=Ee[0].substring(0,it).trim(),Ee[3]=""}}var We=Ee[2],Ct="";if(this.options.pedantic){var Ye=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(We);Ye&&(We=Ye[1],Ct=Ye[3])}else Ct=Ee[3]?Ee[3].slice(1,-1):"";return We=We.trim(),/^</.test(We)&&(this.options.pedantic&&!/>$/.test(Ze)?We=We.slice(1):We=We.slice(1,-1)),ue(Ee,{href:We&&We.replace(this.rules.inline._escapes,"$1"),title:Ct&&Ct.replace(this.rules.inline._escapes,"$1")},Ee[0],this.lexer)}},dt.reflink=function(xe,Ee){var Ze;if((Ze=this.rules.inline.reflink.exec(xe))||(Ze=this.rules.inline.nolink.exec(xe))){var re=(Ze[2]||Ze[1]).replace(/\s+/g," ");if(re=Ee[re.toLowerCase()],!re){var we=Ze[0].charAt(0);return{type:"text",raw:we,text:we}}return ue(Ze,re,Ze[0],this.lexer)}},dt.emStrong=function(xe,Ee,Ze){Ze===void 0&&(Ze="");var re=this.rules.inline.emStrong.lDelim.exec(xe);if(re&&!(re[3]&&Ze.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var we=re[1]||re[2]||"";if(!we||we&&(Ze===""||this.rules.inline.punctuation.exec(Ze))){var Ve=re[0].length-1,it,We,Ct=Ve,Ye=0,at=re[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(at.lastIndex=0,Ee=Ee.slice(-1*xe.length+Ve);(re=at.exec(Ee))!=null;)if(it=re[1]||re[2]||re[3]||re[4]||re[5]||re[6],!!it){if(We=it.length,re[3]||re[4]){Ct+=We;continue}else if((re[5]||re[6])&&Ve%3&&!((Ve+We)%3)){Ye+=We;continue}if(Ct-=We,!(Ct>0)){We=Math.min(We,We+Ct+Ye);var St=xe.slice(0,Ve+re.index+(re[0].length-it.length)+We);if(Math.min(Ve,We)%2){var yt=St.slice(1,-1);return{type:"em",raw:St,text:yt,tokens:this.lexer.inlineTokens(yt)}}var Ft=St.slice(2,-2);return{type:"strong",raw:St,text:Ft,tokens:this.lexer.inlineTokens(Ft)}}}}}},dt.codespan=function(xe){var Ee=this.rules.inline.code.exec(xe);if(Ee){var Ze=Ee[2].replace(/\n/g," "),re=/[^ ]/.test(Ze),we=/^ /.test(Ze)&&/ $/.test(Ze);return re&&we&&(Ze=Ze.substring(1,Ze.length-1)),Ze=O(Ze,!0),{type:"codespan",raw:Ee[0],text:Ze}}},dt.br=function(xe){var Ee=this.rules.inline.br.exec(xe);if(Ee)return{type:"br",raw:Ee[0]}},dt.del=function(xe){var Ee=this.rules.inline.del.exec(xe);if(Ee)return{type:"del",raw:Ee[0],text:Ee[2],tokens:this.lexer.inlineTokens(Ee[2])}},dt.autolink=function(xe,Ee){var Ze=this.rules.inline.autolink.exec(xe);if(Ze){var re,we;return Ze[2]==="@"?(re=O(this.options.mangle?Ee(Ze[1]):Ze[1]),we="mailto:"+re):(re=O(Ze[1]),we=re),{type:"link",raw:Ze[0],text:re,href:we,tokens:[{type:"text",raw:re,text:re}]}}},dt.url=function(xe,Ee){var Ze;if(Ze=this.rules.inline.url.exec(xe)){var re,we;if(Ze[2]==="@")re=O(this.options.mangle?Ee(Ze[0]):Ze[0]),we="mailto:"+re;else{var Ve;do Ve=Ze[0],Ze[0]=this.rules.inline._backpedal.exec(Ze[0])[0];while(Ve!==Ze[0]);re=O(Ze[0]),Ze[1]==="www."?we="http://"+Ze[0]:we=Ze[0]}return{type:"link",raw:Ze[0],text:re,href:we,tokens:[{type:"text",raw:re,text:re}]}}},dt.inlineText=function(xe,Ee){var Ze=this.rules.inline.text.exec(xe);if(Ze){var re;return this.lexer.state.inRawBlock?re=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ze[0]):O(Ze[0]):Ze[0]:re=O(this.options.smartypants?Ee(Ze[0]):Ze[0]),{type:"text",raw:Ze[0],text:re}}},gt})(),Z={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ut,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Z._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Z._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Z.def=q(Z.def).replace("label",Z._label).replace("title",Z._title).getRegex(),Z.bullet=/(?:[*+-]|\d{1,9}[.)])/,Z.listItemStart=q(/^( *)(bull) */).replace("bull",Z.bullet).getRegex(),Z.list=q(Z.list).replace(/bull/g,Z.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Z.def.source+")").getRegex(),Z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Z._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Z.html=q(Z.html,"i").replace("comment",Z._comment).replace("tag",Z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Z.paragraph=q(Z._paragraph).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z._tag).getRegex(),Z.blockquote=q(Z.blockquote).replace("paragraph",Z.paragraph).getRegex(),Z.normal=r({},Z),Z.gfm=r({},Z.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Z.gfm.table=q(Z.gfm.table).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z._tag).getRegex(),Z.gfm.paragraph=q(Z._paragraph).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Z.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Z._tag).getRegex(),Z.pedantic=r({},Z.normal,{html:q(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ut,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:q(Z.normal._paragraph).replace("hr",Z.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Z.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var be={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ut,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ut,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};be._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",be.punctuation=q(be.punctuation).replace(/punctuation/g,be._punctuation).getRegex(),be.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,be.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,be._comment=q(Z._comment).replace("(?:-->|$)","-->").getRegex(),be.emStrong.lDelim=q(be.emStrong.lDelim).replace(/punct/g,be._punctuation).getRegex(),be.emStrong.rDelimAst=q(be.emStrong.rDelimAst,"g").replace(/punct/g,be._punctuation).getRegex(),be.emStrong.rDelimUnd=q(be.emStrong.rDelimUnd,"g").replace(/punct/g,be._punctuation).getRegex(),be._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,be._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,be._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,be.autolink=q(be.autolink).replace("scheme",be._scheme).replace("email",be._email).getRegex(),be._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,be.tag=q(be.tag).replace("comment",be._comment).replace("attribute",be._attribute).getRegex(),be._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,be._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,be._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,be.link=q(be.link).replace("label",be._label).replace("href",be._href).replace("title",be._title).getRegex(),be.reflink=q(be.reflink).replace("label",be._label).replace("ref",Z._label).getRegex(),be.nolink=q(be.nolink).replace("ref",Z._label).getRegex(),be.reflinkSearch=q(be.reflinkSearch,"g").replace("reflink",be.reflink).replace("nolink",be.nolink).getRegex(),be.normal=r({},be),be.pedantic=r({},be.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:q(/^!?\[(label)\]\((.*?)\)/).replace("label",be._label).getRegex(),reflink:q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",be._label).getRegex()}),be.gfm=r({},be.normal,{escape:q(be.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),be.gfm.url=q(be.gfm.url,"i").replace("email",be.gfm._extended_email).getRegex(),be.breaks=r({},be.gfm,{br:q(be.br).replace("{2,}","*").getRegex(),text:q(be.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Te(gt){return gt.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Fe(gt){var dt="",Pe,xe,Ee=gt.length;for(Pe=0;Pe<Ee;Pe++)xe=gt.charCodeAt(Pe),Math.random()>.5&&(xe="x"+xe.toString(16)),dt+="&#"+xe+";";return dt}var ct=(function(){function gt(Pe){this.tokens=[],this.tokens.links=Object.create(null),this.options=Pe||e.defaults,this.options.tokenizer=this.options.tokenizer||new oe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var xe={block:Z.normal,inline:be.normal};this.options.pedantic?(xe.block=Z.pedantic,xe.inline=be.pedantic):this.options.gfm&&(xe.block=Z.gfm,this.options.breaks?xe.inline=be.breaks:xe.inline=be.gfm),this.tokenizer.rules=xe}gt.lex=function(xe,Ee){var Ze=new gt(Ee);return Ze.lex(xe)},gt.lexInline=function(xe,Ee){var Ze=new gt(Ee);return Ze.inlineTokens(xe)};var dt=gt.prototype;return dt.lex=function(xe){xe=xe.replace(/\r\n|\r/g,`
`),this.blockTokens(xe,this.tokens);for(var Ee;Ee=this.inlineQueue.shift();)this.inlineTokens(Ee.src,Ee.tokens);return this.tokens},dt.blockTokens=function(xe,Ee){var Ze=this;Ee===void 0&&(Ee=[]),this.options.pedantic?xe=xe.replace(/\t/g,"    ").replace(/^ +$/gm,""):xe=xe.replace(/^( *)(\t+)/gm,function(Ct,Ye,at){return Ye+"    ".repeat(at.length)});for(var re,we,Ve,it;xe;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ct){return(re=Ct.call({lexer:Ze},xe,Ee))?(xe=xe.substring(re.raw.length),Ee.push(re),!0):!1}))){if(re=this.tokenizer.space(xe)){xe=xe.substring(re.raw.length),re.raw.length===1&&Ee.length>0?Ee[Ee.length-1].raw+=`
`:Ee.push(re);continue}if(re=this.tokenizer.code(xe)){xe=xe.substring(re.raw.length),we=Ee[Ee.length-1],we&&(we.type==="paragraph"||we.type==="text")?(we.raw+=`
`+re.raw,we.text+=`
`+re.text,this.inlineQueue[this.inlineQueue.length-1].src=we.text):Ee.push(re);continue}if(re=this.tokenizer.fences(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.heading(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.hr(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.blockquote(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.list(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.html(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.def(xe)){xe=xe.substring(re.raw.length),we=Ee[Ee.length-1],we&&(we.type==="paragraph"||we.type==="text")?(we.raw+=`
`+re.raw,we.text+=`
`+re.raw,this.inlineQueue[this.inlineQueue.length-1].src=we.text):this.tokens.links[re.tag]||(this.tokens.links[re.tag]={href:re.href,title:re.title});continue}if(re=this.tokenizer.table(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.lheading(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(Ve=xe,this.options.extensions&&this.options.extensions.startBlock&&(function(){var Ct=1/0,Ye=xe.slice(1),at=void 0;Ze.options.extensions.startBlock.forEach(function(St){at=St.call({lexer:this},Ye),typeof at=="number"&&at>=0&&(Ct=Math.min(Ct,at))}),Ct<1/0&&Ct>=0&&(Ve=xe.substring(0,Ct+1))})(),this.state.top&&(re=this.tokenizer.paragraph(Ve))){we=Ee[Ee.length-1],it&&we.type==="paragraph"?(we.raw+=`
`+re.raw,we.text+=`
`+re.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=we.text):Ee.push(re),it=Ve.length!==xe.length,xe=xe.substring(re.raw.length);continue}if(re=this.tokenizer.text(xe)){xe=xe.substring(re.raw.length),we=Ee[Ee.length-1],we&&we.type==="text"?(we.raw+=`
`+re.raw,we.text+=`
`+re.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=we.text):Ee.push(re);continue}if(xe){var We="Infinite loop on byte: "+xe.charCodeAt(0);if(this.options.silent){console.error(We);break}else throw new Error(We)}}return this.state.top=!0,Ee},dt.inline=function(xe,Ee){return Ee===void 0&&(Ee=[]),this.inlineQueue.push({src:xe,tokens:Ee}),Ee},dt.inlineTokens=function(xe,Ee){var Ze=this;Ee===void 0&&(Ee=[]);var re,we,Ve,it=xe,We,Ct,Ye;if(this.tokens.links){var at=Object.keys(this.tokens.links);if(at.length>0)for(;(We=this.tokenizer.rules.inline.reflinkSearch.exec(it))!=null;)at.includes(We[0].slice(We[0].lastIndexOf("[")+1,-1))&&(it=it.slice(0,We.index)+"["+Me("a",We[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(We=this.tokenizer.rules.inline.blockSkip.exec(it))!=null;)it=it.slice(0,We.index)+"["+Me("a",We[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(We=this.tokenizer.rules.inline.escapedEmSt.exec(it))!=null;)it=it.slice(0,We.index+We[0].length-2)+"++"+it.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;xe;)if(Ct||(Ye=""),Ct=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(yt){return(re=yt.call({lexer:Ze},xe,Ee))?(xe=xe.substring(re.raw.length),Ee.push(re),!0):!1}))){if(re=this.tokenizer.escape(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.tag(xe)){xe=xe.substring(re.raw.length),we=Ee[Ee.length-1],we&&re.type==="text"&&we.type==="text"?(we.raw+=re.raw,we.text+=re.text):Ee.push(re);continue}if(re=this.tokenizer.link(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.reflink(xe,this.tokens.links)){xe=xe.substring(re.raw.length),we=Ee[Ee.length-1],we&&re.type==="text"&&we.type==="text"?(we.raw+=re.raw,we.text+=re.text):Ee.push(re);continue}if(re=this.tokenizer.emStrong(xe,it,Ye)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.codespan(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.br(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.del(xe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(re=this.tokenizer.autolink(xe,Fe)){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(!this.state.inLink&&(re=this.tokenizer.url(xe,Fe))){xe=xe.substring(re.raw.length),Ee.push(re);continue}if(Ve=xe,this.options.extensions&&this.options.extensions.startInline&&(function(){var yt=1/0,Ft=xe.slice(1),pn=void 0;Ze.options.extensions.startInline.forEach(function(Cn){pn=Cn.call({lexer:this},Ft),typeof pn=="number"&&pn>=0&&(yt=Math.min(yt,pn))}),yt<1/0&&yt>=0&&(Ve=xe.substring(0,yt+1))})(),re=this.tokenizer.inlineText(Ve,Te)){xe=xe.substring(re.raw.length),re.raw.slice(-1)!=="_"&&(Ye=re.raw.slice(-1)),Ct=!0,we=Ee[Ee.length-1],we&&we.type==="text"?(we.raw+=re.raw,we.text+=re.text):Ee.push(re);continue}if(xe){var St="Infinite loop on byte: "+xe.charCodeAt(0);if(this.options.silent){console.error(St);break}else throw new Error(St)}}return Ee},n(gt,null,[{key:"rules",get:function(){return{block:Z,inline:be}}}]),gt})(),At=(function(){function gt(Pe){this.options=Pe||e.defaults}var dt=gt.prototype;return dt.code=function(xe,Ee,Ze){var re=(Ee||"").match(/\S*/)[0];if(this.options.highlight){var we=this.options.highlight(xe,re);we!=null&&we!==xe&&(Ze=!0,xe=we)}return xe=xe.replace(/\n$/,"")+`
`,re?'<pre><code class="'+this.options.langPrefix+O(re)+'">'+(Ze?xe:O(xe,!0))+`</code></pre>
`:"<pre><code>"+(Ze?xe:O(xe,!0))+`</code></pre>
`},dt.blockquote=function(xe){return`<blockquote>
`+xe+`</blockquote>
`},dt.html=function(xe){return xe},dt.heading=function(xe,Ee,Ze,re){if(this.options.headerIds){var we=this.options.headerPrefix+re.slug(Ze);return"<h"+Ee+' id="'+we+'">'+xe+"</h"+Ee+`>
`}return"<h"+Ee+">"+xe+"</h"+Ee+`>
`},dt.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},dt.list=function(xe,Ee,Ze){var re=Ee?"ol":"ul",we=Ee&&Ze!==1?' start="'+Ze+'"':"";return"<"+re+we+`>
`+xe+"</"+re+`>
`},dt.listitem=function(xe){return"<li>"+xe+`</li>
`},dt.checkbox=function(xe){return"<input "+(xe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},dt.paragraph=function(xe){return"<p>"+xe+`</p>
`},dt.table=function(xe,Ee){return Ee&&(Ee="<tbody>"+Ee+"</tbody>"),`<table>
<thead>
`+xe+`</thead>
`+Ee+`</table>
`},dt.tablerow=function(xe){return`<tr>
`+xe+`</tr>
`},dt.tablecell=function(xe,Ee){var Ze=Ee.header?"th":"td",re=Ee.align?"<"+Ze+' align="'+Ee.align+'">':"<"+Ze+">";return re+xe+("</"+Ze+`>
`)},dt.strong=function(xe){return"<strong>"+xe+"</strong>"},dt.em=function(xe){return"<em>"+xe+"</em>"},dt.codespan=function(xe){return"<code>"+xe+"</code>"},dt.br=function(){return this.options.xhtml?"<br/>":"<br>"},dt.del=function(xe){return"<del>"+xe+"</del>"},dt.link=function(xe,Ee,Ze){if(xe=ve(this.options.sanitize,this.options.baseUrl,xe),xe===null)return Ze;var re='<a href="'+xe+'"';return Ee&&(re+=' title="'+Ee+'"'),re+=">"+Ze+"</a>",re},dt.image=function(xe,Ee,Ze){if(xe=ve(this.options.sanitize,this.options.baseUrl,xe),xe===null)return Ze;var re='<img src="'+xe+'" alt="'+Ze+'"';return Ee&&(re+=' title="'+Ee+'"'),re+=this.options.xhtml?"/>":">",re},dt.text=function(xe){return xe},gt})(),rt=(function(){function gt(){}var dt=gt.prototype;return dt.strong=function(xe){return xe},dt.em=function(xe){return xe},dt.codespan=function(xe){return xe},dt.del=function(xe){return xe},dt.html=function(xe){return xe},dt.text=function(xe){return xe},dt.link=function(xe,Ee,Ze){return""+Ze},dt.image=function(xe,Ee,Ze){return""+Ze},dt.br=function(){return""},gt})(),jt=(function(){function gt(){this.seen={}}var dt=gt.prototype;return dt.serialize=function(xe){return xe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},dt.getNextSafeSlug=function(xe,Ee){var Ze=xe,re=0;if(this.seen.hasOwnProperty(Ze)){re=this.seen[xe];do re++,Ze=xe+"-"+re;while(this.seen.hasOwnProperty(Ze))}return Ee||(this.seen[xe]=re,this.seen[Ze]=0),Ze},dt.slug=function(xe,Ee){Ee===void 0&&(Ee={});var Ze=this.serialize(xe);return this.getNextSafeSlug(Ze,Ee.dryrun)},gt})(),_t=(function(){function gt(Pe){this.options=Pe||e.defaults,this.options.renderer=this.options.renderer||new At,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new rt,this.slugger=new jt}gt.parse=function(xe,Ee){var Ze=new gt(Ee);return Ze.parse(xe)},gt.parseInline=function(xe,Ee){var Ze=new gt(Ee);return Ze.parseInline(xe)};var dt=gt.prototype;return dt.parse=function(xe,Ee){Ee===void 0&&(Ee=!0);var Ze="",re,we,Ve,it,We,Ct,Ye,at,St,yt,Ft,pn,Cn,vn,$n,Yn,er,Hn,xr,Br=xe.length;for(re=0;re<Br;re++){if(yt=xe[re],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[yt.type]&&(xr=this.options.extensions.renderers[yt.type].call({parser:this},yt),xr!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(yt.type))){Ze+=xr||"";continue}switch(yt.type){case"space":continue;case"hr":{Ze+=this.renderer.hr();continue}case"heading":{Ze+=this.renderer.heading(this.parseInline(yt.tokens),yt.depth,U(this.parseInline(yt.tokens,this.textRenderer)),this.slugger);continue}case"code":{Ze+=this.renderer.code(yt.text,yt.lang,yt.escaped);continue}case"table":{for(at="",Ye="",it=yt.header.length,we=0;we<it;we++)Ye+=this.renderer.tablecell(this.parseInline(yt.header[we].tokens),{header:!0,align:yt.align[we]});for(at+=this.renderer.tablerow(Ye),St="",it=yt.rows.length,we=0;we<it;we++){for(Ct=yt.rows[we],Ye="",We=Ct.length,Ve=0;Ve<We;Ve++)Ye+=this.renderer.tablecell(this.parseInline(Ct[Ve].tokens),{header:!1,align:yt.align[Ve]});St+=this.renderer.tablerow(Ye)}Ze+=this.renderer.table(at,St);continue}case"blockquote":{St=this.parse(yt.tokens),Ze+=this.renderer.blockquote(St);continue}case"list":{for(Ft=yt.ordered,pn=yt.start,Cn=yt.loose,it=yt.items.length,St="",we=0;we<it;we++)$n=yt.items[we],Yn=$n.checked,er=$n.task,vn="",$n.task&&(Hn=this.renderer.checkbox(Yn),Cn?$n.tokens.length>0&&$n.tokens[0].type==="paragraph"?($n.tokens[0].text=Hn+" "+$n.tokens[0].text,$n.tokens[0].tokens&&$n.tokens[0].tokens.length>0&&$n.tokens[0].tokens[0].type==="text"&&($n.tokens[0].tokens[0].text=Hn+" "+$n.tokens[0].tokens[0].text)):$n.tokens.unshift({type:"text",text:Hn}):vn+=Hn),vn+=this.parse($n.tokens,Cn),St+=this.renderer.listitem(vn,er,Yn);Ze+=this.renderer.list(St,Ft,pn);continue}case"html":{Ze+=this.renderer.html(yt.text);continue}case"paragraph":{Ze+=this.renderer.paragraph(this.parseInline(yt.tokens));continue}case"text":{for(St=yt.tokens?this.parseInline(yt.tokens):yt.text;re+1<Br&&xe[re+1].type==="text";)yt=xe[++re],St+=`
`+(yt.tokens?this.parseInline(yt.tokens):yt.text);Ze+=Ee?this.renderer.paragraph(St):St;continue}default:{var mr='Token with "'+yt.type+'" type was not found.';if(this.options.silent){console.error(mr);return}else throw new Error(mr)}}}return Ze},dt.parseInline=function(xe,Ee){Ee=Ee||this.renderer;var Ze="",re,we,Ve,it=xe.length;for(re=0;re<it;re++){if(we=xe[re],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[we.type]&&(Ve=this.options.extensions.renderers[we.type].call({parser:this},we),Ve!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(we.type))){Ze+=Ve||"";continue}switch(we.type){case"escape":{Ze+=Ee.text(we.text);break}case"html":{Ze+=Ee.html(we.text);break}case"link":{Ze+=Ee.link(we.href,we.title,this.parseInline(we.tokens,Ee));break}case"image":{Ze+=Ee.image(we.href,we.title,we.text);break}case"strong":{Ze+=Ee.strong(this.parseInline(we.tokens,Ee));break}case"em":{Ze+=Ee.em(this.parseInline(we.tokens,Ee));break}case"codespan":{Ze+=Ee.codespan(we.text);break}case"br":{Ze+=Ee.br();break}case"del":{Ze+=Ee.del(this.parseInline(we.tokens,Ee));break}case"text":{Ze+=Ee.text(we.text);break}default:{var We='Token with "'+we.type+'" type was not found.';if(this.options.silent){console.error(We);return}else throw new Error(We)}}}return Ze},gt})(),Wt=(function(){function gt(Pe){this.options=Pe||e.defaults}var dt=gt.prototype;return dt.preprocess=function(xe){return xe},dt.postprocess=function(xe){return xe},gt})();Wt.passThroughHooks=new Set(["preprocess","postprocess"]);function ft(gt,dt,Pe){return function(xe){if(xe.message+=`
Please report this to https://github.com/markedjs/marked.`,gt){var Ee="<p>An error occurred:</p><pre>"+O(xe.message+"",!0)+"</pre>";if(dt)return Promise.resolve(Ee);if(Pe){Pe(null,Ee);return}return Ee}if(dt)return Promise.reject(xe);if(Pe){Pe(xe);return}throw xe}}function kt(gt,dt){return function(Pe,xe,Ee){typeof xe=="function"&&(Ee=xe,xe=null);var Ze=r({},xe);xe=r({},Dt.defaults,Ze);var re=ft(xe.silent,xe.async,Ee);if(typeof Pe>"u"||Pe===null)return re(new Error("marked(): input parameter is undefined or null"));if(typeof Pe!="string")return re(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected"));if(lt(xe),xe.hooks&&(xe.hooks.options=xe),Ee){var we=xe.highlight,Ve;try{xe.hooks&&(Pe=xe.hooks.preprocess(Pe)),Ve=gt(Pe,xe)}catch(at){return re(at)}var it=function(St){var yt;if(!St)try{xe.walkTokens&&Dt.walkTokens(Ve,xe.walkTokens),yt=dt(Ve,xe),xe.hooks&&(yt=xe.hooks.postprocess(yt))}catch(Ft){St=Ft}return xe.highlight=we,St?re(St):Ee(null,yt)};if(!we||we.length<3||(delete xe.highlight,!Ve.length))return it();var We=0;Dt.walkTokens(Ve,function(at){at.type==="code"&&(We++,setTimeout(function(){we(at.text,at.lang,function(St,yt){if(St)return it(St);yt!=null&&yt!==at.text&&(at.text=yt,at.escaped=!0),We--,We===0&&it()})},0))}),We===0&&it();return}if(xe.async)return Promise.resolve(xe.hooks?xe.hooks.preprocess(Pe):Pe).then(function(at){return gt(at,xe)}).then(function(at){return xe.walkTokens?Promise.all(Dt.walkTokens(at,xe.walkTokens)).then(function(){return at}):at}).then(function(at){return dt(at,xe)}).then(function(at){return xe.hooks?xe.hooks.postprocess(at):at}).catch(re);try{xe.hooks&&(Pe=xe.hooks.preprocess(Pe));var Ct=gt(Pe,xe);xe.walkTokens&&Dt.walkTokens(Ct,xe.walkTokens);var Ye=dt(Ct,xe);return xe.hooks&&(Ye=xe.hooks.postprocess(Ye)),Ye}catch(at){return re(at)}}}function Dt(gt,dt,Pe){return kt(ct.lex,_t.parse)(gt,dt,Pe)}Dt.options=Dt.setOptions=function(gt){return Dt.defaults=r({},Dt.defaults,gt),v(Dt.defaults),Dt},Dt.getDefaults=u,Dt.defaults=e.defaults,Dt.use=function(){for(var gt=Dt.defaults.extensions||{renderers:{},childTokens:{}},dt=arguments.length,Pe=new Array(dt),xe=0;xe<dt;xe++)Pe[xe]=arguments[xe];Pe.forEach(function(Ee){var Ze=r({},Ee);if(Ze.async=Dt.defaults.async||Ze.async||!1,Ee.extensions&&(Ee.extensions.forEach(function(we){if(!we.name)throw new Error("extension name required");if(we.renderer){var Ve=gt.renderers[we.name];Ve?gt.renderers[we.name]=function(){for(var it=arguments.length,We=new Array(it),Ct=0;Ct<it;Ct++)We[Ct]=arguments[Ct];var Ye=we.renderer.apply(this,We);return Ye===!1&&(Ye=Ve.apply(this,We)),Ye}:gt.renderers[we.name]=we.renderer}if(we.tokenizer){if(!we.level||we.level!=="block"&&we.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");gt[we.level]?gt[we.level].unshift(we.tokenizer):gt[we.level]=[we.tokenizer],we.start&&(we.level==="block"?gt.startBlock?gt.startBlock.push(we.start):gt.startBlock=[we.start]:we.level==="inline"&&(gt.startInline?gt.startInline.push(we.start):gt.startInline=[we.start]))}we.childTokens&&(gt.childTokens[we.name]=we.childTokens)}),Ze.extensions=gt),Ee.renderer&&(function(){var we=Dt.defaults.renderer||new At,Ve=function(Ct){var Ye=we[Ct];we[Ct]=function(){for(var at=arguments.length,St=new Array(at),yt=0;yt<at;yt++)St[yt]=arguments[yt];var Ft=Ee.renderer[Ct].apply(we,St);return Ft===!1&&(Ft=Ye.apply(we,St)),Ft}};for(var it in Ee.renderer)Ve(it);Ze.renderer=we})(),Ee.tokenizer&&(function(){var we=Dt.defaults.tokenizer||new oe,Ve=function(Ct){var Ye=we[Ct];we[Ct]=function(){for(var at=arguments.length,St=new Array(at),yt=0;yt<at;yt++)St[yt]=arguments[yt];var Ft=Ee.tokenizer[Ct].apply(we,St);return Ft===!1&&(Ft=Ye.apply(we,St)),Ft}};for(var it in Ee.tokenizer)Ve(it);Ze.tokenizer=we})(),Ee.hooks&&(function(){var we=Dt.defaults.hooks||new Wt,Ve=function(Ct){var Ye=we[Ct];Wt.passThroughHooks.has(Ct)?we[Ct]=function(at){if(Dt.defaults.async)return Promise.resolve(Ee.hooks[Ct].call(we,at)).then(function(yt){return Ye.call(we,yt)});var St=Ee.hooks[Ct].call(we,at);return Ye.call(we,St)}:we[Ct]=function(){for(var at=arguments.length,St=new Array(at),yt=0;yt<at;yt++)St[yt]=arguments[yt];var Ft=Ee.hooks[Ct].apply(we,St);return Ft===!1&&(Ft=Ye.apply(we,St)),Ft}};for(var it in Ee.hooks)Ve(it);Ze.hooks=we})(),Ee.walkTokens){var re=Dt.defaults.walkTokens;Ze.walkTokens=function(we){var Ve=[];return Ve.push(Ee.walkTokens.call(this,we)),re&&(Ve=Ve.concat(re.call(this,we))),Ve}}Dt.setOptions(Ze)})},Dt.walkTokens=function(gt,dt){for(var Pe=[],xe=function(){var we=Ze.value;switch(Pe=Pe.concat(dt.call(Dt,we)),we.type){case"table":{for(var Ve=y(we.header),it;!(it=Ve()).done;){var We=it.value;Pe=Pe.concat(Dt.walkTokens(We.tokens,dt))}for(var Ct=y(we.rows),Ye;!(Ye=Ct()).done;)for(var at=Ye.value,St=y(at),yt;!(yt=St()).done;){var Ft=yt.value;Pe=Pe.concat(Dt.walkTokens(Ft.tokens,dt))}break}case"list":{Pe=Pe.concat(Dt.walkTokens(we.items,dt));break}default:Dt.defaults.extensions&&Dt.defaults.extensions.childTokens&&Dt.defaults.extensions.childTokens[we.type]?Dt.defaults.extensions.childTokens[we.type].forEach(function(pn){Pe=Pe.concat(Dt.walkTokens(we[pn],dt))}):we.tokens&&(Pe=Pe.concat(Dt.walkTokens(we.tokens,dt)))}},Ee=y(gt),Ze;!(Ze=Ee()).done;)xe();return Pe},Dt.parseInline=kt(ct.lexInline,_t.parseInline),Dt.Parser=_t,Dt.parser=_t.parse,Dt.Renderer=At,Dt.TextRenderer=rt,Dt.Lexer=ct,Dt.lexer=ct.lex,Dt.Tokenizer=oe,Dt.Slugger=jt,Dt.Hooks=Wt,Dt.parse=Dt;var tn=Dt.options,zt=Dt.setOptions,Ut=Dt.use,Kt=Dt.walkTokens,un=Dt.parseInline,Xt=Dt,Zt=_t.parse,Bn=ct.lex;e.Hooks=Wt,e.Lexer=ct,e.Parser=_t,e.Renderer=At,e.Slugger=jt,e.TextRenderer=rt,e.Tokenizer=oe,e.getDefaults=u,e.lexer=Bn,e.marked=Dt,e.options=tn,e.parse=Xt,e.parseInline=un,e.parser=Zt,e.setOptions=zt,e.use=Ut,e.walkTokens=Kt})(e2)),e2}var t2,d5;function dP(){if(d5)return t2;d5=1;var e=vc();JF(),$F(),eP(),w7(),C7(),nP(),rP(),iP(),aP(),oP(),b7();var t=fP(),n=hP().marked,r=/Mac/.test(navigator.platform),o=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),c={toggleBold:U,toggleItalic:W,drawLink:Me,toggleHeadingSmaller:ve,toggleHeadingBigger:Se,drawImage:ue,toggleBlockquote:ne,toggleOrderedList:Ie,toggleUnorderedList:me,toggleCodeBlock:J,togglePreview:rt,toggleStrikethrough:q,toggleHeading1:Be,toggleHeading2:Ue,toggleHeading3:qe,toggleHeading4:mt,toggleHeading5:ut,toggleHeading6:ge,cleanBlock:lt,drawTable:be,drawHorizontalRule:Te,undo:Fe,redo:ct,toggleSideBySide:At,toggleFullScreen:N},y={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},d=function(re){for(var we in c)if(c[we]===re)return we;return null},a=function(){var re=!1;return(function(we){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(we)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(we.substr(0,4)))&&(re=!0)})(navigator.userAgent||navigator.vendor||window.opera),re};function u(re){for(var we;(we=o.exec(re))!==null;){var Ve=we[0];if(Ve.indexOf("target=")===-1){var it=Ve.replace(/>$/,' target="_blank">');re=re.replace(Ve,it)}}return re}function v(re){for(var we=new DOMParser,Ve=we.parseFromString(re,"text/html"),it=Ve.getElementsByTagName("li"),We=0;We<it.length;We++)for(var Ct=it[We],Ye=0;Ye<Ct.children.length;Ye++){var at=Ct.children[Ye];at instanceof HTMLInputElement&&at.type==="checkbox"&&(Ct.style.marginLeft="-1.5em",Ct.style.listStyleType="none")}return Ve.documentElement.innerHTML}function f(re){return r?re=re.replace("Ctrl","Cmd"):re=re.replace("Cmd","Ctrl"),re}function g(re,we,Ve,it){var We=m(re,!1,we,Ve,"button",it);We.classList.add("easymde-dropdown"),We.onclick=function(){We.focus()};var Ct=document.createElement("div");Ct.className="easymde-dropdown-content";for(var Ye=0;Ye<re.children.length;Ye++){var at=re.children[Ye],St;typeof at=="string"&&at in Xt?St=m(Xt[at],!0,we,Ve,"button",it):St=m(at,!0,we,Ve,"button",it),St.addEventListener("click",function(yt){yt.stopPropagation()},!1),Ct.appendChild(St)}return We.appendChild(Ct),We}function m(re,we,Ve,it,We,Ct){re=re||{};var Ye=document.createElement(We);if(re.attributes)for(var at in re.attributes)Object.prototype.hasOwnProperty.call(re.attributes,at)&&Ye.setAttribute(at,re.attributes[at]);var St=Ct.options.toolbarButtonClassPrefix?Ct.options.toolbarButtonClassPrefix+"-":"";Ye.className=St+re.name,Ye.setAttribute("type",We),Ve=Ve??!0,re.text&&(Ye.innerText=re.text),re.name&&re.name in it&&(c[re.name]=re.action),re.title&&Ve&&(Ye.title=D(re.title,re.action,it),r&&(Ye.title=Ye.title.replace("Ctrl",""),Ye.title=Ye.title.replace("Alt",""))),re.title&&Ye.setAttribute("aria-label",re.title),re.noDisable&&Ye.classList.add("no-disable"),re.noMobile&&Ye.classList.add("no-mobile");var yt=[];typeof re.className<"u"&&(yt=re.className.split(" "));for(var Ft=[],pn=0;pn<yt.length;pn++){var Cn=yt[pn];Cn.match(/^fa([srlb]|(-[\w-]*)|$)/)?Ft.push(Cn):Ye.classList.add(Cn)}if(Ye.tabIndex=-1,Ft.length>0){for(var vn=document.createElement("i"),$n=0;$n<Ft.length;$n++){var Yn=Ft[$n];vn.classList.add(Yn)}Ye.appendChild(vn)}return typeof re.icon<"u"&&(Ye.innerHTML=re.icon),re.action&&we&&(typeof re.action=="function"?Ye.onclick=function(er){er.preventDefault(),re.action(Ct)}:typeof re.action=="string"&&(Ye.onclick=function(er){er.preventDefault(),window.open(re.action,"_blank")})),Ye}function C(){var re=document.createElement("i");return re.className="separator",re.innerHTML="|",re}function D(re,we,Ve){var it,We=re;return we&&(it=d(we),Ve[it]&&(We+=" ("+f(Ve[it])+")")),We}function S(re,we){we=we||re.getCursor("start");var Ve=re.getTokenAt(we);if(!Ve.type)return{};for(var it=Ve.type.split(" "),We={},Ct,Ye,at=0;at<it.length;at++)Ct=it[at],Ct==="strong"?We.bold=!0:Ct==="variable-2"?(Ye=re.getLine(we.line),/^\s*\d+\.\s/.test(Ye)?We["ordered-list"]=!0:We["unordered-list"]=!0):Ct==="atom"?We.quote=!0:Ct==="em"?We.italic=!0:Ct==="quote"?We.quote=!0:Ct==="strikethrough"?We.strikethrough=!0:Ct==="comment"?We.code=!0:Ct==="link"&&!We.image?We.link=!0:Ct==="image"?We.image=!0:Ct.match(/^header(-[1-6])?$/)&&(We[Ct.replace("header","heading")]=!0);return We}var O="";function N(re){var we=re.codemirror;we.setOption("fullScreen",!we.getOption("fullScreen")),we.getOption("fullScreen")?(O=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=O;var Ve=we.getWrapperElement(),it=Ve.nextSibling;if(it.classList.contains("editor-preview-active-side"))if(re.options.sideBySideFullscreen===!1){var We=Ve.parentNode;we.getOption("fullScreen")?We.classList.remove("sided--no-fullscreen"):We.classList.add("sided--no-fullscreen")}else At(re);if(re.options.onToggleFullScreen&&re.options.onToggleFullScreen(we.getOption("fullScreen")||!1),typeof re.options.maxHeight<"u"&&(we.getOption("fullScreen")?(we.getScrollerElement().style.removeProperty("height"),it.style.removeProperty("height")):(we.getScrollerElement().style.height=re.options.maxHeight,re.setPreviewMaxHeight())),re.toolbar_div.classList.toggle("fullscreen"),re.toolbarElements&&re.toolbarElements.fullscreen){var Ct=re.toolbarElements.fullscreen;Ct.classList.toggle("active")}}function U(re){kt(re,"bold",re.options.blockStyles.bold)}function W(re){kt(re,"italic",re.options.blockStyles.italic)}function q(re){kt(re,"strikethrough","~~")}function J(re){var we=re.options.blockStyles.code;function Ve(ar){if(typeof ar!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof ar+": "+ar;return ar.styles&&ar.styles[2]&&ar.styles[2].indexOf("formatting-code-block")!==-1}function it(ar){return ar.state.base.base||ar.state.base}function We(ar,fi,yi,xi,Tr){yi=yi||ar.getLineHandle(fi),xi=xi||ar.getTokenAt({line:fi,ch:1}),Tr=Tr||!!yi.text&&ar.getTokenAt({line:fi,ch:yi.text.length-1});var zr=xi.type?xi.type.split(" "):[];return Tr&&it(Tr).indentedCode?"indented":zr.indexOf("comment")===-1?!1:it(xi).fencedChars||it(Tr).fencedChars||Ve(yi)?"fenced":"single"}function Ct(ar,fi,yi,xi){var Tr=fi.line+1,zr=yi.line+1,gr=fi.line!==yi.line,aa=xi+`
`,Hr=`
`+xi;gr&&zr++,gr&&yi.ch===0&&(Hr=xi+`
`,zr--),jt(ar,!1,[aa,Hr]),ar.setSelection({line:Tr,ch:0},{line:zr,ch:0})}var Ye=re.codemirror,at=Ye.getCursor("start"),St=Ye.getCursor("end"),yt=Ye.getTokenAt({line:at.line,ch:at.ch||1}),Ft=Ye.getLineHandle(at.line),pn=We(Ye,at.line,Ft,yt),Cn,vn,$n;if(pn==="single"){var Yn=Ft.text.slice(0,at.ch).replace("`",""),er=Ft.text.slice(at.ch).replace("`","");Ye.replaceRange(Yn+er,{line:at.line,ch:0},{line:at.line,ch:99999999999999}),at.ch--,at!==St&&St.ch--,Ye.setSelection(at,St),Ye.focus()}else if(pn==="fenced")if(at.line!==St.line||at.ch!==St.ch){for(Cn=at.line;Cn>=0&&(Ft=Ye.getLineHandle(Cn),!Ve(Ft));Cn--);var Hn=Ye.getTokenAt({line:Cn,ch:1}),xr=it(Hn).fencedChars,Br,mr,Mi,Jn;Ve(Ye.getLineHandle(at.line))?(Br="",mr=at.line):Ve(Ye.getLineHandle(at.line-1))?(Br="",mr=at.line-1):(Br=xr+`
`,mr=at.line),Ve(Ye.getLineHandle(St.line))?(Mi="",Jn=St.line,St.ch===0&&(Jn+=1)):St.ch!==0&&Ve(Ye.getLineHandle(St.line+1))?(Mi="",Jn=St.line+1):(Mi=xr+`
`,Jn=St.line+1),St.ch===0&&(Jn-=1),Ye.operation(function(){Ye.replaceRange(Mi,{line:Jn,ch:0},{line:Jn+(Mi?0:1),ch:0}),Ye.replaceRange(Br,{line:mr,ch:0},{line:mr+(Br?0:1),ch:0})}),Ye.setSelection({line:mr+(Br?1:0),ch:0},{line:Jn+(Br?1:-1),ch:0}),Ye.focus()}else{var Fr=at.line;if(Ve(Ye.getLineHandle(at.line))&&(We(Ye,at.line+1)==="fenced"?(Cn=at.line,Fr=at.line+1):(vn=at.line,Fr=at.line-1)),Cn===void 0)for(Cn=Fr;Cn>=0&&(Ft=Ye.getLineHandle(Cn),!Ve(Ft));Cn--);if(vn===void 0)for($n=Ye.lineCount(),vn=Fr;vn<$n&&(Ft=Ye.getLineHandle(vn),!Ve(Ft));vn++);Ye.operation(function(){Ye.replaceRange("",{line:Cn,ch:0},{line:Cn+1,ch:0}),Ye.replaceRange("",{line:vn-1,ch:0},{line:vn,ch:0})}),Ye.focus()}else if(pn==="indented"){if(at.line!==St.line||at.ch!==St.ch)Cn=at.line,vn=St.line,St.ch===0&&vn--;else{for(Cn=at.line;Cn>=0;Cn--)if(Ft=Ye.getLineHandle(Cn),!Ft.text.match(/^\s*$/)&&We(Ye,Cn,Ft)!=="indented"){Cn+=1;break}for($n=Ye.lineCount(),vn=at.line;vn<$n;vn++)if(Ft=Ye.getLineHandle(vn),!Ft.text.match(/^\s*$/)&&We(Ye,vn,Ft)!=="indented"){vn-=1;break}}var si=Ye.getLineHandle(vn+1),Yr=si&&Ye.getTokenAt({line:vn+1,ch:si.text.length-1}),vi=Yr&&it(Yr).indentedCode;vi&&Ye.replaceRange(`
`,{line:vn+1,ch:0});for(var Sn=Cn;Sn<=vn;Sn++)Ye.indentLine(Sn,"subtract");Ye.focus()}else{var vr=at.line===St.line&&at.ch===St.ch&&at.ch===0,Pr=at.line!==St.line;vr||Pr?Ct(Ye,at,St,we):jt(Ye,!1,["`","`"])}}function ne(re){Wt(re.codemirror,"quote")}function ve(re){_t(re.codemirror,"smaller")}function Se(re){_t(re.codemirror,"bigger")}function Be(re){_t(re.codemirror,void 0,1)}function Ue(re){_t(re.codemirror,void 0,2)}function qe(re){_t(re.codemirror,void 0,3)}function mt(re){_t(re.codemirror,void 0,4)}function ut(re){_t(re.codemirror,void 0,5)}function ge(re){_t(re.codemirror,void 0,6)}function me(re){var we=re.codemirror,Ve="*";["-","+","*"].includes(re.options.unorderedListStyle)&&(Ve=re.options.unorderedListStyle),Wt(we,"unordered-list",Ve)}function Ie(re){Wt(re.codemirror,"ordered-list")}function lt(re){Dt(re.codemirror)}function Me(re){var we=re.options,Ve="https://";if(we.promptURLs){var it=prompt(we.promptTexts.link,Ve);if(!it)return!1;Ve=ce(it)}ft(re,"link",we.insertTexts.link,Ve)}function ue(re){var we=re.options,Ve="https://";if(we.promptURLs){var it=prompt(we.promptTexts.image,Ve);if(!it)return!1;Ve=ce(it)}ft(re,"image",we.insertTexts.image,Ve)}function ce(re){return encodeURI(re).replace(/([\\()])/g,"\\$1")}function oe(re){re.openBrowseFileWindow()}function Z(re,we){var Ve=re.codemirror,it=S(Ve),We=re.options,Ct=we.substr(we.lastIndexOf("/")+1),Ye=Ct.substring(Ct.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(Ye))jt(Ve,it.image,We.insertTexts.uploadedImage,we);else{var at=We.insertTexts.link;at[0]="["+Ct,jt(Ve,it.link,at,we)}re.updateStatusBar("upload-image",re.options.imageTexts.sbOnUploaded.replace("#image_name#",Ct)),setTimeout(function(){re.updateStatusBar("upload-image",re.options.imageTexts.sbInit)},1e3)}function be(re){var we=re.codemirror,Ve=S(we),it=re.options;jt(we,Ve.table,it.insertTexts.table)}function Te(re){var we=re.codemirror,Ve=S(we),it=re.options;jt(we,Ve.image,it.insertTexts.horizontalRule)}function Fe(re){var we=re.codemirror;we.undo(),we.focus()}function ct(re){var we=re.codemirror;we.redo(),we.focus()}function At(re){var we=re.codemirror,Ve=we.getWrapperElement(),it=Ve.nextSibling,We=re.toolbarElements&&re.toolbarElements["side-by-side"],Ct=!1,Ye=Ve.parentNode;it.classList.contains("editor-preview-active-side")?(re.options.sideBySideFullscreen===!1&&Ye.classList.remove("sided--no-fullscreen"),it.classList.remove("editor-preview-active-side"),We&&We.classList.remove("active"),Ve.classList.remove("CodeMirror-sided")):(setTimeout(function(){we.getOption("fullScreen")||(re.options.sideBySideFullscreen===!1?Ye.classList.add("sided--no-fullscreen"):N(re)),it.classList.add("editor-preview-active-side")},1),We&&We.classList.add("active"),Ve.classList.add("CodeMirror-sided"),Ct=!0);var at=Ve.lastChild;if(at.classList.contains("editor-preview-active")){at.classList.remove("editor-preview-active");var St=re.toolbarElements.preview,yt=re.toolbar_div;St.classList.remove("active"),yt.classList.remove("disabled-for-preview")}var Ft=function(){var Cn=re.options.previewRender(re.value(),it);Cn!=null&&(it.innerHTML=Cn)};if(we.sideBySideRenderingFunction||(we.sideBySideRenderingFunction=Ft),Ct){var pn=re.options.previewRender(re.value(),it);pn!=null&&(it.innerHTML=pn),we.on("update",we.sideBySideRenderingFunction)}else we.off("update",we.sideBySideRenderingFunction);we.refresh()}function rt(re){var we=re.codemirror,Ve=we.getWrapperElement(),it=re.toolbar_div,We=re.options.toolbar?re.toolbarElements.preview:!1,Ct=Ve.lastChild,Ye=we.getWrapperElement().nextSibling;if(Ye.classList.contains("editor-preview-active-side")&&At(re),!Ct||!Ct.classList.contains("editor-preview-full")){if(Ct=document.createElement("div"),Ct.className="editor-preview-full",re.options.previewClass)if(Array.isArray(re.options.previewClass))for(var at=0;at<re.options.previewClass.length;at++)Ct.classList.add(re.options.previewClass[at]);else typeof re.options.previewClass=="string"&&Ct.classList.add(re.options.previewClass);Ve.appendChild(Ct)}Ct.classList.contains("editor-preview-active")?(Ct.classList.remove("editor-preview-active"),We&&(We.classList.remove("active"),it.classList.remove("disabled-for-preview"))):(setTimeout(function(){Ct.classList.add("editor-preview-active")},1),We&&(We.classList.add("active"),it.classList.add("disabled-for-preview")));var St=re.options.previewRender(re.value(),Ct);St!==null&&(Ct.innerHTML=St)}function jt(re,we,Ve,it){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var We,Ct=Ve[0],Ye=Ve[1],at={},St={};Object.assign(at,re.getCursor("start")),Object.assign(St,re.getCursor("end")),it&&(Ct=Ct.replace("#url#",it),Ye=Ye.replace("#url#",it)),we?(We=re.getLine(at.line),Ct=We.slice(0,at.ch),Ye=We.slice(at.ch),re.replaceRange(Ct+Ye,{line:at.line,ch:0})):(We=re.getSelection(),re.replaceSelection(Ct+We+Ye),at.ch+=Ct.length,at!==St&&(St.ch+=Ct.length)),re.setSelection(at,St),re.focus()}}function _t(re,we,Ve){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var it=re.getCursor("start"),We=re.getCursor("end"),Ct=it.line;Ct<=We.line;Ct++)(function(Ye){var at=re.getLine(Ye),St=at.search(/[^#]/);we!==void 0?St<=0?we=="bigger"?at="###### "+at:at="# "+at:St==6&&we=="smaller"?at=at.substr(7):St==1&&we=="bigger"?at=at.substr(2):we=="bigger"?at=at.substr(1):at="#"+at:St<=0?at="#".repeat(Ve)+" "+at:St==Ve?at=at.substr(St+1):at="#".repeat(Ve)+" "+at.substr(St+1),re.replaceRange(at,{line:Ye,ch:0},{line:Ye,ch:99999999999999})})(Ct);re.focus()}}function Wt(re,we,Ve){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var it=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,We=/^\s*/,Ct=S(re),Ye=re.getCursor("start"),at=re.getCursor("end"),St={quote:/^(\s*)>\s+/,"unordered-list":it,"ordered-list":it},yt=function($n,Yn){var er={quote:">","unordered-list":Ve,"ordered-list":"%%i."};return er[$n].replace("%%i",Yn)},Ft=function($n,Yn){var er={quote:">","unordered-list":"\\"+Ve,"ordered-list":"\\d+."},Hn=new RegExp(er[$n]);return Yn&&Hn.test(Yn)},pn=function($n,Yn,er){var Hn=it.exec(Yn),xr=yt($n,Cn);return Hn!==null?(Ft($n,Hn[2])&&(xr=""),Yn=Hn[1]+xr+Hn[3]+Yn.replace(We,"").replace(St[$n],"$1")):er==!1&&(Yn=xr+" "+Yn),Yn},Cn=1,vn=Ye.line;vn<=at.line;vn++)(function($n){var Yn=re.getLine($n);Ct[we]?Yn=Yn.replace(St[we],"$1"):(we=="unordered-list"&&(Yn=pn("ordered-list",Yn,!0)),Yn=pn(we,Yn,!1),Cn+=1),re.replaceRange(Yn,{line:$n,ch:0},{line:$n,ch:99999999999999})})(vn);re.focus()}}function ft(re,we,Ve,it){if(!(!re.codemirror||re.isPreviewActive())){var We=re.codemirror,Ct=S(We),Ye=Ct[we];if(!Ye){jt(We,Ye,Ve,it);return}var at=We.getCursor("start"),St=We.getCursor("end"),yt=We.getLine(at.line),Ft=yt.slice(0,at.ch),pn=yt.slice(at.ch);we=="link"?Ft=Ft.replace(/(.*)[^!]\[/,"$1"):we=="image"&&(Ft=Ft.replace(/(.*)!\[$/,"$1")),pn=pn.replace(/]\(.*?\)/,""),We.replaceRange(Ft+pn,{line:at.line,ch:0},{line:at.line,ch:99999999999999}),at.ch-=Ve[0].length,at!==St&&(St.ch-=Ve[0].length),We.setSelection(at,St),We.focus()}}function kt(re,we,Ve,it){if(!(!re.codemirror||re.isPreviewActive())){it=typeof it>"u"?Ve:it;var We=re.codemirror,Ct=S(We),Ye,at=Ve,St=it,yt=We.getCursor("start"),Ft=We.getCursor("end");Ct[we]?(Ye=We.getLine(yt.line),at=Ye.slice(0,yt.ch),St=Ye.slice(yt.ch),we=="bold"?(at=at.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),St=St.replace(/(\*\*|__)/,"")):we=="italic"?(at=at.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),St=St.replace(/(\*|_)/,"")):we=="strikethrough"&&(at=at.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),St=St.replace(/(\*\*|~~)/,"")),We.replaceRange(at+St,{line:yt.line,ch:0},{line:yt.line,ch:99999999999999}),we=="bold"||we=="strikethrough"?(yt.ch-=2,yt!==Ft&&(Ft.ch-=2)):we=="italic"&&(yt.ch-=1,yt!==Ft&&(Ft.ch-=1))):(Ye=We.getSelection(),we=="bold"?(Ye=Ye.split("**").join(""),Ye=Ye.split("__").join("")):we=="italic"?(Ye=Ye.split("*").join(""),Ye=Ye.split("_").join("")):we=="strikethrough"&&(Ye=Ye.split("~~").join("")),We.replaceSelection(at+Ye+St),yt.ch+=Ve.length,Ft.ch=yt.ch+Ye.length),We.setSelection(yt,Ft),We.focus()}}function Dt(re){if(!re.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var we=re.getCursor("start"),Ve=re.getCursor("end"),it,We=we.line;We<=Ve.line;We++)it=re.getLine(We),it=it.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),re.replaceRange(it,{line:We,ch:0},{line:We,ch:99999999999999})}function tn(re,we){if(Math.abs(re)<1024)return""+re+we[0];var Ve=0;do re/=1024,++Ve;while(Math.abs(re)>=1024&&Ve<we.length);return""+re.toFixed(1)+we[Ve]}function zt(re,we){for(var Ve in we)Object.prototype.hasOwnProperty.call(we,Ve)&&(we[Ve]instanceof Array?re[Ve]=we[Ve].concat(re[Ve]instanceof Array?re[Ve]:[]):we[Ve]!==null&&typeof we[Ve]=="object"&&we[Ve].constructor===Object?re[Ve]=zt(re[Ve]||{},we[Ve]):re[Ve]=we[Ve]);return re}function Ut(re){for(var we=1;we<arguments.length;we++)re=zt(re,arguments[we]);return re}function Kt(re){var we=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,Ve=re.match(we),it=0;if(Ve===null)return it;for(var We=0;We<Ve.length;We++)Ve[We].charCodeAt(0)>=19968?it+=Ve[We].length:it+=1;return it}var un={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},Xt={bold:{name:"bold",action:U,className:un.bold,title:"Bold",default:!0},italic:{name:"italic",action:W,className:un.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:q,className:un.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:ve,className:un.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:ve,className:un["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Se,className:un["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Be,className:un["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Ue,className:un["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:qe,className:un["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:J,className:un.code,title:"Code"},quote:{name:"quote",action:ne,className:un.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:me,className:un["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Ie,className:un["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:lt,className:un["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:Me,className:un.link,title:"Create Link",default:!0},image:{name:"image",action:ue,className:un.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:oe,className:un["upload-image"],title:"Import an image"},table:{name:"table",action:be,className:un.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Te,className:un["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:rt,className:un.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:At,className:un["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:N,className:un.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:un.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:Fe,className:un.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:ct,className:un.redo,noDisable:!0,title:"Redo"}},Zt={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},Bn={link:"URL for the link:",image:"URL of the image:"},gt={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},dt={bold:"**",code:"```",italic:"*"},Pe={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},xe={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Ee(re){re=re||{},re.parent=this;var we=!0;if(re.autoDownloadFontAwesome===!1&&(we=!1),re.autoDownloadFontAwesome!==!0)for(var Ve=document.styleSheets,it=0;it<Ve.length;it++)Ve[it].href&&Ve[it].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(we=!1);if(we){var We=document.createElement("link");We.rel="stylesheet",We.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(We)}if(re.element)this.element=re.element;else if(re.element===null){console.log("EasyMDE: Error. No element was found.");return}if(re.toolbar===void 0){re.toolbar=[];for(var Ct in Xt)Object.prototype.hasOwnProperty.call(Xt,Ct)&&(Ct.indexOf("separator-")!=-1&&re.toolbar.push("|"),(Xt[Ct].default===!0||re.showIcons&&re.showIcons.constructor===Array&&re.showIcons.indexOf(Ct)!=-1)&&re.toolbar.push(Ct))}if(Object.prototype.hasOwnProperty.call(re,"previewClass")||(re.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(re,"status")||(re.status=["autosave","lines","words","cursor"],re.uploadImage&&re.status.unshift("upload-image")),re.previewRender||(re.previewRender=function(at){return this.parent.markdown(at)}),re.parsingConfig=Ut({highlightFormatting:!0},re.parsingConfig||{}),re.insertTexts=Ut({},Zt,re.insertTexts||{}),re.promptTexts=Ut({},Bn,re.promptTexts||{}),re.blockStyles=Ut({},dt,re.blockStyles||{}),re.autosave!=null&&(re.autosave.timeFormat=Ut({},gt,re.autosave.timeFormat||{})),re.iconClassMap=Ut({},un,re.iconClassMap||{}),re.shortcuts=Ut({},y,re.shortcuts||{}),re.maxHeight=re.maxHeight||void 0,re.direction=re.direction||"ltr",typeof re.maxHeight<"u"?re.minHeight=re.maxHeight:re.minHeight=re.minHeight||"300px",re.errorCallback=re.errorCallback||function(at){alert(at)},re.uploadImage=re.uploadImage||!1,re.imageMaxSize=re.imageMaxSize||2097152,re.imageAccept=re.imageAccept||"image/png, image/jpeg, image/gif, image/avif",re.imageTexts=Ut({},Pe,re.imageTexts||{}),re.errorMessages=Ut({},xe,re.errorMessages||{}),re.imagePathAbsolute=re.imagePathAbsolute||!1,re.imageCSRFName=re.imageCSRFName||"csrfmiddlewaretoken",re.imageCSRFHeader=re.imageCSRFHeader||!1,re.imageInputName=re.imageInputName||"image",re.autosave!=null&&re.autosave.unique_id!=null&&re.autosave.unique_id!=""&&(re.autosave.uniqueId=re.autosave.unique_id),re.overlayMode&&re.overlayMode.combine===void 0&&(re.overlayMode.combine=!0),this.options=re,this.render(),re.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(re.initialValue),re.uploadImage){var Ye=this;this.codemirror.on("dragenter",function(at,St){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbOnDragEnter),St.stopPropagation(),St.preventDefault()}),this.codemirror.on("dragend",function(at,St){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbInit),St.stopPropagation(),St.preventDefault()}),this.codemirror.on("dragleave",function(at,St){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbInit),St.stopPropagation(),St.preventDefault()}),this.codemirror.on("dragover",function(at,St){Ye.updateStatusBar("upload-image",Ye.options.imageTexts.sbOnDragEnter),St.stopPropagation(),St.preventDefault()}),this.codemirror.on("drop",function(at,St){St.stopPropagation(),St.preventDefault(),re.imageUploadFunction?Ye.uploadImagesUsingCustomFunction(re.imageUploadFunction,St.dataTransfer.files):Ye.uploadImages(St.dataTransfer.files)}),this.codemirror.on("paste",function(at,St){re.imageUploadFunction?Ye.uploadImagesUsingCustomFunction(re.imageUploadFunction,St.clipboardData.files):Ye.uploadImages(St.clipboardData.files)})}}Ee.prototype.uploadImages=function(re,we,Ve){if(re.length!==0){for(var it=[],We=0;We<re.length;We++)it.push(re[We].name),this.uploadImage(re[We],we,Ve);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",it.join(", ")))}},Ee.prototype.uploadImagesUsingCustomFunction=function(re,we){if(we.length!==0){for(var Ve=[],it=0;it<we.length;it++)Ve.push(we[it].name),this.uploadImageUsingCustomFunction(re,we[it]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Ve.join(", ")))}},Ee.prototype.updateStatusBar=function(re,we){if(this.gui.statusbar){var Ve=this.gui.statusbar.getElementsByClassName(re);Ve.length===1?this.gui.statusbar.getElementsByClassName(re)[0].textContent=we:Ve.length===0?console.log("EasyMDE: status bar item "+re+" was not found."):console.log("EasyMDE: Several status bar items named "+re+" was found.")}},Ee.prototype.markdown=function(re){if(n){var we;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?we=this.options.renderingConfig.markedOptions:we={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?we.breaks=!1:we.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var Ve=this.options.renderingConfig.hljs||window.hljs;Ve&&(we.highlight=function(We,Ct){return Ct&&Ve.getLanguage(Ct)?Ve.highlight(Ct,We).value:Ve.highlightAuto(We).value})}n.use(we);var it=n.parse(re);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(it=this.options.renderingConfig.sanitizerFunction.call(this,it)),it=u(it),it=v(it),it}},Ee.prototype.render=function(re){if(re||(re=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===re)return;this.element=re;var we=this.options,Ve=this,it={};for(var We in we.shortcuts)we.shortcuts[We]!==null&&c[We]!==null&&(function(er){it[f(we.shortcuts[er])]=function(){var Hn=c[er];typeof Hn=="function"?Hn(Ve):typeof Hn=="string"&&window.open(Hn,"_blank")}})(We);it.Enter="newlineAndIndentContinueMarkdownList",it.Tab="tabAndIndentMarkdownList",it["Shift-Tab"]="shiftTabAndUnindentMarkdownList",it.Esc=function(er){er.getOption("fullScreen")&&N(Ve)},this.documentOnKeyDown=function(er){er=er||window.event,er.keyCode==27&&Ve.codemirror.getOption("fullScreen")&&N(Ve)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Ct,Ye;we.overlayMode?(e.defineMode("overlay-mode",function(er){return e.overlayMode(e.getMode(er,we.spellChecker!==!1?"spell-checker":"gfm"),we.overlayMode.mode,we.overlayMode.combine)}),Ct="overlay-mode",Ye=we.parsingConfig,Ye.gitHubSpice=!1):(Ct=we.parsingConfig,Ct.name="gfm",Ct.gitHubSpice=!1),we.spellChecker!==!1&&(Ct="spell-checker",Ye=we.parsingConfig,Ye.name="gfm",Ye.gitHubSpice=!1,typeof we.spellChecker=="function"?we.spellChecker({codeMirrorInstance:e}):t({codeMirrorInstance:e}));function at(er,Hn,xr){return{addNew:!1}}if(this.codemirror=e.fromTextArea(re,{mode:Ct,backdrop:Ye,theme:we.theme!=null?we.theme:"easymde",tabSize:we.tabSize!=null?we.tabSize:2,indentUnit:we.tabSize!=null?we.tabSize:2,indentWithTabs:we.indentWithTabs!==!1,lineNumbers:we.lineNumbers===!0,autofocus:we.autofocus===!0,extraKeys:it,direction:we.direction,lineWrapping:we.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:we.placeholder||re.getAttribute("placeholder")||"",styleSelectedText:we.styleSelectedText!=null?we.styleSelectedText:!a(),scrollbarStyle:we.scrollbarStyle!=null?we.scrollbarStyle:"native",configureMouse:at,inputStyle:we.inputStyle!=null?we.inputStyle:a()?"contenteditable":"textarea",spellcheck:we.nativeSpellcheck!=null?we.nativeSpellcheck:!0,autoRefresh:we.autoRefresh!=null?we.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=we.minHeight,typeof we.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=we.maxHeight),we.forceSync===!0){var St=this.codemirror;St.on("change",function(){St.save()})}this.gui={};var yt=document.createElement("div");yt.classList.add("EasyMDEContainer"),yt.setAttribute("role","application");var Ft=this.codemirror.getWrapperElement();Ft.parentNode.insertBefore(yt,Ft),yt.appendChild(Ft),we.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),we.status!==!1&&(this.gui.statusbar=this.createStatusbar()),we.autosave!=null&&we.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(Ve._autosave_timeout),Ve._autosave_timeout=setTimeout(function(){Ve.autosave()},Ve.options.autosave.submit_delay||Ve.options.autosave.delay||1e3)}));function pn(er,Hn){var xr,Br=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return er<Br?xr=Hn+"px":xr=Hn/er*100+"%",xr}var Cn=this;function vn(er,Hn){var xr=new URL(Hn.url,document.baseURI).href;er.setAttribute("data-img-src",xr),er.setAttribute("style","--bg-image:url("+xr+");--width:"+Hn.naturalWidth+"px;--height:"+pn(Hn.naturalWidth,Hn.naturalHeight)),Cn.codemirror.setSize()}function $n(){we.previewImagesInEditor&&yt.querySelectorAll(".cm-image-marker").forEach(function(er){var Hn=er.parentElement;if(Hn.innerText.match(/^!\[.*?\]\(.*\)/g)&&!Hn.hasAttribute("data-img-src")){var xr=Hn.innerText.match(/!\[.*?\]\((.*?)\)/);if(window.EMDEimagesCache||(window.EMDEimagesCache={}),xr&&xr.length>=2){var Br=xr[1];if(we.imagesPreviewHandler){var mr=we.imagesPreviewHandler(xr[1]);typeof mr=="string"&&(Br=mr)}if(window.EMDEimagesCache[Br])vn(Hn,window.EMDEimagesCache[Br]);else{window.EMDEimagesCache[Br]={};var Mi=document.createElement("img");Mi.onload=function(){window.EMDEimagesCache[Br]={naturalWidth:Mi.naturalWidth,naturalHeight:Mi.naturalHeight,url:Br},vn(Hn,window.EMDEimagesCache[Br])},Mi.src=Br}}}})}this.codemirror.on("update",function(){$n()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(we.autofocus===!0||re.autofocus)&&this.codemirror.focus();var Yn=this.codemirror;setTimeout((function(){Yn.refresh()}).bind(Yn),0)},Ee.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function Ze(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}return Ee.prototype.autosave=function(){if(Ze()){var re=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(re.element.form!=null&&re.element.form!=null&&re.element.form.addEventListener("submit",function(){clearTimeout(re.autosaveTimeoutId),re.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+re.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var we=re.value();we!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,we):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var Ve=document.getElementById("autosaved");if(Ve!=null&&Ve!=null&&Ve!=""){var it=new Date,We=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(it),Ct=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;Ve.innerHTML=Ct+We}}else console.log("EasyMDE: localStorage not available, cannot autosave")},Ee.prototype.clearAutosavedValue=function(){if(Ze()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},Ee.prototype.openBrowseFileWindow=function(re,we){var Ve=this,it=this.gui.toolbar.getElementsByClassName("imageInput")[0];it.click();function We(Ct){Ve.options.imageUploadFunction?Ve.uploadImagesUsingCustomFunction(Ve.options.imageUploadFunction,Ct.target.files):Ve.uploadImages(Ct.target.files,re,we),it.removeEventListener("change",We)}it.addEventListener("change",We)},Ee.prototype.uploadImage=function(re,we,Ve){var it=this;we=we||function(yt){Z(it,yt)};function We(St){it.updateStatusBar("upload-image",St),setTimeout(function(){it.updateStatusBar("upload-image",it.options.imageTexts.sbInit)},1e4),Ve&&typeof Ve=="function"&&Ve(St),it.options.errorCallback(St)}function Ct(St){var yt=it.options.imageTexts.sizeUnits.split(",");return St.replace("#image_name#",re.name).replace("#image_size#",tn(re.size,yt)).replace("#image_max_size#",tn(it.options.imageMaxSize,yt))}if(re.size>this.options.imageMaxSize){We(Ct(this.options.errorMessages.fileTooLarge));return}var Ye=new FormData;Ye.append("image",re),it.options.imageCSRFToken&&!it.options.imageCSRFHeader&&Ye.append(it.options.imageCSRFName,it.options.imageCSRFToken);var at=new XMLHttpRequest;at.upload.onprogress=function(St){if(St.lengthComputable){var yt=""+Math.round(St.loaded*100/St.total);it.updateStatusBar("upload-image",it.options.imageTexts.sbProgress.replace("#file_name#",re.name).replace("#progress#",yt))}},at.open("POST",this.options.imageUploadEndpoint),it.options.imageCSRFToken&&it.options.imageCSRFHeader&&at.setRequestHeader(it.options.imageCSRFName,it.options.imageCSRFToken),at.onload=function(){try{var St=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),We(Ct(it.options.errorMessages.importError));return}this.status===200&&St&&!St.error&&St.data&&St.data.filePath?we((it.options.imagePathAbsolute?"":window.location.origin+"/")+St.data.filePath):St.error&&St.error in it.options.errorMessages?We(Ct(it.options.errorMessages[St.error])):St.error?We(Ct(St.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),We(Ct(it.options.errorMessages.importError)))},at.onerror=function(St){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+St.target.status+" ("+St.target.statusText+")"),We(it.options.errorMessages.importError)},at.send(Ye)},Ee.prototype.uploadImageUsingCustomFunction=function(re,we){var Ve=this;function it(Ye){Z(Ve,Ye)}function We(Ye){var at=Ct(Ye);Ve.updateStatusBar("upload-image",at),setTimeout(function(){Ve.updateStatusBar("upload-image",Ve.options.imageTexts.sbInit)},1e4),Ve.options.errorCallback(at)}function Ct(Ye){var at=Ve.options.imageTexts.sizeUnits.split(",");return Ye.replace("#image_name#",we.name).replace("#image_size#",tn(we.size,at)).replace("#image_max_size#",tn(Ve.options.imageMaxSize,at))}re.apply(this,[we,it,We])},Ee.prototype.setPreviewMaxHeight=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.nextSibling,it=parseInt(window.getComputedStyle(we).paddingTop),We=parseInt(window.getComputedStyle(we).borderTopWidth),Ct=parseInt(this.options.maxHeight),Ye=Ct+it*2+We*2,at=Ye.toString()+"px";Ve.style.height=at},Ee.prototype.createSideBySide=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.nextSibling;if(!Ve||!Ve.classList.contains("editor-preview-side")){if(Ve=document.createElement("div"),Ve.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var it=0;it<this.options.previewClass.length;it++)Ve.classList.add(this.options.previewClass[it]);else typeof this.options.previewClass=="string"&&Ve.classList.add(this.options.previewClass);we.parentNode.insertBefore(Ve,we.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return Ve;var We=!1,Ct=!1;return re.on("scroll",function(Ye){if(We){We=!1;return}Ct=!0;var at=Ye.getScrollInfo().height-Ye.getScrollInfo().clientHeight,St=parseFloat(Ye.getScrollInfo().top)/at,yt=(Ve.scrollHeight-Ve.clientHeight)*St;Ve.scrollTop=yt}),Ve.onscroll=function(){if(Ct){Ct=!1;return}We=!0;var Ye=Ve.scrollHeight-Ve.clientHeight,at=parseFloat(Ve.scrollTop)/Ye,St=(re.getScrollInfo().height-re.getScrollInfo().clientHeight)*at;re.scrollTo(0,St)},Ve},Ee.prototype.createToolbar=function(re){if(re=re||this.options.toolbar,!(!re||re.length===0)){var we;for(we=0;we<re.length;we++)Xt[re[we]]!=null&&(re[we]=Xt[re[we]]);var Ve=document.createElement("div");Ve.className="editor-toolbar",Ve.setAttribute("role","toolbar");var it=this,We={};for(it.toolbar=re,we=0;we<re.length;we++)if(!(re[we].name=="guide"&&it.options.toolbarGuideIcon===!1)&&!(it.options.hideIcons&&it.options.hideIcons.indexOf(re[we].name)!=-1)&&!((re[we].name=="fullscreen"||re[we].name=="side-by-side")&&a())){if(re[we]==="|"){for(var Ct=!1,Ye=we+1;Ye<re.length;Ye++)re[Ye]!=="|"&&(!it.options.hideIcons||it.options.hideIcons.indexOf(re[Ye].name)==-1)&&(Ct=!0);if(!Ct)continue}(function(yt){var Ft;if(yt==="|"?Ft=C():yt.children?Ft=g(yt,it.options.toolbarTips,it.options.shortcuts,it):Ft=m(yt,!0,it.options.toolbarTips,it.options.shortcuts,"button",it),We[yt.name||yt]=Ft,Ve.appendChild(Ft),yt.name==="upload-image"){var pn=document.createElement("input");pn.className="imageInput",pn.type="file",pn.multiple=!0,pn.name=it.options.imageInputName,pn.accept=it.options.imageAccept,pn.style.display="none",pn.style.opacity=0,Ve.appendChild(pn)}})(re[we])}it.toolbar_div=Ve,it.toolbarElements=We;var at=this.codemirror;at.on("cursorActivity",function(){var yt=S(at);for(var Ft in We)(function(pn){var Cn=We[pn];yt[pn]?Cn.classList.add("active"):pn!="fullscreen"&&pn!="side-by-side"&&Cn.classList.remove("active")})(Ft)});var St=at.getWrapperElement();return St.parentNode.insertBefore(Ve,St),Ve}},Ee.prototype.createStatusbar=function(re){re=re||this.options.status;var we=this.options,Ve=this.codemirror;if(!(!re||re.length===0)){var it=[],We,Ct,Ye,at;for(We=0;We<re.length;We++)if(Ct=void 0,Ye=void 0,at=void 0,typeof re[We]=="object")it.push({className:re[We].className,defaultValue:re[We].defaultValue,onUpdate:re[We].onUpdate,onActivity:re[We].onActivity});else{var St=re[We];St==="words"?(at=function(vn){vn.innerHTML=Kt(Ve.getValue())},Ct=function(vn){vn.innerHTML=Kt(Ve.getValue())}):St==="lines"?(at=function(vn){vn.innerHTML=Ve.lineCount()},Ct=function(vn){vn.innerHTML=Ve.lineCount()}):St==="cursor"?(at=function(vn){vn.innerHTML="1:1"},Ye=function(vn){var $n=Ve.getCursor(),Yn=$n.line+1,er=$n.ch+1;vn.innerHTML=Yn+":"+er}):St==="autosave"?at=function(vn){we.autosave!=null&&we.autosave.enabled===!0&&vn.setAttribute("id","autosaved")}:St==="upload-image"&&(at=function(vn){vn.innerHTML=we.imageTexts.sbInit}),it.push({className:St,defaultValue:at,onUpdate:Ct,onActivity:Ye})}var yt=document.createElement("div");for(yt.className="editor-statusbar",We=0;We<it.length;We++){var Ft=it[We],pn=document.createElement("span");pn.className=Ft.className,typeof Ft.defaultValue=="function"&&Ft.defaultValue(pn),typeof Ft.onUpdate=="function"&&this.codemirror.on("update",(function(vn,$n){return function(){$n.onUpdate(vn)}})(pn,Ft)),typeof Ft.onActivity=="function"&&this.codemirror.on("cursorActivity",(function(vn,$n){return function(){$n.onActivity(vn)}})(pn,Ft)),yt.appendChild(pn)}var Cn=this.codemirror.getWrapperElement();return Cn.parentNode.insertBefore(yt,Cn.nextSibling),yt}},Ee.prototype.value=function(re){var we=this.codemirror;if(re===void 0)return we.getValue();if(we.getDoc().setValue(re),this.isPreviewActive()){var Ve=we.getWrapperElement(),it=Ve.lastChild,We=this.options.previewRender(re,it);We!==null&&(it.innerHTML=We)}return this},Ee.toggleBold=U,Ee.toggleItalic=W,Ee.toggleStrikethrough=q,Ee.toggleBlockquote=ne,Ee.toggleHeadingSmaller=ve,Ee.toggleHeadingBigger=Se,Ee.toggleHeading1=Be,Ee.toggleHeading2=Ue,Ee.toggleHeading3=qe,Ee.toggleHeading4=mt,Ee.toggleHeading5=ut,Ee.toggleHeading6=ge,Ee.toggleCodeBlock=J,Ee.toggleUnorderedList=me,Ee.toggleOrderedList=Ie,Ee.cleanBlock=lt,Ee.drawLink=Me,Ee.drawImage=ue,Ee.drawUploadedImage=oe,Ee.drawTable=be,Ee.drawHorizontalRule=Te,Ee.undo=Fe,Ee.redo=ct,Ee.togglePreview=rt,Ee.toggleSideBySide=At,Ee.toggleFullScreen=N,Ee.prototype.toggleBold=function(){U(this)},Ee.prototype.toggleItalic=function(){W(this)},Ee.prototype.toggleStrikethrough=function(){q(this)},Ee.prototype.toggleBlockquote=function(){ne(this)},Ee.prototype.toggleHeadingSmaller=function(){ve(this)},Ee.prototype.toggleHeadingBigger=function(){Se(this)},Ee.prototype.toggleHeading1=function(){Be(this)},Ee.prototype.toggleHeading2=function(){Ue(this)},Ee.prototype.toggleHeading3=function(){qe(this)},Ee.prototype.toggleHeading4=function(){mt(this)},Ee.prototype.toggleHeading5=function(){ut(this)},Ee.prototype.toggleHeading6=function(){ge(this)},Ee.prototype.toggleCodeBlock=function(){J(this)},Ee.prototype.toggleUnorderedList=function(){me(this)},Ee.prototype.toggleOrderedList=function(){Ie(this)},Ee.prototype.cleanBlock=function(){lt(this)},Ee.prototype.drawLink=function(){Me(this)},Ee.prototype.drawImage=function(){ue(this)},Ee.prototype.drawUploadedImage=function(){oe(this)},Ee.prototype.drawTable=function(){be(this)},Ee.prototype.drawHorizontalRule=function(){Te(this)},Ee.prototype.undo=function(){Fe(this)},Ee.prototype.redo=function(){ct(this)},Ee.prototype.togglePreview=function(){rt(this)},Ee.prototype.toggleSideBySide=function(){At(this)},Ee.prototype.toggleFullScreen=function(){N(this)},Ee.prototype.isPreviewActive=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.lastChild;return Ve.classList.contains("editor-preview-active")},Ee.prototype.isSideBySideActive=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.nextSibling;return Ve.classList.contains("editor-preview-active-side")},Ee.prototype.isFullscreenActive=function(){var re=this.codemirror;return re.getOption("fullScreen")},Ee.prototype.getState=function(){var re=this.codemirror;return S(re)},Ee.prototype.toTextArea=function(){var re=this.codemirror,we=re.getWrapperElement(),Ve=we.parentNode;Ve&&(this.gui.toolbar&&Ve.removeChild(this.gui.toolbar),this.gui.statusbar&&Ve.removeChild(this.gui.statusbar),this.gui.sideBySide&&Ve.removeChild(this.gui.sideBySide)),Ve.parentNode.insertBefore(we,Ve),Ve.remove(),re.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t2=Ee,t2}var gP=dP();const pP=F0(gP);var mP=0,vP=()=>`simplemde-editor-${++mP}`,yP=({options:e,id:t,currentValueRef:n,textRef:r})=>{const[o,c]=Re.useState(null),y=Re.useCallback((u,v,f)=>{const g=e?.imageUploadFunction;g&&g(u,C=>{v(C)},f)},[e?.imageUploadFunction]),d=Re.useRef(o);d.current=o,Re.useEffect(()=>{let u;if(r){const v={element:r,initialValue:n.current},f=e?.imageUploadFunction?y:void 0;u=new pP(Object.assign({},v,e,{imageUploadFunction:f})),c(u)}return()=>{u?.toTextArea(),u?.cleanup()}},[r,n,t,y,e]);const a=Re.useMemo(()=>o?.codemirror,[o?.codemirror]);return{editor:o,codemirror:a}},S7=Dn.forwardRef((e,t)=>{const{events:n,value:r,options:o,children:c,extraKeys:y,getLineAndCursor:d,getMdeInstance:a,getCodemirrorInstance:u,onChange:v,id:f,placeholder:g,textareaProps:m,...C}=e,D=Re.useMemo(()=>f??vP(),[f]),S=Re.useRef(null),O=Re.useRef(!0),N=Re.useRef(r);N.current=r;const[U,W]=Re.useState(null),{editor:q,codemirror:J}=yP({options:o,id:D,currentValueRef:N,textRef:U});Re.useEffect(()=>{O.current&&q?.value(r??""),O.current=!0},[q,r]);const ne=Re.useCallback((Be,Ue)=>{q?.value()!==N.current&&(O.current=!1,v?.(q?.value()??"",Ue))},[q,v]);Re.useEffect(()=>{o?.autofocus&&(J?.focus(),J?.setCursor(J?.lineCount(),0))},[J,o?.autofocus]);const ve=Re.useCallback(()=>{J&&d?.(J.getDoc().getCursor())},[J,d]);Re.useEffect(()=>{ve()},[ve]),Re.useEffect(()=>{q&&a?.(q)},[q,a]),Re.useEffect(()=>{J&&u?.(J)},[J,u,a]),Re.useEffect(()=>{y&&J&&J.setOption("extraKeys",Object.assign({},J.getOption("extraKeys"),y))},[J,y]),Re.useEffect(()=>{var Be;const Ue=(Be=S.current)==null?void 0:Be.getElementsByClassName("editor-toolbarNode")[0],qe=J&&ne;return qe?(Ue?.addEventListener("click",qe),()=>{Ue?.removeEventListener("click",qe)}):()=>{}},[J,ne]),Re.useEffect(()=>(J?.on("change",ne),J?.on("cursorActivity",ve),()=>{J?.off("change",ne),J?.off("cursorActivity",ve)}),[J,ve,ne]);const Se=Re.useRef(n);return Re.useEffect(()=>(n!==Se.current&&Se.current&&Object.entries(Se.current).forEach(([Ue,qe])=>{qe&&J?.off(Ue,qe)}),n&&Object.entries(n).forEach(([Ue,qe])=>{qe&&J?.on(Ue,qe)}),Se.current=n,()=>{n&&Object.entries(n).forEach(([Ue,qe])=>{qe&&J?.off(Ue,qe)})}),[J,n]),Dn.createElement("div",{id:`${D}-wrapper`,...C,ref:Be=>{typeof t=="function"?t(Be):t&&(t.current=Be),S.current=Be}},Dn.createElement("textarea",{...m,id:D,placeholder:g,ref:W,style:{display:"none"}}))});S7.displayName="SimpleMdeReact";var xP=S7;function g5(e){const t=[],n=String(e||"");let r=n.indexOf(","),o=0,c=!1;for(;!c;){r===-1&&(r=n.length,c=!0);const y=n.slice(o,r).trim();(y||!c)&&t.push(y),o=r+1,r=n.indexOf(",",o)}return t}function bP(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const wP=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CP=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,SP={};function p5(e,t){return(SP.jsx?CP:wP).test(e)}const EP=/[ \t\n\f\r]/g;function AP(e){return typeof e=="object"?e.type==="text"?m5(e.value):!1:m5(e)}function m5(e){return e.replace(EP,"")===""}class ig{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ig.prototype.normal={};ig.prototype.property={};ig.prototype.space=void 0;function E7(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new ig(n,r,t)}function V1(e){return e.toLowerCase()}class Wu{constructor(t,n){this.attribute=n,this.property=t}}Wu.prototype.attribute="";Wu.prototype.booleanish=!1;Wu.prototype.boolean=!1;Wu.prototype.commaOrSpaceSeparated=!1;Wu.prototype.commaSeparated=!1;Wu.prototype.defined=!1;Wu.prototype.mustUseProperty=!1;Wu.prototype.number=!1;Wu.prototype.overloadedBoolean=!1;Wu.prototype.property="";Wu.prototype.spaceSeparated=!1;Wu.prototype.space=void 0;let TP=0;const Si=z0(),Xs=z0(),hy=z0(),Pn=z0(),xo=z0(),xd=z0(),ac=z0();function z0(){return 2**++TP}const dy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Si,booleanish:Xs,commaOrSpaceSeparated:ac,commaSeparated:xd,number:Pn,overloadedBoolean:hy,spaceSeparated:xo},Symbol.toStringTag,{value:"Module"})),n2=Object.keys(dy);class Ox extends Wu{constructor(t,n,r,o){let c=-1;if(super(t,n),v5(this,"space",o),typeof r=="number")for(;++c<n2.length;){const y=n2[c];v5(this,n2[c],(r&dy[y])===dy[y])}}}Ox.prototype.defined=!0;function v5(e,t,n){n&&(e[t]=n)}function Ud(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const c=new Ox(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(c.mustUseProperty=!0),t[r]=c,n[V1(r)]=r,n[V1(c.attribute)]=r}return new ig(t,n,e.space)}const A7=Ud({properties:{ariaActiveDescendant:null,ariaAtomic:Xs,ariaAutoComplete:null,ariaBusy:Xs,ariaChecked:Xs,ariaColCount:Pn,ariaColIndex:Pn,ariaColSpan:Pn,ariaControls:xo,ariaCurrent:null,ariaDescribedBy:xo,ariaDetails:null,ariaDisabled:Xs,ariaDropEffect:xo,ariaErrorMessage:null,ariaExpanded:Xs,ariaFlowTo:xo,ariaGrabbed:Xs,ariaHasPopup:null,ariaHidden:Xs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xo,ariaLevel:Pn,ariaLive:null,ariaModal:Xs,ariaMultiLine:Xs,ariaMultiSelectable:Xs,ariaOrientation:null,ariaOwns:xo,ariaPlaceholder:null,ariaPosInSet:Pn,ariaPressed:Xs,ariaReadOnly:Xs,ariaRelevant:null,ariaRequired:Xs,ariaRoleDescription:xo,ariaRowCount:Pn,ariaRowIndex:Pn,ariaRowSpan:Pn,ariaSelected:Xs,ariaSetSize:Pn,ariaSort:null,ariaValueMax:Pn,ariaValueMin:Pn,ariaValueNow:Pn,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function T7(e,t){return t in e?e[t]:t}function D7(e,t){return T7(e,t.toLowerCase())}const DP=Ud({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xd,acceptCharset:xo,accessKey:xo,action:null,allow:null,allowFullScreen:Si,allowPaymentRequest:Si,allowUserMedia:Si,alt:null,as:null,async:Si,autoCapitalize:null,autoComplete:xo,autoFocus:Si,autoPlay:Si,blocking:xo,capture:null,charSet:null,checked:Si,cite:null,className:xo,cols:Pn,colSpan:null,content:null,contentEditable:Xs,controls:Si,controlsList:xo,coords:Pn|xd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Si,defer:Si,dir:null,dirName:null,disabled:Si,download:hy,draggable:Xs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Si,formTarget:null,headers:xo,height:Pn,hidden:hy,high:Pn,href:null,hrefLang:null,htmlFor:xo,httpEquiv:xo,id:null,imageSizes:null,imageSrcSet:null,inert:Si,inputMode:null,integrity:null,is:null,isMap:Si,itemId:null,itemProp:xo,itemRef:xo,itemScope:Si,itemType:xo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Si,low:Pn,manifest:null,max:null,maxLength:Pn,media:null,method:null,min:null,minLength:Pn,multiple:Si,muted:Si,name:null,nonce:null,noModule:Si,noValidate:Si,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Si,optimum:Pn,pattern:null,ping:xo,placeholder:null,playsInline:Si,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Si,referrerPolicy:null,rel:xo,required:Si,reversed:Si,rows:Pn,rowSpan:Pn,sandbox:xo,scope:null,scoped:Si,seamless:Si,selected:Si,shadowRootClonable:Si,shadowRootDelegatesFocus:Si,shadowRootMode:null,shape:null,size:Pn,sizes:null,slot:null,span:Pn,spellCheck:Xs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pn,step:null,style:null,tabIndex:Pn,target:null,title:null,translate:null,type:null,typeMustMatch:Si,useMap:null,value:Xs,width:Pn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xo,axis:null,background:null,bgColor:null,border:Pn,borderColor:null,bottomMargin:Pn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Si,declare:Si,event:null,face:null,frame:null,frameBorder:null,hSpace:Pn,leftMargin:Pn,link:null,longDesc:null,lowSrc:null,marginHeight:Pn,marginWidth:Pn,noResize:Si,noHref:Si,noShade:Si,noWrap:Si,object:null,profile:null,prompt:null,rev:null,rightMargin:Pn,rules:null,scheme:null,scrolling:Xs,standby:null,summary:null,text:null,topMargin:Pn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Si,disableRemotePlayback:Si,prefix:null,property:null,results:Pn,security:null,unselectable:null},space:"html",transform:D7}),kP=Ud({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ac,accentHeight:Pn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pn,amplitude:Pn,arabicForm:null,ascent:Pn,attributeName:null,attributeType:null,azimuth:Pn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pn,by:null,calcMode:null,capHeight:Pn,className:xo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pn,diffuseConstant:Pn,direction:null,display:null,dur:null,divisor:Pn,dominantBaseline:null,download:Si,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pn,enableBackground:null,end:null,event:null,exponent:Pn,externalResourcesRequired:null,fill:null,fillOpacity:Pn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xd,g2:xd,glyphName:xd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pn,horizOriginX:Pn,horizOriginY:Pn,id:null,ideographic:Pn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pn,k:Pn,k1:Pn,k2:Pn,k3:Pn,k4:Pn,kernelMatrix:ac,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pn,overlineThickness:Pn,paintOrder:null,panose1:null,path:null,pathLength:Pn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pn,pointsAtY:Pn,pointsAtZ:Pn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ac,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ac,rev:ac,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ac,requiredFeatures:ac,requiredFonts:ac,requiredFormats:ac,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pn,specularExponent:Pn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pn,strikethroughThickness:Pn,string:null,stroke:null,strokeDashArray:ac,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pn,strokeOpacity:Pn,strokeWidth:null,style:null,surfaceScale:Pn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ac,tabIndex:Pn,tableValues:null,target:null,targetX:Pn,targetY:Pn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ac,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pn,underlineThickness:Pn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pn,values:null,vAlphabetic:Pn,vMathematical:Pn,vectorEffect:null,vHanging:Pn,vIdeographic:Pn,version:null,vertAdvY:Pn,vertOriginX:Pn,vertOriginY:Pn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:T7}),k7=Ud({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),_7=Ud({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:D7}),M7=Ud({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),_P={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},MP=/[A-Z]/g,y5=/-[a-z]/g,OP=/^data[-\w.:]+$/i;function O7(e,t){const n=V1(t);let r=t,o=Wu;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&OP.test(t)){if(t.charAt(4)==="-"){const c=t.slice(5).replace(y5,RP);r="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=t.slice(4);if(!y5.test(c)){let y=c.replace(MP,IP);y.charAt(0)!=="-"&&(y="-"+y),t="data"+y}}o=Ox}return new o(r,t)}function IP(e){return"-"+e.toLowerCase()}function RP(e){return e.charAt(1).toUpperCase()}const I7=E7([A7,DP,k7,_7,M7],"html"),Cm=E7([A7,kP,k7,_7,M7],"svg");function x5(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function NP(e){return e.join(" ").trim()}var ud={},r2,b5;function LP(){if(b5)return r2;b5=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,y=/^[;\s]*/,d=/^\s+|\s+$/g,a=`
`,u="/",v="*",f="",g="comment",m="declaration";function C(S,O){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];O=O||{};var N=1,U=1;function W(ut){var ge=ut.match(t);ge&&(N+=ge.length);var me=ut.lastIndexOf(a);U=~me?ut.length-me:U+ut.length}function q(){var ut={line:N,column:U};return function(ge){return ge.position=new J(ut),Se(),ge}}function J(ut){this.start=ut,this.end={line:N,column:U},this.source=O.source}J.prototype.content=S;function ne(ut){var ge=new Error(O.source+":"+N+":"+U+": "+ut);if(ge.reason=ut,ge.filename=O.source,ge.line=N,ge.column=U,ge.source=S,!O.silent)throw ge}function ve(ut){var ge=ut.exec(S);if(ge){var me=ge[0];return W(me),S=S.slice(me.length),ge}}function Se(){ve(n)}function Be(ut){var ge;for(ut=ut||[];ge=Ue();)ge!==!1&&ut.push(ge);return ut}function Ue(){var ut=q();if(!(u!=S.charAt(0)||v!=S.charAt(1))){for(var ge=2;f!=S.charAt(ge)&&(v!=S.charAt(ge)||u!=S.charAt(ge+1));)++ge;if(ge+=2,f===S.charAt(ge-1))return ne("End of comment missing");var me=S.slice(2,ge-2);return U+=2,W(me),S=S.slice(ge),U+=2,ut({type:g,comment:me})}}function qe(){var ut=q(),ge=ve(r);if(ge){if(Ue(),!ve(o))return ne("property missing ':'");var me=ve(c),Ie=ut({type:m,property:D(ge[0].replace(e,f)),value:me?D(me[0].replace(e,f)):f});return ve(y),Ie}}function mt(){var ut=[];Be(ut);for(var ge;ge=qe();)ge!==!1&&(ut.push(ge),Be(ut));return ut}return Se(),mt()}function D(S){return S?S.replace(d,f):f}return r2=C,r2}var w5;function BP(){if(w5)return ud;w5=1;var e=ud&&ud.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=n;const t=e(LP());function n(r,o){let c=null;if(!r||typeof r!="string")return c;const y=(0,t.default)(r),d=typeof o=="function";return y.forEach(a=>{if(a.type!=="declaration")return;const{property:u,value:v}=a;d?o(u,v,a):v&&(c=c||{},c[u]=v)}),c}return ud}var p1={},C5;function FP(){if(C5)return p1;C5=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,c=function(u){return!u||n.test(u)||e.test(u)},y=function(u,v){return v.toUpperCase()},d=function(u,v){return"".concat(v,"-")},a=function(u,v){return v===void 0&&(v={}),c(u)?u:(u=u.toLowerCase(),v.reactCompat?u=u.replace(o,d):u=u.replace(r,d),u.replace(t,y))};return p1.camelCase=a,p1}var m1,S5;function PP(){if(S5)return m1;S5=1;var e=m1&&m1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(BP()),n=FP();function r(o,c){var y={};return!o||typeof o!="string"||(0,t.default)(o,function(d,a){d&&a&&(y[(0,n.camelCase)(d,c)]=a)}),y}return r.default=r,m1=r,m1}var zP=PP();const HP=F0(zP),R7=N7("end"),Ix=N7("start");function N7(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function UP(e){const t=Ix(e),n=R7(e);if(t&&n)return{start:t,end:n}}function I1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?E5(e.position):"start"in e||"end"in e?E5(e):"line"in e||"column"in e?gy(e):""}function gy(e){return A5(e&&e.line)+":"+A5(e&&e.column)}function E5(e){return gy(e&&e.start)+"-"+gy(e&&e.end)}function A5(e){return e&&typeof e=="number"?e:1}class tu extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",c={},y=!1;if(n&&("line"in n&&"column"in n?c={place:n}:"start"in n&&"end"in n?c={place:n}:"type"in n?c={ancestors:[n],place:n.position}:c={...n}),typeof t=="string"?o=t:!c.cause&&t&&(y=!0,o=t.message,c.cause=t),!c.ruleId&&!c.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?c.ruleId=r:(c.source=r.slice(0,a),c.ruleId=r.slice(a+1))}if(!c.place&&c.ancestors&&c.ancestors){const a=c.ancestors[c.ancestors.length-1];a&&(c.place=a.position)}const d=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=d?d.line:void 0,this.name=I1(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=y&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tu.prototype.file="";tu.prototype.name="";tu.prototype.reason="";tu.prototype.message="";tu.prototype.stack="";tu.prototype.column=void 0;tu.prototype.line=void 0;tu.prototype.ancestors=void 0;tu.prototype.cause=void 0;tu.prototype.fatal=void 0;tu.prototype.place=void 0;tu.prototype.ruleId=void 0;tu.prototype.source=void 0;const Rx={}.hasOwnProperty,jP=new Map,WP=/[A-Z]/g,GP=new Set(["table","tbody","thead","tfoot","tr"]),YP=new Set(["td","th"]),L7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XP(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ez(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$P(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Cm:I7,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},c=B7(o,e,void 0);return c&&typeof c!="string"?c:o.create(e,o.Fragment,{children:c||void 0},void 0)}function B7(e,t,n){if(t.type==="element")return VP(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return KP(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return qP(e,t,n);if(t.type==="mdxjsEsm")return ZP(e,t);if(t.type==="root")return QP(e,t,n);if(t.type==="text")return JP(e,t)}function VP(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Cm,e.schema=o),e.ancestors.push(t);const c=P7(e,t.tagName,!1),y=tz(e,t);let d=Lx(e,t);return GP.has(t.tagName)&&(d=d.filter(function(a){return typeof a=="string"?!AP(a):!0})),F7(e,y,c,t),Nx(y,d),e.ancestors.pop(),e.schema=r,e.create(t,c,y,n)}function KP(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}K1(e,t.position)}function ZP(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);K1(e,t.position)}function qP(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Cm,e.schema=o),e.ancestors.push(t);const c=t.name===null?e.Fragment:P7(e,t.name,!0),y=nz(e,t),d=Lx(e,t);return F7(e,y,c,t),Nx(y,d),e.ancestors.pop(),e.schema=r,e.create(t,c,y,n)}function QP(e,t,n){const r={};return Nx(r,Lx(e,t)),e.create(t,e.Fragment,r,n)}function JP(e,t){return t.value}function F7(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Nx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $P(e,t,n){return r;function r(o,c,y,d){const u=Array.isArray(y.children)?n:t;return d?u(c,y,d):u(c,y)}}function ez(e,t){return n;function n(r,o,c,y){const d=Array.isArray(c.children),a=Ix(r);return t(o,c,y,d,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function tz(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Rx.call(t.properties,o)){const c=rz(e,o,t.properties[o]);if(c){const[y,d]=c;e.tableCellAlignToStyle&&y==="align"&&typeof d=="string"&&YP.has(t.tagName)?r=d:n[y]=d}}if(r){const c=n.style||(n.style={});c[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function nz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const c=r.data.estree.body[0];c.type;const y=c.expression;y.type;const d=y.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else K1(e,t.position);else{const o=r.name;let c;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const d=r.value.data.estree.body[0];d.type,c=e.evaluater.evaluateExpression(d.expression)}else K1(e,t.position);else c=r.value===null?!0:r.value;n[o]=c}return n}function Lx(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:jP;for(;++r<t.children.length;){const c=t.children[r];let y;if(e.passKeys){const a=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(a){const u=o.get(a)||0;y=a+"-"+u,o.set(a,u+1)}}const d=B7(e,c,y);d!==void 0&&n.push(d)}return n}function rz(e,t,n){const r=O7(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?bP(n):NP(n)),r.property==="style"){let o=typeof n=="object"?n:iz(e,String(n));return e.stylePropertyNameCase==="css"&&(o=az(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?_P[r.property]||r.property:r.attribute,n]}}function iz(e,t){try{return HP(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new tu("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=L7+"#cannot-parse-style-attribute",o}}function P7(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let c=-1,y;for(;++c<o.length;){const d=p5(o[c])?{type:"Identifier",name:o[c]}:{type:"Literal",value:o[c]};y=y?{type:"MemberExpression",object:y,property:d,computed:!!(c&&d.type==="Literal"),optional:!1}:d}r=y}else r=p5(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Rx.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);K1(e)}function K1(e,t){const n=new tu("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=L7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function az(e){const t={};let n;for(n in e)Rx.call(e,n)&&(t[oz(n)]=e[n]);return t}function oz(e){let t=e.replace(WP,sz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function sz(e){return"-"+e.toLowerCase()}const i2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lz={};function Bx(e,t){const n=lz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return z7(e,r,o)}function z7(e,t,n){if(uz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return T5(e.children,t,n)}return Array.isArray(e)?T5(e,t,n):""}function T5(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=z7(e[o],t,n);return r.join("")}function uz(e){return!!(e&&typeof e=="object")}const D5=document.createElement("i");function Fx(e){const t="&"+e+";";D5.innerHTML=t;const n=D5.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function gc(e,t,n,r){const o=e.length;let c=0,y;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)y=Array.from(r),y.unshift(t,n),e.splice(...y);else for(n&&e.splice(t,n);c<r.length;)y=r.slice(c,c+1e4),y.unshift(t,0),e.splice(...y),c+=1e4,t+=1e4}function Ic(e,t){return e.length>0?(gc(e,e.length,0,t),e):t}const k5={}.hasOwnProperty;function H7(e){const t={};let n=-1;for(;++n<e.length;)cz(t,e[n]);return t}function cz(e,t){let n;for(n in t){const o=(k5.call(e,n)?e[n]:void 0)||(e[n]={}),c=t[n];let y;if(c)for(y in c){k5.call(o,y)||(o[y]=[]);const d=c[y];fz(o[y],Array.isArray(d)?d:d?[d]:[])}}}function fz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);gc(e,0,0,r)}function U7(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function sf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const gu=r0(/[A-Za-z]/),eu=r0(/[\dA-Za-z]/),hz=r0(/[#-'*+\--9=?A-Z^-~]/);function Kp(e){return e!==null&&(e<32||e===127)}const py=r0(/\d/),dz=r0(/[\dA-Fa-f]/),gz=r0(/[!-/:-@[-`{-~]/);function Sr(e){return e!==null&&e<-2}function lo(e){return e!==null&&(e<0||e===32)}function Vi(e){return e===-2||e===-1||e===32}const Sm=r0(new RegExp("\\p{P}|\\p{S}","u")),B0=r0(/\s/);function r0(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function jd(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const c=e.charCodeAt(n);let y="";if(c===37&&eu(e.charCodeAt(n+1))&&eu(e.charCodeAt(n+2)))o=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(y=String.fromCharCode(c));else if(c>55295&&c<57344){const d=e.charCodeAt(n+1);c<56320&&d>56319&&d<57344?(y=String.fromCharCode(c,d),o=1):y=""}else y=String.fromCharCode(c);y&&(t.push(e.slice(r,n),encodeURIComponent(y)),r=n+o+1,y=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function zi(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let c=0;return y;function y(a){return Vi(a)?(e.enter(n),d(a)):t(a)}function d(a){return Vi(a)&&c++<o?(e.consume(a),d):(e.exit(n),t(a))}}const pz={tokenize:mz};function mz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),zi(e,t,"linePrefix")}function o(d){return e.enter("paragraph"),c(d)}function c(d){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,y(d)}function y(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return Sr(d)?(e.consume(d),e.exit("chunkText"),c):(e.consume(d),y)}}const vz={tokenize:yz},_5={tokenize:xz};function yz(e){const t=this,n=[];let r=0,o,c,y;return d;function d(U){if(r<n.length){const W=n[r];return t.containerState=W[1],e.attempt(W[0].continuation,a,u)(U)}return u(U)}function a(U){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&N();const W=t.events.length;let q=W,J;for(;q--;)if(t.events[q][0]==="exit"&&t.events[q][1].type==="chunkFlow"){J=t.events[q][1].end;break}O(r);let ne=W;for(;ne<t.events.length;)t.events[ne][1].end={...J},ne++;return gc(t.events,q+1,0,t.events.slice(W)),t.events.length=ne,u(U)}return d(U)}function u(U){if(r===n.length){if(!o)return g(U);if(o.currentConstruct&&o.currentConstruct.concrete)return C(U);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(_5,v,f)(U)}function v(U){return o&&N(),O(r),g(U)}function f(U){return t.parser.lazy[t.now().line]=r!==n.length,y=t.now().offset,C(U)}function g(U){return t.containerState={},e.attempt(_5,m,C)(U)}function m(U){return r++,n.push([t.currentConstruct,t.containerState]),g(U)}function C(U){if(U===null){o&&N(),O(0),e.consume(U);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:c}),D(U)}function D(U){if(U===null){S(e.exit("chunkFlow"),!0),O(0),e.consume(U);return}return Sr(U)?(e.consume(U),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,d):(e.consume(U),D)}function S(U,W){const q=t.sliceStream(U);if(W&&q.push(null),U.previous=c,c&&(c.next=U),c=U,o.defineSkip(U.start),o.write(q),t.parser.lazy[U.start.line]){let J=o.events.length;for(;J--;)if(o.events[J][1].start.offset<y&&(!o.events[J][1].end||o.events[J][1].end.offset>y))return;const ne=t.events.length;let ve=ne,Se,Be;for(;ve--;)if(t.events[ve][0]==="exit"&&t.events[ve][1].type==="chunkFlow"){if(Se){Be=t.events[ve][1].end;break}Se=!0}for(O(r),J=ne;J<t.events.length;)t.events[J][1].end={...Be},J++;gc(t.events,ve+1,0,t.events.slice(ne)),t.events.length=J}}function O(U){let W=n.length;for(;W-- >U;){const q=n[W];t.containerState=q[1],q[0].exit.call(t,e)}n.length=U}function N(){o.write([null]),c=void 0,o=void 0,t.containerState._closeFlow=void 0}}function xz(e,t,n){return zi(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Od(e){if(e===null||lo(e)||B0(e))return 1;if(Sm(e))return 2}function Em(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const c=e[o].resolveAll;c&&!r.includes(c)&&(t=c(t,n),r.push(c))}return t}const my={name:"attention",resolveAll:bz,tokenize:wz};function bz(e,t){let n=-1,r,o,c,y,d,a,u,v;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},g={...e[n][1].start};M5(f,-a),M5(g,a),y={type:a>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},d={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},c={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:a>1?"strong":"emphasis",start:{...y.start},end:{...d.end}},e[r][1].end={...y.start},e[n][1].start={...d.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ic(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ic(u,[["enter",o,t],["enter",y,t],["exit",y,t],["enter",c,t]]),u=Ic(u,Em(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ic(u,[["exit",c,t],["enter",d,t],["exit",d,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(v=2,u=Ic(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):v=0,gc(e,r-1,n-r+3,u),n=r+u.length-v-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Od(r);let c;return y;function y(a){return c=a,e.enter("attentionSequence"),d(a)}function d(a){if(a===c)return e.consume(a),d;const u=e.exit("attentionSequence"),v=Od(a),f=!v||v===2&&o||n.includes(a),g=!o||o===2&&v||n.includes(r);return u._open=!!(c===42?f:f&&(o||!g)),u._close=!!(c===42?g:g&&(v||!f)),t(a)}}function M5(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Cz={name:"autolink",tokenize:Sz};function Sz(e,t,n){let r=0;return o;function o(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),c}function c(m){return gu(m)?(e.consume(m),y):m===64?n(m):u(m)}function y(m){return m===43||m===45||m===46||eu(m)?(r=1,d(m)):u(m)}function d(m){return m===58?(e.consume(m),r=0,a):(m===43||m===45||m===46||eu(m))&&r++<32?(e.consume(m),d):(r=0,u(m))}function a(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Kp(m)?n(m):(e.consume(m),a)}function u(m){return m===64?(e.consume(m),v):hz(m)?(e.consume(m),u):n(m)}function v(m){return eu(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,v):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||eu(m))&&r++<63){const C=m===45?g:f;return e.consume(m),C}return n(m)}}const ag={partial:!0,tokenize:Ez};function Ez(e,t,n){return r;function r(c){return Vi(c)?zi(e,o,"linePrefix")(c):o(c)}function o(c){return c===null||Sr(c)?t(c):n(c)}}const j7={continuation:{tokenize:Tz},exit:Dz,name:"blockQuote",tokenize:Az};function Az(e,t,n){const r=this;return o;function o(y){if(y===62){const d=r.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(y),e.exit("blockQuoteMarker"),c}return n(y)}function c(y){return Vi(y)?(e.enter("blockQuotePrefixWhitespace"),e.consume(y),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(y))}}function Tz(e,t,n){const r=this;return o;function o(y){return Vi(y)?zi(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):c(y)}function c(y){return e.attempt(j7,t,n)(y)}}function Dz(e){e.exit("blockQuote")}const W7={name:"characterEscape",tokenize:kz};function kz(e,t,n){return r;function r(c){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(c),e.exit("escapeMarker"),o}function o(c){return gz(c)?(e.enter("characterEscapeValue"),e.consume(c),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(c)}}const G7={name:"characterReference",tokenize:_z};function _z(e,t,n){const r=this;let o=0,c,y;return d;function d(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),a}function a(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),c=31,y=eu,v(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),c=6,y=dz,v):(e.enter("characterReferenceValue"),c=7,y=py,v(f))}function v(f){if(f===59&&o){const g=e.exit("characterReferenceValue");return y===eu&&!Fx(r.sliceSerialize(g))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return y(f)&&o++<c?(e.consume(f),v):n(f)}}const O5={partial:!0,tokenize:Oz},I5={concrete:!0,name:"codeFenced",tokenize:Mz};function Mz(e,t,n){const r=this,o={partial:!0,tokenize:q};let c=0,y=0,d;return a;function a(J){return u(J)}function u(J){const ne=r.events[r.events.length-1];return c=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,d=J,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),v(J)}function v(J){return J===d?(y++,e.consume(J),v):y<3?n(J):(e.exit("codeFencedFenceSequence"),Vi(J)?zi(e,f,"whitespace")(J):f(J))}function f(J){return J===null||Sr(J)?(e.exit("codeFencedFence"),r.interrupt?t(J):e.check(O5,D,W)(J)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(J))}function g(J){return J===null||Sr(J)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(J)):Vi(J)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),zi(e,m,"whitespace")(J)):J===96&&J===d?n(J):(e.consume(J),g)}function m(J){return J===null||Sr(J)?f(J):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(J))}function C(J){return J===null||Sr(J)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(J)):J===96&&J===d?n(J):(e.consume(J),C)}function D(J){return e.attempt(o,W,S)(J)}function S(J){return e.enter("lineEnding"),e.consume(J),e.exit("lineEnding"),O}function O(J){return c>0&&Vi(J)?zi(e,N,"linePrefix",c+1)(J):N(J)}function N(J){return J===null||Sr(J)?e.check(O5,D,W)(J):(e.enter("codeFlowValue"),U(J))}function U(J){return J===null||Sr(J)?(e.exit("codeFlowValue"),N(J)):(e.consume(J),U)}function W(J){return e.exit("codeFenced"),t(J)}function q(J,ne,ve){let Se=0;return Be;function Be(ge){return J.enter("lineEnding"),J.consume(ge),J.exit("lineEnding"),Ue}function Ue(ge){return J.enter("codeFencedFence"),Vi(ge)?zi(J,qe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ge):qe(ge)}function qe(ge){return ge===d?(J.enter("codeFencedFenceSequence"),mt(ge)):ve(ge)}function mt(ge){return ge===d?(Se++,J.consume(ge),mt):Se>=y?(J.exit("codeFencedFenceSequence"),Vi(ge)?zi(J,ut,"whitespace")(ge):ut(ge)):ve(ge)}function ut(ge){return ge===null||Sr(ge)?(J.exit("codeFencedFence"),ne(ge)):ve(ge)}}}function Oz(e,t,n){const r=this;return o;function o(y){return y===null?n(y):(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),c)}function c(y){return r.parser.lazy[r.now().line]?n(y):t(y)}}const a2={name:"codeIndented",tokenize:Rz},Iz={partial:!0,tokenize:Nz};function Rz(e,t,n){const r=this;return o;function o(u){return e.enter("codeIndented"),zi(e,c,"linePrefix",5)(u)}function c(u){const v=r.events[r.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?y(u):n(u)}function y(u){return u===null?a(u):Sr(u)?e.attempt(Iz,y,a)(u):(e.enter("codeFlowValue"),d(u))}function d(u){return u===null||Sr(u)?(e.exit("codeFlowValue"),y(u)):(e.consume(u),d)}function a(u){return e.exit("codeIndented"),t(u)}}function Nz(e,t,n){const r=this;return o;function o(y){return r.parser.lazy[r.now().line]?n(y):Sr(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),o):zi(e,c,"linePrefix",5)(y)}function c(y){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(y):Sr(y)?o(y):n(y)}}const Lz={name:"codeText",previous:Fz,resolve:Bz,tokenize:Pz};function Bz(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function Fz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Pz(e,t,n){let r=0,o,c;return y;function y(f){return e.enter("codeText"),e.enter("codeTextSequence"),d(f)}function d(f){return f===96?(e.consume(f),r++,d):(e.exit("codeTextSequence"),a(f))}function a(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),a):f===96?(c=e.enter("codeTextSequence"),o=0,v(f)):Sr(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Sr(f)?(e.exit("codeTextData"),a(f)):(e.consume(f),u)}function v(f){return f===96?(e.consume(f),o++,v):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(c.type="codeTextData",u(f))}}class zz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const c=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&v1(this.left,r),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),v1(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),v1(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);v1(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);v1(this.left,n.reverse())}}}function v1(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Y7(e){const t={};let n=-1,r,o,c,y,d,a,u;const v=new zz(e);for(;++n<v.length;){for(;n in t;)n=t[n];if(r=v.get(n),n&&r[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,c=0,c<a.length&&a[c][1].type==="lineEndingBlank"&&(c+=2),c<a.length&&a[c][1].type==="content"))for(;++c<a.length&&a[c][1].type!=="content";)a[c][1].type==="chunkText"&&(a[c][1]._isInFirstContentOfListItem=!0,c++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Hz(v,n)),n=t[n],u=!0);else if(r[1]._container){for(c=n,o=void 0;c--;)if(y=v.get(c),y[1].type==="lineEnding"||y[1].type==="lineEndingBlank")y[0]==="enter"&&(o&&(v.get(o)[1].type="lineEndingBlank"),y[1].type="lineEnding",o=c);else if(!(y[1].type==="linePrefix"||y[1].type==="listItemIndent"))break;o&&(r[1].end={...v.get(o)[1].start},d=v.slice(o,n),d.unshift(r),v.splice(o,n-o+1,d))}}return gc(e,0,Number.POSITIVE_INFINITY,v.slice(0)),!u}function Hz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const c=[];let y=n._tokenizer;y||(y=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(y._contentTypeTextTrailing=!0));const d=y.events,a=[],u={};let v,f,g=-1,m=n,C=0,D=0;const S=[D];for(;m;){for(;e.get(++o)[1]!==m;);c.push(o),m._tokenizer||(v=r.sliceStream(m),m.next||v.push(null),f&&y.defineSkip(m.start),m._isInFirstContentOfListItem&&(y._gfmTasklistFirstContentOfListItem=!0),y.write(v),m._isInFirstContentOfListItem&&(y._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++g<d.length;)d[g][0]==="exit"&&d[g-1][0]==="enter"&&d[g][1].type===d[g-1][1].type&&d[g][1].start.line!==d[g][1].end.line&&(D=g+1,S.push(D),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(y.events=[],m?(m._tokenizer=void 0,m.previous=void 0):S.pop(),g=S.length;g--;){const O=d.slice(S[g],S[g+1]),N=c.pop();a.push([N,N+O.length-1]),e.splice(N,2,O)}for(a.reverse(),g=-1;++g<a.length;)u[C+a[g][0]]=C+a[g][1],C+=a[g][1]-a[g][0]-1;return u}const Uz={resolve:Wz,tokenize:Gz},jz={partial:!0,tokenize:Yz};function Wz(e){return Y7(e),e}function Gz(e,t){let n;return r;function r(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?c(d):Sr(d)?e.check(jz,y,c)(d):(e.consume(d),o)}function c(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function y(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function Yz(e,t,n){const r=this;return o;function o(y){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),zi(e,c,"linePrefix")}function c(y){if(y===null||Sr(y))return n(y);const d=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(y):e.interrupt(r.parser.constructs.flow,n,t)(y)}}function X7(e,t,n,r,o,c,y,d,a){const u=a||Number.POSITIVE_INFINITY;let v=0;return f;function f(O){return O===60?(e.enter(r),e.enter(o),e.enter(c),e.consume(O),e.exit(c),g):O===null||O===32||O===41||Kp(O)?n(O):(e.enter(r),e.enter(y),e.enter(d),e.enter("chunkString",{contentType:"string"}),D(O))}function g(O){return O===62?(e.enter(c),e.consume(O),e.exit(c),e.exit(o),e.exit(r),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),m(O))}function m(O){return O===62?(e.exit("chunkString"),e.exit(d),g(O)):O===null||O===60||Sr(O)?n(O):(e.consume(O),O===92?C:m)}function C(O){return O===60||O===62||O===92?(e.consume(O),m):m(O)}function D(O){return!v&&(O===null||O===41||lo(O))?(e.exit("chunkString"),e.exit(d),e.exit(y),e.exit(r),t(O)):v<u&&O===40?(e.consume(O),v++,D):O===41?(e.consume(O),v--,D):O===null||O===32||O===40||Kp(O)?n(O):(e.consume(O),O===92?S:D)}function S(O){return O===40||O===41||O===92?(e.consume(O),D):D(O)}}function V7(e,t,n,r,o,c){const y=this;let d=0,a;return u;function u(m){return e.enter(r),e.enter(o),e.consume(m),e.exit(o),e.enter(c),v}function v(m){return d>999||m===null||m===91||m===93&&!a||m===94&&!d&&"_hiddenFootnoteSupport"in y.parser.constructs?n(m):m===93?(e.exit(c),e.enter(o),e.consume(m),e.exit(o),e.exit(r),t):Sr(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),v):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Sr(m)||d++>999?(e.exit("chunkString"),v(m)):(e.consume(m),a||(a=!Vi(m)),m===92?g:f)}function g(m){return m===91||m===92||m===93?(e.consume(m),d++,f):f(m)}}function K7(e,t,n,r,o,c){let y;return d;function d(g){return g===34||g===39||g===40?(e.enter(r),e.enter(o),e.consume(g),e.exit(o),y=g===40?41:g,a):n(g)}function a(g){return g===y?(e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):(e.enter(c),u(g))}function u(g){return g===y?(e.exit(c),a(y)):g===null?n(g):Sr(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),zi(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),v(g))}function v(g){return g===y||g===null||Sr(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?f:v)}function f(g){return g===y||g===92?(e.consume(g),v):v(g)}}function R1(e,t){let n;return r;function r(o){return Sr(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Vi(o)?zi(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const Xz={name:"definition",tokenize:Kz},Vz={partial:!0,tokenize:Zz};function Kz(e,t,n){const r=this;let o;return c;function c(m){return e.enter("definition"),y(m)}function y(m){return V7.call(r,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function d(m){return o=sf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a):n(m)}function a(m){return lo(m)?R1(e,u)(m):u(m)}function u(m){return X7(e,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function v(m){return e.attempt(Vz,f,f)(m)}function f(m){return Vi(m)?zi(e,g,"whitespace")(m):g(m)}function g(m){return m===null||Sr(m)?(e.exit("definition"),r.parser.defined.push(o),t(m)):n(m)}}function Zz(e,t,n){return r;function r(d){return lo(d)?R1(e,o)(d):n(d)}function o(d){return K7(e,c,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function c(d){return Vi(d)?zi(e,y,"whitespace")(d):y(d)}function y(d){return d===null||Sr(d)?t(d):n(d)}}const qz={name:"hardBreakEscape",tokenize:Qz};function Qz(e,t,n){return r;function r(c){return e.enter("hardBreakEscape"),e.consume(c),o}function o(c){return Sr(c)?(e.exit("hardBreakEscape"),t(c)):n(c)}}const Jz={name:"headingAtx",resolve:$z,tokenize:eH};function $z(e,t){let n=e.length-2,r=3,o,c;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},c={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},gc(e,r,n-r+1,[["enter",o,t],["enter",c,t],["exit",c,t],["exit",o,t]])),e}function eH(e,t,n){let r=0;return o;function o(v){return e.enter("atxHeading"),c(v)}function c(v){return e.enter("atxHeadingSequence"),y(v)}function y(v){return v===35&&r++<6?(e.consume(v),y):v===null||lo(v)?(e.exit("atxHeadingSequence"),d(v)):n(v)}function d(v){return v===35?(e.enter("atxHeadingSequence"),a(v)):v===null||Sr(v)?(e.exit("atxHeading"),t(v)):Vi(v)?zi(e,d,"whitespace")(v):(e.enter("atxHeadingText"),u(v))}function a(v){return v===35?(e.consume(v),a):(e.exit("atxHeadingSequence"),d(v))}function u(v){return v===null||v===35||lo(v)?(e.exit("atxHeadingText"),d(v)):(e.consume(v),u)}}const tH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],R5=["pre","script","style","textarea"],nH={concrete:!0,name:"htmlFlow",resolveTo:aH,tokenize:oH},rH={partial:!0,tokenize:lH},iH={partial:!0,tokenize:sH};function aH(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function oH(e,t,n){const r=this;let o,c,y,d,a;return u;function u(Z){return v(Z)}function v(Z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(Z),f}function f(Z){return Z===33?(e.consume(Z),g):Z===47?(e.consume(Z),c=!0,D):Z===63?(e.consume(Z),o=3,r.interrupt?t:ue):gu(Z)?(e.consume(Z),y=String.fromCharCode(Z),S):n(Z)}function g(Z){return Z===45?(e.consume(Z),o=2,m):Z===91?(e.consume(Z),o=5,d=0,C):gu(Z)?(e.consume(Z),o=4,r.interrupt?t:ue):n(Z)}function m(Z){return Z===45?(e.consume(Z),r.interrupt?t:ue):n(Z)}function C(Z){const be="CDATA[";return Z===be.charCodeAt(d++)?(e.consume(Z),d===be.length?r.interrupt?t:qe:C):n(Z)}function D(Z){return gu(Z)?(e.consume(Z),y=String.fromCharCode(Z),S):n(Z)}function S(Z){if(Z===null||Z===47||Z===62||lo(Z)){const be=Z===47,Te=y.toLowerCase();return!be&&!c&&R5.includes(Te)?(o=1,r.interrupt?t(Z):qe(Z)):tH.includes(y.toLowerCase())?(o=6,be?(e.consume(Z),O):r.interrupt?t(Z):qe(Z)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(Z):c?N(Z):U(Z))}return Z===45||eu(Z)?(e.consume(Z),y+=String.fromCharCode(Z),S):n(Z)}function O(Z){return Z===62?(e.consume(Z),r.interrupt?t:qe):n(Z)}function N(Z){return Vi(Z)?(e.consume(Z),N):Be(Z)}function U(Z){return Z===47?(e.consume(Z),Be):Z===58||Z===95||gu(Z)?(e.consume(Z),W):Vi(Z)?(e.consume(Z),U):Be(Z)}function W(Z){return Z===45||Z===46||Z===58||Z===95||eu(Z)?(e.consume(Z),W):q(Z)}function q(Z){return Z===61?(e.consume(Z),J):Vi(Z)?(e.consume(Z),q):U(Z)}function J(Z){return Z===null||Z===60||Z===61||Z===62||Z===96?n(Z):Z===34||Z===39?(e.consume(Z),a=Z,ne):Vi(Z)?(e.consume(Z),J):ve(Z)}function ne(Z){return Z===a?(e.consume(Z),a=null,Se):Z===null||Sr(Z)?n(Z):(e.consume(Z),ne)}function ve(Z){return Z===null||Z===34||Z===39||Z===47||Z===60||Z===61||Z===62||Z===96||lo(Z)?q(Z):(e.consume(Z),ve)}function Se(Z){return Z===47||Z===62||Vi(Z)?U(Z):n(Z)}function Be(Z){return Z===62?(e.consume(Z),Ue):n(Z)}function Ue(Z){return Z===null||Sr(Z)?qe(Z):Vi(Z)?(e.consume(Z),Ue):n(Z)}function qe(Z){return Z===45&&o===2?(e.consume(Z),me):Z===60&&o===1?(e.consume(Z),Ie):Z===62&&o===4?(e.consume(Z),ce):Z===63&&o===3?(e.consume(Z),ue):Z===93&&o===5?(e.consume(Z),Me):Sr(Z)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(rH,oe,mt)(Z)):Z===null||Sr(Z)?(e.exit("htmlFlowData"),mt(Z)):(e.consume(Z),qe)}function mt(Z){return e.check(iH,ut,oe)(Z)}function ut(Z){return e.enter("lineEnding"),e.consume(Z),e.exit("lineEnding"),ge}function ge(Z){return Z===null||Sr(Z)?mt(Z):(e.enter("htmlFlowData"),qe(Z))}function me(Z){return Z===45?(e.consume(Z),ue):qe(Z)}function Ie(Z){return Z===47?(e.consume(Z),y="",lt):qe(Z)}function lt(Z){if(Z===62){const be=y.toLowerCase();return R5.includes(be)?(e.consume(Z),ce):qe(Z)}return gu(Z)&&y.length<8?(e.consume(Z),y+=String.fromCharCode(Z),lt):qe(Z)}function Me(Z){return Z===93?(e.consume(Z),ue):qe(Z)}function ue(Z){return Z===62?(e.consume(Z),ce):Z===45&&o===2?(e.consume(Z),ue):qe(Z)}function ce(Z){return Z===null||Sr(Z)?(e.exit("htmlFlowData"),oe(Z)):(e.consume(Z),ce)}function oe(Z){return e.exit("htmlFlow"),t(Z)}}function sH(e,t,n){const r=this;return o;function o(y){return Sr(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),c):n(y)}function c(y){return r.parser.lazy[r.now().line]?n(y):t(y)}}function lH(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(ag,t,n)}}const uH={name:"htmlText",tokenize:cH};function cH(e,t,n){const r=this;let o,c,y;return d;function d(ue){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(ue),a}function a(ue){return ue===33?(e.consume(ue),u):ue===47?(e.consume(ue),q):ue===63?(e.consume(ue),U):gu(ue)?(e.consume(ue),ve):n(ue)}function u(ue){return ue===45?(e.consume(ue),v):ue===91?(e.consume(ue),c=0,C):gu(ue)?(e.consume(ue),N):n(ue)}function v(ue){return ue===45?(e.consume(ue),m):n(ue)}function f(ue){return ue===null?n(ue):ue===45?(e.consume(ue),g):Sr(ue)?(y=f,Ie(ue)):(e.consume(ue),f)}function g(ue){return ue===45?(e.consume(ue),m):f(ue)}function m(ue){return ue===62?me(ue):ue===45?g(ue):f(ue)}function C(ue){const ce="CDATA[";return ue===ce.charCodeAt(c++)?(e.consume(ue),c===ce.length?D:C):n(ue)}function D(ue){return ue===null?n(ue):ue===93?(e.consume(ue),S):Sr(ue)?(y=D,Ie(ue)):(e.consume(ue),D)}function S(ue){return ue===93?(e.consume(ue),O):D(ue)}function O(ue){return ue===62?me(ue):ue===93?(e.consume(ue),O):D(ue)}function N(ue){return ue===null||ue===62?me(ue):Sr(ue)?(y=N,Ie(ue)):(e.consume(ue),N)}function U(ue){return ue===null?n(ue):ue===63?(e.consume(ue),W):Sr(ue)?(y=U,Ie(ue)):(e.consume(ue),U)}function W(ue){return ue===62?me(ue):U(ue)}function q(ue){return gu(ue)?(e.consume(ue),J):n(ue)}function J(ue){return ue===45||eu(ue)?(e.consume(ue),J):ne(ue)}function ne(ue){return Sr(ue)?(y=ne,Ie(ue)):Vi(ue)?(e.consume(ue),ne):me(ue)}function ve(ue){return ue===45||eu(ue)?(e.consume(ue),ve):ue===47||ue===62||lo(ue)?Se(ue):n(ue)}function Se(ue){return ue===47?(e.consume(ue),me):ue===58||ue===95||gu(ue)?(e.consume(ue),Be):Sr(ue)?(y=Se,Ie(ue)):Vi(ue)?(e.consume(ue),Se):me(ue)}function Be(ue){return ue===45||ue===46||ue===58||ue===95||eu(ue)?(e.consume(ue),Be):Ue(ue)}function Ue(ue){return ue===61?(e.consume(ue),qe):Sr(ue)?(y=Ue,Ie(ue)):Vi(ue)?(e.consume(ue),Ue):Se(ue)}function qe(ue){return ue===null||ue===60||ue===61||ue===62||ue===96?n(ue):ue===34||ue===39?(e.consume(ue),o=ue,mt):Sr(ue)?(y=qe,Ie(ue)):Vi(ue)?(e.consume(ue),qe):(e.consume(ue),ut)}function mt(ue){return ue===o?(e.consume(ue),o=void 0,ge):ue===null?n(ue):Sr(ue)?(y=mt,Ie(ue)):(e.consume(ue),mt)}function ut(ue){return ue===null||ue===34||ue===39||ue===60||ue===61||ue===96?n(ue):ue===47||ue===62||lo(ue)?Se(ue):(e.consume(ue),ut)}function ge(ue){return ue===47||ue===62||lo(ue)?Se(ue):n(ue)}function me(ue){return ue===62?(e.consume(ue),e.exit("htmlTextData"),e.exit("htmlText"),t):n(ue)}function Ie(ue){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(ue),e.exit("lineEnding"),lt}function lt(ue){return Vi(ue)?zi(e,Me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):Me(ue)}function Me(ue){return e.enter("htmlTextData"),y(ue)}}const Px={name:"labelEnd",resolveAll:gH,resolveTo:pH,tokenize:mH},fH={tokenize:vH},hH={tokenize:yH},dH={tokenize:xH};function gH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&gc(e,0,e.length,n),e}function pH(e,t){let n=e.length,r=0,o,c,y,d;for(;n--;)if(o=e[n][1],c){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(y){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(c=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(y=n);const a={type:e[c][1].type==="labelLink"?"link":"image",start:{...e[c][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[c][1].start},end:{...e[y][1].end}},v={type:"labelText",start:{...e[c+r+2][1].end},end:{...e[y-2][1].start}};return d=[["enter",a,t],["enter",u,t]],d=Ic(d,e.slice(c+1,c+r+3)),d=Ic(d,[["enter",v,t]]),d=Ic(d,Em(t.parser.constructs.insideSpan.null,e.slice(c+r+4,y-3),t)),d=Ic(d,[["exit",v,t],e[y-2],e[y-1],["exit",u,t]]),d=Ic(d,e.slice(y+1)),d=Ic(d,[["exit",a,t]]),gc(e,c,e.length,d),e}function mH(e,t,n){const r=this;let o=r.events.length,c,y;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){c=r.events[o][1];break}return d;function d(g){return c?c._inactive?f(g):(y=r.parser.defined.includes(sf(r.sliceSerialize({start:c.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),a):n(g)}function a(g){return g===40?e.attempt(fH,v,y?v:f)(g):g===91?e.attempt(hH,v,y?u:f)(g):y?v(g):f(g)}function u(g){return e.attempt(dH,v,f)(g)}function v(g){return t(g)}function f(g){return c._balanced=!0,n(g)}}function vH(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),o}function o(f){return lo(f)?R1(e,c)(f):c(f)}function c(f){return f===41?v(f):X7(e,y,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function y(f){return lo(f)?R1(e,a)(f):v(f)}function d(f){return n(f)}function a(f){return f===34||f===39||f===40?K7(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):v(f)}function u(f){return lo(f)?R1(e,v)(f):v(f)}function v(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function yH(e,t,n){const r=this;return o;function o(d){return V7.call(r,e,c,y,"reference","referenceMarker","referenceString")(d)}function c(d){return r.parser.defined.includes(sf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function y(d){return n(d)}}function xH(e,t,n){return r;function r(c){return e.enter("reference"),e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),o}function o(c){return c===93?(e.enter("referenceMarker"),e.consume(c),e.exit("referenceMarker"),e.exit("reference"),t):n(c)}}const bH={name:"labelStartImage",resolveAll:Px.resolveAll,tokenize:wH};function wH(e,t,n){const r=this;return o;function o(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),c}function c(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),y):n(d)}function y(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(d):t(d)}}const CH={name:"labelStartLink",resolveAll:Px.resolveAll,tokenize:SH};function SH(e,t,n){const r=this;return o;function o(y){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelLink"),c}function c(y){return y===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(y):t(y)}}const o2={name:"lineEnding",tokenize:EH};function EH(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),zi(e,t,"linePrefix")}}const bp={name:"thematicBreak",tokenize:AH};function AH(e,t,n){let r=0,o;return c;function c(u){return e.enter("thematicBreak"),y(u)}function y(u){return o=u,d(u)}function d(u){return u===o?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||Sr(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===o?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),Vi(u)?zi(e,d,"whitespace")(u):d(u))}}const zu={continuation:{tokenize:_H},exit:OH,name:"list",tokenize:kH},TH={partial:!0,tokenize:IH},DH={partial:!0,tokenize:MH};function kH(e,t,n){const r=this,o=r.events[r.events.length-1];let c=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,y=0;return d;function d(m){const C=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:py(m)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(bp,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(m)}return n(m)}function a(m){return py(m)&&++y<10?(e.consume(m),a):(!r.interrupt||y<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(ag,r.interrupt?n:v,e.attempt(TH,g,f))}function v(m){return r.containerState.initialBlankLine=!0,c++,g(m)}function f(m){return Vi(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=c+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function _H(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ag,o,c);function o(d){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,zi(e,t,"listItemIndent",r.containerState.size+1)(d)}function c(d){return r.containerState.furtherBlankLines||!Vi(d)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,y(d)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(DH,t,y)(d))}function y(d){return r.containerState._closeFlow=!0,r.interrupt=void 0,zi(e,e.attempt(zu,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function MH(e,t,n){const r=this;return zi(e,o,"listItemIndent",r.containerState.size+1);function o(c){const y=r.events[r.events.length-1];return y&&y[1].type==="listItemIndent"&&y[2].sliceSerialize(y[1],!0).length===r.containerState.size?t(c):n(c)}}function OH(e){e.exit(this.containerState.type)}function IH(e,t,n){const r=this;return zi(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(c){const y=r.events[r.events.length-1];return!Vi(c)&&y&&y[1].type==="listItemPrefixWhitespace"?t(c):n(c)}}const N5={name:"setextUnderline",resolveTo:RH,tokenize:NH};function RH(e,t){let n=e.length,r,o,c;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!c&&e[n][1].type==="definition"&&(c=n);const y={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",c?(e.splice(o,0,["enter",y,t]),e.splice(c+1,0,["exit",e[r][1],t]),e[r][1].end={...e[c][1].end}):e[r][1]=y,e.push(["exit",y,t]),e}function NH(e,t,n){const r=this;let o;return c;function c(u){let v=r.events.length,f;for(;v--;)if(r.events[v][1].type!=="lineEnding"&&r.events[v][1].type!=="linePrefix"&&r.events[v][1].type!=="content"){f=r.events[v][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),o=u,y(u)):n(u)}function y(u){return e.enter("setextHeadingLineSequence"),d(u)}function d(u){return u===o?(e.consume(u),d):(e.exit("setextHeadingLineSequence"),Vi(u)?zi(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||Sr(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const LH={tokenize:BH};function BH(e){const t=this,n=e.attempt(ag,r,e.attempt(this.parser.constructs.flowInitial,o,zi(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Uz,o)),"linePrefix")));return n;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEndingBlank"),e.consume(c),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const FH={resolveAll:q7()},PH=Z7("string"),zH=Z7("text");function Z7(e){return{resolveAll:q7(e==="text"?HH:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],c=n.attempt(o,y,d);return y;function y(v){return u(v)?c(v):d(v)}function d(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),a}function a(v){return u(v)?(n.exit("data"),c(v)):(n.consume(v),a)}function u(v){if(v===null)return!0;const f=o[v];let g=-1;if(f)for(;++g<f.length;){const m=f[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function q7(e){return t;function t(n,r){let o=-1,c;for(;++o<=n.length;)c===void 0?n[o]&&n[o][1].type==="data"&&(c=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==c+2&&(n[c][1].end=n[o-1][1].end,n.splice(c+2,o-c-2),o=c+2),c=void 0);return e?e(n,r):n}}function HH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let c=o.length,y=-1,d=0,a;for(;c--;){const u=o[c];if(typeof u=="string"){for(y=u.length;u.charCodeAt(y-1)===32;)d++,y--;if(y)break;y=-1}else if(u===-2)a=!0,d++;else if(u!==-1){c++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const u={type:n===e.length||a||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?y:r.start._bufferIndex+y,_index:r.start._index+c,line:r.end.line,column:r.end.column-d,offset:r.end.offset-d},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const UH={42:zu,43:zu,45:zu,48:zu,49:zu,50:zu,51:zu,52:zu,53:zu,54:zu,55:zu,56:zu,57:zu,62:j7},jH={91:Xz},WH={[-2]:a2,[-1]:a2,32:a2},GH={35:Jz,42:bp,45:[N5,bp],60:nH,61:N5,95:bp,96:I5,126:I5},YH={38:G7,92:W7},XH={[-5]:o2,[-4]:o2,[-3]:o2,33:bH,38:G7,42:my,60:[Cz,uH],91:CH,92:[qz,W7],93:Px,95:my,96:Lz},VH={null:[my,FH]},KH={null:[42,95]},ZH={null:[]},qH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:KH,contentInitial:jH,disable:ZH,document:UH,flow:GH,flowInitial:WH,insideSpan:VH,string:YH,text:XH},Symbol.toStringTag,{value:"Module"}));function QH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},c=[];let y=[],d=[];const a={attempt:ne(q),check:ne(J),consume:N,enter:U,exit:W,interrupt:ne(J,{interrupt:!0})},u={code:null,containerState:{},defineSkip:D,events:[],now:C,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:f};let v=t.tokenize.call(u,a);return t.resolveAll&&c.push(t),u;function f(Ue){return y=Ic(y,Ue),S(),y[y.length-1]!==null?[]:(ve(t,0),u.events=Em(c,u.events,u),u.events)}function g(Ue,qe){return $H(m(Ue),qe)}function m(Ue){return JH(y,Ue)}function C(){const{_bufferIndex:Ue,_index:qe,line:mt,column:ut,offset:ge}=r;return{_bufferIndex:Ue,_index:qe,line:mt,column:ut,offset:ge}}function D(Ue){o[Ue.line]=Ue.column,Be()}function S(){let Ue;for(;r._index<y.length;){const qe=y[r._index];if(typeof qe=="string")for(Ue=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Ue&&r._bufferIndex<qe.length;)O(qe.charCodeAt(r._bufferIndex));else O(qe)}}function O(Ue){v=v(Ue)}function N(Ue){Sr(Ue)?(r.line++,r.column=1,r.offset+=Ue===-3?2:1,Be()):Ue!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===y[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=Ue}function U(Ue,qe){const mt=qe||{};return mt.type=Ue,mt.start=C(),u.events.push(["enter",mt,u]),d.push(mt),mt}function W(Ue){const qe=d.pop();return qe.end=C(),u.events.push(["exit",qe,u]),qe}function q(Ue,qe){ve(Ue,qe.from)}function J(Ue,qe){qe.restore()}function ne(Ue,qe){return mt;function mt(ut,ge,me){let Ie,lt,Me,ue;return Array.isArray(ut)?oe(ut):"tokenize"in ut?oe([ut]):ce(ut);function ce(Fe){return ct;function ct(At){const rt=At!==null&&Fe[At],jt=At!==null&&Fe.null,_t=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(jt)?jt:jt?[jt]:[]];return oe(_t)(At)}}function oe(Fe){return Ie=Fe,lt=0,Fe.length===0?me:Z(Fe[lt])}function Z(Fe){return ct;function ct(At){return ue=Se(),Me=Fe,Fe.partial||(u.currentConstruct=Fe),Fe.name&&u.parser.constructs.disable.null.includes(Fe.name)?Te():Fe.tokenize.call(qe?Object.assign(Object.create(u),qe):u,a,be,Te)(At)}}function be(Fe){return Ue(Me,ue),ge}function Te(Fe){return ue.restore(),++lt<Ie.length?Z(Ie[lt]):me}}}function ve(Ue,qe){Ue.resolveAll&&!c.includes(Ue)&&c.push(Ue),Ue.resolve&&gc(u.events,qe,u.events.length-qe,Ue.resolve(u.events.slice(qe),u)),Ue.resolveTo&&(u.events=Ue.resolveTo(u.events,u))}function Se(){const Ue=C(),qe=u.previous,mt=u.currentConstruct,ut=u.events.length,ge=Array.from(d);return{from:ut,restore:me};function me(){r=Ue,u.previous=qe,u.currentConstruct=mt,u.events.length=ut,d=ge,Be()}}function Be(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function JH(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,c=t.end._bufferIndex;let y;if(n===o)y=[e[n].slice(r,c)];else{if(y=e.slice(n,o),r>-1){const d=y[0];typeof d=="string"?y[0]=d.slice(r):y.shift()}c>0&&y.push(e[o].slice(0,c))}return y}function $H(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const c=e[n];let y;if(typeof c=="string")y=c;else switch(c){case-5:{y="\r";break}case-4:{y=`
`;break}case-3:{y=`\r
`;break}case-2:{y=t?" ":"	";break}case-1:{if(!t&&o)continue;y=" ";break}default:y=String.fromCharCode(c)}o=c===-2,r.push(y)}return r.join("")}function eU(e){const r={constructs:H7([qH,...(e||{}).extensions||[]]),content:o(pz),defined:[],document:o(vz),flow:o(LH),lazy:{},string:o(PH),text:o(zH)};return r;function o(c){return y;function y(d){return QH(r,c,d)}}}function tU(e){for(;!Y7(e););return e}const L5=/[\0\t\n\r]/g;function nU(){let e=1,t="",n=!0,r;return o;function o(c,y,d){const a=[];let u,v,f,g,m;for(c=t+(typeof c=="string"?c.toString():new TextDecoder(y||void 0).decode(c)),f=0,t="",n&&(c.charCodeAt(0)===65279&&f++,n=void 0);f<c.length;){if(L5.lastIndex=f,u=L5.exec(c),g=u&&u.index!==void 0?u.index:c.length,m=c.charCodeAt(g),!u){t=c.slice(f);break}if(m===10&&f===g&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),f<g&&(a.push(c.slice(f,g)),e+=g-f),m){case 0:{a.push(65533),e++;break}case 9:{for(v=Math.ceil(e/4)*4,a.push(-2);e++<v;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}f=g+1}return d&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const rU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function iU(e){return e.replace(rU,aU)}function aU(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),c=o===120||o===88;return U7(n.slice(c?2:1),c?16:10)}return Fx(n)||e}const Q7={}.hasOwnProperty;function oU(e,t,n){return typeof t!="string"&&(n=t,t=void 0),sU(n)(tU(eU(n).document().write(nU()(e,t,!0))))}function sU(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Kt),autolinkProtocol:Se,autolinkEmail:Se,atxHeading:c(Dt),blockQuote:c(jt),characterEscape:Se,characterReference:Se,codeFenced:c(_t),codeFencedFenceInfo:y,codeFencedFenceMeta:y,codeIndented:c(_t,y),codeText:c(Wt,y),codeTextData:Se,data:Se,codeFlowValue:Se,definition:c(ft),definitionDestinationString:y,definitionLabelString:y,definitionTitleString:y,emphasis:c(kt),hardBreakEscape:c(tn),hardBreakTrailing:c(tn),htmlFlow:c(zt,y),htmlFlowData:Se,htmlText:c(zt,y),htmlTextData:Se,image:c(Ut),label:y,link:c(Kt),listItem:c(Xt),listItemValue:g,listOrdered:c(un,f),listUnordered:c(un),paragraph:c(Zt),reference:Z,referenceString:y,resourceDestinationString:y,resourceTitleString:y,setextHeading:c(Dt),strong:c(Bn),thematicBreak:c(dt)},exit:{atxHeading:a(),atxHeadingSequence:q,autolink:a(),autolinkEmail:rt,autolinkProtocol:At,blockQuote:a(),characterEscapeValue:Be,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:Fe,characterReference:ct,codeFenced:a(S),codeFencedFence:D,codeFencedFenceInfo:m,codeFencedFenceMeta:C,codeFlowValue:Be,codeIndented:a(O),codeText:a(ge),codeTextData:Be,data:Be,definition:a(),definitionDestinationString:W,definitionLabelString:N,definitionTitleString:U,emphasis:a(),hardBreakEscape:a(qe),hardBreakTrailing:a(qe),htmlFlow:a(mt),htmlFlowData:Be,htmlText:a(ut),htmlTextData:Be,image:a(Ie),label:Me,labelText:lt,lineEnding:Ue,link:a(me),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:be,resourceDestinationString:ue,resourceTitleString:ce,resource:oe,setextHeading:a(ve),setextHeadingLineSequence:ne,setextHeadingText:J,strong:a(),thematicBreak:a()}};J7(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Pe){let xe={type:"root",children:[]};const Ee={stack:[xe],tokenStack:[],config:t,enter:d,exit:u,buffer:y,resume:v,data:n},Ze=[];let re=-1;for(;++re<Pe.length;)if(Pe[re][1].type==="listOrdered"||Pe[re][1].type==="listUnordered")if(Pe[re][0]==="enter")Ze.push(re);else{const we=Ze.pop();re=o(Pe,we,re)}for(re=-1;++re<Pe.length;){const we=t[Pe[re][0]];Q7.call(we,Pe[re][1].type)&&we[Pe[re][1].type].call(Object.assign({sliceSerialize:Pe[re][2].sliceSerialize},Ee),Pe[re][1])}if(Ee.tokenStack.length>0){const we=Ee.tokenStack[Ee.tokenStack.length-1];(we[1]||B5).call(Ee,void 0,we[0])}for(xe.position={start:Uh(Pe.length>0?Pe[0][1].start:{line:1,column:1,offset:0}),end:Uh(Pe.length>0?Pe[Pe.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)xe=t.transforms[re](xe)||xe;return xe}function o(Pe,xe,Ee){let Ze=xe-1,re=-1,we=!1,Ve,it,We,Ct;for(;++Ze<=Ee;){const Ye=Pe[Ze];switch(Ye[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ye[0]==="enter"?re++:re--,Ct=void 0;break}case"lineEndingBlank":{Ye[0]==="enter"&&(Ve&&!Ct&&!re&&!We&&(We=Ze),Ct=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ct=void 0}if(!re&&Ye[0]==="enter"&&Ye[1].type==="listItemPrefix"||re===-1&&Ye[0]==="exit"&&(Ye[1].type==="listUnordered"||Ye[1].type==="listOrdered")){if(Ve){let at=Ze;for(it=void 0;at--;){const St=Pe[at];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;it&&(Pe[it][1].type="lineEndingBlank",we=!0),St[1].type="lineEnding",it=at}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}We&&(!it||We<it)&&(Ve._spread=!0),Ve.end=Object.assign({},it?Pe[it][1].start:Ye[1].end),Pe.splice(it||Ze,0,["exit",Ve,Ye[2]]),Ze++,Ee++}if(Ye[1].type==="listItemPrefix"){const at={type:"listItem",_spread:!1,start:Object.assign({},Ye[1].start),end:void 0};Ve=at,Pe.splice(Ze,0,["enter",at,Ye[2]]),Ze++,Ee++,We=void 0,Ct=!0}}}return Pe[xe][1]._spread=we,Ee}function c(Pe,xe){return Ee;function Ee(Ze){d.call(this,Pe(Ze),Ze),xe&&xe.call(this,Ze)}}function y(){this.stack.push({type:"fragment",children:[]})}function d(Pe,xe,Ee){this.stack[this.stack.length-1].children.push(Pe),this.stack.push(Pe),this.tokenStack.push([xe,Ee||void 0]),Pe.position={start:Uh(xe.start),end:void 0}}function a(Pe){return xe;function xe(Ee){Pe&&Pe.call(this,Ee),u.call(this,Ee)}}function u(Pe,xe){const Ee=this.stack.pop(),Ze=this.tokenStack.pop();if(Ze)Ze[0].type!==Pe.type&&(xe?xe.call(this,Pe,Ze[0]):(Ze[1]||B5).call(this,Pe,Ze[0]));else throw new Error("Cannot close `"+Pe.type+"` ("+I1({start:Pe.start,end:Pe.end})+"): its not open");Ee.position.end=Uh(Pe.end)}function v(){return Bx(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(Pe){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(Pe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=Pe}function C(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=Pe}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=Pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function O(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=Pe.replace(/(\r?\n|\r)$/g,"")}function N(Pe){const xe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=xe,Ee.identifier=sf(this.sliceSerialize(Pe)).toLowerCase()}function U(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.title=Pe}function W(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.url=Pe}function q(Pe){const xe=this.stack[this.stack.length-1];if(!xe.depth){const Ee=this.sliceSerialize(Pe).length;xe.depth=Ee}}function J(){this.data.setextHeadingSlurpLineEnding=!0}function ne(Pe){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(Pe).codePointAt(0)===61?1:2}function ve(){this.data.setextHeadingSlurpLineEnding=void 0}function Se(Pe){const Ee=this.stack[this.stack.length-1].children;let Ze=Ee[Ee.length-1];(!Ze||Ze.type!=="text")&&(Ze=gt(),Ze.position={start:Uh(Pe.start),end:void 0},Ee.push(Ze)),this.stack.push(Ze)}function Be(Pe){const xe=this.stack.pop();xe.value+=this.sliceSerialize(Pe),xe.position.end=Uh(Pe.end)}function Ue(Pe){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ee=xe.children[xe.children.length-1];Ee.position.end=Uh(Pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(xe.type)&&(Se.call(this,Pe),Be.call(this,Pe))}function qe(){this.data.atHardBreak=!0}function mt(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=Pe}function ut(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=Pe}function ge(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.value=Pe}function me(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=xe,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function Ie(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=xe,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function lt(Pe){const xe=this.sliceSerialize(Pe),Ee=this.stack[this.stack.length-2];Ee.label=iU(xe),Ee.identifier=sf(xe).toLowerCase()}function Me(){const Pe=this.stack[this.stack.length-1],xe=this.resume(),Ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ee.type==="link"){const Ze=Pe.children;Ee.children=Ze}else Ee.alt=xe}function ue(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.url=Pe}function ce(){const Pe=this.resume(),xe=this.stack[this.stack.length-1];xe.title=Pe}function oe(){this.data.inReference=void 0}function Z(){this.data.referenceType="collapsed"}function be(Pe){const xe=this.resume(),Ee=this.stack[this.stack.length-1];Ee.label=xe,Ee.identifier=sf(this.sliceSerialize(Pe)).toLowerCase(),this.data.referenceType="full"}function Te(Pe){this.data.characterReferenceType=Pe.type}function Fe(Pe){const xe=this.sliceSerialize(Pe),Ee=this.data.characterReferenceType;let Ze;Ee?(Ze=U7(xe,Ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ze=Fx(xe);const re=this.stack[this.stack.length-1];re.value+=Ze}function ct(Pe){const xe=this.stack.pop();xe.position.end=Uh(Pe.end)}function At(Pe){Be.call(this,Pe);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(Pe)}function rt(Pe){Be.call(this,Pe);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(Pe)}function jt(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function Wt(){return{type:"inlineCode",value:""}}function ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kt(){return{type:"emphasis",children:[]}}function Dt(){return{type:"heading",depth:0,children:[]}}function tn(){return{type:"break"}}function zt(){return{type:"html",value:""}}function Ut(){return{type:"image",title:null,url:"",alt:null}}function Kt(){return{type:"link",title:null,url:"",children:[]}}function un(Pe){return{type:"list",ordered:Pe.type==="listOrdered",start:null,spread:Pe._spread,children:[]}}function Xt(Pe){return{type:"listItem",spread:Pe._spread,checked:null,children:[]}}function Zt(){return{type:"paragraph",children:[]}}function Bn(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function dt(){return{type:"thematicBreak"}}}function Uh(e){return{line:e.line,column:e.column,offset:e.offset}}function J7(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?J7(e,r):lU(e,r)}}function lU(e,t){let n;for(n in t)if(Q7.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function B5(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+I1({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+I1({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+I1({start:t.start,end:t.end})+") is still open")}function uU(e){const t=this;t.parser=n;function n(r){return oU(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function cU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function fU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function hU(e,t){const n=t.value?t.value+`
`:"",r={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let c={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(c.data={meta:t.meta}),e.patch(t,c),c=e.applyData(t,c),c={type:"element",tagName:"pre",properties:{},children:[c]},e.patch(t,c),c}function dU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=jd(r.toLowerCase()),c=e.footnoteOrder.indexOf(r);let y,d=e.footnoteCounts.get(r);d===void 0?(d=0,e.footnoteOrder.push(r),y=e.footnoteOrder.length):y=c+1,d+=1,e.footnoteCounts.set(r,d);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(y)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function mU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function $7(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),c=o[0];c&&c.type==="text"?c.value="["+c.value:o.unshift({type:"text",value:"["});const y=o[o.length-1];return y&&y.type==="text"?y.value+=r:o.push({type:"text",value:r}),o}function yU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $7(e,t);const o={src:jd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const c={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,c),e.applyData(t,c)}function xU(e,t){const n={src:jd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function bU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $7(e,t);const o={href:jd(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const c={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,c),e.applyData(t,c)}function CU(e,t){const n={href:jd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function SU(e,t,n){const r=e.all(t),o=n?EU(n):eE(t),c={},y=[];if(typeof t.checked=="boolean"){const v=r[0];let f;v&&v.type==="element"&&v.tagName==="p"?f=v:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let d=-1;for(;++d<r.length;){const v=r[d];(o||d!==0||v.type!=="element"||v.tagName!=="p")&&y.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!o?y.push(...v.children):y.push(v)}const a=r[r.length-1];a&&(o||a.type!=="element"||a.tagName!=="p")&&y.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:c,children:y};return e.patch(t,u),e.applyData(t,u)}function EU(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=eE(n[r])}return t}function eE(e){const t=e.spread;return t??e.children.length>1}function AU(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const y=r[o];if(y.type==="element"&&y.tagName==="li"&&y.properties&&Array.isArray(y.properties.className)&&y.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const c={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,c),e.applyData(t,c)}function TU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _U(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const y={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],y),o.push(y)}if(n.length>0){const y={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=Ix(t.children[1]),a=R7(t.children[t.children.length-1]);d&&a&&(y.position={start:d,end:a}),o.push(y)}const c={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,c),e.applyData(t,c)}function MU(e,t,n){const r=n?n.children:void 0,c=(r?r.indexOf(t):1)===0?"th":"td",y=n&&n.type==="table"?n.align:void 0,d=y?y.length:t.children.length;let a=-1;const u=[];for(;++a<d;){const f=t.children[a],g={},m=y?y[a]:void 0;m&&(g.align=m);let C={type:"element",tagName:c,properties:g,children:[]};f&&(C.children=e.all(f),e.patch(f,C),C=e.applyData(f,C)),u.push(C)}const v={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,v),e.applyData(t,v)}function OU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const F5=9,P5=32;function IU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const c=[];for(;r;)c.push(z5(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return c.push(z5(t.slice(o),o>0,!1)),c.join("")}function z5(e,t,n){let r=0,o=e.length;if(t){let c=e.codePointAt(r);for(;c===F5||c===P5;)r++,c=e.codePointAt(r)}if(n){let c=e.codePointAt(o-1);for(;c===F5||c===P5;)o--,c=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function RU(e,t){const n={type:"text",value:IU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function NU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const LU={blockquote:cU,break:fU,code:hU,delete:dU,emphasis:gU,footnoteReference:pU,heading:mU,html:vU,imageReference:yU,image:xU,inlineCode:bU,linkReference:wU,link:CU,listItem:SU,list:AU,paragraph:TU,root:DU,strong:kU,table:_U,tableCell:OU,tableRow:MU,text:RU,thematicBreak:NU,toml:Yg,yaml:Yg,definition:Yg,footnoteDefinition:Yg};function Yg(){}const tE=-1,Am=0,N1=1,Zp=2,zx=3,Hx=4,Ux=5,jx=6,nE=7,rE=8,H5=typeof self=="object"?self:globalThis,BU=(e,t)=>{const n=(o,c)=>(e.set(c,o),o),r=o=>{if(e.has(o))return e.get(o);const[c,y]=t[o];switch(c){case Am:case tE:return n(y,o);case N1:{const d=n([],o);for(const a of y)d.push(r(a));return d}case Zp:{const d=n({},o);for(const[a,u]of y)d[r(a)]=r(u);return d}case zx:return n(new Date(y),o);case Hx:{const{source:d,flags:a}=y;return n(new RegExp(d,a),o)}case Ux:{const d=n(new Map,o);for(const[a,u]of y)d.set(r(a),r(u));return d}case jx:{const d=n(new Set,o);for(const a of y)d.add(r(a));return d}case nE:{const{name:d,message:a}=y;return n(new H5[d](a),o)}case rE:return n(BigInt(y),o);case"BigInt":return n(Object(BigInt(y)),o);case"ArrayBuffer":return n(new Uint8Array(y).buffer,y);case"DataView":{const{buffer:d}=new Uint8Array(y);return n(new DataView(d),y)}}return n(new H5[c](y),o)};return r},U5=e=>BU(new Map,e)(0),cd="",{toString:FU}={},{keys:PU}=Object,y1=e=>{const t=typeof e;if(t!=="object"||!e)return[Am,t];const n=FU.call(e).slice(8,-1);switch(n){case"Array":return[N1,cd];case"Object":return[Zp,cd];case"Date":return[zx,cd];case"RegExp":return[Hx,cd];case"Map":return[Ux,cd];case"Set":return[jx,cd];case"DataView":return[N1,n]}return n.includes("Array")?[N1,n]:n.includes("Error")?[nE,n]:[Zp,n]},Xg=([e,t])=>e===Am&&(t==="function"||t==="symbol"),zU=(e,t,n,r)=>{const o=(y,d)=>{const a=r.push(y)-1;return n.set(d,a),a},c=y=>{if(n.has(y))return n.get(y);let[d,a]=y1(y);switch(d){case Am:{let v=y;switch(a){case"bigint":d=rE,v=y.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);v=null;break;case"undefined":return o([tE],y)}return o([d,v],y)}case N1:{if(a){let g=y;return a==="DataView"?g=new Uint8Array(y.buffer):a==="ArrayBuffer"&&(g=new Uint8Array(y)),o([a,[...g]],y)}const v=[],f=o([d,v],y);for(const g of y)v.push(c(g));return f}case Zp:{if(a)switch(a){case"BigInt":return o([a,y.toString()],y);case"Boolean":case"Number":case"String":return o([a,y.valueOf()],y)}if(t&&"toJSON"in y)return c(y.toJSON());const v=[],f=o([d,v],y);for(const g of PU(y))(e||!Xg(y1(y[g])))&&v.push([c(g),c(y[g])]);return f}case zx:return o([d,y.toISOString()],y);case Hx:{const{source:v,flags:f}=y;return o([d,{source:v,flags:f}],y)}case Ux:{const v=[],f=o([d,v],y);for(const[g,m]of y)(e||!(Xg(y1(g))||Xg(y1(m))))&&v.push([c(g),c(m)]);return f}case jx:{const v=[],f=o([d,v],y);for(const g of y)(e||!Xg(y1(g)))&&v.push(c(g));return f}}const{message:u}=y;return o([d,{name:a,message:u}],y)};return c},j5=(e,{json:t,lossy:n}={})=>{const r=[];return zU(!(t||n),!!t,new Map,r)(e),r},qp=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?U5(j5(e,t)):structuredClone(e):(e,t)=>U5(j5(e,t));function HU(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function UU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function jU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||HU,r=e.options.footnoteBackLabel||UU,o=e.options.footnoteLabel||"Footnotes",c=e.options.footnoteLabelTagName||"h2",y=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const v=e.all(u),f=String(u.identifier).toUpperCase(),g=jd(f.toLowerCase());let m=0;const C=[],D=e.footnoteCounts.get(f);for(;D!==void 0&&++m<=D;){C.length>0&&C.push({type:"text",value:" "});let N=typeof n=="string"?n:n(a,m);typeof N=="string"&&(N={type:"text",value:N}),C.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,m),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const S=v[v.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const N=S.children[S.children.length-1];N&&N.type==="text"?N.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...C)}else v.push(...C);const O={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(v,!0)};e.patch(u,O),d.push(O)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...qp(y),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const og=(function(e){if(e==null)return XU;if(typeof e=="function")return Tm(e);if(typeof e=="object")return Array.isArray(e)?WU(e):GU(e);if(typeof e=="string")return YU(e);throw new Error("Expected function, string, or object as test")});function WU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=og(e[n]);return Tm(r);function r(...o){let c=-1;for(;++c<t.length;)if(t[c].apply(this,o))return!0;return!1}}function GU(e){const t=e;return Tm(n);function n(r){const o=r;let c;for(c in e)if(o[c]!==t[c])return!1;return!0}}function YU(e){return Tm(t);function t(n){return n&&n.type===e}}function Tm(e){return t;function t(n,r,o){return!!(VU(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function XU(){return!0}function VU(e){return e!==null&&typeof e=="object"&&"type"in e}const iE=[],KU=!0,vy=!1,aE="skip";function Wx(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const c=og(o),y=r?-1:1;d(e,void 0,[])();function d(a,u,v){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(a.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=iE,C,D,S;if((!t||c(a,u,v[v.length-1]||void 0))&&(m=ZU(n(a,v)),m[0]===vy))return m;if("children"in a&&a.children){const O=a;if(O.children&&m[0]!==aE)for(D=(r?O.children.length:-1)+y,S=v.concat(O);D>-1&&D<O.children.length;){const N=O.children[D];if(C=d(N,D,S)(),C[0]===vy)return C;D=typeof C[1]=="number"?C[1]:D+y}}return m}}}function ZU(e){return Array.isArray(e)?e:typeof e=="number"?[KU,e]:e==null?iE:[e]}function Gx(e,t,n,r){let o,c,y;typeof t=="function"&&typeof n!="function"?(c=void 0,y=t,o=n):(c=t,y=n,o=r),Wx(e,c,d,o);function d(a,u){const v=u[u.length-1],f=v?v.children.indexOf(a):void 0;return y(a,f,v)}}const yy={}.hasOwnProperty,qU={};function QU(e,t){const n=t||qU,r=new Map,o=new Map,c=new Map,y={...LU,...n.handlers},d={all:u,applyData:$U,definitionById:r,footnoteById:o,footnoteCounts:c,footnoteOrder:[],handlers:y,one:a,options:n,patch:JU,wrap:tj};return Gx(e,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const f=v.type==="definition"?r:o,g=String(v.identifier).toUpperCase();f.has(g)||f.set(g,v)}}),d;function a(v,f){const g=v.type,m=d.handlers[g];if(yy.call(d.handlers,g)&&m)return m(d,v,f);if(d.options.passThrough&&d.options.passThrough.includes(g)){if("children"in v){const{children:D,...S}=v,O=qp(S);return O.children=d.all(v),O}return qp(v)}return(d.options.unknownHandler||ej)(d,v,f)}function u(v){const f=[];if("children"in v){const g=v.children;let m=-1;for(;++m<g.length;){const C=d.one(g[m],v);if(C){if(m&&g[m-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=W5(C.value)),!Array.isArray(C)&&C.type==="element")){const D=C.children[0];D&&D.type==="text"&&(D.value=W5(D.value))}Array.isArray(C)?f.push(...C):f.push(C)}}}return f}}function JU(e,t){e.position&&(t.position=UP(e))}function $U(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,c=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const y="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:y}}n.type==="element"&&c&&Object.assign(n.properties,qp(c)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function ej(e,t){const n=t.data||{},r="value"in t&&!(yy.call(n,"hProperties")||yy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function tj(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function W5(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function G5(e,t){const n=QU(e,t),r=n.one(e,void 0),o=jU(n),c=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&c.children.push({type:"text",value:`
`},o),c}function nj(e,t){return e&&"run"in e?async function(n,r){const o=G5(n,{file:r,...t});await e.run(o,r)}:function(n,r){return G5(n,{file:r,...e||t})}}function Y5(e){if(e)throw e}var s2,X5;function rj(){if(X5)return s2;X5=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},c=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var v=e.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!v&&!f)return!1;var g;for(g in u);return typeof g>"u"||e.call(u,g)},y=function(u,v){n&&v.name==="__proto__"?n(u,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):u[v.name]=v.newValue},d=function(u,v){if(v==="__proto__")if(e.call(u,v)){if(r)return r(u,v).value}else return;return u[v]};return s2=function a(){var u,v,f,g,m,C,D=arguments[0],S=1,O=arguments.length,N=!1;for(typeof D=="boolean"&&(N=D,D=arguments[1]||{},S=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});S<O;++S)if(u=arguments[S],u!=null)for(v in u)f=d(D,v),g=d(u,v),D!==g&&(N&&g&&(c(g)||(m=o(g)))?(m?(m=!1,C=f&&o(f)?f:[]):C=f&&c(f)?f:{},y(D,{name:v,newValue:a(N,C,g)})):typeof g<"u"&&y(D,{name:v,newValue:g}));return D},s2}var ij=rj();const l2=F0(ij);function xy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function aj(){const e=[],t={run:n,use:r};return t;function n(...o){let c=-1;const y=o.pop();if(typeof y!="function")throw new TypeError("Expected function as last argument, not "+y);d(null,...o);function d(a,...u){const v=e[++c];let f=-1;if(a){y(a);return}for(;++f<o.length;)(u[f]===null||u[f]===void 0)&&(u[f]=o[f]);o=u,v?oj(v,d)(...u):y(null,...u)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function oj(e,t){let n;return r;function r(...y){const d=e.length>y.length;let a;d&&y.push(o);try{a=e.apply(this,y)}catch(u){const v=u;if(d&&n)throw v;return o(v)}d||(a&&a.then&&typeof a.then=="function"?a.then(c,o):a instanceof Error?o(a):c(a))}function o(y,...d){n||(n=!0,t(y,...d))}function c(y){o(null,y)}}const If={basename:sj,dirname:lj,extname:uj,join:cj,sep:"/"};function sj(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');sg(e);let n=0,r=-1,o=e.length,c;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(c){n=o+1;break}}else r<0&&(c=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let y=-1,d=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(c){n=o+1;break}}else y<0&&(c=!0,y=o+1),d>-1&&(e.codePointAt(o)===t.codePointAt(d--)?d<0&&(r=o):(d=-1,r=y));return n===r?r=y:r<0&&(r=e.length),e.slice(n,r)}function lj(e){if(sg(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function uj(e){sg(e);let t=e.length,n=-1,r=0,o=-1,c=0,y;for(;t--;){const d=e.codePointAt(t);if(d===47){if(y){r=t+1;break}continue}n<0&&(y=!0,n=t+1),d===46?o<0?o=t:c!==1&&(c=1):o>-1&&(c=-1)}return o<0||n<0||c===0||c===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function cj(...e){let t=-1,n;for(;++t<e.length;)sg(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":fj(n)}function fj(e){sg(e);const t=e.codePointAt(0)===47;let n=hj(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function hj(e,t){let n="",r=0,o=-1,c=0,y=-1,d,a;for(;++y<=e.length;){if(y<e.length)d=e.codePointAt(y);else{if(d===47)break;d=47}if(d===47){if(!(o===y-1||c===1))if(o!==y-1&&c===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),o=y,c=0;continue}}else if(n.length>0){n="",r=0,o=y,c=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,y):n=e.slice(o+1,y),r=y-o-1;o=y,c=0}else d===46&&c>-1?c++:c=-1}return n}function sg(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const dj={cwd:gj};function gj(){return"/"}function by(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function pj(e){if(typeof e=="string")e=new URL(e);else if(!by(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return mj(e)}function mj(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const u2=["history","path","basename","stem","extname","dirname"];class oE{constructor(t){let n;t?by(t)?n={path:t}:typeof t=="string"||vj(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":dj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<u2.length;){const c=u2[r];c in n&&n[c]!==void 0&&n[c]!==null&&(this[c]=c==="history"?[...n[c]]:n[c])}let o;for(o in n)u2.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?If.basename(this.path):void 0}set basename(t){f2(t,"basename"),c2(t,"basename"),this.path=If.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?If.dirname(this.path):void 0}set dirname(t){V5(this.basename,"dirname"),this.path=If.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?If.extname(this.path):void 0}set extname(t){if(c2(t,"extname"),V5(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=If.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){by(t)&&(t=pj(t)),f2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?If.basename(this.path,this.extname):void 0}set stem(t){f2(t,"stem"),c2(t,"stem"),this.path=If.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new tu(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function c2(e,t){if(e&&e.includes(If.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+If.sep+"`")}function f2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function V5(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function vj(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yj=(function(e){const r=this.constructor.prototype,o=r[e],c=function(){return o.apply(c,arguments)};return Object.setPrototypeOf(c,r),c}),xj={}.hasOwnProperty;class Yx extends yj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=aj()}copy(){const t=new Yx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(l2(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(g2("data",this.frozen),this.namespace[t]=n,this):xj.call(this.namespace,t)&&this.namespace[t]||void 0:t?(g2("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Vg(t),r=this.parser||this.Parser;return h2("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),h2("process",this.parser||this.Parser),d2("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(c,y){const d=Vg(t),a=r.parse(d);r.run(a,d,function(v,f,g){if(v||!f||!g)return u(v);const m=f,C=r.stringify(m,g);Cj(C)?g.value=C:g.result=C,u(v,g)});function u(v,f){v||!f?y(v):c?c(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),h2("processSync",this.parser||this.Parser),d2("processSync",this.compiler||this.Compiler),this.process(t,o),Z5("processSync","process",n),r;function o(c,y){n=!0,Y5(c),r=y}}run(t,n,r){K5(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?c(void 0,r):new Promise(c);function c(y,d){const a=Vg(n);o.run(t,a,u);function u(v,f,g){const m=f||t;v?d(v):y?y(m):r(void 0,m,g)}}}runSync(t,n){let r=!1,o;return this.run(t,n,c),Z5("runSync","run",r),o;function c(y,d){Y5(y),o=d,r=!0}}stringify(t,n){this.freeze();const r=Vg(n),o=this.compiler||this.Compiler;return d2("stringify",o),K5(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(g2("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):y(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function c(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[v,...f]=u;a(v,f)}else y(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function y(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(u.plugins),u.settings&&(o.settings=l2(!0,o.settings,u.settings))}function d(u){let v=-1;if(u!=null)if(Array.isArray(u))for(;++v<u.length;){const f=u[v];c(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,v){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===u){g=f;break}if(g===-1)r.push([u,...v]);else if(v.length>0){let[m,...C]=v;const D=r[g][1];xy(D)&&xy(m)&&(m=l2(!0,D,m)),r[g]=[u,m,...C]}}}}const bj=new Yx().freeze();function h2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function d2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function g2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function K5(e){if(!xy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Z5(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vg(e){return wj(e)?e:new oE(e)}function wj(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Cj(e){return typeof e=="string"||Sj(e)}function Sj(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ej="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",q5=[],Q5={allowDangerousHtml:!0},Aj=/^(https?|ircs?|mailto|xmpp)$/i,Tj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sE(e){const t=Dj(e),n=kj(e);return _j(t.runSync(t.parse(n),n),e)}function Dj(e){const t=e.rehypePlugins||q5,n=e.remarkPlugins||q5,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Q5}:Q5;return bj().use(uU).use(n).use(nj,r).use(t)}function kj(e){const t=e.children||"",n=new oE;return typeof t=="string"&&(n.value=t),n}function _j(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,c=t.disallowedElements,y=t.skipHtml,d=t.unwrapDisallowed,a=t.urlTransform||Mj;for(const v of Tj)Object.hasOwn(t,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+Ej+v.id,void 0);return Gx(e,u),XP(e,{Fragment:te.Fragment,components:o,ignoreInvalidStyle:!0,jsx:te.jsx,jsxs:te.jsxs,passKeys:!0,passNode:!0});function u(v,f,g){if(v.type==="raw"&&g&&typeof f=="number")return y?g.children.splice(f,1):g.children[f]={type:"text",value:v.value},f;if(v.type==="element"){let m;for(m in i2)if(Object.hasOwn(i2,m)&&Object.hasOwn(v.properties,m)){const C=v.properties[m],D=i2[m];(D===null||D.includes(v.tagName))&&(v.properties[m]=a(String(C||""),m,v))}}if(v.type==="element"){let m=n?!n.includes(v.tagName):c?c.includes(v.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(v,f,g)),m&&g&&typeof f=="number")return d&&v.children?g.children.splice(f,1,...v.children):g.children.splice(f,1),f}}}function Mj(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||Aj.test(e.slice(0,t))?e:""}const J5=/[#.]/g;function Oj(e,t){const n=e||"",r={};let o=0,c,y;for(;o<n.length;){J5.lastIndex=o;const d=J5.exec(n),a=n.slice(o,d?d.index:n.length);a&&(c?c==="#"?r.id=a:Array.isArray(r.className)?r.className.push(a):r.className=[a]:y=a,o+=a.length),d&&(c=d[0],o++)}return{type:"element",tagName:y||t||"div",properties:r,children:[]}}function lE(e,t,n){const r=n?Lj(n):void 0;function o(c,y,...d){let a;if(c==null){a={type:"root",children:[]};const u=y;d.unshift(u)}else{a=Oj(c,t);const u=a.tagName.toLowerCase(),v=r?r.get(u):void 0;if(a.tagName=v||u,Ij(y))d.unshift(y);else for(const[f,g]of Object.entries(y))Rj(e,a.properties,f,g)}for(const u of d)wy(a.children,u);return a.type==="element"&&a.tagName==="template"&&(a.content={type:"root",children:a.children},a.children=[]),a}return o}function Ij(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const o=t[r];if(o&&typeof o=="object"){if(!Array.isArray(o))return!0;const c=o;for(const y of c)if(typeof y!="number"&&typeof y!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Rj(e,t,n,r){const o=O7(e,n);let c;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;c=r}else typeof r=="boolean"?c=r:typeof r=="string"?o.spaceSeparated?c=x5(r):o.commaSeparated?c=g5(r):o.commaOrSpaceSeparated?c=x5(g5(r).join(" ")):c=$5(o,o.property,r):Array.isArray(r)?c=[...r]:c=o.property==="style"?Nj(r):String(r);if(Array.isArray(c)){const y=[];for(const d of c)y.push($5(o,o.property,d));c=y}o.property==="className"&&Array.isArray(t.className)&&(c=t.className.concat(c)),t[o.property]=c}}function wy(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)wy(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?wy(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function $5(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||V1(n)===V1(t)))return!0}return n}function Nj(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function Lj(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const Bj=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Fj=lE(I7,"div"),Pj=lE(Cm,"g",Bj),p2={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function zj(e,t){return uE(e,{})||{type:"root",children:[]}}function uE(e,t){const n=Hj(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function Hj(e,t){switch(e.nodeType){case 1:return Gj(e,t);case 3:return jj(e);case 8:return Wj(e);case 9:return e6(e,t);case 10:return Uj();case 11:return e6(e,t);default:return}}function e6(e,t){return{type:"root",children:cE(e,t)}}function Uj(){return{type:"doctype"}}function jj(e){return{type:"text",value:e.nodeValue||""}}function Wj(e){return{type:"comment",value:e.nodeValue||""}}function Gj(e,t){const n=e.namespaceURI,r=n===p2.svg?Pj:Fj,o=n===p2.html?e.tagName.toLowerCase():e.tagName,c=n===p2.html&&o==="template"?e.content:e,y=e.getAttributeNames(),d={};let a=-1;for(;++a<y.length;)d[y[a]]=e.getAttribute(y[a])||"";return r(o,d,cE(c,t))}function cE(e,t){const n=e.childNodes,r=[];let o=-1;for(;++o<n.length;){const c=uE(n[o],t);c!==void 0&&r.push(c)}return r}new DOMParser;function Yj(e,t){const n=Xj(e);return zj(n)}function Xj(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const t6=(function(e,t,n){const r=og(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),H0=(function(e){if(e==null)return Zj;if(typeof e=="string")return Kj(e);if(typeof e=="object")return Vj(e);if(typeof e=="function")return Xx(e);throw new Error("Expected function, string, or array as `test`")});function Vj(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=H0(e[n]);return Xx(r);function r(...o){let c=-1;for(;++c<t.length;)if(t[c].apply(this,o))return!0;return!1}}function Kj(e){return Xx(t);function t(n){return n.tagName===e}}function Xx(e){return t;function t(n,r,o){return!!(qj(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function Zj(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function qj(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const n6=/\n/g,r6=/[\t ]+/g,Cy=H0("br"),i6=H0(iW),Qj=H0("p"),a6=H0("tr"),Jj=H0(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",rW,aW]),fE=H0(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function $j(e,t){const n=t||{},r="children"in e?e.children:[],o=fE(e),c=gE(e,{whitespace:n.whitespace||"normal"}),y=[];(e.type==="text"||e.type==="comment")&&y.push(...dE(e,{breakBefore:!0,breakAfter:!0}));let d=-1;for(;++d<r.length;)y.push(...hE(r[d],e,{whitespace:c,breakBefore:d?void 0:o,breakAfter:d<r.length-1?Cy(r[d+1]):o}));const a=[];let u;for(d=-1;++d<y.length;){const v=y[d];typeof v=="number"?u!==void 0&&v>u&&(u=v):v&&(u!==void 0&&u>-1&&a.push(`
`.repeat(u)||" "),u=-1,a.push(v))}return a.join("")}function hE(e,t,n){return e.type==="element"?eW(e,t,n):e.type==="text"?n.whitespace==="normal"?dE(e,n):tW(e):[]}function eW(e,t,n){const r=gE(e,n),o=e.children||[];let c=-1,y=[];if(Jj(e))return y;let d,a;for(Cy(e)||a6(e)&&t6(t,e,a6)?a=`
`:Qj(e)?(d=2,a=2):fE(e)&&(d=1,a=1);++c<o.length;)y=y.concat(hE(o[c],e,{whitespace:r,breakBefore:c?void 0:d,breakAfter:c<o.length-1?Cy(o[c+1]):a}));return i6(e)&&t6(t,e,i6)&&y.push("	"),d&&y.unshift(d),a&&y.push(a),y}function dE(e,t){const n=String(e.value),r=[],o=[];let c=0;for(;c<=n.length;){n6.lastIndex=c;const a=n6.exec(n),u=a&&"index"in a?a.index:n.length;r.push(nW(n.slice(c,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),c===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),c=u+1}let y=-1,d;for(;++y<r.length;)r[y].charCodeAt(r[y].length-1)===8203||y<r.length-1&&r[y+1].charCodeAt(0)===8203?(o.push(r[y]),d=void 0):r[y]?(typeof d=="number"&&o.push(d),o.push(r[y]),d=0):(y===0||y===r.length-1)&&o.push(0);return o}function tW(e){return[String(e.value)]}function nW(e,t,n){const r=[];let o=0,c;for(;o<e.length;){r6.lastIndex=o;const y=r6.exec(e);c=y?y.index:e.length,!o&&!c&&y&&!t&&r.push(""),o!==c&&r.push(e.slice(o,c)),o=y?c+y[0].length:c}return o!==c&&!n&&r.push(""),r.join(" ")}function gE(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function rW(e){return!!(e.properties||{}).hidden}function iW(e){return e.tagName==="td"||e.tagName==="th"}function aW(e){return e.tagName==="dialog"&&!(e.properties||{}).open}class Uu{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new Uu(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class pc{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new pc(n,Uu.range(this,t))}}class Ln{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,o,c,y=n&&n.loc;if(y&&y.start<=y.end){var d=y.lexer.input;o=y.start,c=y.end,o===d.length?r+=" at end of input: ":r+=" at position "+(o+1)+": ";var a=d.slice(o,c).replace(/[^]/g,"$&"),u;o>15?u=""+d.slice(o-15,o):u=d.slice(0,o);var v;c+15<d.length?v=d.slice(c,c+15)+"":v=d.slice(c),r+=u+a+v}var f=new Error(r);return f.name="ParseError",f.__proto__=Ln.prototype,f.position=o,o!=null&&c!=null&&(f.length=c-o),f.rawMessage=t,f}}Ln.prototype.__proto__=Error.prototype;var oW=function(t,n){return t===void 0?n:t},sW=/([A-Z])/g,lW=function(t){return t.replace(sW,"-$1").toLowerCase()},uW={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},cW=/[&><"']/g;function fW(e){return String(e).replace(cW,t=>uW[t])}var pE=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},hW=function(t){var n=pE(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},dW=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},gW=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Sa={deflt:oW,escape:fW,hyphenate:lW,getBaseElem:pE,isCharacterBox:hW,protocolFromUrl:gW},wp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function pW(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Vx{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in wp)if(wp.hasOwnProperty(n)){var r=wp[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:pW(r)}}reportNonstrict(t,n,r){var o=this.strict;if(typeof o=="function"&&(o=o(t,n,r)),!(!o||o==="ignore")){if(o===!0||o==="error")throw new Ln("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);o==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var o=this.strict;if(typeof o=="function")try{o=o(t,n,r)}catch{o="error"}return!o||o==="ignore"?!1:o===!0||o==="error"?!0:o==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+o+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Sa.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}class jh{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return Nf[mW[this.id]]}sub(){return Nf[vW[this.id]]}fracNum(){return Nf[yW[this.id]]}fracDen(){return Nf[xW[this.id]]}cramp(){return Nf[bW[this.id]]}text(){return Nf[wW[this.id]]}isTight(){return this.size>=2}}var Kx=0,Qp=1,bd=2,ch=3,Z1=4,Nc=5,Id=6,pu=7,Nf=[new jh(Kx,0,!1),new jh(Qp,0,!0),new jh(bd,1,!1),new jh(ch,1,!0),new jh(Z1,2,!1),new jh(Nc,2,!0),new jh(Id,3,!1),new jh(pu,3,!0)],mW=[Z1,Nc,Z1,Nc,Id,pu,Id,pu],vW=[Nc,Nc,Nc,Nc,pu,pu,pu,pu],yW=[bd,ch,Z1,Nc,Id,pu,Id,pu],xW=[ch,ch,Nc,Nc,pu,pu,pu,pu],bW=[Qp,Qp,ch,ch,Nc,Nc,pu,pu],wW=[Kx,Qp,bd,ch,bd,ch,bd,ch],Vr={DISPLAY:Nf[Kx],TEXT:Nf[bd],SCRIPT:Nf[Z1],SCRIPTSCRIPT:Nf[Id]},Sy=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function CW(e){for(var t=0;t<Sy.length;t++)for(var n=Sy[t],r=0;r<n.blocks.length;r++){var o=n.blocks[r];if(e>=o[0]&&e<=o[1])return n.name}return null}var Cp=[];Sy.forEach(e=>e.blocks.forEach(t=>Cp.push(...t)));function mE(e){for(var t=0;t<Cp.length;t+=2)if(e>=Cp[t]&&e<=Cp[t+1])return!0;return!1}var fd=80,SW=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},EW=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},AW=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},TW=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},DW=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},kW=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},_W=function(t,n,r){var o=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+o+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},MW=function(t,n,r){n=1e3*n;var o="";switch(t){case"sqrtMain":o=SW(n,fd);break;case"sqrtSize1":o=EW(n,fd);break;case"sqrtSize2":o=AW(n,fd);break;case"sqrtSize3":o=TW(n,fd);break;case"sqrtSize4":o=DW(n,fd);break;case"sqrtTall":o=_W(n,fd,r)}return o},OW=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},o6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},IW=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class lg{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var Lf={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Kg={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},s6={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function RW(e,t){Lf[e]=t}function Zx(e,t,n){if(!Lf[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),o=Lf[t][r];if(!o&&e[0]in s6&&(r=s6[e[0]].charCodeAt(0),o=Lf[t][r]),!o&&n==="text"&&mE(r)&&(o=Lf[t][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var m2={};function NW(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!m2[t]){var n=m2[t]={cssEmPerMu:Kg.quad[t]/18};for(var r in Kg)Kg.hasOwnProperty(r)&&(n[r]=Kg[r][t])}return m2[t]}var LW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],l6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],u6=function(t,n){return n.size<2?t:LW[t-1][n.size-1]};class sh{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||sh.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=l6[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new sh(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:u6(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:l6[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=u6(sh.BASESIZE,t);return this.size===n&&this.textSize===sh.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==sh.BASESIZE?["sizing","reset-size"+this.size,"size"+sh.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=NW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}sh.BASESIZE=6;var Ey={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},BW={ex:!0,em:!0,mu:!0},vE=function(t){return typeof t!="string"&&(t=t.unit),t in Ey||t in BW||t==="ex"},ls=function(t,n){var r;if(t.unit in Ey)r=Ey[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var o;if(n.style.isTight()?o=n.havingStyle(n.style.text()):o=n,t.unit==="ex")r=o.fontMetrics().xHeight;else if(t.unit==="em")r=o.fontMetrics().quad;else throw new Ln("Invalid unit: '"+t.unit+"'");o!==n&&(r*=o.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},Wn=function(t){return+t.toFixed(4)+"em"},e0=function(t){return t.filter(n=>n).join(" ")},yE=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var o=n.getColor();o&&(this.style.color=o)}},xE=function(t){var n=document.createElement(t);n.className=e0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&n.setAttribute(o,this.attributes[o]);for(var c=0;c<this.children.length;c++)n.appendChild(this.children[c].toNode());return n},FW=/[\s"'>/=\x00-\x1f]/,bE=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Sa.escape(e0(this.classes))+'"');var r="";for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Sa.hyphenate(o)+":"+this.style[o]+";");r&&(n+=' style="'+Sa.escape(r)+'"');for(var c in this.attributes)if(this.attributes.hasOwnProperty(c)){if(FW.test(c))throw new Ln("Invalid attribute name '"+c+"'");n+=" "+c+'="'+Sa.escape(this.attributes[c])+'"'}n+=">";for(var y=0;y<this.children.length;y++)n+=this.children[y].toMarkup();return n+="</"+t+">",n};class ug{constructor(t,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,yE.call(this,t,r,o),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return xE.call(this,"span")}toMarkup(){return bE.call(this,"span")}}class qx{constructor(t,n,r,o){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,yE.call(this,n,o),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return xE.call(this,"a")}toMarkup(){return bE.call(this,"a")}}class PW{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Sa.escape(this.src)+'"'+(' alt="'+Sa.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Sa.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+Sa.escape(n)+'"'),t+="'/>",t}}var zW={:"",:"",:"",:""};class Fc{constructor(t,n,r,o,c,y,d,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=o||0,this.skew=c||0,this.width=y||0,this.classes=d||[],this.style=a||{},this.maxFontSize=0;var u=CW(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=zW[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Wn(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=e0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Sa.escape(e0(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var o in this.style)this.style.hasOwnProperty(o)&&(r+=Sa.hyphenate(o)+":"+this.style[o]+";");r&&(t=!0,n+=' style="'+Sa.escape(r)+'"');var c=Sa.escape(this.text);return t?(n+=">",n+=c,n+="</span>",n):c}}class dh{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Sa.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class t0{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",o6[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Sa.escape(this.alternate)+'"/>':'<path d="'+Sa.escape(o6[this.pathName])+'"/>'}}class Ay{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Sa.escape(this.attributes[n])+'"');return t+="/>",t}}function c6(e){if(e instanceof Fc)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function HW(e){if(e instanceof ug)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var UW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},jW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},bo={math:{},text:{}};function se(e,t,n,r,o,c){bo[e][o]={font:t,group:n,replace:r},c&&r&&(bo[e][r]=bo[e][o])}var pe="math",An="text",Ne="main",pt="ams",Xo="accent-token",nr="bin",mu="close",Wd="inner",Xr="mathord",Ks="op-token",yc="open",Dm="punct",bt="rel",mh="spacing",Bt="textord";se(pe,Ne,bt,"","\\equiv",!0);se(pe,Ne,bt,"","\\prec",!0);se(pe,Ne,bt,"","\\succ",!0);se(pe,Ne,bt,"","\\sim",!0);se(pe,Ne,bt,"","\\perp");se(pe,Ne,bt,"","\\preceq",!0);se(pe,Ne,bt,"","\\succeq",!0);se(pe,Ne,bt,"","\\simeq",!0);se(pe,Ne,bt,"","\\mid",!0);se(pe,Ne,bt,"","\\ll",!0);se(pe,Ne,bt,"","\\gg",!0);se(pe,Ne,bt,"","\\asymp",!0);se(pe,Ne,bt,"","\\parallel");se(pe,Ne,bt,"","\\bowtie",!0);se(pe,Ne,bt,"","\\smile",!0);se(pe,Ne,bt,"","\\sqsubseteq",!0);se(pe,Ne,bt,"","\\sqsupseteq",!0);se(pe,Ne,bt,"","\\doteq",!0);se(pe,Ne,bt,"","\\frown",!0);se(pe,Ne,bt,"","\\ni",!0);se(pe,Ne,bt,"","\\propto",!0);se(pe,Ne,bt,"","\\vdash",!0);se(pe,Ne,bt,"","\\dashv",!0);se(pe,Ne,bt,"","\\owns");se(pe,Ne,Dm,".","\\ldotp");se(pe,Ne,Dm,"","\\cdotp");se(pe,Ne,Bt,"#","\\#");se(An,Ne,Bt,"#","\\#");se(pe,Ne,Bt,"&","\\&");se(An,Ne,Bt,"&","\\&");se(pe,Ne,Bt,"","\\aleph",!0);se(pe,Ne,Bt,"","\\forall",!0);se(pe,Ne,Bt,"","\\hbar",!0);se(pe,Ne,Bt,"","\\exists",!0);se(pe,Ne,Bt,"","\\nabla",!0);se(pe,Ne,Bt,"","\\flat",!0);se(pe,Ne,Bt,"","\\ell",!0);se(pe,Ne,Bt,"","\\natural",!0);se(pe,Ne,Bt,"","\\clubsuit",!0);se(pe,Ne,Bt,"","\\wp",!0);se(pe,Ne,Bt,"","\\sharp",!0);se(pe,Ne,Bt,"","\\diamondsuit",!0);se(pe,Ne,Bt,"","\\Re",!0);se(pe,Ne,Bt,"","\\heartsuit",!0);se(pe,Ne,Bt,"","\\Im",!0);se(pe,Ne,Bt,"","\\spadesuit",!0);se(pe,Ne,Bt,"","\\S",!0);se(An,Ne,Bt,"","\\S");se(pe,Ne,Bt,"","\\P",!0);se(An,Ne,Bt,"","\\P");se(pe,Ne,Bt,"","\\dag");se(An,Ne,Bt,"","\\dag");se(An,Ne,Bt,"","\\textdagger");se(pe,Ne,Bt,"","\\ddag");se(An,Ne,Bt,"","\\ddag");se(An,Ne,Bt,"","\\textdaggerdbl");se(pe,Ne,mu,"","\\rmoustache",!0);se(pe,Ne,yc,"","\\lmoustache",!0);se(pe,Ne,mu,"","\\rgroup",!0);se(pe,Ne,yc,"","\\lgroup",!0);se(pe,Ne,nr,"","\\mp",!0);se(pe,Ne,nr,"","\\ominus",!0);se(pe,Ne,nr,"","\\uplus",!0);se(pe,Ne,nr,"","\\sqcap",!0);se(pe,Ne,nr,"","\\ast");se(pe,Ne,nr,"","\\sqcup",!0);se(pe,Ne,nr,"","\\bigcirc",!0);se(pe,Ne,nr,"","\\bullet",!0);se(pe,Ne,nr,"","\\ddagger");se(pe,Ne,nr,"","\\wr",!0);se(pe,Ne,nr,"","\\amalg");se(pe,Ne,nr,"&","\\And");se(pe,Ne,bt,"","\\longleftarrow",!0);se(pe,Ne,bt,"","\\Leftarrow",!0);se(pe,Ne,bt,"","\\Longleftarrow",!0);se(pe,Ne,bt,"","\\longrightarrow",!0);se(pe,Ne,bt,"","\\Rightarrow",!0);se(pe,Ne,bt,"","\\Longrightarrow",!0);se(pe,Ne,bt,"","\\leftrightarrow",!0);se(pe,Ne,bt,"","\\longleftrightarrow",!0);se(pe,Ne,bt,"","\\Leftrightarrow",!0);se(pe,Ne,bt,"","\\Longleftrightarrow",!0);se(pe,Ne,bt,"","\\mapsto",!0);se(pe,Ne,bt,"","\\longmapsto",!0);se(pe,Ne,bt,"","\\nearrow",!0);se(pe,Ne,bt,"","\\hookleftarrow",!0);se(pe,Ne,bt,"","\\hookrightarrow",!0);se(pe,Ne,bt,"","\\searrow",!0);se(pe,Ne,bt,"","\\leftharpoonup",!0);se(pe,Ne,bt,"","\\rightharpoonup",!0);se(pe,Ne,bt,"","\\swarrow",!0);se(pe,Ne,bt,"","\\leftharpoondown",!0);se(pe,Ne,bt,"","\\rightharpoondown",!0);se(pe,Ne,bt,"","\\nwarrow",!0);se(pe,Ne,bt,"","\\rightleftharpoons",!0);se(pe,pt,bt,"","\\nless",!0);se(pe,pt,bt,"","\\@nleqslant");se(pe,pt,bt,"","\\@nleqq");se(pe,pt,bt,"","\\lneq",!0);se(pe,pt,bt,"","\\lneqq",!0);se(pe,pt,bt,"","\\@lvertneqq");se(pe,pt,bt,"","\\lnsim",!0);se(pe,pt,bt,"","\\lnapprox",!0);se(pe,pt,bt,"","\\nprec",!0);se(pe,pt,bt,"","\\npreceq",!0);se(pe,pt,bt,"","\\precnsim",!0);se(pe,pt,bt,"","\\precnapprox",!0);se(pe,pt,bt,"","\\nsim",!0);se(pe,pt,bt,"","\\@nshortmid");se(pe,pt,bt,"","\\nmid",!0);se(pe,pt,bt,"","\\nvdash",!0);se(pe,pt,bt,"","\\nvDash",!0);se(pe,pt,bt,"","\\ntriangleleft");se(pe,pt,bt,"","\\ntrianglelefteq",!0);se(pe,pt,bt,"","\\subsetneq",!0);se(pe,pt,bt,"","\\@varsubsetneq");se(pe,pt,bt,"","\\subsetneqq",!0);se(pe,pt,bt,"","\\@varsubsetneqq");se(pe,pt,bt,"","\\ngtr",!0);se(pe,pt,bt,"","\\@ngeqslant");se(pe,pt,bt,"","\\@ngeqq");se(pe,pt,bt,"","\\gneq",!0);se(pe,pt,bt,"","\\gneqq",!0);se(pe,pt,bt,"","\\@gvertneqq");se(pe,pt,bt,"","\\gnsim",!0);se(pe,pt,bt,"","\\gnapprox",!0);se(pe,pt,bt,"","\\nsucc",!0);se(pe,pt,bt,"","\\nsucceq",!0);se(pe,pt,bt,"","\\succnsim",!0);se(pe,pt,bt,"","\\succnapprox",!0);se(pe,pt,bt,"","\\ncong",!0);se(pe,pt,bt,"","\\@nshortparallel");se(pe,pt,bt,"","\\nparallel",!0);se(pe,pt,bt,"","\\nVDash",!0);se(pe,pt,bt,"","\\ntriangleright");se(pe,pt,bt,"","\\ntrianglerighteq",!0);se(pe,pt,bt,"","\\@nsupseteqq");se(pe,pt,bt,"","\\supsetneq",!0);se(pe,pt,bt,"","\\@varsupsetneq");se(pe,pt,bt,"","\\supsetneqq",!0);se(pe,pt,bt,"","\\@varsupsetneqq");se(pe,pt,bt,"","\\nVdash",!0);se(pe,pt,bt,"","\\precneqq",!0);se(pe,pt,bt,"","\\succneqq",!0);se(pe,pt,bt,"","\\@nsubseteqq");se(pe,pt,nr,"","\\unlhd");se(pe,pt,nr,"","\\unrhd");se(pe,pt,bt,"","\\nleftarrow",!0);se(pe,pt,bt,"","\\nrightarrow",!0);se(pe,pt,bt,"","\\nLeftarrow",!0);se(pe,pt,bt,"","\\nRightarrow",!0);se(pe,pt,bt,"","\\nleftrightarrow",!0);se(pe,pt,bt,"","\\nLeftrightarrow",!0);se(pe,pt,bt,"","\\vartriangle");se(pe,pt,Bt,"","\\hslash");se(pe,pt,Bt,"","\\triangledown");se(pe,pt,Bt,"","\\lozenge");se(pe,pt,Bt,"","\\circledS");se(pe,pt,Bt,"","\\circledR");se(An,pt,Bt,"","\\circledR");se(pe,pt,Bt,"","\\measuredangle",!0);se(pe,pt,Bt,"","\\nexists");se(pe,pt,Bt,"","\\mho");se(pe,pt,Bt,"","\\Finv",!0);se(pe,pt,Bt,"","\\Game",!0);se(pe,pt,Bt,"","\\backprime");se(pe,pt,Bt,"","\\blacktriangle");se(pe,pt,Bt,"","\\blacktriangledown");se(pe,pt,Bt,"","\\blacksquare");se(pe,pt,Bt,"","\\blacklozenge");se(pe,pt,Bt,"","\\bigstar");se(pe,pt,Bt,"","\\sphericalangle",!0);se(pe,pt,Bt,"","\\complement",!0);se(pe,pt,Bt,"","\\eth",!0);se(An,Ne,Bt,"","");se(pe,pt,Bt,"","\\diagup");se(pe,pt,Bt,"","\\diagdown");se(pe,pt,Bt,"","\\square");se(pe,pt,Bt,"","\\Box");se(pe,pt,Bt,"","\\Diamond");se(pe,pt,Bt,"","\\yen",!0);se(An,pt,Bt,"","\\yen",!0);se(pe,pt,Bt,"","\\checkmark",!0);se(An,pt,Bt,"","\\checkmark");se(pe,pt,Bt,"","\\beth",!0);se(pe,pt,Bt,"","\\daleth",!0);se(pe,pt,Bt,"","\\gimel",!0);se(pe,pt,Bt,"","\\digamma",!0);se(pe,pt,Bt,"","\\varkappa");se(pe,pt,yc,"","\\@ulcorner",!0);se(pe,pt,mu,"","\\@urcorner",!0);se(pe,pt,yc,"","\\@llcorner",!0);se(pe,pt,mu,"","\\@lrcorner",!0);se(pe,pt,bt,"","\\leqq",!0);se(pe,pt,bt,"","\\leqslant",!0);se(pe,pt,bt,"","\\eqslantless",!0);se(pe,pt,bt,"","\\lesssim",!0);se(pe,pt,bt,"","\\lessapprox",!0);se(pe,pt,bt,"","\\approxeq",!0);se(pe,pt,nr,"","\\lessdot");se(pe,pt,bt,"","\\lll",!0);se(pe,pt,bt,"","\\lessgtr",!0);se(pe,pt,bt,"","\\lesseqgtr",!0);se(pe,pt,bt,"","\\lesseqqgtr",!0);se(pe,pt,bt,"","\\doteqdot");se(pe,pt,bt,"","\\risingdotseq",!0);se(pe,pt,bt,"","\\fallingdotseq",!0);se(pe,pt,bt,"","\\backsim",!0);se(pe,pt,bt,"","\\backsimeq",!0);se(pe,pt,bt,"","\\subseteqq",!0);se(pe,pt,bt,"","\\Subset",!0);se(pe,pt,bt,"","\\sqsubset",!0);se(pe,pt,bt,"","\\preccurlyeq",!0);se(pe,pt,bt,"","\\curlyeqprec",!0);se(pe,pt,bt,"","\\precsim",!0);se(pe,pt,bt,"","\\precapprox",!0);se(pe,pt,bt,"","\\vartriangleleft");se(pe,pt,bt,"","\\trianglelefteq");se(pe,pt,bt,"","\\vDash",!0);se(pe,pt,bt,"","\\Vvdash",!0);se(pe,pt,bt,"","\\smallsmile");se(pe,pt,bt,"","\\smallfrown");se(pe,pt,bt,"","\\bumpeq",!0);se(pe,pt,bt,"","\\Bumpeq",!0);se(pe,pt,bt,"","\\geqq",!0);se(pe,pt,bt,"","\\geqslant",!0);se(pe,pt,bt,"","\\eqslantgtr",!0);se(pe,pt,bt,"","\\gtrsim",!0);se(pe,pt,bt,"","\\gtrapprox",!0);se(pe,pt,nr,"","\\gtrdot");se(pe,pt,bt,"","\\ggg",!0);se(pe,pt,bt,"","\\gtrless",!0);se(pe,pt,bt,"","\\gtreqless",!0);se(pe,pt,bt,"","\\gtreqqless",!0);se(pe,pt,bt,"","\\eqcirc",!0);se(pe,pt,bt,"","\\circeq",!0);se(pe,pt,bt,"","\\triangleq",!0);se(pe,pt,bt,"","\\thicksim");se(pe,pt,bt,"","\\thickapprox");se(pe,pt,bt,"","\\supseteqq",!0);se(pe,pt,bt,"","\\Supset",!0);se(pe,pt,bt,"","\\sqsupset",!0);se(pe,pt,bt,"","\\succcurlyeq",!0);se(pe,pt,bt,"","\\curlyeqsucc",!0);se(pe,pt,bt,"","\\succsim",!0);se(pe,pt,bt,"","\\succapprox",!0);se(pe,pt,bt,"","\\vartriangleright");se(pe,pt,bt,"","\\trianglerighteq");se(pe,pt,bt,"","\\Vdash",!0);se(pe,pt,bt,"","\\shortmid");se(pe,pt,bt,"","\\shortparallel");se(pe,pt,bt,"","\\between",!0);se(pe,pt,bt,"","\\pitchfork",!0);se(pe,pt,bt,"","\\varpropto");se(pe,pt,bt,"","\\blacktriangleleft");se(pe,pt,bt,"","\\therefore",!0);se(pe,pt,bt,"","\\backepsilon");se(pe,pt,bt,"","\\blacktriangleright");se(pe,pt,bt,"","\\because",!0);se(pe,pt,bt,"","\\llless");se(pe,pt,bt,"","\\gggtr");se(pe,pt,nr,"","\\lhd");se(pe,pt,nr,"","\\rhd");se(pe,pt,bt,"","\\eqsim",!0);se(pe,Ne,bt,"","\\Join");se(pe,pt,bt,"","\\Doteq",!0);se(pe,pt,nr,"","\\dotplus",!0);se(pe,pt,nr,"","\\smallsetminus");se(pe,pt,nr,"","\\Cap",!0);se(pe,pt,nr,"","\\Cup",!0);se(pe,pt,nr,"","\\doublebarwedge",!0);se(pe,pt,nr,"","\\boxminus",!0);se(pe,pt,nr,"","\\boxplus",!0);se(pe,pt,nr,"","\\divideontimes",!0);se(pe,pt,nr,"","\\ltimes",!0);se(pe,pt,nr,"","\\rtimes",!0);se(pe,pt,nr,"","\\leftthreetimes",!0);se(pe,pt,nr,"","\\rightthreetimes",!0);se(pe,pt,nr,"","\\curlywedge",!0);se(pe,pt,nr,"","\\curlyvee",!0);se(pe,pt,nr,"","\\circleddash",!0);se(pe,pt,nr,"","\\circledast",!0);se(pe,pt,nr,"","\\centerdot");se(pe,pt,nr,"","\\intercal",!0);se(pe,pt,nr,"","\\doublecap");se(pe,pt,nr,"","\\doublecup");se(pe,pt,nr,"","\\boxtimes",!0);se(pe,pt,bt,"","\\dashrightarrow",!0);se(pe,pt,bt,"","\\dashleftarrow",!0);se(pe,pt,bt,"","\\leftleftarrows",!0);se(pe,pt,bt,"","\\leftrightarrows",!0);se(pe,pt,bt,"","\\Lleftarrow",!0);se(pe,pt,bt,"","\\twoheadleftarrow",!0);se(pe,pt,bt,"","\\leftarrowtail",!0);se(pe,pt,bt,"","\\looparrowleft",!0);se(pe,pt,bt,"","\\leftrightharpoons",!0);se(pe,pt,bt,"","\\curvearrowleft",!0);se(pe,pt,bt,"","\\circlearrowleft",!0);se(pe,pt,bt,"","\\Lsh",!0);se(pe,pt,bt,"","\\upuparrows",!0);se(pe,pt,bt,"","\\upharpoonleft",!0);se(pe,pt,bt,"","\\downharpoonleft",!0);se(pe,Ne,bt,"","\\origof",!0);se(pe,Ne,bt,"","\\imageof",!0);se(pe,pt,bt,"","\\multimap",!0);se(pe,pt,bt,"","\\leftrightsquigarrow",!0);se(pe,pt,bt,"","\\rightrightarrows",!0);se(pe,pt,bt,"","\\rightleftarrows",!0);se(pe,pt,bt,"","\\twoheadrightarrow",!0);se(pe,pt,bt,"","\\rightarrowtail",!0);se(pe,pt,bt,"","\\looparrowright",!0);se(pe,pt,bt,"","\\curvearrowright",!0);se(pe,pt,bt,"","\\circlearrowright",!0);se(pe,pt,bt,"","\\Rsh",!0);se(pe,pt,bt,"","\\downdownarrows",!0);se(pe,pt,bt,"","\\upharpoonright",!0);se(pe,pt,bt,"","\\downharpoonright",!0);se(pe,pt,bt,"","\\rightsquigarrow",!0);se(pe,pt,bt,"","\\leadsto");se(pe,pt,bt,"","\\Rrightarrow",!0);se(pe,pt,bt,"","\\restriction");se(pe,Ne,Bt,"","`");se(pe,Ne,Bt,"$","\\$");se(An,Ne,Bt,"$","\\$");se(An,Ne,Bt,"$","\\textdollar");se(pe,Ne,Bt,"%","\\%");se(An,Ne,Bt,"%","\\%");se(pe,Ne,Bt,"_","\\_");se(An,Ne,Bt,"_","\\_");se(An,Ne,Bt,"_","\\textunderscore");se(pe,Ne,Bt,"","\\angle",!0);se(pe,Ne,Bt,"","\\infty",!0);se(pe,Ne,Bt,"","\\prime");se(pe,Ne,Bt,"","\\triangle");se(pe,Ne,Bt,"","\\Gamma",!0);se(pe,Ne,Bt,"","\\Delta",!0);se(pe,Ne,Bt,"","\\Theta",!0);se(pe,Ne,Bt,"","\\Lambda",!0);se(pe,Ne,Bt,"","\\Xi",!0);se(pe,Ne,Bt,"","\\Pi",!0);se(pe,Ne,Bt,"","\\Sigma",!0);se(pe,Ne,Bt,"","\\Upsilon",!0);se(pe,Ne,Bt,"","\\Phi",!0);se(pe,Ne,Bt,"","\\Psi",!0);se(pe,Ne,Bt,"","\\Omega",!0);se(pe,Ne,Bt,"A","");se(pe,Ne,Bt,"B","");se(pe,Ne,Bt,"E","");se(pe,Ne,Bt,"Z","");se(pe,Ne,Bt,"H","");se(pe,Ne,Bt,"I","");se(pe,Ne,Bt,"K","");se(pe,Ne,Bt,"M","");se(pe,Ne,Bt,"N","");se(pe,Ne,Bt,"O","");se(pe,Ne,Bt,"P","");se(pe,Ne,Bt,"T","");se(pe,Ne,Bt,"X","");se(pe,Ne,Bt,"","\\neg",!0);se(pe,Ne,Bt,"","\\lnot");se(pe,Ne,Bt,"","\\top");se(pe,Ne,Bt,"","\\bot");se(pe,Ne,Bt,"","\\emptyset");se(pe,pt,Bt,"","\\varnothing");se(pe,Ne,Xr,"","\\alpha",!0);se(pe,Ne,Xr,"","\\beta",!0);se(pe,Ne,Xr,"","\\gamma",!0);se(pe,Ne,Xr,"","\\delta",!0);se(pe,Ne,Xr,"","\\epsilon",!0);se(pe,Ne,Xr,"","\\zeta",!0);se(pe,Ne,Xr,"","\\eta",!0);se(pe,Ne,Xr,"","\\theta",!0);se(pe,Ne,Xr,"","\\iota",!0);se(pe,Ne,Xr,"","\\kappa",!0);se(pe,Ne,Xr,"","\\lambda",!0);se(pe,Ne,Xr,"","\\mu",!0);se(pe,Ne,Xr,"","\\nu",!0);se(pe,Ne,Xr,"","\\xi",!0);se(pe,Ne,Xr,"","\\omicron",!0);se(pe,Ne,Xr,"","\\pi",!0);se(pe,Ne,Xr,"","\\rho",!0);se(pe,Ne,Xr,"","\\sigma",!0);se(pe,Ne,Xr,"","\\tau",!0);se(pe,Ne,Xr,"","\\upsilon",!0);se(pe,Ne,Xr,"","\\phi",!0);se(pe,Ne,Xr,"","\\chi",!0);se(pe,Ne,Xr,"","\\psi",!0);se(pe,Ne,Xr,"","\\omega",!0);se(pe,Ne,Xr,"","\\varepsilon",!0);se(pe,Ne,Xr,"","\\vartheta",!0);se(pe,Ne,Xr,"","\\varpi",!0);se(pe,Ne,Xr,"","\\varrho",!0);se(pe,Ne,Xr,"","\\varsigma",!0);se(pe,Ne,Xr,"","\\varphi",!0);se(pe,Ne,nr,"","*",!0);se(pe,Ne,nr,"+","+");se(pe,Ne,nr,"","-",!0);se(pe,Ne,nr,"","\\cdot",!0);se(pe,Ne,nr,"","\\circ",!0);se(pe,Ne,nr,"","\\div",!0);se(pe,Ne,nr,"","\\pm",!0);se(pe,Ne,nr,"","\\times",!0);se(pe,Ne,nr,"","\\cap",!0);se(pe,Ne,nr,"","\\cup",!0);se(pe,Ne,nr,"","\\setminus",!0);se(pe,Ne,nr,"","\\land");se(pe,Ne,nr,"","\\lor");se(pe,Ne,nr,"","\\wedge",!0);se(pe,Ne,nr,"","\\vee",!0);se(pe,Ne,Bt,"","\\surd");se(pe,Ne,yc,"","\\langle",!0);se(pe,Ne,yc,"","\\lvert");se(pe,Ne,yc,"","\\lVert");se(pe,Ne,mu,"?","?");se(pe,Ne,mu,"!","!");se(pe,Ne,mu,"","\\rangle",!0);se(pe,Ne,mu,"","\\rvert");se(pe,Ne,mu,"","\\rVert");se(pe,Ne,bt,"=","=");se(pe,Ne,bt,":",":");se(pe,Ne,bt,"","\\approx",!0);se(pe,Ne,bt,"","\\cong",!0);se(pe,Ne,bt,"","\\ge");se(pe,Ne,bt,"","\\geq",!0);se(pe,Ne,bt,"","\\gets");se(pe,Ne,bt,">","\\gt",!0);se(pe,Ne,bt,"","\\in",!0);se(pe,Ne,bt,"","\\@not");se(pe,Ne,bt,"","\\subset",!0);se(pe,Ne,bt,"","\\supset",!0);se(pe,Ne,bt,"","\\subseteq",!0);se(pe,Ne,bt,"","\\supseteq",!0);se(pe,pt,bt,"","\\nsubseteq",!0);se(pe,pt,bt,"","\\nsupseteq",!0);se(pe,Ne,bt,"","\\models");se(pe,Ne,bt,"","\\leftarrow",!0);se(pe,Ne,bt,"","\\le");se(pe,Ne,bt,"","\\leq",!0);se(pe,Ne,bt,"<","\\lt",!0);se(pe,Ne,bt,"","\\rightarrow",!0);se(pe,Ne,bt,"","\\to");se(pe,pt,bt,"","\\ngeq",!0);se(pe,pt,bt,"","\\nleq",!0);se(pe,Ne,mh,"","\\ ");se(pe,Ne,mh,"","\\space");se(pe,Ne,mh,"","\\nobreakspace");se(An,Ne,mh,"","\\ ");se(An,Ne,mh,""," ");se(An,Ne,mh,"","\\space");se(An,Ne,mh,"","\\nobreakspace");se(pe,Ne,mh,null,"\\nobreak");se(pe,Ne,mh,null,"\\allowbreak");se(pe,Ne,Dm,",",",");se(pe,Ne,Dm,";",";");se(pe,pt,nr,"","\\barwedge",!0);se(pe,pt,nr,"","\\veebar",!0);se(pe,Ne,nr,"","\\odot",!0);se(pe,Ne,nr,"","\\oplus",!0);se(pe,Ne,nr,"","\\otimes",!0);se(pe,Ne,Bt,"","\\partial",!0);se(pe,Ne,nr,"","\\oslash",!0);se(pe,pt,nr,"","\\circledcirc",!0);se(pe,pt,nr,"","\\boxdot",!0);se(pe,Ne,nr,"","\\bigtriangleup");se(pe,Ne,nr,"","\\bigtriangledown");se(pe,Ne,nr,"","\\dagger");se(pe,Ne,nr,"","\\diamond");se(pe,Ne,nr,"","\\star");se(pe,Ne,nr,"","\\triangleleft");se(pe,Ne,nr,"","\\triangleright");se(pe,Ne,yc,"{","\\{");se(An,Ne,Bt,"{","\\{");se(An,Ne,Bt,"{","\\textbraceleft");se(pe,Ne,mu,"}","\\}");se(An,Ne,Bt,"}","\\}");se(An,Ne,Bt,"}","\\textbraceright");se(pe,Ne,yc,"{","\\lbrace");se(pe,Ne,mu,"}","\\rbrace");se(pe,Ne,yc,"[","\\lbrack",!0);se(An,Ne,Bt,"[","\\lbrack",!0);se(pe,Ne,mu,"]","\\rbrack",!0);se(An,Ne,Bt,"]","\\rbrack",!0);se(pe,Ne,yc,"(","\\lparen",!0);se(pe,Ne,mu,")","\\rparen",!0);se(An,Ne,Bt,"<","\\textless",!0);se(An,Ne,Bt,">","\\textgreater",!0);se(pe,Ne,yc,"","\\lfloor",!0);se(pe,Ne,mu,"","\\rfloor",!0);se(pe,Ne,yc,"","\\lceil",!0);se(pe,Ne,mu,"","\\rceil",!0);se(pe,Ne,Bt,"\\","\\backslash");se(pe,Ne,Bt,"","|");se(pe,Ne,Bt,"","\\vert");se(An,Ne,Bt,"|","\\textbar",!0);se(pe,Ne,Bt,"","\\|");se(pe,Ne,Bt,"","\\Vert");se(An,Ne,Bt,"","\\textbardbl");se(An,Ne,Bt,"~","\\textasciitilde");se(An,Ne,Bt,"\\","\\textbackslash");se(An,Ne,Bt,"^","\\textasciicircum");se(pe,Ne,bt,"","\\uparrow",!0);se(pe,Ne,bt,"","\\Uparrow",!0);se(pe,Ne,bt,"","\\downarrow",!0);se(pe,Ne,bt,"","\\Downarrow",!0);se(pe,Ne,bt,"","\\updownarrow",!0);se(pe,Ne,bt,"","\\Updownarrow",!0);se(pe,Ne,Ks,"","\\coprod");se(pe,Ne,Ks,"","\\bigvee");se(pe,Ne,Ks,"","\\bigwedge");se(pe,Ne,Ks,"","\\biguplus");se(pe,Ne,Ks,"","\\bigcap");se(pe,Ne,Ks,"","\\bigcup");se(pe,Ne,Ks,"","\\int");se(pe,Ne,Ks,"","\\intop");se(pe,Ne,Ks,"","\\iint");se(pe,Ne,Ks,"","\\iiint");se(pe,Ne,Ks,"","\\prod");se(pe,Ne,Ks,"","\\sum");se(pe,Ne,Ks,"","\\bigotimes");se(pe,Ne,Ks,"","\\bigoplus");se(pe,Ne,Ks,"","\\bigodot");se(pe,Ne,Ks,"","\\oint");se(pe,Ne,Ks,"","\\oiint");se(pe,Ne,Ks,"","\\oiiint");se(pe,Ne,Ks,"","\\bigsqcup");se(pe,Ne,Ks,"","\\smallint");se(An,Ne,Wd,"","\\textellipsis");se(pe,Ne,Wd,"","\\mathellipsis");se(An,Ne,Wd,"","\\ldots",!0);se(pe,Ne,Wd,"","\\ldots",!0);se(pe,Ne,Wd,"","\\@cdots",!0);se(pe,Ne,Wd,"","\\ddots",!0);se(pe,Ne,Bt,"","\\varvdots");se(An,Ne,Bt,"","\\varvdots");se(pe,Ne,Xo,"","\\acute");se(pe,Ne,Xo,"","\\grave");se(pe,Ne,Xo,"","\\ddot");se(pe,Ne,Xo,"~","\\tilde");se(pe,Ne,Xo,"","\\bar");se(pe,Ne,Xo,"","\\breve");se(pe,Ne,Xo,"","\\check");se(pe,Ne,Xo,"^","\\hat");se(pe,Ne,Xo,"","\\vec");se(pe,Ne,Xo,"","\\dot");se(pe,Ne,Xo,"","\\mathring");se(pe,Ne,Xr,"","\\@imath");se(pe,Ne,Xr,"","\\@jmath");se(pe,Ne,Bt,"","");se(pe,Ne,Bt,"","");se(An,Ne,Bt,"","\\i",!0);se(An,Ne,Bt,"","\\j",!0);se(An,Ne,Bt,"","\\ss",!0);se(An,Ne,Bt,"","\\ae",!0);se(An,Ne,Bt,"","\\oe",!0);se(An,Ne,Bt,"","\\o",!0);se(An,Ne,Bt,"","\\AE",!0);se(An,Ne,Bt,"","\\OE",!0);se(An,Ne,Bt,"","\\O",!0);se(An,Ne,Xo,"","\\'");se(An,Ne,Xo,"","\\`");se(An,Ne,Xo,"","\\^");se(An,Ne,Xo,"","\\~");se(An,Ne,Xo,"","\\=");se(An,Ne,Xo,"","\\u");se(An,Ne,Xo,"","\\.");se(An,Ne,Xo,"","\\c");se(An,Ne,Xo,"","\\r");se(An,Ne,Xo,"","\\v");se(An,Ne,Xo,"",'\\"');se(An,Ne,Xo,"","\\H");se(An,Ne,Xo,"","\\textcircled");var wE={"--":!0,"---":!0,"``":!0,"''":!0};se(An,Ne,Bt,"","--",!0);se(An,Ne,Bt,"","\\textendash");se(An,Ne,Bt,"","---",!0);se(An,Ne,Bt,"","\\textemdash");se(An,Ne,Bt,"","`",!0);se(An,Ne,Bt,"","\\textquoteleft");se(An,Ne,Bt,"","'",!0);se(An,Ne,Bt,"","\\textquoteright");se(An,Ne,Bt,"","``",!0);se(An,Ne,Bt,"","\\textquotedblleft");se(An,Ne,Bt,"","''",!0);se(An,Ne,Bt,"","\\textquotedblright");se(pe,Ne,Bt,"","\\degree",!0);se(An,Ne,Bt,"","\\degree");se(An,Ne,Bt,"","\\textdegree",!0);se(pe,Ne,Bt,"","\\pounds");se(pe,Ne,Bt,"","\\mathsterling",!0);se(An,Ne,Bt,"","\\pounds");se(An,Ne,Bt,"","\\textsterling",!0);se(pe,pt,Bt,"","\\maltese");se(An,pt,Bt,"","\\maltese");var f6='0123456789/@."';for(var v2=0;v2<f6.length;v2++){var h6=f6.charAt(v2);se(pe,Ne,Bt,h6,h6)}var d6='0123456789!@*()-=+";:?/.,';for(var y2=0;y2<d6.length;y2++){var g6=d6.charAt(y2);se(An,Ne,Bt,g6,g6)}var Jp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var x2=0;x2<Jp.length;x2++){var Zg=Jp.charAt(x2);se(pe,Ne,Xr,Zg,Zg),se(An,Ne,Bt,Zg,Zg)}se(pe,pt,Bt,"C","");se(An,pt,Bt,"C","");se(pe,pt,Bt,"H","");se(An,pt,Bt,"H","");se(pe,pt,Bt,"N","");se(An,pt,Bt,"N","");se(pe,pt,Bt,"P","");se(An,pt,Bt,"P","");se(pe,pt,Bt,"Q","");se(An,pt,Bt,"Q","");se(pe,pt,Bt,"R","");se(An,pt,Bt,"R","");se(pe,pt,Bt,"Z","");se(An,pt,Bt,"Z","");se(pe,Ne,Xr,"h","");se(An,Ne,Xr,"h","");var ai="";for(var hu=0;hu<Jp.length;hu++){var Cs=Jp.charAt(hu);ai=String.fromCharCode(55349,56320+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56372+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56424+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56580+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56684+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56736+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56788+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56840+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56944+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),hu<26&&(ai=String.fromCharCode(55349,56632+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai),ai=String.fromCharCode(55349,56476+hu),se(pe,Ne,Xr,Cs,ai),se(An,Ne,Bt,Cs,ai))}ai="";se(pe,Ne,Xr,"k",ai);se(An,Ne,Bt,"k",ai);for(var y0=0;y0<10;y0++){var Wh=y0.toString();ai=String.fromCharCode(55349,57294+y0),se(pe,Ne,Xr,Wh,ai),se(An,Ne,Bt,Wh,ai),ai=String.fromCharCode(55349,57314+y0),se(pe,Ne,Xr,Wh,ai),se(An,Ne,Bt,Wh,ai),ai=String.fromCharCode(55349,57324+y0),se(pe,Ne,Xr,Wh,ai),se(An,Ne,Bt,Wh,ai),ai=String.fromCharCode(55349,57334+y0),se(pe,Ne,Xr,Wh,ai),se(An,Ne,Bt,Wh,ai)}var Ty="";for(var b2=0;b2<Ty.length;b2++){var qg=Ty.charAt(b2);se(pe,Ne,Xr,qg,qg),se(An,Ne,Bt,qg,qg)}var Qg=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],p6=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],WW=function(t,n){var r=t.charCodeAt(0),o=t.charCodeAt(1),c=(r-55296)*1024+(o-56320)+65536,y=n==="math"?0:1;if(119808<=c&&c<120484){var d=Math.floor((c-119808)/26);return[Qg[d][2],Qg[d][y]]}else if(120782<=c&&c<=120831){var a=Math.floor((c-120782)/10);return[p6[a][2],p6[a][y]]}else{if(c===120485||c===120486)return[Qg[0][2],Qg[0][y]];if(120486<c&&c<120782)return["",""];throw new Ln("Unsupported character: "+t)}},km=function(t,n,r){return bo[r][t]&&bo[r][t].replace&&(t=bo[r][t].replace),{value:t,metrics:Zx(t,n,r)}},rf=function(t,n,r,o,c){var y=km(t,n,r),d=y.metrics;t=y.value;var a;if(d){var u=d.italic;(r==="text"||o&&o.font==="mathit")&&(u=0),a=new Fc(t,d.height,d.depth,u,d.skew,d.width,c)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),a=new Fc(t,0,0,0,0,0,c);if(o){a.maxFontSize=o.sizeMultiplier,o.style.isTight()&&a.classes.push("mtight");var v=o.getColor();v&&(a.style.color=v)}return a},GW=function(t,n,r,o){return o===void 0&&(o=[]),r.font==="boldsymbol"&&km(t,"Main-Bold",n).metrics?rf(t,"Main-Bold",n,r,o.concat(["mathbf"])):t==="\\"||bo[n][t].font==="main"?rf(t,"Main-Regular",n,r,o):rf(t,"AMS-Regular",n,r,o.concat(["amsrm"]))},YW=function(t,n,r,o,c){return c!=="textord"&&km(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},XW=function(t,n,r){var o=t.mode,c=t.text,y=["mord"],d=o==="math"||o==="text"&&n.font,a=d?n.font:n.fontFamily,u="",v="";if(c.charCodeAt(0)===55349&&([u,v]=WW(c,o)),u.length>0)return rf(c,u,o,n,y.concat(v));if(a){var f,g;if(a==="boldsymbol"){var m=YW(c,o,n,y,r);f=m.fontName,g=[m.fontClass]}else d?(f=EE[a].fontName,g=[a]):(f=Jg(a,n.fontWeight,n.fontShape),g=[a,n.fontWeight,n.fontShape]);if(km(c,f,o).metrics)return rf(c,f,o,n,y.concat(g));if(wE.hasOwnProperty(c)&&f.slice(0,10)==="Typewriter"){for(var C=[],D=0;D<c.length;D++)C.push(rf(c[D],f,o,n,y.concat(g)));return SE(C)}}if(r==="mathord")return rf(c,"Math-Italic",o,n,y.concat(["mathnormal"]));if(r==="textord"){var S=bo[o][c]&&bo[o][c].font;if(S==="ams"){var O=Jg("amsrm",n.fontWeight,n.fontShape);return rf(c,O,o,n,y.concat("amsrm",n.fontWeight,n.fontShape))}else if(S==="main"||!S){var N=Jg("textrm",n.fontWeight,n.fontShape);return rf(c,N,o,n,y.concat(n.fontWeight,n.fontShape))}else{var U=Jg(S,n.fontWeight,n.fontShape);return rf(c,U,o,n,y.concat(U,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},VW=(e,t)=>{if(e0(e.classes)!==e0(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var o in t.style)if(t.style.hasOwnProperty(o)&&e.style[o]!==t.style[o])return!1;return!0},KW=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Fc&&r instanceof Fc&&VW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},Qx=function(t){for(var n=0,r=0,o=0,c=0;c<t.children.length;c++){var y=t.children[c];y.height>n&&(n=y.height),y.depth>r&&(r=y.depth),y.maxFontSize>o&&(o=y.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=o},Hu=function(t,n,r,o){var c=new ug(t,n,r,o);return Qx(c),c},CE=(e,t,n,r)=>new ug(e,t,n,r),ZW=function(t,n,r){var o=Hu([t],[],n);return o.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),o.style.borderBottomWidth=Wn(o.height),o.maxFontSize=1,o},qW=function(t,n,r,o){var c=new qx(t,n,r,o);return Qx(c),c},SE=function(t){var n=new lg(t);return Qx(n),n},QW=function(t,n){return t instanceof lg?Hu([],[t],n):t},JW=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],o=-n[0].shift-n[0].elem.depth,c=o,y=1;y<n.length;y++){var d=-n[y].shift-c-n[y].elem.depth,a=d-(n[y-1].elem.height+n[y-1].elem.depth);c=c+d,r.push({type:"kern",size:a}),r.push(n[y])}return{children:r,depth:o}}var u;if(t.positionType==="top"){for(var v=t.positionData,f=0;f<t.children.length;f++){var g=t.children[f];v-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}u=v}else if(t.positionType==="bottom")u=-t.positionData;else{var m=t.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-m.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},$W=function(t,n){for(var{children:r,depth:o}=JW(t),c=0,y=0;y<r.length;y++){var d=r[y];if(d.type==="elem"){var a=d.elem;c=Math.max(c,a.maxFontSize,a.height)}}c+=2;var u=Hu(["pstrut"],[]);u.style.height=Wn(c);for(var v=[],f=o,g=o,m=o,C=0;C<r.length;C++){var D=r[C];if(D.type==="kern")m+=D.size;else{var S=D.elem,O=D.wrapperClasses||[],N=D.wrapperStyle||{},U=Hu(O,[u,S],void 0,N);U.style.top=Wn(-c-m-S.depth),D.marginLeft&&(U.style.marginLeft=D.marginLeft),D.marginRight&&(U.style.marginRight=D.marginRight),v.push(U),m+=S.height+S.depth}f=Math.min(f,m),g=Math.max(g,m)}var W=Hu(["vlist"],v);W.style.height=Wn(g);var q;if(f<0){var J=Hu([],[]),ne=Hu(["vlist"],[J]);ne.style.height=Wn(-f);var ve=Hu(["vlist-s"],[new Fc("")]);q=[Hu(["vlist-r"],[W,ve]),Hu(["vlist-r"],[ne])]}else q=[Hu(["vlist-r"],[W])];var Se=Hu(["vlist-t"],q);return q.length===2&&Se.classes.push("vlist-t2"),Se.height=g,Se.depth=-f,Se},eG=(e,t)=>{var n=Hu(["mspace"],[],t),r=ls(e,t);return n.style.marginRight=Wn(r),n},Jg=function(t,n,r){var o="";switch(t){case"amsrm":o="AMS";break;case"textrm":o="Main";break;case"textsf":o="SansSerif";break;case"texttt":o="Typewriter";break;default:o=t}var c;return n==="textbf"&&r==="textit"?c="BoldItalic":n==="textbf"?c="Bold":n==="textit"?c="Italic":c="Regular",o+"-"+c},EE={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},AE={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},tG=function(t,n){var[r,o,c]=AE[t],y=new t0(r),d=new dh([y],{width:Wn(o),height:Wn(c),style:"width:"+Wn(o),viewBox:"0 0 "+1e3*o+" "+1e3*c,preserveAspectRatio:"xMinYMin"}),a=CE(["overlay"],[d],n);return a.height=c,a.style.height=Wn(c),a.style.width=Wn(o),a},$t={fontMap:EE,makeSymbol:rf,mathsym:GW,makeSpan:Hu,makeSvgSpan:CE,makeLineSpan:ZW,makeAnchor:qW,makeFragment:SE,wrapFragment:QW,makeVList:$W,makeOrd:XW,makeGlue:eG,staticSvg:tG,svgData:AE,tryCombineChars:KW},ss={number:3,unit:"mu"},x0={number:4,unit:"mu"},ih={number:5,unit:"mu"},nG={mord:{mop:ss,mbin:x0,mrel:ih,minner:ss},mop:{mord:ss,mop:ss,mrel:ih,minner:ss},mbin:{mord:x0,mop:x0,mopen:x0,minner:x0},mrel:{mord:ih,mop:ih,mopen:ih,minner:ih},mopen:{},mclose:{mop:ss,mbin:x0,mrel:ih,minner:ss},mpunct:{mord:ss,mop:ss,mrel:ih,mopen:ss,mclose:ss,mpunct:ss,minner:ss},minner:{mord:ss,mop:ss,mbin:x0,mrel:ih,mopen:ss,mpunct:ss,minner:ss}},rG={mord:{mop:ss},mop:{mord:ss,mop:ss},mbin:{},mrel:{},mopen:{},mclose:{mop:ss},mpunct:{},minner:{mop:ss}},TE={},$p={},em={};function Qn(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:c,mathmlBuilder:y}=e,d={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:o},a=0;a<n.length;++a)TE[n[a]]=d;t&&(c&&($p[t]=c),y&&(em[t]=y))}function U0(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;Qn({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var tm=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Bs=function(t){return t.type==="ordgroup"?t.body:[t]},gh=$t.makeSpan,iG=["leftmost","mbin","mopen","mrel","mop","mpunct"],aG=["rightmost","mrel","mclose","mpunct"],oG={display:Vr.DISPLAY,text:Vr.TEXT,script:Vr.SCRIPT,scriptscript:Vr.SCRIPTSCRIPT},sG={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},fl=function(t,n,r,o){o===void 0&&(o=[null,null]);for(var c=[],y=0;y<t.length;y++){var d=ya(t[y],n);if(d instanceof lg){var a=d.children;c.push(...a)}else c.push(d)}if($t.tryCombineChars(c),!r)return c;var u=n;if(t.length===1){var v=t[0];v.type==="sizing"?u=n.havingSize(v.size):v.type==="styling"&&(u=n.havingStyle(oG[v.style]))}var f=gh([o[0]||"leftmost"],[],n),g=gh([o[1]||"rightmost"],[],n),m=r==="root";return m6(c,(C,D)=>{var S=D.classes[0],O=C.classes[0];S==="mbin"&&aG.includes(O)?D.classes[0]="mord":O==="mbin"&&iG.includes(S)&&(C.classes[0]="mord")},{node:f},g,m),m6(c,(C,D)=>{var S=Dy(D),O=Dy(C),N=S&&O?C.hasClass("mtight")?rG[S][O]:nG[S][O]:null;if(N)return $t.makeGlue(N,u)},{node:f},g,m),c},m6=function e(t,n,r,o,c){o&&t.push(o);for(var y=0;y<t.length;y++){var d=t[y],a=DE(d);if(a){e(a.children,n,r,null,c);continue}var u=!d.hasClass("mspace");if(u){var v=n(d,r.node);v&&(r.insertAfter?r.insertAfter(v):(t.unshift(v),y++))}u?r.node=d:c&&d.hasClass("newline")&&(r.node=gh(["leftmost"])),r.insertAfter=(f=>g=>{t.splice(f+1,0,g),y++})(y)}o&&t.pop()},DE=function(t){return t instanceof lg||t instanceof qx||t instanceof ug&&t.hasClass("enclosing")?t:null},lG=function e(t,n){var r=DE(t);if(r){var o=r.children;if(o.length){if(n==="right")return e(o[o.length-1],"right");if(n==="left")return e(o[0],"left")}}return t},Dy=function(t,n){return t?(n&&(t=lG(t,n)),sG[t.classes[0]]||null):null},q1=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return gh(n.concat(r))},ya=function(t,n,r){if(!t)return gh();if($p[t.type]){var o=$p[t.type](t,n);if(r&&n.size!==r.size){o=gh(n.sizingClasses(r),[o],n);var c=n.sizeMultiplier/r.sizeMultiplier;o.height*=c,o.depth*=c}return o}else throw new Ln("Got group of unknown type: '"+t.type+"'")};function $g(e,t){var n=gh(["base"],e,t),r=gh(["strut"]);return r.style.height=Wn(n.height+n.depth),n.depth&&(r.style.verticalAlign=Wn(-n.depth)),n.children.unshift(r),n}function ky(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=fl(e,t,"root"),o;r.length===2&&r[1].hasClass("tag")&&(o=r.pop());for(var c=[],y=[],d=0;d<r.length;d++)if(y.push(r[d]),r[d].hasClass("mbin")||r[d].hasClass("mrel")||r[d].hasClass("allowbreak")){for(var a=!1;d<r.length-1&&r[d+1].hasClass("mspace")&&!r[d+1].hasClass("newline");)d++,y.push(r[d]),r[d].hasClass("nobreak")&&(a=!0);a||(c.push($g(y,t)),y=[])}else r[d].hasClass("newline")&&(y.pop(),y.length>0&&(c.push($g(y,t)),y=[]),c.push(r[d]));y.length>0&&c.push($g(y,t));var u;n?(u=$g(fl(n,t,!0)),u.classes=["tag"],c.push(u)):o&&c.push(o);var v=gh(["katex-html"],c);if(v.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=Wn(v.height+v.depth),v.depth&&(f.style.verticalAlign=Wn(-v.depth))}return v}function kE(e){return new lg(e)}class cc{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=e0(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Bf&&this.children[r+1]instanceof Bf){for(var o=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Bf;)o+=this.children[++r].toText();t.appendChild(new Bf(o).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Sa.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Sa.escape(e0(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Bf{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Sa.escape(this.toText())}toText(){return this.text}}class uG{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",Wn(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Wn(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Mn={MathNode:cc,TextNode:Bf,SpaceNode:uG,newDocumentFragment:kE},Pc=function(t,n,r){return bo[n][t]&&bo[n][t].replace&&t.charCodeAt(0)!==55349&&!(wE.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=bo[n][t].replace),new Mn.TextNode(t)},Jx=function(t){return t.length===1?t[0]:new Mn.MathNode("mrow",t)},$x=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var o=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var c=t.text;if(["\\imath","\\jmath"].includes(c))return null;bo[o][c]&&bo[o][c].replace&&(c=bo[o][c].replace);var y=$t.fontMap[r].fontName;return Zx(c,y,o)?$t.fontMap[r].variant:null};function w2(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Bf&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof Bf&&n.text===","}else return!1}var Gu=function(t,n,r){if(t.length===1){var o=uo(t[0],n);return r&&o instanceof cc&&o.type==="mo"&&(o.setAttribute("lspace","0em"),o.setAttribute("rspace","0em")),[o]}for(var c=[],y,d=0;d<t.length;d++){var a=uo(t[d],n);if(a instanceof cc&&y instanceof cc){if(a.type==="mtext"&&y.type==="mtext"&&a.getAttribute("mathvariant")===y.getAttribute("mathvariant")){y.children.push(...a.children);continue}else if(a.type==="mn"&&y.type==="mn"){y.children.push(...a.children);continue}else if(w2(a)&&y.type==="mn"){y.children.push(...a.children);continue}else if(a.type==="mn"&&w2(y))a.children=[...y.children,...a.children],c.pop();else if((a.type==="msup"||a.type==="msub")&&a.children.length>=1&&(y.type==="mn"||w2(y))){var u=a.children[0];u instanceof cc&&u.type==="mn"&&(u.children=[...y.children,...u.children],c.pop())}else if(y.type==="mi"&&y.children.length===1){var v=y.children[0];if(v instanceof Bf&&v.text===""&&(a.type==="mo"||a.type==="mi"||a.type==="mn")){var f=a.children[0];f instanceof Bf&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),c.pop())}}}c.push(a),y=a}return c},n0=function(t,n,r){return Jx(Gu(t,n,r))},uo=function(t,n){if(!t)return new Mn.MathNode("mrow");if(em[t.type]){var r=em[t.type](t,n);return r}else throw new Ln("Got group of unknown type: '"+t.type+"'")};function v6(e,t,n,r,o){var c=Gu(e,n),y;c.length===1&&c[0]instanceof cc&&["mrow","mtable"].includes(c[0].type)?y=c[0]:y=new Mn.MathNode("mrow",c);var d=new Mn.MathNode("annotation",[new Mn.TextNode(t)]);d.setAttribute("encoding","application/x-tex");var a=new Mn.MathNode("semantics",[y,d]),u=new Mn.MathNode("math",[a]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var v=o?"katex":"katex-mathml";return $t.makeSpan([v],[u])}var _E=function(t){return new sh({style:t.displayMode?Vr.DISPLAY:Vr.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},ME=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=$t.makeSpan(r,[t])}return t},cG=function(t,n,r){var o=_E(r),c;if(r.output==="mathml")return v6(t,n,o,r.displayMode,!0);if(r.output==="html"){var y=ky(t,o);c=$t.makeSpan(["katex"],[y])}else{var d=v6(t,n,o,r.displayMode,!1),a=ky(t,o);c=$t.makeSpan(["katex"],[d,a])}return ME(c,r)},fG=function(t,n,r){var o=_E(r),c=ky(t,o),y=$t.makeSpan(["katex"],[c]);return ME(y,r)},hG={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},dG=function(t){var n=new Mn.MathNode("mo",[new Mn.TextNode(hG[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},gG={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},pG=function(t){return t.type==="ordgroup"?t.body.length:1},mG=function(t,n){function r(){var d=4e5,a=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(a)){var u=t,v=pG(u.base),f,g,m;if(v>5)a==="widehat"||a==="widecheck"?(f=420,d=2364,m=.42,g=a+"4"):(f=312,d=2340,m=.34,g="tilde4");else{var C=[1,1,2,2,3,3][v];a==="widehat"||a==="widecheck"?(d=[0,1062,2364,2364,2364][C],f=[0,239,300,360,420][C],m=[0,.24,.3,.3,.36,.42][C],g=a+C):(d=[0,600,1033,2339,2340][C],f=[0,260,286,306,312][C],m=[0,.26,.286,.3,.306,.34][C],g="tilde"+C)}var D=new t0(g),S=new dh([D],{width:"100%",height:Wn(m),viewBox:"0 0 "+d+" "+f,preserveAspectRatio:"none"});return{span:$t.makeSvgSpan([],[S],n),minWidth:0,height:m}}else{var O=[],N=gG[a],[U,W,q]=N,J=q/1e3,ne=U.length,ve,Se;if(ne===1){var Be=N[3];ve=["hide-tail"],Se=[Be]}else if(ne===2)ve=["halfarrow-left","halfarrow-right"],Se=["xMinYMin","xMaxYMin"];else if(ne===3)ve=["brace-left","brace-center","brace-right"],Se=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+ne+" children.");for(var Ue=0;Ue<ne;Ue++){var qe=new t0(U[Ue]),mt=new dh([qe],{width:"400em",height:Wn(J),viewBox:"0 0 "+d+" "+q,preserveAspectRatio:Se[Ue]+" slice"}),ut=$t.makeSvgSpan([ve[Ue]],[mt],n);if(ne===1)return{span:ut,minWidth:W,height:J};ut.style.height=Wn(J),O.push(ut)}return{span:$t.makeSpan(["stretchy"],O,n),minWidth:W,height:J}}}var{span:o,minWidth:c,height:y}=r();return o.height=y,o.style.height=Wn(y),c>0&&(o.style.minWidth=Wn(c)),o},vG=function(t,n,r,o,c){var y,d=t.height+t.depth+r+o;if(/fbox|color|angl/.test(n)){if(y=$t.makeSpan(["stretchy",n],[],c),n==="fbox"){var a=c.color&&c.getColor();a&&(y.style.borderColor=a)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new Ay({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new Ay({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var v=new dh(u,{width:"100%",height:Wn(d)});y=$t.makeSvgSpan([],[v],c)}return y.height=d,y.style.height=Wn(d),y},ph={encloseSpan:vG,mathMLnode:dG,svgSpan:mG};function Ei(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function eb(e){var t=_m(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function _m(e){return e&&(e.type==="atom"||jW.hasOwnProperty(e.type))?e:null}var tb=(e,t)=>{var n,r,o;e&&e.type==="supsub"?(r=Ei(e.base,"accent"),n=r.base,e.base=n,o=HW(ya(e,t)),e.base=r):(r=Ei(e,"accent"),n=r.base);var c=ya(n,t.havingCrampedStyle()),y=r.isShifty&&Sa.isCharacterBox(n),d=0;if(y){var a=Sa.getBaseElem(n),u=ya(a,t.havingCrampedStyle());d=c6(u).skew}var v=r.label==="\\c",f=v?c.height+c.depth:Math.min(c.height,t.fontMetrics().xHeight),g;if(r.isStretchy)g=ph.svgSpan(r,t),g=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:d>0?{width:"calc(100% - "+Wn(2*d)+")",marginLeft:Wn(2*d)}:void 0}]},t);else{var m,C;r.label==="\\vec"?(m=$t.staticSvg("vec",t),C=$t.svgData.vec[1]):(m=$t.makeOrd({mode:r.mode,text:r.label},t,"textord"),m=c6(m),m.italic=0,C=m.width,v&&(f+=m.depth)),g=$t.makeSpan(["accent-body"],[m]);var D=r.label==="\\textcircled";D&&(g.classes.push("accent-full"),f=c.height);var S=d;D||(S-=C/2),g.style.left=Wn(S),r.label==="\\textcircled"&&(g.style.top=".2em"),g=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:-f},{type:"elem",elem:g}]},t)}var O=$t.makeSpan(["mord","accent"],[g],t);return o?(o.children[0]=O,o.height=Math.max(O.height,o.height),o.classes[0]="mord",o):O},OE=(e,t)=>{var n=e.isStretchy?ph.mathMLnode(e.label):new Mn.MathNode("mo",[Pc(e.label,e.mode)]),r=new Mn.MathNode("mover",[uo(e.base,t),n]);return r.setAttribute("accent","true"),r},yG=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Qn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=tm(t[0]),r=!yG.test(e.funcName),o=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:o,base:n}},htmlBuilder:tb,mathmlBuilder:OE});Qn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:tb,mathmlBuilder:OE});Qn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:o}},htmlBuilder:(e,t)=>{var n=ya(e.base,t),r=ph.svgSpan(e,t),o=e.label==="\\utilde"?.12:0,c=$t.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},t);return $t.makeSpan(["mord","accentunder"],[c],t)},mathmlBuilder:(e,t)=>{var n=ph.mathMLnode(e.label),r=new Mn.MathNode("munder",[uo(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var ep=e=>{var t=new Mn.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Qn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:o}=e;return{type:"xArrow",mode:r.mode,label:o,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),o=$t.wrapFragment(ya(e.body,r,t),t),c=e.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(c+"-arrow-pad");var y;e.below&&(r=t.havingStyle(n.sub()),y=$t.wrapFragment(ya(e.below,r,t),t),y.classes.push(c+"-arrow-pad"));var d=ph.svgSpan(e,t),a=-t.fontMetrics().axisHeight+.5*d.height,u=-t.fontMetrics().axisHeight-.5*d.height-.111;(o.depth>.25||e.label==="\\xleftequilibrium")&&(u-=o.depth);var v;if(y){var f=-t.fontMetrics().axisHeight+y.height+.5*d.height+.111;v=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:d,shift:a},{type:"elem",elem:y,shift:f}]},t)}else v=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:d,shift:a}]},t);return v.children[0].children[0].children[1].classes.push("svg-align"),$t.makeSpan(["mrel","x-arrow"],[v],t)},mathmlBuilder(e,t){var n=ph.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var o=ep(uo(e.body,t));if(e.below){var c=ep(uo(e.below,t));r=new Mn.MathNode("munderover",[n,c,o])}else r=new Mn.MathNode("mover",[n,o])}else if(e.below){var y=ep(uo(e.below,t));r=new Mn.MathNode("munder",[n,y])}else r=ep(),r=new Mn.MathNode("mover",[n,r]);return r}});var xG=$t.makeSpan;function IE(e,t){var n=fl(e.body,t,!0);return xG([e.mclass],n,t)}function RE(e,t){var n,r=Gu(e.body,t);return e.mclass==="minner"?n=new Mn.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new Mn.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new Mn.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Qn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Bs(o),isCharacterBox:Sa.isCharacterBox(o)}},htmlBuilder:IE,mathmlBuilder:RE});var Mm=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Qn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Mm(t[0]),body:Bs(t[1]),isCharacterBox:Sa.isCharacterBox(t[1])}}});Qn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,o=t[1],c=t[0],y;r!=="\\stackrel"?y=Mm(o):y="mrel";var d={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Bs(o)},a={type:"supsub",mode:c.mode,base:d,sup:r==="\\underset"?null:c,sub:r==="\\underset"?c:null};return{type:"mclass",mode:n.mode,mclass:y,body:[a],isCharacterBox:Sa.isCharacterBox(a)}},htmlBuilder:IE,mathmlBuilder:RE});Qn({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Mm(t[0]),body:Bs(t[0])}},htmlBuilder(e,t){var n=fl(e.body,t,!0),r=$t.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=Gu(e.body,t),r=new Mn.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var bG={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},y6=()=>({type:"styling",body:[],mode:"math",style:"display"}),x6=e=>e.type==="textord"&&e.text==="@",wG=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function CG(e,t,n){var r=bG[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var o=n.callFunction("\\\\cdleft",[t[0]],[]),c={type:"atom",text:r,mode:"math",family:"rel"},y=n.callFunction("\\Big",[c],[]),d=n.callFunction("\\\\cdright",[t[1]],[]),a={type:"ordgroup",mode:"math",body:[o,y,d]};return n.callFunction("\\\\cdparent",[a],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function SG(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Ln("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],o=[r],c=0;c<t.length;c++){for(var y=t[c],d=y6(),a=0;a<y.length;a++)if(!x6(y[a]))d.body.push(y[a]);else{r.push(d),a+=1;var u=eb(y[a]).text,v=new Array(2);if(v[0]={type:"ordgroup",mode:"math",body:[]},v[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var g=!0,m=a+1;m<y.length;m++){if(wG(y[m],u)){g=!1,a=m;break}if(x6(y[m]))throw new Ln("Missing a "+u+" character to complete a CD arrow.",y[m]);v[f].body.push(y[m])}if(g)throw new Ln("Missing a "+u+" character to complete a CD arrow.",y[a])}else throw new Ln('Expected one of "<>AV=|." after @',y[a]);var C=CG(u,v,e),D={type:"styling",body:[C],mode:"math",style:"display"};r.push(D),d=y6()}c%2===0?r.push(d):r.shift(),r=[],o.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var S=new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:S,colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}Qn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=$t.wrapFragment(ya(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=Wn(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new Mn.MathNode("mrow",[uo(e.label,t)]);return n=new Mn.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Mn.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Qn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=$t.wrapFragment(ya(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new Mn.MathNode("mrow",[uo(e.fragment,t)])}});Qn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Ei(t[0],"ordgroup"),o=r.body,c="",y=0;y<o.length;y++){var d=Ei(o[y],"textord");c+=d.text}var a=parseInt(c),u;if(isNaN(a))throw new Ln("\\@char has non-numeric argument "+c);if(a<0||a>=1114111)throw new Ln("\\@char with invalid code point "+c);return a<=65535?u=String.fromCharCode(a):(a-=65536,u=String.fromCharCode((a>>10)+55296,(a&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var NE=(e,t)=>{var n=fl(e.body,t.withColor(e.color),!1);return $t.makeFragment(n)},LE=(e,t)=>{var n=Gu(e.body,t.withColor(e.color)),r=new Mn.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};Qn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Ei(t[0],"color-token").color,o=t[1];return{type:"color",mode:n.mode,color:r,body:Bs(o)}},htmlBuilder:NE,mathmlBuilder:LE});Qn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,o=Ei(t[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var c=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:o,body:c}},htmlBuilder:NE,mathmlBuilder:LE});Qn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,o=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,c=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:c,size:o&&Ei(o,"size").value}},htmlBuilder(e,t){var n=$t.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Wn(ls(e.size,t)))),n},mathmlBuilder(e,t){var n=new Mn.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Wn(ls(e.size,t)))),n}});var _y={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},BE=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Ln("Expected a control sequence",e);return t},EG=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},FE=(e,t,n,r)=>{var o=e.gullet.macros.get(n.text);o==null&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,o,r)};Qn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(_y[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=_y[r.text]),Ei(t.parseFunction(),"internal");throw new Ln("Invalid token after macro prefix",r)}});Qn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new Ln("Expected a control sequence",r);for(var c=0,y,d=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){y=t.gullet.future(),d[c].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ln('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==c+1)throw new Ln('Argument number "'+r.text+'" out of order');c++,d.push([])}else{if(r.text==="EOF")throw new Ln("Expected a macro definition");d[c].push(r.text)}var{tokens:a}=t.gullet.consumeArg();return y&&a.unshift(y),(n==="\\edef"||n==="\\xdef")&&(a=t.gullet.expandTokens(a),a.reverse()),t.gullet.macros.set(o,{tokens:a,numArgs:c,delimiters:d},n===_y[n]),{type:"internal",mode:t.mode}}});Qn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=BE(t.gullet.popToken());t.gullet.consumeSpaces();var o=EG(t);return FE(t,r,o,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Qn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=BE(t.gullet.popToken()),o=t.gullet.popToken(),c=t.gullet.popToken();return FE(t,r,c,n==="\\\\globalfuture"),t.gullet.pushToken(c),t.gullet.pushToken(o),{type:"internal",mode:t.mode}}});var k1=function(t,n,r){var o=bo.math[t]&&bo.math[t].replace,c=Zx(o||t,n,r);if(!c)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return c},nb=function(t,n,r,o){var c=r.havingBaseStyle(n),y=$t.makeSpan(o.concat(c.sizingClasses(r)),[t],r),d=c.sizeMultiplier/r.sizeMultiplier;return y.height*=d,y.depth*=d,y.maxFontSize=c.sizeMultiplier,y},PE=function(t,n,r){var o=n.havingBaseStyle(r),c=(1-n.sizeMultiplier/o.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=Wn(c),t.height-=c,t.depth+=c},AG=function(t,n,r,o,c,y){var d=$t.makeSymbol(t,"Main-Regular",c,o),a=nb(d,n,o,y);return r&&PE(a,o,n),a},TG=function(t,n,r,o){return $t.makeSymbol(t,"Size"+n+"-Regular",r,o)},zE=function(t,n,r,o,c,y){var d=TG(t,n,c,o),a=nb($t.makeSpan(["delimsizing","size"+n],[d],o),Vr.TEXT,o,y);return r&&PE(a,o,Vr.TEXT),a},C2=function(t,n,r){var o;n==="Size1-Regular"?o="delim-size1":o="delim-size4";var c=$t.makeSpan(["delimsizinginner",o],[$t.makeSpan([],[$t.makeSymbol(t,n,r)])]);return{type:"elem",elem:c}},S2=function(t,n,r){var o=Lf["Size4-Regular"][t.charCodeAt(0)]?Lf["Size4-Regular"][t.charCodeAt(0)][4]:Lf["Size1-Regular"][t.charCodeAt(0)][4],c=new t0("inner",OW(t,Math.round(1e3*n))),y=new dh([c],{width:Wn(o),height:Wn(n),style:"width:"+Wn(o),viewBox:"0 0 "+1e3*o+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),d=$t.makeSvgSpan([],[y],r);return d.height=n,d.style.height=Wn(n),d.style.width=Wn(o),{type:"elem",elem:d}},My=.008,tp={type:"kern",size:-1*My},DG=["|","\\lvert","\\rvert","\\vert"],kG=["\\|","\\lVert","\\rVert","\\Vert"],HE=function(t,n,r,o,c,y){var d,a,u,v,f="",g=0;d=u=v=t,a=null;var m="Size1-Regular";t==="\\uparrow"?u=v="":t==="\\Uparrow"?u=v="":t==="\\downarrow"?d=u="":t==="\\Downarrow"?d=u="":t==="\\updownarrow"?(d="\\uparrow",u="",v="\\downarrow"):t==="\\Updownarrow"?(d="\\Uparrow",u="",v="\\Downarrow"):DG.includes(t)?(u="",f="vert",g=333):kG.includes(t)?(u="",f="doublevert",g=556):t==="["||t==="\\lbrack"?(d="",u="",v="",m="Size4-Regular",f="lbrack",g=667):t==="]"||t==="\\rbrack"?(d="",u="",v="",m="Size4-Regular",f="rbrack",g=667):t==="\\lfloor"||t===""?(u=d="",v="",m="Size4-Regular",f="lfloor",g=667):t==="\\lceil"||t===""?(d="",u=v="",m="Size4-Regular",f="lceil",g=667):t==="\\rfloor"||t===""?(u=d="",v="",m="Size4-Regular",f="rfloor",g=667):t==="\\rceil"||t===""?(d="",u=v="",m="Size4-Regular",f="rceil",g=667):t==="("||t==="\\lparen"?(d="",u="",v="",m="Size4-Regular",f="lparen",g=875):t===")"||t==="\\rparen"?(d="",u="",v="",m="Size4-Regular",f="rparen",g=875):t==="\\{"||t==="\\lbrace"?(d="",a="",v="",u="",m="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(d="",a="",v="",u="",m="Size4-Regular"):t==="\\lgroup"||t===""?(d="",v="",u="",m="Size4-Regular"):t==="\\rgroup"||t===""?(d="",v="",u="",m="Size4-Regular"):t==="\\lmoustache"||t===""?(d="",v="",u="",m="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(d="",v="",u="",m="Size4-Regular");var C=k1(d,m,c),D=C.height+C.depth,S=k1(u,m,c),O=S.height+S.depth,N=k1(v,m,c),U=N.height+N.depth,W=0,q=1;if(a!==null){var J=k1(a,m,c);W=J.height+J.depth,q=2}var ne=D+U+W,ve=Math.max(0,Math.ceil((n-ne)/(q*O))),Se=ne+ve*q*O,Be=o.fontMetrics().axisHeight;r&&(Be*=o.sizeMultiplier);var Ue=Se/2-Be,qe=[];if(f.length>0){var mt=Se-D-U,ut=Math.round(Se*1e3),ge=IW(f,Math.round(mt*1e3)),me=new t0(f,ge),Ie=(g/1e3).toFixed(3)+"em",lt=(ut/1e3).toFixed(3)+"em",Me=new dh([me],{width:Ie,height:lt,viewBox:"0 0 "+g+" "+ut}),ue=$t.makeSvgSpan([],[Me],o);ue.height=ut/1e3,ue.style.width=Ie,ue.style.height=lt,qe.push({type:"elem",elem:ue})}else{if(qe.push(C2(v,m,c)),qe.push(tp),a===null){var ce=Se-D-U+2*My;qe.push(S2(u,ce,o))}else{var oe=(Se-D-U-W)/2+2*My;qe.push(S2(u,oe,o)),qe.push(tp),qe.push(C2(a,m,c)),qe.push(tp),qe.push(S2(u,oe,o))}qe.push(tp),qe.push(C2(d,m,c))}var Z=o.havingBaseStyle(Vr.TEXT),be=$t.makeVList({positionType:"bottom",positionData:Ue,children:qe},Z);return nb($t.makeSpan(["delimsizing","mult"],[be],Z),Vr.TEXT,o,y)},E2=80,A2=.08,T2=function(t,n,r,o,c){var y=MW(t,o,r),d=new t0(t,y),a=new dh([d],{width:"400em",height:Wn(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return $t.makeSvgSpan(["hide-tail"],[a],c)},_G=function(t,n){var r=n.havingBaseSizing(),o=GE("\\surd",t*r.sizeMultiplier,WE,r),c=r.sizeMultiplier,y=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),d,a=0,u=0,v=0,f;return o.type==="small"?(v=1e3+1e3*y+E2,t<1?c=1:t<1.4&&(c=.7),a=(1+y+A2)/c,u=(1+y)/c,d=T2("sqrtMain",a,v,y,n),d.style.minWidth="0.853em",f=.833/c):o.type==="large"?(v=(1e3+E2)*L1[o.size],u=(L1[o.size]+y)/c,a=(L1[o.size]+y+A2)/c,d=T2("sqrtSize"+o.size,a,v,y,n),d.style.minWidth="1.02em",f=1/c):(a=t+y+A2,u=t+y,v=Math.floor(1e3*t+y)+E2,d=T2("sqrtTall",a,v,y,n),d.style.minWidth="0.742em",f=1.056),d.height=u,d.style.height=Wn(a),{span:d,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+y)*c}},UE=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],MG=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],jE=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],L1=[0,1.2,1.8,2.4,3],OG=function(t,n,r,o,c){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),UE.includes(t)||jE.includes(t))return zE(t,n,!1,r,o,c);if(MG.includes(t))return HE(t,L1[n],!1,r,o,c);throw new Ln("Illegal delimiter: '"+t+"'")},IG=[{type:"small",style:Vr.SCRIPTSCRIPT},{type:"small",style:Vr.SCRIPT},{type:"small",style:Vr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],RG=[{type:"small",style:Vr.SCRIPTSCRIPT},{type:"small",style:Vr.SCRIPT},{type:"small",style:Vr.TEXT},{type:"stack"}],WE=[{type:"small",style:Vr.SCRIPTSCRIPT},{type:"small",style:Vr.SCRIPT},{type:"small",style:Vr.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],NG=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},GE=function(t,n,r,o){for(var c=Math.min(2,3-o.style.size),y=c;y<r.length&&r[y].type!=="stack";y++){var d=k1(t,NG(r[y]),"math"),a=d.height+d.depth;if(r[y].type==="small"){var u=o.havingBaseStyle(r[y].style);a*=u.sizeMultiplier}if(a>n)return r[y]}return r[r.length-1]},YE=function(t,n,r,o,c,y){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var d;jE.includes(t)?d=IG:UE.includes(t)?d=WE:d=RG;var a=GE(t,n,d,o);return a.type==="small"?AG(t,a.style,r,o,c,y):a.type==="large"?zE(t,a.size,r,o,c,y):HE(t,n,r,o,c,y)},LG=function(t,n,r,o,c,y){var d=o.fontMetrics().axisHeight*o.sizeMultiplier,a=901,u=5/o.fontMetrics().ptPerEm,v=Math.max(n-d,r+d),f=Math.max(v/500*a,2*v-u);return YE(t,f,!0,o,c,y)},fh={sqrtImage:_G,sizedDelim:OG,sizeToMaxHeight:L1,customSizedDelim:YE,leftRightDelim:LG},b6={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},BG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Om(e,t){var n=_m(e);if(n&&BG.includes(n.text))return n;throw n?new Ln("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new Ln("Invalid delimiter type '"+e.type+"'",e)}Qn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Om(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:b6[e.funcName].size,mclass:b6[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?$t.makeSpan([e.mclass]):fh.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Pc(e.delim,e.mode));var n=new Mn.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Wn(fh.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function w6(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Qn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Ln("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Om(t[0],e).text,color:n}}});Qn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Om(t[0],e),r=e.parser;++r.leftrightDepth;var o=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var c=Ei(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:o,left:n.text,right:c.delim,rightColor:c.color}},htmlBuilder:(e,t)=>{w6(e);for(var n=fl(e.body,t,!0,["mopen","mclose"]),r=0,o=0,c=!1,y=0;y<n.length;y++)n[y].isMiddle?c=!0:(r=Math.max(n[y].height,r),o=Math.max(n[y].depth,o));r*=t.sizeMultiplier,o*=t.sizeMultiplier;var d;if(e.left==="."?d=q1(t,["mopen"]):d=fh.leftRightDelim(e.left,r,o,t,e.mode,["mopen"]),n.unshift(d),c)for(var a=1;a<n.length;a++){var u=n[a],v=u.isMiddle;v&&(n[a]=fh.leftRightDelim(v.delim,r,o,v.options,e.mode,[]))}var f;if(e.right===".")f=q1(t,["mclose"]);else{var g=e.rightColor?t.withColor(e.rightColor):t;f=fh.leftRightDelim(e.right,r,o,g,e.mode,["mclose"])}return n.push(f),$t.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{w6(e);var n=Gu(e.body,t);if(e.left!=="."){var r=new Mn.MathNode("mo",[Pc(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var o=new Mn.MathNode("mo",[Pc(e.right,e.mode)]);o.setAttribute("fence","true"),e.rightColor&&o.setAttribute("mathcolor",e.rightColor),n.push(o)}return Jx(n)}});Qn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Om(t[0],e);if(!e.parser.leftrightDepth)throw new Ln("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=q1(t,[]);else{n=fh.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Pc("|","text"):Pc(e.delim,e.mode),r=new Mn.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var rb=(e,t)=>{var n=$t.wrapFragment(ya(e.body,t),t),r=e.label.slice(1),o=t.sizeMultiplier,c,y=0,d=Sa.isCharacterBox(e.body);if(r==="sout")c=$t.makeSpan(["stretchy","sout"]),c.height=t.fontMetrics().defaultRuleThickness/o,y=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var a=ls({number:.6,unit:"pt"},t),u=ls({number:.35,unit:"ex"},t),v=t.havingBaseSizing();o=o/v.sizeMultiplier;var f=n.height+n.depth+a+u;n.style.paddingLeft=Wn(f/2+a);var g=Math.floor(1e3*f*o),m=kW(g),C=new dh([new t0("phase",m)],{width:"400em",height:Wn(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});c=$t.makeSvgSpan(["hide-tail"],[C],t),c.style.height=Wn(f),y=n.depth+a+u}else{/cancel/.test(r)?d||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var D=0,S=0,O=0;/box/.test(r)?(O=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),D=t.fontMetrics().fboxsep+(r==="colorbox"?0:O),S=D):r==="angl"?(O=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),D=4*O,S=Math.max(0,.25-n.depth)):(D=d?.2:0,S=D),c=ph.encloseSpan(n,r,D,S,t),/fbox|boxed|fcolorbox/.test(r)?(c.style.borderStyle="solid",c.style.borderWidth=Wn(O)):r==="angl"&&O!==.049&&(c.style.borderTopWidth=Wn(O),c.style.borderRightWidth=Wn(O)),y=n.depth+S,e.backgroundColor&&(c.style.backgroundColor=e.backgroundColor,e.borderColor&&(c.style.borderColor=e.borderColor))}var N;if(e.backgroundColor)N=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:y},{type:"elem",elem:n,shift:0}]},t);else{var U=/cancel|phase/.test(r)?["svg-align"]:[];N=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:c,shift:y,wrapperClasses:U}]},t)}return/cancel/.test(r)&&(N.height=n.height,N.depth=n.depth),/cancel/.test(r)&&!d?$t.makeSpan(["mord","cancel-lap"],[N],t):$t.makeSpan(["mord"],[N],t)},ib=(e,t)=>{var n=0,r=new Mn.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[uo(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var o=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+o+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};Qn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,c=Ei(t[0],"color-token").color,y=t[1];return{type:"enclose",mode:r.mode,label:o,backgroundColor:c,body:y}},htmlBuilder:rb,mathmlBuilder:ib});Qn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,c=Ei(t[0],"color-token").color,y=Ei(t[1],"color-token").color,d=t[2];return{type:"enclose",mode:r.mode,label:o,backgroundColor:y,borderColor:c,body:d}},htmlBuilder:rb,mathmlBuilder:ib});Qn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Qn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"enclose",mode:n.mode,label:r,body:o}},htmlBuilder:rb,mathmlBuilder:ib});Qn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var XE={};function Ff(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:c,mathmlBuilder:y}=e,d={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},a=0;a<n.length;++a)XE[n[a]]=d;c&&($p[t]=c),y&&(em[t]=y)}var VE={};function Ge(e,t){VE[e]=t}function C6(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Im=e=>{var t=e.parser.settings;if(!t.displayMode)throw new Ln("{"+e.envName+"} can be used only in display mode.")};function ab(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function i0(e,t,n){var{hskipBeforeAndAfter:r,addJot:o,cols:c,arraystretch:y,colSeparationType:d,autoTag:a,singleRow:u,emptySingleRow:v,maxNumCols:f,leqno:g}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!y){var m=e.gullet.expandMacroAsText("\\arraystretch");if(m==null)y=1;else if(y=parseFloat(m),!y||y<0)throw new Ln("Invalid \\arraystretch: "+m)}e.gullet.beginGroup();var C=[],D=[C],S=[],O=[],N=a!=null?[]:void 0;function U(){a&&e.gullet.macros.set("\\@eqnsw","1",!0)}function W(){N&&(e.gullet.macros.get("\\df@tag")?(N.push(e.subparse([new pc("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!a&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(U(),O.push(C6(e));;){var q=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),q={type:"ordgroup",mode:e.mode,body:q},n&&(q={type:"styling",mode:e.mode,style:n,body:[q]}),C.push(q);var J=e.fetch().text;if(J==="&"){if(f&&C.length===f){if(u||d)throw new Ln("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(J==="\\end"){W(),C.length===1&&q.type==="styling"&&q.body[0].body.length===0&&(D.length>1||!v)&&D.pop(),O.length<D.length+1&&O.push([]);break}else if(J==="\\\\"){e.consume();var ne=void 0;e.gullet.future().text!==" "&&(ne=e.parseSizeGroup(!0)),S.push(ne?ne.value:null),W(),O.push(C6(e)),C=[],D.push(C),U()}else throw new Ln("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:y,body:D,cols:c,rowGaps:S,hskipBeforeAndAfter:r,hLinesBeforeRow:O,colSeparationType:d,tags:N,leqno:g}}function ob(e){return e.slice(0,1)==="d"?"display":"text"}var Pf=function(t,n){var r,o,c=t.body.length,y=t.hLinesBeforeRow,d=0,a=new Array(c),u=[],v=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,g=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var m=n.havingStyle(Vr.SCRIPT).sizeMultiplier;g=.2778*(m/n.sizeMultiplier)}var C=t.colSeparationType==="CD"?ls({number:3,unit:"ex"},n):12*f,D=3*f,S=t.arraystretch*C,O=.7*S,N=.3*S,U=0;function W(Ut){for(var Kt=0;Kt<Ut.length;++Kt)Kt>0&&(U+=.25),u.push({pos:U,isDashed:Ut[Kt]})}for(W(y[0]),r=0;r<t.body.length;++r){var q=t.body[r],J=O,ne=N;d<q.length&&(d=q.length);var ve=new Array(q.length);for(o=0;o<q.length;++o){var Se=ya(q[o],n);ne<Se.depth&&(ne=Se.depth),J<Se.height&&(J=Se.height),ve[o]=Se}var Be=t.rowGaps[r],Ue=0;Be&&(Ue=ls(Be,n),Ue>0&&(Ue+=N,ne<Ue&&(ne=Ue),Ue=0)),t.addJot&&(ne+=D),ve.height=J,ve.depth=ne,U+=J,ve.pos=U,U+=ne+Ue,a[r]=ve,W(y[r+1])}var qe=U/2+n.fontMetrics().axisHeight,mt=t.cols||[],ut=[],ge,me,Ie=[];if(t.tags&&t.tags.some(Ut=>Ut))for(r=0;r<c;++r){var lt=a[r],Me=lt.pos-qe,ue=t.tags[r],ce=void 0;ue===!0?ce=$t.makeSpan(["eqn-num"],[],n):ue===!1?ce=$t.makeSpan([],[],n):ce=$t.makeSpan([],fl(ue,n,!0),n),ce.depth=lt.depth,ce.height=lt.height,Ie.push({type:"elem",elem:ce,shift:Me})}for(o=0,me=0;o<d||me<mt.length;++o,++me){for(var oe=mt[me]||{},Z=!0;oe.type==="separator";){if(Z||(ge=$t.makeSpan(["arraycolsep"],[]),ge.style.width=Wn(n.fontMetrics().doubleRuleSep),ut.push(ge)),oe.separator==="|"||oe.separator===":"){var be=oe.separator==="|"?"solid":"dashed",Te=$t.makeSpan(["vertical-separator"],[],n);Te.style.height=Wn(U),Te.style.borderRightWidth=Wn(v),Te.style.borderRightStyle=be,Te.style.margin="0 "+Wn(-v/2);var Fe=U-qe;Fe&&(Te.style.verticalAlign=Wn(-Fe)),ut.push(Te)}else throw new Ln("Invalid separator type: "+oe.separator);me++,oe=mt[me]||{},Z=!1}if(!(o>=d)){var ct=void 0;(o>0||t.hskipBeforeAndAfter)&&(ct=Sa.deflt(oe.pregap,g),ct!==0&&(ge=$t.makeSpan(["arraycolsep"],[]),ge.style.width=Wn(ct),ut.push(ge)));var At=[];for(r=0;r<c;++r){var rt=a[r],jt=rt[o];if(jt){var _t=rt.pos-qe;jt.depth=rt.depth,jt.height=rt.height,At.push({type:"elem",elem:jt,shift:_t})}}At=$t.makeVList({positionType:"individualShift",children:At},n),At=$t.makeSpan(["col-align-"+(oe.align||"c")],[At]),ut.push(At),(o<d-1||t.hskipBeforeAndAfter)&&(ct=Sa.deflt(oe.postgap,g),ct!==0&&(ge=$t.makeSpan(["arraycolsep"],[]),ge.style.width=Wn(ct),ut.push(ge)))}}if(a=$t.makeSpan(["mtable"],ut),u.length>0){for(var Wt=$t.makeLineSpan("hline",n,v),ft=$t.makeLineSpan("hdashline",n,v),kt=[{type:"elem",elem:a,shift:0}];u.length>0;){var Dt=u.pop(),tn=Dt.pos-qe;Dt.isDashed?kt.push({type:"elem",elem:ft,shift:tn}):kt.push({type:"elem",elem:Wt,shift:tn})}a=$t.makeVList({positionType:"individualShift",children:kt},n)}if(Ie.length===0)return $t.makeSpan(["mord"],[a],n);var zt=$t.makeVList({positionType:"individualShift",children:Ie},n);return zt=$t.makeSpan(["tag"],[zt],n),$t.makeFragment([a,zt])},FG={c:"center ",l:"left ",r:"right "},zf=function(t,n){for(var r=[],o=new Mn.MathNode("mtd",[],["mtr-glue"]),c=new Mn.MathNode("mtd",[],["mml-eqn-num"]),y=0;y<t.body.length;y++){for(var d=t.body[y],a=[],u=0;u<d.length;u++)a.push(new Mn.MathNode("mtd",[uo(d[u],n)]));t.tags&&t.tags[y]&&(a.unshift(o),a.push(o),t.leqno?a.unshift(c):a.push(c)),r.push(new Mn.MathNode("mtr",a))}var v=new Mn.MathNode("mtable",r),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);v.setAttribute("rowspacing",Wn(f));var g="",m="";if(t.cols&&t.cols.length>0){var C=t.cols,D="",S=!1,O=0,N=C.length;C[0].type==="separator"&&(g+="top ",O=1),C[C.length-1].type==="separator"&&(g+="bottom ",N-=1);for(var U=O;U<N;U++)C[U].type==="align"?(m+=FG[C[U].align],S&&(D+="none "),S=!0):C[U].type==="separator"&&S&&(D+=C[U].separator==="|"?"solid ":"dashed ",S=!1);v.setAttribute("columnalign",m.trim()),/[sd]/.test(D)&&v.setAttribute("columnlines",D.trim())}if(t.colSeparationType==="align"){for(var W=t.cols||[],q="",J=1;J<W.length;J++)q+=J%2?"0em ":"1em ";v.setAttribute("columnspacing",q.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?v.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?v.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?v.setAttribute("columnspacing","0.5em"):v.setAttribute("columnspacing","1em");var ne="",ve=t.hLinesBeforeRow;g+=ve[0].length>0?"left ":"",g+=ve[ve.length-1].length>0?"right ":"";for(var Se=1;Se<ve.length-1;Se++)ne+=ve[Se].length===0?"none ":ve[Se][0]?"dashed ":"solid ";return/[sd]/.test(ne)&&v.setAttribute("rowlines",ne.trim()),g!==""&&(v=new Mn.MathNode("menclose",[v]),v.setAttribute("notation",g.trim())),t.arraystretch&&t.arraystretch<1&&(v=new Mn.MathNode("mstyle",[v]),v.setAttribute("scriptlevel","1")),v},KE=function(t,n){t.envName.indexOf("ed")===-1&&Im(t);var r=[],o=t.envName.indexOf("at")>-1?"alignat":"align",c=t.envName==="split",y=i0(t.parser,{cols:r,addJot:!0,autoTag:c?void 0:ab(t.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:c?2:void 0,leqno:t.parser.settings.leqno},"display"),d,a=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var v="",f=0;f<n[0].body.length;f++){var g=Ei(n[0].body[f],"textord");v+=g.text}d=Number(v),a=d*2}var m=!a;y.body.forEach(function(O){for(var N=1;N<O.length;N+=2){var U=Ei(O[N],"styling"),W=Ei(U.body[0],"ordgroup");W.body.unshift(u)}if(m)a<O.length&&(a=O.length);else{var q=O.length/2;if(d<q)throw new Ln("Too many math in a row: "+("expected "+d+", but got "+q),O[0])}});for(var C=0;C<a;++C){var D="r",S=0;C%2===1?D="l":C>0&&m&&(S=1),r[C]={type:"align",align:D,pregap:S,postgap:0}}return y.colSeparationType=m?"align":"alignat",y};Ff({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=_m(t[0]),r=n?[t[0]]:Ei(t[0],"ordgroup").body,o=r.map(function(y){var d=eb(y),a=d.text;if("lcr".indexOf(a)!==-1)return{type:"align",align:a};if(a==="|")return{type:"separator",separator:"|"};if(a===":")return{type:"separator",separator:":"};throw new Ln("Unknown column alignment: "+a,y)}),c={cols:o,hskipBeforeAndAfter:!0,maxNumCols:o.length};return i0(e.parser,c,ob(e.envName))},htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var o=e.parser;if(o.consumeSpaces(),o.fetch().text==="["){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,"lcr".indexOf(n)===-1)throw new Ln("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),r.cols=[{type:"align",align:n}]}}var c=i0(e.parser,r,ob(e.envName)),y=Math.max(0,...c.body.map(d=>d.length));return c.cols=new Array(y).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[c],left:t[0],right:t[1],rightColor:void 0}:c},htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=i0(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=_m(t[0]),r=n?[t[0]]:Ei(t[0],"ordgroup").body,o=r.map(function(y){var d=eb(y),a=d.text;if("lc".indexOf(a)!==-1)return{type:"align",align:a};throw new Ln("Unknown column alignment: "+a,y)});if(o.length>1)throw new Ln("{subarray} can contain only one column");var c={cols:o,hskipBeforeAndAfter:!1,arraystretch:.5};if(c=i0(e.parser,c,"script"),c.body.length>0&&c.body[0].length>1)throw new Ln("{subarray} can contain only one column");return c},htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=i0(e.parser,t,ob(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:KE,htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&Im(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:ab(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return i0(e.parser,t,"display")},htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:KE,htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Im(e);var t={autoTag:ab(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return i0(e.parser,t,"display")},htmlBuilder:Pf,mathmlBuilder:zf});Ff({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Im(e),SG(e.parser)},htmlBuilder:Pf,mathmlBuilder:zf});Ge("\\nonumber","\\gdef\\@eqnsw{0}");Ge("\\notag","\\nonumber");Qn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new Ln(e.funcName+" valid only within array environment")}});var S6=XE;Qn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];if(o.type!=="ordgroup")throw new Ln("Invalid environment name",o);for(var c="",y=0;y<o.body.length;++y)c+=Ei(o.body[y],"textord").text;if(r==="\\begin"){if(!S6.hasOwnProperty(c))throw new Ln("No such environment: "+c,o);var d=S6[c],{args:a,optArgs:u}=n.parseArguments("\\begin{"+c+"}",d),v={mode:n.mode,envName:c,parser:n},f=d.handler(v,a,u);n.expect("\\end",!1);var g=n.nextToken,m=Ei(n.parseFunction(),"environment");if(m.name!==c)throw new Ln("Mismatch: \\begin{"+c+"} matched by \\end{"+m.name+"}",g);return f}return{type:"environment",mode:n.mode,name:c,nameGroup:o}}});var ZE=(e,t)=>{var n=e.font,r=t.withFont(n);return ya(e.body,r)},qE=(e,t)=>{var n=e.font,r=t.withFont(n);return uo(e.body,r)},E6={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Qn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=tm(t[0]),c=r;return c in E6&&(c=E6[c]),{type:"font",mode:n.mode,font:c.slice(1),body:o}},htmlBuilder:ZE,mathmlBuilder:qE});Qn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],o=Sa.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Mm(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:o}}});Qn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:o}=e,{mode:c}=n,y=n.parseExpression(!0,o),d="math"+r.slice(1);return{type:"font",mode:c,font:d,body:{type:"ordgroup",mode:n.mode,body:y}}},htmlBuilder:ZE,mathmlBuilder:qE});var QE=(e,t)=>{var n=t;return e==="display"?n=n.id>=Vr.SCRIPT.id?n.text():Vr.DISPLAY:e==="text"&&n.size===Vr.DISPLAY.size?n=Vr.TEXT:e==="script"?n=Vr.SCRIPT:e==="scriptscript"&&(n=Vr.SCRIPTSCRIPT),n},sb=(e,t)=>{var n=QE(e.size,t.style),r=n.fracNum(),o=n.fracDen(),c;c=t.havingStyle(r);var y=ya(e.numer,c,t);if(e.continued){var d=8.5/t.fontMetrics().ptPerEm,a=3.5/t.fontMetrics().ptPerEm;y.height=y.height<d?d:y.height,y.depth=y.depth<a?a:y.depth}c=t.havingStyle(o);var u=ya(e.denom,c,t),v,f,g;e.hasBarLine?(e.barSize?(f=ls(e.barSize,t),v=$t.makeLineSpan("frac-line",t,f)):v=$t.makeLineSpan("frac-line",t),f=v.height,g=v.height):(v=null,f=0,g=t.fontMetrics().defaultRuleThickness);var m,C,D;n.size===Vr.DISPLAY.size||e.size==="display"?(m=t.fontMetrics().num1,f>0?C=3*g:C=7*g,D=t.fontMetrics().denom1):(f>0?(m=t.fontMetrics().num2,C=g):(m=t.fontMetrics().num3,C=3*g),D=t.fontMetrics().denom2);var S;if(v){var N=t.fontMetrics().axisHeight;m-y.depth-(N+.5*f)<C&&(m+=C-(m-y.depth-(N+.5*f))),N-.5*f-(u.height-D)<C&&(D+=C-(N-.5*f-(u.height-D)));var U=-(N-.5*f);S=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:D},{type:"elem",elem:v,shift:U},{type:"elem",elem:y,shift:-m}]},t)}else{var O=m-y.depth-(u.height-D);O<C&&(m+=.5*(C-O),D+=.5*(C-O)),S=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:D},{type:"elem",elem:y,shift:-m}]},t)}c=t.havingStyle(n),S.height*=c.sizeMultiplier/t.sizeMultiplier,S.depth*=c.sizeMultiplier/t.sizeMultiplier;var W;n.size===Vr.DISPLAY.size?W=t.fontMetrics().delim1:n.size===Vr.SCRIPTSCRIPT.size?W=t.havingStyle(Vr.SCRIPT).fontMetrics().delim2:W=t.fontMetrics().delim2;var q,J;return e.leftDelim==null?q=q1(t,["mopen"]):q=fh.customSizedDelim(e.leftDelim,W,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?J=$t.makeSpan([]):e.rightDelim==null?J=q1(t,["mclose"]):J=fh.customSizedDelim(e.rightDelim,W,!0,t.havingStyle(n),e.mode,["mclose"]),$t.makeSpan(["mord"].concat(c.sizingClasses(t)),[q,$t.makeSpan(["mfrac"],[S]),J],t)},lb=(e,t)=>{var n=new Mn.MathNode("mfrac",[uo(e.numer,t),uo(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=ls(e.barSize,t);n.setAttribute("linethickness",Wn(r))}var o=QE(e.size,t.style);if(o.size!==t.style.size){n=new Mn.MathNode("mstyle",[n]);var c=o.size===Vr.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",c),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var y=[];if(e.leftDelim!=null){var d=new Mn.MathNode("mo",[new Mn.TextNode(e.leftDelim.replace("\\",""))]);d.setAttribute("fence","true"),y.push(d)}if(y.push(n),e.rightDelim!=null){var a=new Mn.MathNode("mo",[new Mn.TextNode(e.rightDelim.replace("\\",""))]);a.setAttribute("fence","true"),y.push(a)}return Jx(y)}return n};Qn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],c=t[1],y,d=null,a=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":y=!0;break;case"\\\\atopfrac":y=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":y=!1,d="(",a=")";break;case"\\\\bracefrac":y=!1,d="\\{",a="\\}";break;case"\\\\brackfrac":y=!1,d="[",a="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:o,denom:c,hasBarLine:y,leftDelim:d,rightDelim:a,size:u,barSize:null}},htmlBuilder:sb,mathmlBuilder:lb});Qn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],c=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:c,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Qn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,o;switch(n){case"\\over":o="\\frac";break;case"\\choose":o="\\binom";break;case"\\atop":o="\\\\atopfrac";break;case"\\brace":o="\\\\bracefrac";break;case"\\brack":o="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:o,token:r}}});var A6=["display","text","script","scriptscript"],T6=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Qn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],o=t[5],c=tm(t[0]),y=c.type==="atom"&&c.family==="open"?T6(c.text):null,d=tm(t[1]),a=d.type==="atom"&&d.family==="close"?T6(d.text):null,u=Ei(t[2],"size"),v,f=null;u.isBlank?v=!0:(f=u.value,v=f.number>0);var g="auto",m=t[3];if(m.type==="ordgroup"){if(m.body.length>0){var C=Ei(m.body[0],"textord");g=A6[Number(C.text)]}}else m=Ei(m,"textord"),g=A6[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:o,continued:!1,hasBarLine:v,barSize:f,leftDelim:y,rightDelim:a,size:g}},htmlBuilder:sb,mathmlBuilder:lb});Qn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:o}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ei(t[0],"size").value,token:o}}});Qn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],c=dW(Ei(t[1],"infix").size),y=t[2],d=c.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:y,continued:!1,hasBarLine:d,barSize:c,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:sb,mathmlBuilder:lb});var JE=(e,t)=>{var n=t.style,r,o;e.type==="supsub"?(r=e.sup?ya(e.sup,t.havingStyle(n.sup()),t):ya(e.sub,t.havingStyle(n.sub()),t),o=Ei(e.base,"horizBrace")):o=Ei(e,"horizBrace");var c=ya(o.base,t.havingBaseStyle(Vr.DISPLAY)),y=ph.svgSpan(o,t),d;if(o.isOver?(d=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:y}]},t),d.children[0].children[0].children[1].classes.push("svg-align")):(d=$t.makeVList({positionType:"bottom",positionData:c.depth+.1+y.height,children:[{type:"elem",elem:y},{type:"kern",size:.1},{type:"elem",elem:c}]},t),d.children[0].children[0].children[0].classes.push("svg-align")),r){var a=$t.makeSpan(["mord",o.isOver?"mover":"munder"],[d],t);o.isOver?d=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:r}]},t):d=$t.makeVList({positionType:"bottom",positionData:a.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:a}]},t)}return $t.makeSpan(["mord",o.isOver?"mover":"munder"],[d],t)},PG=(e,t)=>{var n=ph.mathMLnode(e.label);return new Mn.MathNode(e.isOver?"mover":"munder",[uo(e.base,t),n])};Qn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:JE,mathmlBuilder:PG});Qn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],o=Ei(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:Bs(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=fl(e.body,t,!1);return $t.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=n0(e.body,t);return n instanceof cc||(n=new cc("mrow",[n])),n.setAttribute("href",e.href),n}});Qn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Ei(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var o=[],c=0;c<r.length;c++){var y=r[c];y==="~"&&(y="\\textasciitilde"),o.push({type:"textord",mode:"text",text:y})}var d={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:r,body:Bs(d)}}});Qn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:Bs(t[0])}},htmlBuilder(e,t){var n=fl(e.body,t,!1);return $t.makeFragment(n)},mathmlBuilder(e,t){return new Mn.MathNode("mrow",Gu(e.body,t))}});Qn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:o}=e,c=Ei(t[0],"raw").string,y=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var d,a={};switch(r){case"\\htmlClass":a.class=c,d={command:"\\htmlClass",class:c};break;case"\\htmlId":a.id=c,d={command:"\\htmlId",id:c};break;case"\\htmlStyle":a.style=c,d={command:"\\htmlStyle",style:c};break;case"\\htmlData":{for(var u=c.split(","),v=0;v<u.length;v++){var f=u[v],g=f.indexOf("=");if(g<0)throw new Ln("\\htmlData key/value '"+f+"' missing equals sign");var m=f.slice(0,g),C=f.slice(g+1);a["data-"+m.trim()]=C}d={command:"\\htmlData",attributes:a};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(d)?{type:"html",mode:n.mode,attributes:a,body:Bs(y)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=fl(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var o=$t.makeSpan(r,n,t);for(var c in e.attributes)c!=="class"&&e.attributes.hasOwnProperty(c)&&o.setAttribute(c,e.attributes[c]);return o},mathmlBuilder:(e,t)=>n0(e.body,t)});Qn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Bs(t[0]),mathml:Bs(t[1])}},htmlBuilder:(e,t)=>{var n=fl(e.html,t,!1);return $t.makeFragment(n)},mathmlBuilder:(e,t)=>n0(e.mathml,t)});var D2=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new Ln("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!vE(r))throw new Ln("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Qn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,o={number:0,unit:"em"},c={number:.9,unit:"em"},y={number:0,unit:"em"},d="";if(n[0])for(var a=Ei(n[0],"raw").string,u=a.split(","),v=0;v<u.length;v++){var f=u[v].split("=");if(f.length===2){var g=f[1].trim();switch(f[0].trim()){case"alt":d=g;break;case"width":o=D2(g);break;case"height":c=D2(g);break;case"totalheight":y=D2(g);break;default:throw new Ln("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var m=Ei(t[0],"url").url;return d===""&&(d=m,d=d.replace(/^.*[\\/]/,""),d=d.substring(0,d.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:d,width:o,height:c,totalheight:y,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=ls(e.height,t),r=0;e.totalheight.number>0&&(r=ls(e.totalheight,t)-n);var o=0;e.width.number>0&&(o=ls(e.width,t));var c={height:Wn(n+r)};o>0&&(c.width=Wn(o)),r>0&&(c.verticalAlign=Wn(-r));var y=new PW(e.src,e.alt,c);return y.height=n,y.depth=r,y},mathmlBuilder:(e,t)=>{var n=new Mn.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=ls(e.height,t),o=0;if(e.totalheight.number>0&&(o=ls(e.totalheight,t)-r,n.setAttribute("valign",Wn(-o))),n.setAttribute("height",Wn(r+o)),e.width.number>0){var c=ls(e.width,t);n.setAttribute("width",Wn(c))}return n.setAttribute("src",e.src),n}});Qn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=Ei(t[0],"size");if(n.settings.strict){var c=r[1]==="m",y=o.value.unit==="mu";c?(y||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+o.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):y&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(e,t){return $t.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=ls(e.dimension,t);return new Mn.SpaceNode(n)}});Qn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:o}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=$t.makeSpan([],[ya(e.body,t)]),n=$t.makeSpan(["inner"],[n],t)):n=$t.makeSpan(["inner"],[ya(e.body,t)]);var r=$t.makeSpan(["fix"],[]),o=$t.makeSpan([e.alignment],[n,r],t),c=$t.makeSpan(["strut"]);return c.style.height=Wn(o.height+o.depth),o.depth&&(c.style.verticalAlign=Wn(-o.depth)),o.children.unshift(c),o=$t.makeSpan(["thinbox"],[o],t),$t.makeSpan(["mord","vbox"],[o],t)},mathmlBuilder:(e,t)=>{var n=new Mn.MathNode("mpadded",[uo(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Qn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,o=r.mode;r.switchMode("math");var c=n==="\\("?"\\)":"$",y=r.parseExpression(!1,c);return r.expect(c),r.switchMode(o),{type:"styling",mode:r.mode,style:"text",body:y}}});Qn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new Ln("Mismatched "+e.funcName)}});var D6=(e,t)=>{switch(t.style.size){case Vr.DISPLAY.size:return e.display;case Vr.TEXT.size:return e.text;case Vr.SCRIPT.size:return e.script;case Vr.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Qn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Bs(t[0]),text:Bs(t[1]),script:Bs(t[2]),scriptscript:Bs(t[3])}},htmlBuilder:(e,t)=>{var n=D6(e,t),r=fl(n,t,!1);return $t.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=D6(e,t);return n0(n,t)}});var $E=(e,t,n,r,o,c,y)=>{e=$t.makeSpan([],[e]);var d=n&&Sa.isCharacterBox(n),a,u;if(t){var v=ya(t,r.havingStyle(o.sup()),r);u={elem:v,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-v.depth)}}if(n){var f=ya(n,r.havingStyle(o.sub()),r);a={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var g;if(u&&a){var m=r.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+y;g=$t.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Wn(-c)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Wn(c)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(a){var C=e.height-y;g=$t.makeVList({positionType:"top",positionData:C,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:Wn(-c)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},r)}else if(u){var D=e.depth+y;g=$t.makeVList({positionType:"bottom",positionData:D,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Wn(c)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var S=[g];if(a&&c!==0&&!d){var O=$t.makeSpan(["mspace"],[],r);O.style.marginRight=Wn(c),S.unshift(O)}return $t.makeSpan(["mop","op-limits"],S,r)},eA=["\\smallint"],Gd=(e,t)=>{var n,r,o=!1,c;e.type==="supsub"?(n=e.sup,r=e.sub,c=Ei(e.base,"op"),o=!0):c=Ei(e,"op");var y=t.style,d=!1;y.size===Vr.DISPLAY.size&&c.symbol&&!eA.includes(c.name)&&(d=!0);var a;if(c.symbol){var u=d?"Size2-Regular":"Size1-Regular",v="";if((c.name==="\\oiint"||c.name==="\\oiiint")&&(v=c.name.slice(1),c.name=v==="oiint"?"\\iint":"\\iiint"),a=$t.makeSymbol(c.name,u,"math",t,["mop","op-symbol",d?"large-op":"small-op"]),v.length>0){var f=a.italic,g=$t.staticSvg(v+"Size"+(d?"2":"1"),t);a=$t.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:g,shift:d?.08:0}]},t),c.name="\\"+v,a.classes.unshift("mop"),a.italic=f}}else if(c.body){var m=fl(c.body,t,!0);m.length===1&&m[0]instanceof Fc?(a=m[0],a.classes[0]="mop"):a=$t.makeSpan(["mop"],m,t)}else{for(var C=[],D=1;D<c.name.length;D++)C.push($t.mathsym(c.name[D],c.mode,t));a=$t.makeSpan(["mop"],C,t)}var S=0,O=0;return(a instanceof Fc||c.name==="\\oiint"||c.name==="\\oiiint")&&!c.suppressBaseShift&&(S=(a.height-a.depth)/2-t.fontMetrics().axisHeight,O=a.italic),o?$E(a,n,r,t,y,O,S):(S&&(a.style.position="relative",a.style.top=Wn(S)),a)},cg=(e,t)=>{var n;if(e.symbol)n=new cc("mo",[Pc(e.name,e.mode)]),eA.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new cc("mo",Gu(e.body,t));else{n=new cc("mi",[new Bf(e.name.slice(1))]);var r=new cc("mo",[Pc("","text")]);e.parentIsSupSub?n=new cc("mrow",[n,r]):n=kE([n,r])}return n},zG={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Qn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=r;return o.length===1&&(o=zG[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:Gd,mathmlBuilder:cg});Qn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Bs(r)}},htmlBuilder:Gd,mathmlBuilder:cg});var HG={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Qn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Gd,mathmlBuilder:cg});Qn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Gd,mathmlBuilder:cg});Qn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=HG[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Gd,mathmlBuilder:cg});var tA=(e,t)=>{var n,r,o=!1,c;e.type==="supsub"?(n=e.sup,r=e.sub,c=Ei(e.base,"operatorname"),o=!0):c=Ei(e,"operatorname");var y;if(c.body.length>0){for(var d=c.body.map(f=>{var g=f.text;return typeof g=="string"?{type:"textord",mode:f.mode,text:g}:f}),a=fl(d,t.withFont("mathrm"),!0),u=0;u<a.length;u++){var v=a[u];v instanceof Fc&&(v.text=v.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}y=$t.makeSpan(["mop"],a,t)}else y=$t.makeSpan(["mop"],[],t);return o?$E(y,n,r,t,t.style,0,0):y},UG=(e,t)=>{for(var n=Gu(e.body,t.withFont("mathrm")),r=!0,o=0;o<n.length;o++){var c=n[o];if(!(c instanceof Mn.SpaceNode))if(c instanceof Mn.MathNode)switch(c.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var y=c.children[0];c.children.length===1&&y instanceof Mn.TextNode?y.text=y.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var d=n.map(v=>v.toText()).join("");n=[new Mn.TextNode(d)]}var a=new Mn.MathNode("mi",n);a.setAttribute("mathvariant","normal");var u=new Mn.MathNode("mo",[Pc("","text")]);return e.parentIsSupSub?new Mn.MathNode("mrow",[a,u]):Mn.newDocumentFragment([a,u])};Qn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"operatorname",mode:n.mode,body:Bs(o),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:tA,mathmlBuilder:UG});Ge("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");U0({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?$t.makeFragment(fl(e.body,t,!1)):$t.makeSpan(["mord"],fl(e.body,t,!0),t)},mathmlBuilder(e,t){return n0(e.body,t,!0)}});Qn({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=ya(e.body,t.havingCrampedStyle()),r=$t.makeLineSpan("overline-line",t),o=t.fontMetrics().defaultRuleThickness,c=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:r},{type:"kern",size:o}]},t);return $t.makeSpan(["mord","overline"],[c],t)},mathmlBuilder(e,t){var n=new Mn.MathNode("mo",[new Mn.TextNode("")]);n.setAttribute("stretchy","true");var r=new Mn.MathNode("mover",[uo(e.body,t),n]);return r.setAttribute("accent","true"),r}});Qn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:Bs(r)}},htmlBuilder:(e,t)=>{var n=fl(e.body,t.withPhantom(),!1);return $t.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Gu(e.body,t);return new Mn.MathNode("mphantom",n)}});Qn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=$t.makeSpan([],[ya(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),$t.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Gu(Bs(e.body),t),r=new Mn.MathNode("mphantom",n),o=new Mn.MathNode("mpadded",[r]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}});Qn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=$t.makeSpan(["inner"],[ya(e.body,t.withPhantom())]),r=$t.makeSpan(["fix"],[]);return $t.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=Gu(Bs(e.body),t),r=new Mn.MathNode("mphantom",n),o=new Mn.MathNode("mpadded",[r]);return o.setAttribute("width","0px"),o}});Qn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Ei(t[0],"size").value,o=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:o}},htmlBuilder(e,t){var n=ya(e.body,t),r=ls(e.dy,t);return $t.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new Mn.MathNode("mpadded",[uo(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});Qn({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Qn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,o=n[0],c=Ei(t[0],"size"),y=Ei(t[1],"size");return{type:"rule",mode:r.mode,shift:o&&Ei(o,"size").value,width:c.value,height:y.value}},htmlBuilder(e,t){var n=$t.makeSpan(["mord","rule"],[],t),r=ls(e.width,t),o=ls(e.height,t),c=e.shift?ls(e.shift,t):0;return n.style.borderRightWidth=Wn(r),n.style.borderTopWidth=Wn(o),n.style.bottom=Wn(c),n.width=r,n.height=o+c,n.depth=-c,n.maxFontSize=o*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=ls(e.width,t),r=ls(e.height,t),o=e.shift?ls(e.shift,t):0,c=t.color&&t.getColor()||"black",y=new Mn.MathNode("mspace");y.setAttribute("mathbackground",c),y.setAttribute("width",Wn(n)),y.setAttribute("height",Wn(r));var d=new Mn.MathNode("mpadded",[y]);return o>=0?d.setAttribute("height",Wn(o)):(d.setAttribute("height",Wn(o)),d.setAttribute("depth",Wn(-o))),d.setAttribute("voffset",Wn(o)),d}});function nA(e,t,n){for(var r=fl(e,t,!1),o=t.sizeMultiplier/n.sizeMultiplier,c=0;c<r.length;c++){var y=r[c].classes.indexOf("sizing");y<0?Array.prototype.push.apply(r[c].classes,t.sizingClasses(n)):r[c].classes[y+1]==="reset-size"+t.size&&(r[c].classes[y+1]="reset-size"+n.size),r[c].height*=o,r[c].depth*=o}return $t.makeFragment(r)}var k6=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],jG=(e,t)=>{var n=t.havingSize(e.size);return nA(e.body,n,t)};Qn({type:"sizing",names:k6,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:o}=e,c=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:k6.indexOf(r)+1,body:c}},htmlBuilder:jG,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=Gu(e.body,n),o=new Mn.MathNode("mstyle",r);return o.setAttribute("mathsize",Wn(n.sizeMultiplier)),o}});Qn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,o=!1,c=!1,y=n[0]&&Ei(n[0],"ordgroup");if(y)for(var d="",a=0;a<y.body.length;++a){var u=y.body[a];if(d=u.text,d==="t")o=!0;else if(d==="b")c=!0;else{o=!1,c=!1;break}}else o=!0,c=!0;var v=t[0];return{type:"smash",mode:r.mode,body:v,smashHeight:o,smashDepth:c}},htmlBuilder:(e,t)=>{var n=$t.makeSpan([],[ya(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var c=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return $t.makeSpan(["mord"],[c],t)},mathmlBuilder:(e,t)=>{var n=new Mn.MathNode("mpadded",[uo(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});Qn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,o=n[0],c=t[0];return{type:"sqrt",mode:r.mode,body:c,index:o}},htmlBuilder(e,t){var n=ya(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=$t.wrapFragment(n,t);var r=t.fontMetrics(),o=r.defaultRuleThickness,c=o;t.style.id<Vr.TEXT.id&&(c=t.fontMetrics().xHeight);var y=o+c/4,d=n.height+n.depth+y+o,{span:a,ruleWidth:u,advanceWidth:v}=fh.sqrtImage(d,t),f=a.height-u;f>n.height+n.depth+y&&(y=(y+f-n.height-n.depth)/2);var g=a.height-n.height-y-u;n.style.paddingLeft=Wn(v);var m=$t.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:a},{type:"kern",size:u}]},t);if(e.index){var C=t.havingStyle(Vr.SCRIPTSCRIPT),D=ya(e.index,C,t),S=.6*(m.height-m.depth),O=$t.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:D}]},t),N=$t.makeSpan(["root"],[O]);return $t.makeSpan(["mord","sqrt"],[N,m],t)}else return $t.makeSpan(["mord","sqrt"],[m],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new Mn.MathNode("mroot",[uo(n,t),uo(r,t)]):new Mn.MathNode("msqrt",[uo(n,t)])}});var _6={display:Vr.DISPLAY,text:Vr.TEXT,script:Vr.SCRIPT,scriptscript:Vr.SCRIPTSCRIPT};Qn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:o}=e,c=o.parseExpression(!0,n),y=r.slice(1,r.length-5);return{type:"styling",mode:o.mode,style:y,body:c}},htmlBuilder(e,t){var n=_6[e.style],r=t.havingStyle(n).withFont("");return nA(e.body,r,t)},mathmlBuilder(e,t){var n=_6[e.style],r=t.havingStyle(n),o=Gu(e.body,r),c=new Mn.MathNode("mstyle",o),y={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},d=y[e.style];return c.setAttribute("scriptlevel",d[0]),c.setAttribute("displaystyle",d[1]),c}});var WG=function(t,n){var r=t.base;if(r)if(r.type==="op"){var o=r.limits&&(n.style.size===Vr.DISPLAY.size||r.alwaysHandleSupSub);return o?Gd:null}else if(r.type==="operatorname"){var c=r.alwaysHandleSupSub&&(n.style.size===Vr.DISPLAY.size||r.limits);return c?tA:null}else{if(r.type==="accent")return Sa.isCharacterBox(r.base)?tb:null;if(r.type==="horizBrace"){var y=!t.sub;return y===r.isOver?JE:null}else return null}else return null};U0({type:"supsub",htmlBuilder(e,t){var n=WG(e,t);if(n)return n(e,t);var{base:r,sup:o,sub:c}=e,y=ya(r,t),d,a,u=t.fontMetrics(),v=0,f=0,g=r&&Sa.isCharacterBox(r);if(o){var m=t.havingStyle(t.style.sup());d=ya(o,m,t),g||(v=y.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(c){var C=t.havingStyle(t.style.sub());a=ya(c,C,t),g||(f=y.depth+C.fontMetrics().subDrop*C.sizeMultiplier/t.sizeMultiplier)}var D;t.style===Vr.DISPLAY?D=u.sup1:t.style.cramped?D=u.sup3:D=u.sup2;var S=t.sizeMultiplier,O=Wn(.5/u.ptPerEm/S),N=null;if(a){var U=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(y instanceof Fc||U)&&(N=Wn(-y.italic))}var W;if(d&&a){v=Math.max(v,D,d.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var q=u.defaultRuleThickness,J=4*q;if(v-d.depth-(a.height-f)<J){f=J-(v-d.depth)+a.height;var ne=.8*u.xHeight-(v-d.depth);ne>0&&(v+=ne,f-=ne)}var ve=[{type:"elem",elem:a,shift:f,marginRight:O,marginLeft:N},{type:"elem",elem:d,shift:-v,marginRight:O}];W=$t.makeVList({positionType:"individualShift",children:ve},t)}else if(a){f=Math.max(f,u.sub1,a.height-.8*u.xHeight);var Se=[{type:"elem",elem:a,marginLeft:N,marginRight:O}];W=$t.makeVList({positionType:"shift",positionData:f,children:Se},t)}else if(d)v=Math.max(v,D,d.depth+.25*u.xHeight),W=$t.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:d,marginRight:O}]},t);else throw new Error("supsub must have either sup or sub.");var Be=Dy(y,"right")||"mord";return $t.makeSpan([Be],[y,$t.makeSpan(["msupsub"],[W])],t)},mathmlBuilder(e,t){var n=!1,r,o;e.base&&e.base.type==="horizBrace"&&(o=!!e.sup,o===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var c=[uo(e.base,t)];e.sub&&c.push(uo(e.sub,t)),e.sup&&c.push(uo(e.sup,t));var y;if(n)y=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===Vr.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===Vr.DISPLAY||u.limits)?y="munderover":y="msubsup"}else{var a=e.base;a&&a.type==="op"&&a.limits&&(t.style===Vr.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||t.style===Vr.DISPLAY)?y="munder":y="msub"}else{var d=e.base;d&&d.type==="op"&&d.limits&&(t.style===Vr.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||t.style===Vr.DISPLAY)?y="mover":y="msup"}return new Mn.MathNode(y,c)}});U0({type:"atom",htmlBuilder(e,t){return $t.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new Mn.MathNode("mo",[Pc(e.text,e.mode)]);if(e.family==="bin"){var r=$x(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var rA={mi:"italic",mn:"normal",mtext:"normal"};U0({type:"mathord",htmlBuilder(e,t){return $t.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new Mn.MathNode("mi",[Pc(e.text,e.mode,t)]),r=$x(e,t)||"italic";return r!==rA[n.type]&&n.setAttribute("mathvariant",r),n}});U0({type:"textord",htmlBuilder(e,t){return $t.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Pc(e.text,e.mode,t),r=$x(e,t)||"normal",o;return e.mode==="text"?o=new Mn.MathNode("mtext",[n]):/[0-9]/.test(e.text)?o=new Mn.MathNode("mn",[n]):e.text==="\\prime"?o=new Mn.MathNode("mo",[n]):o=new Mn.MathNode("mi",[n]),r!==rA[o.type]&&o.setAttribute("mathvariant",r),o}});var k2={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},_2={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};U0({type:"spacing",htmlBuilder(e,t){if(_2.hasOwnProperty(e.text)){var n=_2[e.text].className||"";if(e.mode==="text"){var r=$t.makeOrd(e,t,"textord");return r.classes.push(n),r}else return $t.makeSpan(["mspace",n],[$t.mathsym(e.text,e.mode,t)],t)}else{if(k2.hasOwnProperty(e.text))return $t.makeSpan(["mspace",k2[e.text]],[],t);throw new Ln('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(_2.hasOwnProperty(e.text))n=new Mn.MathNode("mtext",[new Mn.TextNode("")]);else{if(k2.hasOwnProperty(e.text))return new Mn.MathNode("mspace");throw new Ln('Unknown type of space "'+e.text+'"')}return n}});var M6=()=>{var e=new Mn.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};U0({type:"tag",mathmlBuilder(e,t){var n=new Mn.MathNode("mtable",[new Mn.MathNode("mtr",[M6(),new Mn.MathNode("mtd",[n0(e.body,t)]),M6(),new Mn.MathNode("mtd",[n0(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var O6={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},I6={"\\textbf":"textbf","\\textmd":"textmd"},GG={"\\textit":"textit","\\textup":"textup"},R6=(e,t)=>{var n=e.font;if(n){if(O6[n])return t.withTextFontFamily(O6[n]);if(I6[n])return t.withTextFontWeight(I6[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(GG[n])};Qn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"text",mode:n.mode,body:Bs(o),font:r}},htmlBuilder(e,t){var n=R6(e,t),r=fl(e.body,n,!0);return $t.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=R6(e,t);return n0(e.body,n)}});Qn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=ya(e.body,t),r=$t.makeLineSpan("underline-line",t),o=t.fontMetrics().defaultRuleThickness,c=$t.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:r},{type:"kern",size:3*o},{type:"elem",elem:n}]},t);return $t.makeSpan(["mord","underline"],[c],t)},mathmlBuilder(e,t){var n=new Mn.MathNode("mo",[new Mn.TextNode("")]);n.setAttribute("stretchy","true");var r=new Mn.MathNode("munder",[uo(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});Qn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=ya(e.body,t),r=t.fontMetrics().axisHeight,o=.5*(n.height-r-(n.depth+r));return $t.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new Mn.MathNode("mpadded",[uo(e.body,t)],["vcenter"])}});Qn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new Ln("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=N6(e),r=[],o=t.havingStyle(t.style.text()),c=0;c<n.length;c++){var y=n[c];y==="~"&&(y="\\textasciitilde"),r.push($t.makeSymbol(y,"Typewriter-Regular",e.mode,o,["mord","texttt"]))}return $t.makeSpan(["mord","text"].concat(o.sizingClasses(t)),$t.tryCombineChars(r),o)},mathmlBuilder(e,t){var n=new Mn.TextNode(N6(e)),r=new Mn.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var N6=e=>e.body.replace(/ /g,e.star?"":""),Yh=TE,iA=`[ \r
	]`,YG="\\\\[a-zA-Z@]+",XG="\\\\[^\uD800-\uDFFF]",VG="("+YG+")"+iA+"*",KG=`\\\\(
|[ \r	]+
?)[ \r	]*`,Oy="[-]",ZG=new RegExp(Oy+"+$"),qG="("+iA+"+)|"+(KG+"|")+"([!-\\[\\]---]"+(Oy+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Oy+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+VG)+("|"+XG+")");class L6{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(qG,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new pc("EOF",new Uu(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new Ln("Unexpected character: '"+t[n]+"'",new pc(t[n],new Uu(this,n,n+1)));var o=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[o]===14){var c=t.indexOf(`
`,this.tokenRegex.lastIndex);return c===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=c+1,this.lex()}return new pc(o,new Uu(this,n,this.tokenRegex.lastIndex))}}class QG{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ln("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var o=0;o<this.undefStack.length;o++)delete this.undefStack[o][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var c=this.undefStack[this.undefStack.length-1];c&&!c.hasOwnProperty(t)&&(c[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var JG=VE;Ge("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});Ge("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});Ge("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});Ge("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});Ge("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});Ge("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Ge("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var B6={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Ge("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Ln("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=B6[t.text],r==null||r>=n)throw new Ln("Invalid base-"+n+" digit "+t.text);for(var o;(o=B6[e.future().text])!=null&&o<n;)r*=n,r+=o,e.popToken()}return"\\@char{"+r+"}"});var ub=(e,t,n,r)=>{var o=e.consumeArg().tokens;if(o.length!==1)throw new Ln("\\newcommand's first argument must be a macro name");var c=o[0].text,y=e.isDefined(c);if(y&&!t)throw new Ln("\\newcommand{"+c+"} attempting to redefine "+(c+"; use \\renewcommand"));if(!y&&!n)throw new Ln("\\renewcommand{"+c+"} when command "+c+" does not yet exist; use \\newcommand");var d=0;if(o=e.consumeArg().tokens,o.length===1&&o[0].text==="["){for(var a="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)a+=u.text,u=e.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new Ln("Invalid number of arguments: "+a);d=parseInt(a),o=e.consumeArg().tokens}return y&&r||e.macros.set(c,{tokens:o,numArgs:d}),""};Ge("\\newcommand",e=>ub(e,!1,!0,!1));Ge("\\renewcommand",e=>ub(e,!0,!1,!1));Ge("\\providecommand",e=>ub(e,!0,!0,!0));Ge("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});Ge("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});Ge("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Yh[n],bo.math[n],bo.text[n]),""});Ge("\\bgroup","{");Ge("\\egroup","}");Ge("~","\\nobreakspace");Ge("\\lq","`");Ge("\\rq","'");Ge("\\aa","\\r a");Ge("\\AA","\\r A");Ge("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");Ge("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Ge("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");Ge("","\\mathscr{B}");Ge("","\\mathscr{E}");Ge("","\\mathscr{F}");Ge("","\\mathscr{H}");Ge("","\\mathscr{I}");Ge("","\\mathscr{L}");Ge("","\\mathscr{M}");Ge("","\\mathscr{R}");Ge("","\\mathfrak{C}");Ge("","\\mathfrak{H}");Ge("","\\mathfrak{Z}");Ge("\\Bbbk","\\Bbb{k}");Ge("","\\cdotp");Ge("\\llap","\\mathllap{\\textrm{#1}}");Ge("\\rlap","\\mathrlap{\\textrm{#1}}");Ge("\\clap","\\mathclap{\\textrm{#1}}");Ge("\\mathstrut","\\vphantom{(}");Ge("\\underbar","\\underline{\\text{#1}}");Ge("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Ge("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");Ge("\\ne","\\neq");Ge("","\\neq");Ge("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");Ge("","\\notin");Ge("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");Ge("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");Ge("","\\perp");Ge("","\\mathclose{!\\mkern-0.8mu!}");Ge("","\\notni");Ge("","\\ulcorner");Ge("","\\urcorner");Ge("","\\llcorner");Ge("","\\lrcorner");Ge("","\\copyright");Ge("","\\textregistered");Ge("","\\textregistered");Ge("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Ge("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Ge("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Ge("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Ge("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");Ge("","\\vdots");Ge("\\varGamma","\\mathit{\\Gamma}");Ge("\\varDelta","\\mathit{\\Delta}");Ge("\\varTheta","\\mathit{\\Theta}");Ge("\\varLambda","\\mathit{\\Lambda}");Ge("\\varXi","\\mathit{\\Xi}");Ge("\\varPi","\\mathit{\\Pi}");Ge("\\varSigma","\\mathit{\\Sigma}");Ge("\\varUpsilon","\\mathit{\\Upsilon}");Ge("\\varPhi","\\mathit{\\Phi}");Ge("\\varPsi","\\mathit{\\Psi}");Ge("\\varOmega","\\mathit{\\Omega}");Ge("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Ge("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Ge("\\boxed","\\fbox{$\\displaystyle{#1}$}");Ge("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Ge("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Ge("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");Ge("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");Ge("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var F6={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Ge("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in F6?t=F6[n]:(n.slice(0,4)==="\\not"||n in bo.math&&["bin","rel"].includes(bo.math[n].group))&&(t="\\dotsb"),t});var cb={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Ge("\\dotso",function(e){var t=e.future().text;return t in cb?"\\ldots\\,":"\\ldots"});Ge("\\dotsc",function(e){var t=e.future().text;return t in cb&&t!==","?"\\ldots\\,":"\\ldots"});Ge("\\cdots",function(e){var t=e.future().text;return t in cb?"\\@cdots\\,":"\\@cdots"});Ge("\\dotsb","\\cdots");Ge("\\dotsm","\\cdots");Ge("\\dotsi","\\!\\cdots");Ge("\\dotsx","\\ldots\\,");Ge("\\DOTSI","\\relax");Ge("\\DOTSB","\\relax");Ge("\\DOTSX","\\relax");Ge("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Ge("\\,","\\tmspace+{3mu}{.1667em}");Ge("\\thinspace","\\,");Ge("\\>","\\mskip{4mu}");Ge("\\:","\\tmspace+{4mu}{.2222em}");Ge("\\medspace","\\:");Ge("\\;","\\tmspace+{5mu}{.2777em}");Ge("\\thickspace","\\;");Ge("\\!","\\tmspace-{3mu}{.1667em}");Ge("\\negthinspace","\\!");Ge("\\negmedspace","\\tmspace-{4mu}{.2222em}");Ge("\\negthickspace","\\tmspace-{5mu}{.277em}");Ge("\\enspace","\\kern.5em ");Ge("\\enskip","\\hskip.5em\\relax");Ge("\\quad","\\hskip1em\\relax");Ge("\\qquad","\\hskip2em\\relax");Ge("\\tag","\\@ifstar\\tag@literal\\tag@paren");Ge("\\tag@paren","\\tag@literal{({#1})}");Ge("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new Ln("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Ge("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Ge("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Ge("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Ge("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Ge("\\newline","\\\\\\relax");Ge("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var aA=Wn(Lf["Main-Regular"][84][1]-.7*Lf["Main-Regular"][65][1]);Ge("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+aA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Ge("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+aA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Ge("\\hspace","\\@ifstar\\@hspacer\\@hspace");Ge("\\@hspace","\\hskip #1\\relax");Ge("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Ge("\\ordinarycolon",":");Ge("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Ge("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Ge("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Ge("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Ge("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Ge("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Ge("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Ge("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Ge("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Ge("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Ge("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Ge("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Ge("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Ge("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Ge("","\\dblcolon");Ge("","\\eqcolon");Ge("","\\coloneqq");Ge("","\\eqqcolon");Ge("","\\Coloneqq");Ge("\\ratio","\\vcentcolon");Ge("\\coloncolon","\\dblcolon");Ge("\\colonequals","\\coloneqq");Ge("\\coloncolonequals","\\Coloneqq");Ge("\\equalscolon","\\eqqcolon");Ge("\\equalscoloncolon","\\Eqqcolon");Ge("\\colonminus","\\coloneq");Ge("\\coloncolonminus","\\Coloneq");Ge("\\minuscolon","\\eqcolon");Ge("\\minuscoloncolon","\\Eqcolon");Ge("\\coloncolonapprox","\\Colonapprox");Ge("\\coloncolonsim","\\Colonsim");Ge("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ge("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ge("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ge("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ge("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");Ge("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Ge("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Ge("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Ge("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Ge("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Ge("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Ge("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Ge("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Ge("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");Ge("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");Ge("\\ngeqq","\\html@mathml{\\@ngeqq}{}");Ge("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");Ge("\\nleqq","\\html@mathml{\\@nleqq}{}");Ge("\\nleqslant","\\html@mathml{\\@nleqslant}{}");Ge("\\nshortmid","\\html@mathml{\\@nshortmid}{}");Ge("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");Ge("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");Ge("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");Ge("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");Ge("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");Ge("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");Ge("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");Ge("\\imath","\\html@mathml{\\@imath}{}");Ge("\\jmath","\\html@mathml{\\@jmath}{}");Ge("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ge("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");Ge("","\\llbracket");Ge("","\\rrbracket");Ge("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Ge("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");Ge("","\\lBrace");Ge("","\\rBrace");Ge("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");Ge("","\\minuso");Ge("\\darr","\\downarrow");Ge("\\dArr","\\Downarrow");Ge("\\Darr","\\Downarrow");Ge("\\lang","\\langle");Ge("\\rang","\\rangle");Ge("\\uarr","\\uparrow");Ge("\\uArr","\\Uparrow");Ge("\\Uarr","\\Uparrow");Ge("\\N","\\mathbb{N}");Ge("\\R","\\mathbb{R}");Ge("\\Z","\\mathbb{Z}");Ge("\\alef","\\aleph");Ge("\\alefsym","\\aleph");Ge("\\Alpha","\\mathrm{A}");Ge("\\Beta","\\mathrm{B}");Ge("\\bull","\\bullet");Ge("\\Chi","\\mathrm{X}");Ge("\\clubs","\\clubsuit");Ge("\\cnums","\\mathbb{C}");Ge("\\Complex","\\mathbb{C}");Ge("\\Dagger","\\ddagger");Ge("\\diamonds","\\diamondsuit");Ge("\\empty","\\emptyset");Ge("\\Epsilon","\\mathrm{E}");Ge("\\Eta","\\mathrm{H}");Ge("\\exist","\\exists");Ge("\\harr","\\leftrightarrow");Ge("\\hArr","\\Leftrightarrow");Ge("\\Harr","\\Leftrightarrow");Ge("\\hearts","\\heartsuit");Ge("\\image","\\Im");Ge("\\infin","\\infty");Ge("\\Iota","\\mathrm{I}");Ge("\\isin","\\in");Ge("\\Kappa","\\mathrm{K}");Ge("\\larr","\\leftarrow");Ge("\\lArr","\\Leftarrow");Ge("\\Larr","\\Leftarrow");Ge("\\lrarr","\\leftrightarrow");Ge("\\lrArr","\\Leftrightarrow");Ge("\\Lrarr","\\Leftrightarrow");Ge("\\Mu","\\mathrm{M}");Ge("\\natnums","\\mathbb{N}");Ge("\\Nu","\\mathrm{N}");Ge("\\Omicron","\\mathrm{O}");Ge("\\plusmn","\\pm");Ge("\\rarr","\\rightarrow");Ge("\\rArr","\\Rightarrow");Ge("\\Rarr","\\Rightarrow");Ge("\\real","\\Re");Ge("\\reals","\\mathbb{R}");Ge("\\Reals","\\mathbb{R}");Ge("\\Rho","\\mathrm{P}");Ge("\\sdot","\\cdot");Ge("\\sect","\\S");Ge("\\spades","\\spadesuit");Ge("\\sub","\\subset");Ge("\\sube","\\subseteq");Ge("\\supe","\\supseteq");Ge("\\Tau","\\mathrm{T}");Ge("\\thetasym","\\vartheta");Ge("\\weierp","\\wp");Ge("\\Zeta","\\mathrm{Z}");Ge("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Ge("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Ge("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Ge("\\bra","\\mathinner{\\langle{#1}|}");Ge("\\ket","\\mathinner{|{#1}\\rangle}");Ge("\\braket","\\mathinner{\\langle{#1}\\rangle}");Ge("\\Bra","\\left\\langle#1\\right|");Ge("\\Ket","\\left|#1\\right\\rangle");var oA=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,o=t.consumeArg().tokens,c=t.consumeArg().tokens,y=t.macros.get("|"),d=t.macros.get("\\|");t.macros.beginGroup();var a=f=>g=>{e&&(g.macros.set("|",y),o.length&&g.macros.set("\\|",d));var m=f;if(!f&&o.length){var C=g.future();C.text==="|"&&(g.popToken(),m=!0)}return{tokens:m?o:r,numArgs:0}};t.macros.set("|",a(!1)),o.length&&t.macros.set("\\|",a(!0));var u=t.consumeArg().tokens,v=t.expandTokens([...c,...u,...n]);return t.macros.endGroup(),{tokens:v.reverse(),numArgs:0}};Ge("\\bra@ket",oA(!1));Ge("\\bra@set",oA(!0));Ge("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Ge("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Ge("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Ge("\\angln","{\\angl n}");Ge("\\blue","\\textcolor{##6495ed}{#1}");Ge("\\orange","\\textcolor{##ffa500}{#1}");Ge("\\pink","\\textcolor{##ff00af}{#1}");Ge("\\red","\\textcolor{##df0030}{#1}");Ge("\\green","\\textcolor{##28ae7b}{#1}");Ge("\\gray","\\textcolor{gray}{#1}");Ge("\\purple","\\textcolor{##9d38bd}{#1}");Ge("\\blueA","\\textcolor{##ccfaff}{#1}");Ge("\\blueB","\\textcolor{##80f6ff}{#1}");Ge("\\blueC","\\textcolor{##63d9ea}{#1}");Ge("\\blueD","\\textcolor{##11accd}{#1}");Ge("\\blueE","\\textcolor{##0c7f99}{#1}");Ge("\\tealA","\\textcolor{##94fff5}{#1}");Ge("\\tealB","\\textcolor{##26edd5}{#1}");Ge("\\tealC","\\textcolor{##01d1c1}{#1}");Ge("\\tealD","\\textcolor{##01a995}{#1}");Ge("\\tealE","\\textcolor{##208170}{#1}");Ge("\\greenA","\\textcolor{##b6ffb0}{#1}");Ge("\\greenB","\\textcolor{##8af281}{#1}");Ge("\\greenC","\\textcolor{##74cf70}{#1}");Ge("\\greenD","\\textcolor{##1fab54}{#1}");Ge("\\greenE","\\textcolor{##0d923f}{#1}");Ge("\\goldA","\\textcolor{##ffd0a9}{#1}");Ge("\\goldB","\\textcolor{##ffbb71}{#1}");Ge("\\goldC","\\textcolor{##ff9c39}{#1}");Ge("\\goldD","\\textcolor{##e07d10}{#1}");Ge("\\goldE","\\textcolor{##a75a05}{#1}");Ge("\\redA","\\textcolor{##fca9a9}{#1}");Ge("\\redB","\\textcolor{##ff8482}{#1}");Ge("\\redC","\\textcolor{##f9685d}{#1}");Ge("\\redD","\\textcolor{##e84d39}{#1}");Ge("\\redE","\\textcolor{##bc2612}{#1}");Ge("\\maroonA","\\textcolor{##ffbde0}{#1}");Ge("\\maroonB","\\textcolor{##ff92c6}{#1}");Ge("\\maroonC","\\textcolor{##ed5fa6}{#1}");Ge("\\maroonD","\\textcolor{##ca337c}{#1}");Ge("\\maroonE","\\textcolor{##9e034e}{#1}");Ge("\\purpleA","\\textcolor{##ddd7ff}{#1}");Ge("\\purpleB","\\textcolor{##c6b9fc}{#1}");Ge("\\purpleC","\\textcolor{##aa87ff}{#1}");Ge("\\purpleD","\\textcolor{##7854ab}{#1}");Ge("\\purpleE","\\textcolor{##543b78}{#1}");Ge("\\mintA","\\textcolor{##f5f9e8}{#1}");Ge("\\mintB","\\textcolor{##edf2df}{#1}");Ge("\\mintC","\\textcolor{##e0e5cc}{#1}");Ge("\\grayA","\\textcolor{##f6f7f7}{#1}");Ge("\\grayB","\\textcolor{##f0f1f2}{#1}");Ge("\\grayC","\\textcolor{##e3e5e6}{#1}");Ge("\\grayD","\\textcolor{##d6d8da}{#1}");Ge("\\grayE","\\textcolor{##babec2}{#1}");Ge("\\grayF","\\textcolor{##888d93}{#1}");Ge("\\grayG","\\textcolor{##626569}{#1}");Ge("\\grayH","\\textcolor{##3b3e40}{#1}");Ge("\\grayI","\\textcolor{##21242c}{#1}");Ge("\\kaBlue","\\textcolor{##314453}{#1}");Ge("\\kaGreen","\\textcolor{##71B307}{#1}");var sA={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class $G{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new QG(JG,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new L6(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,o;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:o,end:r}=this.consumeArg(["]"])}else({tokens:o,start:n,end:r}=this.consumeArg());return this.pushToken(new pc("EOF",r.loc)),this.pushTokens(o),new pc("",Uu.range(n,r))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var o=this.future(),c,y=0,d=0;do{if(c=this.popToken(),n.push(c),c.text==="{")++y;else if(c.text==="}"){if(--y,y===-1)throw new Ln("Extra }",c)}else if(c.text==="EOF")throw new Ln("Unexpected end of input in a macro argument, expected '"+(t&&r?t[d]:"}")+"'",c);if(t&&r)if((y===0||y===1&&t[d]==="{")&&c.text===t[d]){if(++d,d===t.length){n.splice(-d,d);break}}else d=0}while(y!==0||r);return o.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:c}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new Ln("The length of delimiters doesn't match the number of args!");for(var r=n[0],o=0;o<r.length;o++){var c=this.popToken();if(r[o]!==c.text)throw new Ln("Use of the macro doesn't match its definition",c)}}for(var y=[],d=0;d<t;d++)y.push(this.consumeArg(n&&n[d+1]).tokens);return y}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Ln("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,o=n.noexpand?null:this._getExpansion(r);if(o==null||t&&o.unexpandable){if(t&&o==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ln("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var c=o.tokens,y=this.consumeArgs(o.numArgs,o.delimiters);if(o.numArgs){c=c.slice();for(var d=c.length-1;d>=0;--d){var a=c[d];if(a.text==="#"){if(d===0)throw new Ln("Incomplete placeholder at end of macro body",a);if(a=c[--d],a.text==="#")c.splice(d+1,1);else if(/^[1-9]$/.test(a.text))c.splice(d,2,...y[+a.text-1]);else throw new Ln("Not a valid argument number",a)}}}return this.pushTokens(c),c.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new pc(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var o=this.stack.pop();o.treatAsRelax&&(o.noexpand=!1,o.treatAsRelax=!1),n.push(o)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var o=typeof n=="function"?n(this):n;if(typeof o=="string"){var c=0;if(o.indexOf("#")!==-1)for(var y=o.replace(/##/g,"");y.indexOf("#"+(c+1))!==-1;)++c;for(var d=new L6(o,this.settings),a=[],u=d.lex();u.text!=="EOF";)a.push(u),u=d.lex();a.reverse();var v={tokens:a,numArgs:c};return v}return o}isDefined(t){return this.macros.has(t)||Yh.hasOwnProperty(t)||bo.math.hasOwnProperty(t)||bo.text.hasOwnProperty(t)||sA.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Yh.hasOwnProperty(t)&&!Yh[t].primitive}}var P6=/^[]/,np=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),M2={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},z6={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Rm{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new $G(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new Ln("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new pc("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var o=this.fetch();if(Rm.endOfExpression.indexOf(o.text)!==-1||n&&o.text===n||t&&Yh[o.text]&&Yh[o.text].infix)break;var c=this.parseAtom(n);if(c){if(c.type==="internal")continue}else break;r.push(c)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,o=0;o<t.length;o++)if(t[o].type==="infix"){if(n!==-1)throw new Ln("only one infix operator per group",t[o].token);n=o,r=t[o].replaceWith}if(n!==-1&&r){var c,y,d=t.slice(0,n),a=t.slice(n+1);d.length===1&&d[0].type==="ordgroup"?c=d[0]:c={type:"ordgroup",mode:this.mode,body:d},a.length===1&&a[0].type==="ordgroup"?y=a[0]:y={type:"ordgroup",mode:this.mode,body:a};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[c,t[n],y],[]):u=this.callFunction(r,[c,y],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var o;do{var c;o=this.parseGroup(t)}while(((c=o)==null?void 0:c.type)==="internal");if(!o)throw new Ln("Expected group after '"+r+"'",n);return o}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var o={type:"text",mode:this.mode,body:n},c={type:"color",mode:this.mode,color:this.settings.errorColor,body:[o]};return c}parseAtom(t){var n=this.parseGroup("atom",t);if(n?.type==="internal"||this.mode==="text")return n;for(var r,o;;){this.consumeSpaces();var c=this.fetch();if(c.text==="\\limits"||c.text==="\\nolimits"){if(n&&n.type==="op"){var y=c.text==="\\limits";n.limits=y,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=c.text==="\\limits");else throw new Ln("Limit controls must follow a math operator",c);this.consume()}else if(c.text==="^"){if(r)throw new Ln("Double superscript",c);r=this.handleSupSubscript("superscript")}else if(c.text==="_"){if(o)throw new Ln("Double subscript",c);o=this.handleSupSubscript("subscript")}else if(c.text==="'"){if(r)throw new Ln("Double superscript",c);var d={type:"textord",mode:this.mode,text:"\\prime"},a=[d];for(this.consume();this.fetch().text==="'";)a.push(d),this.consume();this.fetch().text==="^"&&a.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:a}}else if(np[c.text]){var u=P6.test(c.text),v=[];for(v.push(new pc(np[c.text])),this.consume();;){var f=this.fetch().text;if(!np[f]||P6.test(f)!==u)break;v.unshift(new pc(np[f])),this.consume()}var g=this.subparse(v);u?o={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||o?{type:"supsub",mode:this.mode,base:n,sup:r,sub:o}:n}parseFunction(t,n){var r=this.fetch(),o=r.text,c=Yh[o];if(!c)return null;if(this.consume(),n&&n!=="atom"&&!c.allowedInArgument)throw new Ln("Got function '"+o+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!c.allowedInText)throw new Ln("Can't use function '"+o+"' in text mode",r);if(this.mode==="math"&&c.allowedInMath===!1)throw new Ln("Can't use function '"+o+"' in math mode",r);var{args:y,optArgs:d}=this.parseArguments(o,c);return this.callFunction(o,y,d,r,t)}callFunction(t,n,r,o,c){var y={funcName:t,parser:this,token:o,breakOnTokenText:c},d=Yh[t];if(d&&d.handler)return d.handler(y,n,r);throw new Ln("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var o=[],c=[],y=0;y<r;y++){var d=n.argTypes&&n.argTypes[y],a=y<n.numOptionalArgs;(n.primitive&&d==null||n.type==="sqrt"&&y===1&&c[0]==null)&&(d="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",d,a);if(a)c.push(u);else if(u!=null)o.push(u);else throw new Ln("Null argument, please report this as a bug")}return{args:o,optArgs:c}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var o=this.parseArgumentGroup(r,"text");return o!=null?{type:"styling",mode:o.mode,body:[o],style:"text"}:null}case"raw":{var c=this.parseStringGroup("raw",r);return c!=null?{type:"raw",mode:"text",string:c.text}:null}case"primitive":{if(r)throw new Ln("A primitive argument cannot be optional");var y=this.parseGroup(t);if(y==null)throw new Ln("Expected group as "+t,this.fetch());return y}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ln("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var o="",c;(c=this.fetch()).text!=="EOF";)o+=c.text,this.consume();return this.consume(),r.text=o,r}parseRegexGroup(t,n){for(var r=this.fetch(),o=r,c="",y;(y=this.fetch()).text!=="EOF"&&t.test(c+y.text);)o=y,c+=o.text,this.consume();if(c==="")throw new Ln("Invalid "+n+": '"+r.text+"'",r);return r.range(o,c)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new Ln("Invalid color: '"+n.text+"'",n);var o=r[0];return/^[0-9a-f]{6}$/i.test(o)&&(o="#"+o),{type:"color-token",mode:this.mode,color:o}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!o)throw new Ln("Invalid size: '"+n.text+"'",n);var c={number:+(o[1]+o[2]),unit:o[3]};if(!vE(c))throw new Ln("Invalid unit: '"+c.unit+"'",n);return{type:"size",mode:this.mode,value:c,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var o=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var c=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var y={type:"ordgroup",mode:this.mode,loc:r.loc,body:c};return n&&this.switchMode(o),y}parseGroup(t,n){var r=this.fetch(),o=r.text,c;if(o==="{"||o==="\\begingroup"){this.consume();var y=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var d=this.parseExpression(!1,y),a=this.fetch();this.expect(y),this.gullet.endGroup(),c={type:"ordgroup",mode:this.mode,loc:Uu.range(r,a),body:d,semisimple:o==="\\begingroup"||void 0}}else if(c=this.parseFunction(n,t)||this.parseSymbol(),c==null&&o[0]==="\\"&&!sA.hasOwnProperty(o)){if(this.settings.throwOnError)throw new Ln("Undefined control sequence: "+o,r);c=this.formatUnsupportedCmd(o),this.consume()}return c}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var o=t[r],c=o.text;c==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:Uu.range(o,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:Uu.range(o,t[r+1]),text:"--"}),n-=1)),(c==="'"||c==="`")&&t[r+1].text===c&&(t.splice(r,2,{type:"textord",mode:"text",loc:Uu.range(o,t[r+1]),text:c+c}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),o=r.charAt(0)==="*";if(o&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ln(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:o}}z6.hasOwnProperty(n[0])&&!bo[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=z6[n[0]]+n.slice(1));var c=ZG.exec(n);c&&(n=n.substring(0,c.index),n==="i"?n="":n==="j"&&(n=""));var y;if(bo[this.mode][n]){this.settings.strict&&this.mode==="math"&&Ty.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var d=bo[this.mode][n].group,a=Uu.range(t),u;if(UW.hasOwnProperty(d)){var v=d;u={type:"atom",mode:this.mode,family:v,loc:a,text:n}}else u={type:d,mode:this.mode,loc:a,text:n};y=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(mE(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),y={type:"textord",mode:"text",loc:Uu.range(t),text:n};else return null;if(this.consume(),c)for(var f=0;f<c[0].length;f++){var g=c[0][f];if(!M2[g])throw new Ln("Unknown accent ' "+g+"'",t);var m=M2[g][this.mode]||M2[g].text;if(!m)throw new Ln("Accent "+g+" unsupported in "+this.mode+" mode",t);y={type:"accent",mode:this.mode,loc:Uu.range(t),label:m,isStretchy:!1,isShifty:!0,base:y}}return y}}Rm.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var fb=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Rm(t,n);delete r.gullet.macros.current["\\df@tag"];var o=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Ln("\\tag works only in display equations");o=[{type:"tag",mode:"text",body:o,tag:r.subparse([new pc("\\df@tag")])}]}return o},lA=function(t,n,r){n.textContent="";var o=hb(t,r).toNode();n.appendChild(o)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),lA=function(){throw new Ln("KaTeX doesn't work in quirks mode.")});var eY=function(t,n){var r=hb(t,n).toMarkup();return r},tY=function(t,n){var r=new Vx(n);return fb(t,r)},uA=function(t,n,r){if(r.throwOnError||!(t instanceof Ln))throw t;var o=$t.makeSpan(["katex-error"],[new Fc(n)]);return o.setAttribute("title",t.toString()),o.setAttribute("style","color:"+r.errorColor),o},hb=function(t,n){var r=new Vx(n);try{var o=fb(t,r);return cG(o,t,r)}catch(c){return uA(c,t,r)}},nY=function(t,n){var r=new Vx(n);try{var o=fb(t,r);return fG(o,t,r)}catch(c){return uA(c,t,r)}},rY="0.16.27",iY={Span:ug,Anchor:qx,SymbolNode:Fc,SvgNode:dh,PathNode:t0,LineNode:Ay},H6={version:rY,render:lA,renderToString:eY,ParseError:Ln,SETTINGS_SCHEMA:wp,__parse:tY,__renderToDomTree:hb,__renderToHTMLTree:nY,__setFontMetrics:RW,__defineSymbol:se,__defineFunction:Qn,__defineMacro:Ge,__domTree:iY};const aY={},oY=[];function cA(e){const t=e||aY;return function(n,r){Wx(n,"element",function(o,c){const y=Array.isArray(o.properties.className)?o.properties.className:oY,d=y.includes("language-math"),a=y.includes("math-display"),u=y.includes("math-inline");let v=a;if(!d&&!a&&!u)return;let f=c[c.length-1],g=o;if(o.tagName==="code"&&d&&f&&f.type==="element"&&f.tagName==="pre"&&(g=f,f=c[c.length-2],v=!0),!f)return;const m=$j(g,{whitespace:"pre"});let C;try{C=H6.renderToString(m,{...t,displayMode:v,throwOnError:!0})}catch(S){const O=S,N=O.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...c,o],cause:O,place:o.position,ruleId:N,source:"rehype-katex"});try{C=H6.renderToString(m,{...t,displayMode:v,strict:"ignore",throwOnError:!1})}catch{C=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(S)},children:[{type:"text",value:m}]}]}}typeof C=="string"&&(C=Yj(C).children);const D=f.children.indexOf(g);return f.children.splice(D,1,...C),aE})}}function fA(e,t){const n=String(e);let r=n.indexOf(t),o=r,c=0,y=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++c>y&&(y=c):c=1,o=r+t.length,r=n.indexOf(t,o);return y}function sY(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:c},exit:{mathFlow:o,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:d,mathText:y,mathTextData:d}};function e(a){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},a)}function t(){this.buffer()}function n(){const a=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=a}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function o(a){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),v=this.stack[this.stack.length-1];v.type,this.exit(a),v.value=u;const f=v.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function c(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}function y(a){const u=this.resume(),v=this.stack[this.stack.length-1];v.type,this.exit(a),v.value=u,v.data.hChildren.push({type:"text",value:u})}function d(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}function lY(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),r.peek=o,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(c,y,d,a){const u=c.value||"",v=d.createTracker(a),f="$".repeat(Math.max(fA(u,"$")+1,2)),g=d.enter("mathFlow");let m=v.move(f);if(c.meta){const C=d.enter("mathFlowMeta");m+=v.move(d.safe(c.meta,{after:`
`,before:m,encode:["$"],...v.current()})),C()}return m+=v.move(`
`),u&&(m+=v.move(u+`
`)),m+=v.move(f),g(),m}function r(c,y,d){let a=c.value||"",u=1;for(t||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(a);)u++;const v="$".repeat(u);/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^\$|\$$/.test(a))&&(a=" "+a+" ");let f=-1;for(;++f<d.unsafe.length;){const g=d.unsafe[f];if(!g.atBreak)continue;const m=d.compilePattern(g);let C;for(;C=m.exec(a);){let D=C.index;a.codePointAt(D)===10&&a.codePointAt(D-1)===13&&D--,a=a.slice(0,D)+" "+a.slice(C.index+1)}}return v+a+v}function o(){return"$"}}const uY={tokenize:cY,concrete:!0,name:"mathFlow"},U6={tokenize:fY,partial:!0};function cY(e,t,n){const r=this,o=r.events[r.events.length-1],c=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0;let y=0;return d;function d(N){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),a(N)}function a(N){return N===36?(e.consume(N),y++,a):y<2?n(N):(e.exit("mathFlowFenceSequence"),zi(e,u,"whitespace")(N))}function u(N){return N===null||Sr(N)?f(N):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Sr(N)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),f(N)):N===36?n(N):(e.consume(N),v)}function f(N){return e.exit("mathFlowFence"),r.interrupt?t(N):e.attempt(U6,g,S)(N)}function g(N){return e.attempt({tokenize:O,partial:!0},S,m)(N)}function m(N){return(c?zi(e,C,"linePrefix",c+1):C)(N)}function C(N){return N===null?S(N):Sr(N)?e.attempt(U6,g,S)(N):(e.enter("mathFlowValue"),D(N))}function D(N){return N===null||Sr(N)?(e.exit("mathFlowValue"),C(N)):(e.consume(N),D)}function S(N){return e.exit("mathFlow"),t(N)}function O(N,U,W){let q=0;return zi(N,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function J(Se){return N.enter("mathFlowFence"),N.enter("mathFlowFenceSequence"),ne(Se)}function ne(Se){return Se===36?(q++,N.consume(Se),ne):q<y?W(Se):(N.exit("mathFlowFenceSequence"),zi(N,ve,"whitespace")(Se))}function ve(Se){return Se===null||Sr(Se)?(N.exit("mathFlowFence"),U(Se)):W(Se)}}}function fY(e,t,n){const r=this;return o;function o(y){return y===null?t(y):(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),c)}function c(y){return r.parser.lazy[r.now().line]?n(y):t(y)}}function hY(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:dY,previous:gY,name:"mathText"};function r(o,c,y){let d=0,a,u;return v;function v(D){return o.enter("mathText"),o.enter("mathTextSequence"),f(D)}function f(D){return D===36?(o.consume(D),d++,f):d<2&&!n?y(D):(o.exit("mathTextSequence"),g(D))}function g(D){return D===null?y(D):D===36?(u=o.enter("mathTextSequence"),a=0,C(D)):D===32?(o.enter("space"),o.consume(D),o.exit("space"),g):Sr(D)?(o.enter("lineEnding"),o.consume(D),o.exit("lineEnding"),g):(o.enter("mathTextData"),m(D))}function m(D){return D===null||D===32||D===36||Sr(D)?(o.exit("mathTextData"),g(D)):(o.consume(D),m)}function C(D){return D===36?(o.consume(D),a++,C):a===d?(o.exit("mathTextSequence"),o.exit("mathText"),c(D)):(u.type="mathTextData",m(D))}}}function dY(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="mathTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function gY(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function pY(e){return{flow:{36:uY},text:{36:hY(e)}}}const mY={};function hA(e){const t=this,n=e||mY,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),c=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),y=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(pY(n)),c.push(sY()),y.push(lY(n))}var b0={},x1={};var j6;function vY(){if(j6)return x1;j6=1;var e=Rd(),t=rm();function n(R){var P="https://react.dev/errors/"+R;if(1<arguments.length){P+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)P+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+R+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.scope"),S=Symbol.for("react.activity"),O=Symbol.for("react.legacy_hidden"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.for("react.view_transition"),W=Symbol.iterator;function q(R){return R===null||typeof R!="object"?null:(R=W&&R[W]||R["@@iterator"],typeof R=="function"?R:null)}var J=Array.isArray;function ne(R,P){var Y=R.length&3,$=R.length-Y,ae=P;for(P=0;P<$;){var De=R.charCodeAt(P)&255|(R.charCodeAt(++P)&255)<<8|(R.charCodeAt(++P)&255)<<16|(R.charCodeAt(++P)&255)<<24;++P,De=3432918353*(De&65535)+((3432918353*(De>>>16)&65535)<<16)&4294967295,De=De<<15|De>>>17,De=461845907*(De&65535)+((461845907*(De>>>16)&65535)<<16)&4294967295,ae^=De,ae=ae<<13|ae>>>19,ae=5*(ae&65535)+((5*(ae>>>16)&65535)<<16)&4294967295,ae=(ae&65535)+27492+(((ae>>>16)+58964&65535)<<16)}switch(De=0,Y){case 3:De^=(R.charCodeAt(P+2)&255)<<16;case 2:De^=(R.charCodeAt(P+1)&255)<<8;case 1:De^=R.charCodeAt(P)&255,De=3432918353*(De&65535)+((3432918353*(De>>>16)&65535)<<16)&4294967295,De=De<<15|De>>>17,ae^=461845907*(De&65535)+((461845907*(De>>>16)&65535)<<16)&4294967295}return ae^=R.length,ae^=ae>>>16,ae=2246822507*(ae&65535)+((2246822507*(ae>>>16)&65535)<<16)&4294967295,ae^=ae>>>13,ae=3266489909*(ae&65535)+((3266489909*(ae>>>16)&65535)<<16)&4294967295,(ae^ae>>>16)>>>0}var ve=Object.assign,Se=Object.prototype.hasOwnProperty,Be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ue={},qe={};function mt(R){return Se.call(qe,R)?!0:Se.call(Ue,R)?!1:Be.test(R)?qe[R]=!0:(Ue[R]=!0,!1)}var ut=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),ge=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),me=/["'&<>]/;function Ie(R){if(typeof R=="boolean"||typeof R=="number"||typeof R=="bigint")return""+R;R=""+R;var P=me.exec(R);if(P){var Y="",$,ae=0;for($=P.index;$<R.length;$++){switch(R.charCodeAt($)){case 34:P="&quot;";break;case 38:P="&amp;";break;case 39:P="&#x27;";break;case 60:P="&lt;";break;case 62:P="&gt;";break;default:continue}ae!==$&&(Y+=R.slice(ae,$)),ae=$+1,Y+=P}R=ae!==$?Y+R.slice(ae,$):Y}return R}var lt=/([A-Z])/g,Me=/^ms-/,ue=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ce(R){return ue.test(""+R)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":R}var oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Te=Z.d;Z.d={f:Te.f,r:Te.r,D:aa,C:Hr,L:or,m:co,X:Ri,S:bi,M:hn};var Fe=[],ct=null,At=/(<\/|<)(s)(cript)/gi;function rt(R,P,Y,$){return""+P+(Y==="s"?"\\u0073":"\\u0053")+$}function jt(R,P,Y,$,ae){return{idPrefix:R===void 0?"":R,nextFormID:0,streamingFormat:0,bootstrapScriptContent:Y,bootstrapScripts:$,bootstrapModules:ae,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function _t(R,P,Y,$){return{insertionMode:R,selectedValue:P,tagScope:Y,viewTransition:$}}function Wt(R,P,Y){var $=R.tagScope&-25;switch(P){case"noscript":return _t(2,null,$|1,null);case"select":return _t(2,Y.value!=null?Y.value:Y.defaultValue,$,null);case"svg":return _t(4,null,$,null);case"picture":return _t(2,null,$|2,null);case"math":return _t(5,null,$,null);case"foreignObject":return _t(2,null,$,null);case"table":return _t(6,null,$,null);case"thead":case"tbody":case"tfoot":return _t(7,null,$,null);case"colgroup":return _t(9,null,$,null);case"tr":return _t(8,null,$,null);case"head":if(2>R.insertionMode)return _t(3,null,$,null);break;case"html":if(R.insertionMode===0)return _t(1,null,$,null)}return 6<=R.insertionMode||2>R.insertionMode?_t(2,null,$,null):R.tagScope!==$?_t(R.insertionMode,R.selectedValue,$,null):R}function ft(R){return R===null?null:{update:R.update,enter:"none",exit:"none",share:R.update,name:R.autoName,autoName:R.autoName,nameIdx:0}}function kt(R,P){return P.tagScope&32&&(R.instructions|=128),_t(P.insertionMode,P.selectedValue,P.tagScope|12,ft(P.viewTransition))}function Dt(R,P){R=ft(P.viewTransition);var Y=P.tagScope|16;return R!==null&&R.share!=="none"&&(Y|=64),_t(P.insertionMode,P.selectedValue,Y,R)}var tn=new Map;function zt(R,P){if(typeof P!="object")throw Error(n(62));var Y=!0,$;for($ in P)if(Se.call(P,$)){var ae=P[$];if(ae!=null&&typeof ae!="boolean"&&ae!==""){if($.indexOf("--")===0){var De=Ie($);ae=Ie((""+ae).trim())}else De=tn.get($),De===void 0&&(De=Ie($.replace(lt,"-$1").toLowerCase().replace(Me,"-ms-")),tn.set($,De)),ae=typeof ae=="number"?ae===0||ut.has($)?""+ae:ae+"px":Ie((""+ae).trim());Y?(Y=!1,R.push(' style="',De,":",ae)):R.push(";",De,":",ae)}}Y||R.push('"')}function Ut(R,P,Y){Y&&typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'=""')}function Kt(R,P,Y){typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&R.push(" ",P,'="',Ie(Y),'"')}var un=Ie("javascript:throw new Error('React form unexpectedly submitted.')");function Xt(R,P){this.push('<input type="hidden"'),Zt(R),Kt(this,"name",P),Kt(this,"value",R),this.push("/>")}function Zt(R){if(typeof R!="string")throw Error(n(480))}function Bn(R,P){if(typeof P.$$FORM_ACTION=="function"){var Y=R.nextFormID++;R=R.idPrefix+Y;try{var $=P.$$FORM_ACTION(R);if($){var ae=$.data;ae?.forEach(Zt)}return $}catch(De){if(typeof De=="object"&&De!==null&&typeof De.then=="function")throw De}}return null}function gt(R,P,Y,$,ae,De,ze,vt){var tt=null;if(typeof $=="function"){var xt=Bn(P,$);xt!==null?(vt=xt.name,$=xt.action||"",ae=xt.encType,De=xt.method,ze=xt.target,tt=xt.data):(R.push(" ","formAction",'="',un,'"'),ze=De=ae=$=vt=null,Ee(P,Y))}return vt!=null&&dt(R,"name",vt),$!=null&&dt(R,"formAction",$),ae!=null&&dt(R,"formEncType",ae),De!=null&&dt(R,"formMethod",De),ze!=null&&dt(R,"formTarget",ze),tt}function dt(R,P,Y){switch(P){case"className":Kt(R,"class",Y);break;case"tabIndex":Kt(R,"tabindex",Y);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(R,P,Y);break;case"style":zt(R,Y);break;case"src":case"href":if(Y==="")break;case"action":case"formAction":if(Y==null||typeof Y=="function"||typeof Y=="symbol"||typeof Y=="boolean")break;Y=ce(""+Y),R.push(" ",P,'="',Ie(Y),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Ut(R,P.toLowerCase(),Y);break;case"xlinkHref":if(typeof Y=="function"||typeof Y=="symbol"||typeof Y=="boolean")break;Y=ce(""+Y),R.push(" ","xlink:href",'="',Ie(Y),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'="',Ie(Y),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Y&&typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'=""');break;case"capture":case"download":Y===!0?R.push(" ",P,'=""'):Y!==!1&&typeof Y!="function"&&typeof Y!="symbol"&&R.push(" ",P,'="',Ie(Y),'"');break;case"cols":case"rows":case"size":case"span":typeof Y!="function"&&typeof Y!="symbol"&&!isNaN(Y)&&1<=Y&&R.push(" ",P,'="',Ie(Y),'"');break;case"rowSpan":case"start":typeof Y=="function"||typeof Y=="symbol"||isNaN(Y)||R.push(" ",P,'="',Ie(Y),'"');break;case"xlinkActuate":Kt(R,"xlink:actuate",Y);break;case"xlinkArcrole":Kt(R,"xlink:arcrole",Y);break;case"xlinkRole":Kt(R,"xlink:role",Y);break;case"xlinkShow":Kt(R,"xlink:show",Y);break;case"xlinkTitle":Kt(R,"xlink:title",Y);break;case"xlinkType":Kt(R,"xlink:type",Y);break;case"xmlBase":Kt(R,"xml:base",Y);break;case"xmlLang":Kt(R,"xml:lang",Y);break;case"xmlSpace":Kt(R,"xml:space",Y);break;default:if((!(2<P.length)||P[0]!=="o"&&P[0]!=="O"||P[1]!=="n"&&P[1]!=="N")&&(P=ge.get(P)||P,mt(P))){switch(typeof Y){case"function":case"symbol":return;case"boolean":var $=P.toLowerCase().slice(0,5);if($!=="data-"&&$!=="aria-")return}R.push(" ",P,'="',Ie(Y),'"')}}}function Pe(R,P,Y){if(P!=null){if(Y!=null)throw Error(n(60));if(typeof P!="object"||!("__html"in P))throw Error(n(61));P=P.__html,P!=null&&R.push(""+P)}}function xe(R){var P="";return e.Children.forEach(R,function(Y){Y!=null&&(P+=Y)}),P}function Ee(R,P){if((R.instructions&16)===0){R.instructions|=16;var Y=P.preamble,$=P.bootstrapChunks;(Y.htmlChunks||Y.headChunks)&&$.length===0?($.push(P.startInlineScript),xi($,R),$.push(">",`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>")):$.unshift(P.startInlineScript,">",`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>")}}function Ze(R,P){R.push(yt("link"));for(var Y in P)if(Se.call(P,Y)){var $=P[Y];if($!=null)switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:dt(R,Y,$)}}return R.push("/>"),null}var re=/(<\/|<)(s)(tyle)/gi;function we(R,P,Y,$){return""+P+(Y==="s"?"\\73 ":"\\53 ")+$}function Ve(R,P,Y){R.push(yt(Y));for(var $ in P)if(Se.call(P,$)){var ae=P[$];if(ae!=null)switch($){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,Y));default:dt(R,$,ae)}}return R.push("/>"),null}function it(R,P){R.push(yt("title"));var Y=null,$=null,ae;for(ae in P)if(Se.call(P,ae)){var De=P[ae];if(De!=null)switch(ae){case"children":Y=De;break;case"dangerouslySetInnerHTML":$=De;break;default:dt(R,ae,De)}}return R.push(">"),P=Array.isArray(Y)?2>Y.length?Y[0]:null:Y,typeof P!="function"&&typeof P!="symbol"&&P!==null&&P!==void 0&&R.push(Ie(""+P)),Pe(R,$,Y),R.push(Cn("title")),null}function We(R,P){R.push(yt("script"));var Y=null,$=null,ae;for(ae in P)if(Se.call(P,ae)){var De=P[ae];if(De!=null)switch(ae){case"children":Y=De;break;case"dangerouslySetInnerHTML":$=De;break;default:dt(R,ae,De)}}return R.push(">"),Pe(R,$,Y),typeof Y=="string"&&R.push((""+Y).replace(At,rt)),R.push(Cn("script")),null}function Ct(R,P,Y){R.push(yt(Y));var $=Y=null,ae;for(ae in P)if(Se.call(P,ae)){var De=P[ae];if(De!=null)switch(ae){case"children":Y=De;break;case"dangerouslySetInnerHTML":$=De;break;default:dt(R,ae,De)}}return R.push(">"),Pe(R,$,Y),Y}function Ye(R,P,Y){R.push(yt(Y));var $=Y=null,ae;for(ae in P)if(Se.call(P,ae)){var De=P[ae];if(De!=null)switch(ae){case"children":Y=De;break;case"dangerouslySetInnerHTML":$=De;break;default:dt(R,ae,De)}}return R.push(">"),Pe(R,$,Y),typeof Y=="string"?(R.push(Ie(Y)),null):Y}var at=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,St=new Map;function yt(R){var P=St.get(R);if(P===void 0){if(!at.test(R))throw Error(n(65,R));P="<"+R,St.set(R,P)}return P}function Ft(R,P,Y,$,ae,De,ze,vt,tt){switch(P){case"div":case"span":case"svg":case"path":break;case"a":R.push(yt("a"));var xt=null,Rt=null,Et;for(Et in Y)if(Se.call(Y,Et)){var Vt=Y[Et];if(Vt!=null)switch(Et){case"children":xt=Vt;break;case"dangerouslySetInnerHTML":Rt=Vt;break;case"href":Vt===""?Kt(R,"href",""):dt(R,Et,Vt);break;default:dt(R,Et,Vt)}}if(R.push(">"),Pe(R,Rt,xt),typeof xt=="string"){R.push(Ie(xt));var dn=null}else dn=xt;return dn;case"g":case"p":case"li":break;case"select":R.push(yt("select"));var Nn=null,In=null,rr;for(rr in Y)if(Se.call(Y,rr)){var Rn=Y[rr];if(Rn!=null)switch(rr){case"children":Nn=Rn;break;case"dangerouslySetInnerHTML":In=Rn;break;case"defaultValue":case"value":break;default:dt(R,rr,Rn)}}return R.push(">"),Pe(R,In,Nn),Nn;case"option":var sr=vt.selectedValue;R.push(yt("option"));var _r=null,ea=null,wr=null,jr=null,ui;for(ui in Y)if(Se.call(Y,ui)){var ua=Y[ui];if(ua!=null)switch(ui){case"children":_r=ua;break;case"selected":wr=ua;break;case"dangerouslySetInnerHTML":jr=ua;break;case"value":ea=ua;default:dt(R,ui,ua)}}if(sr!=null){var pi=ea!==null?""+ea:xe(_r);if(J(sr)){for(var za=0;za<sr.length;za++)if(""+sr[za]===pi){R.push(' selected=""');break}}else""+sr===pi&&R.push(' selected=""')}else wr&&R.push(' selected=""');return R.push(">"),Pe(R,jr,_r),_r;case"textarea":R.push(yt("textarea"));var Fi=null,ca=null,fa=null,ma;for(ma in Y)if(Se.call(Y,ma)){var Eo=Y[ma];if(Eo!=null)switch(ma){case"children":fa=Eo;break;case"value":Fi=Eo;break;case"defaultValue":ca=Eo;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:dt(R,ma,Eo)}}if(Fi===null&&ca!==null&&(Fi=ca),R.push(">"),fa!=null){if(Fi!=null)throw Error(n(92));if(J(fa)){if(1<fa.length)throw Error(n(93));Fi=""+fa[0]}Fi=""+fa}return typeof Fi=="string"&&Fi[0]===`
`&&R.push(`
`),Fi!==null&&R.push(Ie(""+Fi)),null;case"input":R.push(yt("input"));var ru=null,zs=null,ds=null,el=null,Ha=null,po=null,Ao=null,Za=null,Ua=null,gs;for(gs in Y)if(Se.call(Y,gs)){var ji=Y[gs];if(ji!=null)switch(gs){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":ru=ji;break;case"formAction":zs=ji;break;case"formEncType":ds=ji;break;case"formMethod":el=ji;break;case"formTarget":Ha=ji;break;case"defaultChecked":Ua=ji;break;case"defaultValue":Ao=ji;break;case"checked":Za=ji;break;case"value":po=ji;break;default:dt(R,gs,ji)}}var Jo=gt(R,$,ae,zs,ds,el,Ha,ru);return Za!==null?Ut(R,"checked",Za):Ua!==null&&Ut(R,"checked",Ua),po!==null?dt(R,"value",po):Ao!==null&&dt(R,"value",Ao),R.push("/>"),Jo?.forEach(Xt,R),null;case"button":R.push(yt("button"));var To=null,bu=null,Ol=null,wu=null,iu=null,qa=null,va=null,ri;for(ri in Y)if(Se.call(Y,ri)){var $o=Y[ri];if($o!=null)switch(ri){case"children":To=$o;break;case"dangerouslySetInnerHTML":bu=$o;break;case"name":Ol=$o;break;case"formAction":wu=$o;break;case"formEncType":iu=$o;break;case"formMethod":qa=$o;break;case"formTarget":va=$o;break;default:dt(R,ri,$o)}}var Ia=gt(R,$,ae,wu,iu,qa,va,Ol);if(R.push(">"),Ia?.forEach(Xt,R),Pe(R,bu,To),typeof To=="string"){R.push(Ie(To));var vl=null}else vl=To;return vl;case"form":R.push(yt("form"));var Os=null,ff=null,tl=null,Wl=null,yl=null,Cu=null,Qa;for(Qa in Y)if(Se.call(Y,Qa)){var oa=Y[Qa];if(oa!=null)switch(Qa){case"children":Os=oa;break;case"dangerouslySetInnerHTML":ff=oa;break;case"action":tl=oa;break;case"encType":Wl=oa;break;case"method":yl=oa;break;case"target":Cu=oa;break;default:dt(R,Qa,oa)}}var Ra=null,Zr=null;if(typeof tl=="function"){var Do=Bn($,tl);Do!==null?(tl=Do.action||"",Wl=Do.encType,yl=Do.method,Cu=Do.target,Ra=Do.data,Zr=Do.name):(R.push(" ","action",'="',un,'"'),Cu=yl=Wl=tl=null,Ee($,ae))}if(tl!=null&&dt(R,"action",tl),Wl!=null&&dt(R,"encType",Wl),yl!=null&&dt(R,"method",yl),Cu!=null&&dt(R,"target",Cu),R.push(">"),Zr!==null&&(R.push('<input type="hidden"'),Kt(R,"name",Zr),R.push("/>"),Ra?.forEach(Xt,R)),Pe(R,ff,Os),typeof Os=="string"){R.push(Ie(Os));var Hs=null}else Hs=Os;return Hs;case"menuitem":R.push(yt("menuitem"));for(var nl in Y)if(Se.call(Y,nl)){var xc=Y[nl];if(xc!=null)switch(nl){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:dt(R,nl,xc)}}return R.push(">"),null;case"object":R.push(yt("object"));var es=null,Il=null,Is;for(Is in Y)if(Se.call(Y,Is)){var sa=Y[Is];if(sa!=null)switch(Is){case"children":es=sa;break;case"dangerouslySetInnerHTML":Il=sa;break;case"data":var Ja=ce(""+sa);if(Ja==="")break;R.push(" ","data",'="',Ie(Ja),'"');break;default:dt(R,Is,sa)}}if(R.push(">"),Pe(R,Il,es),typeof es=="string"){R.push(Ie(es));var Yu=null}else Yu=es;return Yu;case"title":var Uo=vt.tagScope&1,Hc=vt.tagScope&4;if(vt.insertionMode===4||Uo||Y.itemProp!=null)var bc=it(R,Y);else Hc?bc=null:(it(ae.hoistableChunks,Y),bc=void 0);return bc;case"link":var Aa=vt.tagScope&1,wc=vt.tagScope&4,Xu=Y.rel,ts=Y.href,au=Y.precedence;if(vt.insertionMode===4||Aa||Y.itemProp!=null||typeof Xu!="string"||typeof ts!="string"||ts===""){Ze(R,Y);var ps=null}else if(Y.rel==="stylesheet")if(typeof au!="string"||Y.disabled!=null||Y.onLoad||Y.onError)ps=Ze(R,Y);else{var ta=ae.styles.get(au),Vu=$.styleResources.hasOwnProperty(ts)?$.styleResources[ts]:void 0;if(Vu!==null){$.styleResources[ts]=null,ta||(ta={precedence:Ie(au),rules:[],hrefs:[],sheets:new Map},ae.styles.set(au,ta));var Ku={state:0,props:ve({},Y,{"data-precedence":Y.precedence,precedence:null})};if(Vu){Vu.length===2&&wi(Ku.props,Vu);var Uc=ae.preloads.stylesheets.get(ts);Uc&&0<Uc.length?Uc.length=0:Ku.state=1}ta.sheets.set(ts,Ku),ze&&ze.stylesheets.add(Ku)}else if(ta){var ns=ta.sheets.get(ts);ns&&ze&&ze.stylesheets.add(ns)}tt&&R.push("<!-- -->"),ps=null}else Y.onLoad||Y.onError?ps=Ze(R,Y):(tt&&R.push("<!-- -->"),ps=wc?null:Ze(ae.hoistableChunks,Y));return ps;case"script":var li=vt.tagScope&1,ms=Y.async;if(typeof Y.src!="string"||!Y.src||!ms||typeof ms=="function"||typeof ms=="symbol"||Y.onLoad||Y.onError||vt.insertionMode===4||li||Y.itemProp!=null)var rl=We(R,Y);else{var la=Y.src;if(Y.type==="module")var Gl=$.moduleScriptResources,Yl=ae.preloads.moduleScripts;else Gl=$.scriptResources,Yl=ae.preloads.scripts;var Xl=Gl.hasOwnProperty(la)?Gl[la]:void 0;if(Xl!==null){Gl[la]=null;var Su=Y;if(Xl){Xl.length===2&&(Su=ve({},Y),wi(Su,Xl));var Zu=Yl.get(la);Zu&&(Zu.length=0)}var Vl=[];ae.scripts.add(Vl),We(Vl,Su)}tt&&R.push("<!-- -->"),rl=null}return rl;case"style":var xl=vt.tagScope&1,rs=Y.precedence,ao=Y.href,jc=Y.nonce;if(vt.insertionMode===4||xl||Y.itemProp!=null||typeof rs!="string"||typeof ao!="string"||ao===""){R.push(yt("style"));var Us=null,qu=null,Rs;for(Rs in Y)if(Se.call(Y,Rs)){var il=Y[Rs];if(il!=null)switch(Rs){case"children":Us=il;break;case"dangerouslySetInnerHTML":qu=il;break;default:dt(R,Rs,il)}}R.push(">");var al=Array.isArray(Us)?2>Us.length?Us[0]:null:Us;typeof al!="function"&&typeof al!="symbol"&&al!==null&&al!==void 0&&R.push((""+al).replace(re,we)),Pe(R,qu,Us),R.push(Cn("style"));var Qu=null}else{var vs=ae.styles.get(rs);if(($.styleResources.hasOwnProperty(ao)?$.styleResources[ao]:void 0)!==null){$.styleResources[ao]=null,vs||(vs={precedence:Ie(rs),rules:[],hrefs:[],sheets:new Map},ae.styles.set(rs,vs));var hf=ae.nonce.style;if(!hf||hf===jc){vs.hrefs.push(Ie(ao));var Kl=vs.rules,js=null,Eu=null,Ws;for(Ws in Y)if(Se.call(Y,Ws)){var ys=Y[Ws];if(ys!=null)switch(Ws){case"children":js=ys;break;case"dangerouslySetInnerHTML":Eu=ys}}var ol=Array.isArray(js)?2>js.length?js[0]:null:js;typeof ol!="function"&&typeof ol!="symbol"&&ol!==null&&ol!==void 0&&Kl.push((""+ol).replace(re,we)),Pe(Kl,Eu,js)}}vs&&ze&&ze.styles.add(vs),tt&&R.push("<!-- -->"),Qu=void 0}return Qu;case"meta":var ko=vt.tagScope&1,Au=vt.tagScope&4;if(vt.insertionMode===4||ko||Y.itemProp!=null)var Zl=Ve(R,Y,"meta");else tt&&R.push("<!-- -->"),Zl=Au?null:typeof Y.charSet=="string"?Ve(ae.charsetChunks,Y,"meta"):Y.name==="viewport"?Ve(ae.viewportChunks,Y,"meta"):Ve(ae.hoistableChunks,Y,"meta");return Zl;case"listing":case"pre":R.push(yt(P));var Rl=null,z=null,H;for(H in Y)if(Se.call(Y,H)){var Q=Y[H];if(Q!=null)switch(H){case"children":Rl=Q;break;case"dangerouslySetInnerHTML":z=Q;break;default:dt(R,H,Q)}}if(R.push(">"),z!=null){if(Rl!=null)throw Error(n(60));if(typeof z!="object"||!("__html"in z))throw Error(n(61));var le=z.__html;le!=null&&(typeof le=="string"&&0<le.length&&le[0]===`
`?R.push(`
`,le):R.push(""+le))}return typeof Rl=="string"&&Rl[0]===`
`&&R.push(`
`),Rl;case"img":var de=vt.tagScope&3,He=Y.src,$e=Y.srcSet;if(!(Y.loading==="lazy"||!He&&!$e||typeof He!="string"&&He!=null||typeof $e!="string"&&$e!=null||Y.fetchPriority==="low"||de)&&(typeof He!="string"||He[4]!==":"||He[0]!=="d"&&He[0]!=="D"||He[1]!=="a"&&He[1]!=="A"||He[2]!=="t"&&He[2]!=="T"||He[3]!=="a"&&He[3]!=="A")&&(typeof $e!="string"||$e[4]!==":"||$e[0]!=="d"&&$e[0]!=="D"||$e[1]!=="a"&&$e[1]!=="A"||$e[2]!=="t"&&$e[2]!=="T"||$e[3]!=="a"&&$e[3]!=="A")){ze!==null&&vt.tagScope&64&&(ze.suspenseyImages=!0);var Ot=typeof Y.sizes=="string"?Y.sizes:void 0,ht=$e?$e+`
`+(Ot||""):He,Nt=ae.preloads.images,qt=Nt.get(ht);if(qt)(Y.fetchPriority==="high"||10>ae.highImagePreloads.size)&&(Nt.delete(ht),ae.highImagePreloads.add(qt));else if(!$.imageResources.hasOwnProperty(ht)){$.imageResources[ht]=Fe;var on=Y.crossOrigin,kn=typeof on=="string"?on==="use-credentials"?on:"":void 0,_n=ae.headers,lr;_n&&0<_n.remainingCapacity&&typeof Y.srcSet!="string"&&(Y.fetchPriority==="high"||500>_n.highImagePreloads.length)&&(lr=mn(He,"image",{imageSrcSet:Y.srcSet,imageSizes:Y.sizes,crossOrigin:kn,integrity:Y.integrity,nonce:Y.nonce,type:Y.type,fetchPriority:Y.fetchPriority,referrerPolicy:Y.refererPolicy}),0<=(_n.remainingCapacity-=lr.length+2))?(ae.resets.image[ht]=Fe,_n.highImagePreloads&&(_n.highImagePreloads+=", "),_n.highImagePreloads+=lr):(qt=[],Ze(qt,{rel:"preload",as:"image",href:$e?void 0:He,imageSrcSet:$e,imageSizes:Ot,crossOrigin:kn,integrity:Y.integrity,type:Y.type,fetchPriority:Y.fetchPriority,referrerPolicy:Y.referrerPolicy}),Y.fetchPriority==="high"||10>ae.highImagePreloads.size?ae.highImagePreloads.add(qt):(ae.bulkPreloads.add(qt),Nt.set(ht,qt)))}}return Ve(R,Y,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Ve(R,Y,P);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>vt.insertionMode){var ti=De||ae.preamble;if(ti.headChunks)throw Error(n(545,"`<head>`"));De!==null&&R.push("<!--head-->"),ti.headChunks=[];var Wr=Ct(ti.headChunks,Y,"head")}else Wr=Ye(R,Y,"head");return Wr;case"body":if(2>vt.insertionMode){var qn=De||ae.preamble;if(qn.bodyChunks)throw Error(n(545,"`<body>`"));De!==null&&R.push("<!--body-->"),qn.bodyChunks=[];var cr=Ct(qn.bodyChunks,Y,"body")}else cr=Ye(R,Y,"body");return cr;case"html":if(vt.insertionMode===0){var mi=De||ae.preamble;if(mi.htmlChunks)throw Error(n(545,"`<html>`"));De!==null&&R.push("<!--html-->"),mi.htmlChunks=[""];var $a=Ct(mi.htmlChunks,Y,"html")}else $a=Ye(R,Y,"html");return $a;default:if(P.indexOf("-")!==-1){R.push(yt(P));var jo=null,Ar=null,mo;for(mo in Y)if(Se.call(Y,mo)){var na=Y[mo];if(na!=null){var Na=mo;switch(mo){case"children":jo=na;break;case"dangerouslySetInnerHTML":Ar=na;break;case"style":zt(R,na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Na="class";default:if(mt(mo)&&typeof na!="function"&&typeof na!="symbol"&&na!==!1){if(na===!0)na="";else if(typeof na=="object")continue;R.push(" ",Na,'="',Ie(na),'"')}}}}return R.push(">"),Pe(R,Ar,jo),jo}}return Ye(R,Y,P)}var pn=new Map;function Cn(R){var P=pn.get(R);return P===void 0&&(P="</"+R+">",pn.set(R,P)),P}function vn(R,P){R=R.preamble,R.htmlChunks===null&&P.htmlChunks&&(R.htmlChunks=P.htmlChunks),R.headChunks===null&&P.headChunks&&(R.headChunks=P.headChunks),R.bodyChunks===null&&P.bodyChunks&&(R.bodyChunks=P.bodyChunks)}function $n(R,P){P=P.bootstrapChunks;for(var Y=0;Y<P.length-1;Y++)R.push(P[Y]);return Y<P.length?(Y=P[Y],P.length=0,R.push(Y)):!0}function Yn(R,P,Y){if(R.push('<!--$?--><template id="'),Y===null)throw Error(n(395));return R.push(P.boundaryPrefix),P=Y.toString(16),R.push(P),R.push('"></template>')}function er(R,P,Y,$){switch(Y.insertionMode){case 0:case 1:case 3:case 2:return R.push('<div hidden id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 4:return R.push('<svg aria-hidden="true" style="display:none" id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 5:return R.push('<math aria-hidden="true" style="display:none" id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 6:return R.push('<table hidden id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 7:return R.push('<table hidden><tbody id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 8:return R.push('<table hidden><tr id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');case 9:return R.push('<table hidden><colgroup id="'),R.push(P.segmentPrefix),P=$.toString(16),R.push(P),R.push('">');default:throw Error(n(397))}}function Hn(R,P){switch(P.insertionMode){case 0:case 1:case 3:case 2:return R.push("</div>");case 4:return R.push("</svg>");case 5:return R.push("</math>");case 6:return R.push("</table>");case 7:return R.push("</tbody></table>");case 8:return R.push("</tr></table>");case 9:return R.push("</colgroup></table>");default:throw Error(n(397))}}var xr=/[<\u2028\u2029]/g;function Br(R){return JSON.stringify(R).replace(xr,function(P){switch(P){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var mr=/[&><\u2028\u2029]/g;function Mi(R){return JSON.stringify(R).replace(mr,function(P){switch(P){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Jn=!1,Fr=!0;function si(R){var P=R.rules,Y=R.hrefs,$=0;if(Y.length){for(this.push(ct.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(R.precedence),this.push('" data-href="');$<Y.length-1;$++)this.push(Y[$]),this.push(" ");for(this.push(Y[$]),this.push('">'),$=0;$<P.length;$++)this.push(P[$]);Fr=this.push("</style>"),Jn=!0,P.length=0,Y.length=0}}function Yr(R){return R.state!==2?Jn=!0:!1}function vi(R,P,Y){return Jn=!1,Fr=!0,ct=Y,P.styles.forEach(si,R),ct=null,P.stylesheets.forEach(Yr),Jn&&(Y.stylesToHoist=!0),Fr}function Sn(R){for(var P=0;P<R.length;P++)this.push(R[P]);R.length=0}var vr=[];function Pr(R){Ze(vr,R.props);for(var P=0;P<vr.length;P++)this.push(vr[P]);vr.length=0,R.state=2}function ar(R){var P=0<R.sheets.size;R.sheets.forEach(Pr,this),R.sheets.clear();var Y=R.rules,$=R.hrefs;if(!P||$.length){if(this.push(ct.startInlineStyle),this.push(' data-precedence="'),this.push(R.precedence),R=0,$.length){for(this.push('" data-href="');R<$.length-1;R++)this.push($[R]),this.push(" ");this.push($[R])}for(this.push('">'),R=0;R<Y.length;R++)this.push(Y[R]);this.push("</style>"),Y.length=0,$.length=0}}function fi(R){if(R.state===0){R.state=1;var P=R.props;for(Ze(vr,{rel:"preload",as:"style",href:R.props.href,crossOrigin:P.crossOrigin,fetchPriority:P.fetchPriority,integrity:P.integrity,media:P.media,hrefLang:P.hrefLang,referrerPolicy:P.referrerPolicy}),R=0;R<vr.length;R++)this.push(vr[R]);vr.length=0}}function yi(R){R.sheets.forEach(fi,this),R.sheets.clear()}function xi(R,P){(P.instructions&32)===0&&(P.instructions|=32,R.push(' id="',Ie("_"+P.idPrefix+"R_"),'"'))}function Tr(R,P){R.push("[");var Y="[";P.stylesheets.forEach(function($){if($.state!==2)if($.state===3)R.push(Y),$=Mi(""+$.props.href),R.push($),R.push("]"),Y=",[";else{R.push(Y);var ae=$.props["data-precedence"],De=$.props,ze=ce(""+$.props.href);ze=Mi(ze),R.push(ze),ae=""+ae,R.push(","),ae=Mi(ae),R.push(ae);for(var vt in De)if(Se.call(De,vt)&&(ae=De[vt],ae!=null))switch(vt){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:zr(R,vt,ae)}R.push("]"),Y=",[",$.state=3}}),R.push("]")}function zr(R,P,Y){var $=P.toLowerCase();switch(typeof Y){case"function":case"symbol":return}switch(P){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":$="class",P=""+Y;break;case"hidden":if(Y===!1)return;P="";break;case"src":case"href":Y=ce(Y),P=""+Y;break;default:if(2<P.length&&(P[0]==="o"||P[0]==="O")&&(P[1]==="n"||P[1]==="N")||!mt(P))return;P=""+Y}R.push(","),$=Mi($),R.push($),R.push(","),$=Mi(P),R.push($)}function gr(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function aa(R){var P=jn||null;if(P){var Y=P.resumableState,$=P.renderState;if(typeof R=="string"&&R){if(!Y.dnsResources.hasOwnProperty(R)){Y.dnsResources[R]=null,Y=$.headers;var ae,De;(De=Y&&0<Y.remainingCapacity)&&(De=(ae="<"+(""+R).replace(Ki,Bo)+">; rel=dns-prefetch",0<=(Y.remainingCapacity-=ae.length+2))),De?($.resets.dns[R]=null,Y.preconnects&&(Y.preconnects+=", "),Y.preconnects+=ae):(ae=[],Ze(ae,{href:R,rel:"dns-prefetch"}),$.preconnects.add(ae))}Le(P)}}else Te.D(R)}function Hr(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,ae=Y.renderState;if(typeof R=="string"&&R){var De=P==="use-credentials"?"credentials":typeof P=="string"?"anonymous":"default";if(!$.connectResources[De].hasOwnProperty(R)){$.connectResources[De][R]=null,$=ae.headers;var ze,vt;if(vt=$&&0<$.remainingCapacity){if(vt="<"+(""+R).replace(Ki,Bo)+">; rel=preconnect",typeof P=="string"){var tt=(""+P).replace(br,Xn);vt+='; crossorigin="'+tt+'"'}vt=(ze=vt,0<=($.remainingCapacity-=ze.length+2))}vt?(ae.resets.connect[De][R]=null,$.preconnects&&($.preconnects+=", "),$.preconnects+=ze):(De=[],Ze(De,{rel:"preconnect",href:R,crossOrigin:P}),ae.preconnects.add(De))}Le(Y)}}else Te.C(R,P)}function or(R,P,Y){var $=jn||null;if($){var ae=$.resumableState,De=$.renderState;if(P&&R){switch(P){case"image":if(Y)var ze=Y.imageSrcSet,vt=Y.imageSizes,tt=Y.fetchPriority;var xt=ze?ze+`
`+(vt||""):R;if(ae.imageResources.hasOwnProperty(xt))return;ae.imageResources[xt]=Fe,ae=De.headers;var Rt;ae&&0<ae.remainingCapacity&&typeof ze!="string"&&tt==="high"&&(Rt=mn(R,P,Y),0<=(ae.remainingCapacity-=Rt.length+2))?(De.resets.image[xt]=Fe,ae.highImagePreloads&&(ae.highImagePreloads+=", "),ae.highImagePreloads+=Rt):(ae=[],Ze(ae,ve({rel:"preload",href:ze?void 0:R,as:P},Y)),tt==="high"?De.highImagePreloads.add(ae):(De.bulkPreloads.add(ae),De.preloads.images.set(xt,ae)));break;case"style":if(ae.styleResources.hasOwnProperty(R))return;ze=[],Ze(ze,ve({rel:"preload",href:R,as:P},Y)),ae.styleResources[R]=!Y||typeof Y.crossOrigin!="string"&&typeof Y.integrity!="string"?Fe:[Y.crossOrigin,Y.integrity],De.preloads.stylesheets.set(R,ze),De.bulkPreloads.add(ze);break;case"script":if(ae.scriptResources.hasOwnProperty(R))return;ze=[],De.preloads.scripts.set(R,ze),De.bulkPreloads.add(ze),Ze(ze,ve({rel:"preload",href:R,as:P},Y)),ae.scriptResources[R]=!Y||typeof Y.crossOrigin!="string"&&typeof Y.integrity!="string"?Fe:[Y.crossOrigin,Y.integrity];break;default:if(ae.unknownResources.hasOwnProperty(P)){if(ze=ae.unknownResources[P],ze.hasOwnProperty(R))return}else ze={},ae.unknownResources[P]=ze;ze[R]=Fe,(ae=De.headers)&&0<ae.remainingCapacity&&P==="font"&&(xt=mn(R,P,Y),0<=(ae.remainingCapacity-=xt.length+2))?(De.resets.font[R]=Fe,ae.fontPreloads&&(ae.fontPreloads+=", "),ae.fontPreloads+=xt):(ae=[],R=ve({rel:"preload",href:R,as:P},Y),Ze(ae,R),P)==="font"?De.fontPreloads.add(ae):De.bulkPreloads.add(ae)}Le($)}}else Te.L(R,P,Y)}function co(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,ae=Y.renderState;if(R){var De=P&&typeof P.as=="string"?P.as:"script";switch(De){case"script":if($.moduleScriptResources.hasOwnProperty(R))return;De=[],$.moduleScriptResources[R]=!P||typeof P.crossOrigin!="string"&&typeof P.integrity!="string"?Fe:[P.crossOrigin,P.integrity],ae.preloads.moduleScripts.set(R,De);break;default:if($.moduleUnknownResources.hasOwnProperty(De)){var ze=$.unknownResources[De];if(ze.hasOwnProperty(R))return}else ze={},$.moduleUnknownResources[De]=ze;De=[],ze[R]=Fe}Ze(De,ve({rel:"modulepreload",href:R},P)),ae.bulkPreloads.add(De),Le(Y)}}else Te.m(R,P)}function bi(R,P,Y){var $=jn||null;if($){var ae=$.resumableState,De=$.renderState;if(R){P=P||"default";var ze=De.styles.get(P),vt=ae.styleResources.hasOwnProperty(R)?ae.styleResources[R]:void 0;vt!==null&&(ae.styleResources[R]=null,ze||(ze={precedence:Ie(P),rules:[],hrefs:[],sheets:new Map},De.styles.set(P,ze)),P={state:0,props:ve({rel:"stylesheet",href:R,"data-precedence":P},Y)},vt&&(vt.length===2&&wi(P.props,vt),(De=De.preloads.stylesheets.get(R))&&0<De.length?De.length=0:P.state=1),ze.sheets.set(R,P),Le($))}}else Te.S(R,P,Y)}function Ri(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,ae=Y.renderState;if(R){var De=$.scriptResources.hasOwnProperty(R)?$.scriptResources[R]:void 0;De!==null&&($.scriptResources[R]=null,P=ve({src:R,async:!0},P),De&&(De.length===2&&wi(P,De),R=ae.preloads.scripts.get(R))&&(R.length=0),R=[],ae.scripts.add(R),We(R,P),Le(Y))}}else Te.X(R,P)}function hn(R,P){var Y=jn||null;if(Y){var $=Y.resumableState,ae=Y.renderState;if(R){var De=$.moduleScriptResources.hasOwnProperty(R)?$.moduleScriptResources[R]:void 0;De!==null&&($.moduleScriptResources[R]=null,P=ve({src:R,type:"module",async:!0},P),De&&(De.length===2&&wi(P,De),R=ae.preloads.moduleScripts.get(R))&&(R.length=0),R=[],ae.scripts.add(R),We(R,P),Le(Y))}}else Te.M(R,P)}function wi(R,P){R.crossOrigin==null&&(R.crossOrigin=P[0]),R.integrity==null&&(R.integrity=P[1])}function mn(R,P,Y){R=(""+R).replace(Ki,Bo),P=(""+P).replace(br,Xn),P="<"+R+'>; rel=preload; as="'+P+'"';for(var $ in Y)Se.call(Y,$)&&(R=Y[$],typeof R=="string"&&(P+="; "+$.toLowerCase()+'="'+(""+R).replace(br,Xn)+'"'));return P}var Ki=/[<>\r\n]/g;function Bo(R){switch(R){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var br=/["';,\r\n]/g;function Xn(R){switch(R){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function fr(R){this.styles.add(R)}function Or(R){this.stylesheets.add(R)}function fo(R,P){P.styles.forEach(fr,R),P.stylesheets.forEach(Or,R),P.suspenseyImages&&(R.suspenseyImages=!0)}function cn(R,P){var Y=R.idPrefix,$=[],ae=R.bootstrapScriptContent,De=R.bootstrapScripts,ze=R.bootstrapModules;ae!==void 0&&($.push("<script"),xi($,R),$.push(">",(""+ae).replace(At,rt),"<\/script>")),ae=Y+"P:";var vt=Y+"S:";Y+="B:";var tt=new Set,xt=new Set,Rt=new Set,Et=new Map,Vt=new Set,dn=new Set,Nn=new Set,In={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(De!==void 0)for(var rr=0;rr<De.length;rr++){var Rn=De[rr],sr,_r=void 0,ea=void 0,wr={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof Rn=="string"?wr.href=sr=Rn:(wr.href=sr=Rn.src,wr.integrity=ea=typeof Rn.integrity=="string"?Rn.integrity:void 0,wr.crossOrigin=_r=typeof Rn=="string"||Rn.crossOrigin==null?void 0:Rn.crossOrigin==="use-credentials"?"use-credentials":""),Rn=R;var jr=sr;Rn.scriptResources[jr]=null,Rn.moduleScriptResources[jr]=null,Rn=[],Ze(Rn,wr),Vt.add(Rn),$.push('<script src="',Ie(sr),'"'),typeof ea=="string"&&$.push(' integrity="',Ie(ea),'"'),typeof _r=="string"&&$.push(' crossorigin="',Ie(_r),'"'),xi($,R),$.push(' async=""><\/script>')}if(ze!==void 0)for(De=0;De<ze.length;De++)wr=ze[De],_r=sr=void 0,ea={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof wr=="string"?ea.href=rr=wr:(ea.href=rr=wr.src,ea.integrity=_r=typeof wr.integrity=="string"?wr.integrity:void 0,ea.crossOrigin=sr=typeof wr=="string"||wr.crossOrigin==null?void 0:wr.crossOrigin==="use-credentials"?"use-credentials":""),wr=R,Rn=rr,wr.scriptResources[Rn]=null,wr.moduleScriptResources[Rn]=null,wr=[],Ze(wr,ea),Vt.add(wr),$.push('<script type="module" src="',Ie(rr),'"'),typeof _r=="string"&&$.push(' integrity="',Ie(_r),'"'),typeof sr=="string"&&$.push(' crossorigin="',Ie(sr),'"'),xi($,R),$.push(' async=""><\/script>');return{placeholderPrefix:ae,segmentPrefix:vt,boundaryPrefix:Y,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:$,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:tt,fontPreloads:xt,highImagePreloads:Rt,styles:Et,bootstrapScripts:Vt,scripts:dn,bulkPreloads:Nn,preloads:In,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:P}}function On(R,P,Y,$){return Y.generateStaticMarkup?(R.push(Ie(P)),!1):(P===""?R=$:($&&R.push("<!-- -->"),R.push(Ie(P)),R=!0),R)}function Zi(R,P,Y,$){P.generateStaticMarkup||Y&&$&&R.push("<!-- -->")}var hl=Function.prototype.bind,Ai=Symbol.for("react.client.reference");function ka(R){if(R==null)return null;if(typeof R=="function")return R.$$typeof===Ai?null:R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case c:return"Fragment";case d:return"Profiler";case y:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList";case S:return"Activity"}if(typeof R=="object")switch(R.$$typeof){case o:return"Portal";case u:return R.displayName||"Context";case a:return(R._context.displayName||"Context")+".Consumer";case v:var P=R.render;return R=R.displayName,R||(R=P.displayName||P.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case m:return P=R.displayName||null,P!==null?P:ka(R.type)||"Memo";case C:P=R._payload,R=R._init;try{return ka(R(P))}catch{}}return null}var pr={},Zn=null;function Ir(R,P){if(R!==P){R.context._currentValue2=R.parentValue,R=R.parent;var Y=P.parent;if(R===null){if(Y!==null)throw Error(n(401))}else{if(Y===null)throw Error(n(401));Ir(R,Y)}P.context._currentValue2=P.value}}function Ti(R){R.context._currentValue2=R.parentValue,R=R.parent,R!==null&&Ti(R)}function Ht(R){var P=R.parent;P!==null&&Ht(P),R.context._currentValue2=R.value}function Qe(R,P){if(R.context._currentValue2=R.parentValue,R=R.parent,R===null)throw Error(n(402));R.depth===P.depth?Ir(R,P):Qe(R,P)}function Gn(R,P){var Y=P.parent;if(Y===null)throw Error(n(402));R.depth===Y.depth?Ir(R,Y):Gn(R,Y),P.context._currentValue2=P.value}function Di(R){var P=Zn;P!==R&&(P===null?Ht(R):R===null?Ti(P):P.depth===R.depth?Ir(P,R):P.depth>R.depth?Qe(P,R):Gn(P,R),Zn=R)}var pa={enqueueSetState:function(R,P){R=R._reactInternals,R.queue!==null&&R.queue.push(P)},enqueueReplaceState:function(R,P){R=R._reactInternals,R.replace=!0,R.queue=[P]},enqueueForceUpdate:function(){}},nt={id:1,overflow:""};function Gt(R,P,Y){var $=R.id;R=R.overflow;var ae=32-It($)-1;$&=~(1<<ae),Y+=1;var De=32-It(P)+ae;if(30<De){var ze=ae-ae%5;return De=($&(1<<ze)-1).toString(32),$>>=ze,ae-=ze,{id:1<<32-It(P)+ae|Y<<ae|$,overflow:De+R}}return{id:1<<De|Y<<ae|$,overflow:R}}var It=Math.clz32?Math.clz32:hr,nn=Math.log,xn=Math.LN2;function hr(R){return R>>>=0,R===0?32:31-(nn(R)/xn|0)|0}function En(){}var Dr=Error(n(460));function $r(R,P,Y){switch(Y=R[Y],Y===void 0?R.push(P):Y!==P&&(P.then(En,En),P=Y),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(En,En):(R=P,R.status="pending",R.then(function($){if(P.status==="pending"){var ae=P;ae.status="fulfilled",ae.value=$}},function($){if(P.status==="pending"){var ae=P;ae.status="rejected",ae.reason=$}})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}throw Rr=P,Dr}}var Rr=null;function ei(){if(Rr===null)throw Error(n(459));var R=Rr;return Rr=null,R}function Ur(R,P){return R===P&&(R!==0||1/R===1/P)||R!==R&&P!==P}var Jr=typeof Object.is=="function"?Object.is:Ur,kr=null,Vn=null,xa=null,tr=null,Kr=null,hi=null,Hi=!1,wo=!1,Fo=0,As=0,Co=-1,ho=0,io=null,us=null,qi=0;function _a(){if(kr===null)throw Error(n(321));return kr}function Ea(){if(0<qi)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Ts(){return hi===null?Kr===null?(Hi=!1,Kr=hi=Ea()):(Hi=!0,hi=Kr):hi.next===null?(Hi=!1,hi=hi.next=Ea()):(Hi=!0,hi=hi.next),hi}function Ds(){var R=io;return io=null,R}function Ma(){tr=xa=Vn=kr=null,wo=!1,Kr=null,qi=0,hi=us=null}function vu(R,P){return typeof P=="function"?P(R):P}function Ul(R,P,Y){if(kr=_a(),hi=Ts(),Hi){var $=hi.queue;if(P=$.dispatch,us!==null&&(Y=us.get($),Y!==void 0)){us.delete($),$=hi.memoizedState;do $=R($,Y.action),Y=Y.next;while(Y!==null);return hi.memoizedState=$,[$,P]}return[hi.memoizedState,P]}return R=R===vu?typeof P=="function"?P():P:Y!==void 0?Y(P):P,hi.memoizedState=R,R=hi.queue={last:null,dispatch:null},R=R.dispatch=gi.bind(null,kr,R),[hi.memoizedState,R]}function kl(R,P){if(kr=_a(),hi=Ts(),P=P===void 0?null:P,hi!==null){var Y=hi.memoizedState;if(Y!==null&&P!==null){var $=Y[1];e:if($===null)$=!1;else{for(var ae=0;ae<$.length&&ae<P.length;ae++)if(!Jr(P[ae],$[ae])){$=!1;break e}$=!0}if($)return Y[0]}}return R=R(),hi.memoizedState=[R,P],R}function gi(R,P,Y){if(25<=qi)throw Error(n(301));if(R===kr)if(wo=!0,R={action:Y,next:null},us===null&&(us=new Map),Y=us.get(P),Y===void 0)us.set(P,R);else{for(P=Y;P.next!==null;)P=P.next;P.next=R}}function ks(){throw Error(n(440))}function _l(){throw Error(n(394))}function Fa(){throw Error(n(479))}function _s(R,P,Y){_a();var $=As++,ae=xa;if(typeof R.$$FORM_ACTION=="function"){var De=null,ze=tr;ae=ae.formState;var vt=R.$$IS_SIGNATURE_EQUAL;if(ae!==null&&typeof vt=="function"){var tt=ae[1];vt.call(R,ae[2],ae[3])&&(De=Y!==void 0?"p"+Y:"k"+ne(JSON.stringify([ze,null,$]),0),tt===De&&(Co=$,P=ae[0]))}var xt=R.bind(null,P);return R=function(Et){xt(Et)},typeof xt.$$FORM_ACTION=="function"&&(R.$$FORM_ACTION=function(Et){Et=xt.$$FORM_ACTION(Et),Y!==void 0&&(Y+="",Et.action=Y);var Vt=Et.data;return Vt&&(De===null&&(De=Y!==void 0?"p"+Y:"k"+ne(JSON.stringify([ze,null,$]),0)),Vt.append("$ACTION_KEY",De)),Et}),[P,R,!1]}var Rt=R.bind(null,P);return[P,function(Et){Rt(Et)},!1]}function Qt(R){var P=ho;return ho+=1,io===null&&(io=[]),$r(io,R,P)}function Nr(){throw Error(n(393))}var Va={readContext:function(R){return R._currentValue2},use:function(R){if(R!==null&&typeof R=="object"){if(typeof R.then=="function")return Qt(R);if(R.$$typeof===u)return R._currentValue2}throw Error(n(438,String(R)))},useContext:function(R){return _a(),R._currentValue2},useMemo:kl,useReducer:Ul,useRef:function(R){kr=_a(),hi=Ts();var P=hi.memoizedState;return P===null?(R={current:R},hi.memoizedState=R):P},useState:function(R){return Ul(vu,R)},useInsertionEffect:En,useLayoutEffect:En,useCallback:function(R,P){return kl(function(){return R},P)},useImperativeHandle:En,useEffect:En,useDebugValue:En,useDeferredValue:function(R,P){return _a(),P!==void 0?P:R},useTransition:function(){return _a(),[!1,_l]},useId:function(){var R=Vn.treeContext,P=R.overflow;R=R.id,R=(R&~(1<<32-It(R)-1)).toString(32)+P;var Y=cs;if(Y===null)throw Error(n(404));return P=Fo++,R="_"+Y.idPrefix+"R_"+R,0<P&&(R+="H"+P.toString(32)),R+"_"},useSyncExternalStore:function(R,P,Y){if(Y===void 0)throw Error(n(407));return Y()},useOptimistic:function(R){return _a(),[R,Fa]},useActionState:_s,useFormState:_s,useHostTransitionStatus:function(){return _a(),be},useMemoCache:function(R){for(var P=Array(R),Y=0;Y<R;Y++)P[Y]=N;return P},useCacheRefresh:function(){return Nr},useEffectEvent:function(){return ks}},cs=null,yu={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}},jl,nu;function Zs(R){if(jl===void 0)try{throw Error()}catch(Y){var P=Y.stack.trim().match(/\n( *(at )?)/);jl=P&&P[1]||"",nu=-1<Y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jl+R+nu}var Oa=!1;function Qi(R,P){if(!R||Oa)return"";Oa=!0;var Y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var $={DetermineComponentFrameRoot:function(){try{if(P){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(dn){var Vt=dn}Reflect.construct(R,[],Et)}else{try{Et.call()}catch(dn){Vt=dn}R.call(Et.prototype)}}else{try{throw Error()}catch(dn){Vt=dn}(Et=R())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(dn){if(dn&&Vt&&typeof dn.stack=="string")return[dn.stack,Vt.stack]}return[null,null]}};$.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ae=Object.getOwnPropertyDescriptor($.DetermineComponentFrameRoot,"name");ae&&ae.configurable&&Object.defineProperty($.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var De=$.DetermineComponentFrameRoot(),ze=De[0],vt=De[1];if(ze&&vt){var tt=ze.split(`
`),xt=vt.split(`
`);for(ae=$=0;$<tt.length&&!tt[$].includes("DetermineComponentFrameRoot");)$++;for(;ae<xt.length&&!xt[ae].includes("DetermineComponentFrameRoot");)ae++;if($===tt.length||ae===xt.length)for($=tt.length-1,ae=xt.length-1;1<=$&&0<=ae&&tt[$]!==xt[ae];)ae--;for(;1<=$&&0<=ae;$--,ae--)if(tt[$]!==xt[ae]){if($!==1||ae!==1)do if($--,ae--,0>ae||tt[$]!==xt[ae]){var Rt=`
`+tt[$].replace(" at new "," at ");return R.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",R.displayName)),Rt}while(1<=$&&0<=ae);break}}}finally{Oa=!1,Error.prepareStackTrace=Y}return(Y=R?R.displayName||R.name:"")?Zs(Y):""}function Fs(R){if(typeof R=="string")return Zs(R);if(typeof R=="function")return R.prototype&&R.prototype.isReactComponent?Qi(R,!0):Qi(R,!1);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return Qi(R.render,!1);case m:return Qi(R.type,!1);case C:var P=R,Y=P._payload;P=P._init;try{R=P(Y)}catch{return Zs("Lazy")}return Fs(R)}if(typeof R.name=="string"){e:{Y=R.name,P=R.env;var $=R.debugLocation;if($!=null&&(R=Error.prepareStackTrace,Error.prepareStackTrace=void 0,$=$.stack,Error.prepareStackTrace=R,$.startsWith(`Error: react-stack-top-frame
`)&&($=$.slice(29)),R=$.indexOf(`
`),R!==-1&&($=$.slice(R+1)),R=$.indexOf("react_stack_bottom_frame"),R!==-1&&(R=$.lastIndexOf(`
`,R)),R=R!==-1?$=$.slice(0,R):"",$=R.lastIndexOf(`
`),R=$===-1?R:R.slice($+1),R.indexOf(Y)!==-1)){Y=`
`+R;break e}Y=Zs(Y+(P?" ["+P+"]":""))}return Y}}switch(R){case g:return Zs("SuspenseList");case f:return Zs("Suspense")}return""}function Ni(R,P){return(500<P.byteSize||!1)&&P.contentPreamble===null}function dl(R){if(typeof R=="object"&&R!==null&&typeof R.environmentName=="string"){var P=R.environmentName;R=[R].slice(0),typeof R[0]=="string"?R.splice(0,1,"[%s] "+R[0]," "+P+" "):R.splice(0,0,"[%s]"," "+P+" "),R.unshift(console),P=hl.apply(console.error,R),P()}else console.error(R);return null}function gl(R,P,Y,$,ae,De,ze,vt,tt,xt,Rt){var Et=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=R,this.renderState=P,this.rootFormatContext=Y,this.progressiveChunkSize=$===void 0?12800:$,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=Et,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=ae===void 0?dl:ae,this.onPostpone=xt===void 0?En:xt,this.onAllReady=De===void 0?En:De,this.onShellReady=ze===void 0?En:ze,this.onShellError=vt===void 0?En:vt,this.onFatalError=tt===void 0?En:tt,this.formState=Rt===void 0?null:Rt}function ki(R,P,Y,$,ae,De,ze,vt,tt,xt,Rt,Et){return P=new gl(P,Y,$,ae,De,ze,vt,tt,xt,Rt,Et),Y=Po(P,0,null,$,!1,!1),Y.parentFlushed=!0,R=fs(P,null,R,-1,null,Y,null,null,P.abortableTasks,null,$,null,nt,null,null),oi(R),P.pingedTasks.push(R),P}var jn=null;function Vo(R,P){R.pingedTasks.push(P),R.pingedTasks.length===1&&(R.flushScheduled=R.destination!==null,A(R))}function di(R,P,Y,$,ae){return Y={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:P,completedSegments:[],byteSize:0,fallbackAbortableTasks:Y,errorDigest:null,contentState:gr(),fallbackState:gr(),contentPreamble:$,fallbackPreamble:ae,trackedContentKeyPath:null,trackedFallbackNode:null},P!==null&&(P.pendingTasks++,$=P.boundaries,$!==null&&(R.allPendingTasks++,Y.pendingTasks++,$.push(Y)),R=P.inheritedHoistables,R!==null&&fo(Y.contentState,R)),Y}function fs(R,P,Y,$,ae,De,ze,vt,tt,xt,Rt,Et,Vt,dn,Nn){R.allPendingTasks++,ae===null?R.pendingRootTasks++:ae.pendingTasks++,dn!==null&&dn.pendingTasks++;var In={replay:null,node:Y,childIndex:$,ping:function(){return Vo(R,In)},blockedBoundary:ae,blockedSegment:De,blockedPreamble:ze,hoistableState:vt,abortSet:tt,keyPath:xt,formatContext:Rt,context:Et,treeContext:Vt,row:dn,componentStack:Nn,thenableState:P};return tt.add(In),In}function qs(R,P,Y,$,ae,De,ze,vt,tt,xt,Rt,Et,Vt,dn){R.allPendingTasks++,De===null?R.pendingRootTasks++:De.pendingTasks++,Vt!==null&&Vt.pendingTasks++,Y.pendingTasks++;var Nn={replay:Y,node:$,childIndex:ae,ping:function(){return Vo(R,Nn)},blockedBoundary:De,blockedSegment:null,blockedPreamble:null,hoistableState:ze,abortSet:vt,keyPath:tt,formatContext:xt,context:Rt,treeContext:Et,row:Vt,componentStack:dn,thenableState:P};return vt.add(Nn),Nn}function Po(R,P,Y,$,ae,De){return{status:0,parentFlushed:!1,id:-1,index:P,chunks:[],children:[],preambleChildren:[],parentFormatContext:$,boundary:Y,lastPushedText:ae,textEmbedded:De}}function oi(R){var P=R.node;typeof P=="object"&&P!==null&&P.$$typeof===r&&(R.componentStack={parent:R.componentStack,type:P.type})}function pl(R){return R===null?null:{parent:R.parent,type:"Suspense Fallback"}}function Ps(R){var P={};return R&&Object.defineProperty(P,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var Y="",$=R;do Y+=Fs($.type),$=$.parent;while($);var ae=Y}catch(De){ae=`
Error generating stack: `+De.message+`
`+De.stack}return Object.defineProperty(P,"componentStack",{value:ae}),ae}}),P}function Ji(R,P,Y){if(R=R.onError,P=R(P,Y),P==null||typeof P=="string")return P}function zo(R,P){var Y=R.onShellError,$=R.onFatalError;Y(P),$(P),R.destination!==null?(R.status=14,R.destination.destroy(P)):(R.status=13,R.fatalError=P)}function Li(R,P){Ko(R,P.next,P.hoistables)}function Ko(R,P,Y){for(;P!==null;){Y!==null&&(fo(P.hoistables,Y),P.inheritedHoistables=Y);var $=P.boundaries;if($!==null){P.boundaries=null;for(var ae=0;ae<$.length;ae++){var De=$[ae];Y!==null&&fo(De.contentState,Y),w(R,De,null,null)}}if(P.pendingTasks--,0<P.pendingTasks)break;Y=P.hoistables,P=P.next}}function Zo(R,P){var Y=P.boundaries;if(Y!==null&&P.pendingTasks===Y.length){for(var $=!0,ae=0;ae<Y.length;ae++){var De=Y[ae];if(De.pendingTasks!==1||De.parentFlushed||Ni(R,De)){$=!1;break}}$&&Ko(R,P,P.hoistables)}}function Qs(R){var P={pendingTasks:1,boundaries:null,hoistables:gr(),inheritedHoistables:null,together:!1,next:null};return R!==null&&0<R.pendingTasks&&(P.pendingTasks++,P.boundaries=[],R.next=P),P}function xu(R,P,Y,$,ae){var De=P.keyPath,ze=P.treeContext,vt=P.row;P.keyPath=Y,Y=$.length;var tt=null;if(P.replay!==null){var xt=P.replay.slots;if(xt!==null&&typeof xt=="object")for(var Rt=0;Rt<Y;Rt++){var Et=ae!=="backwards"&&ae!=="unstable_legacy-backwards"?Rt:Y-1-Rt,Vt=$[Et];P.row=tt=Qs(tt),P.treeContext=Gt(ze,Y,Et);var dn=xt[Et];typeof dn=="number"?(Ml(R,P,dn,Vt,Et),delete xt[Et]):Ui(R,P,Vt,Et),--tt.pendingTasks===0&&Li(R,tt)}else for(xt=0;xt<Y;xt++)Rt=ae!=="backwards"&&ae!=="unstable_legacy-backwards"?xt:Y-1-xt,Et=$[Rt],P.row=tt=Qs(tt),P.treeContext=Gt(ze,Y,Rt),Ui(R,P,Et,Rt),--tt.pendingTasks===0&&Li(R,tt)}else if(ae!=="backwards"&&ae!=="unstable_legacy-backwards")for(ae=0;ae<Y;ae++)xt=$[ae],P.row=tt=Qs(tt),P.treeContext=Gt(ze,Y,ae),Ui(R,P,xt,ae),--tt.pendingTasks===0&&Li(R,tt);else{for(ae=P.blockedSegment,xt=ae.children.length,Rt=ae.chunks.length,Et=Y-1;0<=Et;Et--){Vt=$[Et],P.row=tt=Qs(tt),P.treeContext=Gt(ze,Y,Et),dn=Po(R,Rt,null,P.formatContext,Et===0?ae.lastPushedText:!0,!0),ae.children.splice(xt,0,dn),P.blockedSegment=dn;try{Ui(R,P,Vt,Et),Zi(dn.chunks,R.renderState,dn.lastPushedText,dn.textEmbedded),dn.status=1,--tt.pendingTasks===0&&Li(R,tt)}catch(Nn){throw dn.status=R.status===12?3:4,Nn}}P.blockedSegment=ae,ae.lastPushedText=!1}vt!==null&&tt!==null&&0<tt.pendingTasks&&(vt.pendingTasks++,tt.next=vt),P.treeContext=ze,P.row=vt,P.keyPath=De}function ml(R,P,Y,$,ae,De){var ze=P.thenableState;for(P.thenableState=null,kr={},Vn=P,xa=R,tr=Y,As=Fo=0,Co=-1,ho=0,io=ze,R=$(ae,De);wo;)wo=!1,As=Fo=0,Co=-1,ho=0,qi+=1,hi=null,R=$(ae,De);return Ma(),R}function Js(R,P,Y,$,ae,De,ze){var vt=!1;if(De!==0&&R.formState!==null){var tt=P.blockedSegment;if(tt!==null){vt=!0,tt=tt.chunks;for(var xt=0;xt<De;xt++)xt===ze?tt.push("<!--F!-->"):tt.push("<!--F-->")}}De=P.keyPath,P.keyPath=Y,ae?(Y=P.treeContext,P.treeContext=Gt(Y,1,0),Ui(R,P,$,-1),P.treeContext=Y):vt?Ui(R,P,$,-1):Bi(R,P,$,-1),P.keyPath=De}function qo(R,P,Y,$,ae,De){if(typeof $=="function")if($.prototype&&$.prototype.isReactComponent){var ze=ae;if("ref"in ae){ze={};for(var vt in ae)vt!=="ref"&&(ze[vt]=ae[vt])}var tt=$.defaultProps;if(tt){ze===ae&&(ze=ve({},ze,ae));for(var xt in tt)ze[xt]===void 0&&(ze[xt]=tt[xt])}ae=ze,ze=pr,tt=$.contextType,typeof tt=="object"&&tt!==null&&(ze=tt._currentValue2),ze=new $(ae,ze);var Rt=ze.state!==void 0?ze.state:null;if(ze.updater=pa,ze.props=ae,ze.state=Rt,tt={queue:[],replace:!1},ze._reactInternals=tt,De=$.contextType,ze.context=typeof De=="object"&&De!==null?De._currentValue2:pr,De=$.getDerivedStateFromProps,typeof De=="function"&&(De=De(ae,Rt),Rt=De==null?Rt:ve({},Rt,De),ze.state=Rt),typeof $.getDerivedStateFromProps!="function"&&typeof ze.getSnapshotBeforeUpdate!="function"&&(typeof ze.UNSAFE_componentWillMount=="function"||typeof ze.componentWillMount=="function"))if($=ze.state,typeof ze.componentWillMount=="function"&&ze.componentWillMount(),typeof ze.UNSAFE_componentWillMount=="function"&&ze.UNSAFE_componentWillMount(),$!==ze.state&&pa.enqueueReplaceState(ze,ze.state,null),tt.queue!==null&&0<tt.queue.length)if($=tt.queue,De=tt.replace,tt.queue=null,tt.replace=!1,De&&$.length===1)ze.state=$[0];else{for(tt=De?$[0]:ze.state,Rt=!0,De=De?1:0;De<$.length;De++)xt=$[De],xt=typeof xt=="function"?xt.call(ze,tt,ae,void 0):xt,xt!=null&&(Rt?(Rt=!1,tt=ve({},tt,xt)):ve(tt,xt));ze.state=tt}else tt.queue=null;if($=ze.render(),R.status===12)throw null;ae=P.keyPath,P.keyPath=Y,Bi(R,P,$,-1),P.keyPath=ae}else{if($=ml(R,P,Y,$,ae,void 0),R.status===12)throw null;Js(R,P,Y,$,Fo!==0,As,Co)}else if(typeof $=="string")if(ze=P.blockedSegment,ze===null)ze=ae.children,tt=P.formatContext,Rt=P.keyPath,P.formatContext=Wt(tt,$,ae),P.keyPath=Y,Ui(R,P,ze,-1),P.formatContext=tt,P.keyPath=Rt;else{if(Rt=Ft(ze.chunks,$,ae,R.resumableState,R.renderState,P.blockedPreamble,P.hoistableState,P.formatContext,ze.lastPushedText),ze.lastPushedText=!1,tt=P.formatContext,De=P.keyPath,P.keyPath=Y,(P.formatContext=Wt(tt,$,ae)).insertionMode===3){Y=Po(R,0,null,P.formatContext,!1,!1),ze.preambleChildren.push(Y),P.blockedSegment=Y;try{Y.status=6,Ui(R,P,Rt,-1),Zi(Y.chunks,R.renderState,Y.lastPushedText,Y.textEmbedded),Y.status=1}finally{P.blockedSegment=ze}}else Ui(R,P,Rt,-1);P.formatContext=tt,P.keyPath=De;e:{switch(P=ze.chunks,R=R.resumableState,$){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=tt.insertionMode){R.hasBody=!0;break e}break;case"html":if(tt.insertionMode===0){R.hasHtml=!0;break e}break;case"head":if(1>=tt.insertionMode)break e}P.push(Cn($))}ze.lastPushedText=!1}else{switch($){case O:case y:case d:case c:$=P.keyPath,P.keyPath=Y,Bi(R,P,ae.children,-1),P.keyPath=$;return;case S:$=P.blockedSegment,$===null?ae.mode!=="hidden"&&($=P.keyPath,P.keyPath=Y,Ui(R,P,ae.children,-1),P.keyPath=$):ae.mode!=="hidden"&&(R.renderState.generateStaticMarkup||$.chunks.push("<!--&-->"),$.lastPushedText=!1,ze=P.keyPath,P.keyPath=Y,Ui(R,P,ae.children,-1),P.keyPath=ze,R.renderState.generateStaticMarkup||$.chunks.push("<!--/&-->"),$.lastPushedText=!1);return;case g:e:{if($=ae.children,ae=ae.revealOrder,ae==="forwards"||ae==="backwards"||ae==="unstable_legacy-backwards"){if(J($)){xu(R,P,Y,$,ae);break e}if((ze=q($))&&(ze=ze.call($))){if(tt=ze.next(),!tt.done){do tt=ze.next();while(!tt.done);xu(R,P,Y,$,ae)}break e}}ae==="together"?(ae=P.keyPath,ze=P.row,tt=P.row=Qs(null),tt.boundaries=[],tt.together=!0,P.keyPath=Y,Bi(R,P,$,-1),--tt.pendingTasks===0&&Li(R,tt),P.keyPath=ae,P.row=ze,ze!==null&&0<tt.pendingTasks&&(ze.pendingTasks++,tt.next=ze)):(ae=P.keyPath,P.keyPath=Y,Bi(R,P,$,-1),P.keyPath=ae)}return;case U:case D:throw Error(n(343));case f:e:if(P.replay!==null){$=P.keyPath,ze=P.formatContext,tt=P.row,P.keyPath=Y,P.formatContext=Dt(R.resumableState,ze),P.row=null,Y=ae.children;try{Ui(R,P,Y,-1)}finally{P.keyPath=$,P.formatContext=ze,P.row=tt}}else{$=P.keyPath,De=P.formatContext;var Et=P.row,Vt=P.blockedBoundary;xt=P.blockedPreamble;var dn=P.hoistableState;vt=P.blockedSegment;var Nn=ae.fallback;ae=ae.children;var In=new Set,rr=di(R,P.row,In,null,null);R.trackedPostpones!==null&&(rr.trackedContentKeyPath=Y);var Rn=Po(R,vt.chunks.length,rr,P.formatContext,!1,!1);vt.children.push(Rn),vt.lastPushedText=!1;var sr=Po(R,0,null,P.formatContext,!1,!1);if(sr.parentFlushed=!0,R.trackedPostpones!==null){ze=P.componentStack,tt=[Y[0],"Suspense Fallback",Y[2]],Rt=[tt[1],tt[2],[],null],R.trackedPostpones.workingMap.set(tt,Rt),rr.trackedFallbackNode=Rt,P.blockedSegment=Rn,P.blockedPreamble=rr.fallbackPreamble,P.keyPath=tt,P.formatContext=kt(R.resumableState,De),P.componentStack=pl(ze),Rn.status=6;try{Ui(R,P,Nn,-1),Zi(Rn.chunks,R.renderState,Rn.lastPushedText,Rn.textEmbedded),Rn.status=1}catch(_r){throw Rn.status=R.status===12?3:4,_r}finally{P.blockedSegment=vt,P.blockedPreamble=xt,P.keyPath=$,P.formatContext=De}P=fs(R,null,ae,-1,rr,sr,rr.contentPreamble,rr.contentState,P.abortSet,Y,Dt(R.resumableState,P.formatContext),P.context,P.treeContext,null,ze),oi(P),R.pingedTasks.push(P)}else{P.blockedBoundary=rr,P.blockedPreamble=rr.contentPreamble,P.hoistableState=rr.contentState,P.blockedSegment=sr,P.keyPath=Y,P.formatContext=Dt(R.resumableState,De),P.row=null,sr.status=6;try{if(Ui(R,P,ae,-1),Zi(sr.chunks,R.renderState,sr.lastPushedText,sr.textEmbedded),sr.status=1,p(rr,sr),rr.pendingTasks===0&&rr.status===0){if(rr.status=1,!Ni(R,rr)){Et!==null&&--Et.pendingTasks===0&&Li(R,Et),R.pendingRootTasks===0&&P.blockedPreamble&&b(R);break e}}else Et!==null&&Et.together&&Zo(R,Et)}catch(_r){rr.status=4,R.status===12?(sr.status=3,ze=R.fatalError):(sr.status=4,ze=_r),tt=Ps(P.componentStack),Rt=Ji(R,ze,tt),rr.errorDigest=Rt,Qo(R,rr)}finally{P.blockedBoundary=Vt,P.blockedPreamble=xt,P.hoistableState=dn,P.blockedSegment=vt,P.keyPath=$,P.formatContext=De,P.row=Et}P=fs(R,null,Nn,-1,Vt,Rn,rr.fallbackPreamble,rr.fallbackState,In,[Y[0],"Suspense Fallback",Y[2]],kt(R.resumableState,P.formatContext),P.context,P.treeContext,P.row,pl(P.componentStack)),oi(P),R.pingedTasks.push(P)}}return}if(typeof $=="object"&&$!==null)switch($.$$typeof){case v:if("ref"in ae)for(Nn in ze={},ae)Nn!=="ref"&&(ze[Nn]=ae[Nn]);else ze=ae;$=ml(R,P,Y,$.render,ze,De),Js(R,P,Y,$,Fo!==0,As,Co);return;case m:qo(R,P,Y,$.type,ae,De);return;case u:if(tt=ae.children,ze=P.keyPath,ae=ae.value,Rt=$._currentValue2,$._currentValue2=ae,De=Zn,Zn=$={parent:De,depth:De===null?0:De.depth+1,context:$,parentValue:Rt,value:ae},P.context=$,P.keyPath=Y,Bi(R,P,tt,-1),R=Zn,R===null)throw Error(n(403));R.context._currentValue2=R.parentValue,R=Zn=R.parent,P.context=R,P.keyPath=ze;return;case a:ae=ae.children,$=ae($._context._currentValue2),ae=P.keyPath,P.keyPath=Y,Bi(R,P,$,-1),P.keyPath=ae;return;case C:if(ze=$._init,$=ze($._payload),R.status===12)throw null;qo(R,P,Y,$,ae,De);return}throw Error(n(130,$==null?$:typeof $,""))}}function Ml(R,P,Y,$,ae){var De=P.replay,ze=P.blockedBoundary,vt=Po(R,0,null,P.formatContext,!1,!1);vt.id=Y,vt.parentFlushed=!0;try{P.replay=null,P.blockedSegment=vt,Ui(R,P,$,ae),vt.status=1,ze===null?R.completedRootSegment=vt:(p(ze,vt),ze.parentFlushed&&R.partialBoundaries.push(ze))}finally{P.replay=De,P.blockedSegment=null}}function Bi(R,P,Y,$){P.replay!==null&&typeof P.replay.slots=="number"?Ml(R,P,P.replay.slots,Y,$):(P.node=Y,P.childIndex=$,Y=P.componentStack,oi(P),So(R,P),P.componentStack=Y)}function So(R,P){var Y=P.node,$=P.childIndex;if(Y!==null){if(typeof Y=="object"){switch(Y.$$typeof){case r:var ae=Y.type,De=Y.key,ze=Y.props;Y=ze.ref;var vt=Y!==void 0?Y:null,tt=ka(ae),xt=De??($===-1?0:$);if(De=[P.keyPath,tt,xt],P.replay!==null)e:{var Rt=P.replay;for($=Rt.nodes,Y=0;Y<$.length;Y++){var Et=$[Y];if(xt===Et[1]){if(Et.length===4){if(tt!==null&&tt!==Et[0])throw Error(n(490,Et[0],tt));var Vt=Et[2];tt=Et[3],xt=P.node,P.replay={nodes:Vt,slots:tt,pendingTasks:1};try{if(qo(R,P,De,ae,ze,vt),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));P.replay.pendingTasks--}catch(jr){if(typeof jr=="object"&&jr!==null&&(jr===Dr||typeof jr.then=="function"))throw P.node===xt?P.replay=Rt:$.splice(Y,1),jr;P.replay.pendingTasks--,ze=Ps(P.componentStack),De=R,R=P.blockedBoundary,ae=jr,ze=Ji(De,ae,ze),go(De,R,Vt,tt,ae,ze)}P.replay=Rt}else{if(ae!==f)throw Error(n(490,"Suspense",ka(ae)||"Unknown"));t:{Rt=void 0,ae=Et[5],vt=Et[2],tt=Et[3],xt=Et[4]===null?[]:Et[4][2],Et=Et[4]===null?null:Et[4][3];var dn=P.keyPath,Nn=P.formatContext,In=P.row,rr=P.replay,Rn=P.blockedBoundary,sr=P.hoistableState,_r=ze.children,ea=ze.fallback,wr=new Set;ze=di(R,P.row,wr,null,null),ze.parentFlushed=!0,ze.rootSegmentID=ae,P.blockedBoundary=ze,P.hoistableState=ze.contentState,P.keyPath=De,P.formatContext=Dt(R.resumableState,Nn),P.row=null,P.replay={nodes:vt,slots:tt,pendingTasks:1};try{if(Ui(R,P,_r,-1),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));if(P.replay.pendingTasks--,ze.pendingTasks===0&&ze.status===0){ze.status=1,R.completedBoundaries.push(ze);break t}}catch(jr){ze.status=4,Vt=Ps(P.componentStack),Rt=Ji(R,jr,Vt),ze.errorDigest=Rt,P.replay.pendingTasks--,R.clientRenderedBoundaries.push(ze)}finally{P.blockedBoundary=Rn,P.hoistableState=sr,P.replay=rr,P.keyPath=dn,P.formatContext=Nn,P.row=In}Vt=qs(R,null,{nodes:xt,slots:Et,pendingTasks:0},ea,-1,Rn,ze.fallbackState,wr,[De[0],"Suspense Fallback",De[2]],kt(R.resumableState,P.formatContext),P.context,P.treeContext,P.row,pl(P.componentStack)),oi(Vt),R.pingedTasks.push(Vt)}}$.splice(Y,1);break e}}}else qo(R,P,De,ae,ze,vt);return;case o:throw Error(n(257));case C:if(Vt=Y._init,Y=Vt(Y._payload),R.status===12)throw null;Bi(R,P,Y,$);return}if(J(Y)){Ka(R,P,Y,$);return}if((Vt=q(Y))&&(Vt=Vt.call(Y))){if(Y=Vt.next(),!Y.done){ze=[];do ze.push(Y.value),Y=Vt.next();while(!Y.done);Ka(R,P,ze,$)}return}if(typeof Y.then=="function")return P.thenableState=null,Bi(R,P,Qt(Y),$);if(Y.$$typeof===u)return Bi(R,P,Y._currentValue2,$);throw $=Object.prototype.toString.call(Y),Error(n(31,$==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":$))}typeof Y=="string"?($=P.blockedSegment,$!==null&&($.lastPushedText=On($.chunks,Y,R.renderState,$.lastPushedText))):(typeof Y=="number"||typeof Y=="bigint")&&($=P.blockedSegment,$!==null&&($.lastPushedText=On($.chunks,""+Y,R.renderState,$.lastPushedText)))}}function Ka(R,P,Y,$){var ae=P.keyPath;if($!==-1&&(P.keyPath=[P.keyPath,"Fragment",$],P.replay!==null)){for(var De=P.replay,ze=De.nodes,vt=0;vt<ze.length;vt++){var tt=ze[vt];if(tt[1]===$){$=tt[2],tt=tt[3],P.replay={nodes:$,slots:tt,pendingTasks:1};try{if(Ka(R,P,Y,-1),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));P.replay.pendingTasks--}catch(Et){if(typeof Et=="object"&&Et!==null&&(Et===Dr||typeof Et.then=="function"))throw Et;P.replay.pendingTasks--,Y=Ps(P.componentStack);var xt=P.blockedBoundary,Rt=Et;Y=Ji(R,Rt,Y),go(R,xt,$,tt,Rt,Y)}P.replay=De,ze.splice(vt,1);break}}P.keyPath=ae;return}if(De=P.treeContext,ze=Y.length,P.replay!==null&&(vt=P.replay.slots,vt!==null&&typeof vt=="object")){for($=0;$<ze;$++)tt=Y[$],P.treeContext=Gt(De,ze,$),xt=vt[$],typeof xt=="number"?(Ml(R,P,xt,tt,$),delete vt[$]):Ui(R,P,tt,$);P.treeContext=De,P.keyPath=ae;return}for(vt=0;vt<ze;vt++)$=Y[vt],P.treeContext=Gt(De,ze,vt),Ui(R,P,$,vt);P.treeContext=De,P.keyPath=ae}function hs(R,P,Y){if(Y.status=5,Y.rootSegmentID=R.nextSegmentId++,R=Y.trackedContentKeyPath,R===null)throw Error(n(486));var $=Y.trackedFallbackNode,ae=[],De=P.workingMap.get(R);return De===void 0?(Y=[R[1],R[2],ae,null,$,Y.rootSegmentID],P.workingMap.set(R,Y),ot(Y,R[0],P),Y):(De[4]=$,De[5]=Y.rootSegmentID,De)}function Ms(R,P,Y,$){$.status=5;var ae=Y.keyPath,De=Y.blockedBoundary;if(De===null)$.id=R.nextSegmentId++,P.rootSlots=$.id,R.completedRootSegment!==null&&(R.completedRootSegment.status=5);else{if(De!==null&&De.status===0){var ze=hs(R,P,De);if(De.trackedContentKeyPath===ae&&Y.childIndex===-1){$.id===-1&&($.id=$.parentFlushed?De.rootSegmentID:R.nextSegmentId++),ze[3]=$.id;return}}if($.id===-1&&($.id=$.parentFlushed&&De!==null?De.rootSegmentID:R.nextSegmentId++),Y.childIndex===-1)ae===null?P.rootSlots=$.id:(Y=P.workingMap.get(ae),Y===void 0?(Y=[ae[1],ae[2],[],$.id],ot(Y,ae[0],P)):Y[3]=$.id);else{if(ae===null){if(R=P.rootSlots,R===null)R=P.rootSlots={};else if(typeof R=="number")throw Error(n(491))}else if(De=P.workingMap,ze=De.get(ae),ze===void 0)R={},ze=[ae[1],ae[2],[],R],De.set(ae,ze),ot(ze,ae[0],P);else if(R=ze[3],R===null)R=ze[3]={};else if(typeof R=="number")throw Error(n(491));R[Y.childIndex]=$.id}}}function Qo(R,P){R=R.trackedPostpones,R!==null&&(P=P.trackedContentKeyPath,P!==null&&(P=R.workingMap.get(P),P!==void 0&&(P.length=4,P[2]=[],P[3]=null)))}function Ho(R,P,Y){return qs(R,Y,P.replay,P.node,P.childIndex,P.blockedBoundary,P.hoistableState,P.abortSet,P.keyPath,P.formatContext,P.context,P.treeContext,P.row,P.componentStack)}function Pa(R,P,Y){var $=P.blockedSegment,ae=Po(R,$.chunks.length,null,P.formatContext,$.lastPushedText,!0);return $.children.push(ae),$.lastPushedText=!1,fs(R,Y,P.node,P.childIndex,P.blockedBoundary,ae,P.blockedPreamble,P.hoistableState,P.abortSet,P.keyPath,P.formatContext,P.context,P.treeContext,P.row,P.componentStack)}function Ui(R,P,Y,$){var ae=P.formatContext,De=P.context,ze=P.keyPath,vt=P.treeContext,tt=P.componentStack,xt=P.blockedSegment;if(xt===null){xt=P.replay;try{return Bi(R,P,Y,$)}catch(Vt){if(Ma(),Y=Vt===Dr?ei():Vt,R.status!==12&&typeof Y=="object"&&Y!==null){if(typeof Y.then=="function"){$=Vt===Dr?Ds():null,R=Ho(R,P,$).ping,Y.then(R,R),P.formatContext=ae,P.context=De,P.keyPath=ze,P.treeContext=vt,P.componentStack=tt,P.replay=xt,Di(De);return}if(Y.message==="Maximum call stack size exceeded"){Y=Vt===Dr?Ds():null,Y=Ho(R,P,Y),R.pingedTasks.push(Y),P.formatContext=ae,P.context=De,P.keyPath=ze,P.treeContext=vt,P.componentStack=tt,P.replay=xt,Di(De);return}}}}else{var Rt=xt.children.length,Et=xt.chunks.length;try{return Bi(R,P,Y,$)}catch(Vt){if(Ma(),xt.children.length=Rt,xt.chunks.length=Et,Y=Vt===Dr?ei():Vt,R.status!==12&&typeof Y=="object"&&Y!==null){if(typeof Y.then=="function"){xt=Y,Y=Vt===Dr?Ds():null,R=Pa(R,P,Y).ping,xt.then(R,R),P.formatContext=ae,P.context=De,P.keyPath=ze,P.treeContext=vt,P.componentStack=tt,Di(De);return}if(Y.message==="Maximum call stack size exceeded"){xt=Vt===Dr?Ds():null,xt=Pa(R,P,xt),R.pingedTasks.push(xt),P.formatContext=ae,P.context=De,P.keyPath=ze,P.treeContext=vt,P.componentStack=tt,Di(De);return}}}}throw P.formatContext=ae,P.context=De,P.keyPath=ze,P.treeContext=vt,Di(De),Y}function $i(R){var P=R.blockedBoundary,Y=R.blockedSegment;Y!==null&&(Y.status=3,w(this,P,R.row,Y))}function go(R,P,Y,$,ae,De){for(var ze=0;ze<Y.length;ze++){var vt=Y[ze];if(vt.length===4)go(R,P,vt[2],vt[3],ae,De);else{vt=vt[5];var tt=R,xt=De,Rt=di(tt,null,new Set,null,null);Rt.parentFlushed=!0,Rt.rootSegmentID=vt,Rt.status=4,Rt.errorDigest=xt,Rt.parentFlushed&&tt.clientRenderedBoundaries.push(Rt)}}if(Y.length=0,$!==null){if(P===null)throw Error(n(487));if(P.status!==4&&(P.status=4,P.errorDigest=De,P.parentFlushed&&R.clientRenderedBoundaries.push(P)),typeof $=="object")for(var Et in $)delete $[Et]}}function Er(R,P,Y){var $=R.blockedBoundary,ae=R.blockedSegment;if(ae!==null){if(ae.status===6)return;ae.status=3}var De=Ps(R.componentStack);if($===null){if(P.status!==13&&P.status!==14){if($=R.replay,$===null){P.trackedPostpones!==null&&ae!==null?($=P.trackedPostpones,Ji(P,Y,De),Ms(P,$,R,ae),w(P,null,R.row,ae)):(Ji(P,Y,De),zo(P,Y));return}$.pendingTasks--,$.pendingTasks===0&&0<$.nodes.length&&(ae=Ji(P,Y,De),go(P,null,$.nodes,$.slots,Y,ae)),P.pendingRootTasks--,P.pendingRootTasks===0&&_e(P)}}else{var ze=P.trackedPostpones;if($.status!==4){if(ze!==null&&ae!==null)return Ji(P,Y,De),Ms(P,ze,R,ae),$.fallbackAbortableTasks.forEach(function(vt){return Er(vt,P,Y)}),$.fallbackAbortableTasks.clear(),w(P,$,R.row,ae);$.status=4,ae=Ji(P,Y,De),$.status=4,$.errorDigest=ae,Qo(P,$),$.parentFlushed&&P.clientRenderedBoundaries.push($)}$.pendingTasks--,ae=$.row,ae!==null&&--ae.pendingTasks===0&&Li(P,ae),$.fallbackAbortableTasks.forEach(function(vt){return Er(vt,P,Y)}),$.fallbackAbortableTasks.clear()}R=R.row,R!==null&&--R.pendingTasks===0&&Li(P,R),P.allPendingTasks--,P.allPendingTasks===0&&s(P)}function $s(R,P){try{var Y=R.renderState,$=Y.onHeaders;if($){var ae=Y.headers;if(ae){Y.headers=null;var De=ae.preconnects;if(ae.fontPreloads&&(De&&(De+=", "),De+=ae.fontPreloads),ae.highImagePreloads&&(De&&(De+=", "),De+=ae.highImagePreloads),!P){var ze=Y.styles.values(),vt=ze.next();e:for(;0<ae.remainingCapacity&&!vt.done;vt=ze.next())for(var tt=vt.value.sheets.values(),xt=tt.next();0<ae.remainingCapacity&&!xt.done;xt=tt.next()){var Rt=xt.value,Et=Rt.props,Vt=Et.href,dn=Rt.props,Nn=mn(dn.href,"style",{crossOrigin:dn.crossOrigin,integrity:dn.integrity,nonce:dn.nonce,type:dn.type,fetchPriority:dn.fetchPriority,referrerPolicy:dn.referrerPolicy,media:dn.media});if(0<=(ae.remainingCapacity-=Nn.length+2))Y.resets.style[Vt]=Fe,De&&(De+=", "),De+=Nn,Y.resets.style[Vt]=typeof Et.crossOrigin=="string"||typeof Et.integrity=="string"?[Et.crossOrigin,Et.integrity]:Fe;else break e}}$(De?{Link:De}:{})}}}catch(In){Ji(R,In,{})}}function _e(R){R.trackedPostpones===null&&$s(R,!0),R.trackedPostpones===null&&b(R),R.onShellError=En,R=R.onShellReady,R()}function s(R){$s(R,R.trackedPostpones===null?!0:R.completedRootSegment===null||R.completedRootSegment.status!==5),b(R),R=R.onAllReady,R()}function p(R,P){if(P.chunks.length===0&&P.children.length===1&&P.children[0].boundary===null&&P.children[0].id===-1){var Y=P.children[0];Y.id=P.id,Y.parentFlushed=!0,Y.status!==1&&Y.status!==3&&Y.status!==4||p(R,Y)}else R.completedSegments.push(P)}function w(R,P,Y,$){if(Y!==null&&(--Y.pendingTasks===0?Li(R,Y):Y.together&&Zo(R,Y)),R.allPendingTasks--,P===null){if($!==null&&$.parentFlushed){if(R.completedRootSegment!==null)throw Error(n(389));R.completedRootSegment=$}R.pendingRootTasks--,R.pendingRootTasks===0&&_e(R)}else if(P.pendingTasks--,P.status!==4)if(P.pendingTasks===0){if(P.status===0&&(P.status=1),$!==null&&$.parentFlushed&&($.status===1||$.status===3)&&p(P,$),P.parentFlushed&&R.completedBoundaries.push(P),P.status===1)Y=P.row,Y!==null&&fo(Y.hoistables,P.contentState),Ni(R,P)||(P.fallbackAbortableTasks.forEach($i,R),P.fallbackAbortableTasks.clear(),Y!==null&&--Y.pendingTasks===0&&Li(R,Y)),R.pendingRootTasks===0&&R.trackedPostpones===null&&P.contentPreamble!==null&&b(R);else if(P.status===5&&(P=P.row,P!==null)){if(R.trackedPostpones!==null){Y=R.trackedPostpones;var ae=P.next;if(ae!==null&&($=ae.boundaries,$!==null))for(ae.boundaries=null,ae=0;ae<$.length;ae++){var De=$[ae];hs(R,Y,De),w(R,De,null,null)}}--P.pendingTasks===0&&Li(R,P)}}else $===null||!$.parentFlushed||$.status!==1&&$.status!==3||(p(P,$),P.completedSegments.length===1&&P.parentFlushed&&R.partialBoundaries.push(P)),P=P.row,P!==null&&P.together&&Zo(R,P);R.allPendingTasks===0&&s(R)}function A(R){if(R.status!==14&&R.status!==13){var P=Zn,Y=oe.H;oe.H=Va;var $=oe.A;oe.A=yu;var ae=jn;jn=R;var De=cs;cs=R.resumableState;try{var ze=R.pingedTasks,vt;for(vt=0;vt<ze.length;vt++){var tt=ze[vt],xt=R,Rt=tt.blockedSegment;if(Rt===null){var Et=xt;if(tt.replay.pendingTasks!==0){Di(tt.context);try{if(typeof tt.replay.slots=="number"?Ml(Et,tt,tt.replay.slots,tt.node,tt.childIndex):So(Et,tt),tt.replay.pendingTasks===1&&0<tt.replay.nodes.length)throw Error(n(488));tt.replay.pendingTasks--,tt.abortSet.delete(tt),w(Et,tt.blockedBoundary,tt.row,null)}catch(ma){Ma();var Vt=ma===Dr?ei():ma;if(typeof Vt=="object"&&Vt!==null&&typeof Vt.then=="function"){var dn=tt.ping;Vt.then(dn,dn),tt.thenableState=ma===Dr?Ds():null}else{tt.replay.pendingTasks--,tt.abortSet.delete(tt);var Nn=Ps(tt.componentStack);xt=void 0;var In=Et,rr=tt.blockedBoundary,Rn=Et.status===12?Et.fatalError:Vt,sr=tt.replay.nodes,_r=tt.replay.slots;xt=Ji(In,Rn,Nn),go(In,rr,sr,_r,Rn,xt),Et.pendingRootTasks--,Et.pendingRootTasks===0&&_e(Et),Et.allPendingTasks--,Et.allPendingTasks===0&&s(Et)}}}}else if(Et=void 0,In=Rt,In.status===0){In.status=6,Di(tt.context);var ea=In.children.length,wr=In.chunks.length;try{So(xt,tt),Zi(In.chunks,xt.renderState,In.lastPushedText,In.textEmbedded),tt.abortSet.delete(tt),In.status=1,w(xt,tt.blockedBoundary,tt.row,In)}catch(ma){Ma(),In.children.length=ea,In.chunks.length=wr;var jr=ma===Dr?ei():xt.status===12?xt.fatalError:ma;if(xt.status===12&&xt.trackedPostpones!==null){var ui=xt.trackedPostpones,ua=Ps(tt.componentStack);tt.abortSet.delete(tt),Ji(xt,jr,ua),Ms(xt,ui,tt,In),w(xt,tt.blockedBoundary,tt.row,In)}else if(typeof jr=="object"&&jr!==null&&typeof jr.then=="function"){In.status=0,tt.thenableState=ma===Dr?Ds():null;var pi=tt.ping;jr.then(pi,pi)}else{var za=Ps(tt.componentStack);tt.abortSet.delete(tt),In.status=4;var Fi=tt.blockedBoundary,ca=tt.row;if(ca!==null&&--ca.pendingTasks===0&&Li(xt,ca),xt.allPendingTasks--,Et=Ji(xt,jr,za),Fi===null)zo(xt,jr);else if(Fi.pendingTasks--,Fi.status!==4){Fi.status=4,Fi.errorDigest=Et,Qo(xt,Fi);var fa=Fi.row;fa!==null&&--fa.pendingTasks===0&&Li(xt,fa),Fi.parentFlushed&&xt.clientRenderedBoundaries.push(Fi),xt.pendingRootTasks===0&&xt.trackedPostpones===null&&Fi.contentPreamble!==null&&b(xt)}xt.allPendingTasks===0&&s(xt)}}}}ze.splice(0,vt),R.destination!==null&&Oe(R,R.destination)}catch(ma){Ji(R,ma,{}),zo(R,ma)}finally{cs=De,oe.H=Y,oe.A=$,Y===Va&&Di(P),jn=ae}}}function k(R,P,Y){P.preambleChildren.length&&Y.push(P.preambleChildren);for(var $=!1,ae=0;ae<P.children.length;ae++)$=L(R,P.children[ae],Y)||$;return $}function L(R,P,Y){var $=P.boundary;if($===null)return k(R,P,Y);var ae=$.contentPreamble,De=$.fallbackPreamble;if(ae===null||De===null)return!1;switch($.status){case 1:if(vn(R.renderState,ae),R.byteSize+=$.byteSize,P=$.completedSegments[0],!P)throw Error(n(391));return k(R,P,Y);case 5:if(R.trackedPostpones!==null)return!0;case 4:if(P.status===1)return vn(R.renderState,De),k(R,P,Y);default:return!0}}function b(R){if(R.completedRootSegment&&R.completedPreambleSegments===null){var P=[],Y=R.byteSize,$=L(R,R.completedRootSegment,P),ae=R.renderState.preamble;$===!1||ae.headChunks&&ae.bodyChunks?R.completedPreambleSegments=P:R.byteSize=Y}}function T(R,P,Y,$){switch(Y.parentFlushed=!0,Y.status){case 0:Y.id=R.nextSegmentId++;case 5:return $=Y.id,Y.lastPushedText=!1,Y.textEmbedded=!1,R=R.renderState,P.push('<template id="'),P.push(R.placeholderPrefix),R=$.toString(16),P.push(R),P.push('"></template>');case 1:Y.status=2;var ae=!0,De=Y.chunks,ze=0;Y=Y.children;for(var vt=0;vt<Y.length;vt++){for(ae=Y[vt];ze<ae.index;ze++)P.push(De[ze]);ae=j(R,P,ae,$)}for(;ze<De.length-1;ze++)P.push(De[ze]);return ze<De.length&&(ae=P.push(De[ze])),ae;case 3:return!0;default:throw Error(n(390))}}var B=0;function j(R,P,Y,$){var ae=Y.boundary;if(ae===null)return T(R,P,Y,$);if(ae.parentFlushed=!0,ae.status===4){var De=ae.row;return De!==null&&--De.pendingTasks===0&&Li(R,De),R.renderState.generateStaticMarkup||(ae=ae.errorDigest,P.push("<!--$!-->"),P.push("<template"),ae&&(P.push(' data-dgst="'),ae=Ie(ae),P.push(ae),P.push('"')),P.push("></template>")),T(R,P,Y,$),R=R.renderState.generateStaticMarkup?!0:P.push("<!--/$-->"),R}if(ae.status!==1)return ae.status===0&&(ae.rootSegmentID=R.nextSegmentId++),0<ae.completedSegments.length&&R.partialBoundaries.push(ae),Yn(P,R.renderState,ae.rootSegmentID),$&&fo($,ae.fallbackState),T(R,P,Y,$),P.push("<!--/$-->");if(!Ae&&Ni(R,ae)&&B+ae.byteSize>R.progressiveChunkSize)return ae.rootSegmentID=R.nextSegmentId++,R.completedBoundaries.push(ae),Yn(P,R.renderState,ae.rootSegmentID),T(R,P,Y,$),P.push("<!--/$-->");if(B+=ae.byteSize,$&&fo($,ae.contentState),Y=ae.row,Y!==null&&Ni(R,ae)&&--Y.pendingTasks===0&&Li(R,Y),R.renderState.generateStaticMarkup||P.push("<!--$-->"),Y=ae.completedSegments,Y.length!==1)throw Error(n(391));return j(R,P,Y[0],$),R=R.renderState.generateStaticMarkup?!0:P.push("<!--/$-->"),R}function V(R,P,Y,$){return er(P,R.renderState,Y.parentFormatContext,Y.id),j(R,P,Y,$),Hn(P,Y.parentFormatContext)}function ee(R,P,Y){B=Y.byteSize;for(var $=Y.completedSegments,ae=0;ae<$.length;ae++)he(R,P,Y,$[ae]);$.length=0,$=Y.row,$!==null&&Ni(R,Y)&&--$.pendingTasks===0&&Li(R,$),vi(P,Y.contentState,R.renderState),$=R.resumableState,R=R.renderState,ae=Y.rootSegmentID,Y=Y.contentState;var De=R.stylesToHoist;return R.stylesToHoist=!1,P.push(R.startInlineScript),P.push(">"),De?(($.instructions&4)===0&&($.instructions|=4,P.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),($.instructions&2)===0&&($.instructions|=2,P.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)),($.instructions&8)===0?($.instructions|=8,P.push(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`)):P.push('$RR("')):(($.instructions&2)===0&&($.instructions|=2,P.push(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`)),P.push('$RC("')),$=ae.toString(16),P.push(R.boundaryPrefix),P.push($),P.push('","'),P.push(R.segmentPrefix),P.push($),De?(P.push('",'),Tr(P,Y)):P.push('"'),Y=P.push(")<\/script>"),$n(P,R)&&Y}function he(R,P,Y,$){if($.status===2)return!0;var ae=Y.contentState,De=$.id;if(De===-1){if(($.id=Y.rootSegmentID)===-1)throw Error(n(392));return V(R,P,$,ae)}return De===Y.rootSegmentID?V(R,P,$,ae):(V(R,P,$,ae),Y=R.resumableState,R=R.renderState,P.push(R.startInlineScript),P.push(">"),(Y.instructions&1)===0?(Y.instructions|=1,P.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):P.push('$RS("'),P.push(R.segmentPrefix),De=De.toString(16),P.push(De),P.push('","'),P.push(R.placeholderPrefix),P.push(De),P=P.push('")<\/script>'),P)}var Ae=!1;function Oe(R,P){try{if(!(0<R.pendingRootTasks)){var Y,$=R.completedRootSegment;if($!==null){if($.status===5)return;var ae=R.completedPreambleSegments;if(ae===null)return;B=R.byteSize;var De=R.resumableState,ze=R.renderState,vt=ze.preamble,tt=vt.htmlChunks,xt=vt.headChunks,Rt;if(tt){for(Rt=0;Rt<tt.length;Rt++)P.push(tt[Rt]);if(xt)for(Rt=0;Rt<xt.length;Rt++)P.push(xt[Rt]);else{var Et=yt("head");P.push(Et),P.push(">")}}else if(xt)for(Rt=0;Rt<xt.length;Rt++)P.push(xt[Rt]);var Vt=ze.charsetChunks;for(Rt=0;Rt<Vt.length;Rt++)P.push(Vt[Rt]);Vt.length=0,ze.preconnects.forEach(Sn,P),ze.preconnects.clear();var dn=ze.viewportChunks;for(Rt=0;Rt<dn.length;Rt++)P.push(dn[Rt]);dn.length=0,ze.fontPreloads.forEach(Sn,P),ze.fontPreloads.clear(),ze.highImagePreloads.forEach(Sn,P),ze.highImagePreloads.clear(),ct=ze,ze.styles.forEach(ar,P),ct=null;var Nn=ze.importMapChunks;for(Rt=0;Rt<Nn.length;Rt++)P.push(Nn[Rt]);Nn.length=0,ze.bootstrapScripts.forEach(Sn,P),ze.scripts.forEach(Sn,P),ze.scripts.clear(),ze.bulkPreloads.forEach(Sn,P),ze.bulkPreloads.clear(),De.instructions|=32;var In=ze.hoistableChunks;for(Rt=0;Rt<In.length;Rt++)P.push(In[Rt]);for(De=In.length=0;De<ae.length;De++){var rr=ae[De];for(ze=0;ze<rr.length;ze++)j(R,P,rr[ze],null)}var Rn=R.renderState.preamble,sr=Rn.headChunks;if(Rn.htmlChunks||sr){var _r=Cn("head");P.push(_r)}var ea=Rn.bodyChunks;if(ea)for(ae=0;ae<ea.length;ae++)P.push(ea[ae]);j(R,P,$,null),R.completedRootSegment=null;var wr=R.renderState;if(R.allPendingTasks!==0||R.clientRenderedBoundaries.length!==0||R.completedBoundaries.length!==0||R.trackedPostpones!==null&&(R.trackedPostpones.rootNodes.length!==0||R.trackedPostpones.rootSlots!==null)){var jr=R.resumableState;if((jr.instructions&64)===0){if(jr.instructions|=64,P.push(wr.startInlineScript),(jr.instructions&32)===0){jr.instructions|=32;var ui="_"+jr.idPrefix+"R_";P.push(' id="');var ua=Ie(ui);P.push(ua),P.push('"')}P.push(">"),P.push("requestAnimationFrame(function(){$RT=performance.now()});"),P.push("<\/script>")}}$n(P,wr)}var pi=R.renderState;$=0;var za=pi.viewportChunks;for($=0;$<za.length;$++)P.push(za[$]);za.length=0,pi.preconnects.forEach(Sn,P),pi.preconnects.clear(),pi.fontPreloads.forEach(Sn,P),pi.fontPreloads.clear(),pi.highImagePreloads.forEach(Sn,P),pi.highImagePreloads.clear(),pi.styles.forEach(yi,P),pi.scripts.forEach(Sn,P),pi.scripts.clear(),pi.bulkPreloads.forEach(Sn,P),pi.bulkPreloads.clear();var Fi=pi.hoistableChunks;for($=0;$<Fi.length;$++)P.push(Fi[$]);Fi.length=0;var ca=R.clientRenderedBoundaries;for(Y=0;Y<ca.length;Y++){var fa=ca[Y];pi=P;var ma=R.resumableState,Eo=R.renderState,ru=fa.rootSegmentID,zs=fa.errorDigest;pi.push(Eo.startInlineScript),pi.push(">"),(ma.instructions&4)===0?(ma.instructions|=4,pi.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):pi.push('$RX("'),pi.push(Eo.boundaryPrefix);var ds=ru.toString(16);if(pi.push(ds),pi.push('"'),zs){pi.push(",");var el=Br(zs||"");pi.push(el)}var Ha=pi.push(")<\/script>");if(!Ha){R.destination=null,Y++,ca.splice(0,Y);return}}ca.splice(0,Y);var po=R.completedBoundaries;for(Y=0;Y<po.length;Y++)if(!ee(R,P,po[Y])){R.destination=null,Y++,po.splice(0,Y);return}po.splice(0,Y),Ae=!0;var Ao=R.partialBoundaries;for(Y=0;Y<Ao.length;Y++){var Za=Ao[Y];e:{ca=R,fa=P,B=Za.byteSize;var Ua=Za.completedSegments;for(Ha=0;Ha<Ua.length;Ha++)if(!he(ca,fa,Za,Ua[Ha])){Ha++,Ua.splice(0,Ha);var gs=!1;break e}Ua.splice(0,Ha);var ji=Za.row;ji!==null&&ji.together&&Za.pendingTasks===1&&(ji.pendingTasks===1?Ko(ca,ji,ji.hoistables):ji.pendingTasks--),gs=vi(fa,Za.contentState,ca.renderState)}if(!gs){R.destination=null,Y++,Ao.splice(0,Y);return}}Ao.splice(0,Y),Ae=!1;var Jo=R.completedBoundaries;for(Y=0;Y<Jo.length;Y++)if(!ee(R,P,Jo[Y])){R.destination=null,Y++,Jo.splice(0,Y);return}Jo.splice(0,Y)}}finally{Ae=!1,R.allPendingTasks===0&&R.clientRenderedBoundaries.length===0&&R.completedBoundaries.length===0&&(R.flushScheduled=!1,Y=R.resumableState,Y.hasBody&&(Ao=Cn("body"),P.push(Ao)),Y.hasHtml&&(Y=Cn("html"),P.push(Y)),R.status=14,P.push(null),R.destination=null)}}function Le(R){if(R.flushScheduled===!1&&R.pingedTasks.length===0&&R.destination!==null){R.flushScheduled=!0;var P=R.destination;P?Oe(R,P):R.flushScheduled=!1}}function Xe(R,P){if(R.status===13)R.status=14,P.destroy(R.fatalError);else if(R.status!==14&&R.destination===null){R.destination=P;try{Oe(R,P)}catch(Y){Ji(R,Y,{}),zo(R,Y)}}}function Ke(R,P){(R.status===11||R.status===10)&&(R.status=12);try{var Y=R.abortableTasks;if(0<Y.size){var $=P===void 0?Error(n(432)):typeof P=="object"&&P!==null&&typeof P.then=="function"?Error(n(530)):P;R.fatalError=$,Y.forEach(function(ae){return Er(ae,R,$)}),Y.clear()}R.destination!==null&&Oe(R,R.destination)}catch(ae){Ji(R,ae,{}),zo(R,ae)}}function ot(R,P,Y){if(P===null)Y.rootNodes.push(R);else{var $=Y.workingMap,ae=$.get(P);ae===void 0&&(ae=[P[1],P[2],[],null],$.set(P,ae),ot(ae,P[0],Y)),ae[2].push(R)}}function Je(){}function wt(R,P,Y,$){var ae=!1,De=null,ze="",vt=!1;if(P=jt(P?P.identifierPrefix:void 0),R=ki(R,P,cn(P,Y),_t(0,null,0,null),1/0,Je,void 0,function(){vt=!0},void 0,void 0,void 0),R.flushScheduled=R.destination!==null,A(R),R.status===10&&(R.status=11),R.trackedPostpones===null&&$s(R,R.pendingRootTasks===0),Ke(R,$),Xe(R,{push:function(tt){return tt!==null&&(ze+=tt),!0},destroy:function(tt){ae=!0,De=tt}}),ae&&De!==$)throw De;if(!vt)throw Error(n(426));return ze}return x1.renderToStaticMarkup=function(R,P){return wt(R,P,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},x1.renderToString=function(R,P){return wt(R,P,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},x1.version="19.2.3",x1}var w0={};var W6;function yY(){if(W6)return w0;W6=1;var e=Rd(),t=rm();function n(z){var H="https://react.dev/errors/"+z;if(1<arguments.length){H+="?args[]="+encodeURIComponent(arguments[1]);for(var Q=2;Q<arguments.length;Q++)H+="&args[]="+encodeURIComponent(arguments[Q])}return"Minified React error #"+z+"; visit "+H+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.scope"),S=Symbol.for("react.activity"),O=Symbol.for("react.legacy_hidden"),N=Symbol.for("react.memo_cache_sentinel"),U=Symbol.for("react.view_transition"),W=Symbol.iterator;function q(z){return z===null||typeof z!="object"?null:(z=W&&z[W]||z["@@iterator"],typeof z=="function"?z:null)}var J=Array.isArray;function ne(z,H){var Q=z.length&3,le=z.length-Q,de=H;for(H=0;H<le;){var He=z.charCodeAt(H)&255|(z.charCodeAt(++H)&255)<<8|(z.charCodeAt(++H)&255)<<16|(z.charCodeAt(++H)&255)<<24;++H,He=3432918353*(He&65535)+((3432918353*(He>>>16)&65535)<<16)&4294967295,He=He<<15|He>>>17,He=461845907*(He&65535)+((461845907*(He>>>16)&65535)<<16)&4294967295,de^=He,de=de<<13|de>>>19,de=5*(de&65535)+((5*(de>>>16)&65535)<<16)&4294967295,de=(de&65535)+27492+(((de>>>16)+58964&65535)<<16)}switch(He=0,Q){case 3:He^=(z.charCodeAt(H+2)&255)<<16;case 2:He^=(z.charCodeAt(H+1)&255)<<8;case 1:He^=z.charCodeAt(H)&255,He=3432918353*(He&65535)+((3432918353*(He>>>16)&65535)<<16)&4294967295,He=He<<15|He>>>17,de^=461845907*(He&65535)+((461845907*(He>>>16)&65535)<<16)&4294967295}return de^=z.length,de^=de>>>16,de=2246822507*(de&65535)+((2246822507*(de>>>16)&65535)<<16)&4294967295,de^=de>>>13,de=3266489909*(de&65535)+((3266489909*(de>>>16)&65535)<<16)&4294967295,(de^de>>>16)>>>0}var ve=new MessageChannel,Se=[];ve.port1.onmessage=function(){var z=Se.shift();z&&z()};function Be(z){Se.push(z),ve.port2.postMessage(null)}function Ue(z){setTimeout(function(){throw z})}var qe=Promise,mt=typeof queueMicrotask=="function"?queueMicrotask:function(z){qe.resolve(null).then(z).catch(Ue)},ut=null,ge=0;function me(z,H){if(H.byteLength!==0)if(2048<H.byteLength)0<ge&&(z.enqueue(new Uint8Array(ut.buffer,0,ge)),ut=new Uint8Array(2048),ge=0),z.enqueue(H);else{var Q=ut.length-ge;Q<H.byteLength&&(Q===0?z.enqueue(ut):(ut.set(H.subarray(0,Q),ge),z.enqueue(ut),H=H.subarray(Q)),ut=new Uint8Array(2048),ge=0),ut.set(H,ge),ge+=H.byteLength}}function Ie(z,H){return me(z,H),!0}function lt(z){ut&&0<ge&&(z.enqueue(new Uint8Array(ut.buffer,0,ge)),ut=null,ge=0)}var Me=new TextEncoder;function ue(z){return Me.encode(z)}function ce(z){return Me.encode(z)}function oe(z){return z.byteLength}function Z(z,H){typeof z.error=="function"?z.error(H):z.close()}var be=Object.assign,Te=Object.prototype.hasOwnProperty,Fe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ct={},At={};function rt(z){return Te.call(At,z)?!0:Te.call(ct,z)?!1:Fe.test(z)?At[z]=!0:(ct[z]=!0,!1)}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),_t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wt=/["'&<>]/;function ft(z){if(typeof z=="boolean"||typeof z=="number"||typeof z=="bigint")return""+z;z=""+z;var H=Wt.exec(z);if(H){var Q="",le,de=0;for(le=H.index;le<z.length;le++){switch(z.charCodeAt(le)){case 34:H="&quot;";break;case 38:H="&amp;";break;case 39:H="&#x27;";break;case 60:H="&lt;";break;case 62:H="&gt;";break;default:continue}de!==le&&(Q+=z.slice(de,le)),de=le+1,Q+=H}z=de!==le?Q+z.slice(de,le):Q}return z}var kt=/([A-Z])/g,Dt=/^ms-/,tn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zt(z){return tn.test(""+z)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":z}var Ut=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kt=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,un={pending:!1,data:null,method:null,action:null},Xt=Kt.d;Kt.d={f:Xt.f,r:Xt.r,D:Er,C:$s,L:_e,m:s,X:w,S:p,M:A};var Zt=[],Bn=null;ce('"></template>');var gt=ce("<script"),dt=ce("<\/script>"),Pe=ce('<script src="'),xe=ce('<script type="module" src="'),Ee=ce(' nonce="'),Ze=ce(' integrity="'),re=ce(' crossorigin="'),we=ce(' async=""><\/script>'),Ve=ce("<style"),it=/(<\/|<)(s)(cript)/gi;function We(z,H,Q,le){return""+H+(Q==="s"?"\\u0073":"\\u0053")+le}var Ct=ce('<script type="importmap">'),Ye=ce("<\/script>");function at(z,H,Q,le,de,He){Q=typeof H=="string"?H:H&&H.script;var $e=Q===void 0?gt:ce('<script nonce="'+ft(Q)+'"'),Ot=typeof H=="string"?void 0:H&&H.style,ht=Ot===void 0?Ve:ce('<style nonce="'+ft(Ot)+'"'),Nt=z.idPrefix,qt=[],on=z.bootstrapScriptContent,kn=z.bootstrapScripts,_n=z.bootstrapModules;if(on!==void 0&&(qt.push($e),hs(qt,z),qt.push(gr,ue((""+on).replace(it,We)),dt)),on=[],le!==void 0&&(on.push(Ct),on.push(ue((""+JSON.stringify(le)).replace(it,We))),on.push(Ye)),le=de?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof He=="number"?He:2e3)}:null,de={placeholderPrefix:ce(Nt+"P:"),segmentPrefix:ce(Nt+"S:"),boundaryPrefix:ce(Nt+"B:"),startInlineScript:$e,startInlineStyle:ht,preamble:yt(),externalRuntimeScript:null,bootstrapChunks:qt,importMapChunks:on,onHeaders:de,headers:le,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:Q,style:Ot},hoistableState:null,stylesToHoist:!1},kn!==void 0)for(le=0;le<kn.length;le++)Nt=kn[le],Ot=$e=void 0,ht={rel:"preload",as:"script",fetchPriority:"low",nonce:H},typeof Nt=="string"?ht.href=He=Nt:(ht.href=He=Nt.src,ht.integrity=Ot=typeof Nt.integrity=="string"?Nt.integrity:void 0,ht.crossOrigin=$e=typeof Nt=="string"||Nt.crossOrigin==null?void 0:Nt.crossOrigin==="use-credentials"?"use-credentials":""),Nt=z,on=He,Nt.scriptResources[on]=null,Nt.moduleScriptResources[on]=null,Nt=[],mn(Nt,ht),de.bootstrapScripts.add(Nt),qt.push(Pe,ue(ft(He)),Yr),Q&&qt.push(Ee,ue(ft(Q)),Yr),typeof Ot=="string"&&qt.push(Ze,ue(ft(Ot)),Yr),typeof $e=="string"&&qt.push(re,ue(ft($e)),Yr),hs(qt,z),qt.push(we);if(_n!==void 0)for(H=0;H<_n.length;H++)Ot=_n[H],He=le=void 0,$e={rel:"modulepreload",fetchPriority:"low",nonce:Q},typeof Ot=="string"?$e.href=kn=Ot:($e.href=kn=Ot.src,$e.integrity=He=typeof Ot.integrity=="string"?Ot.integrity:void 0,$e.crossOrigin=le=typeof Ot=="string"||Ot.crossOrigin==null?void 0:Ot.crossOrigin==="use-credentials"?"use-credentials":""),Ot=z,ht=kn,Ot.scriptResources[ht]=null,Ot.moduleScriptResources[ht]=null,Ot=[],mn(Ot,$e),de.bootstrapScripts.add(Ot),qt.push(xe,ue(ft(kn)),Yr),Q&&qt.push(Ee,ue(ft(Q)),Yr),typeof He=="string"&&qt.push(Ze,ue(ft(He)),Yr),typeof le=="string"&&qt.push(re,ue(ft(le)),Yr),hs(qt,z),qt.push(we);return de}function St(z,H,Q,le,de){return{idPrefix:z===void 0?"":z,nextFormID:0,streamingFormat:0,bootstrapScriptContent:Q,bootstrapScripts:le,bootstrapModules:de,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function yt(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function Ft(z,H,Q,le){return{insertionMode:z,selectedValue:H,tagScope:Q,viewTransition:le}}function pn(z){return Ft(z==="http://www.w3.org/2000/svg"?4:z==="http://www.w3.org/1998/Math/MathML"?5:0,null,0,null)}function Cn(z,H,Q){var le=z.tagScope&-25;switch(H){case"noscript":return Ft(2,null,le|1,null);case"select":return Ft(2,Q.value!=null?Q.value:Q.defaultValue,le,null);case"svg":return Ft(4,null,le,null);case"picture":return Ft(2,null,le|2,null);case"math":return Ft(5,null,le,null);case"foreignObject":return Ft(2,null,le,null);case"table":return Ft(6,null,le,null);case"thead":case"tbody":case"tfoot":return Ft(7,null,le,null);case"colgroup":return Ft(9,null,le,null);case"tr":return Ft(8,null,le,null);case"head":if(2>z.insertionMode)return Ft(3,null,le,null);break;case"html":if(z.insertionMode===0)return Ft(1,null,le,null)}return 6<=z.insertionMode||2>z.insertionMode?Ft(2,null,le,null):z.tagScope!==le?Ft(z.insertionMode,z.selectedValue,le,null):z}function vn(z){return z===null?null:{update:z.update,enter:"none",exit:"none",share:z.update,name:z.autoName,autoName:z.autoName,nameIdx:0}}function $n(z,H){return H.tagScope&32&&(z.instructions|=128),Ft(H.insertionMode,H.selectedValue,H.tagScope|12,vn(H.viewTransition))}function Yn(z,H){z=vn(H.viewTransition);var Q=H.tagScope|16;return z!==null&&z.share!=="none"&&(Q|=64),Ft(H.insertionMode,H.selectedValue,Q,z)}var er=ce("<!-- -->");function Hn(z,H,Q,le){return H===""?le:(le&&z.push(er),z.push(ue(ft(H))),!0)}var xr=new Map,Br=ce(' style="'),mr=ce(":"),Mi=ce(";");function Jn(z,H){if(typeof H!="object")throw Error(n(62));var Q=!0,le;for(le in H)if(Te.call(H,le)){var de=H[le];if(de!=null&&typeof de!="boolean"&&de!==""){if(le.indexOf("--")===0){var He=ue(ft(le));de=ue(ft((""+de).trim()))}else He=xr.get(le),He===void 0&&(He=ce(ft(le.replace(kt,"-$1").toLowerCase().replace(Dt,"-ms-"))),xr.set(le,He)),de=typeof de=="number"?de===0||jt.has(le)?ue(""+de):ue(de+"px"):ue(ft((""+de).trim()));Q?(Q=!1,z.push(Br,He,mr,de)):z.push(Mi,He,mr,de)}}Q||z.push(Yr)}var Fr=ce(" "),si=ce('="'),Yr=ce('"'),vi=ce('=""');function Sn(z,H,Q){Q&&typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ue(H),vi)}function vr(z,H,Q){typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&z.push(Fr,ue(H),si,ue(ft(Q)),Yr)}var Pr=ce(ft("javascript:throw new Error('React form unexpectedly submitted.')")),ar=ce('<input type="hidden"');function fi(z,H){this.push(ar),yi(z),vr(this,"name",H),vr(this,"value",z),this.push(aa)}function yi(z){if(typeof z!="string")throw Error(n(480))}function xi(z,H){if(typeof H.$$FORM_ACTION=="function"){var Q=z.nextFormID++;z=z.idPrefix+Q;try{var le=H.$$FORM_ACTION(z);if(le){var de=le.data;de?.forEach(yi)}return le}catch(He){if(typeof He=="object"&&He!==null&&typeof He.then=="function")throw He}}return null}function Tr(z,H,Q,le,de,He,$e,Ot){var ht=null;if(typeof le=="function"){var Nt=xi(H,le);Nt!==null?(Ot=Nt.name,le=Nt.action||"",de=Nt.encType,He=Nt.method,$e=Nt.target,ht=Nt.data):(z.push(Fr,ue("formAction"),si,Pr,Yr),$e=He=de=le=Ot=null,Ri(H,Q))}return Ot!=null&&zr(z,"name",Ot),le!=null&&zr(z,"formAction",le),de!=null&&zr(z,"formEncType",de),He!=null&&zr(z,"formMethod",He),$e!=null&&zr(z,"formTarget",$e),ht}function zr(z,H,Q){switch(H){case"className":vr(z,"class",Q);break;case"tabIndex":vr(z,"tabindex",Q);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(z,H,Q);break;case"style":Jn(z,Q);break;case"src":case"href":if(Q==="")break;case"action":case"formAction":if(Q==null||typeof Q=="function"||typeof Q=="symbol"||typeof Q=="boolean")break;Q=zt(""+Q),z.push(Fr,ue(H),si,ue(ft(Q)),Yr);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Sn(z,H.toLowerCase(),Q);break;case"xlinkHref":if(typeof Q=="function"||typeof Q=="symbol"||typeof Q=="boolean")break;Q=zt(""+Q),z.push(Fr,ue("xlink:href"),si,ue(ft(Q)),Yr);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ue(H),si,ue(ft(Q)),Yr);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Q&&typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ue(H),vi);break;case"capture":case"download":Q===!0?z.push(Fr,ue(H),vi):Q!==!1&&typeof Q!="function"&&typeof Q!="symbol"&&z.push(Fr,ue(H),si,ue(ft(Q)),Yr);break;case"cols":case"rows":case"size":case"span":typeof Q!="function"&&typeof Q!="symbol"&&!isNaN(Q)&&1<=Q&&z.push(Fr,ue(H),si,ue(ft(Q)),Yr);break;case"rowSpan":case"start":typeof Q=="function"||typeof Q=="symbol"||isNaN(Q)||z.push(Fr,ue(H),si,ue(ft(Q)),Yr);break;case"xlinkActuate":vr(z,"xlink:actuate",Q);break;case"xlinkArcrole":vr(z,"xlink:arcrole",Q);break;case"xlinkRole":vr(z,"xlink:role",Q);break;case"xlinkShow":vr(z,"xlink:show",Q);break;case"xlinkTitle":vr(z,"xlink:title",Q);break;case"xlinkType":vr(z,"xlink:type",Q);break;case"xmlBase":vr(z,"xml:base",Q);break;case"xmlLang":vr(z,"xml:lang",Q);break;case"xmlSpace":vr(z,"xml:space",Q);break;default:if((!(2<H.length)||H[0]!=="o"&&H[0]!=="O"||H[1]!=="n"&&H[1]!=="N")&&(H=_t.get(H)||H,rt(H))){switch(typeof Q){case"function":case"symbol":return;case"boolean":var le=H.toLowerCase().slice(0,5);if(le!=="data-"&&le!=="aria-")return}z.push(Fr,ue(H),si,ue(ft(Q)),Yr)}}}var gr=ce(">"),aa=ce("/>");function Hr(z,H,Q){if(H!=null){if(Q!=null)throw Error(n(60));if(typeof H!="object"||!("__html"in H))throw Error(n(61));H=H.__html,H!=null&&z.push(ue(""+H))}}function or(z){var H="";return e.Children.forEach(z,function(Q){Q!=null&&(H+=Q)}),H}var co=ce(' selected=""'),bi=ce(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function Ri(z,H){if((z.instructions&16)===0){z.instructions|=16;var Q=H.preamble,le=H.bootstrapChunks;(Q.htmlChunks||Q.headChunks)&&le.length===0?(le.push(H.startInlineScript),hs(le,z),le.push(gr,bi,dt)):le.unshift(H.startInlineScript,gr,bi,dt)}}var hn=ce("<!--F!-->"),wi=ce("<!--F-->");function mn(z,H){z.push(pr("link"));for(var Q in H)if(Te.call(H,Q)){var le=H[Q];if(le!=null)switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:zr(z,Q,le)}}return z.push(aa),null}var Ki=/(<\/|<)(s)(tyle)/gi;function Bo(z,H,Q,le){return""+H+(Q==="s"?"\\73 ":"\\53 ")+le}function br(z,H,Q){z.push(pr(Q));for(var le in H)if(Te.call(H,le)){var de=H[le];if(de!=null)switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,Q));default:zr(z,le,de)}}return z.push(aa),null}function Xn(z,H){z.push(pr("title"));var Q=null,le=null,de;for(de in H)if(Te.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":le=He;break;default:zr(z,de,He)}}return z.push(gr),H=Array.isArray(Q)?2>Q.length?Q[0]:null:Q,typeof H!="function"&&typeof H!="symbol"&&H!==null&&H!==void 0&&z.push(ue(ft(""+H))),Hr(z,le,Q),z.push(Ht("title")),null}var fr=ce("<!--head-->"),Or=ce("<!--body-->"),fo=ce("<!--html-->");function cn(z,H){z.push(pr("script"));var Q=null,le=null,de;for(de in H)if(Te.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":le=He;break;default:zr(z,de,He)}}return z.push(gr),Hr(z,le,Q),typeof Q=="string"&&z.push(ue((""+Q).replace(it,We))),z.push(Ht("script")),null}function On(z,H,Q){z.push(pr(Q));var le=Q=null,de;for(de in H)if(Te.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":le=He;break;default:zr(z,de,He)}}return z.push(gr),Hr(z,le,Q),Q}function Zi(z,H,Q){z.push(pr(Q));var le=Q=null,de;for(de in H)if(Te.call(H,de)){var He=H[de];if(He!=null)switch(de){case"children":Q=He;break;case"dangerouslySetInnerHTML":le=He;break;default:zr(z,de,He)}}return z.push(gr),Hr(z,le,Q),typeof Q=="string"?(z.push(ue(ft(Q))),null):Q}var hl=ce(`
`),Ai=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ka=new Map;function pr(z){var H=ka.get(z);if(H===void 0){if(!Ai.test(z))throw Error(n(65,z));H=ce("<"+z),ka.set(z,H)}return H}var Zn=ce("<!DOCTYPE html>");function Ir(z,H,Q,le,de,He,$e,Ot,ht){switch(H){case"div":case"span":case"svg":case"path":break;case"a":z.push(pr("a"));var Nt=null,qt=null,on;for(on in Q)if(Te.call(Q,on)){var kn=Q[on];if(kn!=null)switch(on){case"children":Nt=kn;break;case"dangerouslySetInnerHTML":qt=kn;break;case"href":kn===""?vr(z,"href",""):zr(z,on,kn);break;default:zr(z,on,kn)}}if(z.push(gr),Hr(z,qt,Nt),typeof Nt=="string"){z.push(ue(ft(Nt)));var _n=null}else _n=Nt;return _n;case"g":case"p":case"li":break;case"select":z.push(pr("select"));var lr=null,ti=null,Wr;for(Wr in Q)if(Te.call(Q,Wr)){var qn=Q[Wr];if(qn!=null)switch(Wr){case"children":lr=qn;break;case"dangerouslySetInnerHTML":ti=qn;break;case"defaultValue":case"value":break;default:zr(z,Wr,qn)}}return z.push(gr),Hr(z,ti,lr),lr;case"option":var cr=Ot.selectedValue;z.push(pr("option"));var mi=null,$a=null,jo=null,Ar=null,mo;for(mo in Q)if(Te.call(Q,mo)){var na=Q[mo];if(na!=null)switch(mo){case"children":mi=na;break;case"selected":jo=na;break;case"dangerouslySetInnerHTML":Ar=na;break;case"value":$a=na;default:zr(z,mo,na)}}if(cr!=null){var Na=$a!==null?""+$a:or(mi);if(J(cr)){for(var sl=0;sl<cr.length;sl++)if(""+cr[sl]===Na){z.push(co);break}}else""+cr===Na&&z.push(co)}else jo&&z.push(co);return z.push(gr),Hr(z,Ar,mi),mi;case"textarea":z.push(pr("textarea"));var Gr=null,Nl=null,bl=null,_o;for(_o in Q)if(Te.call(Q,_o)){var vo=Q[_o];if(vo!=null)switch(_o){case"children":bl=vo;break;case"value":Gr=vo;break;case"defaultValue":Nl=vo;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:zr(z,_o,vo)}}if(Gr===null&&Nl!==null&&(Gr=Nl),z.push(gr),bl!=null){if(Gr!=null)throw Error(n(92));if(J(bl)){if(1<bl.length)throw Error(n(93));Gr=""+bl[0]}Gr=""+bl}return typeof Gr=="string"&&Gr[0]===`
`&&z.push(hl),Gr!==null&&z.push(ue(ft(""+Gr))),null;case"input":z.push(pr("input"));var ql=null,Ll=null,ou=null,Tu=null,is=null,ha=null,su=null,Mo=null,Wc=null,Gc;for(Gc in Q)if(Te.call(Q,Gc)){var as=Q[Gc];if(as!=null)switch(Gc){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":ql=as;break;case"formAction":Ll=as;break;case"formEncType":ou=as;break;case"formMethod":Tu=as;break;case"formTarget":is=as;break;case"defaultChecked":Wc=as;break;case"defaultValue":su=as;break;case"checked":Mo=as;break;case"value":ha=as;break;default:zr(z,Gc,as)}}var Uf=Tr(z,le,de,Ll,ou,Tu,is,ql);return Mo!==null?Sn(z,"checked",Mo):Wc!==null&&Sn(z,"checked",Wc),ha!==null?zr(z,"value",ha):su!==null&&zr(z,"value",su),z.push(aa),Uf?.forEach(fi,z),null;case"button":z.push(pr("button"));var Cc=null,jf=null,yh=null,a0=null,o0=null,s0=null,Du=null,ku;for(ku in Q)if(Te.call(Q,ku)){var wl=Q[ku];if(wl!=null)switch(ku){case"children":Cc=wl;break;case"dangerouslySetInnerHTML":jf=wl;break;case"name":yh=wl;break;case"formAction":a0=wl;break;case"formEncType":o0=wl;break;case"formMethod":s0=wl;break;case"formTarget":Du=wl;break;default:zr(z,ku,wl)}}var Yc=Tr(z,le,de,a0,o0,s0,Du,yh);if(z.push(gr),Yc?.forEach(fi,z),Hr(z,jf,Cc),typeof Cc=="string"){z.push(ue(ft(Cc)));var _u=null}else _u=Cc;return _u;case"form":z.push(pr("form"));var df=null,l0=null,Bl=null,Sc=null,Xc=null,Vc=null,Ju;for(Ju in Q)if(Te.call(Q,Ju)){var Cl=Q[Ju];if(Cl!=null)switch(Ju){case"children":df=Cl;break;case"dangerouslySetInnerHTML":l0=Cl;break;case"action":Bl=Cl;break;case"encType":Sc=Cl;break;case"method":Xc=Cl;break;case"target":Vc=Cl;break;default:zr(z,Ju,Cl)}}var gf=null,Wf=null;if(typeof Bl=="function"){var Mu=xi(le,Bl);Mu!==null?(Bl=Mu.action||"",Sc=Mu.encType,Xc=Mu.method,Vc=Mu.target,gf=Mu.data,Wf=Mu.name):(z.push(Fr,ue("action"),si,Pr,Yr),Vc=Xc=Sc=Bl=null,Ri(le,de))}if(Bl!=null&&zr(z,"action",Bl),Sc!=null&&zr(z,"encType",Sc),Xc!=null&&zr(z,"method",Xc),Vc!=null&&zr(z,"target",Vc),z.push(gr),Wf!==null&&(z.push(ar),vr(z,"name",Wf),z.push(aa),gf?.forEach(fi,z)),Hr(z,l0,df),typeof df=="string"){z.push(ue(ft(df)));var Kc=null}else Kc=df;return Kc;case"menuitem":z.push(pr("menuitem"));for(var $u in Q)if(Te.call(Q,$u)){var pf=Q[$u];if(pf!=null)switch($u){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:zr(z,$u,pf)}}return z.push(gr),null;case"object":z.push(pr("object"));var Ec=null,xh=null,Ou;for(Ou in Q)if(Te.call(Q,Ou)){var Gf=Q[Ou];if(Gf!=null)switch(Ou){case"children":Ec=Gf;break;case"dangerouslySetInnerHTML":xh=Gf;break;case"data":var u0=zt(""+Gf);if(u0==="")break;z.push(Fr,ue("data"),si,ue(ft(u0)),Yr);break;default:zr(z,Ou,Gf)}}if(z.push(gr),Hr(z,xh,Ec),typeof Ec=="string"){z.push(ue(ft(Ec)));var Zc=null}else Zc=Ec;return Zc;case"title":var c0=Ot.tagScope&1,f0=Ot.tagScope&4;if(Ot.insertionMode===4||c0||Q.itemProp!=null)var bh=Xn(z,Q);else f0?bh=null:(Xn(de.hoistableChunks,Q),bh=void 0);return bh;case"link":var Yf=Ot.tagScope&1,h0=Ot.tagScope&4,j0=Q.rel,lu=Q.href,mf=Q.precedence;if(Ot.insertionMode===4||Yf||Q.itemProp!=null||typeof j0!="string"||typeof lu!="string"||lu===""){mn(z,Q);var vf=null}else if(Q.rel==="stylesheet")if(typeof mf!="string"||Q.disabled!=null||Q.onLoad||Q.onError)vf=mn(z,Q);else{var Ac=de.styles.get(mf),Iu=le.styleResources.hasOwnProperty(lu)?le.styleResources[lu]:void 0;if(Iu!==null){le.styleResources[lu]=null,Ac||(Ac={precedence:ue(ft(mf)),rules:[],hrefs:[],sheets:new Map},de.styles.set(mf,Ac));var ec={state:0,props:be({},Q,{"data-precedence":Q.precedence,precedence:null})};if(Iu){Iu.length===2&&k(ec.props,Iu);var wh=de.preloads.stylesheets.get(lu);wh&&0<wh.length?wh.length=0:ec.state=1}Ac.sheets.set(lu,ec),$e&&$e.stylesheets.add(ec)}else if(Ac){var Xf=Ac.sheets.get(lu);Xf&&$e&&$e.stylesheets.add(Xf)}ht&&z.push(er),vf=null}else Q.onLoad||Q.onError?vf=mn(z,Q):(ht&&z.push(er),vf=h0?null:mn(de.hoistableChunks,Q));return vf;case"script":var W0=Ot.tagScope&1,Ch=Q.async;if(typeof Q.src!="string"||!Q.src||!Ch||typeof Ch=="function"||typeof Ch=="symbol"||Q.onLoad||Q.onError||Ot.insertionMode===4||W0||Q.itemProp!=null)var G0=cn(z,Q);else{var Sh=Q.src;if(Q.type==="module")var yf=le.moduleScriptResources,xf=de.preloads.moduleScripts;else yf=le.scriptResources,xf=de.preloads.scripts;var bf=yf.hasOwnProperty(Sh)?yf[Sh]:void 0;if(bf!==null){yf[Sh]=null;var qc=Q;if(bf){bf.length===2&&(qc=be({},Q),k(qc,bf));var Vf=xf.get(Sh);Vf&&(Vf.length=0)}var Eh=[];de.scripts.add(Eh),cn(Eh,qc)}ht&&z.push(er),G0=null}return G0;case"style":var Kf=Ot.tagScope&1,wf=Q.precedence,Fl=Q.href,d0=Q.nonce;if(Ot.insertionMode===4||Kf||Q.itemProp!=null||typeof wf!="string"||typeof Fl!="string"||Fl===""){z.push(pr("style"));var uu=null,Ah=null,Cf;for(Cf in Q)if(Te.call(Q,Cf)){var Zf=Q[Cf];if(Zf!=null)switch(Cf){case"children":uu=Zf;break;case"dangerouslySetInnerHTML":Ah=Zf;break;default:zr(z,Cf,Zf)}}z.push(gr);var Oi=Array.isArray(uu)?2>uu.length?uu[0]:null:uu;typeof Oi!="function"&&typeof Oi!="symbol"&&Oi!==null&&Oi!==void 0&&z.push(ue((""+Oi).replace(Ki,Bo))),Hr(z,Ah,uu),z.push(Ht("style"));var g0=null}else{var Ru=de.styles.get(wf);if((le.styleResources.hasOwnProperty(Fl)?le.styleResources[Fl]:void 0)!==null){le.styleResources[Fl]=null,Ru||(Ru={precedence:ue(ft(wf)),rules:[],hrefs:[],sheets:new Map},de.styles.set(wf,Ru));var Qc=de.nonce.style;if(!Qc||Qc===d0){Ru.hrefs.push(ue(ft(Fl)));var ll=Ru.rules,Nu=null,Sf=null,Ef;for(Ef in Q)if(Te.call(Q,Ef)){var qf=Q[Ef];if(qf!=null)switch(Ef){case"children":Nu=qf;break;case"dangerouslySetInnerHTML":Sf=qf}}var Af=Array.isArray(Nu)?2>Nu.length?Nu[0]:null:Nu;typeof Af!="function"&&typeof Af!="symbol"&&Af!==null&&Af!==void 0&&ll.push(ue((""+Af).replace(Ki,Bo))),Hr(ll,Sf,Nu)}}Ru&&$e&&$e.styles.add(Ru),ht&&z.push(er),g0=void 0}return g0;case"meta":var Qf=Ot.tagScope&1,Oo=Ot.tagScope&4;if(Ot.insertionMode===4||Qf||Q.itemProp!=null)var xs=br(z,Q,"meta");else ht&&z.push(er),xs=Oo?null:typeof Q.charSet=="string"?br(de.charsetChunks,Q,"meta"):Q.name==="viewport"?br(de.viewportChunks,Q,"meta"):br(de.hoistableChunks,Q,"meta");return xs;case"listing":case"pre":z.push(pr(H));var Tc=null,Jc=null,Ii;for(Ii in Q)if(Te.call(Q,Ii)){var Tf=Q[Ii];if(Tf!=null)switch(Ii){case"children":Tc=Tf;break;case"dangerouslySetInnerHTML":Jc=Tf;break;default:zr(z,Ii,Tf)}}if(z.push(gr),Jc!=null){if(Tc!=null)throw Error(n(60));if(typeof Jc!="object"||!("__html"in Jc))throw Error(n(61));var cu=Jc.__html;cu!=null&&(typeof cu=="string"&&0<cu.length&&cu[0]===`
`?z.push(hl,ue(cu)):z.push(ue(""+cu)))}return typeof Tc=="string"&&Tc[0]===`
`&&z.push(hl),Tc;case"img":var $c=Ot.tagScope&3,os=Q.src,Io=Q.srcSet;if(!(Q.loading==="lazy"||!os&&!Io||typeof os!="string"&&os!=null||typeof Io!="string"&&Io!=null||Q.fetchPriority==="low"||$c)&&(typeof os!="string"||os[4]!==":"||os[0]!=="d"&&os[0]!=="D"||os[1]!=="a"&&os[1]!=="A"||os[2]!=="t"&&os[2]!=="T"||os[3]!=="a"&&os[3]!=="A")&&(typeof Io!="string"||Io[4]!==":"||Io[0]!=="d"&&Io[0]!=="D"||Io[1]!=="a"&&Io[1]!=="A"||Io[2]!=="t"&&Io[2]!=="T"||Io[3]!=="a"&&Io[3]!=="A")){$e!==null&&Ot.tagScope&64&&($e.suspenseyImages=!0);var Y0=typeof Q.sizes=="string"?Q.sizes:void 0,da=Io?Io+`
`+(Y0||""):os,Jf=de.preloads.images,Dc=Jf.get(da);if(Dc)(Q.fetchPriority==="high"||10>de.highImagePreloads.size)&&(Jf.delete(da),de.highImagePreloads.add(Dc));else if(!le.imageResources.hasOwnProperty(da)){le.imageResources[da]=Zt;var Th=Q.crossOrigin,Df=typeof Th=="string"?Th==="use-credentials"?Th:"":void 0,l=de.headers,x;l&&0<l.remainingCapacity&&typeof Q.srcSet!="string"&&(Q.fetchPriority==="high"||500>l.highImagePreloads.length)&&(x=L(os,"image",{imageSrcSet:Q.srcSet,imageSizes:Q.sizes,crossOrigin:Df,integrity:Q.integrity,nonce:Q.nonce,type:Q.type,fetchPriority:Q.fetchPriority,referrerPolicy:Q.refererPolicy}),0<=(l.remainingCapacity-=x.length+2))?(de.resets.image[da]=Zt,l.highImagePreloads&&(l.highImagePreloads+=", "),l.highImagePreloads+=x):(Dc=[],mn(Dc,{rel:"preload",as:"image",href:Io?void 0:os,imageSrcSet:Io,imageSizes:Y0,crossOrigin:Df,integrity:Q.integrity,type:Q.type,fetchPriority:Q.fetchPriority,referrerPolicy:Q.referrerPolicy}),Q.fetchPriority==="high"||10>de.highImagePreloads.size?de.highImagePreloads.add(Dc):(de.bulkPreloads.add(Dc),Jf.set(da,Dc)))}}return br(z,Q,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return br(z,Q,H);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>Ot.insertionMode){var M=He||de.preamble;if(M.headChunks)throw Error(n(545,"`<head>`"));He!==null&&z.push(fr),M.headChunks=[];var _=On(M.headChunks,Q,"head")}else _=Zi(z,Q,"head");return _;case"body":if(2>Ot.insertionMode){var F=He||de.preamble;if(F.bodyChunks)throw Error(n(545,"`<body>`"));He!==null&&z.push(Or),F.bodyChunks=[];var X=On(F.bodyChunks,Q,"body")}else X=Zi(z,Q,"body");return X;case"html":if(Ot.insertionMode===0){var ie=He||de.preamble;if(ie.htmlChunks)throw Error(n(545,"`<html>`"));He!==null&&z.push(fo),ie.htmlChunks=[Zn];var fe=On(ie.htmlChunks,Q,"html")}else fe=Zi(z,Q,"html");return fe;default:if(H.indexOf("-")!==-1){z.push(pr(H));var ye=null,ke=null,et;for(et in Q)if(Te.call(Q,et)){var st=Q[et];if(st!=null){var Pt=et;switch(et){case"children":ye=st;break;case"dangerouslySetInnerHTML":ke=st;break;case"style":Jn(z,st);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Pt="class";default:if(rt(et)&&typeof st!="function"&&typeof st!="symbol"&&st!==!1){if(st===!0)st="";else if(typeof st=="object")continue;z.push(Fr,ue(Pt),si,ue(ft(st)),Yr)}}}}return z.push(gr),Hr(z,ke,ye),ye}}return Zi(z,Q,H)}var Ti=new Map;function Ht(z){var H=Ti.get(z);return H===void 0&&(H=ce("</"+z+">"),Ti.set(z,H)),H}function Qe(z,H){z=z.preamble,z.htmlChunks===null&&H.htmlChunks&&(z.htmlChunks=H.htmlChunks),z.headChunks===null&&H.headChunks&&(z.headChunks=H.headChunks),z.bodyChunks===null&&H.bodyChunks&&(z.bodyChunks=H.bodyChunks)}function Gn(z,H){H=H.bootstrapChunks;for(var Q=0;Q<H.length-1;Q++)me(z,H[Q]);return Q<H.length?(Q=H[Q],H.length=0,Ie(z,Q)):!0}var Di=ce("requestAnimationFrame(function(){$RT=performance.now()});"),pa=ce('<template id="'),nt=ce('"></template>'),Gt=ce("<!--&-->"),It=ce("<!--/&-->"),nn=ce("<!--$-->"),xn=ce('<!--$?--><template id="'),hr=ce('"></template>'),En=ce("<!--$!-->"),Dr=ce("<!--/$-->"),$r=ce("<template"),Rr=ce('"'),ei=ce(' data-dgst="');ce(' data-msg="'),ce(' data-stck="'),ce(' data-cstck="');var Ur=ce("></template>");function Jr(z,H,Q){if(me(z,xn),Q===null)throw Error(n(395));return me(z,H.boundaryPrefix),me(z,ue(Q.toString(16))),Ie(z,hr)}var kr=ce('<div hidden id="'),Vn=ce('">'),xa=ce("</div>"),tr=ce('<svg aria-hidden="true" style="display:none" id="'),Kr=ce('">'),hi=ce("</svg>"),Hi=ce('<math aria-hidden="true" style="display:none" id="'),wo=ce('">'),Fo=ce("</math>"),As=ce('<table hidden id="'),Co=ce('">'),ho=ce("</table>"),io=ce('<table hidden><tbody id="'),us=ce('">'),qi=ce("</tbody></table>"),_a=ce('<table hidden><tr id="'),Ea=ce('">'),Ts=ce("</tr></table>"),Ds=ce('<table hidden><colgroup id="'),Ma=ce('">'),vu=ce("</colgroup></table>");function Ul(z,H,Q,le){switch(Q.insertionMode){case 0:case 1:case 3:case 2:return me(z,kr),me(z,H.segmentPrefix),me(z,ue(le.toString(16))),Ie(z,Vn);case 4:return me(z,tr),me(z,H.segmentPrefix),me(z,ue(le.toString(16))),Ie(z,Kr);case 5:return me(z,Hi),me(z,H.segmentPrefix),me(z,ue(le.toString(16))),Ie(z,wo);case 6:return me(z,As),me(z,H.segmentPrefix),me(z,ue(le.toString(16))),Ie(z,Co);case 7:return me(z,io),me(z,H.segmentPrefix),me(z,ue(le.toString(16))),Ie(z,us);case 8:return me(z,_a),me(z,H.segmentPrefix),me(z,ue(le.toString(16))),Ie(z,Ea);case 9:return me(z,Ds),me(z,H.segmentPrefix),me(z,ue(le.toString(16))),Ie(z,Ma);default:throw Error(n(397))}}function kl(z,H){switch(H.insertionMode){case 0:case 1:case 3:case 2:return Ie(z,xa);case 4:return Ie(z,hi);case 5:return Ie(z,Fo);case 6:return Ie(z,ho);case 7:return Ie(z,qi);case 8:return Ie(z,Ts);case 9:return Ie(z,vu);default:throw Error(n(397))}}var gi=ce('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ks=ce('$RS("'),_l=ce('","'),Fa=ce('")<\/script>');ce('<template data-rsi="" data-sid="'),ce('" data-pid="');var _s=ce(`$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};`);ue(`$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),
H=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll('img[src]:not([loading="lazy"])'))}}}if(B){var z=
document.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=
performance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);`);var Qt=ce('$RC("'),Nr=ce(`$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=
"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=
"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("`),Va=ce('$RR("'),cs=ce('","'),yu=ce('",'),jl=ce('"'),nu=ce(")<\/script>");ce('<template data-rci="" data-bid="'),ce('<template data-rri="" data-bid="'),ce('" data-sid="'),ce('" data-sty="');var Zs=ce('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),Oa=ce('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),Qi=ce('$RX("'),Fs=ce('"'),Ni=ce(","),dl=ce(")<\/script>");ce('<template data-rxi="" data-bid="'),ce('" data-dgst="'),ce('" data-msg="'),ce('" data-stck="'),ce('" data-cstck="');var gl=/[<\u2028\u2029]/g;function ki(z){return JSON.stringify(z).replace(gl,function(H){switch(H){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var jn=/[&><\u2028\u2029]/g;function Vo(z){return JSON.stringify(z).replace(jn,function(H){switch(H){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var di=ce(' media="not all" data-precedence="'),fs=ce('" data-href="'),qs=ce('">'),Po=ce("</style>"),oi=!1,pl=!0;function Ps(z){var H=z.rules,Q=z.hrefs,le=0;if(Q.length){for(me(this,Bn.startInlineStyle),me(this,di),me(this,z.precedence),me(this,fs);le<Q.length-1;le++)me(this,Q[le]),me(this,ml);for(me(this,Q[le]),me(this,qs),le=0;le<H.length;le++)me(this,H[le]);pl=Ie(this,Po),oi=!0,H.length=0,Q.length=0}}function Ji(z){return z.state!==2?oi=!0:!1}function zo(z,H,Q){return oi=!1,pl=!0,Bn=Q,H.styles.forEach(Ps,z),Bn=null,H.stylesheets.forEach(Ji),oi&&(Q.stylesToHoist=!0),pl}function Li(z){for(var H=0;H<z.length;H++)me(this,z[H]);z.length=0}var Ko=[];function Zo(z){mn(Ko,z.props);for(var H=0;H<Ko.length;H++)me(this,Ko[H]);Ko.length=0,z.state=2}var Qs=ce(' data-precedence="'),xu=ce('" data-href="'),ml=ce(" "),Js=ce('">'),qo=ce("</style>");function Ml(z){var H=0<z.sheets.size;z.sheets.forEach(Zo,this),z.sheets.clear();var Q=z.rules,le=z.hrefs;if(!H||le.length){if(me(this,Bn.startInlineStyle),me(this,Qs),me(this,z.precedence),z=0,le.length){for(me(this,xu);z<le.length-1;z++)me(this,le[z]),me(this,ml);me(this,le[z])}for(me(this,Js),z=0;z<Q.length;z++)me(this,Q[z]);me(this,qo),Q.length=0,le.length=0}}function Bi(z){if(z.state===0){z.state=1;var H=z.props;for(mn(Ko,{rel:"preload",as:"style",href:z.props.href,crossOrigin:H.crossOrigin,fetchPriority:H.fetchPriority,integrity:H.integrity,media:H.media,hrefLang:H.hrefLang,referrerPolicy:H.referrerPolicy}),z=0;z<Ko.length;z++)me(this,Ko[z]);Ko.length=0}}function So(z){z.sheets.forEach(Bi,this),z.sheets.clear()}ce('<link rel="expect" href="#'),ce('" blocking="render"/>');var Ka=ce(' id="');function hs(z,H){(H.instructions&32)===0&&(H.instructions|=32,z.push(Ka,ue(ft("_"+H.idPrefix+"R_")),Yr))}var Ms=ce("["),Qo=ce(",["),Ho=ce(","),Pa=ce("]");function Ui(z,H){me(z,Ms);var Q=Ms;H.stylesheets.forEach(function(le){if(le.state!==2)if(le.state===3)me(z,Q),me(z,ue(Vo(""+le.props.href))),me(z,Pa),Q=Qo;else{me(z,Q);var de=le.props["data-precedence"],He=le.props,$e=zt(""+le.props.href);me(z,ue(Vo($e))),de=""+de,me(z,Ho),me(z,ue(Vo(de)));for(var Ot in He)if(Te.call(He,Ot)&&(de=He[Ot],de!=null))switch(Ot){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:$i(z,Ot,de)}me(z,Pa),Q=Qo,le.state=3}}),me(z,Pa)}function $i(z,H,Q){var le=H.toLowerCase();switch(typeof Q){case"function":case"symbol":return}switch(H){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":le="class",H=""+Q;break;case"hidden":if(Q===!1)return;H="";break;case"src":case"href":Q=zt(Q),H=""+Q;break;default:if(2<H.length&&(H[0]==="o"||H[0]==="O")&&(H[1]==="n"||H[1]==="N")||!rt(H))return;H=""+Q}me(z,Ho),me(z,ue(Vo(le))),me(z,Ho),me(z,ue(Vo(H)))}function go(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function Er(z){var H=Zr||null;if(H){var Q=H.resumableState,le=H.renderState;if(typeof z=="string"&&z){if(!Q.dnsResources.hasOwnProperty(z)){Q.dnsResources[z]=null,Q=le.headers;var de,He;(He=Q&&0<Q.remainingCapacity)&&(He=(de="<"+(""+z).replace(b,T)+">; rel=dns-prefetch",0<=(Q.remainingCapacity-=de.length+2))),He?(le.resets.dns[z]=null,Q.preconnects&&(Q.preconnects+=", "),Q.preconnects+=de):(de=[],mn(de,{href:z,rel:"dns-prefetch"}),le.preconnects.add(de))}ys(H)}}else Xt.D(z)}function $s(z,H){var Q=Zr||null;if(Q){var le=Q.resumableState,de=Q.renderState;if(typeof z=="string"&&z){var He=H==="use-credentials"?"credentials":typeof H=="string"?"anonymous":"default";if(!le.connectResources[He].hasOwnProperty(z)){le.connectResources[He][z]=null,le=de.headers;var $e,Ot;if(Ot=le&&0<le.remainingCapacity){if(Ot="<"+(""+z).replace(b,T)+">; rel=preconnect",typeof H=="string"){var ht=(""+H).replace(B,j);Ot+='; crossorigin="'+ht+'"'}Ot=($e=Ot,0<=(le.remainingCapacity-=$e.length+2))}Ot?(de.resets.connect[He][z]=null,le.preconnects&&(le.preconnects+=", "),le.preconnects+=$e):(He=[],mn(He,{rel:"preconnect",href:z,crossOrigin:H}),de.preconnects.add(He))}ys(Q)}}else Xt.C(z,H)}function _e(z,H,Q){var le=Zr||null;if(le){var de=le.resumableState,He=le.renderState;if(H&&z){switch(H){case"image":if(Q)var $e=Q.imageSrcSet,Ot=Q.imageSizes,ht=Q.fetchPriority;var Nt=$e?$e+`
`+(Ot||""):z;if(de.imageResources.hasOwnProperty(Nt))return;de.imageResources[Nt]=Zt,de=He.headers;var qt;de&&0<de.remainingCapacity&&typeof $e!="string"&&ht==="high"&&(qt=L(z,H,Q),0<=(de.remainingCapacity-=qt.length+2))?(He.resets.image[Nt]=Zt,de.highImagePreloads&&(de.highImagePreloads+=", "),de.highImagePreloads+=qt):(de=[],mn(de,be({rel:"preload",href:$e?void 0:z,as:H},Q)),ht==="high"?He.highImagePreloads.add(de):(He.bulkPreloads.add(de),He.preloads.images.set(Nt,de)));break;case"style":if(de.styleResources.hasOwnProperty(z))return;$e=[],mn($e,be({rel:"preload",href:z,as:H},Q)),de.styleResources[z]=!Q||typeof Q.crossOrigin!="string"&&typeof Q.integrity!="string"?Zt:[Q.crossOrigin,Q.integrity],He.preloads.stylesheets.set(z,$e),He.bulkPreloads.add($e);break;case"script":if(de.scriptResources.hasOwnProperty(z))return;$e=[],He.preloads.scripts.set(z,$e),He.bulkPreloads.add($e),mn($e,be({rel:"preload",href:z,as:H},Q)),de.scriptResources[z]=!Q||typeof Q.crossOrigin!="string"&&typeof Q.integrity!="string"?Zt:[Q.crossOrigin,Q.integrity];break;default:if(de.unknownResources.hasOwnProperty(H)){if($e=de.unknownResources[H],$e.hasOwnProperty(z))return}else $e={},de.unknownResources[H]=$e;$e[z]=Zt,(de=He.headers)&&0<de.remainingCapacity&&H==="font"&&(Nt=L(z,H,Q),0<=(de.remainingCapacity-=Nt.length+2))?(He.resets.font[z]=Zt,de.fontPreloads&&(de.fontPreloads+=", "),de.fontPreloads+=Nt):(de=[],z=be({rel:"preload",href:z,as:H},Q),mn(de,z),H)==="font"?He.fontPreloads.add(de):He.bulkPreloads.add(de)}ys(le)}}else Xt.L(z,H,Q)}function s(z,H){var Q=Zr||null;if(Q){var le=Q.resumableState,de=Q.renderState;if(z){var He=H&&typeof H.as=="string"?H.as:"script";switch(He){case"script":if(le.moduleScriptResources.hasOwnProperty(z))return;He=[],le.moduleScriptResources[z]=!H||typeof H.crossOrigin!="string"&&typeof H.integrity!="string"?Zt:[H.crossOrigin,H.integrity],de.preloads.moduleScripts.set(z,He);break;default:if(le.moduleUnknownResources.hasOwnProperty(He)){var $e=le.unknownResources[He];if($e.hasOwnProperty(z))return}else $e={},le.moduleUnknownResources[He]=$e;He=[],$e[z]=Zt}mn(He,be({rel:"modulepreload",href:z},H)),de.bulkPreloads.add(He),ys(Q)}}else Xt.m(z,H)}function p(z,H,Q){var le=Zr||null;if(le){var de=le.resumableState,He=le.renderState;if(z){H=H||"default";var $e=He.styles.get(H),Ot=de.styleResources.hasOwnProperty(z)?de.styleResources[z]:void 0;Ot!==null&&(de.styleResources[z]=null,$e||($e={precedence:ue(ft(H)),rules:[],hrefs:[],sheets:new Map},He.styles.set(H,$e)),H={state:0,props:be({rel:"stylesheet",href:z,"data-precedence":H},Q)},Ot&&(Ot.length===2&&k(H.props,Ot),(He=He.preloads.stylesheets.get(z))&&0<He.length?He.length=0:H.state=1),$e.sheets.set(z,H),ys(le))}}else Xt.S(z,H,Q)}function w(z,H){var Q=Zr||null;if(Q){var le=Q.resumableState,de=Q.renderState;if(z){var He=le.scriptResources.hasOwnProperty(z)?le.scriptResources[z]:void 0;He!==null&&(le.scriptResources[z]=null,H=be({src:z,async:!0},H),He&&(He.length===2&&k(H,He),z=de.preloads.scripts.get(z))&&(z.length=0),z=[],de.scripts.add(z),cn(z,H),ys(Q))}}else Xt.X(z,H)}function A(z,H){var Q=Zr||null;if(Q){var le=Q.resumableState,de=Q.renderState;if(z){var He=le.moduleScriptResources.hasOwnProperty(z)?le.moduleScriptResources[z]:void 0;He!==null&&(le.moduleScriptResources[z]=null,H=be({src:z,type:"module",async:!0},H),He&&(He.length===2&&k(H,He),z=de.preloads.moduleScripts.get(z))&&(z.length=0),z=[],de.scripts.add(z),cn(z,H),ys(Q))}}else Xt.M(z,H)}function k(z,H){z.crossOrigin==null&&(z.crossOrigin=H[0]),z.integrity==null&&(z.integrity=H[1])}function L(z,H,Q){z=(""+z).replace(b,T),H=(""+H).replace(B,j),H="<"+z+'>; rel=preload; as="'+H+'"';for(var le in Q)Te.call(Q,le)&&(z=Q[le],typeof z=="string"&&(H+="; "+le.toLowerCase()+'="'+(""+z).replace(B,j)+'"'));return H}var b=/[<>\r\n]/g;function T(z){switch(z){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var B=/["';,\r\n]/g;function j(z){switch(z){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function V(z){this.styles.add(z)}function ee(z){this.stylesheets.add(z)}function he(z,H){H.styles.forEach(V,z),H.stylesheets.forEach(ee,z),H.suspenseyImages&&(z.suspenseyImages=!0)}function Ae(z){return 0<z.stylesheets.size||z.suspenseyImages}var Oe=Function.prototype.bind,Le=Symbol.for("react.client.reference");function Xe(z){if(z==null)return null;if(typeof z=="function")return z.$$typeof===Le?null:z.displayName||z.name||null;if(typeof z=="string")return z;switch(z){case c:return"Fragment";case d:return"Profiler";case y:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList";case S:return"Activity"}if(typeof z=="object")switch(z.$$typeof){case o:return"Portal";case u:return z.displayName||"Context";case a:return(z._context.displayName||"Context")+".Consumer";case v:var H=z.render;return z=z.displayName,z||(z=H.displayName||H.name||"",z=z!==""?"ForwardRef("+z+")":"ForwardRef"),z;case m:return H=z.displayName||null,H!==null?H:Xe(z.type)||"Memo";case C:H=z._payload,z=z._init;try{return Xe(z(H))}catch{}}return null}var Ke={},ot=null;function Je(z,H){if(z!==H){z.context._currentValue=z.parentValue,z=z.parent;var Q=H.parent;if(z===null){if(Q!==null)throw Error(n(401))}else{if(Q===null)throw Error(n(401));Je(z,Q)}H.context._currentValue=H.value}}function wt(z){z.context._currentValue=z.parentValue,z=z.parent,z!==null&&wt(z)}function R(z){var H=z.parent;H!==null&&R(H),z.context._currentValue=z.value}function P(z,H){if(z.context._currentValue=z.parentValue,z=z.parent,z===null)throw Error(n(402));z.depth===H.depth?Je(z,H):P(z,H)}function Y(z,H){var Q=H.parent;if(Q===null)throw Error(n(402));z.depth===Q.depth?Je(z,Q):Y(z,Q),H.context._currentValue=H.value}function $(z){var H=ot;H!==z&&(H===null?R(z):z===null?wt(H):H.depth===z.depth?Je(H,z):H.depth>z.depth?P(H,z):Y(H,z),ot=z)}var ae={enqueueSetState:function(z,H){z=z._reactInternals,z.queue!==null&&z.queue.push(H)},enqueueReplaceState:function(z,H){z=z._reactInternals,z.replace=!0,z.queue=[H]},enqueueForceUpdate:function(){}},De={id:1,overflow:""};function ze(z,H,Q){var le=z.id;z=z.overflow;var de=32-vt(le)-1;le&=~(1<<de),Q+=1;var He=32-vt(H)+de;if(30<He){var $e=de-de%5;return He=(le&(1<<$e)-1).toString(32),le>>=$e,de-=$e,{id:1<<32-vt(H)+de|Q<<de|le,overflow:He+z}}return{id:1<<He|Q<<de|le,overflow:z}}var vt=Math.clz32?Math.clz32:Rt,tt=Math.log,xt=Math.LN2;function Rt(z){return z>>>=0,z===0?32:31-(tt(z)/xt|0)|0}function Et(){}var Vt=Error(n(460));function dn(z,H,Q){switch(Q=z[Q],Q===void 0?z.push(H):Q!==H&&(H.then(Et,Et),H=Q),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Et,Et):(z=H,z.status="pending",z.then(function(le){if(H.status==="pending"){var de=H;de.status="fulfilled",de.value=le}},function(le){if(H.status==="pending"){var de=H;de.status="rejected",de.reason=le}})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}throw Nn=H,Vt}}var Nn=null;function In(){if(Nn===null)throw Error(n(459));var z=Nn;return Nn=null,z}function rr(z,H){return z===H&&(z!==0||1/z===1/H)||z!==z&&H!==H}var Rn=typeof Object.is=="function"?Object.is:rr,sr=null,_r=null,ea=null,wr=null,jr=null,ui=null,ua=!1,pi=!1,za=0,Fi=0,ca=-1,fa=0,ma=null,Eo=null,ru=0;function zs(){if(sr===null)throw Error(n(321));return sr}function ds(){if(0<ru)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function el(){return ui===null?jr===null?(ua=!1,jr=ui=ds()):(ua=!0,ui=jr):ui.next===null?(ua=!1,ui=ui.next=ds()):(ua=!0,ui=ui.next),ui}function Ha(){var z=ma;return ma=null,z}function po(){wr=ea=_r=sr=null,pi=!1,jr=null,ru=0,ui=Eo=null}function Ao(z,H){return typeof H=="function"?H(z):H}function Za(z,H,Q){if(sr=zs(),ui=el(),ua){var le=ui.queue;if(H=le.dispatch,Eo!==null&&(Q=Eo.get(le),Q!==void 0)){Eo.delete(le),le=ui.memoizedState;do le=z(le,Q.action),Q=Q.next;while(Q!==null);return ui.memoizedState=le,[le,H]}return[ui.memoizedState,H]}return z=z===Ao?typeof H=="function"?H():H:Q!==void 0?Q(H):H,ui.memoizedState=z,z=ui.queue={last:null,dispatch:null},z=z.dispatch=gs.bind(null,sr,z),[ui.memoizedState,z]}function Ua(z,H){if(sr=zs(),ui=el(),H=H===void 0?null:H,ui!==null){var Q=ui.memoizedState;if(Q!==null&&H!==null){var le=Q[1];e:if(le===null)le=!1;else{for(var de=0;de<le.length&&de<H.length;de++)if(!Rn(H[de],le[de])){le=!1;break e}le=!0}if(le)return Q[0]}}return z=z(),ui.memoizedState=[z,H],z}function gs(z,H,Q){if(25<=ru)throw Error(n(301));if(z===sr)if(pi=!0,z={action:Q,next:null},Eo===null&&(Eo=new Map),Q=Eo.get(H),Q===void 0)Eo.set(H,z);else{for(H=Q;H.next!==null;)H=H.next;H.next=z}}function ji(){throw Error(n(440))}function Jo(){throw Error(n(394))}function To(){throw Error(n(479))}function bu(z,H,Q){zs();var le=Fi++,de=ea;if(typeof z.$$FORM_ACTION=="function"){var He=null,$e=wr;de=de.formState;var Ot=z.$$IS_SIGNATURE_EQUAL;if(de!==null&&typeof Ot=="function"){var ht=de[1];Ot.call(z,de[2],de[3])&&(He=Q!==void 0?"p"+Q:"k"+ne(JSON.stringify([$e,null,le]),0),ht===He&&(ca=le,H=de[0]))}var Nt=z.bind(null,H);return z=function(on){Nt(on)},typeof Nt.$$FORM_ACTION=="function"&&(z.$$FORM_ACTION=function(on){on=Nt.$$FORM_ACTION(on),Q!==void 0&&(Q+="",on.action=Q);var kn=on.data;return kn&&(He===null&&(He=Q!==void 0?"p"+Q:"k"+ne(JSON.stringify([$e,null,le]),0)),kn.append("$ACTION_KEY",He)),on}),[H,z,!1]}var qt=z.bind(null,H);return[H,function(on){qt(on)},!1]}function Ol(z){var H=fa;return fa+=1,ma===null&&(ma=[]),dn(ma,z,H)}function wu(){throw Error(n(393))}var iu={readContext:function(z){return z._currentValue},use:function(z){if(z!==null&&typeof z=="object"){if(typeof z.then=="function")return Ol(z);if(z.$$typeof===u)return z._currentValue}throw Error(n(438,String(z)))},useContext:function(z){return zs(),z._currentValue},useMemo:Ua,useReducer:Za,useRef:function(z){sr=zs(),ui=el();var H=ui.memoizedState;return H===null?(z={current:z},ui.memoizedState=z):H},useState:function(z){return Za(Ao,z)},useInsertionEffect:Et,useLayoutEffect:Et,useCallback:function(z,H){return Ua(function(){return z},H)},useImperativeHandle:Et,useEffect:Et,useDebugValue:Et,useDeferredValue:function(z,H){return zs(),H!==void 0?H:z},useTransition:function(){return zs(),[!1,Jo]},useId:function(){var z=_r.treeContext,H=z.overflow;z=z.id,z=(z&~(1<<32-vt(z)-1)).toString(32)+H;var Q=qa;if(Q===null)throw Error(n(404));return H=za++,z="_"+Q.idPrefix+"R_"+z,0<H&&(z+="H"+H.toString(32)),z+"_"},useSyncExternalStore:function(z,H,Q){if(Q===void 0)throw Error(n(407));return Q()},useOptimistic:function(z){return zs(),[z,To]},useActionState:bu,useFormState:bu,useHostTransitionStatus:function(){return zs(),un},useMemoCache:function(z){for(var H=Array(z),Q=0;Q<z;Q++)H[Q]=N;return H},useCacheRefresh:function(){return wu},useEffectEvent:function(){return ji}},qa=null,va={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}},ri,$o;function Ia(z){if(ri===void 0)try{throw Error()}catch(Q){var H=Q.stack.trim().match(/\n( *(at )?)/);ri=H&&H[1]||"",$o=-1<Q.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Q.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+z+$o}var vl=!1;function Os(z,H){if(!z||vl)return"";vl=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var le={DetermineComponentFrameRoot:function(){try{if(H){var on=function(){throw Error()};if(Object.defineProperty(on.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(on,[])}catch(_n){var kn=_n}Reflect.construct(z,[],on)}else{try{on.call()}catch(_n){kn=_n}z.call(on.prototype)}}else{try{throw Error()}catch(_n){kn=_n}(on=z())&&typeof on.catch=="function"&&on.catch(function(){})}}catch(_n){if(_n&&kn&&typeof _n.stack=="string")return[_n.stack,kn.stack]}return[null,null]}};le.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var de=Object.getOwnPropertyDescriptor(le.DetermineComponentFrameRoot,"name");de&&de.configurable&&Object.defineProperty(le.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var He=le.DetermineComponentFrameRoot(),$e=He[0],Ot=He[1];if($e&&Ot){var ht=$e.split(`
`),Nt=Ot.split(`
`);for(de=le=0;le<ht.length&&!ht[le].includes("DetermineComponentFrameRoot");)le++;for(;de<Nt.length&&!Nt[de].includes("DetermineComponentFrameRoot");)de++;if(le===ht.length||de===Nt.length)for(le=ht.length-1,de=Nt.length-1;1<=le&&0<=de&&ht[le]!==Nt[de];)de--;for(;1<=le&&0<=de;le--,de--)if(ht[le]!==Nt[de]){if(le!==1||de!==1)do if(le--,de--,0>de||ht[le]!==Nt[de]){var qt=`
`+ht[le].replace(" at new "," at ");return z.displayName&&qt.includes("<anonymous>")&&(qt=qt.replace("<anonymous>",z.displayName)),qt}while(1<=le&&0<=de);break}}}finally{vl=!1,Error.prepareStackTrace=Q}return(Q=z?z.displayName||z.name:"")?Ia(Q):""}function ff(z){if(typeof z=="string")return Ia(z);if(typeof z=="function")return z.prototype&&z.prototype.isReactComponent?Os(z,!0):Os(z,!1);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return Os(z.render,!1);case m:return Os(z.type,!1);case C:var H=z,Q=H._payload;H=H._init;try{z=H(Q)}catch{return Ia("Lazy")}return ff(z)}if(typeof z.name=="string"){e:{Q=z.name,H=z.env;var le=z.debugLocation;if(le!=null&&(z=Error.prepareStackTrace,Error.prepareStackTrace=void 0,le=le.stack,Error.prepareStackTrace=z,le.startsWith(`Error: react-stack-top-frame
`)&&(le=le.slice(29)),z=le.indexOf(`
`),z!==-1&&(le=le.slice(z+1)),z=le.indexOf("react_stack_bottom_frame"),z!==-1&&(z=le.lastIndexOf(`
`,z)),z=z!==-1?le=le.slice(0,z):"",le=z.lastIndexOf(`
`),z=le===-1?z:z.slice(le+1),z.indexOf(Q)!==-1)){Q=`
`+z;break e}Q=Ia(Q+(H?" ["+H+"]":""))}return Q}}switch(z){case g:return Ia("SuspenseList");case f:return Ia("Suspense")}return""}function tl(z,H){return(500<H.byteSize||Ae(H.contentState))&&H.contentPreamble===null}function Wl(z){if(typeof z=="object"&&z!==null&&typeof z.environmentName=="string"){var H=z.environmentName;z=[z].slice(0),typeof z[0]=="string"?z.splice(0,1,"%c%s%c "+z[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+H+" ",""):z.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+H+" ",""),z.unshift(console),H=Oe.apply(console.error,z),H()}else console.error(z);return null}function yl(z,H,Q,le,de,He,$e,Ot,ht,Nt,qt){var on=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=z,this.renderState=H,this.rootFormatContext=Q,this.progressiveChunkSize=le===void 0?12800:le,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=on,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=de===void 0?Wl:de,this.onPostpone=Nt===void 0?Et:Nt,this.onAllReady=He===void 0?Et:He,this.onShellReady=$e===void 0?Et:$e,this.onShellError=Ot===void 0?Et:Ot,this.onFatalError=ht===void 0?Et:ht,this.formState=qt===void 0?null:qt}function Cu(z,H,Q,le,de,He,$e,Ot,ht,Nt,qt,on){return H=new yl(H,Q,le,de,He,$e,Ot,ht,Nt,qt,on),Q=es(H,0,null,le,!1,!1),Q.parentFlushed=!0,z=nl(H,null,z,-1,null,Q,null,null,H.abortableTasks,null,le,null,De,null,null),Il(z),H.pingedTasks.push(z),H}function Qa(z,H,Q,le,de,He,$e,Ot,ht,Nt,qt){return z=Cu(z,H,Q,le,de,He,$e,Ot,ht,Nt,qt,void 0),z.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},z}function oa(z,H,Q,le,de,He,$e,Ot,ht){return Q=new yl(H.resumableState,Q,H.rootFormatContext,H.progressiveChunkSize,le,de,He,$e,Ot,ht,null),Q.nextSegmentId=H.nextSegmentId,typeof H.replaySlots=="number"?(le=es(Q,0,null,H.rootFormatContext,!1,!1),le.parentFlushed=!0,z=nl(Q,null,z,-1,null,le,null,null,Q.abortableTasks,null,H.rootFormatContext,null,De,null,null),Il(z),Q.pingedTasks.push(z),Q):(z=xc(Q,null,{nodes:H.replayNodes,slots:H.replaySlots,pendingTasks:0},z,-1,null,null,Q.abortableTasks,null,H.rootFormatContext,null,De,null,null),Il(z),Q.pingedTasks.push(z),Q)}function Ra(z,H,Q,le,de,He,$e,Ot,ht){return z=oa(z,H,Q,le,de,He,$e,Ot,ht),z.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},z}var Zr=null;function Do(z,H){z.pingedTasks.push(H),z.pingedTasks.length===1&&(z.flushScheduled=z.destination!==null,z.trackedPostpones!==null||z.status===10?mt(function(){return jc(z)}):Be(function(){return jc(z)}))}function Hs(z,H,Q,le,de){return Q={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:H,completedSegments:[],byteSize:0,fallbackAbortableTasks:Q,errorDigest:null,contentState:go(),fallbackState:go(),contentPreamble:le,fallbackPreamble:de,trackedContentKeyPath:null,trackedFallbackNode:null},H!==null&&(H.pendingTasks++,le=H.boundaries,le!==null&&(z.allPendingTasks++,Q.pendingTasks++,le.push(Q)),z=H.inheritedHoistables,z!==null&&he(Q.contentState,z)),Q}function nl(z,H,Q,le,de,He,$e,Ot,ht,Nt,qt,on,kn,_n,lr){z.allPendingTasks++,de===null?z.pendingRootTasks++:de.pendingTasks++,_n!==null&&_n.pendingTasks++;var ti={replay:null,node:Q,childIndex:le,ping:function(){return Do(z,ti)},blockedBoundary:de,blockedSegment:He,blockedPreamble:$e,hoistableState:Ot,abortSet:ht,keyPath:Nt,formatContext:qt,context:on,treeContext:kn,row:_n,componentStack:lr,thenableState:H};return ht.add(ti),ti}function xc(z,H,Q,le,de,He,$e,Ot,ht,Nt,qt,on,kn,_n){z.allPendingTasks++,He===null?z.pendingRootTasks++:He.pendingTasks++,kn!==null&&kn.pendingTasks++,Q.pendingTasks++;var lr={replay:Q,node:le,childIndex:de,ping:function(){return Do(z,lr)},blockedBoundary:He,blockedSegment:null,blockedPreamble:null,hoistableState:$e,abortSet:Ot,keyPath:ht,formatContext:Nt,context:qt,treeContext:on,row:kn,componentStack:_n,thenableState:H};return Ot.add(lr),lr}function es(z,H,Q,le,de,He){return{status:0,parentFlushed:!1,id:-1,index:H,chunks:[],children:[],preambleChildren:[],parentFormatContext:le,boundary:Q,lastPushedText:de,textEmbedded:He}}function Il(z){var H=z.node;typeof H=="object"&&H!==null&&H.$$typeof===r&&(z.componentStack={parent:z.componentStack,type:H.type})}function Is(z){return z===null?null:{parent:z.parent,type:"Suspense Fallback"}}function sa(z){var H={};return z&&Object.defineProperty(H,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var Q="",le=z;do Q+=ff(le.type),le=le.parent;while(le);var de=Q}catch(He){de=`
Error generating stack: `+He.message+`
`+He.stack}return Object.defineProperty(H,"componentStack",{value:de}),de}}),H}function Ja(z,H,Q){if(z=z.onError,H=z(H,Q),H==null||typeof H=="string")return H}function Yu(z,H){var Q=z.onShellError,le=z.onFatalError;Q(H),le(H),z.destination!==null?(z.status=14,Z(z.destination,H)):(z.status=13,z.fatalError=H)}function Uo(z,H){Hc(z,H.next,H.hoistables)}function Hc(z,H,Q){for(;H!==null;){Q!==null&&(he(H.hoistables,Q),H.inheritedHoistables=Q);var le=H.boundaries;if(le!==null){H.boundaries=null;for(var de=0;de<le.length;de++){var He=le[de];Q!==null&&he(He.contentState,Q),ao(z,He,null,null)}}if(H.pendingTasks--,0<H.pendingTasks)break;Q=H.hoistables,H=H.next}}function bc(z,H){var Q=H.boundaries;if(Q!==null&&H.pendingTasks===Q.length){for(var le=!0,de=0;de<Q.length;de++){var He=Q[de];if(He.pendingTasks!==1||He.parentFlushed||tl(z,He)){le=!1;break}}le&&Hc(z,H,H.hoistables)}}function Aa(z){var H={pendingTasks:1,boundaries:null,hoistables:go(),inheritedHoistables:null,together:!1,next:null};return z!==null&&0<z.pendingTasks&&(H.pendingTasks++,H.boundaries=[],z.next=H),H}function wc(z,H,Q,le,de){var He=H.keyPath,$e=H.treeContext,Ot=H.row;H.keyPath=Q,Q=le.length;var ht=null;if(H.replay!==null){var Nt=H.replay.slots;if(Nt!==null&&typeof Nt=="object")for(var qt=0;qt<Q;qt++){var on=de!=="backwards"&&de!=="unstable_legacy-backwards"?qt:Q-1-qt,kn=le[on];H.row=ht=Aa(ht),H.treeContext=ze($e,Q,on);var _n=Nt[on];typeof _n=="number"?(ps(z,H,_n,kn,on),delete Nt[on]):la(z,H,kn,on),--ht.pendingTasks===0&&Uo(z,ht)}else for(Nt=0;Nt<Q;Nt++)qt=de!=="backwards"&&de!=="unstable_legacy-backwards"?Nt:Q-1-Nt,on=le[qt],H.row=ht=Aa(ht),H.treeContext=ze($e,Q,qt),la(z,H,on,qt),--ht.pendingTasks===0&&Uo(z,ht)}else if(de!=="backwards"&&de!=="unstable_legacy-backwards")for(de=0;de<Q;de++)Nt=le[de],H.row=ht=Aa(ht),H.treeContext=ze($e,Q,de),la(z,H,Nt,de),--ht.pendingTasks===0&&Uo(z,ht);else{for(de=H.blockedSegment,Nt=de.children.length,qt=de.chunks.length,on=Q-1;0<=on;on--){kn=le[on],H.row=ht=Aa(ht),H.treeContext=ze($e,Q,on),_n=es(z,qt,null,H.formatContext,on===0?de.lastPushedText:!0,!0),de.children.splice(Nt,0,_n),H.blockedSegment=_n;try{la(z,H,kn,on),_n.lastPushedText&&_n.textEmbedded&&_n.chunks.push(er),_n.status=1,rs(z,H.blockedBoundary,_n),--ht.pendingTasks===0&&Uo(z,ht)}catch(lr){throw _n.status=z.status===12?3:4,lr}}H.blockedSegment=de,de.lastPushedText=!1}Ot!==null&&ht!==null&&0<ht.pendingTasks&&(Ot.pendingTasks++,ht.next=Ot),H.treeContext=$e,H.row=Ot,H.keyPath=He}function Xu(z,H,Q,le,de,He){var $e=H.thenableState;for(H.thenableState=null,sr={},_r=H,ea=z,wr=Q,Fi=za=0,ca=-1,fa=0,ma=$e,z=le(de,He);pi;)pi=!1,Fi=za=0,ca=-1,fa=0,ru+=1,ui=null,z=le(de,He);return po(),z}function ts(z,H,Q,le,de,He,$e){var Ot=!1;if(He!==0&&z.formState!==null){var ht=H.blockedSegment;if(ht!==null){Ot=!0,ht=ht.chunks;for(var Nt=0;Nt<He;Nt++)Nt===$e?ht.push(hn):ht.push(wi)}}He=H.keyPath,H.keyPath=Q,de?(Q=H.treeContext,H.treeContext=ze(Q,1,0),la(z,H,le,-1),H.treeContext=Q):Ot?la(z,H,le,-1):ta(z,H,le,-1),H.keyPath=He}function au(z,H,Q,le,de,He){if(typeof le=="function")if(le.prototype&&le.prototype.isReactComponent){var $e=de;if("ref"in de){$e={};for(var Ot in de)Ot!=="ref"&&($e[Ot]=de[Ot])}var ht=le.defaultProps;if(ht){$e===de&&($e=be({},$e,de));for(var Nt in ht)$e[Nt]===void 0&&($e[Nt]=ht[Nt])}de=$e,$e=Ke,ht=le.contextType,typeof ht=="object"&&ht!==null&&($e=ht._currentValue),$e=new le(de,$e);var qt=$e.state!==void 0?$e.state:null;if($e.updater=ae,$e.props=de,$e.state=qt,ht={queue:[],replace:!1},$e._reactInternals=ht,He=le.contextType,$e.context=typeof He=="object"&&He!==null?He._currentValue:Ke,He=le.getDerivedStateFromProps,typeof He=="function"&&(He=He(de,qt),qt=He==null?qt:be({},qt,He),$e.state=qt),typeof le.getDerivedStateFromProps!="function"&&typeof $e.getSnapshotBeforeUpdate!="function"&&(typeof $e.UNSAFE_componentWillMount=="function"||typeof $e.componentWillMount=="function"))if(le=$e.state,typeof $e.componentWillMount=="function"&&$e.componentWillMount(),typeof $e.UNSAFE_componentWillMount=="function"&&$e.UNSAFE_componentWillMount(),le!==$e.state&&ae.enqueueReplaceState($e,$e.state,null),ht.queue!==null&&0<ht.queue.length)if(le=ht.queue,He=ht.replace,ht.queue=null,ht.replace=!1,He&&le.length===1)$e.state=le[0];else{for(ht=He?le[0]:$e.state,qt=!0,He=He?1:0;He<le.length;He++)Nt=le[He],Nt=typeof Nt=="function"?Nt.call($e,ht,de,void 0):Nt,Nt!=null&&(qt?(qt=!1,ht=be({},ht,Nt)):be(ht,Nt));$e.state=ht}else ht.queue=null;if(le=$e.render(),z.status===12)throw null;de=H.keyPath,H.keyPath=Q,ta(z,H,le,-1),H.keyPath=de}else{if(le=Xu(z,H,Q,le,de,void 0),z.status===12)throw null;ts(z,H,Q,le,za!==0,Fi,ca)}else if(typeof le=="string")if($e=H.blockedSegment,$e===null)$e=de.children,ht=H.formatContext,qt=H.keyPath,H.formatContext=Cn(ht,le,de),H.keyPath=Q,la(z,H,$e,-1),H.formatContext=ht,H.keyPath=qt;else{if(qt=Ir($e.chunks,le,de,z.resumableState,z.renderState,H.blockedPreamble,H.hoistableState,H.formatContext,$e.lastPushedText),$e.lastPushedText=!1,ht=H.formatContext,He=H.keyPath,H.keyPath=Q,(H.formatContext=Cn(ht,le,de)).insertionMode===3){Q=es(z,0,null,H.formatContext,!1,!1),$e.preambleChildren.push(Q),H.blockedSegment=Q;try{Q.status=6,la(z,H,qt,-1),Q.lastPushedText&&Q.textEmbedded&&Q.chunks.push(er),Q.status=1,rs(z,H.blockedBoundary,Q)}finally{H.blockedSegment=$e}}else la(z,H,qt,-1);H.formatContext=ht,H.keyPath=He;e:{switch(H=$e.chunks,z=z.resumableState,le){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=ht.insertionMode){z.hasBody=!0;break e}break;case"html":if(ht.insertionMode===0){z.hasHtml=!0;break e}break;case"head":if(1>=ht.insertionMode)break e}H.push(Ht(le))}$e.lastPushedText=!1}else{switch(le){case O:case y:case d:case c:le=H.keyPath,H.keyPath=Q,ta(z,H,de.children,-1),H.keyPath=le;return;case S:le=H.blockedSegment,le===null?de.mode!=="hidden"&&(le=H.keyPath,H.keyPath=Q,la(z,H,de.children,-1),H.keyPath=le):de.mode!=="hidden"&&(le.chunks.push(Gt),le.lastPushedText=!1,$e=H.keyPath,H.keyPath=Q,la(z,H,de.children,-1),H.keyPath=$e,le.chunks.push(It),le.lastPushedText=!1);return;case g:e:{if(le=de.children,de=de.revealOrder,de==="forwards"||de==="backwards"||de==="unstable_legacy-backwards"){if(J(le)){wc(z,H,Q,le,de);break e}if(($e=q(le))&&($e=$e.call(le))){if(ht=$e.next(),!ht.done){do ht=$e.next();while(!ht.done);wc(z,H,Q,le,de)}break e}}de==="together"?(de=H.keyPath,$e=H.row,ht=H.row=Aa(null),ht.boundaries=[],ht.together=!0,H.keyPath=Q,ta(z,H,le,-1),--ht.pendingTasks===0&&Uo(z,ht),H.keyPath=de,H.row=$e,$e!==null&&0<ht.pendingTasks&&($e.pendingTasks++,ht.next=$e)):(de=H.keyPath,H.keyPath=Q,ta(z,H,le,-1),H.keyPath=de)}return;case U:case D:throw Error(n(343));case f:e:if(H.replay!==null){le=H.keyPath,$e=H.formatContext,ht=H.row,H.keyPath=Q,H.formatContext=Yn(z.resumableState,$e),H.row=null,Q=de.children;try{la(z,H,Q,-1)}finally{H.keyPath=le,H.formatContext=$e,H.row=ht}}else{le=H.keyPath,He=H.formatContext;var on=H.row;Nt=H.blockedBoundary,Ot=H.blockedPreamble;var kn=H.hoistableState,_n=H.blockedSegment,lr=de.fallback;de=de.children;var ti=new Set,Wr=2>H.formatContext.insertionMode?Hs(z,H.row,ti,yt(),yt()):Hs(z,H.row,ti,null,null);z.trackedPostpones!==null&&(Wr.trackedContentKeyPath=Q);var qn=es(z,_n.chunks.length,Wr,H.formatContext,!1,!1);_n.children.push(qn),_n.lastPushedText=!1;var cr=es(z,0,null,H.formatContext,!1,!1);if(cr.parentFlushed=!0,z.trackedPostpones!==null){$e=H.componentStack,ht=[Q[0],"Suspense Fallback",Q[2]],qt=[ht[1],ht[2],[],null],z.trackedPostpones.workingMap.set(ht,qt),Wr.trackedFallbackNode=qt,H.blockedSegment=qn,H.blockedPreamble=Wr.fallbackPreamble,H.keyPath=ht,H.formatContext=$n(z.resumableState,He),H.componentStack=Is($e),qn.status=6;try{la(z,H,lr,-1),qn.lastPushedText&&qn.textEmbedded&&qn.chunks.push(er),qn.status=1,rs(z,Nt,qn)}catch(mi){throw qn.status=z.status===12?3:4,mi}finally{H.blockedSegment=_n,H.blockedPreamble=Ot,H.keyPath=le,H.formatContext=He}H=nl(z,null,de,-1,Wr,cr,Wr.contentPreamble,Wr.contentState,H.abortSet,Q,Yn(z.resumableState,H.formatContext),H.context,H.treeContext,null,$e),Il(H),z.pingedTasks.push(H)}else{H.blockedBoundary=Wr,H.blockedPreamble=Wr.contentPreamble,H.hoistableState=Wr.contentState,H.blockedSegment=cr,H.keyPath=Q,H.formatContext=Yn(z.resumableState,He),H.row=null,cr.status=6;try{if(la(z,H,de,-1),cr.lastPushedText&&cr.textEmbedded&&cr.chunks.push(er),cr.status=1,rs(z,Wr,cr),xl(Wr,cr),Wr.pendingTasks===0&&Wr.status===0){if(Wr.status=1,!tl(z,Wr)){on!==null&&--on.pendingTasks===0&&Uo(z,on),z.pendingRootTasks===0&&H.blockedPreamble&&Rs(z);break e}}else on!==null&&on.together&&bc(z,on)}catch(mi){Wr.status=4,z.status===12?(cr.status=3,$e=z.fatalError):(cr.status=4,$e=mi),ht=sa(H.componentStack),qt=Ja(z,$e,ht),Wr.errorDigest=qt,li(z,Wr)}finally{H.blockedBoundary=Nt,H.blockedPreamble=Ot,H.hoistableState=kn,H.blockedSegment=_n,H.keyPath=le,H.formatContext=He,H.row=on}H=nl(z,null,lr,-1,Nt,qn,Wr.fallbackPreamble,Wr.fallbackState,ti,[Q[0],"Suspense Fallback",Q[2]],$n(z.resumableState,H.formatContext),H.context,H.treeContext,H.row,Is(H.componentStack)),Il(H),z.pingedTasks.push(H)}}return}if(typeof le=="object"&&le!==null)switch(le.$$typeof){case v:if("ref"in de)for(_n in $e={},de)_n!=="ref"&&($e[_n]=de[_n]);else $e=de;le=Xu(z,H,Q,le.render,$e,He),ts(z,H,Q,le,za!==0,Fi,ca);return;case m:au(z,H,Q,le.type,de,He);return;case u:if(ht=de.children,$e=H.keyPath,de=de.value,qt=le._currentValue,le._currentValue=de,He=ot,ot=le={parent:He,depth:He===null?0:He.depth+1,context:le,parentValue:qt,value:de},H.context=le,H.keyPath=Q,ta(z,H,ht,-1),z=ot,z===null)throw Error(n(403));z.context._currentValue=z.parentValue,z=ot=z.parent,H.context=z,H.keyPath=$e;return;case a:de=de.children,le=de(le._context._currentValue),de=H.keyPath,H.keyPath=Q,ta(z,H,le,-1),H.keyPath=de;return;case C:if($e=le._init,le=$e(le._payload),z.status===12)throw null;au(z,H,Q,le,de,He);return}throw Error(n(130,le==null?le:typeof le,""))}}function ps(z,H,Q,le,de){var He=H.replay,$e=H.blockedBoundary,Ot=es(z,0,null,H.formatContext,!1,!1);Ot.id=Q,Ot.parentFlushed=!0;try{H.replay=null,H.blockedSegment=Ot,la(z,H,le,de),Ot.status=1,rs(z,$e,Ot),$e===null?z.completedRootSegment=Ot:(xl($e,Ot),$e.parentFlushed&&z.partialBoundaries.push($e))}finally{H.replay=He,H.blockedSegment=null}}function ta(z,H,Q,le){H.replay!==null&&typeof H.replay.slots=="number"?ps(z,H,H.replay.slots,Q,le):(H.node=Q,H.childIndex=le,Q=H.componentStack,Il(H),Vu(z,H),H.componentStack=Q)}function Vu(z,H){var Q=H.node,le=H.childIndex;if(Q!==null){if(typeof Q=="object"){switch(Q.$$typeof){case r:var de=Q.type,He=Q.key,$e=Q.props;Q=$e.ref;var Ot=Q!==void 0?Q:null,ht=Xe(de),Nt=He??(le===-1?0:le);if(He=[H.keyPath,ht,Nt],H.replay!==null)e:{var qt=H.replay;for(le=qt.nodes,Q=0;Q<le.length;Q++){var on=le[Q];if(Nt===on[1]){if(on.length===4){if(ht!==null&&ht!==on[0])throw Error(n(490,on[0],ht));var kn=on[2];ht=on[3],Nt=H.node,H.replay={nodes:kn,slots:ht,pendingTasks:1};try{if(au(z,H,He,de,$e,Ot),H.replay.pendingTasks===1&&0<H.replay.nodes.length)throw Error(n(488));H.replay.pendingTasks--}catch(Ar){if(typeof Ar=="object"&&Ar!==null&&(Ar===Vt||typeof Ar.then=="function"))throw H.node===Nt?H.replay=qt:le.splice(Q,1),Ar;H.replay.pendingTasks--,$e=sa(H.componentStack),He=z,z=H.blockedBoundary,de=Ar,$e=Ja(He,de,$e),Yl(He,z,kn,ht,de,$e)}H.replay=qt}else{if(de!==f)throw Error(n(490,"Suspense",Xe(de)||"Unknown"));t:{qt=void 0,de=on[5],Ot=on[2],ht=on[3],Nt=on[4]===null?[]:on[4][2],on=on[4]===null?null:on[4][3];var _n=H.keyPath,lr=H.formatContext,ti=H.row,Wr=H.replay,qn=H.blockedBoundary,cr=H.hoistableState,mi=$e.children,$a=$e.fallback,jo=new Set;$e=2>H.formatContext.insertionMode?Hs(z,H.row,jo,yt(),yt()):Hs(z,H.row,jo,null,null),$e.parentFlushed=!0,$e.rootSegmentID=de,H.blockedBoundary=$e,H.hoistableState=$e.contentState,H.keyPath=He,H.formatContext=Yn(z.resumableState,lr),H.row=null,H.replay={nodes:Ot,slots:ht,pendingTasks:1};try{if(la(z,H,mi,-1),H.replay.pendingTasks===1&&0<H.replay.nodes.length)throw Error(n(488));if(H.replay.pendingTasks--,$e.pendingTasks===0&&$e.status===0){$e.status=1,z.completedBoundaries.push($e);break t}}catch(Ar){$e.status=4,kn=sa(H.componentStack),qt=Ja(z,Ar,kn),$e.errorDigest=qt,H.replay.pendingTasks--,z.clientRenderedBoundaries.push($e)}finally{H.blockedBoundary=qn,H.hoistableState=cr,H.replay=Wr,H.keyPath=_n,H.formatContext=lr,H.row=ti}kn=xc(z,null,{nodes:Nt,slots:on,pendingTasks:0},$a,-1,qn,$e.fallbackState,jo,[He[0],"Suspense Fallback",He[2]],$n(z.resumableState,H.formatContext),H.context,H.treeContext,H.row,Is(H.componentStack)),Il(kn),z.pingedTasks.push(kn)}}le.splice(Q,1);break e}}}else au(z,H,He,de,$e,Ot);return;case o:throw Error(n(257));case C:if(kn=Q._init,Q=kn(Q._payload),z.status===12)throw null;ta(z,H,Q,le);return}if(J(Q)){Ku(z,H,Q,le);return}if((kn=q(Q))&&(kn=kn.call(Q))){if(Q=kn.next(),!Q.done){$e=[];do $e.push(Q.value),Q=kn.next();while(!Q.done);Ku(z,H,$e,le)}return}if(typeof Q.then=="function")return H.thenableState=null,ta(z,H,Ol(Q),le);if(Q.$$typeof===u)return ta(z,H,Q._currentValue,le);throw le=Object.prototype.toString.call(Q),Error(n(31,le==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":le))}typeof Q=="string"?(le=H.blockedSegment,le!==null&&(le.lastPushedText=Hn(le.chunks,Q,z.renderState,le.lastPushedText))):(typeof Q=="number"||typeof Q=="bigint")&&(le=H.blockedSegment,le!==null&&(le.lastPushedText=Hn(le.chunks,""+Q,z.renderState,le.lastPushedText)))}}function Ku(z,H,Q,le){var de=H.keyPath;if(le!==-1&&(H.keyPath=[H.keyPath,"Fragment",le],H.replay!==null)){for(var He=H.replay,$e=He.nodes,Ot=0;Ot<$e.length;Ot++){var ht=$e[Ot];if(ht[1]===le){le=ht[2],ht=ht[3],H.replay={nodes:le,slots:ht,pendingTasks:1};try{if(Ku(z,H,Q,-1),H.replay.pendingTasks===1&&0<H.replay.nodes.length)throw Error(n(488));H.replay.pendingTasks--}catch(on){if(typeof on=="object"&&on!==null&&(on===Vt||typeof on.then=="function"))throw on;H.replay.pendingTasks--,Q=sa(H.componentStack);var Nt=H.blockedBoundary,qt=on;Q=Ja(z,qt,Q),Yl(z,Nt,le,ht,qt,Q)}H.replay=He,$e.splice(Ot,1);break}}H.keyPath=de;return}if(He=H.treeContext,$e=Q.length,H.replay!==null&&(Ot=H.replay.slots,Ot!==null&&typeof Ot=="object")){for(le=0;le<$e;le++)ht=Q[le],H.treeContext=ze(He,$e,le),Nt=Ot[le],typeof Nt=="number"?(ps(z,H,Nt,ht,le),delete Ot[le]):la(z,H,ht,le);H.treeContext=He,H.keyPath=de;return}for(Ot=0;Ot<$e;Ot++)le=Q[Ot],H.treeContext=ze(He,$e,Ot),la(z,H,le,Ot);H.treeContext=He,H.keyPath=de}function Uc(z,H,Q){if(Q.status=5,Q.rootSegmentID=z.nextSegmentId++,z=Q.trackedContentKeyPath,z===null)throw Error(n(486));var le=Q.trackedFallbackNode,de=[],He=H.workingMap.get(z);return He===void 0?(Q=[z[1],z[2],de,null,le,Q.rootSegmentID],H.workingMap.set(z,Q),Au(Q,z[0],H),Q):(He[4]=le,He[5]=Q.rootSegmentID,He)}function ns(z,H,Q,le){le.status=5;var de=Q.keyPath,He=Q.blockedBoundary;if(He===null)le.id=z.nextSegmentId++,H.rootSlots=le.id,z.completedRootSegment!==null&&(z.completedRootSegment.status=5);else{if(He!==null&&He.status===0){var $e=Uc(z,H,He);if(He.trackedContentKeyPath===de&&Q.childIndex===-1){le.id===-1&&(le.id=le.parentFlushed?He.rootSegmentID:z.nextSegmentId++),$e[3]=le.id;return}}if(le.id===-1&&(le.id=le.parentFlushed&&He!==null?He.rootSegmentID:z.nextSegmentId++),Q.childIndex===-1)de===null?H.rootSlots=le.id:(Q=H.workingMap.get(de),Q===void 0?(Q=[de[1],de[2],[],le.id],Au(Q,de[0],H)):Q[3]=le.id);else{if(de===null){if(z=H.rootSlots,z===null)z=H.rootSlots={};else if(typeof z=="number")throw Error(n(491))}else if(He=H.workingMap,$e=He.get(de),$e===void 0)z={},$e=[de[1],de[2],[],z],He.set(de,$e),Au($e,de[0],H);else if(z=$e[3],z===null)z=$e[3]={};else if(typeof z=="number")throw Error(n(491));z[Q.childIndex]=le.id}}}function li(z,H){z=z.trackedPostpones,z!==null&&(H=H.trackedContentKeyPath,H!==null&&(H=z.workingMap.get(H),H!==void 0&&(H.length=4,H[2]=[],H[3]=null)))}function ms(z,H,Q){return xc(z,Q,H.replay,H.node,H.childIndex,H.blockedBoundary,H.hoistableState,H.abortSet,H.keyPath,H.formatContext,H.context,H.treeContext,H.row,H.componentStack)}function rl(z,H,Q){var le=H.blockedSegment,de=es(z,le.chunks.length,null,H.formatContext,le.lastPushedText,!0);return le.children.push(de),le.lastPushedText=!1,nl(z,Q,H.node,H.childIndex,H.blockedBoundary,de,H.blockedPreamble,H.hoistableState,H.abortSet,H.keyPath,H.formatContext,H.context,H.treeContext,H.row,H.componentStack)}function la(z,H,Q,le){var de=H.formatContext,He=H.context,$e=H.keyPath,Ot=H.treeContext,ht=H.componentStack,Nt=H.blockedSegment;if(Nt===null){Nt=H.replay;try{return ta(z,H,Q,le)}catch(kn){if(po(),Q=kn===Vt?In():kn,z.status!==12&&typeof Q=="object"&&Q!==null){if(typeof Q.then=="function"){le=kn===Vt?Ha():null,z=ms(z,H,le).ping,Q.then(z,z),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,H.replay=Nt,$(He);return}if(Q.message==="Maximum call stack size exceeded"){Q=kn===Vt?Ha():null,Q=ms(z,H,Q),z.pingedTasks.push(Q),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,H.replay=Nt,$(He);return}}}}else{var qt=Nt.children.length,on=Nt.chunks.length;try{return ta(z,H,Q,le)}catch(kn){if(po(),Nt.children.length=qt,Nt.chunks.length=on,Q=kn===Vt?In():kn,z.status!==12&&typeof Q=="object"&&Q!==null){if(typeof Q.then=="function"){Nt=Q,Q=kn===Vt?Ha():null,z=rl(z,H,Q).ping,Nt.then(z,z),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,$(He);return}if(Q.message==="Maximum call stack size exceeded"){Nt=kn===Vt?Ha():null,Nt=rl(z,H,Nt),z.pingedTasks.push(Nt),H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,H.componentStack=ht,$(He);return}}}}throw H.formatContext=de,H.context=He,H.keyPath=$e,H.treeContext=Ot,$(He),Q}function Gl(z){var H=z.blockedBoundary,Q=z.blockedSegment;Q!==null&&(Q.status=3,ao(this,H,z.row,Q))}function Yl(z,H,Q,le,de,He){for(var $e=0;$e<Q.length;$e++){var Ot=Q[$e];if(Ot.length===4)Yl(z,H,Ot[2],Ot[3],de,He);else{Ot=Ot[5];var ht=z,Nt=He,qt=Hs(ht,null,new Set,null,null);qt.parentFlushed=!0,qt.rootSegmentID=Ot,qt.status=4,qt.errorDigest=Nt,qt.parentFlushed&&ht.clientRenderedBoundaries.push(qt)}}if(Q.length=0,le!==null){if(H===null)throw Error(n(487));if(H.status!==4&&(H.status=4,H.errorDigest=He,H.parentFlushed&&z.clientRenderedBoundaries.push(H)),typeof le=="object")for(var on in le)delete le[on]}}function Xl(z,H,Q){var le=z.blockedBoundary,de=z.blockedSegment;if(de!==null){if(de.status===6)return;de.status=3}var He=sa(z.componentStack);if(le===null){if(H.status!==13&&H.status!==14){if(le=z.replay,le===null){H.trackedPostpones!==null&&de!==null?(le=H.trackedPostpones,Ja(H,Q,He),ns(H,le,z,de),ao(H,null,z.row,de)):(Ja(H,Q,He),Yu(H,Q));return}le.pendingTasks--,le.pendingTasks===0&&0<le.nodes.length&&(de=Ja(H,Q,He),Yl(H,null,le.nodes,le.slots,Q,de)),H.pendingRootTasks--,H.pendingRootTasks===0&&Zu(H)}}else{var $e=H.trackedPostpones;if(le.status!==4){if($e!==null&&de!==null)return Ja(H,Q,He),ns(H,$e,z,de),le.fallbackAbortableTasks.forEach(function(Ot){return Xl(Ot,H,Q)}),le.fallbackAbortableTasks.clear(),ao(H,le,z.row,de);le.status=4,de=Ja(H,Q,He),le.status=4,le.errorDigest=de,li(H,le),le.parentFlushed&&H.clientRenderedBoundaries.push(le)}le.pendingTasks--,de=le.row,de!==null&&--de.pendingTasks===0&&Uo(H,de),le.fallbackAbortableTasks.forEach(function(Ot){return Xl(Ot,H,Q)}),le.fallbackAbortableTasks.clear()}z=z.row,z!==null&&--z.pendingTasks===0&&Uo(H,z),H.allPendingTasks--,H.allPendingTasks===0&&Vl(H)}function Su(z,H){try{var Q=z.renderState,le=Q.onHeaders;if(le){var de=Q.headers;if(de){Q.headers=null;var He=de.preconnects;if(de.fontPreloads&&(He&&(He+=", "),He+=de.fontPreloads),de.highImagePreloads&&(He&&(He+=", "),He+=de.highImagePreloads),!H){var $e=Q.styles.values(),Ot=$e.next();e:for(;0<de.remainingCapacity&&!Ot.done;Ot=$e.next())for(var ht=Ot.value.sheets.values(),Nt=ht.next();0<de.remainingCapacity&&!Nt.done;Nt=ht.next()){var qt=Nt.value,on=qt.props,kn=on.href,_n=qt.props,lr=L(_n.href,"style",{crossOrigin:_n.crossOrigin,integrity:_n.integrity,nonce:_n.nonce,type:_n.type,fetchPriority:_n.fetchPriority,referrerPolicy:_n.referrerPolicy,media:_n.media});if(0<=(de.remainingCapacity-=lr.length+2))Q.resets.style[kn]=Zt,He&&(He+=", "),He+=lr,Q.resets.style[kn]=typeof on.crossOrigin=="string"||typeof on.integrity=="string"?[on.crossOrigin,on.integrity]:Zt;else break e}}le(He?{Link:He}:{})}}}catch(ti){Ja(z,ti,{})}}function Zu(z){z.trackedPostpones===null&&Su(z,!0),z.trackedPostpones===null&&Rs(z),z.onShellError=Et,z=z.onShellReady,z()}function Vl(z){Su(z,z.trackedPostpones===null?!0:z.completedRootSegment===null||z.completedRootSegment.status!==5),Rs(z),z=z.onAllReady,z()}function xl(z,H){if(H.chunks.length===0&&H.children.length===1&&H.children[0].boundary===null&&H.children[0].id===-1){var Q=H.children[0];Q.id=H.id,Q.parentFlushed=!0,Q.status!==1&&Q.status!==3&&Q.status!==4||xl(z,Q)}else z.completedSegments.push(H)}function rs(z,H,Q){if(oe!==null){Q=Q.chunks;for(var le=0,de=0;de<Q.length;de++)le+=Q[de].byteLength;H===null?z.byteSize+=le:H.byteSize+=le}}function ao(z,H,Q,le){if(Q!==null&&(--Q.pendingTasks===0?Uo(z,Q):Q.together&&bc(z,Q)),z.allPendingTasks--,H===null){if(le!==null&&le.parentFlushed){if(z.completedRootSegment!==null)throw Error(n(389));z.completedRootSegment=le}z.pendingRootTasks--,z.pendingRootTasks===0&&Zu(z)}else if(H.pendingTasks--,H.status!==4)if(H.pendingTasks===0){if(H.status===0&&(H.status=1),le!==null&&le.parentFlushed&&(le.status===1||le.status===3)&&xl(H,le),H.parentFlushed&&z.completedBoundaries.push(H),H.status===1)Q=H.row,Q!==null&&he(Q.hoistables,H.contentState),tl(z,H)||(H.fallbackAbortableTasks.forEach(Gl,z),H.fallbackAbortableTasks.clear(),Q!==null&&--Q.pendingTasks===0&&Uo(z,Q)),z.pendingRootTasks===0&&z.trackedPostpones===null&&H.contentPreamble!==null&&Rs(z);else if(H.status===5&&(H=H.row,H!==null)){if(z.trackedPostpones!==null){Q=z.trackedPostpones;var de=H.next;if(de!==null&&(le=de.boundaries,le!==null))for(de.boundaries=null,de=0;de<le.length;de++){var He=le[de];Uc(z,Q,He),ao(z,He,null,null)}}--H.pendingTasks===0&&Uo(z,H)}}else le===null||!le.parentFlushed||le.status!==1&&le.status!==3||(xl(H,le),H.completedSegments.length===1&&H.parentFlushed&&z.partialBoundaries.push(H)),H=H.row,H!==null&&H.together&&bc(z,H);z.allPendingTasks===0&&Vl(z)}function jc(z){if(z.status!==14&&z.status!==13){var H=ot,Q=Ut.H;Ut.H=iu;var le=Ut.A;Ut.A=va;var de=Zr;Zr=z;var He=qa;qa=z.resumableState;try{var $e=z.pingedTasks,Ot;for(Ot=0;Ot<$e.length;Ot++){var ht=$e[Ot],Nt=z,qt=ht.blockedSegment;if(qt===null){var on=Nt;if(ht.replay.pendingTasks!==0){$(ht.context);try{if(typeof ht.replay.slots=="number"?ps(on,ht,ht.replay.slots,ht.node,ht.childIndex):Vu(on,ht),ht.replay.pendingTasks===1&&0<ht.replay.nodes.length)throw Error(n(488));ht.replay.pendingTasks--,ht.abortSet.delete(ht),ao(on,ht.blockedBoundary,ht.row,null)}catch(_o){po();var kn=_o===Vt?In():_o;if(typeof kn=="object"&&kn!==null&&typeof kn.then=="function"){var _n=ht.ping;kn.then(_n,_n),ht.thenableState=_o===Vt?Ha():null}else{ht.replay.pendingTasks--,ht.abortSet.delete(ht);var lr=sa(ht.componentStack);Nt=void 0;var ti=on,Wr=ht.blockedBoundary,qn=on.status===12?on.fatalError:kn,cr=ht.replay.nodes,mi=ht.replay.slots;Nt=Ja(ti,qn,lr),Yl(ti,Wr,cr,mi,qn,Nt),on.pendingRootTasks--,on.pendingRootTasks===0&&Zu(on),on.allPendingTasks--,on.allPendingTasks===0&&Vl(on)}}}}else if(on=void 0,ti=qt,ti.status===0){ti.status=6,$(ht.context);var $a=ti.children.length,jo=ti.chunks.length;try{Vu(Nt,ht),ti.lastPushedText&&ti.textEmbedded&&ti.chunks.push(er),ht.abortSet.delete(ht),ti.status=1,rs(Nt,ht.blockedBoundary,ti),ao(Nt,ht.blockedBoundary,ht.row,ti)}catch(_o){po(),ti.children.length=$a,ti.chunks.length=jo;var Ar=_o===Vt?In():Nt.status===12?Nt.fatalError:_o;if(Nt.status===12&&Nt.trackedPostpones!==null){var mo=Nt.trackedPostpones,na=sa(ht.componentStack);ht.abortSet.delete(ht),Ja(Nt,Ar,na),ns(Nt,mo,ht,ti),ao(Nt,ht.blockedBoundary,ht.row,ti)}else if(typeof Ar=="object"&&Ar!==null&&typeof Ar.then=="function"){ti.status=0,ht.thenableState=_o===Vt?Ha():null;var Na=ht.ping;Ar.then(Na,Na)}else{var sl=sa(ht.componentStack);ht.abortSet.delete(ht),ti.status=4;var Gr=ht.blockedBoundary,Nl=ht.row;if(Nl!==null&&--Nl.pendingTasks===0&&Uo(Nt,Nl),Nt.allPendingTasks--,on=Ja(Nt,Ar,sl),Gr===null)Yu(Nt,Ar);else if(Gr.pendingTasks--,Gr.status!==4){Gr.status=4,Gr.errorDigest=on,li(Nt,Gr);var bl=Gr.row;bl!==null&&--bl.pendingTasks===0&&Uo(Nt,bl),Gr.parentFlushed&&Nt.clientRenderedBoundaries.push(Gr),Nt.pendingRootTasks===0&&Nt.trackedPostpones===null&&Gr.contentPreamble!==null&&Rs(Nt)}Nt.allPendingTasks===0&&Vl(Nt)}}}}$e.splice(0,Ot),z.destination!==null&&Eu(z,z.destination)}catch(_o){Ja(z,_o,{}),Yu(z,_o)}finally{qa=He,Ut.H=Q,Ut.A=le,Q===iu&&$(H),Zr=de}}}function Us(z,H,Q){H.preambleChildren.length&&Q.push(H.preambleChildren);for(var le=!1,de=0;de<H.children.length;de++)le=qu(z,H.children[de],Q)||le;return le}function qu(z,H,Q){var le=H.boundary;if(le===null)return Us(z,H,Q);var de=le.contentPreamble,He=le.fallbackPreamble;if(de===null||He===null)return!1;switch(le.status){case 1:if(Qe(z.renderState,de),z.byteSize+=le.byteSize,H=le.completedSegments[0],!H)throw Error(n(391));return Us(z,H,Q);case 5:if(z.trackedPostpones!==null)return!0;case 4:if(H.status===1)return Qe(z.renderState,He),Us(z,H,Q);default:return!0}}function Rs(z){if(z.completedRootSegment&&z.completedPreambleSegments===null){var H=[],Q=z.byteSize,le=qu(z,z.completedRootSegment,H),de=z.renderState.preamble;le===!1||de.headChunks&&de.bodyChunks?z.completedPreambleSegments=H:z.byteSize=Q}}function il(z,H,Q,le){switch(Q.parentFlushed=!0,Q.status){case 0:Q.id=z.nextSegmentId++;case 5:return le=Q.id,Q.lastPushedText=!1,Q.textEmbedded=!1,z=z.renderState,me(H,pa),me(H,z.placeholderPrefix),z=ue(le.toString(16)),me(H,z),Ie(H,nt);case 1:Q.status=2;var de=!0,He=Q.chunks,$e=0;Q=Q.children;for(var Ot=0;Ot<Q.length;Ot++){for(de=Q[Ot];$e<de.index;$e++)me(H,He[$e]);de=Qu(z,H,de,le)}for(;$e<He.length-1;$e++)me(H,He[$e]);return $e<He.length&&(de=Ie(H,He[$e])),de;case 3:return!0;default:throw Error(n(390))}}var al=0;function Qu(z,H,Q,le){var de=Q.boundary;if(de===null)return il(z,H,Q,le);if(de.parentFlushed=!0,de.status===4){var He=de.row;He!==null&&--He.pendingTasks===0&&Uo(z,He),de=de.errorDigest,Ie(H,En),me(H,$r),de&&(me(H,ei),me(H,ue(ft(de))),me(H,Rr)),Ie(H,Ur),il(z,H,Q,le)}else if(de.status!==1)de.status===0&&(de.rootSegmentID=z.nextSegmentId++),0<de.completedSegments.length&&z.partialBoundaries.push(de),Jr(H,z.renderState,de.rootSegmentID),le&&he(le,de.fallbackState),il(z,H,Q,le);else if(!js&&tl(z,de)&&(al+de.byteSize>z.progressiveChunkSize||Ae(de.contentState)))de.rootSegmentID=z.nextSegmentId++,z.completedBoundaries.push(de),Jr(H,z.renderState,de.rootSegmentID),il(z,H,Q,le);else{if(al+=de.byteSize,le&&he(le,de.contentState),Q=de.row,Q!==null&&tl(z,de)&&--Q.pendingTasks===0&&Uo(z,Q),Ie(H,nn),Q=de.completedSegments,Q.length!==1)throw Error(n(391));Qu(z,H,Q[0],le)}return Ie(H,Dr)}function vs(z,H,Q,le){return Ul(H,z.renderState,Q.parentFormatContext,Q.id),Qu(z,H,Q,le),kl(H,Q.parentFormatContext)}function hf(z,H,Q){al=Q.byteSize;for(var le=Q.completedSegments,de=0;de<le.length;de++)Kl(z,H,Q,le[de]);le.length=0,le=Q.row,le!==null&&tl(z,Q)&&--le.pendingTasks===0&&Uo(z,le),zo(H,Q.contentState,z.renderState),le=z.resumableState,z=z.renderState,de=Q.rootSegmentID,Q=Q.contentState;var He=z.stylesToHoist;return z.stylesToHoist=!1,me(H,z.startInlineScript),me(H,gr),He?((le.instructions&4)===0&&(le.instructions|=4,me(H,Zs)),(le.instructions&2)===0&&(le.instructions|=2,me(H,_s)),(le.instructions&8)===0?(le.instructions|=8,me(H,Nr)):me(H,Va)):((le.instructions&2)===0&&(le.instructions|=2,me(H,_s)),me(H,Qt)),le=ue(de.toString(16)),me(H,z.boundaryPrefix),me(H,le),me(H,cs),me(H,z.segmentPrefix),me(H,le),He?(me(H,yu),Ui(H,Q)):me(H,jl),Q=Ie(H,nu),Gn(H,z)&&Q}function Kl(z,H,Q,le){if(le.status===2)return!0;var de=Q.contentState,He=le.id;if(He===-1){if((le.id=Q.rootSegmentID)===-1)throw Error(n(392));return vs(z,H,le,de)}return He===Q.rootSegmentID?vs(z,H,le,de):(vs(z,H,le,de),Q=z.resumableState,z=z.renderState,me(H,z.startInlineScript),me(H,gr),(Q.instructions&1)===0?(Q.instructions|=1,me(H,gi)):me(H,ks),me(H,z.segmentPrefix),He=ue(He.toString(16)),me(H,He),me(H,_l),me(H,z.placeholderPrefix),me(H,He),H=Ie(H,Fa),H)}var js=!1;function Eu(z,H){ut=new Uint8Array(2048),ge=0;try{if(!(0<z.pendingRootTasks)){var Q,le=z.completedRootSegment;if(le!==null){if(le.status===5)return;var de=z.completedPreambleSegments;if(de===null)return;al=z.byteSize;var He=z.resumableState,$e=z.renderState,Ot=$e.preamble,ht=Ot.htmlChunks,Nt=Ot.headChunks,qt;if(ht){for(qt=0;qt<ht.length;qt++)me(H,ht[qt]);if(Nt)for(qt=0;qt<Nt.length;qt++)me(H,Nt[qt]);else me(H,pr("head")),me(H,gr)}else if(Nt)for(qt=0;qt<Nt.length;qt++)me(H,Nt[qt]);var on=$e.charsetChunks;for(qt=0;qt<on.length;qt++)me(H,on[qt]);on.length=0,$e.preconnects.forEach(Li,H),$e.preconnects.clear();var kn=$e.viewportChunks;for(qt=0;qt<kn.length;qt++)me(H,kn[qt]);kn.length=0,$e.fontPreloads.forEach(Li,H),$e.fontPreloads.clear(),$e.highImagePreloads.forEach(Li,H),$e.highImagePreloads.clear(),Bn=$e,$e.styles.forEach(Ml,H),Bn=null;var _n=$e.importMapChunks;for(qt=0;qt<_n.length;qt++)me(H,_n[qt]);_n.length=0,$e.bootstrapScripts.forEach(Li,H),$e.scripts.forEach(Li,H),$e.scripts.clear(),$e.bulkPreloads.forEach(Li,H),$e.bulkPreloads.clear(),ht||Nt||(He.instructions|=32);var lr=$e.hoistableChunks;for(qt=0;qt<lr.length;qt++)me(H,lr[qt]);for(He=lr.length=0;He<de.length;He++){var ti=de[He];for($e=0;$e<ti.length;$e++)Qu(z,H,ti[$e],null)}var Wr=z.renderState.preamble,qn=Wr.headChunks;(Wr.htmlChunks||qn)&&me(H,Ht("head"));var cr=Wr.bodyChunks;if(cr)for(de=0;de<cr.length;de++)me(H,cr[de]);Qu(z,H,le,null),z.completedRootSegment=null;var mi=z.renderState;if(z.allPendingTasks!==0||z.clientRenderedBoundaries.length!==0||z.completedBoundaries.length!==0||z.trackedPostpones!==null&&(z.trackedPostpones.rootNodes.length!==0||z.trackedPostpones.rootSlots!==null)){var $a=z.resumableState;if(($a.instructions&64)===0){if($a.instructions|=64,me(H,mi.startInlineScript),($a.instructions&32)===0){$a.instructions|=32;var jo="_"+$a.idPrefix+"R_";me(H,Ka),me(H,ue(ft(jo))),me(H,Yr)}me(H,gr),me(H,Di),Ie(H,dt)}}Gn(H,mi)}var Ar=z.renderState;le=0;var mo=Ar.viewportChunks;for(le=0;le<mo.length;le++)me(H,mo[le]);mo.length=0,Ar.preconnects.forEach(Li,H),Ar.preconnects.clear(),Ar.fontPreloads.forEach(Li,H),Ar.fontPreloads.clear(),Ar.highImagePreloads.forEach(Li,H),Ar.highImagePreloads.clear(),Ar.styles.forEach(So,H),Ar.scripts.forEach(Li,H),Ar.scripts.clear(),Ar.bulkPreloads.forEach(Li,H),Ar.bulkPreloads.clear();var na=Ar.hoistableChunks;for(le=0;le<na.length;le++)me(H,na[le]);na.length=0;var Na=z.clientRenderedBoundaries;for(Q=0;Q<Na.length;Q++){var sl=Na[Q];Ar=H;var Gr=z.resumableState,Nl=z.renderState,bl=sl.rootSegmentID,_o=sl.errorDigest;me(Ar,Nl.startInlineScript),me(Ar,gr),(Gr.instructions&4)===0?(Gr.instructions|=4,me(Ar,Oa)):me(Ar,Qi),me(Ar,Nl.boundaryPrefix),me(Ar,ue(bl.toString(16))),me(Ar,Fs),_o&&(me(Ar,Ni),me(Ar,ue(ki(_o||""))));var vo=Ie(Ar,dl);if(!vo){z.destination=null,Q++,Na.splice(0,Q);return}}Na.splice(0,Q);var ql=z.completedBoundaries;for(Q=0;Q<ql.length;Q++)if(!hf(z,H,ql[Q])){z.destination=null,Q++,ql.splice(0,Q);return}ql.splice(0,Q),lt(H),ut=new Uint8Array(2048),ge=0,js=!0;var Ll=z.partialBoundaries;for(Q=0;Q<Ll.length;Q++){var ou=Ll[Q];e:{Na=z,sl=H,al=ou.byteSize;var Tu=ou.completedSegments;for(vo=0;vo<Tu.length;vo++)if(!Kl(Na,sl,ou,Tu[vo])){vo++,Tu.splice(0,vo);var is=!1;break e}Tu.splice(0,vo);var ha=ou.row;ha!==null&&ha.together&&ou.pendingTasks===1&&(ha.pendingTasks===1?Hc(Na,ha,ha.hoistables):ha.pendingTasks--),is=zo(sl,ou.contentState,Na.renderState)}if(!is){z.destination=null,Q++,Ll.splice(0,Q);return}}Ll.splice(0,Q),js=!1;var su=z.completedBoundaries;for(Q=0;Q<su.length;Q++)if(!hf(z,H,su[Q])){z.destination=null,Q++,su.splice(0,Q);return}su.splice(0,Q)}}finally{js=!1,z.allPendingTasks===0&&z.clientRenderedBoundaries.length===0&&z.completedBoundaries.length===0?(z.flushScheduled=!1,Q=z.resumableState,Q.hasBody&&me(H,Ht("body")),Q.hasHtml&&me(H,Ht("html")),lt(H),z.status=14,H.close(),z.destination=null):lt(H)}}function Ws(z){z.flushScheduled=z.destination!==null,mt(function(){return jc(z)}),Be(function(){z.status===10&&(z.status=11),z.trackedPostpones===null&&Su(z,z.pendingRootTasks===0)})}function ys(z){z.flushScheduled===!1&&z.pingedTasks.length===0&&z.destination!==null&&(z.flushScheduled=!0,Be(function(){var H=z.destination;H?Eu(z,H):z.flushScheduled=!1}))}function ol(z,H){if(z.status===13)z.status=14,Z(H,z.fatalError);else if(z.status!==14&&z.destination===null){z.destination=H;try{Eu(z,H)}catch(Q){Ja(z,Q,{}),Yu(z,Q)}}}function ko(z,H){(z.status===11||z.status===10)&&(z.status=12);try{var Q=z.abortableTasks;if(0<Q.size){var le=H===void 0?Error(n(432)):typeof H=="object"&&H!==null&&typeof H.then=="function"?Error(n(530)):H;z.fatalError=le,Q.forEach(function(de){return Xl(de,z,le)}),Q.clear()}z.destination!==null&&Eu(z,z.destination)}catch(de){Ja(z,de,{}),Yu(z,de)}}function Au(z,H,Q){if(H===null)Q.rootNodes.push(z);else{var le=Q.workingMap,de=le.get(H);de===void 0&&(de=[H[1],H[2],[],null],le.set(H,de),Au(de,H[0],Q)),de[2].push(z)}}function Zl(z){var H=z.trackedPostpones;if(H===null||H.rootNodes.length===0&&H.rootSlots===null)return z.trackedPostpones=null;if(z.completedRootSegment===null||z.completedRootSegment.status!==5&&z.completedPreambleSegments!==null){var Q=z.nextSegmentId,le=H.rootSlots,de=z.resumableState;de.bootstrapScriptContent=void 0,de.bootstrapScripts=void 0,de.bootstrapModules=void 0}else{Q=0,le=-1,de=z.resumableState;var He=z.renderState;de.nextFormID=0,de.hasBody=!1,de.hasHtml=!1,de.unknownResources={font:He.resets.font},de.dnsResources=He.resets.dns,de.connectResources=He.resets.connect,de.imageResources=He.resets.image,de.styleResources=He.resets.style,de.scriptResources={},de.moduleUnknownResources={},de.moduleScriptResources={},de.instructions=0}return{nextSegmentId:Q,rootFormatContext:z.rootFormatContext,progressiveChunkSize:z.progressiveChunkSize,resumableState:z.resumableState,replayNodes:H.rootNodes,replaySlots:le}}function Rl(){var z=e.version;if(z!=="19.2.3")throw Error(n(527,z,"19.2.3"))}return Rl(),Rl(),w0.prerender=function(z,H){return new Promise(function(Q,le){var de=H?H.onHeaders:void 0,He;de&&(He=function(qt){de(new Headers(qt))});var $e=St(H?H.identifierPrefix:void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.bootstrapScriptContent:void 0,H?H.bootstrapScripts:void 0,H?H.bootstrapModules:void 0),Ot=Qa(z,$e,at($e,void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.importMap:void 0,He,H?H.maxHeadersLength:void 0),pn(H?H.namespaceURI:void 0),H?H.progressiveChunkSize:void 0,H?H.onError:void 0,function(){var qt=new ReadableStream({type:"bytes",pull:function(on){ol(Ot,on)},cancel:function(on){Ot.destination=null,ko(Ot,on)}},{highWaterMark:0});qt={postponed:Zl(Ot),prelude:qt},Q(qt)},void 0,void 0,le,H?H.onPostpone:void 0);if(H&&H.signal){var ht=H.signal;if(ht.aborted)ko(Ot,ht.reason);else{var Nt=function(){ko(Ot,ht.reason),ht.removeEventListener("abort",Nt)};ht.addEventListener("abort",Nt)}}Ws(Ot)})},w0.renderToReadableStream=function(z,H){return new Promise(function(Q,le){var de,He,$e=new Promise(function(_n,lr){He=_n,de=lr}),Ot=H?H.onHeaders:void 0,ht;Ot&&(ht=function(_n){Ot(new Headers(_n))});var Nt=St(H?H.identifierPrefix:void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.bootstrapScriptContent:void 0,H?H.bootstrapScripts:void 0,H?H.bootstrapModules:void 0),qt=Cu(z,Nt,at(Nt,H?H.nonce:void 0,H?H.unstable_externalRuntimeSrc:void 0,H?H.importMap:void 0,ht,H?H.maxHeadersLength:void 0),pn(H?H.namespaceURI:void 0),H?H.progressiveChunkSize:void 0,H?H.onError:void 0,He,function(){var _n=new ReadableStream({type:"bytes",pull:function(lr){ol(qt,lr)},cancel:function(lr){qt.destination=null,ko(qt,lr)}},{highWaterMark:0});_n.allReady=$e,Q(_n)},function(_n){$e.catch(function(){}),le(_n)},de,H?H.onPostpone:void 0,H?H.formState:void 0);if(H&&H.signal){var on=H.signal;if(on.aborted)ko(qt,on.reason);else{var kn=function(){ko(qt,on.reason),on.removeEventListener("abort",kn)};on.addEventListener("abort",kn)}}Ws(qt)})},w0.resume=function(z,H,Q){return new Promise(function(le,de){var He,$e,Ot=new Promise(function(on,kn){$e=on,He=kn}),ht=oa(z,H,at(H.resumableState,Q?Q.nonce:void 0,void 0,void 0,void 0,void 0),Q?Q.onError:void 0,$e,function(){var on=new ReadableStream({type:"bytes",pull:function(kn){ol(ht,kn)},cancel:function(kn){ht.destination=null,ko(ht,kn)}},{highWaterMark:0});on.allReady=Ot,le(on)},function(on){Ot.catch(function(){}),de(on)},He,Q?Q.onPostpone:void 0);if(Q&&Q.signal){var Nt=Q.signal;if(Nt.aborted)ko(ht,Nt.reason);else{var qt=function(){ko(ht,Nt.reason),Nt.removeEventListener("abort",qt)};Nt.addEventListener("abort",qt)}}Ws(ht)})},w0.resumeAndPrerender=function(z,H,Q){return new Promise(function(le,de){var He=Ra(z,H,at(H.resumableState,void 0,void 0,void 0,void 0,void 0),Q?Q.onError:void 0,function(){var ht=new ReadableStream({type:"bytes",pull:function(Nt){ol(He,Nt)},cancel:function(Nt){He.destination=null,ko(He,Nt)}},{highWaterMark:0});ht={postponed:Zl(He),prelude:ht},le(ht)},void 0,void 0,de,Q?Q.onPostpone:void 0);if(Q&&Q.signal){var $e=Q.signal;if($e.aborted)ko(He,$e.reason);else{var Ot=function(){ko(He,$e.reason),$e.removeEventListener("abort",Ot)};$e.addEventListener("abort",Ot)}}Ws(He)})},w0.version="19.2.3",w0}var G6;function xY(){if(G6)return b0;G6=1;var e,t;return e=vY(),t=yY(),b0.version=e.version,b0.renderToString=e.renderToString,b0.renderToStaticMarkup=e.renderToStaticMarkup,b0.renderToReadableStream=t.renderToReadableStream,b0.resume=t.resume,b0}var bY=xY(),O2={},Y6;function wY(){return Y6||(Y6=1,(function(e){var t=t||{version:"5.5.2"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=xp,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=xp.implForWrapper,t.nodeCanvas=xp.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),(function(){function d(m,C){if(this.__eventListeners[m]){var D=this.__eventListeners[m];C?D[D.indexOf(C)]=!1:t.util.array.fill(D,!1)}}function a(m,C){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var D in m)this.on(D,m[D]);else this.__eventListeners[m]||(this.__eventListeners[m]=[]),this.__eventListeners[m].push(C);return this}function u(m,C){var D=(function(){C.apply(this,arguments),this.off(m,D)}).bind(this);this.on(m,D)}function v(m,C){if(arguments.length===1)for(var D in m)u.call(this,D,m[D]);else u.call(this,m,C);return this}function f(m,C){if(!this.__eventListeners)return this;if(arguments.length===0)for(m in this.__eventListeners)d.call(this,m);else if(arguments.length===1&&typeof arguments[0]=="object")for(var D in m)d.call(this,D,m[D]);else d.call(this,m,C);return this}function g(m,C){if(!this.__eventListeners)return this;var D=this.__eventListeners[m];if(!D)return this;for(var S=0,O=D.length;S<O;S++)D[S]&&D[S].call(this,C||{});return this.__eventListeners[m]=D.filter(function(N){return N!==!1}),this}t.Observable={fire:g,on:a,once:v,off:f}})(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var d=0,a=arguments.length;d<a;d++)this._onObjectAdded(arguments[d]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(d,a,u){var v=this._objects;return u?v[a]=d:v.splice(a,0,d),this._onObjectAdded&&this._onObjectAdded(d),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var d=this._objects,a,u=!1,v=0,f=arguments.length;v<f;v++)a=d.indexOf(arguments[v]),a!==-1&&(u=!0,d.splice(a,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[v]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(d,a){for(var u=this.getObjects(),v=0,f=u.length;v<f;v++)d.call(a,u[v],v,u);return this},getObjects:function(d){return typeof d>"u"?this._objects.concat():this._objects.filter(function(a){return a.type===d})},item:function(d){return this._objects[d]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(d,a){return this._objects.indexOf(d)>-1?!0:a?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(d,!0)}):!1},complexity:function(){return this._objects.reduce(function(d,a){return d+=a.complexity?a.complexity():0,d},0)}},t.CommonMethods={_setOptions:function(d){for(var a in d)this.set(a,d[a])},_initGradient:function(d,a){d&&d.colorStops&&!(d instanceof t.Gradient)&&this.set(a,new t.Gradient(d))},_initPattern:function(d,a,u){d&&d.source&&!(d instanceof t.Pattern)?this.set(a,new t.Pattern(d,u)):u&&u()},_setObject:function(d){for(var a in d)this._set(a,d[a])},set:function(d,a){return typeof d=="object"?this._setObject(d):this._set(d,a),this},_set:function(d,a){this[d]=a},toggle:function(d){var a=this.get(d);return typeof a=="boolean"&&this.set(d,!a),this},get:function(d){return this[d]}},(function(d){var a=Math.sqrt,u=Math.atan2,v=Math.pow,f=Math.PI/180,g=Math.PI/2;t.util={cos:function(m){if(m===0)return 1;m<0&&(m=-m);var C=m/g;switch(C){case 1:case 3:return 0;case 2:return-1}return Math.cos(m)},sin:function(m){if(m===0)return 0;var C=m/g,D=1;switch(m<0&&(D=-1),C){case 1:return D;case 2:return 0;case 3:return-D}return Math.sin(m)},removeFromArray:function(m,C){var D=m.indexOf(C);return D!==-1&&m.splice(D,1),m},getRandomInt:function(m,C){return Math.floor(Math.random()*(C-m+1))+m},degreesToRadians:function(m){return m*f},radiansToDegrees:function(m){return m/f},rotatePoint:function(m,C,D){var S=new t.Point(m.x-C.x,m.y-C.y),O=t.util.rotateVector(S,D);return new t.Point(O.x,O.y).addEquals(C)},rotateVector:function(m,C){var D=t.util.sin(C),S=t.util.cos(C),O=m.x*S-m.y*D,N=m.x*D+m.y*S;return{x:O,y:N}},createVector:function(m,C){return new t.Point(C.x-m.x,C.y-m.y)},calcAngleBetweenVectors:function(m,C){return Math.acos((m.x*C.x+m.y*C.y)/(Math.hypot(m.x,m.y)*Math.hypot(C.x,C.y)))},getHatVector:function(m){return new t.Point(m.x,m.y).multiply(1/Math.hypot(m.x,m.y))},getBisector:function(m,C,D){var S=t.util.createVector(m,C),O=t.util.createVector(m,D),N=t.util.calcAngleBetweenVectors(S,O),U=t.util.calcAngleBetweenVectors(t.util.rotateVector(S,N),O),W=N*(U===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(S,W)),angle:N}},projectStrokeOnPoints:function(m,C,D){var S=[],O=C.strokeWidth/2,N=C.strokeUniform?new t.Point(1/C.scaleX,1/C.scaleY):new t.Point(1,1),U=function(W){var q=O/Math.hypot(W.x,W.y);return new t.Point(W.x*q*N.x,W.y*q*N.y)};return m.length<=1||m.forEach(function(W,q){var J=new t.Point(W.x,W.y),ne,ve;q===0?(ve=m[q+1],ne=D?U(t.util.createVector(ve,J)).addEquals(J):m[m.length-1]):q===m.length-1?(ne=m[q-1],ve=D?U(t.util.createVector(ne,J)).addEquals(J):m[0]):(ne=m[q-1],ve=m[q+1]);var Se=t.util.getBisector(J,ne,ve),Be=Se.vector,Ue=Se.angle,qe,mt;if(C.strokeLineJoin==="miter"&&(qe=-O/Math.sin(Ue/2),mt=new t.Point(Be.x*qe*N.x,Be.y*qe*N.y),Math.hypot(mt.x,mt.y)/O<=C.strokeMiterLimit)){S.push(J.add(mt)),S.push(J.subtract(mt));return}qe=-O*Math.SQRT2,mt=new t.Point(Be.x*qe*N.x,Be.y*qe*N.y),S.push(J.add(mt)),S.push(J.subtract(mt))}),S},transformPoint:function(m,C,D){return D?new t.Point(C[0]*m.x+C[2]*m.y,C[1]*m.x+C[3]*m.y):new t.Point(C[0]*m.x+C[2]*m.y+C[4],C[1]*m.x+C[3]*m.y+C[5])},makeBoundingBoxFromPoints:function(m,C){if(C)for(var D=0;D<m.length;D++)m[D]=t.util.transformPoint(m[D],C);var S=[m[0].x,m[1].x,m[2].x,m[3].x],O=t.util.array.min(S),N=t.util.array.max(S),U=N-O,W=[m[0].y,m[1].y,m[2].y,m[3].y],q=t.util.array.min(W),J=t.util.array.max(W),ne=J-q;return{left:O,top:q,width:U,height:ne}},invertTransform:function(m){var C=1/(m[0]*m[3]-m[1]*m[2]),D=[C*m[3],-C*m[1],-C*m[2],C*m[0]],S=t.util.transformPoint({x:m[4],y:m[5]},D,!0);return D[4]=-S.x,D[5]=-S.y,D},toFixed:function(m,C){return parseFloat(Number(m).toFixed(C))},parseUnit:function(m,C){var D=/\D{0,2}$/.exec(m),S=parseFloat(m);switch(C||(C=t.Text.DEFAULT_SVG_FONT_SIZE),D[0]){case"mm":return S*t.DPI/25.4;case"cm":return S*t.DPI/2.54;case"in":return S*t.DPI;case"pt":return S*t.DPI/72;case"pc":return S*t.DPI/72*12;case"em":return S*C;default:return S}},falseFunction:function(){return!1},getKlass:function(m,C){return m=t.util.string.camelize(m.charAt(0).toUpperCase()+m.slice(1)),t.util.resolveNamespace(C)[m]},getSvgAttributes:function(m){var C=["instantiated_by_use","style","id","class"];switch(m){case"linearGradient":C=C.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":C=C.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":C=C.concat(["offset","stop-color","stop-opacity"]);break}return C},resolveNamespace:function(m){if(!m)return t;var C=m.split("."),D=C.length,S,O=d||t.window;for(S=0;S<D;++S)O=O[C[S]];return O},loadImage:function(m,C,D,S){if(!m){C&&C.call(D,m);return}var O=t.util.createImage(),N=function(){C&&C.call(D,O,!1),O=O.onload=O.onerror=null};O.onload=N,O.onerror=function(){t.log("Error loading "+O.src),C&&C.call(D,null,!0),O=O.onload=O.onerror=null},m.indexOf("data")!==0&&S!==void 0&&S!==null&&(O.crossOrigin=S),m.substring(0,14)==="data:image/svg"&&(O.onload=null,t.util.loadImageInDom(O,N)),O.src=m},loadImageInDom:function(m,C){var D=t.document.createElement("div");D.style.width=D.style.height="1px",D.style.left=D.style.top="-100%",D.style.position="absolute",D.appendChild(m),t.document.querySelector("body").appendChild(D),m.onload=function(){C(),D.parentNode.removeChild(D),D=null}},enlivenObjects:function(m,C,D,S){m=m||[];var O=[],N=0,U=m.length;function W(){++N===U&&C&&C(O.filter(function(q){return q}))}if(!U){C&&C(O);return}m.forEach(function(q,J){if(!q||!q.type){W();return}var ne=t.util.getKlass(q.type,D);ne.fromObject(q,function(ve,Se){Se||(O[J]=ve),S&&S(q,ve,Se),W()})})},enlivenObjectEnlivables:function(m,C,D){var S=t.Object.ENLIVEN_PROPS.filter(function(O){return!!m[O]});t.util.enlivenObjects(S.map(function(O){return m[O]}),function(O){var N={};S.forEach(function(U,W){N[U]=O[W],C&&(C[U]=O[W])}),D&&D(N)})},enlivenPatterns:function(m,C){m=m||[];function D(){++O===N&&C&&C(S)}var S=[],O=0,N=m.length;if(!N){C&&C(S);return}m.forEach(function(U,W){U&&U.source?new t.Pattern(U,function(q){S[W]=q,D()}):(S[W]=U,D())})},groupSVGElements:function(m,C,D){var S;return m&&m.length===1?(typeof D<"u"&&(m[0].sourcePath=D),m[0]):(C&&(C.width&&C.height?C.centerPoint={x:C.width/2,y:C.height/2}:(delete C.width,delete C.height)),S=new t.Group(m,C),typeof D<"u"&&(S.sourcePath=D),S)},populateWithProperties:function(m,C,D){if(D&&Array.isArray(D))for(var S=0,O=D.length;S<O;S++)D[S]in m&&(C[D[S]]=m[D[S]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(m){var C=t.util.createCanvasElement();return C.width=m.width,C.height=m.height,C.getContext("2d").drawImage(m,0,0),C},toDataURL:function(m,C,D){return m.toDataURL("image/"+C,D)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(m,C,D){return[m[0]*C[0]+m[2]*C[1],m[1]*C[0]+m[3]*C[1],m[0]*C[2]+m[2]*C[3],m[1]*C[2]+m[3]*C[3],D?0:m[0]*C[4]+m[2]*C[5]+m[4],D?0:m[1]*C[4]+m[3]*C[5]+m[5]]},qrDecompose:function(m){var C=u(m[1],m[0]),D=v(m[0],2)+v(m[1],2),S=a(D),O=(m[0]*m[3]-m[2]*m[1])/S,N=u(m[0]*m[2]+m[1]*m[3],D);return{angle:C/f,scaleX:S,scaleY:O,skewX:N/f,skewY:0,translateX:m[4],translateY:m[5]}},calcRotateMatrix:function(m){if(!m.angle)return t.iMatrix.concat();var C=t.util.degreesToRadians(m.angle),D=t.util.cos(C),S=t.util.sin(C);return[D,S,-S,D,0,0]},calcDimensionsMatrix:function(m){var C=typeof m.scaleX>"u"?1:m.scaleX,D=typeof m.scaleY>"u"?1:m.scaleY,S=[m.flipX?-C:C,0,0,m.flipY?-D:D,0,0],O=t.util.multiplyTransformMatrices,N=t.util.degreesToRadians;return m.skewX&&(S=O(S,[1,0,Math.tan(N(m.skewX)),1],!0)),m.skewY&&(S=O(S,[1,Math.tan(N(m.skewY)),0,1],!0)),S},composeMatrix:function(m){var C=[1,0,0,1,m.translateX||0,m.translateY||0],D=t.util.multiplyTransformMatrices;return m.angle&&(C=D(C,t.util.calcRotateMatrix(m))),(m.scaleX!==1||m.scaleY!==1||m.skewX||m.skewY||m.flipX||m.flipY)&&(C=D(C,t.util.calcDimensionsMatrix(m))),C},resetObjectTransform:function(m){m.scaleX=1,m.scaleY=1,m.skewX=0,m.skewY=0,m.flipX=!1,m.flipY=!1,m.rotate(0)},saveObjectTransform:function(m){return{scaleX:m.scaleX,scaleY:m.scaleY,skewX:m.skewX,skewY:m.skewY,angle:m.angle,left:m.left,flipX:m.flipX,flipY:m.flipY,top:m.top}},isTransparent:function(m,C,D,S){S>0&&(C>S?C-=S:C=0,D>S?D-=S:D=0);var O=!0,N,U,W=m.getImageData(C,D,S*2||1,S*2||1),q=W.data.length;for(N=3;N<q&&(U=W.data[N],O=U<=0,O!==!1);N+=4);return W=null,O},parsePreserveAspectRatioAttribute:function(m){var C="meet",D="Mid",S="Mid",O=m.split(" "),N;return O&&O.length&&(C=O.pop(),C!=="meet"&&C!=="slice"?(N=C,C="meet"):O.length&&(N=O.pop())),D=N!=="none"?N.slice(1,4):"none",S=N!=="none"?N.slice(5,8):"none",{meetOrSlice:C,alignX:D,alignY:S}},clearFabricFontCache:function(m){m=(m||"").toLowerCase(),m?t.charWidthsCache[m]&&delete t.charWidthsCache[m]:t.charWidthsCache={}},limitDimsByArea:function(m,C){var D=Math.sqrt(C*m),S=Math.floor(C/D);return{x:Math.floor(D),y:S}},capValue:function(m,C,D){return Math.max(m,Math.min(C,D))},findScaleToFit:function(m,C){return Math.min(C.width/m.width,C.height/m.height)},findScaleToCover:function(m,C){return Math.max(C.width/m.width,C.height/m.height)},matrixToSVG:function(m){return"matrix("+m.map(function(C){return t.util.toFixed(C,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(m,C){var D=t.util.invertTransform(C),S=t.util.multiplyTransformMatrices(D,m.calcOwnMatrix());t.util.applyTransformToObject(m,S)},addTransformToObject:function(m,C){t.util.applyTransformToObject(m,t.util.multiplyTransformMatrices(C,m.calcOwnMatrix()))},applyTransformToObject:function(m,C){var D=t.util.qrDecompose(C),S=new t.Point(D.translateX,D.translateY);m.flipX=!1,m.flipY=!1,m.set("scaleX",D.scaleX),m.set("scaleY",D.scaleY),m.skewX=D.skewX,m.skewY=D.skewY,m.angle=D.angle,m.setPositionByOrigin(S,"center","center")},sizeAfterTransform:function(m,C,D){var S=m/2,O=C/2,N=[{x:-S,y:-O},{x:S,y:-O},{x:-S,y:O},{x:S,y:O}],U=t.util.calcDimensionsMatrix(D),W=t.util.makeBoundingBoxFromPoints(N,U);return{x:W.width,y:W.height}},mergeClipPaths:function(m,C){var D=m,S=C;D.inverted&&!S.inverted&&(D=C,S=m),t.util.applyTransformToObject(S,t.util.multiplyTransformMatrices(t.util.invertTransform(D.calcTransformMatrix()),S.calcTransformMatrix()));var O=D.inverted&&S.inverted;return O&&(D.inverted=S.inverted=!1),new t.Group([D],{clipPath:S,inverted:O})},hasStyleChanged:function(m,C,D){return D=D||!1,m.fill!==C.fill||m.stroke!==C.stroke||m.strokeWidth!==C.strokeWidth||m.fontSize!==C.fontSize||m.fontFamily!==C.fontFamily||m.fontWeight!==C.fontWeight||m.fontStyle!==C.fontStyle||m.textBackgroundColor!==C.textBackgroundColor||m.deltaY!==C.deltaY||D&&(m.overline!==C.overline||m.underline!==C.underline||m.linethrough!==C.linethrough)},stylesToArray:function(D,C){for(var D=t.util.object.clone(D,!0),S=C.split(`
`),O=-1,N={},U=[],W=0;W<S.length;W++){if(!D[W]){O+=S[W].length;continue}for(var q=0;q<S[W].length;q++){O++;var J=D[W][q];if(J&&Object.keys(J).length>0){var ne=t.util.hasStyleChanged(N,J,!0);ne?U.push({start:O,end:O+1,style:J}):U[U.length-1].end++}N=J||{}}}return U},stylesFromArray:function(m,C){if(!Array.isArray(m))return m;for(var D=C.split(`
`),S=-1,O=0,N={},U=0;U<D.length;U++)for(var W=0;W<D[U].length;W++)S++,m[O]&&m[O].start<=S&&S<m[O].end&&(N[U]=N[U]||{},N[U][W]=Object.assign({},m[O].style),S===m[O].end-1&&O++);return N}}})(e),(function(){var d=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},u={m:"l",M:"L"};function v(Me,ue,ce,oe,Z,be,Te,Fe,ct,At,rt){var jt=t.util.cos(Me),_t=t.util.sin(Me),Wt=t.util.cos(ue),ft=t.util.sin(ue),kt=ce*Z*Wt-oe*be*ft+Te,Dt=oe*Z*Wt+ce*be*ft+Fe,tn=At+ct*(-ce*Z*_t-oe*be*jt),zt=rt+ct*(-oe*Z*_t+ce*be*jt),Ut=kt+ct*(ce*Z*ft+oe*be*Wt),Kt=Dt+ct*(oe*Z*ft-ce*be*Wt);return["C",tn,zt,Ut,Kt,kt,Dt]}function f(Me,ue,ce,oe,Z,be,Te){var Fe=Math.PI,ct=Te*Fe/180,At=t.util.sin(ct),rt=t.util.cos(ct),jt=0,_t=0;ce=Math.abs(ce),oe=Math.abs(oe);var Wt=-rt*Me*.5-At*ue*.5,ft=-rt*ue*.5+At*Me*.5,kt=ce*ce,Dt=oe*oe,tn=ft*ft,zt=Wt*Wt,Ut=kt*Dt-kt*tn-Dt*zt,Kt=0;if(Ut<0){var un=Math.sqrt(1-Ut/(kt*Dt));ce*=un,oe*=un}else Kt=(Z===be?-1:1)*Math.sqrt(Ut/(kt*tn+Dt*zt));var Xt=Kt*ce*ft/oe,Zt=-Kt*oe*Wt/ce,Bn=rt*Xt-At*Zt+Me*.5,gt=At*Xt+rt*Zt+ue*.5,dt=g(1,0,(Wt-Xt)/ce,(ft-Zt)/oe),Pe=g((Wt-Xt)/ce,(ft-Zt)/oe,(-Wt-Xt)/ce,(-ft-Zt)/oe);be===0&&Pe>0?Pe-=2*Fe:be===1&&Pe<0&&(Pe+=2*Fe);for(var xe=Math.ceil(Math.abs(Pe/Fe*2)),Ee=[],Ze=Pe/xe,re=8/3*Math.sin(Ze/4)*Math.sin(Ze/4)/Math.sin(Ze/2),we=dt+Ze,Ve=0;Ve<xe;Ve++)Ee[Ve]=v(dt,we,rt,At,ce,oe,Bn,gt,re,jt,_t),jt=Ee[Ve][5],_t=Ee[Ve][6],dt=we,we+=Ze;return Ee}function g(Me,ue,ce,oe){var Z=Math.atan2(ue,Me),be=Math.atan2(oe,ce);return be>=Z?be-Z:2*Math.PI-(Z-be)}function m(Me,ue,ce,oe,Z,be,Te,Fe){var ct;if(t.cachesBoundsOfCurve&&(ct=d.call(arguments),t.boundsOfCurveCache[ct]))return t.boundsOfCurveCache[ct];var At=Math.sqrt,rt=Math.min,jt=Math.max,_t=Math.abs,Wt=[],ft=[[],[]],kt,Dt,tn,zt,Ut,Kt,un,Xt;Dt=6*Me-12*ce+6*Z,kt=-3*Me+9*ce-9*Z+3*Te,tn=3*ce-3*Me;for(var Zt=0;Zt<2;++Zt){if(Zt>0&&(Dt=6*ue-12*oe+6*be,kt=-3*ue+9*oe-9*be+3*Fe,tn=3*oe-3*ue),_t(kt)<1e-12){if(_t(Dt)<1e-12)continue;zt=-tn/Dt,0<zt&&zt<1&&Wt.push(zt);continue}un=Dt*Dt-4*tn*kt,!(un<0)&&(Xt=At(un),Ut=(-Dt+Xt)/(2*kt),0<Ut&&Ut<1&&Wt.push(Ut),Kt=(-Dt-Xt)/(2*kt),0<Kt&&Kt<1&&Wt.push(Kt))}for(var Bn,gt,dt=Wt.length,Pe=dt,xe;dt--;)zt=Wt[dt],xe=1-zt,Bn=xe*xe*xe*Me+3*xe*xe*zt*ce+3*xe*zt*zt*Z+zt*zt*zt*Te,ft[0][dt]=Bn,gt=xe*xe*xe*ue+3*xe*xe*zt*oe+3*xe*zt*zt*be+zt*zt*zt*Fe,ft[1][dt]=gt;ft[0][Pe]=Me,ft[1][Pe]=ue,ft[0][Pe+1]=Te,ft[1][Pe+1]=Fe;var Ee=[{x:rt.apply(null,ft[0]),y:rt.apply(null,ft[1])},{x:jt.apply(null,ft[0]),y:jt.apply(null,ft[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[ct]=Ee),Ee}function C(Me,ue,ce){for(var oe=ce[1],Z=ce[2],be=ce[3],Te=ce[4],Fe=ce[5],ct=ce[6],At=ce[7],rt=f(ct-Me,At-ue,oe,Z,Te,Fe,be),jt=0,_t=rt.length;jt<_t;jt++)rt[jt][1]+=Me,rt[jt][2]+=ue,rt[jt][3]+=Me,rt[jt][4]+=ue,rt[jt][5]+=Me,rt[jt][6]+=ue;return rt}function D(Me){var ue=0,ce=0,oe=Me.length,Z=0,be=0,Te,Fe,ct,At=[],rt,jt,_t;for(Fe=0;Fe<oe;++Fe){switch(ct=!1,Te=Me[Fe].slice(0),Te[0]){case"l":Te[0]="L",Te[1]+=ue,Te[2]+=ce;case"L":ue=Te[1],ce=Te[2];break;case"h":Te[1]+=ue;case"H":Te[0]="L",Te[2]=ce,ue=Te[1];break;case"v":Te[1]+=ce;case"V":Te[0]="L",ce=Te[1],Te[1]=ue,Te[2]=ce;break;case"m":Te[0]="M",Te[1]+=ue,Te[2]+=ce;case"M":ue=Te[1],ce=Te[2],Z=Te[1],be=Te[2];break;case"c":Te[0]="C",Te[1]+=ue,Te[2]+=ce,Te[3]+=ue,Te[4]+=ce,Te[5]+=ue,Te[6]+=ce;case"C":jt=Te[3],_t=Te[4],ue=Te[5],ce=Te[6];break;case"s":Te[0]="S",Te[1]+=ue,Te[2]+=ce,Te[3]+=ue,Te[4]+=ce;case"S":rt==="C"?(jt=2*ue-jt,_t=2*ce-_t):(jt=ue,_t=ce),ue=Te[3],ce=Te[4],Te[0]="C",Te[5]=Te[3],Te[6]=Te[4],Te[3]=Te[1],Te[4]=Te[2],Te[1]=jt,Te[2]=_t,jt=Te[3],_t=Te[4];break;case"q":Te[0]="Q",Te[1]+=ue,Te[2]+=ce,Te[3]+=ue,Te[4]+=ce;case"Q":jt=Te[1],_t=Te[2],ue=Te[3],ce=Te[4];break;case"t":Te[0]="T",Te[1]+=ue,Te[2]+=ce;case"T":rt==="Q"?(jt=2*ue-jt,_t=2*ce-_t):(jt=ue,_t=ce),Te[0]="Q",ue=Te[1],ce=Te[2],Te[1]=jt,Te[2]=_t,Te[3]=ue,Te[4]=ce;break;case"a":Te[0]="A",Te[6]+=ue,Te[7]+=ce;case"A":ct=!0,At=At.concat(C(ue,ce,Te)),ue=Te[6],ce=Te[7];break;case"z":case"Z":ue=Z,ce=be;break}ct||At.push(Te),rt=Te[0]}return At}function S(Me,ue,ce,oe){return Math.sqrt((ce-Me)*(ce-Me)+(oe-ue)*(oe-ue))}function O(Me){return Me*Me*Me}function N(Me){return 3*Me*Me*(1-Me)}function U(Me){return 3*Me*(1-Me)*(1-Me)}function W(Me){return(1-Me)*(1-Me)*(1-Me)}function q(Me,ue,ce,oe,Z,be,Te,Fe){return function(ct){var At=O(ct),rt=N(ct),jt=U(ct),_t=W(ct);return{x:Te*At+Z*rt+ce*jt+Me*_t,y:Fe*At+be*rt+oe*jt+ue*_t}}}function J(Me,ue,ce,oe,Z,be,Te,Fe){return function(ct){var At=1-ct,rt=3*At*At*(ce-Me)+6*At*ct*(Z-ce)+3*ct*ct*(Te-Z),jt=3*At*At*(oe-ue)+6*At*ct*(be-oe)+3*ct*ct*(Fe-be);return Math.atan2(jt,rt)}}function ne(Me){return Me*Me}function ve(Me){return 2*Me*(1-Me)}function Se(Me){return(1-Me)*(1-Me)}function Be(Me,ue,ce,oe,Z,be){return function(Te){var Fe=ne(Te),ct=ve(Te),At=Se(Te);return{x:Z*Fe+ce*ct+Me*At,y:be*Fe+oe*ct+ue*At}}}function Ue(Me,ue,ce,oe,Z,be){return function(Te){var Fe=1-Te,ct=2*Fe*(ce-Me)+2*Te*(Z-ce),At=2*Fe*(oe-ue)+2*Te*(be-oe);return Math.atan2(At,ct)}}function qe(Me,ue,ce){var oe={x:ue,y:ce},Z,be=0,Te;for(Te=1;Te<=100;Te+=1)Z=Me(Te/100),be+=S(oe.x,oe.y,Z.x,Z.y),oe=Z;return be}function mt(Me,ue){for(var ce=0,oe=0,Z=Me.iterator,be={x:Me.x,y:Me.y},Te,Fe,ct=.01,At=Me.angleFinder,rt;oe<ue&&ct>1e-4;)Te=Z(ce),rt=ce,Fe=S(be.x,be.y,Te.x,Te.y),Fe+oe>ue?(ce-=ct,ct/=2):(be=Te,ce+=ct,oe+=Fe);return Te.angle=At(rt),Te}function ut(Me){for(var ue=0,ce=Me.length,oe,Z=0,be=0,Te=0,Fe=0,ct=[],At,rt,jt,_t=0;_t<ce;_t++){switch(oe=Me[_t],rt={x:Z,y:be,command:oe[0]},oe[0]){case"M":rt.length=0,Te=Z=oe[1],Fe=be=oe[2];break;case"L":rt.length=S(Z,be,oe[1],oe[2]),Z=oe[1],be=oe[2];break;case"C":At=q(Z,be,oe[1],oe[2],oe[3],oe[4],oe[5],oe[6]),jt=J(Z,be,oe[1],oe[2],oe[3],oe[4],oe[5],oe[6]),rt.iterator=At,rt.angleFinder=jt,rt.length=qe(At,Z,be),Z=oe[5],be=oe[6];break;case"Q":At=Be(Z,be,oe[1],oe[2],oe[3],oe[4]),jt=Ue(Z,be,oe[1],oe[2],oe[3],oe[4]),rt.iterator=At,rt.angleFinder=jt,rt.length=qe(At,Z,be),Z=oe[3],be=oe[4];break;case"Z":case"z":rt.destX=Te,rt.destY=Fe,rt.length=S(Z,be,Te,Fe),Z=Te,be=Fe;break}ue+=rt.length,ct.push(rt)}return ct.push({length:ue,x:Z,y:be}),ct}function ge(Me,ue,ce){ce||(ce=ut(Me));for(var oe=0;ue-ce[oe].length>0&&oe<ce.length-2;)ue-=ce[oe].length,oe++;var Z=ce[oe],be=ue/Z.length,Te=Z.command,Fe=Me[oe],ct;switch(Te){case"M":return{x:Z.x,y:Z.y,angle:0};case"Z":case"z":return ct=new t.Point(Z.x,Z.y).lerp(new t.Point(Z.destX,Z.destY),be),ct.angle=Math.atan2(Z.destY-Z.y,Z.destX-Z.x),ct;case"L":return ct=new t.Point(Z.x,Z.y).lerp(new t.Point(Fe[1],Fe[2]),be),ct.angle=Math.atan2(Fe[2]-Z.y,Fe[1]-Z.x),ct;case"C":return mt(Z,ue);case"Q":return mt(Z,ue)}}function me(Me){var ue=[],ce=[],oe,Z,be=t.rePathCommand,Te="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Fe="("+Te+")"+t.commaWsp,ct="([01])"+t.commaWsp+"?",At=Fe+"?"+Fe+"?"+Fe+ct+ct+Fe+"?("+Te+")",rt=new RegExp(At,"g"),jt,_t,Wt;if(!Me||!Me.match)return ue;Wt=Me.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ft=0,kt,Dt=Wt.length;ft<Dt;ft++){oe=Wt[ft],_t=oe.slice(1).trim(),ce.length=0;var tn=oe.charAt(0);if(kt=[tn],tn.toLowerCase()==="a")for(var zt;zt=rt.exec(_t);)for(var Ut=1;Ut<zt.length;Ut++)ce.push(zt[Ut]);else for(;jt=be.exec(_t);)ce.push(jt[0]);for(var Ut=0,Kt=ce.length;Ut<Kt;Ut++)Z=parseFloat(ce[Ut]),isNaN(Z)||kt.push(Z);var un=a[tn.toLowerCase()],Xt=u[tn]||tn;if(kt.length-1>un)for(var Zt=1,Bn=kt.length;Zt<Bn;Zt+=un)ue.push([tn].concat(kt.slice(Zt,Zt+un))),tn=Xt;else ue.push(kt)}return ue}function Ie(Me,ue){var ce=[],oe,Z=new t.Point(Me[0].x,Me[0].y),be=new t.Point(Me[1].x,Me[1].y),Te=Me.length,Fe=1,ct=0,At=Te>2;for(ue=ue||0,At&&(Fe=Me[2].x<be.x?-1:Me[2].x===be.x?0:1,ct=Me[2].y<be.y?-1:Me[2].y===be.y?0:1),ce.push(["M",Z.x-Fe*ue,Z.y-ct*ue]),oe=1;oe<Te;oe++){if(!Z.eq(be)){var rt=Z.midPointFrom(be);ce.push(["Q",Z.x,Z.y,rt.x,rt.y])}Z=Me[oe],oe+1<Me.length&&(be=Me[oe+1])}return At&&(Fe=Z.x>Me[oe-2].x?1:Z.x===Me[oe-2].x?0:-1,ct=Z.y>Me[oe-2].y?1:Z.y===Me[oe-2].y?0:-1),ce.push(["L",Z.x+Fe*ue,Z.y+ct*ue]),ce}function lt(Me,ue,ce){return ce&&(ue=t.util.multiplyTransformMatrices(ue,[1,0,0,1,-ce.x,-ce.y])),Me.map(function(oe){for(var Z=oe.slice(0),be={},Te=1;Te<oe.length-1;Te+=2)be.x=oe[Te],be.y=oe[Te+1],be=t.util.transformPoint(be,ue),Z[Te]=be.x,Z[Te+1]=be.y;return Z})}t.util.joinPath=function(Me){return Me.map(function(ue){return ue.join(" ")}).join(" ")},t.util.parsePath=me,t.util.makePathSimpler=D,t.util.getSmoothPathFromPoints=Ie,t.util.getPathSegmentsInfo=ut,t.util.getBoundsOfCurve=m,t.util.getPointOnPath=ge,t.util.transformPath=lt})(),(function(){var d=Array.prototype.slice;function a(m,C){for(var D=d.call(arguments,2),S=[],O=0,N=m.length;O<N;O++)S[O]=D.length?m[O][C].apply(m[O],D):m[O][C].call(m[O]);return S}function u(m,C){return g(m,C,function(D,S){return D>=S})}function v(m,C){return g(m,C,function(D,S){return D<S})}function f(m,C){for(var D=m.length;D--;)m[D]=C;return m}function g(m,C,D){if(!(!m||m.length===0)){var S=m.length-1,O=C?m[S][C]:m[S];if(C)for(;S--;)D(m[S][C],O)&&(O=m[S][C]);else for(;S--;)D(m[S],O)&&(O=m[S]);return O}}t.util.array={fill:f,invoke:a,min:v,max:u}})(),(function(){function d(u,v,f){if(f)if(!t.isLikelyNode&&v instanceof Element)u=v;else if(v instanceof Array){u=[];for(var g=0,m=v.length;g<m;g++)u[g]=d({},v[g],f)}else if(v&&typeof v=="object")for(var C in v)C==="canvas"||C==="group"?u[C]=null:v.hasOwnProperty(C)&&(u[C]=d({},v[C],f));else u=v;else for(var C in v)u[C]=v[C];return u}function a(u,v){return d({},u,v)}t.util.object={extend:d,clone:a},t.util.object.extend(t.util,t.Observable)})(),(function(){function d(g){return g.replace(/-+(.)?/g,function(m,C){return C?C.toUpperCase():""})}function a(g,m){return g.charAt(0).toUpperCase()+(m?g.slice(1):g.slice(1).toLowerCase())}function u(g){return g.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(g){var m=0,C,D=[];for(m=0,C;m<g.length;m++)(C=f(g,m))!==!1&&D.push(C);return D}function f(g,m){var C=g.charCodeAt(m);if(isNaN(C))return"";if(C<55296||C>57343)return g.charAt(m);if(55296<=C&&C<=56319){if(g.length<=m+1)throw"High surrogate without following low surrogate";var D=g.charCodeAt(m+1);if(56320>D||D>57343)throw"High surrogate without following low surrogate";return g.charAt(m)+g.charAt(m+1)}if(m===0)throw"Low surrogate without preceding high surrogate";var S=g.charCodeAt(m-1);if(55296>S||S>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:d,capitalize:a,escapeXml:u,graphemeSplit:v}})(),(function(){var d=Array.prototype.slice,a=function(){},u=(function(){for(var C in{toString:1})if(C==="toString")return!1;return!0})(),v=function(C,D,S){for(var O in D)O in C.prototype&&typeof C.prototype[O]=="function"&&(D[O]+"").indexOf("callSuper")>-1?C.prototype[O]=(function(N){return function(){var U=this.constructor.superclass;this.constructor.superclass=S;var W=D[N].apply(this,arguments);if(this.constructor.superclass=U,N!=="initialize")return W}})(O):C.prototype[O]=D[O],u&&(D.toString!==Object.prototype.toString&&(C.prototype.toString=D.toString),D.valueOf!==Object.prototype.valueOf&&(C.prototype.valueOf=D.valueOf))};function f(){}function g(C){for(var D=null,S=this;S.constructor.superclass;){var O=S.constructor.superclass.prototype[C];if(S[C]!==O){D=O;break}S=S.constructor.superclass.prototype}return D?arguments.length>1?D.apply(this,d.call(arguments,1)):D.call(this):console.log("tried to callSuper "+C+", method not found in prototype chain",this)}function m(){var C=null,D=d.call(arguments,0);typeof D[0]=="function"&&(C=D.shift());function S(){this.initialize.apply(this,arguments)}S.superclass=C,S.subclasses=[],C&&(f.prototype=C.prototype,S.prototype=new f,C.subclasses.push(S));for(var O=0,N=D.length;O<N;O++)v(S,D[O],C);return S.prototype.initialize||(S.prototype.initialize=a),S.prototype.constructor=S,S.prototype.callSuper=g,S}t.util.createClass=m})(),(function(){var d=!!t.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];t.util.addListener=function(v,f,g,m){v&&v.addEventListener(f,g,d?!1:m)},t.util.removeListener=function(v,f,g,m){v&&v.removeEventListener(f,g,d?!1:m)};function u(v){var f=v.changedTouches;return f&&f[0]?f[0]:v}t.util.getPointer=function(v){var f=v.target,g=t.util.getScrollLeftTop(f),m=u(v);return{x:m.clientX+g.left,y:m.clientY+g.top}},t.util.isTouchEvent=function(v){return a.indexOf(v.type)>-1||v.pointerType==="touch"}})(),(function(){function d(m,C){var D=m.style;if(!D)return m;if(typeof C=="string")return m.style.cssText+=";"+C,C.indexOf("opacity")>-1?g(m,C.match(/opacity:\s*(\d?\.?\d*)/)[1]):m;for(var S in C)if(S==="opacity")g(m,C[S]);else{var O=S==="float"||S==="cssFloat"?typeof D.styleFloat>"u"?"cssFloat":"styleFloat":S;D.setProperty(O,C[S])}return m}var a=t.document.createElement("div"),u=typeof a.style.opacity=="string",v=typeof a.style.filter=="string",f=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,g=function(m){return m};u?g=function(m,C){return m.style.opacity=C,m}:v&&(g=function(m,C){var D=m.style;return m.currentStyle&&!m.currentStyle.hasLayout&&(D.zoom=1),f.test(D.filter)?(C=C>=.9999?"":"alpha(opacity="+C*100+")",D.filter=D.filter.replace(f,C)):D.filter+=" alpha(opacity="+C*100+")",m}),t.util.setStyle=d})(),(function(){var d=Array.prototype.slice;function a(W){return typeof W=="string"?t.document.getElementById(W):W}var u,v=function(W){return d.call(W,0)};try{u=v(t.document.childNodes)instanceof Array}catch{}u||(v=function(W){for(var q=new Array(W.length),J=W.length;J--;)q[J]=W[J];return q});function f(W,q){var J=t.document.createElement(W);for(var ne in q)ne==="class"?J.className=q[ne]:ne==="for"?J.htmlFor=q[ne]:J.setAttribute(ne,q[ne]);return J}function g(W,q){W&&(" "+W.className+" ").indexOf(" "+q+" ")===-1&&(W.className+=(W.className?" ":"")+q)}function m(W,q,J){return typeof q=="string"&&(q=f(q,J)),W.parentNode&&W.parentNode.replaceChild(q,W),q.appendChild(W),q}function C(W){for(var q=0,J=0,ne=t.document.documentElement,ve=t.document.body||{scrollLeft:0,scrollTop:0};W&&(W.parentNode||W.host)&&(W=W.parentNode||W.host,W===t.document?(q=ve.scrollLeft||ne.scrollLeft||0,J=ve.scrollTop||ne.scrollTop||0):(q+=W.scrollLeft||0,J+=W.scrollTop||0),!(W.nodeType===1&&W.style.position==="fixed")););return{left:q,top:J}}function D(W){var q,J=W&&W.ownerDocument,ne={left:0,top:0},ve={left:0,top:0},Se,Be={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!J)return ve;for(var Ue in Be)ve[Be[Ue]]+=parseInt(S(W,Ue),10)||0;return q=J.documentElement,typeof W.getBoundingClientRect<"u"&&(ne=W.getBoundingClientRect()),Se=C(W),{left:ne.left+Se.left-(q.clientLeft||0)+ve.left,top:ne.top+Se.top-(q.clientTop||0)+ve.top}}var S;t.document.defaultView&&t.document.defaultView.getComputedStyle?S=function(W,q){var J=t.document.defaultView.getComputedStyle(W,null);return J?J[q]:void 0}:S=function(W,q){var J=W.style[q];return!J&&W.currentStyle&&(J=W.currentStyle[q]),J},(function(){var W=t.document.documentElement.style,q="userSelect"in W?"userSelect":"MozUserSelect"in W?"MozUserSelect":"WebkitUserSelect"in W?"WebkitUserSelect":"KhtmlUserSelect"in W?"KhtmlUserSelect":"";function J(ve){return typeof ve.onselectstart<"u"&&(ve.onselectstart=t.util.falseFunction),q?ve.style[q]="none":typeof ve.unselectable=="string"&&(ve.unselectable="on"),ve}function ne(ve){return typeof ve.onselectstart<"u"&&(ve.onselectstart=null),q?ve.style[q]="":typeof ve.unselectable=="string"&&(ve.unselectable=""),ve}t.util.makeElementUnselectable=J,t.util.makeElementSelectable=ne})();function O(W){var q=t.jsdomImplForWrapper(W);return q._canvas||q._image}function N(W){if(t.isLikelyNode){var q=t.jsdomImplForWrapper(W);q&&(q._image=null,q._canvas=null,q._currentSrc=null,q._attributes=null,q._classList=null)}}function U(W,q){W.imageSmoothingEnabled=W.imageSmoothingEnabled||W.webkitImageSmoothingEnabled||W.mozImageSmoothingEnabled||W.msImageSmoothingEnabled||W.oImageSmoothingEnabled,W.imageSmoothingEnabled=q}t.util.setImageSmoothing=U,t.util.getById=a,t.util.toArray=v,t.util.addClass=g,t.util.makeElement=f,t.util.wrapElement=m,t.util.getScrollLeftTop=C,t.util.getElementOffset=D,t.util.getNodeCanvas=O,t.util.cleanUpJsdomNode=N})(),(function(){function d(v,f){return v+(/\?/.test(v)?"&":"?")+f}function a(){}function u(v,f){f||(f={});var g=f.method?f.method.toUpperCase():"GET",m=f.onComplete||function(){},C=new t.window.XMLHttpRequest,D=f.body||f.parameters;return C.onreadystatechange=function(){C.readyState===4&&(m(C),C.onreadystatechange=a)},g==="GET"&&(D=null,typeof f.parameters=="string"&&(v=d(v,f.parameters))),C.open(g,v,!0),(g==="POST"||g==="PUT")&&C.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),C.send(D),C}t.util.request=u})(),t.log=console.log,t.warn=console.warn,(function(){var d=t.util.object.extend,a=t.util.object.clone,u=[];t.util.object.extend(u,{cancelAll:function(){var O=this.splice(0);return O.forEach(function(N){N.cancel()}),O},cancelByCanvas:function(O){if(!O)return[];var N=this.filter(function(U){return typeof U.target=="object"&&U.target.canvas===O});return N.forEach(function(U){U.cancel()}),N},cancelByTarget:function(O){var N=this.findAnimationsByTarget(O);return N.forEach(function(U){U.cancel()}),N},findAnimationIndex:function(O){return this.indexOf(this.findAnimation(O))},findAnimation:function(O){return this.find(function(N){return N.cancel===O})},findAnimationsByTarget:function(O){return O?this.filter(function(N){return N.target===O}):[]}});function v(){return!1}function f(O,N,U,W){return-U*Math.cos(O/W*(Math.PI/2))+U+N}function g(O){O||(O={});var N=!1,U,W=function(){var q=t.runningAnimations.indexOf(U);return q>-1&&t.runningAnimations.splice(q,1)[0]};return U=d(a(O),{cancel:function(){return N=!0,W()},currentValue:"startValue"in O?O.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(U),D(function(q){var J=q||+new Date,ne=O.duration||500,ve=J+ne,Se,Be=O.onChange||v,Ue=O.abort||v,qe=O.onComplete||v,mt=O.easing||f,ut="startValue"in O?O.startValue.length>0:!1,ge="startValue"in O?O.startValue:0,me="endValue"in O?O.endValue:100,Ie=O.byValue||(ut?ge.map(function(lt,Me){return me[Me]-ge[Me]}):me-ge);O.onStart&&O.onStart(),(function lt(Me){Se=Me||+new Date;var ue=Se>ve?ne:Se-J,ce=ue/ne,oe=ut?ge.map(function(be,Te){return mt(ue,ge[Te],Ie[Te],ne)}):mt(ue,ge,Ie,ne),Z=Math.abs(ut?(oe[0]-ge[0])/Ie[0]:(oe-ge)/Ie);if(U.currentValue=ut?oe.slice():oe,U.completionRate=Z,U.durationRate=ce,!N){if(Ue(oe,Z,ce)){W();return}if(Se>ve){U.currentValue=ut?me.slice():me,U.completionRate=1,U.durationRate=1,Be(ut?me.slice():me,1,1),qe(me,1,1),W();return}else Be(oe,Z,ce),D(lt)}})(J)}),U.cancel}var m=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(O){return t.window.setTimeout(O,1e3/60)},C=t.window.cancelAnimationFrame||t.window.clearTimeout;function D(){return m.apply(t.window,arguments)}function S(){return C.apply(t.window,arguments)}t.util.animate=g,t.util.requestAnimFrame=D,t.util.cancelAnimFrame=S,t.runningAnimations=u})(),(function(){function d(u,v,f){var g="rgba("+parseInt(u[0]+f*(v[0]-u[0]),10)+","+parseInt(u[1]+f*(v[1]-u[1]),10)+","+parseInt(u[2]+f*(v[2]-u[2]),10);return g+=","+(u&&v?parseFloat(u[3]+f*(v[3]-u[3])):1),g+=")",g}function a(u,v,f,g){var m=new t.Color(u).getSource(),C=new t.Color(v).getSource(),D=g.onComplete,S=g.onChange;return g=g||{},t.util.animate(t.util.object.extend(g,{duration:f||500,startValue:m,endValue:C,byValue:C,easing:function(O,N,U,W){var q=g.colorEasing?g.colorEasing(O,W):1-Math.cos(O/W*(Math.PI/2));return d(N,U,q)},onComplete:function(O,N,U){if(D)return D(d(C,C,0),N,U)},onChange:function(O,N,U){if(S){if(Array.isArray(O))return S(d(O,O,0),N,U);S(O,N,U)}}}))}t.util.animateColor=a})(),(function(){function d(Me,ue,ce,oe){return Me<Math.abs(ue)?(Me=ue,oe=ce/4):ue===0&&Me===0?oe=ce/(2*Math.PI)*Math.asin(1):oe=ce/(2*Math.PI)*Math.asin(ue/Me),{a:Me,c:ue,p:ce,s:oe}}function a(Me,ue,ce){return Me.a*Math.pow(2,10*(ue-=1))*Math.sin((ue*ce-Me.s)*(2*Math.PI)/Me.p)}function u(Me,ue,ce,oe){return ce*((Me=Me/oe-1)*Me*Me+1)+ue}function v(Me,ue,ce,oe){return Me/=oe/2,Me<1?ce/2*Me*Me*Me+ue:ce/2*((Me-=2)*Me*Me+2)+ue}function f(Me,ue,ce,oe){return ce*(Me/=oe)*Me*Me*Me+ue}function g(Me,ue,ce,oe){return-ce*((Me=Me/oe-1)*Me*Me*Me-1)+ue}function m(Me,ue,ce,oe){return Me/=oe/2,Me<1?ce/2*Me*Me*Me*Me+ue:-ce/2*((Me-=2)*Me*Me*Me-2)+ue}function C(Me,ue,ce,oe){return ce*(Me/=oe)*Me*Me*Me*Me+ue}function D(Me,ue,ce,oe){return ce*((Me=Me/oe-1)*Me*Me*Me*Me+1)+ue}function S(Me,ue,ce,oe){return Me/=oe/2,Me<1?ce/2*Me*Me*Me*Me*Me+ue:ce/2*((Me-=2)*Me*Me*Me*Me+2)+ue}function O(Me,ue,ce,oe){return-ce*Math.cos(Me/oe*(Math.PI/2))+ce+ue}function N(Me,ue,ce,oe){return ce*Math.sin(Me/oe*(Math.PI/2))+ue}function U(Me,ue,ce,oe){return-ce/2*(Math.cos(Math.PI*Me/oe)-1)+ue}function W(Me,ue,ce,oe){return Me===0?ue:ce*Math.pow(2,10*(Me/oe-1))+ue}function q(Me,ue,ce,oe){return Me===oe?ue+ce:ce*(-Math.pow(2,-10*Me/oe)+1)+ue}function J(Me,ue,ce,oe){return Me===0?ue:Me===oe?ue+ce:(Me/=oe/2,Me<1?ce/2*Math.pow(2,10*(Me-1))+ue:ce/2*(-Math.pow(2,-10*--Me)+2)+ue)}function ne(Me,ue,ce,oe){return-ce*(Math.sqrt(1-(Me/=oe)*Me)-1)+ue}function ve(Me,ue,ce,oe){return ce*Math.sqrt(1-(Me=Me/oe-1)*Me)+ue}function Se(Me,ue,ce,oe){return Me/=oe/2,Me<1?-ce/2*(Math.sqrt(1-Me*Me)-1)+ue:ce/2*(Math.sqrt(1-(Me-=2)*Me)+1)+ue}function Be(Me,ue,ce,oe){var Z=1.70158,be=0,Te=ce;if(Me===0)return ue;if(Me/=oe,Me===1)return ue+ce;be||(be=oe*.3);var Fe=d(Te,ce,be,Z);return-a(Fe,Me,oe)+ue}function Ue(Me,ue,ce,oe){var Z=1.70158,be=0,Te=ce;if(Me===0)return ue;if(Me/=oe,Me===1)return ue+ce;be||(be=oe*.3);var Fe=d(Te,ce,be,Z);return Fe.a*Math.pow(2,-10*Me)*Math.sin((Me*oe-Fe.s)*(2*Math.PI)/Fe.p)+Fe.c+ue}function qe(Me,ue,ce,oe){var Z=1.70158,be=0,Te=ce;if(Me===0)return ue;if(Me/=oe/2,Me===2)return ue+ce;be||(be=oe*(.3*1.5));var Fe=d(Te,ce,be,Z);return Me<1?-.5*a(Fe,Me,oe)+ue:Fe.a*Math.pow(2,-10*(Me-=1))*Math.sin((Me*oe-Fe.s)*(2*Math.PI)/Fe.p)*.5+Fe.c+ue}function mt(Me,ue,ce,oe,Z){return Z===void 0&&(Z=1.70158),ce*(Me/=oe)*Me*((Z+1)*Me-Z)+ue}function ut(Me,ue,ce,oe,Z){return Z===void 0&&(Z=1.70158),ce*((Me=Me/oe-1)*Me*((Z+1)*Me+Z)+1)+ue}function ge(Me,ue,ce,oe,Z){return Z===void 0&&(Z=1.70158),Me/=oe/2,Me<1?ce/2*(Me*Me*(((Z*=1.525)+1)*Me-Z))+ue:ce/2*((Me-=2)*Me*(((Z*=1.525)+1)*Me+Z)+2)+ue}function me(Me,ue,ce,oe){return ce-Ie(oe-Me,0,ce,oe)+ue}function Ie(Me,ue,ce,oe){return(Me/=oe)<1/2.75?ce*(7.5625*Me*Me)+ue:Me<2/2.75?ce*(7.5625*(Me-=1.5/2.75)*Me+.75)+ue:Me<2.5/2.75?ce*(7.5625*(Me-=2.25/2.75)*Me+.9375)+ue:ce*(7.5625*(Me-=2.625/2.75)*Me+.984375)+ue}function lt(Me,ue,ce,oe){return Me<oe/2?me(Me*2,0,ce,oe)*.5+ue:Ie(Me*2-oe,0,ce,oe)*.5+ce*.5+ue}t.util.ease={easeInQuad:function(Me,ue,ce,oe){return ce*(Me/=oe)*Me+ue},easeOutQuad:function(Me,ue,ce,oe){return-ce*(Me/=oe)*(Me-2)+ue},easeInOutQuad:function(Me,ue,ce,oe){return Me/=oe/2,Me<1?ce/2*Me*Me+ue:-ce/2*(--Me*(Me-2)-1)+ue},easeInCubic:function(Me,ue,ce,oe){return ce*(Me/=oe)*Me*Me+ue},easeOutCubic:u,easeInOutCubic:v,easeInQuart:f,easeOutQuart:g,easeInOutQuart:m,easeInQuint:C,easeOutQuint:D,easeInOutQuint:S,easeInSine:O,easeOutSine:N,easeInOutSine:U,easeInExpo:W,easeOutExpo:q,easeInOutExpo:J,easeInCirc:ne,easeOutCirc:ve,easeInOutCirc:Se,easeInElastic:Be,easeOutElastic:Ue,easeInOutElastic:qe,easeInBack:mt,easeOutBack:ut,easeInOutBack:ge,easeInBounce:me,easeOutBounce:Ie,easeInOutBounce:lt}})(),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend,v=a.util.object.clone,f=a.util.toFixed,g=a.util.parseUnit,m=a.util.multiplyTransformMatrices,C=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],D=["symbol","image","marker","pattern","view","svg"],S=["pattern","defs","symbol","metadata","clipPath","mask","desc"],O=["symbol","g","a","svg","clipPath","defs"],N={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},U={stroke:"strokeOpacity",fill:"fillOpacity"},W="font-size",q="clip-path";a.svgValidTagNamesRegEx=ve(C),a.svgViewBoxElementsRegEx=ve(D),a.svgInvalidAncestorsRegEx=ve(S),a.svgValidParentsRegEx=ve(O),a.cssRules={},a.gradientDefs={},a.clipPaths={};function J(be){return be in N?N[be]:be}function ne(be,Te,Fe,ct){var At=Array.isArray(Te),rt;if((be==="fill"||be==="stroke")&&Te==="none")Te="";else{if(be==="strokeUniform")return Te==="non-scaling-stroke";if(be==="strokeDashArray")Te==="none"?Te=null:Te=Te.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(be==="transformMatrix")Fe&&Fe.transformMatrix?Te=m(Fe.transformMatrix,a.parseTransformAttribute(Te)):Te=a.parseTransformAttribute(Te);else if(be==="visible")Te=Te!=="none"&&Te!=="hidden",Fe&&Fe.visible===!1&&(Te=!1);else if(be==="opacity")Te=parseFloat(Te),Fe&&typeof Fe.opacity<"u"&&(Te*=Fe.opacity);else if(be==="textAnchor")Te=Te==="start"?"left":Te==="end"?"right":"center";else if(be==="charSpacing")rt=g(Te,ct)/ct*1e3;else if(be==="paintFirst"){var jt=Te.indexOf("fill"),_t=Te.indexOf("stroke"),Te="fill";(jt>-1&&_t>-1&&_t<jt||jt===-1&&_t>-1)&&(Te="stroke")}else{if(be==="href"||be==="xlink:href"||be==="font")return Te;if(be==="imageSmoothing")return Te==="optimizeQuality";rt=At?Te.map(g):g(Te,ct)}}return!At&&isNaN(rt)?Te:rt}function ve(be){return new RegExp("^("+be.join("|")+")\\b","i")}function Se(be){for(var Te in U)if(!(typeof be[U[Te]]>"u"||be[Te]==="")){if(typeof be[Te]>"u"){if(!a.Object.prototype[Te])continue;be[Te]=a.Object.prototype[Te]}if(be[Te].indexOf("url(")!==0){var Fe=new a.Color(be[Te]);be[Te]=Fe.setAlpha(f(Fe.getAlpha()*be[U[Te]],2)).toRgba()}}return be}function Be(be,Te){var Fe,ct=[],At,rt,jt;for(rt=0,jt=Te.length;rt<jt;rt++)Fe=Te[rt],At=be.getElementsByTagName(Fe),ct=ct.concat(Array.prototype.slice.call(At));return ct}a.parseTransformAttribute=(function(){function be(Zt,Bn){var gt=a.util.cos(Bn[0]),dt=a.util.sin(Bn[0]),Pe=0,xe=0;Bn.length===3&&(Pe=Bn[1],xe=Bn[2]),Zt[0]=gt,Zt[1]=dt,Zt[2]=-dt,Zt[3]=gt,Zt[4]=Pe-(gt*Pe-dt*xe),Zt[5]=xe-(dt*Pe+gt*xe)}function Te(Zt,Bn){var gt=Bn[0],dt=Bn.length===2?Bn[1]:Bn[0];Zt[0]=gt,Zt[3]=dt}function Fe(Zt,Bn,gt){Zt[gt]=Math.tan(a.util.degreesToRadians(Bn[0]))}function ct(Zt,Bn){Zt[4]=Bn[0],Bn.length===2&&(Zt[5]=Bn[1])}var At=a.iMatrix,rt=a.reNum,jt=a.commaWsp,_t="(?:(skewX)\\s*\\(\\s*("+rt+")\\s*\\))",Wt="(?:(skewY)\\s*\\(\\s*("+rt+")\\s*\\))",ft="(?:(rotate)\\s*\\(\\s*("+rt+")(?:"+jt+"("+rt+")"+jt+"("+rt+"))?\\s*\\))",kt="(?:(scale)\\s*\\(\\s*("+rt+")(?:"+jt+"("+rt+"))?\\s*\\))",Dt="(?:(translate)\\s*\\(\\s*("+rt+")(?:"+jt+"("+rt+"))?\\s*\\))",tn="(?:(matrix)\\s*\\(\\s*("+rt+")"+jt+"("+rt+")"+jt+"("+rt+")"+jt+"("+rt+")"+jt+"("+rt+")"+jt+"("+rt+")\\s*\\))",zt="(?:"+tn+"|"+Dt+"|"+kt+"|"+ft+"|"+_t+"|"+Wt+")",Ut="(?:"+zt+"(?:"+jt+"*"+zt+")*)",Kt="^\\s*(?:"+Ut+"?)\\s*$",un=new RegExp(Kt),Xt=new RegExp(zt,"g");return function(Zt){var Bn=At.concat(),gt=[];if(!Zt||Zt&&!un.test(Zt))return Bn;Zt.replace(Xt,function(Pe){var xe=new RegExp(zt).exec(Pe).filter(function(re){return!!re}),Ee=xe[1],Ze=xe.slice(2).map(parseFloat);switch(Ee){case"translate":ct(Bn,Ze);break;case"rotate":Ze[0]=a.util.degreesToRadians(Ze[0]),be(Bn,Ze);break;case"scale":Te(Bn,Ze);break;case"skewX":Fe(Bn,Ze,2);break;case"skewY":Fe(Bn,Ze,1);break;case"matrix":Bn=Ze;break}gt.push(Bn.concat()),Bn=At.concat()});for(var dt=gt[0];gt.length>1;)gt.shift(),dt=a.util.multiplyTransformMatrices(dt,gt[0]);return dt}})();function Ue(be,Te){var Fe,ct;be.replace(/;\s*$/,"").split(";").forEach(function(At){var rt=At.split(":");Fe=rt[0].trim().toLowerCase(),ct=rt[1].trim(),Te[Fe]=ct})}function qe(be,Te){var Fe,ct;for(var At in be)typeof be[At]>"u"||(Fe=At.toLowerCase(),ct=be[At],Te[Fe]=ct)}function mt(be,Te){var Fe={};for(var ct in a.cssRules[Te])if(ut(be,ct.split(" ")))for(var At in a.cssRules[Te][ct])Fe[At]=a.cssRules[Te][ct][At];return Fe}function ut(be,Te){var Fe,ct=!0;return Fe=me(be,Te.pop()),Fe&&Te.length&&(ct=ge(be,Te)),Fe&&ct&&Te.length===0}function ge(be,Te){for(var Fe,ct=!0;be.parentNode&&be.parentNode.nodeType===1&&Te.length;)ct&&(Fe=Te.pop()),be=be.parentNode,ct=me(be,Fe);return Te.length===0}function me(be,Te){var Fe=be.nodeName,ct=be.getAttribute("class"),At=be.getAttribute("id"),rt,jt;if(rt=new RegExp("^"+Fe,"i"),Te=Te.replace(rt,""),At&&Te.length&&(rt=new RegExp("#"+At+"(?![a-zA-Z\\-]+)","i"),Te=Te.replace(rt,"")),ct&&Te.length)for(ct=ct.split(" "),jt=ct.length;jt--;)rt=new RegExp("\\."+ct[jt]+"(?![a-zA-Z\\-]+)","i"),Te=Te.replace(rt,"");return Te.length===0}function Ie(be,Te){var Fe;if(be.getElementById&&(Fe=be.getElementById(Te)),Fe)return Fe;var ct,At,rt,jt=be.getElementsByTagName("*");for(At=0,rt=jt.length;At<rt;At++)if(ct=jt[At],Te===ct.getAttribute("id"))return ct}function lt(be){for(var Te=Be(be,["use","svg:use"]),Fe=0;Te.length&&Fe<Te.length;){var ct=Te[Fe],At=ct.getAttribute("xlink:href")||ct.getAttribute("href");if(At===null)return;var rt=At.slice(1),jt=ct.getAttribute("x")||0,_t=ct.getAttribute("y")||0,Wt=Ie(be,rt).cloneNode(!0),ft=(Wt.getAttribute("transform")||"")+" translate("+jt+", "+_t+")",kt,Dt=Te.length,tn,zt,Ut,Kt,un=a.svgNS;if(ue(Wt),/^svg$/i.test(Wt.nodeName)){var Xt=Wt.ownerDocument.createElementNS(un,"g");for(zt=0,Ut=Wt.attributes,Kt=Ut.length;zt<Kt;zt++)tn=Ut.item(zt),Xt.setAttributeNS(un,tn.nodeName,tn.nodeValue);for(;Wt.firstChild;)Xt.appendChild(Wt.firstChild);Wt=Xt}for(zt=0,Ut=ct.attributes,Kt=Ut.length;zt<Kt;zt++)tn=Ut.item(zt),!(tn.nodeName==="x"||tn.nodeName==="y"||tn.nodeName==="xlink:href"||tn.nodeName==="href")&&(tn.nodeName==="transform"?ft=tn.nodeValue+" "+ft:Wt.setAttribute(tn.nodeName,tn.nodeValue));Wt.setAttribute("transform",ft),Wt.setAttribute("instantiated_by_use","1"),Wt.removeAttribute("id"),kt=ct.parentNode,kt.replaceChild(Wt,ct),Te.length===Dt&&Fe++}}var Me=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function ue(be){if(!a.svgViewBoxElementsRegEx.test(be.nodeName))return{};var Te=be.getAttribute("viewBox"),Fe=1,ct=1,At=0,rt=0,jt,_t,Wt,ft,kt=be.getAttribute("width"),Dt=be.getAttribute("height"),tn=be.getAttribute("x")||0,zt=be.getAttribute("y")||0,Ut=be.getAttribute("preserveAspectRatio")||"",Kt=!Te||!(Te=Te.match(Me)),un=!kt||!Dt||kt==="100%"||Dt==="100%",Xt=Kt&&un,Zt={},Bn="",gt=0,dt=0;if(Zt.width=0,Zt.height=0,Zt.toBeParsed=Xt,Kt&&(tn||zt)&&be.parentNode&&be.parentNode.nodeName!=="#document"&&(Bn=" translate("+g(tn)+" "+g(zt)+") ",Wt=(be.getAttribute("transform")||"")+Bn,be.setAttribute("transform",Wt),be.removeAttribute("x"),be.removeAttribute("y")),Xt)return Zt;if(Kt)return Zt.width=g(kt),Zt.height=g(Dt),Zt;if(At=-parseFloat(Te[1]),rt=-parseFloat(Te[2]),jt=parseFloat(Te[3]),_t=parseFloat(Te[4]),Zt.minX=At,Zt.minY=rt,Zt.viewBoxWidth=jt,Zt.viewBoxHeight=_t,un?(Zt.width=jt,Zt.height=_t):(Zt.width=g(kt),Zt.height=g(Dt),Fe=Zt.width/jt,ct=Zt.height/_t),Ut=a.util.parsePreserveAspectRatioAttribute(Ut),Ut.alignX!=="none"&&(Ut.meetOrSlice==="meet"&&(ct=Fe=Fe>ct?ct:Fe),Ut.meetOrSlice==="slice"&&(ct=Fe=Fe>ct?Fe:ct),gt=Zt.width-jt*Fe,dt=Zt.height-_t*Fe,Ut.alignX==="Mid"&&(gt/=2),Ut.alignY==="Mid"&&(dt/=2),Ut.alignX==="Min"&&(gt=0),Ut.alignY==="Min"&&(dt=0)),Fe===1&&ct===1&&At===0&&rt===0&&tn===0&&zt===0)return Zt;if((tn||zt)&&be.parentNode.nodeName!=="#document"&&(Bn=" translate("+g(tn)+" "+g(zt)+") "),Wt=Bn+" matrix("+Fe+" 0 0 "+ct+" "+(At*Fe+gt)+" "+(rt*ct+dt)+") ",be.nodeName==="svg"){for(ft=be.ownerDocument.createElementNS(a.svgNS,"g");be.firstChild;)ft.appendChild(be.firstChild);be.appendChild(ft)}else ft=be,ft.removeAttribute("x"),ft.removeAttribute("y"),Wt=ft.getAttribute("transform")+Wt;return ft.setAttribute("transform",Wt),Zt}function ce(be,Te){for(;be&&(be=be.parentNode);)if(be.nodeName&&Te.test(be.nodeName.replace("svg:",""))&&!be.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(be,Te,Fe,ct){if(be){lt(be);var At=a.Object.__uid++,rt,jt,_t=ue(be),Wt=a.util.toArray(be.getElementsByTagName("*"));if(_t.crossOrigin=ct&&ct.crossOrigin,_t.svgUid=At,Wt.length===0&&a.isLikelyNode){Wt=be.selectNodes('//*[name(.)!="svg"]');var ft=[];for(rt=0,jt=Wt.length;rt<jt;rt++)ft[rt]=Wt[rt];Wt=ft}var kt=Wt.filter(function(tn){return ue(tn),a.svgValidTagNamesRegEx.test(tn.nodeName.replace("svg:",""))&&!ce(tn,a.svgInvalidAncestorsRegEx)});if(!kt||kt&&!kt.length){Te&&Te([],{});return}var Dt={};Wt.filter(function(tn){return tn.nodeName.replace("svg:","")==="clipPath"}).forEach(function(tn){var zt=tn.getAttribute("id");Dt[zt]=a.util.toArray(tn.getElementsByTagName("*")).filter(function(Ut){return a.svgValidTagNamesRegEx.test(Ut.nodeName.replace("svg:",""))})}),a.gradientDefs[At]=a.getGradientDefs(be),a.cssRules[At]=a.getCSSRules(be),a.clipPaths[At]=Dt,a.parseElements(kt,function(tn,zt){Te&&(Te(tn,_t,zt,Wt),delete a.gradientDefs[At],delete a.cssRules[At],delete a.clipPaths[At])},v(_t),Fe,ct)}};function oe(be,Te){var Fe=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],ct="xlink:href",At=Te.getAttribute(ct).slice(1),rt=Ie(be,At);if(rt&&rt.getAttribute(ct)&&oe(be,rt),Fe.forEach(function(_t){rt&&!Te.hasAttribute(_t)&&rt.hasAttribute(_t)&&Te.setAttribute(_t,rt.getAttribute(_t))}),!Te.children.length)for(var jt=rt.cloneNode(!0);jt.firstChild;)Te.appendChild(jt.firstChild);Te.removeAttribute(ct)}var Z=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");u(a,{parseFontDeclaration:function(be,Te){var Fe=be.match(Z);if(Fe){var ct=Fe[1],At=Fe[3],rt=Fe[4],jt=Fe[5],_t=Fe[6];ct&&(Te.fontStyle=ct),At&&(Te.fontWeight=isNaN(parseFloat(At))?At:parseFloat(At)),rt&&(Te.fontSize=g(rt)),_t&&(Te.fontFamily=_t),jt&&(Te.lineHeight=jt==="normal"?1:jt)}},getGradientDefs:function(be){var Te=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Fe=Be(be,Te),ct,At=0,rt={};for(At=Fe.length;At--;)ct=Fe[At],ct.getAttribute("xlink:href")&&oe(be,ct),rt[ct.getAttribute("id")]=ct;return rt},parseAttributes:function(be,Te,Fe){if(be){var ct,At={},rt,jt;typeof Fe>"u"&&(Fe=be.getAttribute("svgUid")),be.parentNode&&a.svgValidParentsRegEx.test(be.parentNode.nodeName)&&(At=a.parseAttributes(be.parentNode,Te,Fe));var _t=Te.reduce(function(Ut,Kt){return ct=be.getAttribute(Kt),ct&&(Ut[Kt]=ct),Ut},{}),Wt=u(mt(be,Fe),a.parseStyleAttribute(be));_t=u(_t,Wt),Wt[q]&&be.setAttribute(q,Wt[q]),rt=jt=At.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,_t[W]&&(_t[W]=rt=g(_t[W],jt));var ft,kt,Dt={};for(var tn in _t)ft=J(tn),kt=ne(ft,_t[tn],At,rt),Dt[ft]=kt;Dt&&Dt.font&&a.parseFontDeclaration(Dt.font,Dt);var zt=u(At,Dt);return a.svgValidParentsRegEx.test(be.nodeName)?zt:Se(zt)}},parseElements:function(be,Te,Fe,ct,At){new a.ElementsParser(be,Te,Fe,ct,At).parse()},parseStyleAttribute:function(be){var Te={},Fe=be.getAttribute("style");return Fe&&(typeof Fe=="string"?Ue(Fe,Te):qe(Fe,Te)),Te},parsePointsAttribute:function(be){if(!be)return null;be=be.replace(/,/g," ").trim(),be=be.split(/\s+/);var Te=[],Fe,ct;for(Fe=0,ct=be.length;Fe<ct;Fe+=2)Te.push({x:parseFloat(be[Fe]),y:parseFloat(be[Fe+1])});return Te},getCSSRules:function(be){var Te=be.getElementsByTagName("style"),Fe,ct,At={},rt;for(Fe=0,ct=Te.length;Fe<ct;Fe++){var jt=Te[Fe].textContent;jt=jt.replace(/\/\*[\s\S]*?\*\//g,""),jt.trim()!==""&&(rt=jt.split("}"),rt=rt.filter(function(_t){return _t.trim()}),rt.forEach(function(_t){var Wt=_t.split("{"),ft={},kt=Wt[1].trim(),Dt=kt.split(";").filter(function(Kt){return Kt.trim()});for(Fe=0,ct=Dt.length;Fe<ct;Fe++){var tn=Dt[Fe].split(":"),zt=tn[0].trim(),Ut=tn[1].trim();ft[zt]=Ut}_t=Wt[0].trim(),_t.split(",").forEach(function(Kt){Kt=Kt.replace(/^svg/i,"").trim(),Kt!==""&&(At[Kt]?a.util.object.extend(At[Kt],ft):At[Kt]=a.util.object.clone(ft))})}))}return At},loadSVGFromURL:function(be,Te,Fe,ct){be=be.replace(/^\n\s*/,"").trim(),new a.util.request(be,{method:"get",onComplete:At});function At(rt){var jt=rt.responseXML;if(!jt||!jt.documentElement)return Te&&Te(null),!1;a.parseSVGDocument(jt.documentElement,function(_t,Wt,ft,kt){Te&&Te(_t,Wt,ft,kt)},Fe,ct)}},loadSVGFromString:function(be,Te,Fe,ct){var At=new a.window.DOMParser,rt=At.parseFromString(be.trim(),"text/xml");a.parseSVGDocument(rt.documentElement,function(jt,_t,Wt,ft){Te(jt,_t,Wt,ft)},Fe,ct)}})})(e),t.ElementsParser=function(d,a,u,v,f,g){this.elements=d,this.callback=a,this.options=u,this.reviver=v,this.svgUid=u&&u.svgUid||0,this.parsingOptions=f,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=g},(function(d){d.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},d.createObjects=function(){var a=this;this.elements.forEach(function(u,v){u.setAttribute("svgUid",a.svgUid),a.createObject(u,v)})},d.findTag=function(a){return t[t.util.string.capitalize(a.tagName.replace("svg:",""))]},d.createObject=function(a,u){var v=this.findTag(a);if(v&&v.fromElement)try{v.fromElement(a,this.createCallback(u,a),this.options)}catch(f){t.log(f)}else this.checkIfDone()},d.createCallback=function(a,u){var v=this;return function(f){var g;v.resolveGradient(f,u,"fill"),v.resolveGradient(f,u,"stroke"),f instanceof t.Image&&f._originalElement&&(g=f.parsePreserveAspectRatioAttribute(u)),f._removeTransformMatrix(g),v.resolveClipPath(f,u),v.reviver&&v.reviver(u,f),v.instances[a]=f,v.checkIfDone()}},d.extractPropertyDefinition=function(a,u,v){var f=a[u],g=this.regexUrl;if(g.test(f)){g.lastIndex=0;var m=g.exec(f)[1];return g.lastIndex=0,t[v][this.svgUid][m]}},d.resolveGradient=function(a,u,v){var f=this.extractPropertyDefinition(a,v,"gradientDefs");if(f){var g=u.getAttribute(v+"-opacity"),m=t.Gradient.fromElement(f,a,g,this.options);a.set(v,m)}},d.createClipPathCallback=function(a,u){return function(v){v._removeTransformMatrix(),v.fillRule=v.clipRule,u.push(v)}},d.resolveClipPath=function(a,u){var v=this.extractPropertyDefinition(a,"clipPath","clipPaths"),f,g,m,C,D,S;if(v){C=[],m=t.util.invertTransform(a.calcTransformMatrix());for(var O=v[0].parentNode,N=u;N.parentNode&&N.getAttribute("clip-path")!==a.clipPath;)N=N.parentNode;N.parentNode.appendChild(O);for(var U=0;U<v.length;U++)f=v[U],g=this.findTag(f),g.fromElement(f,this.createClipPathCallback(a,C),this.options);C.length===1?v=C[0]:v=new t.Group(C),D=t.util.multiplyTransformMatrices(m,v.calcTransformMatrix()),v.clipPath&&this.resolveClipPath(v,N);var S=t.util.qrDecompose(D);v.flipX=!1,v.flipY=!1,v.set("scaleX",S.scaleX),v.set("scaleY",S.scaleY),v.angle=S.angle,v.skewX=S.skewX,v.skewY=0,v.setPositionByOrigin({x:S.translateX,y:S.translateY},"center","center"),a.clipPath=v}else delete a.clipPath},d.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}})(t.ElementsParser.prototype),(function(d){var a=d.fabric||(d.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=u;function u(v,f){this.x=v,this.y=f}u.prototype={type:"point",constructor:u,add:function(v){return new u(this.x+v.x,this.y+v.y)},addEquals:function(v){return this.x+=v.x,this.y+=v.y,this},scalarAdd:function(v){return new u(this.x+v,this.y+v)},scalarAddEquals:function(v){return this.x+=v,this.y+=v,this},subtract:function(v){return new u(this.x-v.x,this.y-v.y)},subtractEquals:function(v){return this.x-=v.x,this.y-=v.y,this},scalarSubtract:function(v){return new u(this.x-v,this.y-v)},scalarSubtractEquals:function(v){return this.x-=v,this.y-=v,this},multiply:function(v){return new u(this.x*v,this.y*v)},multiplyEquals:function(v){return this.x*=v,this.y*=v,this},divide:function(v){return new u(this.x/v,this.y/v)},divideEquals:function(v){return this.x/=v,this.y/=v,this},eq:function(v){return this.x===v.x&&this.y===v.y},lt:function(v){return this.x<v.x&&this.y<v.y},lte:function(v){return this.x<=v.x&&this.y<=v.y},gt:function(v){return this.x>v.x&&this.y>v.y},gte:function(v){return this.x>=v.x&&this.y>=v.y},lerp:function(v,f){return typeof f>"u"&&(f=.5),f=Math.max(Math.min(1,f),0),new u(this.x+(v.x-this.x)*f,this.y+(v.y-this.y)*f)},distanceFrom:function(v){var f=this.x-v.x,g=this.y-v.y;return Math.sqrt(f*f+g*g)},midPointFrom:function(v){return this.lerp(v)},min:function(v){return new u(Math.min(this.x,v.x),Math.min(this.y,v.y))},max:function(v){return new u(Math.max(this.x,v.x),Math.max(this.y,v.y))},toString:function(){return this.x+","+this.y},setXY:function(v,f){return this.x=v,this.y=f,this},setX:function(v){return this.x=v,this},setY:function(v){return this.y=v,this},setFromPoint:function(v){return this.x=v.x,this.y=v.y,this},swap:function(v){var f=this.x,g=this.y;this.x=v.x,this.y=v.y,v.x=f,v.y=g},clone:function(){return new u(this.x,this.y)}}})(e),(function(d){var a=d.fabric||(d.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function u(v){this.status=v,this.points=[]}a.Intersection=u,a.Intersection.prototype={constructor:u,appendPoint:function(v){return this.points.push(v),this},appendPoints:function(v){return this.points=this.points.concat(v),this}},a.Intersection.intersectLineLine=function(v,f,g,m){var C,D=(m.x-g.x)*(v.y-g.y)-(m.y-g.y)*(v.x-g.x),S=(f.x-v.x)*(v.y-g.y)-(f.y-v.y)*(v.x-g.x),O=(m.y-g.y)*(f.x-v.x)-(m.x-g.x)*(f.y-v.y);if(O!==0){var N=D/O,U=S/O;0<=N&&N<=1&&0<=U&&U<=1?(C=new u("Intersection"),C.appendPoint(new a.Point(v.x+N*(f.x-v.x),v.y+N*(f.y-v.y)))):C=new u}else D===0||S===0?C=new u("Coincident"):C=new u("Parallel");return C},a.Intersection.intersectLinePolygon=function(v,f,g){var m=new u,C=g.length,D,S,O,N;for(N=0;N<C;N++)D=g[N],S=g[(N+1)%C],O=u.intersectLineLine(v,f,D,S),m.appendPoints(O.points);return m.points.length>0&&(m.status="Intersection"),m},a.Intersection.intersectPolygonPolygon=function(v,f){var g=new u,m=v.length,C;for(C=0;C<m;C++){var D=v[C],S=v[(C+1)%m],O=u.intersectLinePolygon(D,S,f);g.appendPoints(O.points)}return g.points.length>0&&(g.status="Intersection"),g},a.Intersection.intersectPolygonRectangle=function(v,f,g){var m=f.min(g),C=f.max(g),D=new a.Point(C.x,m.y),S=new a.Point(m.x,C.y),O=u.intersectLinePolygon(m,D,v),N=u.intersectLinePolygon(D,C,v),U=u.intersectLinePolygon(C,S,v),W=u.intersectLinePolygon(S,m,v),q=new u;return q.appendPoints(O.points),q.appendPoints(N.points),q.appendPoints(U.points),q.appendPoints(W.points),q.points.length>0&&(q.status="Intersection"),q}})(e),(function(d){var a=d.fabric||(d.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function u(f){f?this._tryParsingColor(f):this.setSource([0,0,0,1])}a.Color=u,a.Color.prototype={_tryParsingColor:function(f){var g;f in u.colorNameMap&&(f=u.colorNameMap[f]),f==="transparent"&&(g=[255,255,255,0]),g||(g=u.sourceFromHex(f)),g||(g=u.sourceFromRgb(f)),g||(g=u.sourceFromHsl(f)),g||(g=[0,0,0,1]),g&&this.setSource(g)},_rgbToHsl:function(f,g,m){f/=255,g/=255,m/=255;var C,D,S,O=a.util.array.max([f,g,m]),N=a.util.array.min([f,g,m]);if(S=(O+N)/2,O===N)C=D=0;else{var U=O-N;switch(D=S>.5?U/(2-O-N):U/(O+N),O){case f:C=(g-m)/U+(g<m?6:0);break;case g:C=(m-f)/U+2;break;case m:C=(f-g)/U+4;break}C/=6}return[Math.round(C*360),Math.round(D*100),Math.round(S*100)]},getSource:function(){return this._source},setSource:function(f){this._source=f},toRgb:function(){var f=this.getSource();return"rgb("+f[0]+","+f[1]+","+f[2]+")"},toRgba:function(){var f=this.getSource();return"rgba("+f[0]+","+f[1]+","+f[2]+","+f[3]+")"},toHsl:function(){var f=this.getSource(),g=this._rgbToHsl(f[0],f[1],f[2]);return"hsl("+g[0]+","+g[1]+"%,"+g[2]+"%)"},toHsla:function(){var f=this.getSource(),g=this._rgbToHsl(f[0],f[1],f[2]);return"hsla("+g[0]+","+g[1]+"%,"+g[2]+"%,"+f[3]+")"},toHex:function(){var f=this.getSource(),g,m,C;return g=f[0].toString(16),g=g.length===1?"0"+g:g,m=f[1].toString(16),m=m.length===1?"0"+m:m,C=f[2].toString(16),C=C.length===1?"0"+C:C,g.toUpperCase()+m.toUpperCase()+C.toUpperCase()},toHexa:function(){var f=this.getSource(),g;return g=Math.round(f[3]*255),g=g.toString(16),g=g.length===1?"0"+g:g,this.toHex()+g.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(f){var g=this.getSource();return g[3]=f,this.setSource(g),this},toGrayscale:function(){var f=this.getSource(),g=parseInt((f[0]*.3+f[1]*.59+f[2]*.11).toFixed(0),10),m=f[3];return this.setSource([g,g,g,m]),this},toBlackWhite:function(f){var g=this.getSource(),m=(g[0]*.3+g[1]*.59+g[2]*.11).toFixed(0),C=g[3];return f=f||127,m=Number(m)<Number(f)?0:255,this.setSource([m,m,m,C]),this},overlayWith:function(f){f instanceof u||(f=new u(f));var g=[],m=this.getAlpha(),C=.5,D=this.getSource(),S=f.getSource(),O;for(O=0;O<3;O++)g.push(Math.round(D[O]*(1-C)+S[O]*C));return g[3]=m,this.setSource(g),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function v(f,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?f+(g-f)*6*m:m<1/2?g:m<2/3?f+(g-f)*(2/3-m)*6:f}a.Color.fromRgb=function(f){return u.fromSource(u.sourceFromRgb(f))},a.Color.sourceFromRgb=function(f){var g=f.match(u.reRGBa);if(g){var m=parseInt(g[1],10)/(/%$/.test(g[1])?100:1)*(/%$/.test(g[1])?255:1),C=parseInt(g[2],10)/(/%$/.test(g[2])?100:1)*(/%$/.test(g[2])?255:1),D=parseInt(g[3],10)/(/%$/.test(g[3])?100:1)*(/%$/.test(g[3])?255:1);return[parseInt(m,10),parseInt(C,10),parseInt(D,10),g[4]?parseFloat(g[4]):1]}},a.Color.fromRgba=u.fromRgb,a.Color.fromHsl=function(f){return u.fromSource(u.sourceFromHsl(f))},a.Color.sourceFromHsl=function(f){var g=f.match(u.reHSLa);if(g){var m=(parseFloat(g[1])%360+360)%360/360,C=parseFloat(g[2])/(/%$/.test(g[2])?100:1),D=parseFloat(g[3])/(/%$/.test(g[3])?100:1),S,O,N;if(C===0)S=O=N=D;else{var U=D<=.5?D*(C+1):D+C-D*C,W=D*2-U;S=v(W,U,m+1/3),O=v(W,U,m),N=v(W,U,m-1/3)}return[Math.round(S*255),Math.round(O*255),Math.round(N*255),g[4]?parseFloat(g[4]):1]}},a.Color.fromHsla=u.fromHsl,a.Color.fromHex=function(f){return u.fromSource(u.sourceFromHex(f))},a.Color.sourceFromHex=function(f){if(f.match(u.reHex)){var g=f.slice(f.indexOf("#")+1),m=g.length===3||g.length===4,C=g.length===8||g.length===4,D=m?g.charAt(0)+g.charAt(0):g.substring(0,2),S=m?g.charAt(1)+g.charAt(1):g.substring(2,4),O=m?g.charAt(2)+g.charAt(2):g.substring(4,6),N=C?m?g.charAt(3)+g.charAt(3):g.substring(6,8):"FF";return[parseInt(D,16),parseInt(S,16),parseInt(O,16),parseFloat((parseInt(N,16)/255).toFixed(2))]}},a.Color.fromSource=function(f){var g=new u;return g.setSource(f),g}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=["e","se","s","sw","w","nw","n","ne","e"],v=["ns","nesw","ew","nwse"],f={},g="left",m="top",C="right",D="bottom",S="center",O={top:D,bottom:m,left:C,right:g,center:S},N=a.util.radiansToDegrees,U=Math.sign||function(ft){return(ft>0)-(ft<0)||+ft};function W(ft,kt){var Dt=ft.angle+N(Math.atan2(kt.y,kt.x))+360;return Math.round(Dt%360/45)}function q(ft,kt){var Dt=kt.transform.target,tn=Dt.canvas,zt=a.util.object.clone(kt);zt.target=Dt,tn&&tn.fire("object:"+ft,zt),Dt.fire(ft,kt)}function J(ft,kt){var Dt=kt.canvas,tn=Dt.uniScaleKey,zt=ft[tn];return Dt.uniformScaling&&!zt||!Dt.uniformScaling&&zt}function ne(ft){return ft.originX===S&&ft.originY===S}function ve(ft,kt,Dt){var tn=ft.lockScalingX,zt=ft.lockScalingY;return!!(tn&&zt||!kt&&(tn||zt)&&Dt||tn&&kt==="x"||zt&&kt==="y")}function Se(ft,kt,Dt){var tn="not-allowed",zt=J(ft,Dt),Ut="";if(kt.x!==0&&kt.y===0?Ut="x":kt.x===0&&kt.y!==0&&(Ut="y"),ve(Dt,Ut,zt))return tn;var Kt=W(Dt,kt);return u[Kt]+"-resize"}function Be(ft,kt,Dt){var tn="not-allowed";if(kt.x!==0&&Dt.lockSkewingY||kt.y!==0&&Dt.lockSkewingX)return tn;var zt=W(Dt,kt)%4;return v[zt]+"-resize"}function Ue(ft,kt,Dt){return ft[Dt.canvas.altActionKey]?f.skewCursorStyleHandler(ft,kt,Dt):f.scaleCursorStyleHandler(ft,kt,Dt)}function qe(ft,kt,Dt){var tn=ft[Dt.canvas.altActionKey];if(kt.x===0)return tn?"skewX":"scaleY";if(kt.y===0)return tn?"skewY":"scaleX"}function mt(ft,kt,Dt){return Dt.lockRotation?"not-allowed":kt.cursorStyle}function ut(ft,kt,Dt,tn){return{e:ft,transform:kt,pointer:{x:Dt,y:tn}}}function ge(ft){return function(kt,Dt,tn,zt){var Ut=Dt.target,Kt=Ut.getCenterPoint(),un=Ut.translateToOriginPoint(Kt,Dt.originX,Dt.originY),Xt=ft(kt,Dt,tn,zt);return Ut.setPositionByOrigin(un,Dt.originX,Dt.originY),Xt}}function me(ft,kt){return function(Dt,tn,zt,Ut){var Kt=kt(Dt,tn,zt,Ut);return Kt&&q(ft,ut(Dt,tn,zt,Ut)),Kt}}function Ie(ft,kt,Dt,tn,zt){var Ut=ft.target,Kt=Ut.controls[ft.corner],un=Ut.canvas.getZoom(),Xt=Ut.padding/un,Zt=Ut.toLocalPoint(new a.Point(tn,zt),kt,Dt);return Zt.x>=Xt&&(Zt.x-=Xt),Zt.x<=-Xt&&(Zt.x+=Xt),Zt.y>=Xt&&(Zt.y-=Xt),Zt.y<=Xt&&(Zt.y+=Xt),Zt.x-=Kt.offsetX,Zt.y-=Kt.offsetY,Zt}function lt(ft){return ft.flipX!==ft.flipY}function Me(ft,kt,Dt,tn,zt){if(ft[kt]!==0){var Ut=ft._getTransformedDimensions()[tn],Kt=zt/Ut*ft[Dt];ft.set(Dt,Kt)}}function ue(ft,kt,Dt,tn){var zt=kt.target,Ut=zt._getTransformedDimensions(0,zt.skewY),Kt=Ie(kt,kt.originX,kt.originY,Dt,tn),un=Math.abs(Kt.x*2)-Ut.x,Xt=zt.skewX,Zt;un<2?Zt=0:(Zt=N(Math.atan2(un/zt.scaleX,Ut.y/zt.scaleY)),kt.originX===g&&kt.originY===D&&(Zt=-Zt),kt.originX===C&&kt.originY===m&&(Zt=-Zt),lt(zt)&&(Zt=-Zt));var Bn=Xt!==Zt;if(Bn){var gt=zt._getTransformedDimensions().y;zt.set("skewX",Zt),Me(zt,"skewY","scaleY","y",gt)}return Bn}function ce(ft,kt,Dt,tn){var zt=kt.target,Ut=zt._getTransformedDimensions(zt.skewX,0),Kt=Ie(kt,kt.originX,kt.originY,Dt,tn),un=Math.abs(Kt.y*2)-Ut.y,Xt=zt.skewY,Zt;un<2?Zt=0:(Zt=N(Math.atan2(un/zt.scaleY,Ut.x/zt.scaleX)),kt.originX===g&&kt.originY===D&&(Zt=-Zt),kt.originX===C&&kt.originY===m&&(Zt=-Zt),lt(zt)&&(Zt=-Zt));var Bn=Xt!==Zt;if(Bn){var gt=zt._getTransformedDimensions().x;zt.set("skewY",Zt),Me(zt,"skewX","scaleX","x",gt)}return Bn}function oe(ft,kt,Dt,tn){var zt=kt.target,Ut=zt.skewX,Kt,un=kt.originY;if(zt.lockSkewingX)return!1;if(Ut===0){var Xt=Ie(kt,S,S,Dt,tn);Xt.x>0?Kt=g:Kt=C}else Ut>0&&(Kt=un===m?g:C),Ut<0&&(Kt=un===m?C:g),lt(zt)&&(Kt=Kt===g?C:g);kt.originX=Kt;var Zt=me("skewing",ge(ue));return Zt(ft,kt,Dt,tn)}function Z(ft,kt,Dt,tn){var zt=kt.target,Ut=zt.skewY,Kt,un=kt.originX;if(zt.lockSkewingY)return!1;if(Ut===0){var Xt=Ie(kt,S,S,Dt,tn);Xt.y>0?Kt=m:Kt=D}else Ut>0&&(Kt=un===g?m:D),Ut<0&&(Kt=un===g?D:m),lt(zt)&&(Kt=Kt===m?D:m);kt.originY=Kt;var Zt=me("skewing",ge(ce));return Zt(ft,kt,Dt,tn)}function be(ft,kt,Dt,tn){var zt=kt,Ut=zt.target,Kt=Ut.translateToOriginPoint(Ut.getCenterPoint(),zt.originX,zt.originY);if(Ut.lockRotation)return!1;var un=Math.atan2(zt.ey-Kt.y,zt.ex-Kt.x),Xt=Math.atan2(tn-Kt.y,Dt-Kt.x),Zt=N(Xt-un+zt.theta),Bn=!0;if(Ut.snapAngle>0){var gt=Ut.snapAngle,dt=Ut.snapThreshold||gt,Pe=Math.ceil(Zt/gt)*gt,xe=Math.floor(Zt/gt)*gt;Math.abs(Zt-xe)<dt?Zt=xe:Math.abs(Zt-Pe)<dt&&(Zt=Pe)}return Zt<0&&(Zt=360+Zt),Zt%=360,Bn=Ut.angle!==Zt,Ut.angle=Zt,Bn}function Te(ft,kt,Dt,tn,zt){zt=zt||{};var Ut=kt.target,Kt=Ut.lockScalingX,un=Ut.lockScalingY,Xt=zt.by,Zt,Bn,gt,dt,Pe=J(ft,Ut),xe=ve(Ut,Xt,Pe),Ee,Ze,re=kt.gestureScale;if(xe)return!1;if(re)Bn=kt.scaleX*re,gt=kt.scaleY*re;else{if(Zt=Ie(kt,kt.originX,kt.originY,Dt,tn),Ee=Xt!=="y"?U(Zt.x):1,Ze=Xt!=="x"?U(Zt.y):1,kt.signX||(kt.signX=Ee),kt.signY||(kt.signY=Ze),Ut.lockScalingFlip&&(kt.signX!==Ee||kt.signY!==Ze))return!1;if(dt=Ut._getTransformedDimensions(),Pe&&!Xt){var we=Math.abs(Zt.x)+Math.abs(Zt.y),Ve=kt.original,it=Math.abs(dt.x*Ve.scaleX/Ut.scaleX)+Math.abs(dt.y*Ve.scaleY/Ut.scaleY),We=we/it;Bn=Ve.scaleX*We,gt=Ve.scaleY*We}else Bn=Math.abs(Zt.x*Ut.scaleX/dt.x),gt=Math.abs(Zt.y*Ut.scaleY/dt.y);ne(kt)&&(Bn*=2,gt*=2),kt.signX!==Ee&&Xt!=="y"&&(kt.originX=O[kt.originX],Bn*=-1,kt.signX=Ee),kt.signY!==Ze&&Xt!=="x"&&(kt.originY=O[kt.originY],gt*=-1,kt.signY=Ze)}var Ct=Ut.scaleX,Ye=Ut.scaleY;return Xt?(Xt==="x"&&Ut.set("scaleX",Bn),Xt==="y"&&Ut.set("scaleY",gt)):(!Kt&&Ut.set("scaleX",Bn),!un&&Ut.set("scaleY",gt)),Ct!==Ut.scaleX||Ye!==Ut.scaleY}function Fe(ft,kt,Dt,tn){return Te(ft,kt,Dt,tn)}function ct(ft,kt,Dt,tn){return Te(ft,kt,Dt,tn,{by:"x"})}function At(ft,kt,Dt,tn){return Te(ft,kt,Dt,tn,{by:"y"})}function rt(ft,kt,Dt,tn){return ft[kt.target.canvas.altActionKey]?f.skewHandlerX(ft,kt,Dt,tn):f.scalingY(ft,kt,Dt,tn)}function jt(ft,kt,Dt,tn){return ft[kt.target.canvas.altActionKey]?f.skewHandlerY(ft,kt,Dt,tn):f.scalingX(ft,kt,Dt,tn)}function _t(ft,kt,Dt,tn){var zt=kt.target,Ut=Ie(kt,kt.originX,kt.originY,Dt,tn),Kt=zt.strokeWidth/(zt.strokeUniform?zt.scaleX:1),un=ne(kt)?2:1,Xt=zt.width,Zt=Math.abs(Ut.x*un/zt.scaleX)-Kt;return zt.set("width",Math.max(Zt,0)),Xt!==Zt}function Wt(ft,kt,Dt,tn){var zt=kt.target,Ut=Dt-kt.offsetX,Kt=tn-kt.offsetY,un=!zt.get("lockMovementX")&&zt.left!==Ut,Xt=!zt.get("lockMovementY")&&zt.top!==Kt;return un&&zt.set("left",Ut),Xt&&zt.set("top",Kt),(un||Xt)&&q("moving",ut(ft,kt,Dt,tn)),un||Xt}f.scaleCursorStyleHandler=Se,f.skewCursorStyleHandler=Be,f.scaleSkewCursorStyleHandler=Ue,f.rotationWithSnapping=me("rotating",ge(be)),f.scalingEqually=me("scaling",ge(Fe)),f.scalingX=me("scaling",ge(ct)),f.scalingY=me("scaling",ge(At)),f.scalingYOrSkewingX=rt,f.scalingXOrSkewingY=jt,f.changeWidth=me("resizing",ge(_t)),f.skewHandlerX=oe,f.skewHandlerY=Z,f.dragHandler=Wt,f.scaleOrSkewActionName=qe,f.rotationStyleHandler=mt,f.fireEvent=q,f.wrapWithFixedAnchor=ge,f.wrapWithFireEvent=me,f.getLocalPoint=Ie,a.controlsUtils=f})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.degreesToRadians,v=a.controlsUtils;function f(m,C,D,S,O){S=S||{};var N=this.sizeX||S.cornerSize||O.cornerSize,U=this.sizeY||S.cornerSize||O.cornerSize,W=typeof S.transparentCorners<"u"?S.transparentCorners:O.transparentCorners,q=W?"stroke":"fill",J=!W&&(S.cornerStrokeColor||O.cornerStrokeColor),ne=C,ve=D,Se;m.save(),m.fillStyle=S.cornerColor||O.cornerColor,m.strokeStyle=S.cornerStrokeColor||O.cornerStrokeColor,N>U?(Se=N,m.scale(1,U/N),ve=D*N/U):U>N?(Se=U,m.scale(N/U,1),ne=C*U/N):Se=N,m.lineWidth=1,m.beginPath(),m.arc(ne,ve,Se/2,0,2*Math.PI,!1),m[q](),J&&m.stroke(),m.restore()}function g(m,C,D,S,O){S=S||{};var N=this.sizeX||S.cornerSize||O.cornerSize,U=this.sizeY||S.cornerSize||O.cornerSize,W=typeof S.transparentCorners<"u"?S.transparentCorners:O.transparentCorners,q=W?"stroke":"fill",J=!W&&(S.cornerStrokeColor||O.cornerStrokeColor),ne=N/2,ve=U/2;m.save(),m.fillStyle=S.cornerColor||O.cornerColor,m.strokeStyle=S.cornerStrokeColor||O.cornerStrokeColor,m.lineWidth=1,m.translate(C,D),m.rotate(u(O.angle)),m[q+"Rect"](-ne,-ve,N,U),J&&m.strokeRect(-ne,-ve,N,U),m.restore()}v.renderCircleControl=f,v.renderSquareControl=g})(e),(function(d){var a=d.fabric||(d.fabric={});function u(v){for(var f in v)this[f]=v[f]}a.Control=u,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(v,f){return f.cursorStyle},getActionName:function(v,f){return f.actionName},getVisibility:function(v,f){var g=v._controlsVisibility;return g&&typeof g[f]<"u"?g[f]:this.visible},setVisibility:function(v){this.visible=v},positionHandler:function(v,f){var g=a.util.transformPoint({x:this.x*v.x+this.offsetX,y:this.y*v.y+this.offsetY},f);return g},calcCornerCoords:function(v,f,g,m,C){var D,S,O,N,U=C?this.touchSizeX:this.sizeX,W=C?this.touchSizeY:this.sizeY;if(U&&W&&U!==W){var q=Math.atan2(W,U),J=Math.sqrt(U*U+W*W)/2,ne=q-a.util.degreesToRadians(v),ve=Math.PI/2-q-a.util.degreesToRadians(v);D=J*a.util.cos(ne),S=J*a.util.sin(ne),O=J*a.util.cos(ve),N=J*a.util.sin(ve)}else{var Se=U&&W?U:f;J=Se*.7071067812;var ne=a.util.degreesToRadians(45-v);D=O=J*a.util.cos(ne),S=N=J*a.util.sin(ne)}return{tl:{x:g-N,y:m-O},tr:{x:g+D,y:m-S},bl:{x:g-D,y:m+S},br:{x:g+N,y:m+O}}},render:function(v,f,g,m,C){m=m||{},(m.cornerStyle||C.cornerStyle)==="circle"?a.controlsUtils.renderCircleControl.call(this,v,f,g,m,C):a.controlsUtils.renderSquareControl.call(this,v,f,g,m,C)}}})(e),(function(){function d(g,m){var C=g.getAttribute("style"),D=g.getAttribute("offset")||0,S,O,N,U;if(D=parseFloat(D)/(/%$/.test(D)?100:1),D=D<0?0:D>1?1:D,C){var W=C.split(/\s*;\s*/);for(W[W.length-1]===""&&W.pop(),U=W.length;U--;){var q=W[U].split(/\s*:\s*/),J=q[0].trim(),ne=q[1].trim();J==="stop-color"?S=ne:J==="stop-opacity"&&(N=ne)}}return S||(S=g.getAttribute("stop-color")||"rgb(0,0,0)"),N||(N=g.getAttribute("stop-opacity")),S=new t.Color(S),O=S.getAlpha(),N=isNaN(parseFloat(N))?1:parseFloat(N),N*=O*m,{offset:D,color:S.toRgb(),opacity:N}}function a(g){return{x1:g.getAttribute("x1")||0,y1:g.getAttribute("y1")||0,x2:g.getAttribute("x2")||"100%",y2:g.getAttribute("y2")||0}}function u(g){return{x1:g.getAttribute("fx")||g.getAttribute("cx")||"50%",y1:g.getAttribute("fy")||g.getAttribute("cy")||"50%",r1:0,x2:g.getAttribute("cx")||"50%",y2:g.getAttribute("cy")||"50%",r2:g.getAttribute("r")||"50%"}}var v=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(g){g||(g={}),g.coords||(g.coords={});var m,C=this;Object.keys(g).forEach(function(D){C[D]=g[D]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,m={x1:g.coords.x1||0,y1:g.coords.y1||0,x2:g.coords.x2||0,y2:g.coords.y2||0},this.type==="radial"&&(m.r1=g.coords.r1||0,m.r2=g.coords.r2||0),this.coords=m,this.colorStops=g.colorStops.slice()},addColorStop:function(g){for(var m in g){var C=new t.Color(g[m]);this.colorStops.push({offset:parseFloat(m),color:C.toRgb(),opacity:C.getAlpha()})}return this},toObject:function(g){var m={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,m,g),m},toSVG:function(g,O){var C=v(this.coords,!0),D,S,O=O||{},N,U,W=v(this.colorStops,!0),q=C.r1>C.r2,J=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),ne=-this.offsetX,ve=-this.offsetY,Se=!!O.additionalTransform,Be=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(W.sort(function(ge,me){return ge.offset-me.offset}),Be==="objectBoundingBox"?(ne/=g.width,ve/=g.height):(ne+=g.width/2,ve+=g.height/2),g.type==="path"&&this.gradientUnits!=="percentage"&&(ne-=g.pathOffset.x,ve-=g.pathOffset.y),J[4]-=ne,J[5]-=ve,U='id="SVGID_'+this.id+'" gradientUnits="'+Be+'"',U+=' gradientTransform="'+(Se?O.additionalTransform+" ":"")+t.util.matrixToSVG(J)+'" ',this.type==="linear"?N=["<linearGradient ",U,' x1="',C.x1,'" y1="',C.y1,'" x2="',C.x2,'" y2="',C.y2,`">
`]:this.type==="radial"&&(N=["<radialGradient ",U,' cx="',q?C.x1:C.x2,'" cy="',q?C.y1:C.y2,'" r="',q?C.r1:C.r2,'" fx="',q?C.x2:C.x1,'" fy="',q?C.y2:C.y1,`">
`]),this.type==="radial"){if(q)for(W=W.concat(),W.reverse(),D=0,S=W.length;D<S;D++)W[D].offset=1-W[D].offset;var Ue=Math.min(C.r1,C.r2);if(Ue>0){var qe=Math.max(C.r1,C.r2),mt=Ue/qe;for(D=0,S=W.length;D<S;D++)W[D].offset+=mt*(1-W[D].offset)}}for(D=0,S=W.length;D<S;D++){var ut=W[D];N.push("<stop ",'offset="',ut.offset*100+"%",'" style="stop-color:',ut.color,typeof ut.opacity<"u"?";stop-opacity: "+ut.opacity:";",`"/>
`)}return N.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),N.join("")},toLive:function(g){var m,C=t.util.object.clone(this.coords),D,S;if(this.type){for(this.type==="linear"?m=g.createLinearGradient(C.x1,C.y1,C.x2,C.y2):this.type==="radial"&&(m=g.createRadialGradient(C.x1,C.y1,C.r1,C.x2,C.y2,C.r2)),D=0,S=this.colorStops.length;D<S;D++){var O=this.colorStops[D].color,N=this.colorStops[D].opacity,U=this.colorStops[D].offset;typeof N<"u"&&(O=new t.Color(O).setAlpha(N).toRgba()),m.addColorStop(U,O)}return m}}}),t.util.object.extend(t.Gradient,{fromElement:function(g,m,C,D){var S=parseFloat(C)/(/%$/.test(C)?100:1);S=S<0?0:S>1?1:S,isNaN(S)&&(S=1);var O=g.getElementsByTagName("stop"),N,U=g.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",W=g.getAttribute("gradientTransform")||"",q=[],J,ne,ve=0,Se=0,Be;for(g.nodeName==="linearGradient"||g.nodeName==="LINEARGRADIENT"?(N="linear",J=a(g)):(N="radial",J=u(g)),ne=O.length;ne--;)q.push(d(O[ne],S));Be=t.parseTransformAttribute(W),f(m,J,D,U),U==="pixels"&&(ve=-m.left,Se=-m.top);var Ue=new t.Gradient({id:g.getAttribute("id"),type:N,coords:J,colorStops:q,gradientUnits:U,gradientTransform:Be,offsetX:ve,offsetY:Se});return Ue}});function f(g,m,C,D){var S,O;Object.keys(m).forEach(function(N){S=m[N],S==="Infinity"?O=1:S==="-Infinity"?O=0:(O=parseFloat(m[N],10),typeof S=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(S)&&(O*=.01,D==="pixels"&&((N==="x1"||N==="x2"||N==="r2")&&(O*=C.viewBoxWidth||C.width),(N==="y1"||N==="y2")&&(O*=C.viewBoxHeight||C.height)))),m[N]=O})}})(),(function(){var d=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(a,u){if(a||(a={}),this.id=t.Object.__uid++,this.setOptions(a),!a.source||a.source&&typeof a.source!="string"){u&&u(this);return}else{var v=this;this.source=t.util.createImage(),t.util.loadImage(a.source,function(f,g){v.source=f,u&&u(v,g)},null,this.crossOrigin)}},toObject:function(a){var u=t.Object.NUM_FRACTION_DIGITS,v,f;return typeof this.source.src=="string"?v=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(v=this.source.toDataURL()),f={type:"pattern",source:v,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:d(this.offsetX,u),offsetY:d(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,f,a),f},toSVG:function(a){var u=typeof this.source=="function"?this.source():this.source,v=u.width/a.width,f=u.height/a.height,g=this.offsetX/a.width,m=this.offsetY/a.height,C="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(f=1,m&&(f+=Math.abs(m))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(v=1,g&&(v+=Math.abs(g))),u.src?C=u.src:u.toDataURL&&(C=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+g+'" y="'+m+'" width="'+v+'" height="'+f+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+C+`"></image>
</pattern>
`},setOptions:function(a){for(var u in a)this[u]=a[u]},toLive:function(a){var u=this.source;return!u||typeof u.src<"u"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":a.createPattern(u,this.repeat)}})})(),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(v){typeof v=="string"&&(v=this._parseShadow(v));for(var f in v)this[f]=v[f];this.id=a.Object.__uid++},_parseShadow:function(v){var f=v.trim(),g=a.Shadow.reOffsetsAndBlur.exec(f)||[],m=f.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:m.trim(),offsetX:parseFloat(g[1],10)||0,offsetY:parseFloat(g[2],10)||0,blur:parseFloat(g[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(v){var f=40,g=40,m=a.Object.NUM_FRACTION_DIGITS,C=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-v.angle)),D=20,S=new a.Color(this.color);return v.width&&v.height&&(f=u((Math.abs(C.x)+this.blur)/v.width,m)*100+D,g=u((Math.abs(C.y)+this.blur)/v.height,m)*100+D),v.flipX&&(C.x*=-1),v.flipY&&(C.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+g+'%" height="'+(100+2*g)+'%" x="-'+f+'%" width="'+(100+2*f)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+u(this.blur?this.blur/2:0,m)+`"></feGaussianBlur>
	<feOffset dx="`+u(C.x,m)+'" dy="'+u(C.y,m)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+S.toRgb()+'" flood-opacity="'+S.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var v={},f=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(g){this[g]!==f[g]&&(v[g]=this[g])},this),v}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/})(e),(function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var d=t.util.object.extend,a=t.util.getElementOffset,u=t.util.removeFromArray,v=t.util.toFixed,f=t.util.transformPoint,g=t.util.invertTransform,m=t.util.getNodeCanvas,C=t.util.createCanvasElement,D=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(S,O){O||(O={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(S,O)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(S,O){var N=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(S),this._initOptions(O),this.interactive||this._initRetinaScaling(),O.overlayImage&&this.setOverlayImage(O.overlayImage,N),O.backgroundImage&&this.setBackgroundImage(O.backgroundImage,N),O.backgroundColor&&this.setBackgroundColor(O.backgroundColor,N),O.overlayColor&&this.setOverlayColor(O.overlayColor,N),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var S=t.devicePixelRatio;this.__initRetinaScaling(S,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(S,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(S,O,N){O.setAttribute("width",this.width*S),O.setAttribute("height",this.height*S),N.scale(S,S)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(S,O,N){return this.__setBgOverlayImage("overlayImage",S,O,N)},setBackgroundImage:function(S,O,N){return this.__setBgOverlayImage("backgroundImage",S,O,N)},setOverlayColor:function(S,O){return this.__setBgOverlayColor("overlayColor",S,O)},setBackgroundColor:function(S,O){return this.__setBgOverlayColor("backgroundColor",S,O)},__setBgOverlayImage:function(S,O,N,U){return typeof O=="string"?t.util.loadImage(O,function(W,q){if(W){var J=new t.Image(W,U);this[S]=J,J.canvas=this}N&&N(W,q)},this,U&&U.crossOrigin):(U&&O.setOptions(U),this[S]=O,O&&(O.canvas=this),N&&N(O,!1)),this},__setBgOverlayColor:function(S,O,N){return this[S]=O,this._initGradient(O,S),this._initPattern(O,S,N),this},_createCanvasElement:function(){var S=C();if(!S||(S.style||(S.style={}),typeof S.getContext>"u"))throw D;return S},_initOptions:function(S){var O=this.lowerCanvasEl;this._setOptions(S),this.width=this.width||parseInt(O.width,10)||0,this.height=this.height||parseInt(O.height,10)||0,this.lowerCanvasEl.style&&(O.width=this.width,O.height=this.height,O.style.width=this.width+"px",O.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(S){S&&S.getContext?this.lowerCanvasEl=S:this.lowerCanvasEl=t.util.getById(S)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(S,O){return this.setDimensions({width:S},O)},setHeight:function(S,O){return this.setDimensions({height:S},O)},setDimensions:function(S,O){var N;O=O||{};for(var U in S)N=S[U],O.cssOnly||(this._setBackstoreDimension(U,S[U]),N+="px",this.hasLostContext=!0),O.backstoreOnly||this._setCssDimension(U,N);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),O.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(S,O){return this.lowerCanvasEl[S]=O,this.upperCanvasEl&&(this.upperCanvasEl[S]=O),this.cacheCanvasEl&&(this.cacheCanvasEl[S]=O),this[S]=O,this},_setCssDimension:function(S,O){return this.lowerCanvasEl.style[S]=O,this.upperCanvasEl&&(this.upperCanvasEl.style[S]=O),this.wrapperEl&&(this.wrapperEl.style[S]=O),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(S){var O=this._activeObject,N=this.backgroundImage,U=this.overlayImage,W,q,J;for(this.viewportTransform=S,q=0,J=this._objects.length;q<J;q++)W=this._objects[q],W.group||W.setCoords(!0);return O&&O.setCoords(),N&&N.setCoords(!0),U&&U.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(S,O){var N=S,U=this.viewportTransform.slice(0);S=f(S,g(this.viewportTransform)),U[0]=O,U[3]=O;var W=f(S,U);return U[4]+=N.x-W.x,U[5]+=N.y-W.y,this.setViewportTransform(U)},setZoom:function(S){return this.zoomToPoint(new t.Point(0,0),S),this},absolutePan:function(S){var O=this.viewportTransform.slice(0);return O[4]=-S.x,O[5]=-S.y,this.setViewportTransform(O)},relativePan:function(S){return this.absolutePan(new t.Point(-S.x-this.viewportTransform[4],-S.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(S){this.stateful&&S.setupState(),S._set("canvas",this),S.setCoords(),this.fire("object:added",{target:S}),S.fire("added")},_onObjectRemoved:function(S){this.fire("object:removed",{target:S}),S.fire("removed"),delete S.canvas},clearContext:function(S){return S.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var S=this.contextContainer;return this.renderCanvas(S,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var S={},O=this.width,N=this.height,U=g(this.viewportTransform);return S.tl=f({x:0,y:0},U),S.br=f({x:O,y:N},U),S.tr=new t.Point(S.br.x,S.tl.y),S.bl=new t.Point(S.tl.x,S.br.y),this.vptCoords=S,S},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(S,O){var N=this.viewportTransform,U=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(S),t.util.setImageSmoothing(S,this.imageSmoothingEnabled),this.fire("before:render",{ctx:S}),this._renderBackground(S),S.save(),S.transform(N[0],N[1],N[2],N[3],N[4],N[5]),this._renderObjects(S,O),S.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(S),U&&(U.canvas=this,U.shouldCache(),U._transformDone=!0,U.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(S)),this._renderOverlay(S),this.controlsAboveOverlay&&this.interactive&&this.drawControls(S),this.fire("after:render",{ctx:S})},drawClipPathOnCanvas:function(S){var O=this.viewportTransform,N=this.clipPath;S.save(),S.transform(O[0],O[1],O[2],O[3],O[4],O[5]),S.globalCompositeOperation="destination-in",N.transform(S),S.scale(1/N.zoomX,1/N.zoomY),S.drawImage(N._cacheCanvas,-N.cacheTranslationX,-N.cacheTranslationY),S.restore()},_renderObjects:function(S,O){var N,U;for(N=0,U=O.length;N<U;++N)O[N]&&O[N].render(S)},_renderBackgroundOrOverlay:function(S,O){var N=this[O+"Color"],U=this[O+"Image"],W=this.viewportTransform,q=this[O+"Vpt"];if(!(!N&&!U)){if(N){S.save(),S.beginPath(),S.moveTo(0,0),S.lineTo(this.width,0),S.lineTo(this.width,this.height),S.lineTo(0,this.height),S.closePath(),S.fillStyle=N.toLive?N.toLive(S,this):N,q&&S.transform(W[0],W[1],W[2],W[3],W[4],W[5]),S.transform(1,0,0,1,N.offsetX||0,N.offsetY||0);var J=N.gradientTransform||N.patternTransform;J&&S.transform(J[0],J[1],J[2],J[3],J[4],J[5]),S.fill(),S.restore()}if(U){S.save();var ne=this.skipOffscreen;this.skipOffscreen=q,q&&S.transform(W[0],W[1],W[2],W[3],W[4],W[5]),U.render(S),this.skipOffscreen=ne,S.restore()}}},_renderBackground:function(S){this._renderBackgroundOrOverlay(S,"background")},_renderOverlay:function(S){this._renderBackgroundOrOverlay(S,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(S){return this._centerObject(S,new t.Point(this.getCenterPoint().x,S.getCenterPoint().y))},centerObjectV:function(S){return this._centerObject(S,new t.Point(S.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(S){var O=this.getCenterPoint();return this._centerObject(S,O)},viewportCenterObject:function(S){var O=this.getVpCenter();return this._centerObject(S,O)},viewportCenterObjectH:function(S){var O=this.getVpCenter();return this._centerObject(S,new t.Point(O.x,S.getCenterPoint().y)),this},viewportCenterObjectV:function(S){var O=this.getVpCenter();return this._centerObject(S,new t.Point(S.getCenterPoint().x,O.y))},getVpCenter:function(){var S=this.getCenterPoint(),O=g(this.viewportTransform);return f(S,O)},_centerObject:function(S,O){return S.setPositionByOrigin(O,"center","center"),S.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(S){return this.toDatalessObject(S)},toObject:function(S){return this._toObjectMethod("toObject",S)},toDatalessObject:function(S){return this._toObjectMethod("toDatalessObject",S)},_toObjectMethod:function(S,O){var N=this.clipPath,U={version:t.version,objects:this._toObjects(S,O)};return N&&!N.excludeFromExport&&(U.clipPath=this._toObject(this.clipPath,S,O)),d(U,this.__serializeBgOverlay(S,O)),t.util.populateWithProperties(this,U,O),U},_toObjects:function(S,O){return this._objects.filter(function(N){return!N.excludeFromExport}).map(function(N){return this._toObject(N,S,O)},this)},_toObject:function(S,O,N){var U;this.includeDefaultValues||(U=S.includeDefaultValues,S.includeDefaultValues=!1);var W=S[O](N);return this.includeDefaultValues||(S.includeDefaultValues=U),W},__serializeBgOverlay:function(S,O){var N={},U=this.backgroundImage,W=this.overlayImage,q=this.backgroundColor,J=this.overlayColor;return q&&q.toObject?q.excludeFromExport||(N.background=q.toObject(O)):q&&(N.background=q),J&&J.toObject?J.excludeFromExport||(N.overlay=J.toObject(O)):J&&(N.overlay=J),U&&!U.excludeFromExport&&(N.backgroundImage=this._toObject(U,S,O)),W&&!W.excludeFromExport&&(N.overlayImage=this._toObject(W,S,O)),N},svgViewportTransformation:!0,toSVG:function(S,O){S||(S={}),S.reviver=O;var N=[];return this._setSVGPreamble(N,S),this._setSVGHeader(N,S),this.clipPath&&N.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(N,"background"),this._setSVGBgOverlayImage(N,"backgroundImage",O),this._setSVGObjects(N,O),this.clipPath&&N.push(`</g>
`),this._setSVGBgOverlayColor(N,"overlay"),this._setSVGBgOverlayImage(N,"overlayImage",O),N.push("</svg>"),N.join("")},_setSVGPreamble:function(S,O){O.suppressPreamble||S.push('<?xml version="1.0" encoding="',O.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(S,O){var N=O.width||this.width,U=O.height||this.height,W,q='viewBox="0 0 '+this.width+" "+this.height+'" ',J=t.Object.NUM_FRACTION_DIGITS;O.viewBox?q='viewBox="'+O.viewBox.x+" "+O.viewBox.y+" "+O.viewBox.width+" "+O.viewBox.height+'" ':this.svgViewportTransformation&&(W=this.viewportTransform,q='viewBox="'+v(-W[4]/W[0],J)+" "+v(-W[5]/W[3],J)+" "+v(this.width/W[0],J)+" "+v(this.height/W[3],J)+'" '),S.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',N,'" ','height="',U,'" ',q,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(O),`</defs>
`)},createSVGClipPathMarkup:function(S){var O=this.clipPath;return O?(O.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+O.clipPathId+`" >
`+this.clipPath.toClipPathSVG(S.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var S=this,O=["background","overlay"].map(function(N){var U=S[N+"Color"];if(U&&U.toLive){var W=S[N+"Vpt"],q=S.viewportTransform,J={width:S.width/(W?q[0]:1),height:S.height/(W?q[3]:1)};return U.toSVG(J,{additionalTransform:W?t.util.matrixToSVG(q):""})}});return O.join("")},createSVGFontFacesMarkup:function(){var S="",O={},N,U,W,q,J,ne,ve,Se,Be,Ue=t.fontPaths,qe=[];for(this._objects.forEach(function ut(ge){qe.push(ge),ge._objects&&ge._objects.forEach(ut)}),Se=0,Be=qe.length;Se<Be;Se++)if(N=qe[Se],U=N.fontFamily,!(N.type.indexOf("text")===-1||O[U]||!Ue[U])&&(O[U]=!0,!!N.styles)){W=N.styles;for(J in W){q=W[J];for(ve in q)ne=q[ve],U=ne.fontFamily,!O[U]&&Ue[U]&&(O[U]=!0)}}for(var mt in O)S+=[`		@font-face {
`,"			font-family: '",mt,`';
`,"			src: url('",Ue[mt],`');
`,`		}
`].join("");return S&&(S=['	<style type="text/css">',`<![CDATA[
`,S,"]]>",`</style>
`].join("")),S},_setSVGObjects:function(S,O){var N,U,W,q=this._objects;for(U=0,W=q.length;U<W;U++)N=q[U],!N.excludeFromExport&&this._setSVGObject(S,N,O)},_setSVGObject:function(S,O,N){S.push(O.toSVG(N))},_setSVGBgOverlayImage:function(S,O,N){this[O]&&!this[O].excludeFromExport&&this[O].toSVG&&S.push(this[O].toSVG(N))},_setSVGBgOverlayColor:function(S,O){var N=this[O+"Color"],U=this.viewportTransform,W=this.width,q=this.height;if(N)if(N.toLive){var J=N.repeat,ne=t.util.invertTransform(U),ve=this[O+"Vpt"],Se=ve?t.util.matrixToSVG(ne):"";S.push('<rect transform="'+Se+" translate(",W/2,",",q/2,')"',' x="',N.offsetX-W/2,'" y="',N.offsetY-q/2,'" ','width="',J==="repeat-y"||J==="no-repeat"?N.source.width:W,'" height="',J==="repeat-x"||J==="no-repeat"?N.source.height:q,'" fill="url(#SVGID_'+N.id+')"',`></rect>
`)}else S.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',N,'"',`></rect>
`)},sendToBack:function(S){if(!S)return this;var O=this._activeObject,N,U,W;if(S===O&&S.type==="activeSelection")for(W=O._objects,N=W.length;N--;)U=W[N],u(this._objects,U),this._objects.unshift(U);else u(this._objects,S),this._objects.unshift(S);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(S){if(!S)return this;var O=this._activeObject,N,U,W;if(S===O&&S.type==="activeSelection")for(W=O._objects,N=0;N<W.length;N++)U=W[N],u(this._objects,U),this._objects.push(U);else u(this._objects,S),this._objects.push(S);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(S,O){if(!S)return this;var N=this._activeObject,U,W,q,J,ne,ve=0;if(S===N&&S.type==="activeSelection")for(ne=N._objects,U=0;U<ne.length;U++)W=ne[U],q=this._objects.indexOf(W),q>0+ve&&(J=q-1,u(this._objects,W),this._objects.splice(J,0,W)),ve++;else q=this._objects.indexOf(S),q!==0&&(J=this._findNewLowerIndex(S,q,O),u(this._objects,S),this._objects.splice(J,0,S));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(S,O,N){var U,W;if(N)for(U=O,W=O-1;W>=0;--W){var q=S.intersectsWithObject(this._objects[W])||S.isContainedWithinObject(this._objects[W])||this._objects[W].isContainedWithinObject(S);if(q){U=W;break}}else U=O-1;return U},bringForward:function(S,O){if(!S)return this;var N=this._activeObject,U,W,q,J,ne,ve=0;if(S===N&&S.type==="activeSelection")for(ne=N._objects,U=ne.length;U--;)W=ne[U],q=this._objects.indexOf(W),q<this._objects.length-1-ve&&(J=q+1,u(this._objects,W),this._objects.splice(J,0,W)),ve++;else q=this._objects.indexOf(S),q!==this._objects.length-1&&(J=this._findNewUpperIndex(S,q,O),u(this._objects,S),this._objects.splice(J,0,S));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(S,O,N){var U,W,q;if(N)for(U=O,W=O+1,q=this._objects.length;W<q;++W){var J=S.intersectsWithObject(this._objects[W])||S.isContainedWithinObject(this._objects[W])||this._objects[W].isContainedWithinObject(S);if(J){U=W;break}}else U=O+1;return U},moveTo:function(S,O){return u(this._objects,S),this._objects.splice(O,0,S),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(S){S.dispose&&S.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),d(t.StaticCanvas.prototype,t.Observable),d(t.StaticCanvas.prototype,t.Collection),d(t.StaticCanvas.prototype,t.DataURLExporter),d(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(S){var O=C();if(!O||!O.getContext)return null;var N=O.getContext("2d");return N&&S==="setLineDash"?typeof N.setLineDash<"u":null}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var S=m(this.lowerCanvasEl);return S&&S.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(S){var O=m(this.lowerCanvasEl);return O&&O.createJPEGStream(S)})})(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(d){d.strokeStyle=this.color,d.lineWidth=this.width,d.lineCap=this.strokeLineCap,d.miterLimit=this.strokeMiterLimit,d.lineJoin=this.strokeLineJoin,d.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(d){var a=this.canvas.viewportTransform;d.save(),d.transform(a[0],a[1],a[2],a[3],a[4],a[5])},_setShadow:function(){if(this.shadow){var d=this.canvas,a=this.shadow,u=d.contextTop,v=d.getZoom();d&&d._isRetinaScaling()&&(v*=t.devicePixelRatio),u.shadowColor=a.color,u.shadowBlur=a.blur*v,u.shadowOffsetX=a.offsetX*v,u.shadowOffsetY=a.offsetY*v}},needsFullRender:function(){var d=new t.Color(this.color);return d.getAlpha()<1||!!this.shadow},_resetShadow:function(){var d=this.canvas.contextTop;d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0},_isOutSideCanvas:function(d){return d.x<0||d.x>this.canvas.getWidth()||d.y<0||d.y>this.canvas.getHeight()}}),(function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(d){this.canvas=d,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(d,a,u){var v=a.midPointFrom(u);return d.quadraticCurveTo(a.x,a.y,v.x,v.y),v},onMouseDown:function(d,a){this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],this._prepareForDrawing(d),this._captureDrawingPath(d),this._render())},onMouseMove:function(d,a){if(this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d))&&this._captureDrawingPath(d)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,v=u.length,f=this.canvas.contextTop;this._saveAndTransform(f),this.oldEnd&&(f.beginPath(),f.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(f,u[v-2],u[v-1],!0),f.stroke(),f.restore()}},onMouseUp:function(d){return this.canvas._isMainEvent(d.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(d){var a=new t.Point(d.x,d.y);this._reset(),this._addPoint(a),this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(d){return this._points.length>1&&d.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(d),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(d){var a=new t.Point(d.x,d.y);return this._addPoint(a)},_render:function(d){var a,u,v=this._points[0],f=this._points[1];if(d=d||this.canvas.contextTop,this._saveAndTransform(d),d.beginPath(),this._points.length===2&&v.x===f.x&&v.y===f.y){var g=this.width/1e3;v=new t.Point(v.x,v.y),f=new t.Point(f.x,f.y),v.x-=g,f.x+=g}for(d.moveTo(v.x,v.y),a=1,u=this._points.length;a<u;a++)this._drawSegment(d,v,f),v=this._points[a],f=this._points[a+1];d.lineTo(v.x,v.y),d.stroke(),d.restore()},convertPointsToSVGPath:function(d){var a=this.width/1e3;return t.util.getSmoothPathFromPoints(d,a)},_isEmptySVGPath:function(d){var a=t.util.joinPath(d);return a==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(d){var a=new t.Path(d,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,a.shadow=new t.Shadow(this.shadow)),a},decimatePoints:function(d,a){if(d.length<=2)return d;var u=this.canvas.getZoom(),v=Math.pow(a/u,2),f,g=d.length-1,m=d[0],C=[m],D;for(f=1;f<g-1;f++)D=Math.pow(m.x-d[f].x,2)+Math.pow(m.y-d[f].y,2),D>=v&&(m=d[f],C.push(m));return C.push(d[g]),C},_finalizeAndAddPath:function(){var d=this.canvas.contextTop;d.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var a=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(a)){this.canvas.requestRenderAll();return}var u=this.createPath(a);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})})(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(d){this.canvas=d,this.points=[]},drawDot:function(d){var a=this.addPoint(d),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,a),u.restore()},dot:function(d,a){d.fillStyle=a.fill,d.beginPath(),d.arc(a.x,a.y,a.radius,0,Math.PI*2,!1),d.closePath(),d.fill()},onMouseDown:function(d){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(d)},_render:function(){var d=this.canvas.contextTop,a,u,v=this.points;for(this._saveAndTransform(d),a=0,u=v.length;a<u;a++)this.dot(d,v[a]);d.restore()},onMouseMove:function(d){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(d),this._render()):this.drawDot(d))},onMouseUp:function(){var d=this.canvas.renderOnAddRemove,a,u;this.canvas.renderOnAddRemove=!1;var v=[];for(a=0,u=this.points.length;a<u;a++){var f=this.points[a],g=new t.Circle({radius:f.radius,left:f.x,top:f.y,originX:"center",originY:"center",fill:f.fill});this.shadow&&(g.shadow=new t.Shadow(this.shadow)),v.push(g)}var m=new t.Group(v);m.canvas=this.canvas,this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.fire("path:created",{path:m}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=d,this.canvas.requestRenderAll()},addPoint:function(d){var a=new t.Point(d.x,d.y),u=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,v=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return a.radius=u,a.fill=v,this.points.push(a),a}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(d){this.canvas=d,this.sprayChunks=[]},onMouseDown:function(d){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(d),this.render(this.sprayChunkPoints)},onMouseMove:function(d){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d)||(this.addSprayChunk(d),this.render(this.sprayChunkPoints))},onMouseUp:function(){var d=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var a=[],u=0,v=this.sprayChunks.length;u<v;u++)for(var f=this.sprayChunks[u],g=0,m=f.length;g<m;g++){var C=new t.Rect({width:f[g].width,height:f[g].width,left:f[g].x+1,top:f[g].y+1,originX:"center",originY:"center",fill:this.color});a.push(C)}this.optimizeOverlapping&&(a=this._getOptimizedRects(a));var D=new t.Group(a);this.shadow&&D.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:D}),this.canvas.add(D),this.canvas.fire("path:created",{path:D}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=d,this.canvas.requestRenderAll()},_getOptimizedRects:function(d){var a={},u,v,f;for(v=0,f=d.length;v<f;v++)u=d[v].left+""+d[v].top,a[u]||(a[u]=d[v]);var g=[];for(u in a)g.push(a[u]);return g},render:function(d){var a=this.canvas.contextTop,u,v;for(a.fillStyle=this.color,this._saveAndTransform(a),u=0,v=d.length;u<v;u++){var f=d[u];typeof f.opacity<"u"&&(a.globalAlpha=f.opacity),a.fillRect(f.x,f.y,f.width,f.width)}a.restore()},_render:function(){var d=this.canvas.contextTop,a,u;for(d.fillStyle=this.color,this._saveAndTransform(d),a=0,u=this.sprayChunks.length;a<u;a++)this.render(this.sprayChunks[a]);d.restore()},addSprayChunk:function(d){this.sprayChunkPoints=[];var a,u,v,f=this.width/2,g;for(g=0;g<this.density;g++){a=t.util.getRandomInt(d.x-f,d.x+f),u=t.util.getRandomInt(d.y-f,d.y+f),this.dotWidthVariance?v=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):v=this.dotWidth;var m=new t.Point(a,u);m.width=v,this.randomOpacity&&(m.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(m)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var d=20,a=5,u=t.util.createCanvasElement(),v=u.getContext("2d");return u.width=u.height=d+a,v.fillStyle=this.color,v.beginPath(),v.arc(d/2,d/2,d/2,0,Math.PI*2,!1),v.closePath(),v.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(d){return d.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(d){this.callSuper("_setBrushStyles",d),d.strokeStyle=this.getPattern(d)},createPath:function(d){var a=this.callSuper("createPath",d),u=a._getLeftTopCoords().scalarAdd(a.strokeWidth/2);return a.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),a}}),(function(){var d=t.util.getPointer,a=t.util.degreesToRadians,u=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(f,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,g),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var f=this.getActiveObjects(),g,m,C;if(f.length>0&&!this.preserveObjectStacking){m=[],C=[];for(var D=0,S=this._objects.length;D<S;D++)g=this._objects[D],f.indexOf(g)===-1?m.push(g):C.push(g);f.length>1&&(this._activeObject._objects=C),m.push.apply(m,C)}else m=this._objects;return m},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var f=this.contextContainer;return this.renderCanvas(f,this._chooseObjectsToRender()),this},renderTopLayer:function(f){f.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(f),this.contextTopDirty=!0),f.restore()},renderTop:function(){var f=this.contextTop;return this.clearContext(f),this.renderTopLayer(f),this.fire("after:render"),this},_normalizePointer:function(f,g){var m=f.calcTransformMatrix(),C=t.util.invertTransform(m),D=this.restorePointerVpt(g);return t.util.transformPoint(D,C)},isTargetTransparent:function(f,g,m){if(f.shouldCache()&&f._cacheCanvas&&f!==this._activeObject){var C=this._normalizePointer(f,{x:g,y:m}),D=Math.max(f.cacheTranslationX+C.x*f.zoomX,0),S=Math.max(f.cacheTranslationY+C.y*f.zoomY,0),W=t.util.isTransparent(f._cacheContext,Math.round(D),Math.round(S),this.targetFindTolerance);return W}var O=this.contextCache,N=f.selectionBackgroundColor,U=this.viewportTransform;f.selectionBackgroundColor="",this.clearContext(O),O.save(),O.transform(U[0],U[1],U[2],U[3],U[4],U[5]),f.render(O),O.restore(),f.selectionBackgroundColor=N;var W=t.util.isTransparent(O,g,m,this.targetFindTolerance);return W},_isSelectionKeyPressed:function(f){var g=!1;return Array.isArray(this.selectionKey)?g=!!this.selectionKey.find(function(m){return f[m]===!0}):g=f[this.selectionKey],g},_shouldClearSelection:function(f,g){var m=this.getActiveObjects(),C=this._activeObject;return!g||g&&C&&m.length>1&&m.indexOf(g)===-1&&C!==g&&!this._isSelectionKeyPressed(f)||g&&!g.evented||g&&!g.selectable&&C&&C!==g},_shouldCenterTransform:function(f,g,m){if(f){var C;return g==="scale"||g==="scaleX"||g==="scaleY"||g==="resizing"?C=this.centeredScaling||f.centeredScaling:g==="rotate"&&(C=this.centeredRotation||f.centeredRotation),C?!m:m}},_getOriginFromCorner:function(f,g){var m={x:f.originX,y:f.originY};return g==="ml"||g==="tl"||g==="bl"?m.x="right":(g==="mr"||g==="tr"||g==="br")&&(m.x="left"),g==="tl"||g==="mt"||g==="tr"?m.y="bottom":(g==="bl"||g==="mb"||g==="br")&&(m.y="top"),m},_getActionFromCorner:function(f,g,m,C){if(!g||!f)return"drag";var D=C.controls[g];return D.getActionName(m,D,C)},_setupCurrentTransform:function(f,g,m){if(g){var C=this.getPointer(f),D=g.__corner,S=g.controls[D],O=m&&D?S.getActionHandler(f,g,S):t.controlsUtils.dragHandler,N=this._getActionFromCorner(m,D,f,g),U=this._getOriginFromCorner(g,D),W=f[this.centeredKey],q={target:g,action:N,actionHandler:O,corner:D,scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,offsetX:C.x-g.left,offsetY:C.y-g.top,originX:U.x,originY:U.y,ex:C.x,ey:C.y,lastX:C.x,lastY:C.y,theta:a(g.angle),width:g.width*g.scaleX,shiftKey:f.shiftKey,altKey:W,original:t.util.saveObjectTransform(g)};this._shouldCenterTransform(g,N,W)&&(q.originX="center",q.originY="center"),q.original.originX=U.x,q.original.originY=U.y,this._currentTransform=q,this._beforeTransform(f)}},setCursor:function(f){this.upperCanvasEl.style.cursor=f},_drawSelection:function(f){var g=this._groupSelector,m=new t.Point(g.ex,g.ey),C=t.util.transformPoint(m,this.viewportTransform),D=new t.Point(g.ex+g.left,g.ey+g.top),S=t.util.transformPoint(D,this.viewportTransform),O=Math.min(C.x,S.x),N=Math.min(C.y,S.y),U=Math.max(C.x,S.x),W=Math.max(C.y,S.y),q=this.selectionLineWidth/2;this.selectionColor&&(f.fillStyle=this.selectionColor,f.fillRect(O,N,U-O,W-N)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(f.lineWidth=this.selectionLineWidth,f.strokeStyle=this.selectionBorderColor,O+=q,N+=q,U-=q,W-=q,t.Object.prototype._setLineDash.call(this,f,this.selectionDashArray),f.strokeRect(O,N,U-O,W-N))},findTarget:function(f,g){if(!this.skipTargetFind){var m=!0,C=this.getPointer(f,m),D=this._activeObject,S=this.getActiveObjects(),O,N,U=u(f),W=S.length>1&&!g||S.length===1;if(this.targets=[],W&&D._findTargetCorner(C,U)||S.length>1&&!g&&D===this._searchPossibleTargets([D],C))return D;if(S.length===1&&D===this._searchPossibleTargets([D],C))if(this.preserveObjectStacking)O=D,N=this.targets,this.targets=[];else return D;var q=this._searchPossibleTargets(this._objects,C);return f[this.altSelectionKey]&&q&&O&&q!==O&&(q=O,this.targets=N),q}},_checkTarget:function(f,g,m){if(g&&g.visible&&g.evented&&g.containsPoint(f))if((this.perPixelTargetFind||g.perPixelTargetFind)&&!g.isEditing){var C=this.isTargetTransparent(g,m.x,m.y);if(!C)return!0}else return!0},_searchPossibleTargets:function(f,g){for(var m,C=f.length,D;C--;){var S=f[C],O=S.group?this._normalizePointer(S.group,g):g;if(this._checkTarget(O,S,g)){m=f[C],m.subTargetCheck&&m instanceof t.Group&&(D=this._searchPossibleTargets(m._objects,g),D&&this.targets.push(D));break}}return m},restorePointerVpt:function(f){return t.util.transformPoint(f,t.util.invertTransform(this.viewportTransform))},getPointer:function(f,g){if(this._absolutePointer&&!g)return this._absolutePointer;if(this._pointer&&g)return this._pointer;var m=d(f),C=this.upperCanvasEl,D=C.getBoundingClientRect(),S=D.width||0,O=D.height||0,N;(!S||!O)&&("top"in D&&"bottom"in D&&(O=Math.abs(D.top-D.bottom)),"right"in D&&"left"in D&&(S=Math.abs(D.right-D.left))),this.calcOffset(),m.x=m.x-this._offset.left,m.y=m.y-this._offset.top,g||(m=this.restorePointerVpt(m));var U=this.getRetinaScaling();return U!==1&&(m.x/=U,m.y/=U),S===0||O===0?N={width:1,height:1}:N={width:C.width/S,height:C.height/O},{x:m.x*N.width,y:m.y*N.height}},_createUpperCanvas:function(){var f=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),g=this.lowerCanvasEl,m=this.upperCanvasEl;m?m.className="":(m=this._createCanvasElement(),this.upperCanvasEl=m),t.util.addClass(m,"upper-canvas "+f),this.wrapperEl.appendChild(m),this._copyCanvasStyle(g,m),this._applyCanvasStyle(m),this.contextTop=m.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(f){var g=this.width||f.width,m=this.height||f.height;t.util.setStyle(f,{position:"absolute",width:g+"px",height:m+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),f.width=g,f.height=m,t.util.makeElementUnselectable(f)},_copyCanvasStyle:function(f,g){g.style.cssText=f.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var f=this._activeObject;return f?f.type==="activeSelection"&&f._objects?f._objects.slice(0):[f]:[]},_onObjectRemoved:function(f){f===this._activeObject&&(this.fire("before:selection:cleared",{target:f}),this._discardActiveObject(),this.fire("selection:cleared",{target:f}),f.fire("deselected")),f===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",f)},_fireSelectionEvents:function(f,g){var m=!1,C=this.getActiveObjects(),D=[],S=[];f.forEach(function(O){C.indexOf(O)===-1&&(m=!0,O.fire("deselected",{e:g,target:O}),S.push(O))}),C.forEach(function(O){f.indexOf(O)===-1&&(m=!0,O.fire("selected",{e:g,target:O}),D.push(O))}),f.length>0&&C.length>0?m&&this.fire("selection:updated",{e:g,selected:D,deselected:S}):C.length>0?this.fire("selection:created",{e:g,selected:D}):f.length>0&&this.fire("selection:cleared",{e:g,deselected:S})},setActiveObject:function(f,g){var m=this.getActiveObjects();return this._setActiveObject(f,g),this._fireSelectionEvents(m,g),this},_setActiveObject:function(f,g){return this._activeObject===f||!this._discardActiveObject(g,f)||f.onSelect({e:g})?!1:(this._activeObject=f,!0)},_discardActiveObject:function(f,g){var m=this._activeObject;if(m){if(m.onDeselect({e:f,object:g}))return!1;this._activeObject=null}return!0},discardActiveObject:function(f){var g=this.getActiveObjects(),m=this.getActiveObject();return g.length&&this.fire("before:selection:cleared",{target:m,e:f}),this._discardActiveObject(f),this._fireSelectionEvents(g,f),this},dispose:function(){var f=this.wrapperEl;return this.removeListeners(),f.removeChild(this.upperCanvasEl),f.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(g){t.util.cleanUpJsdomNode(this[g]),this[g]=void 0}).bind(this)),f.parentNode&&f.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(f){var g=this._activeObject;g&&g._renderControls(f)},_toObject:function(f,g,m){var C=this._realizeGroupTransformOnObject(f),D=this.callSuper("_toObject",f,g,m);return this._unwindGroupTransformOnObject(f,C),D},_realizeGroupTransformOnObject:function(f){if(f.group&&f.group.type==="activeSelection"&&this._activeObject===f.group){var g=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],m={};return g.forEach(function(C){m[C]=f[C]}),t.util.addTransformToObject(f,this._activeObject.calcOwnMatrix()),m}else return null},_unwindGroupTransformOnObject:function(f,g){g&&f.set(g)},_setSVGObject:function(f,g,m){var C=this._realizeGroupTransformOnObject(g);this.callSuper("_setSVGObject",f,g,m),this._unwindGroupTransformOnObject(g,C)},setViewportTransform:function(f){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,f)}});for(var v in t.StaticCanvas)v!=="prototype"&&(t.Canvas[v]=t.StaticCanvas[v])})(),(function(){var d=t.util.addListener,a=t.util.removeListener,u=3,v=2,f=1,g={passive:!1};function m(C,D){return C.button&&C.button===D-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(d,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(C,D){var S=this.upperCanvasEl,O=this._getEventPrefix();C(t.window,"resize",this._onResize),C(S,O+"down",this._onMouseDown),C(S,O+"move",this._onMouseMove,g),C(S,O+"out",this._onMouseOut),C(S,O+"enter",this._onMouseEnter),C(S,"wheel",this._onMouseWheel),C(S,"contextmenu",this._onContextMenu),C(S,"dblclick",this._onDoubleClick),C(S,"dragover",this._onDragOver),C(S,"dragenter",this._onDragEnter),C(S,"dragleave",this._onDragLeave),C(S,"drop",this._onDrop),this.enablePointerEvents||C(S,"touchstart",this._onTouchStart,g),typeof eventjs<"u"&&D in eventjs&&(eventjs[D](S,"gesture",this._onGesture),eventjs[D](S,"drag",this._onDrag),eventjs[D](S,"orientation",this._onOrientationChange),eventjs[D](S,"shake",this._onShake),eventjs[D](S,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var C=this._getEventPrefix();a(t.document,C+"up",this._onMouseUp),a(t.document,"touchend",this._onTouchEnd,g),a(t.document,C+"move",this._onMouseMove,g),a(t.document,"touchmove",this._onMouseMove,g)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(C,D){this.__onTransformGesture&&this.__onTransformGesture(C,D)},_onDrag:function(C,D){this.__onDrag&&this.__onDrag(C,D)},_onMouseWheel:function(C){this.__onMouseWheel(C)},_onMouseOut:function(C){var D=this._hoveredTarget;this.fire("mouse:out",{target:D,e:C}),this._hoveredTarget=null,D&&D.fire("mouseout",{e:C});var S=this;this._hoveredTargets.forEach(function(O){S.fire("mouse:out",{target:O,e:C}),O&&O.fire("mouseout",{e:C})}),this._hoveredTargets=[]},_onMouseEnter:function(C){!this._currentTransform&&!this.findTarget(C)&&(this.fire("mouse:over",{target:null,e:C}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(C,D){this.__onOrientationChange&&this.__onOrientationChange(C,D)},_onShake:function(C,D){this.__onShake&&this.__onShake(C,D)},_onLongPress:function(C,D){this.__onLongPress&&this.__onLongPress(C,D)},_onDragOver:function(C){C.preventDefault();var D=this._simpleEventHandler("dragover",C);this._fireEnterLeaveEvents(D,C)},_onDrop:function(C){return this._simpleEventHandler("drop:before",C),this._simpleEventHandler("drop",C)},_onContextMenu:function(C){return this.stopContextMenu&&(C.stopPropagation(),C.preventDefault()),!1},_onDoubleClick:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"dblclick"),this._resetTransformEventData(C)},getPointerId:function(C){var D=C.changedTouches;return D?D[0]&&D[0].identifier:this.enablePointerEvents?C.pointerId:-1},_isMainEvent:function(C){return C.isPrimary===!0?!0:C.isPrimary===!1?!1:C.type==="touchend"&&C.touches.length===0?!0:C.changedTouches?C.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(C){C.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(C)),this.__onMouseDown(C),this._resetTransformEventData();var D=this.upperCanvasEl,S=this._getEventPrefix();d(t.document,"touchend",this._onTouchEnd,g),d(t.document,"touchmove",this._onMouseMove,g),a(D,S+"down",this._onMouseDown)},_onMouseDown:function(C){this.__onMouseDown(C),this._resetTransformEventData();var D=this.upperCanvasEl,S=this._getEventPrefix();a(D,S+"move",this._onMouseMove,g),d(t.document,S+"up",this._onMouseUp),d(t.document,S+"move",this._onMouseMove,g)},_onTouchEnd:function(C){if(!(C.touches.length>0)){this.__onMouseUp(C),this._resetTransformEventData(),this.mainTouchId=null;var D=this._getEventPrefix();a(t.document,"touchend",this._onTouchEnd,g),a(t.document,"touchmove",this._onMouseMove,g);var S=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){d(S.upperCanvasEl,D+"down",S._onMouseDown),S._willAddMouseDown=0},400)}},_onMouseUp:function(C){this.__onMouseUp(C),this._resetTransformEventData();var D=this.upperCanvasEl,S=this._getEventPrefix();this._isMainEvent(C)&&(a(t.document,S+"up",this._onMouseUp),a(t.document,S+"move",this._onMouseMove,g),d(D,S+"move",this._onMouseMove,g))},_onMouseMove:function(C){!this.allowTouchScrolling&&C.preventDefault&&C.preventDefault(),this.__onMouseMove(C)},_onResize:function(){this.calcOffset()},_shouldRender:function(C){var D=this._activeObject;return!!D!=!!C||D&&C&&D!==C?!0:(D&&D.isEditing,!1)},__onMouseUp:function(C){var D,S=this._currentTransform,O=this._groupSelector,N=!1,U=!O||O.left===0&&O.top===0;if(this._cacheTransformEventData(C),D=this._target,this._handleEvent(C,"up:before"),m(C,u)){this.fireRightClick&&this._handleEvent(C,"up",u,U);return}if(m(C,v)){this.fireMiddleClick&&this._handleEvent(C,"up",v,U),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(C);return}if(this._isMainEvent(C)){if(S&&(this._finalizeCurrentTransform(C),N=S.actionPerformed),!U){var W=D===this._activeObject;this._maybeGroupObjects(C),N||(N=this._shouldRender(D)||!W&&D===this._activeObject)}var q,J;if(D){if(q=D._findTargetCorner(this.getPointer(C,!0),t.util.isTouchEvent(C)),D.selectable&&D!==this._activeObject&&D.activeOn==="up")this.setActiveObject(D,C),N=!0;else{var ne=D.controls[q],ve=ne&&ne.getMouseUpHandler(C,D,ne);ve&&(J=this.getPointer(C),ve(C,S,J.x,J.y))}D.isMoving=!1}if(S&&(S.target!==D||S.corner!==q)){var Se=S.target&&S.target.controls[S.corner],Be=Se&&Se.getMouseUpHandler(C,D,ne);J=J||this.getPointer(C),Be&&Be(C,S,J.x,J.y)}this._setCursorFromEvent(C,D),this._handleEvent(C,"up",f,U),this._groupSelector=null,this._currentTransform=null,D&&(D.__corner=0),N?this.requestRenderAll():U||this.renderTop()}},_simpleEventHandler:function(C,D){var S=this.findTarget(D),O=this.targets,N={e:D,target:S,subTargets:O};if(this.fire(C,N),S&&S.fire(C,N),!O)return S;for(var U=0;U<O.length;U++)O[U].fire(C,N);return S},_handleEvent:function(C,D,S,O){var N=this._target,U=this.targets||[],W={e:C,target:N,subTargets:U,button:S||f,isClick:O||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};D==="up"&&(W.currentTarget=this.findTarget(C),W.currentSubTargets=this.targets),this.fire("mouse:"+D,W),N&&N.fire("mouse"+D,W);for(var q=0;q<U.length;q++)U[q].fire("mouse"+D,W)},_finalizeCurrentTransform:function(C){var D=this._currentTransform,S=D.target,O={e:C,target:S,transform:D,action:D.action};S._scaling&&(S._scaling=!1),S.setCoords(),(D.actionPerformed||this.stateful&&S.hasStateChanged())&&this._fire("modified",O)},_onMouseDownInDrawingMode:function(C){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(C).requestRenderAll();var D=this.getPointer(C);this.freeDrawingBrush.onMouseDown(D,{e:C,pointer:D}),this._handleEvent(C,"down")},_onMouseMoveInDrawingMode:function(C){if(this._isCurrentlyDrawing){var D=this.getPointer(C);this.freeDrawingBrush.onMouseMove(D,{e:C,pointer:D})}this.setCursor(this.freeDrawingCursor),this._handleEvent(C,"move")},_onMouseUpInDrawingMode:function(C){var D=this.getPointer(C);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:C,pointer:D}),this._handleEvent(C,"up")},__onMouseDown:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"down:before");var D=this._target;if(m(C,u)){this.fireRightClick&&this._handleEvent(C,"down",u);return}if(m(C,v)){this.fireMiddleClick&&this._handleEvent(C,"down",v);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(C);return}if(this._isMainEvent(C)&&!this._currentTransform){var S=this._pointer;this._previousPointer=S;var O=this._shouldRender(D),N=this._shouldGroup(C,D);if(this._shouldClearSelection(C,D)?this.discardActiveObject(C):N&&(this._handleGrouping(C,D),D=this._activeObject),this.selection&&(!D||!D.selectable&&!D.isEditing&&D!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),D){var U=D===this._activeObject;D.selectable&&D.activeOn==="down"&&this.setActiveObject(D,C);var W=D._findTargetCorner(this.getPointer(C,!0),t.util.isTouchEvent(C));if(D.__corner=W,D===this._activeObject&&(W||!N)){this._setupCurrentTransform(C,D,U);var q=D.controls[W],S=this.getPointer(C),J=q&&q.getMouseDownHandler(C,D,q);J&&J(C,this._currentTransform,S.x,S.y)}}this._handleEvent(C,"down"),(O||N)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(C){this._resetTransformEventData(),this._pointer=this.getPointer(C,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(C)||null},_beforeTransform:function(C){var D=this._currentTransform;this.stateful&&D.target.saveState(),this.fire("before:transform",{e:C,transform:D})},__onMouseMove:function(C){this._handleEvent(C,"move:before"),this._cacheTransformEventData(C);var D,S;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(C);return}if(this._isMainEvent(C)){var O=this._groupSelector;O?(S=this._absolutePointer,O.left=S.x-O.ex,O.top=S.y-O.ey,this.renderTop()):this._currentTransform?this._transformObject(C):(D=this.findTarget(C)||null,this._setCursorFromEvent(C,D),this._fireOverOutEvents(D,C)),this._handleEvent(C,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(C,D){var S=this._hoveredTarget,O=this._hoveredTargets,N=this.targets,U=Math.max(O.length,N.length);this.fireSyntheticInOutEvents(C,D,{oldTarget:S,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var W=0;W<U;W++)this.fireSyntheticInOutEvents(N[W],D,{oldTarget:O[W],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=C,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(C,D){var S=this._draggedoverTarget,O=this._hoveredTargets,N=this.targets,U=Math.max(O.length,N.length);this.fireSyntheticInOutEvents(C,D,{oldTarget:S,evtOut:"dragleave",evtIn:"dragenter"});for(var W=0;W<U;W++)this.fireSyntheticInOutEvents(N[W],D,{oldTarget:O[W],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=C},fireSyntheticInOutEvents:function(C,D,S){var O,N,U=S.oldTarget,W,q,J=U!==C,ne=S.canvasEvtIn,ve=S.canvasEvtOut;J&&(O={e:D,target:C,previousTarget:U},N={e:D,target:U,nextTarget:C}),q=C&&J,W=U&&J,W&&(ve&&this.fire(ve,N),U.fire(S.evtOut,N)),q&&(ne&&this.fire(ne,O),C.fire(S.evtIn,O))},__onMouseWheel:function(C){this._cacheTransformEventData(C),this._handleEvent(C,"wheel"),this._resetTransformEventData()},_transformObject:function(C){var D=this.getPointer(C),S=this._currentTransform;S.reset=!1,S.shiftKey=C.shiftKey,S.altKey=C[this.centeredKey],this._performTransformAction(C,S,D),S.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(C,D,S){var O=S.x,N=S.y,U=D.action,W=!1,q=D.actionHandler;q&&(W=q(C,D,O,N)),U==="drag"&&W&&(D.target.isMoving=!0,this.setCursor(D.target.moveCursor||this.moveCursor)),D.actionPerformed=D.actionPerformed||W},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(C,D){if(!D)return this.setCursor(this.defaultCursor),!1;var S=D.hoverCursor||this.hoverCursor,O=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,N=(!O||!O.contains(D))&&D._findTargetCorner(this.getPointer(C,!0));N?this.setCursor(this.getCornerCursor(N,D,C)):(D.subTargetCheck&&this.targets.concat().reverse().map(function(U){S=U.hoverCursor||S}),this.setCursor(S))},getCornerCursor:function(C,D,S){var O=D.controls[C];return O.cursorStyleHandler(S,O,D)}})})(),(function(){var d=Math.min,a=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(u,v){var f=this._activeObject;return f&&this._isSelectionKeyPressed(u)&&v&&v.selectable&&this.selection&&(f!==v||f.type==="activeSelection")&&!v.onSelect({e:u})},_handleGrouping:function(u,v){var f=this._activeObject;f.__corner||v===f&&(v=this.findTarget(u,!0),!v||!v.selectable)||(f&&f.type==="activeSelection"?this._updateActiveSelection(v,u):this._createActiveSelection(v,u))},_updateActiveSelection:function(u,v){var f=this._activeObject,g=f._objects.slice(0);f.contains(u)?(f.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),f.size()===1&&this._setActiveObject(f.item(0),v)):(f.addWithUpdate(u),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(g,v)},_createActiveSelection:function(u,v){var f=this.getActiveObjects(),g=this._createGroup(u);this._hoveredTarget=g,this._setActiveObject(g,v),this._fireSelectionEvents(f,v)},_createGroup:function(u){var v=this._objects,f=v.indexOf(this._activeObject)<v.indexOf(u),g=f?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(g,{canvas:this})},_groupSelectedObjects:function(u){var v=this._collectObjects(u),f;v.length===1?this.setActiveObject(v[0],u):v.length>1&&(f=new t.ActiveSelection(v.reverse(),{canvas:this}),this.setActiveObject(f,u))},_collectObjects:function(u){for(var v=[],f,g=this._groupSelector.ex,m=this._groupSelector.ey,C=g+this._groupSelector.left,D=m+this._groupSelector.top,S=new t.Point(d(g,C),d(m,D)),O=new t.Point(a(g,C),a(m,D)),N=!this.selectionFullyContained,U=g===C&&m===D,W=this._objects.length;W--&&(f=this._objects[W],!(!(!f||!f.selectable||!f.visible)&&(N&&f.intersectsWithRect(S,O,!0)||f.isContainedWithinRect(S,O,!0)||N&&f.containsPoint(S,null,!0)||N&&f.containsPoint(O,null,!0))&&(v.push(f),U))););return v.length>1&&(v=v.filter(function(q){return!q.onSelect({e:u})})),v},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})})(),(function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(d){d||(d={});var a=d.format||"png",u=d.quality||1,v=(d.multiplier||1)*(d.enableRetinaScaling?this.getRetinaScaling():1),f=this.toCanvasElement(v,d);return t.util.toDataURL(f,a,u)},toCanvasElement:function(d,a){d=d||1,a=a||{};var u=(a.width||this.width)*d,v=(a.height||this.height)*d,f=this.getZoom(),g=this.width,m=this.height,C=f*d,D=this.viewportTransform,S=(D[4]-(a.left||0))*d,O=(D[5]-(a.top||0))*d,N=this.interactive,U=[C,0,0,C,S,O],W=this.enableRetinaScaling,q=t.util.createCanvasElement(),J=this.contextTop;return q.width=u,q.height=v,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=U,this.width=u,this.height=v,this.calcViewportBoundaries(),this.renderCanvas(q.getContext("2d"),this._objects),this.viewportTransform=D,this.width=g,this.height=m,this.calcViewportBoundaries(),this.interactive=N,this.enableRetinaScaling=W,this.contextTop=J,q}})})(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(d,a,u){if(d){var v=typeof d=="string"?JSON.parse(d):t.util.object.clone(d),f=this,g=v.clipPath,m=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete v.clipPath,this._enlivenObjects(v.objects,function(C){f.clear(),f._setBgOverlay(v,function(){g?f._enlivenObjects([g],function(D){f.clipPath=D[0],f.__setupCanvas.call(f,v,C,m,a)}):f.__setupCanvas.call(f,v,C,m,a)})},u),this}},__setupCanvas:function(d,a,u,v){var f=this;a.forEach(function(g,m){f.insertAt(g,m)}),this.renderOnAddRemove=u,delete d.objects,delete d.backgroundImage,delete d.overlayImage,delete d.background,delete d.overlay,this._setOptions(d),this.renderAll(),v&&v()},_setBgOverlay:function(d,a){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!d.backgroundImage&&!d.overlayImage&&!d.background&&!d.overlay){a&&a();return}var v=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&a&&a()};this.__setBgOverlay("backgroundImage",d.backgroundImage,u,v),this.__setBgOverlay("overlayImage",d.overlayImage,u,v),this.__setBgOverlay("backgroundColor",d.background,u,v),this.__setBgOverlay("overlayColor",d.overlay,u,v)},__setBgOverlay:function(d,a,u,v){var f=this;if(!a){u[d]=!0,v&&v();return}d==="backgroundImage"||d==="overlayImage"?t.util.enlivenObjects([a],function(g){f[d]=g[0],u[d]=!0,v&&v()}):this["set"+t.util.string.capitalize(d,!0)](a,function(){u[d]=!0,v&&v()})},_enlivenObjects:function(d,a,u){if(!d||d.length===0){a&&a([]);return}t.util.enlivenObjects(d,function(v){a&&a(v)},null,u)},_toDataURL:function(d,a){this.clone(function(u){a(u.toDataURL(d))})},_toDataURLWithMultiplier:function(d,a,u){this.clone(function(v){u(v.toDataURLWithMultiplier(d,a))})},clone:function(d,a){var u=JSON.stringify(this.toJSON(a));this.cloneWithoutData(function(v){v.loadFromJSON(u,function(){d&&d(v)})})},cloneWithoutData:function(d){var a=t.util.createCanvasElement();a.width=this.width,a.height=this.height;var u=new t.Canvas(a);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),d&&d(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):d&&d(u)}}),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend,v=a.util.object.clone,f=a.util.toFixed,g=a.util.string.capitalize,m=a.util.degreesToRadians,C=!a.isLikelyNode,D=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:C,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(S){S&&this.setOptions(S)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(S){var O=a.perfLimitSizeTotal,N=S.width,U=S.height,W=a.maxCacheSideLimit,q=a.minCacheSideLimit;if(N<=W&&U<=W&&N*U<=O)return N<q&&(S.width=q),U<q&&(S.height=q),S;var J=N/U,ne=a.util.limitDimsByArea(J,O),ve=a.util.capValue,Se=ve(q,ne.x,W),Be=ve(q,ne.y,W);return N>Se&&(S.zoomX/=N/Se,S.width=Se,S.capped=!0),U>Be&&(S.zoomY/=U/Be,S.height=Be,S.capped=!0),S},_getCacheCanvasDimensions:function(){var S=this.getTotalObjectScaling(),O=this._getTransformedDimensions(0,0),N=O.x*S.scaleX/this.scaleX,U=O.y*S.scaleY/this.scaleY;return{width:Math.ceil(N+D),height:Math.ceil(U+D),zoomX:S.scaleX,zoomY:S.scaleY,x:N,y:U}},_updateCacheCanvas:function(){var S=this.canvas;if(this.noScaleCache&&S&&S._currentTransform){var O=S._currentTransform.target,N=S._currentTransform.action;if(this===O&&N.slice&&N.slice(0,5)==="scale")return!1}var U=this._cacheCanvas,W=this._limitCacheSize(this._getCacheCanvasDimensions()),q=W.width,J=W.height,ne,ve,Se=W.zoomX,Be=W.zoomY,Ue=q!==this.cacheWidth||J!==this.cacheHeight,qe=this.zoomX!==Se||this.zoomY!==Be,mt=Ue||qe;return mt?(Ue?(U.width=q,U.height=J):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,U.width,U.height)),ne=W.x/2,ve=W.y/2,this.cacheTranslationX=Math.round(U.width/2-ne)+ne,this.cacheTranslationY=Math.round(U.height/2-ve)+ve,this.cacheWidth=q,this.cacheHeight=J,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Se,Be),this.zoomX=Se,this.zoomY=Be,!0):!1},setOptions:function(S){this._setOptions(S),this._initGradient(S.fill,"fill"),this._initGradient(S.stroke,"stroke"),this._initPattern(S.fill,"fill"),this._initPattern(S.stroke,"stroke")},transform:function(S){var O=this.group&&!this.group._transformDone||this.group&&this.canvas&&S===this.canvas.contextTop,N=this.calcTransformMatrix(!O);S.transform(N[0],N[1],N[2],N[3],N[4],N[5])},toObject:function(S){var O=a.Object.NUM_FRACTION_DIGITS,N={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:f(this.left,O),top:f(this.top,O),width:f(this.width,O),height:f(this.height,O),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:f(this.strokeWidth,O),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:f(this.strokeMiterLimit,O),scaleX:f(this.scaleX,O),scaleY:f(this.scaleY,O),angle:f(this.angle,O),flipX:this.flipX,flipY:this.flipY,opacity:f(this.opacity,O),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:f(this.skewX,O),skewY:f(this.skewY,O)};return this.clipPath&&!this.clipPath.excludeFromExport&&(N.clipPath=this.clipPath.toObject(S),N.clipPath.inverted=this.clipPath.inverted,N.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,N,S),this.includeDefaultValues||(N=this._removeDefaultValues(N)),N},toDatalessObject:function(S){return this.toObject(S)},_removeDefaultValues:function(S){var O=a.util.getKlass(S.type).prototype,N=O.stateProperties;return N.forEach(function(U){U==="left"||U==="top"||(S[U]===O[U]&&delete S[U],Array.isArray(S[U])&&Array.isArray(O[U])&&S[U].length===0&&O[U].length===0&&delete S[U])}),S},toString:function(){return"#<fabric."+g(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var S=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(S.scaleX),scaleY:Math.abs(S.scaleY)}},getTotalObjectScaling:function(){var S=this.getObjectScaling(),O=S.scaleX,N=S.scaleY;if(this.canvas){var U=this.canvas.getZoom(),W=this.canvas.getRetinaScaling();O*=U*W,N*=U*W}return{scaleX:O,scaleY:N}},getObjectOpacity:function(){var S=this.opacity;return this.group&&(S*=this.group.getObjectOpacity()),S},_set:function(S,O){var N=S==="scaleX"||S==="scaleY",U=this[S]!==O,W=!1;return N&&(O=this._constrainScale(O)),S==="scaleX"&&O<0?(this.flipX=!this.flipX,O*=-1):S==="scaleY"&&O<0?(this.flipY=!this.flipY,O*=-1):S==="shadow"&&O&&!(O instanceof a.Shadow)?O=new a.Shadow(O):S==="dirty"&&this.group&&this.group.set("dirty",O),this[S]=O,U&&(W=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(S)>-1?(this.dirty=!0,W&&this.group.set("dirty",!0)):W&&this.stateProperties.indexOf(S)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(S){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(S.save(),this._setupCompositeOperation(S),this.drawSelectionBackground(S),this.transform(S),this._setOpacity(S),this._setShadow(S,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(S)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(S),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),S.restore())},renderCache:function(S){S=S||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,S.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(S,O){if(S.save(),O.inverted?S.globalCompositeOperation="destination-out":S.globalCompositeOperation="destination-in",O.absolutePositioned){var N=a.util.invertTransform(this.calcTransformMatrix());S.transform(N[0],N[1],N[2],N[3],N[4],N[5])}O.transform(S),S.scale(1/O.zoomX,1/O.zoomY),S.drawImage(O._cacheCanvas,-O.cacheTranslationX,-O.cacheTranslationY),S.restore()},drawObject:function(S,O){var N=this.fill,U=this.stroke;O?(this.fill="black",this.stroke="",this._setClippingProperties(S)):this._renderBackground(S),this._render(S),this._drawClipPath(S,this.clipPath),this.fill=N,this.stroke=U},_drawClipPath:function(S,O){O&&(O.canvas=this.canvas,O.shouldCache(),O._transformDone=!0,O.renderCache({forClipping:!0}),this.drawClipPathOnCache(S,O))},drawCacheOnCanvas:function(S){S.scale(1/this.zoomX,1/this.zoomY),S.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(S){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!S&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!S){var O=this.cacheWidth/this.zoomX,N=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-O/2,-N/2,O,N)}return!0}return!1},_renderBackground:function(S){if(this.backgroundColor){var O=this._getNonTransformedDimensions();S.fillStyle=this.backgroundColor,S.fillRect(-O.x/2,-O.y/2,O.x,O.y),this._removeShadow(S)}},_setOpacity:function(S){this.group&&!this.group._transformDone?S.globalAlpha=this.getObjectOpacity():S.globalAlpha*=this.opacity},_setStrokeStyles:function(S,O){var N=O.stroke;N&&(S.lineWidth=O.strokeWidth,S.lineCap=O.strokeLineCap,S.lineDashOffset=O.strokeDashOffset,S.lineJoin=O.strokeLineJoin,S.miterLimit=O.strokeMiterLimit,N.toLive?N.gradientUnits==="percentage"||N.gradientTransform||N.patternTransform?this._applyPatternForTransformedGradient(S,N):(S.strokeStyle=N.toLive(S,this),this._applyPatternGradientTransform(S,N)):S.strokeStyle=O.stroke)},_setFillStyles:function(S,O){var N=O.fill;N&&(N.toLive?(S.fillStyle=N.toLive(S,this),this._applyPatternGradientTransform(S,O.fill)):S.fillStyle=N)},_setClippingProperties:function(S){S.globalAlpha=1,S.strokeStyle="transparent",S.fillStyle="#000000"},_setLineDash:function(S,O){!O||O.length===0||(1&O.length&&O.push.apply(O,O),S.setLineDash(O))},_renderControls:function(S,O){var N=this.getViewportTransform(),U=this.calcTransformMatrix(),W,q,J;O=O||{},q=typeof O.hasBorders<"u"?O.hasBorders:this.hasBorders,J=typeof O.hasControls<"u"?O.hasControls:this.hasControls,U=a.util.multiplyTransformMatrices(N,U),W=a.util.qrDecompose(U),S.save(),S.translate(W.translateX,W.translateY),S.lineWidth=1*this.borderScaleFactor,this.group||(S.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(W.angle-=180),S.rotate(m(this.group?W.angle:this.angle)),O.forActiveSelection||this.group?q&&this.drawBordersInGroup(S,W,O):q&&this.drawBorders(S,O),J&&this.drawControls(S,O),S.restore()},_setShadow:function(S){if(this.shadow){var O=this.shadow,N=this.canvas,U,W=N&&N.viewportTransform[0]||1,q=N&&N.viewportTransform[3]||1;O.nonScaling?U={scaleX:1,scaleY:1}:U=this.getObjectScaling(),N&&N._isRetinaScaling()&&(W*=a.devicePixelRatio,q*=a.devicePixelRatio),S.shadowColor=O.color,S.shadowBlur=O.blur*a.browserShadowBlurConstant*(W+q)*(U.scaleX+U.scaleY)/4,S.shadowOffsetX=O.offsetX*W*U.scaleX,S.shadowOffsetY=O.offsetY*q*U.scaleY}},_removeShadow:function(S){this.shadow&&(S.shadowColor="",S.shadowBlur=S.shadowOffsetX=S.shadowOffsetY=0)},_applyPatternGradientTransform:function(S,O){if(!O||!O.toLive)return{offsetX:0,offsetY:0};var N=O.gradientTransform||O.patternTransform,U=-this.width/2+O.offsetX||0,W=-this.height/2+O.offsetY||0;return O.gradientUnits==="percentage"?S.transform(this.width,0,0,this.height,U,W):S.transform(1,0,0,1,U,W),N&&S.transform(N[0],N[1],N[2],N[3],N[4],N[5]),{offsetX:U,offsetY:W}},_renderPaintInOrder:function(S){this.paintFirst==="stroke"?(this._renderStroke(S),this._renderFill(S)):(this._renderFill(S),this._renderStroke(S))},_render:function(){},_renderFill:function(S){this.fill&&(S.save(),this._setFillStyles(S,this),this.fillRule==="evenodd"?S.fill("evenodd"):S.fill(),S.restore())},_renderStroke:function(S){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(S),S.save(),this.strokeUniform&&this.group){var O=this.getObjectScaling();S.scale(1/O.scaleX,1/O.scaleY)}else this.strokeUniform&&S.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(S,this.strokeDashArray),this._setStrokeStyles(S,this),S.stroke(),S.restore()}},_applyPatternForTransformedGradient:function(S,O){var N=this._limitCacheSize(this._getCacheCanvasDimensions()),U=a.util.createCanvasElement(),W,q=this.canvas.getRetinaScaling(),J=N.x/this.scaleX/q,ne=N.y/this.scaleY/q;U.width=Math.ceil(J),U.height=Math.ceil(ne),W=U.getContext("2d"),W.beginPath(),W.moveTo(0,0),W.lineTo(J,0),W.lineTo(J,ne),W.lineTo(0,ne),W.closePath(),W.translate(J/2,ne/2),W.scale(N.zoomX/this.scaleX/q,N.zoomY/this.scaleY/q),this._applyPatternGradientTransform(W,O),W.fillStyle=O.toLive(S),W.fill(),S.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),S.scale(q*this.scaleX/N.zoomX,q*this.scaleY/N.zoomY),S.strokeStyle=W.createPattern(U,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var S=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",S.scaleX),this.set("scaleY",S.scaleY),this.angle=S.angle,this.skewX=S.skewX,this.skewY=0}},_removeTransformMatrix:function(S){var O=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),O=a.util.transformPoint(O,this.transformMatrix)),this.transformMatrix=null,S&&(this.scaleX*=S.scaleX,this.scaleY*=S.scaleY,this.cropX=S.cropX,this.cropY=S.cropY,O.x+=S.offsetLeft,O.y+=S.offsetTop,this.width=S.width,this.height=S.height),this.setPositionByOrigin(O,"center","center")},clone:function(S,O){var N=this.toObject(O);this.constructor.fromObject?this.constructor.fromObject(N,S):a.Object._fromObject("Object",N,S)},cloneAsImage:function(S,O){var N=this.toCanvasElement(O);return S&&S(new a.Image(N)),this},toCanvasElement:function(S){S||(S={});var O=a.util,N=O.saveObjectTransform(this),U=this.group,W=this.shadow,q=Math.abs,J=(S.multiplier||1)*(S.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,S.withoutTransform&&O.resetObjectTransform(this),S.withoutShadow&&(this.shadow=null);var ne=a.util.createCanvasElement(),ve=this.getBoundingRect(!0,!0),Se=this.shadow,Be,Ue={x:0,y:0},qe,mt,ut;Se&&(qe=Se.blur,Se.nonScaling?Be={scaleX:1,scaleY:1}:Be=this.getObjectScaling(),Ue.x=2*Math.round(q(Se.offsetX)+qe)*q(Be.scaleX),Ue.y=2*Math.round(q(Se.offsetY)+qe)*q(Be.scaleY)),mt=ve.width+Ue.x,ut=ve.height+Ue.y,ne.width=Math.ceil(mt),ne.height=Math.ceil(ut);var ge=new a.StaticCanvas(ne,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});S.format==="jpeg"&&(ge.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(ge.width/2,ge.height/2),"center","center");var me=this.canvas;ge.add(this);var Ie=ge.toCanvasElement(J||1,S);return this.shadow=W,this.set("canvas",me),U&&(this.group=U),this.set(N).setCoords(),ge._objects=[],ge.dispose(),ge=null,Ie},toDataURL:function(S){return S||(S={}),a.util.toDataURL(this.toCanvasElement(S),S.format||"png",S.quality||1)},isType:function(S){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===S},complexity:function(){return 1},toJSON:function(S){return this.toObject(S)},rotate:function(S){var O=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return O&&this._setOriginToCenter(),this.set("angle",S),O&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(S,O){O=O||this.canvas.getPointer(S);var N=new a.Point(O.x,O.y),U=this._getLeftTopCoords();return this.angle&&(N=a.util.rotatePoint(N,U,m(-this.angle))),{x:N.x-U.x,y:N.y-U.y}},_setupCompositeOperation:function(S){this.globalCompositeOperation&&(S.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){a.runningAnimations&&a.runningAnimations.cancelByTarget(this)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),u(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object.ENLIVEN_PROPS=["clipPath"],a.Object._fromObject=function(S,O,N,U){var W=a[S];O=v(O,!0),a.util.enlivenPatterns([O.fill,O.stroke],function(q){typeof q[0]<"u"&&(O.fill=q[0]),typeof q[1]<"u"&&(O.stroke=q[1]),a.util.enlivenObjectEnlivables(O,O,function(){var J=U?new W(O[U],O):new W(O);N&&N(J)})})},a.Object.__uid=0)})(e),(function(){var d=t.util.degreesToRadians,a={left:-.5,center:0,right:.5},u={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(v,f,g,m,C){var D=v.x,S=v.y,O,N,U;return typeof f=="string"?f=a[f]:f-=.5,typeof m=="string"?m=a[m]:m-=.5,O=m-f,typeof g=="string"?g=u[g]:g-=.5,typeof C=="string"?C=u[C]:C-=.5,N=C-g,(O||N)&&(U=this._getTransformedDimensions(),D=v.x+O*U.x,S=v.y+N*U.y),new t.Point(D,S)},translateToCenterPoint:function(v,f,g){var m=this.translateToGivenOrigin(v,f,g,"center","center");return this.angle?t.util.rotatePoint(m,v,d(this.angle)):m},translateToOriginPoint:function(v,f,g){var m=this.translateToGivenOrigin(v,"center","center",f,g);return this.angle?t.util.rotatePoint(m,v,d(this.angle)):m},getCenterPoint:function(){var v=new t.Point(this.left,this.top);return this.translateToCenterPoint(v,this.originX,this.originY)},getPointByOrigin:function(v,f){var g=this.getCenterPoint();return this.translateToOriginPoint(g,v,f)},toLocalPoint:function(v,f,g){var m=this.getCenterPoint(),C,D;return typeof f<"u"&&typeof g<"u"?C=this.translateToGivenOrigin(m,"center","center",f,g):C=new t.Point(this.left,this.top),D=new t.Point(v.x,v.y),this.angle&&(D=t.util.rotatePoint(D,m,-d(this.angle))),D.subtractEquals(C)},setPositionByOrigin:function(v,f,g){var m=this.translateToCenterPoint(v,f,g),C=this.translateToOriginPoint(m,this.originX,this.originY);this.set("left",C.x),this.set("top",C.y)},adjustPosition:function(v){var f=d(this.angle),g=this.getScaledWidth(),m=t.util.cos(f)*g,C=t.util.sin(f)*g,D,S;typeof this.originX=="string"?D=a[this.originX]:D=this.originX-.5,typeof v=="string"?S=a[v]:S=v-.5,this.left+=m*(S-D),this.top+=C*(S-D),this.setCoords(),this.originX=v},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var v=this.getCenterPoint();this.originX="center",this.originY="center",this.left=v.x,this.top=v.y},_resetOrigin:function(){var v=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=v.x,this.top=v.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})})(),(function(){function d(g){return[new t.Point(g.tl.x,g.tl.y),new t.Point(g.tr.x,g.tr.y),new t.Point(g.br.x,g.br.y),new t.Point(g.bl.x,g.bl.y)]}var a=t.util,u=a.degreesToRadians,v=a.multiplyTransformMatrices,f=a.transformPoint;a.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(g,m){return m?g?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),g?this.aCoords:this.lineCoords)},getCoords:function(g,m){return d(this._getCoords(g,m))},intersectsWithRect:function(g,m,C,D){var S=this.getCoords(C,D),O=t.Intersection.intersectPolygonRectangle(S,g,m);return O.status==="Intersection"},intersectsWithObject:function(g,m,C){var D=t.Intersection.intersectPolygonPolygon(this.getCoords(m,C),g.getCoords(m,C));return D.status==="Intersection"||g.isContainedWithinObject(this,m,C)||this.isContainedWithinObject(g,m,C)},isContainedWithinObject:function(g,m,C){for(var D=this.getCoords(m,C),S=m?g.aCoords:g.lineCoords,O=0,N=g._getImageLines(S);O<4;O++)if(!g.containsPoint(D[O],N))return!1;return!0},isContainedWithinRect:function(g,m,C,D){var S=this.getBoundingRect(C,D);return S.left>=g.x&&S.left+S.width<=m.x&&S.top>=g.y&&S.top+S.height<=m.y},containsPoint:function(g,O,C,D){var S=this._getCoords(C,D),O=O||this._getImageLines(S),N=this._findCrossPoints(g,O);return N!==0&&N%2===1},isOnScreen:function(g){if(!this.canvas)return!1;var m=this.canvas.vptCoords.tl,C=this.canvas.vptCoords.br,D=this.getCoords(!0,g);return D.some(function(S){return S.x<=C.x&&S.x>=m.x&&S.y<=C.y&&S.y>=m.y})||this.intersectsWithRect(m,C,!0,g)?!0:this._containsCenterOfCanvas(m,C,g)},_containsCenterOfCanvas:function(g,m,C){var D={x:(g.x+m.x)/2,y:(g.y+m.y)/2};return!!this.containsPoint(D,null,!0,C)},isPartiallyOnScreen:function(g){if(!this.canvas)return!1;var m=this.canvas.vptCoords.tl,C=this.canvas.vptCoords.br;if(this.intersectsWithRect(m,C,!0,g))return!0;var D=this.getCoords(!0,g).every(function(S){return(S.x>=C.x||S.x<=m.x)&&(S.y>=C.y||S.y<=m.y)});return D&&this._containsCenterOfCanvas(m,C,g)},_getImageLines:function(g){var m={topline:{o:g.tl,d:g.tr},rightline:{o:g.tr,d:g.br},bottomline:{o:g.br,d:g.bl},leftline:{o:g.bl,d:g.tl}};return m},_findCrossPoints:function(g,m){var C,D,S,O,N,U=0,W;for(var q in m)if(W=m[q],!(W.o.y<g.y&&W.d.y<g.y)&&!(W.o.y>=g.y&&W.d.y>=g.y)&&(W.o.x===W.d.x&&W.o.x>=g.x?N=W.o.x:(C=0,D=(W.d.y-W.o.y)/(W.d.x-W.o.x),S=g.y-C*g.x,O=W.o.y-D*W.o.x,N=-(S-O)/(C-D)),N>=g.x&&(U+=1),U===2))break;return U},getBoundingRect:function(g,m){var C=this.getCoords(g,m);return a.makeBoundingBoxFromPoints(C)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(g){return Math.abs(g)<this.minScaleLimit?g<0?-this.minScaleLimit:this.minScaleLimit:g===0?1e-4:g},scale:function(g){return this._set("scaleX",g),this._set("scaleY",g),this.setCoords()},scaleToWidth:function(g,m){var C=this.getBoundingRect(m).width/this.getScaledWidth();return this.scale(g/this.width/C)},scaleToHeight:function(g,m){var C=this.getBoundingRect(m).height/this.getScaledHeight();return this.scale(g/this.height/C)},calcLineCoords:function(){var g=this.getViewportTransform(),m=this.padding,C=u(this.angle),D=a.cos(C),S=a.sin(C),O=D*m,N=S*m,U=O+N,W=O-N,q=this.calcACoords(),J={tl:f(q.tl,g),tr:f(q.tr,g),bl:f(q.bl,g),br:f(q.br,g)};return m&&(J.tl.x-=W,J.tl.y-=U,J.tr.x+=U,J.tr.y-=W,J.bl.x-=U,J.bl.y+=W,J.br.x+=W,J.br.y+=U),J},calcOCoords:function(){var g=this._calcRotateMatrix(),m=this._calcTranslateMatrix(),C=this.getViewportTransform(),D=v(C,m),S=v(D,g),S=v(S,[1/C[0],0,0,1/C[3],0,0]),O=this._calculateCurrentDimensions(),N={};return this.forEachControl(function(U,W,q){N[W]=U.positionHandler(O,S,q)}),N},calcACoords:function(){var g=this._calcRotateMatrix(),m=this._calcTranslateMatrix(),C=v(m,g),D=this._getTransformedDimensions(),S=D.x/2,O=D.y/2;return{tl:f({x:-S,y:-O},C),tr:f({x:S,y:-O},C),bl:f({x:-S,y:O},C),br:f({x:S,y:O},C)}},setCoords:function(g){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),g?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var g=this.getCenterPoint();return[1,0,0,1,g.x,g.y]},transformMatrixKey:function(g){var m="_",C="";return!g&&this.group&&(C=this.group.transformMatrixKey(g)+m),C+this.top+m+this.left+m+this.scaleX+m+this.scaleY+m+this.skewX+m+this.skewY+m+this.angle+m+this.originX+m+this.originY+m+this.width+m+this.height+m+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(g){var m=this.calcOwnMatrix();if(g||!this.group)return m;var C=this.transformMatrixKey(g),D=this.matrixCache||(this.matrixCache={});return D.key===C?D.value:(this.group&&(m=v(this.group.calcTransformMatrix(!1),m)),D.key=C,D.value=m,m)},calcOwnMatrix:function(){var g=this.transformMatrixKey(!0),m=this.ownMatrixCache||(this.ownMatrixCache={});if(m.key===g)return m.value;var C=this._calcTranslateMatrix(),D={angle:this.angle,translateX:C[4],translateY:C[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return m.key=g,m.value=a.composeMatrix(D),m.value},_getNonTransformedDimensions:function(){var g=this.strokeWidth,m=this.width+g,C=this.height+g;return{x:m,y:C}},_getTransformedDimensions:function(g,m){typeof g>"u"&&(g=this.skewX),typeof m>"u"&&(m=this.skewY);var C,D,S,O=g===0&&m===0;if(this.strokeUniform?(D=this.width,S=this.height):(C=this._getNonTransformedDimensions(),D=C.x,S=C.y),O)return this._finalizeDimensions(D*this.scaleX,S*this.scaleY);var N=a.sizeAfterTransform(D,S,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:g,skewY:m});return this._finalizeDimensions(N.x,N.y)},_finalizeDimensions:function(g,m){return this.strokeUniform?{x:g+this.strokeWidth,y:m+this.strokeWidth}:{x:g,y:m}},_calculateCurrentDimensions:function(){var g=this.getViewportTransform(),m=this._getTransformedDimensions(),C=f(m,g,!0);return C.scalarAdd(2*this.padding)}})})(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(d){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,d):this.canvas&&this.canvas.sendBackwards(this,d),this},bringForward:function(d){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,d):this.canvas&&this.canvas.bringForward(this,d),this},moveTo:function(d){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,d):this.canvas&&this.canvas.moveTo(this,d),this}}),(function(){function d(u,v){if(v){if(v.toLive)return u+": url(#SVGID_"+v.id+"); ";var f=new t.Color(v),g=u+": "+f.toRgb()+"; ",m=f.getAlpha();return m!==1&&(g+=u+"-opacity: "+m.toString()+"; "),g}else return u+": none; "}var a=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(u){var v=this.fillRule?this.fillRule:"nonzero",f=this.strokeWidth?this.strokeWidth:"0",g=this.strokeDashArray?this.strokeDashArray.join(" "):"none",m=this.strokeDashOffset?this.strokeDashOffset:"0",C=this.strokeLineCap?this.strokeLineCap:"butt",D=this.strokeLineJoin?this.strokeLineJoin:"miter",S=this.strokeMiterLimit?this.strokeMiterLimit:"4",O=typeof this.opacity<"u"?this.opacity:"1",N=this.visible?"":" visibility: hidden;",U=u?"":this.getSvgFilter(),W=d("fill",this.fill),q=d("stroke",this.stroke);return[q,"stroke-width: ",f,"; ","stroke-dasharray: ",g,"; ","stroke-linecap: ",C,"; ","stroke-dashoffset: ",m,"; ","stroke-linejoin: ",D,"; ","stroke-miterlimit: ",S,"; ",W,"fill-rule: ",v,"; ","opacity: ",O,";",U,N].join("")},getSvgSpanStyles:function(u,v){var f="; ",m=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+f:"",g=u.strokeWidth?"stroke-width: "+u.strokeWidth+f:"",m=m,C=u.fontSize?"font-size: "+u.fontSize+"px"+f:"",D=u.fontStyle?"font-style: "+u.fontStyle+f:"",S=u.fontWeight?"font-weight: "+u.fontWeight+f:"",O=u.fill?d("fill",u.fill):"",N=u.stroke?d("stroke",u.stroke):"",U=this.getSvgTextDecoration(u),W=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return U&&(U="text-decoration: "+U+f),[N,g,m,C,D,S,U,O,W,v?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(v){return u[v.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,v){var f=u?this.calcTransformMatrix():this.calcOwnMatrix(),g='transform="'+t.util.matrixToSVG(f);return g+(v||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var v=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,v),'" y="',a(-this.height/2,v),'" width="',a(this.width,v),'" height="',a(this.height,v),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,v){v=v||{};var f=v.reviver,g=v.additionalTransform||"",m=[this.getSvgTransform(!0,g),this.getSvgCommons()].join(""),C=u.indexOf("COMMON_PARTS");return u[C]=m,f?f(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,v){v=v||{};var f=v.noStyle,g=v.reviver,m=f?"":'style="'+this.getSvgStyles()+'" ',C=v.withShadow?'style="'+this.getSvgFilter()+'" ':"",D=this.clipPath,S=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",O=D&&D.absolutePositioned,N=this.stroke,U=this.fill,W=this.shadow,q,J=[],ne,ve=u.indexOf("COMMON_PARTS"),Se=v.additionalTransform;return D&&(D.clipPathId="CLIPPATH_"+t.Object.__uid++,ne='<clipPath id="'+D.clipPathId+`" >
`+D.toClipPathSVG(g)+`</clipPath>
`),O&&J.push("<g ",C,this.getSvgCommons(),` >
`),J.push("<g ",this.getSvgTransform(!1),O?"":C+this.getSvgCommons(),` >
`),q=[m,S,f?"":this.addPaintOrder()," ",Se?'transform="'+Se+'" ':""].join(""),u[ve]=q,U&&U.toLive&&J.push(U.toSVG(this)),N&&N.toLive&&J.push(N.toSVG(this)),W&&J.push(W.toSVG(this)),D&&J.push(ne),J.push(u.join("")),J.push(`</g>
`),O&&J.push(`</g>
`),g?g(J.join("")):J.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})})(),(function(){var d=t.util.object.extend,a="stateProperties";function u(f,g,m){var C={},D=!0;m.forEach(function(S){C[S]=f[S]}),d(f[g],C,D)}function v(f,g,m){if(f===g)return!0;if(Array.isArray(f)){if(!Array.isArray(g)||f.length!==g.length)return!1;for(var C=0,D=f.length;C<D;C++)if(!v(f[C],g[C]))return!1;return!0}else if(f&&typeof f=="object"){var S=Object.keys(f),O;if(!g||typeof g!="object"||!m&&S.length!==Object.keys(g).length)return!1;for(var C=0,D=S.length;C<D;C++)if(O=S[C],!(O==="canvas"||O==="group")&&!v(f[O],g[O]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(f){f=f||a;var g="_"+f;return Object.keys(this[g]).length<this[f].length?!0:!v(this[g],this,!0)},saveState:function(f){var g=f&&f.propertySet||a,m="_"+g;return this[m]?(u(this,m,this[g]),f&&f.stateProperties&&u(this,m,f.stateProperties),this):this.setupState(f)},setupState:function(f){f=f||{};var g=f.propertySet||a;return f.propertySet=g,this["_"+g]={},this.saveState(f),this}})})(),(function(){var d=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(a,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var v=a.x,f=a.y,g,m,C=Object.keys(this.oCoords),D=C.length-1,S;for(this.__corner=0;D>=0;D--)if(S=C[D],!!this.isControlVisible(S)&&(m=this._getImageLines(u?this.oCoords[S].touchCorner:this.oCoords[S].corner),g=this._findCrossPoints({x:v,y:f},m),g!==0&&g%2===1))return this.__corner=S,S;return!1},forEachControl:function(a){for(var u in this.controls)a(this.controls[u],u,this)},_setCornerCoords:function(){var a=this.oCoords;for(var u in a){var v=this.controls[u];a[u].corner=v.calcCornerCoords(this.angle,this.cornerSize,a[u].x,a[u].y,!1),a[u].touchCorner=v.calcCornerCoords(this.angle,this.touchCornerSize,a[u].x,a[u].y,!0)}},drawSelectionBackground:function(a){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;a.save();var u=this.getCenterPoint(),v=this._calculateCurrentDimensions(),f=this.canvas.viewportTransform;return a.translate(u.x,u.y),a.scale(1/f[0],1/f[3]),a.rotate(d(this.angle)),a.fillStyle=this.selectionBackgroundColor,a.fillRect(-v.x/2,-v.y/2,v.x,v.y),a.restore(),this},drawBorders:function(a,u){u=u||{};var v=this._calculateCurrentDimensions(),f=this.borderScaleFactor,g=v.x+f,m=v.y+f,C=typeof u.hasControls<"u"?u.hasControls:this.hasControls,D=!1;return a.save(),a.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(a,u.borderDashArray||this.borderDashArray),a.strokeRect(-g/2,-m/2,g,m),C&&(a.beginPath(),this.forEachControl(function(S,O,N){S.withConnection&&S.getVisibility(N,O)&&(D=!0,a.moveTo(S.x*g,S.y*m),a.lineTo(S.x*g+S.offsetX,S.y*m+S.offsetY))}),D&&a.stroke()),a.restore(),this},drawBordersInGroup:function(a,u,v){v=v||{};var f=t.util.sizeAfterTransform(this.width,this.height,u),g=this.strokeWidth,m=this.strokeUniform,C=this.borderScaleFactor,D=f.x+g*(m?this.canvas.getZoom():u.scaleX)+C,S=f.y+g*(m?this.canvas.getZoom():u.scaleY)+C;return a.save(),this._setLineDash(a,v.borderDashArray||this.borderDashArray),a.strokeStyle=v.borderColor||this.borderColor,a.strokeRect(-D/2,-S/2,D,S),a.restore(),this},drawControls:function(a,u){u=u||{},a.save();var v=1,f,g;return this.canvas&&(v=this.canvas.getRetinaScaling()),a.setTransform(v,0,0,v,0,0),a.strokeStyle=a.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(a.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(a,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(f=this.group.calcTransformMatrix()),this.forEachControl(function(m,C,D){g=D.oCoords[C],m.getVisibility(D,C)&&(f&&(g=t.util.transformPoint(g,f)),m.render(a,g.x,g.y,u,D))}),a.restore(),this},isControlVisible:function(a){return this.controls[a]&&this.controls[a].getVisibility(this,a)},setControlVisible:function(a,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[a]=u,this},setControlsVisibility:function(a){a||(a={});for(var u in a)this.setControlVisible(u,a[u]);return this},onDeselect:function(){},onSelect:function(){}})})(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(d,a){a=a||{};var u=function(){},v=a.onComplete||u,f=a.onChange||u,g=this;return t.util.animate({target:this,startValue:d.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(m){d.set("left",m),g.requestRenderAll(),f()},onComplete:function(){d.setCoords(),v()}})},fxCenterObjectV:function(d,a){a=a||{};var u=function(){},v=a.onComplete||u,f=a.onChange||u,g=this;return t.util.animate({target:this,startValue:d.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(m){d.set("top",m),g.requestRenderAll(),f()},onComplete:function(){d.setCoords(),v()}})},fxRemove:function(d,a){a=a||{};var u=function(){},v=a.onComplete||u,f=a.onChange||u,g=this;return t.util.animate({target:this,startValue:d.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(m){d.set("opacity",m),g.requestRenderAll(),f()},onComplete:function(){g.remove(d),v()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var d=[],a,u,v=[];for(a in arguments[0])d.push(a);for(var f=0,g=d.length;f<g;f++)a=d[f],u=f!==g-1,v.push(this._animate(a,arguments[0][a],arguments[1],u));return v}else return this._animate.apply(this,arguments)},_animate:function(d,a,u,v){var f=this,g;a=a.toString(),u?u=t.util.object.clone(u):u={},~d.indexOf(".")&&(g=d.split("."));var m=f.colorProperties.indexOf(d)>-1||g&&f.colorProperties.indexOf(g[1])>-1,C=g?this.get(g[0])[g[1]]:this.get(d);"from"in u||(u.from=C),m||(~a.indexOf("=")?a=C+parseFloat(a.replace("=","")):a=parseFloat(a));var D={target:this,startValue:u.from,endValue:a,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(S,O,N){return u.abort.call(f,S,O,N)},onChange:function(S,O,N){g?f[g[0]][g[1]]=S:f.set(d,S),!v&&u.onChange&&u.onChange(S,O,N)},onComplete:function(S,O,N){v||(f.setCoords(),u.onComplete&&u.onComplete(S,O,N))}};return m?t.util.animateColor(D.startValue,D.endValue,D.duration,D):t.util.animate(D)}}),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend,v=a.util.object.clone,f={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(m,C){m||(m=[0,0,0,0]),this.callSuper("initialize",C),this.set("x1",m[0]),this.set("y1",m[1]),this.set("x2",m[2]),this.set("y2",m[3]),this._setWidthHeight(C)},_setWidthHeight:function(m){m||(m={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in m?m.left:this._getLeftToOriginX(),this.top="top"in m?m.top:this._getTopToOriginY()},_set:function(m,C){return this.callSuper("_set",m,C),typeof f[m]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:g({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:g({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(m){m.beginPath();var C=this.calcLinePoints();m.moveTo(C.x1,C.y1),m.lineTo(C.x2,C.y2),m.lineWidth=this.strokeWidth;var D=m.strokeStyle;m.strokeStyle=this.stroke||m.fillStyle,this.stroke&&this._renderStroke(m),m.strokeStyle=D},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(m){return u(this.callSuper("toObject",m),this.calcLinePoints())},_getNonTransformedDimensions:function(){var m=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(m.y-=this.strokeWidth),this.height===0&&(m.x-=this.strokeWidth)),m},calcLinePoints:function(){var m=this.x1<=this.x2?-1:1,C=this.y1<=this.y2?-1:1,D=m*this.width*.5,S=C*this.height*.5,O=m*this.width*-.5,N=C*this.height*-.5;return{x1:D,x2:O,y1:S,y2:N}},_toSVG:function(){var m=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',m.x1,'" y1="',m.y1,'" x2="',m.x2,'" y2="',m.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(m,C,D){D=D||{};var S=a.parseAttributes(m,a.Line.ATTRIBUTE_NAMES),O=[S.x1||0,S.y1||0,S.x2||0,S.y2||0];C(new a.Line(O,u(S,D)))},a.Line.fromObject=function(m,C){function D(O){delete O.points,C&&C(O)}var S=v(m,!0);S.points=[m.x1,m.y1,m.x2,m.y2],a.Object._fromObject("Line",S,D,"points")};function g(m,C){var D=m.origin,S=m.axis1,O=m.axis2,N=m.dimension,U=C.nearest,W=C.center,q=C.farthest;return function(){switch(this.get(D)){case U:return Math.min(this.get(S),this.get(O));case W:return Math.min(this.get(S),this.get(O))+.5*this.get(N);case q:return Math.max(this.get(S),this.get(O))}}}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.degreesToRadians;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(f,g){return this.callSuper("_set",f,g),f==="radius"&&this.setRadius(g),this},toObject:function(f){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(f))},_toSVG:function(){var f,g=0,m=0,C=(this.endAngle-this.startAngle)%360;if(C===0)f=["<circle ","COMMON_PARTS",'cx="'+g+'" cy="'+m+'" ','r="',this.radius,`" />
`];else{var D=u(this.startAngle),S=u(this.endAngle),O=this.radius,N=a.util.cos(D)*O,U=a.util.sin(D)*O,W=a.util.cos(S)*O,q=a.util.sin(S)*O,J=C>180?"1":"0";f=['<path d="M '+N+" "+U," A "+O+" "+O," 0 ",+J+" 1"," "+W+" "+q,'" ',"COMMON_PARTS",` />
`]}return f},_render:function(f){f.beginPath(),f.arc(0,0,this.radius,u(this.startAngle),u(this.endAngle),!1),this._renderPaintInOrder(f)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(f){return this.radius=f,this.set("width",f*2).set("height",f*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(f,g){var m=a.parseAttributes(f,a.Circle.ATTRIBUTE_NAMES);if(!v(m))throw new Error("value of `r` attribute is required and can not be negative");m.left=(m.left||0)-m.radius,m.top=(m.top||0)-m.radius,g(new a.Circle(m))};function v(f){return"radius"in f&&f.radius>=0}a.Circle.fromObject=function(f,g){a.Object._fromObject("Circle",f,g)}})(e),(function(d){var a=d.fabric||(d.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(u){var v=this.width/2,f=this.height/2;u.beginPath(),u.moveTo(-v,f),u.lineTo(0,-f),u.lineTo(v,f),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,v=this.height/2,f=[-u+" "+v,"0 "+-v,u+" "+v].join(",");return["<polygon ","COMMON_PARTS",'points="',f,'" />']}}),a.Triangle.fromObject=function(u,v){return a.Object._fromObject("Triangle",u,v)}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(v){this.callSuper("initialize",v),this.set("rx",v&&v.rx||0),this.set("ry",v&&v.ry||0)},_set:function(v,f){switch(this.callSuper("_set",v,f),v){case"rx":this.rx=f,this.set("width",f*2);break;case"ry":this.ry=f,this.set("height",f*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(v){return this.callSuper("toObject",["rx","ry"].concat(v))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(v){v.beginPath(),v.save(),v.transform(1,0,0,this.ry/this.rx,0,0),v.arc(0,0,this.rx,0,u,!1),v.restore(),this._renderPaintInOrder(v)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(v,f){var g=a.parseAttributes(v,a.Ellipse.ATTRIBUTE_NAMES);g.left=(g.left||0)-g.rx,g.top=(g.top||0)-g.ry,f(new a.Ellipse(g))},a.Ellipse.fromObject=function(v,f){a.Object._fromObject("Ellipse",v,f)}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(v){this.callSuper("initialize",v),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(v){var f=this.rx?Math.min(this.rx,this.width/2):0,g=this.ry?Math.min(this.ry,this.height/2):0,m=this.width,C=this.height,D=-this.width/2,S=-this.height/2,O=f!==0||g!==0,N=1-.5522847498;v.beginPath(),v.moveTo(D+f,S),v.lineTo(D+m-f,S),O&&v.bezierCurveTo(D+m-N*f,S,D+m,S+N*g,D+m,S+g),v.lineTo(D+m,S+C-g),O&&v.bezierCurveTo(D+m,S+C-N*g,D+m-N*f,S+C,D+m-f,S+C),v.lineTo(D+f,S+C),O&&v.bezierCurveTo(D+N*f,S+C,D,S+C-N*g,D,S+C-g),v.lineTo(D,S+g),O&&v.bezierCurveTo(D,S+N*g,D+N*f,S,D+f,S),v.closePath(),this._renderPaintInOrder(v)},toObject:function(v){return this.callSuper("toObject",["rx","ry"].concat(v))},_toSVG:function(){var v=-this.width/2,f=-this.height/2;return["<rect ","COMMON_PARTS",'x="',v,'" y="',f,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(v,f,g){if(!v)return f(null);g=g||{};var m=a.parseAttributes(v,a.Rect.ATTRIBUTE_NAMES);m.left=m.left||0,m.top=m.top||0,m.height=m.height||0,m.width=m.width||0;var C=new a.Rect(u(g?a.util.object.clone(g):{},m));C.visible=C.visible&&C.width>0&&C.height>0,f(C)},a.Rect.fromObject=function(v,f){return a.Object._fromObject("Rect",v,f)}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend,v=a.util.array.min,f=a.util.array.max,g=a.util.toFixed,m=a.util.projectStrokeOnPoints;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(C,D){D=D||{},this.points=C||[],this.callSuper("initialize",D),this._setPositionDimensions(D)},_projectStrokeOnPoints:function(){return m(this.points,this,!0)},_setPositionDimensions:function(C){var D=this._calcDimensions(C),S,O=this.exactBoundingBox?this.strokeWidth:0;this.width=D.width-O,this.height=D.height-O,C.fromSVG||(S=this.translateToGivenOrigin({x:D.left-this.strokeWidth/2+O/2,y:D.top-this.strokeWidth/2+O/2},"left","top",this.originX,this.originY)),typeof C.left>"u"&&(this.left=C.fromSVG?D.left:S.x),typeof C.top>"u"&&(this.top=C.fromSVG?D.top:S.y),this.pathOffset={x:D.left+this.width/2+O/2,y:D.top+this.height/2+O/2}},_calcDimensions:function(){var C=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,D=v(C,"x")||0,S=v(C,"y")||0,O=f(C,"x")||0,N=f(C,"y")||0,U=O-D,W=N-S;return{left:D,top:S,width:U,height:W}},toObject:function(C){return u(this.callSuper("toObject",C),{points:this.points.concat()})},_toSVG:function(){for(var C=[],D=this.pathOffset.x,S=this.pathOffset.y,O=a.Object.NUM_FRACTION_DIGITS,N=0,U=this.points.length;N<U;N++)C.push(g(this.points[N].x-D,O),",",g(this.points[N].y-S,O)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',C.join(""),`" />
`]},commonRender:function(C){var D,S=this.points.length,O=this.pathOffset.x,N=this.pathOffset.y;if(!S||isNaN(this.points[S-1].y))return!1;C.beginPath(),C.moveTo(this.points[0].x-O,this.points[0].y-N);for(var U=0;U<S;U++)D=this.points[U],C.lineTo(D.x-O,D.y-N);return!0},_render:function(C){this.commonRender(C)&&this._renderPaintInOrder(C)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(C){return function(D,S,O){if(!D)return S(null);O||(O={});var N=a.parsePointsAttribute(D.getAttribute("points")),U=a.parseAttributes(D,a[C].ATTRIBUTE_NAMES);U.fromSVG=!0,S(new a[C](N,u(U,O)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(C,D){return a.Object._fromObject("Polyline",C,D,"points")}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.projectStrokeOnPoints;if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return u(this.points,this)},_render:function(v){this.commonRender(v)&&(v.closePath(),this._renderPaintInOrder(v))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(v,f){a.Object._fromObject("Polygon",v,f,"points")}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.array.min,v=a.util.array.max,f=a.util.object.extend,g=a.util.object.clone,m=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(C,D){D=g(D||{}),delete D.path,this.callSuper("initialize",D),this._setPath(C||[],D)},_setPath:function(C,D){this.path=a.util.makePathSimpler(Array.isArray(C)?C:a.util.parsePath(C)),a.Polyline.prototype._setPositionDimensions.call(this,D||{})},_renderPathCommands:function(C){var D,S=0,O=0,N=0,U=0,W=0,q=0,J=-this.pathOffset.x,ne=-this.pathOffset.y;C.beginPath();for(var ve=0,Se=this.path.length;ve<Se;++ve)switch(D=this.path[ve],D[0]){case"L":N=D[1],U=D[2],C.lineTo(N+J,U+ne);break;case"M":N=D[1],U=D[2],S=N,O=U,C.moveTo(N+J,U+ne);break;case"C":N=D[5],U=D[6],W=D[3],q=D[4],C.bezierCurveTo(D[1]+J,D[2]+ne,W+J,q+ne,N+J,U+ne);break;case"Q":C.quadraticCurveTo(D[1]+J,D[2]+ne,D[3]+J,D[4]+ne),N=D[3],U=D[4],W=D[1],q=D[2];break;case"z":case"Z":N=S,U=O,C.closePath();break}},_render:function(C){this._renderPathCommands(C),this._renderPaintInOrder(C)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(C){return f(this.callSuper("toObject",C),{path:this.path.map(function(D){return D.slice()})})},toDatalessObject:function(C){var D=this.toObject(["sourcePath"].concat(C));return D.sourcePath&&delete D.path,D},_toSVG:function(){var C=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',C,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var C=a.Object.NUM_FRACTION_DIGITS;return" translate("+m(-this.pathOffset.x,C)+", "+m(-this.pathOffset.y,C)+")"},toClipPathSVG:function(C){var D=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:C,additionalTransform:D})},toSVG:function(C){var D=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:C,additionalTransform:D})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var C=[],D=[],S,O=0,N=0,U=0,W=0,q,J=0,ne=this.path.length;J<ne;++J){switch(S=this.path[J],S[0]){case"L":U=S[1],W=S[2],q=[];break;case"M":U=S[1],W=S[2],O=U,N=W,q=[];break;case"C":q=a.util.getBoundsOfCurve(U,W,S[1],S[2],S[3],S[4],S[5],S[6]),U=S[5],W=S[6];break;case"Q":q=a.util.getBoundsOfCurve(U,W,S[1],S[2],S[1],S[2],S[3],S[4]),U=S[3],W=S[4];break;case"z":case"Z":U=O,W=N;break}q.forEach(function(ut){C.push(ut.x),D.push(ut.y)}),C.push(U),D.push(W)}var ve=u(C)||0,Se=u(D)||0,Be=v(C)||0,Ue=v(D)||0,qe=Be-ve,mt=Ue-Se;return{left:ve,top:Se,width:qe,height:mt}}}),a.Path.fromObject=function(C,D){if(typeof C.sourcePath=="string"){var S=C.sourcePath;a.loadSVGFromURL(S,function(O){var N=O[0];N.setOptions(C),C.clipPath?a.util.enlivenObjects([C.clipPath],function(U){N.clipPath=U[0],D&&D(N)}):D&&D(N)})}else a.Object._fromObject("Path",C,D,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(C,D,S){var O=a.parseAttributes(C,a.Path.ATTRIBUTE_NAMES);O.fromSVG=!0,D(new a.Path(O.d,f(O,S)))}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.array.min,v=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(f,g,m){g=g||{},this._objects=[],m&&this.callSuper("initialize",g),this._objects=f||[];for(var C=this._objects.length;C--;)this._objects[C].group=this;if(m)this._updateObjectsACoords();else{var D=g&&g.centerPoint;g.originX!==void 0&&(this.originX=g.originX),g.originY!==void 0&&(this.originY=g.originY),D||this._calcBounds(),this._updateObjectsCoords(D),delete g.centerPoint,this.callSuper("initialize",g)}this.setCoords()},_updateObjectsACoords:function(){for(var f=!0,g=this._objects.length;g--;)this._objects[g].setCoords(f)},_updateObjectsCoords:function(g){for(var g=g||this.getCenterPoint(),m=this._objects.length;m--;)this._updateObjectCoords(this._objects[m],g)},_updateObjectCoords:function(f,g){var m=f.left,C=f.top,D=!0;f.set({left:m-g.x,top:C-g.y}),f.group=this,f.setCoords(D)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(f){var g=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),f&&(g&&a.util.removeTransformFromObject(f,this.group.calcTransformMatrix()),this._objects.push(f),f.group=this,f._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,g?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(f){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(f),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(f){this.dirty=!0,f.group=this,f._set("canvas",this.canvas)},_onObjectRemoved:function(f){this.dirty=!0,delete f.group},_set:function(f,g){var m=this._objects.length;if(this.useSetOnGroup)for(;m--;)this._objects[m].setOnGroup(f,g);if(f==="canvas")for(;m--;)this._objects[m]._set(f,g);a.Object.prototype._set.call(this,f,g)},toObject:function(f){var g=this.includeDefaultValues,m=this._objects.filter(function(D){return!D.excludeFromExport}).map(function(D){var S=D.includeDefaultValues;D.includeDefaultValues=g;var O=D.toObject(f);return D.includeDefaultValues=S,O}),C=a.Object.prototype.toObject.call(this,f);return C.objects=m,C},toDatalessObject:function(f){var g,m=this.sourcePath;if(m)g=m;else{var C=this.includeDefaultValues;g=this._objects.map(function(S){var O=S.includeDefaultValues;S.includeDefaultValues=C;var N=S.toDatalessObject(f);return S.includeDefaultValues=O,N})}var D=a.Object.prototype.toDatalessObject.call(this,f);return D.objects=g,D},render:function(f){this._transformDone=!0,this.callSuper("render",f),this._transformDone=!1},shouldCache:function(){var f=a.Object.prototype.shouldCache.call(this);if(f){for(var g=0,m=this._objects.length;g<m;g++)if(this._objects[g].willDrawShadow())return this.ownCaching=!1,!1}return f},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var f=0,g=this._objects.length;f<g;f++)if(this._objects[f].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(f){for(var g=0,m=this._objects.length;g<m;g++)this._objects[g].render(f);this._drawClipPath(f,this.clipPath)},isCacheDirty:function(f){if(this.callSuper("isCacheDirty",f))return!0;if(!this.statefullCache)return!1;for(var g=0,m=this._objects.length;g<m;g++)if(this._objects[g].isCacheDirty(!0)){if(this._cacheCanvas){var C=this.cacheWidth/this.zoomX,D=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-C/2,-D/2,C,D)}return!0}return!1},_restoreObjectsState:function(){var f=this.calcOwnMatrix();return this._objects.forEach(function(g){a.util.addTransformToObject(g,f),delete g.group,g.setCoords()}),this},destroy:function(){return this._objects.forEach(function(f){f.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var f=this._objects,g=this.canvas;this._objects=[];var m=this.toObject();delete m.objects;var C=new a.ActiveSelection([]);return C.set(m),C.type="activeSelection",g.remove(this),f.forEach(function(D){D.group=C,D.dirty=!0,g.add(D)}),C.canvas=g,C._objects=f,g._activeObject=C,C.setCoords(),C}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var f=!0;return this.forEachObject(function(g){g.setCoords(f)}),this},_calcBounds:function(f){for(var g=[],m=[],C,D,S,O=["tr","br","bl","tl"],N=0,U=this._objects.length,W,q=O.length;N<U;++N){for(C=this._objects[N],S=C.calcACoords(),W=0;W<q;W++)D=O[W],g.push(S[D].x),m.push(S[D].y);C.aCoords=S}this._getBounds(g,m,f)},_getBounds:function(f,g,m){var C=new a.Point(u(f),u(g)),D=new a.Point(v(f),v(g)),S=C.y||0,O=C.x||0,N=D.x-C.x||0,U=D.y-C.y||0;this.width=N,this.height=U,m||this.setPositionByOrigin({x:O,y:S},"left","top")},_toSVG:function(f){for(var g=["<g ","COMMON_PARTS",` >
`],m=0,C=this._objects.length;m<C;m++)g.push("		",this._objects[m].toSVG(f));return g.push(`</g>
`),g},getSvgStyles:function(){var f=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",g=this.visible?"":" visibility: hidden;";return[f,this.getSvgFilter(),g].join("")},toClipPathSVG:function(f){for(var g=[],m=0,C=this._objects.length;m<C;m++)g.push("	",this._objects[m].toClipPathSVG(f));return this._createBaseClipPathSVGMarkup(g,{reviver:f})}}),a.Group.fromObject=function(f,g){var m=f.objects,C=a.util.object.clone(f,!0);if(delete C.objects,typeof m=="string"){a.loadSVGFromURL(m,function(D){var S=a.util.groupSVGElements(D,f,m),O=C.clipPath;delete C.clipPath,S.set(C),O?a.util.enlivenObjects([O],function(N){S.clipPath=N[0],g&&g(S)}):g&&g(S)});return}a.util.enlivenObjects(m,function(D){a.util.enlivenObjectEnlivables(f,C,function(){g&&g(new a.Group(D,C,!0))})})})})(e),(function(d){var a=d.fabric||(d.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(u,v){v=v||{},this._objects=u||[];for(var f=this._objects.length;f--;)this._objects[f].group=this;v.originX&&(this.originX=v.originX),v.originY&&(this.originY=v.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,v),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var v=a.Object.prototype.toObject.call(this),f=new a.Group([]);if(delete v.type,f.set(v),u.forEach(function(m){m.canvas.remove(m),m.group=f}),f._objects=u,!this.canvas)return f;var g=this.canvas;return g.add(f),g._activeObject=f,f.setCoords(),f},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,v,f){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,f=f||{},typeof f.hasControls>"u"&&(f.hasControls=!1),f.forActiveSelection=!0;for(var g=0,m=this._objects.length;g<m;g++)this._objects[g]._renderControls(u,f);this.callSuper("_renderControls",u,v),u.restore()}}),a.ActiveSelection.fromObject=function(u,v){a.util.enlivenObjects(u.objects,function(f){delete u.objects,v&&v(new a.ActiveSelection(f,u,!0))})})})(e),(function(d){var a=t.util.object.extend;if(d.fabric||(d.fabric={}),d.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,v){v||(v={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",v),this._initElement(u,v)},getElement:function(){return this._element||{}},setElement:function(u,v){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(v),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var v=t.filterBackend;v&&v.evictCachesForKey&&v.evictCachesForKey(u)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var v=this.width/2,f=this.height/2;u.beginPath(),u.moveTo(-v,-f),u.lineTo(v,-f),u.lineTo(v,f),u.lineTo(-v,f),u.lineTo(-v,-f),u.closePath()}},toObject:function(u){var v=[];this.filters.forEach(function(g){g&&v.push(g.toObject())});var f=a(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:v});return this.resizeFilter&&(f.resizeFilter=this.resizeFilter.toObject()),f},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],v=[],f,g=this._element,m=-this.width/2,C=-this.height/2,D="",S="";if(!g)return[];if(this.hasCrop()){var O=t.Object.__uid++;u.push('<clipPath id="imageCrop_'+O+`">
`,'	<rect x="'+m+'" y="'+C+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),D=' clip-path="url(#imageCrop_'+O+')" '}if(this.imageSmoothing||(S='" image-rendering="optimizeSpeed'),v.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',m-this.cropX,'" y="',C-this.cropY,'" width="',g.width||g.naturalWidth,'" height="',g.height||g.height,S,'"',D,`></image>
`),this.stroke||this.strokeDashArray){var N=this.fill;this.fill=null,f=["	<rect ",'x="',m,'" y="',C,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=N}return this.paintFirst!=="fill"?u=u.concat(f,v):u=u.concat(v,f),u},getSrc:function(u){var v=u?this._element:this._originalElement;return v?v.toDataURL?v.toDataURL():this.srcFromAttribute?v.getAttribute("src"):v.src:this.src||""},setSrc:function(u,v,f){return t.util.loadImage(u,function(g,m){this.setElement(g,f),this._setWidthHeight(),v&&v(this,m)},this,f&&f.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,v=this.minimumScaleTrigger,f=this.getTotalObjectScaling(),g=f.scaleX,m=f.scaleY,C=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||g>v&&m>v){this._element=C,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=g,this._lastScaleY=m;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var D=t.util.createCanvasElement(),S=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,O=C.width,N=C.height;D.width=O,D.height=N,this._element=D,this._lastScaleX=u.scaleX=g,this._lastScaleY=u.scaleY=m,t.filterBackend.applyFilters([u],C,O,N,this._element,S),this._filterScalingX=D.width/this._originalElement.width,this._filterScalingY=D.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(C){return C&&!C.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var v=this._originalElement,f=v.naturalWidth||v.width,g=v.naturalHeight||v.height;if(this._element===this._originalElement){var m=t.util.createCanvasElement();m.width=f,m.height=g,this._element=m,this._filteredEl=m}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,f,g),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(u,this._originalElement,f,g,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var v=this._element;if(v){var f=this._filterScalingX,g=this._filterScalingY,m=this.width,C=this.height,D=Math.min,S=Math.max,O=S(this.cropX,0),N=S(this.cropY,0),U=v.naturalWidth||v.width,W=v.naturalHeight||v.height,q=O*f,J=N*g,ne=D(m*f,U-q),ve=D(C*g,W-J),Se=-m/2,Be=-C/2,Ue=D(m,U/f-O),qe=D(C,W/g-N);v&&u.drawImage(v,q,J,ne,ve,Se,Be,Ue,qe)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,v){this.setElement(t.util.getById(u),v),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,v){u&&u.length?t.util.enlivenObjects(u,function(f){v&&v(f)},"fabric.Image.filters"):v&&v()},_setWidthHeight:function(u){u||(u={});var v=this.getElement();this.width=u.width||v.naturalWidth||v.width||0,this.height=u.height||v.naturalHeight||v.height||0},parsePreserveAspectRatioAttribute:function(){var u=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),v=this._element.width,f=this._element.height,g=1,m=1,C=0,D=0,S=0,O=0,N,U=this.width,W=this.height,q={width:U,height:W};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(g=m=t.util.findScaleToFit(this._element,q),N=(U-v*g)/2,u.alignX==="Min"&&(C=-N),u.alignX==="Max"&&(C=N),N=(W-f*m)/2,u.alignY==="Min"&&(D=-N),u.alignY==="Max"&&(D=N)),u.meetOrSlice==="slice"&&(g=m=t.util.findScaleToCover(this._element,q),N=v-U/g,u.alignX==="Mid"&&(S=N/2),u.alignX==="Max"&&(S=N),N=f-W/m,u.alignY==="Mid"&&(O=N/2),u.alignY==="Max"&&(O=N),v=U/g,f=W/m)):(g=U/v,m=W/f),{width:v,height:f,scaleX:g,scaleY:m,offsetLeft:C,offsetTop:D,cropX:S,cropY:O}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(u,v){var f=t.util.object.clone(u);t.util.loadImage(f.src,function(g,m){if(m){v&&v(null,!0);return}t.Image.prototype._initFilters.call(f,f.filters,function(C){f.filters=C||[],t.Image.prototype._initFilters.call(f,[f.resizeFilter],function(D){f.resizeFilter=D[0],t.util.enlivenObjectEnlivables(f,f,function(){var S=new t.Image(g,f);v(S,!1)})})})},null,f.crossOrigin)},t.Image.fromURL=function(u,v,f){t.util.loadImage(u,function(g,m){v&&v(new t.Image(g,f),m)},null,f&&f.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(u,v,f){var g=t.parseAttributes(u,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(g["xlink:href"],v,a(f?t.util.object.clone(f):{},g))}})(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var d=this.angle%360;return d>0?Math.round((d-1)/90)*90:Math.round(d/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(d){d=d||{};var a=function(){},u=d.onComplete||a,v=d.onChange||a,f=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(g){f.rotate(g),v()},onComplete:function(){f.setCoords(),u()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(d){return d.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(d){return d.fxStraighten({onChange:this.requestRenderAllBound})}}),(function(){function d(u,v){var f="precision "+v+` float;
void main(){}`,g=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(g,f),u.compileShader(g),!!u.getShaderParameter(g,u.COMPILE_STATUS)}t.isWebglSupported=function(u){if(t.isLikelyNode)return!1;u=u||t.WebglFilterBackend.prototype.tileSize;var v=document.createElement("canvas"),f=v.getContext("webgl")||v.getContext("experimental-webgl"),g=!1;if(f){t.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE),g=t.maxTextureSize>=u;for(var m=["highp","mediump","lowp"],C=0;C<3;C++)if(d(f,m[C])){t.webGlPrecision=m[C];break}}return this.isSupported=g,g},t.WebglFilterBackend=a;function a(u){u&&u.tileSize&&(this.tileSize=u.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(u,v){this.dispose(),this.createWebGLCanvas(u,v),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,v)},chooseFastestCopyGLTo2DMethod:function(u,v){var f=typeof window.performance<"u",g;try{new ImageData(1,1),g=!0}catch{g=!1}var m=typeof ArrayBuffer<"u",C=typeof Uint8ClampedArray<"u";if(f&&g&&m&&C){var D=t.util.createCanvasElement(),S=new ArrayBuffer(u*v*4);if(t.forceGLPutImageData){this.imageBuffer=S,this.copyGLTo2D=y;return}var O={imageBuffer:S,destinationWidth:u,destinationHeight:v,targetCanvas:D},N,U,W;D.width=u,D.height=v,N=window.performance.now(),c.call(O,this.gl,O),U=window.performance.now()-N,N=window.performance.now(),y.call(O,this.gl,O),W=window.performance.now()-N,U>W?(this.imageBuffer=S,this.copyGLTo2D=y):this.copyGLTo2D=c}},createWebGLCanvas:function(u,v){var f=t.util.createCanvasElement();f.width=u,f.height=v;var g={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},m=f.getContext("webgl",g);m||(m=f.getContext("experimental-webgl",g)),m&&(m.clearColor(0,0,0,0),this.canvas=f,this.gl=m)},applyFilters:function(u,v,f,g,m,C){var D=this.gl,S;C&&(S=this.getCachedTexture(C,v));var O={originalWidth:v.width||v.originalWidth,originalHeight:v.height||v.originalHeight,sourceWidth:f,sourceHeight:g,destinationWidth:f,destinationHeight:g,context:D,sourceTexture:this.createTexture(D,f,g,!S&&v),targetTexture:this.createTexture(D,f,g),originalTexture:S||this.createTexture(D,f,g,!S&&v),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:m},N=D.createFramebuffer();return D.bindFramebuffer(D.FRAMEBUFFER,N),u.forEach(function(U){U&&U.applyTo(O)}),o(O),this.copyGLTo2D(D,O),D.bindTexture(D.TEXTURE_2D,null),D.deleteTexture(O.sourceTexture),D.deleteTexture(O.targetTexture),D.deleteFramebuffer(N),m.getContext("2d").setTransform(1,0,0,1,0,0),O},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,v,f,g,m){var C=u.createTexture();return u.bindTexture(u.TEXTURE_2D,C),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,m||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,m||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),g?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,g):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,v,f,0,u.RGBA,u.UNSIGNED_BYTE,null),C},getCachedTexture:function(u,v){if(this.textureCache[u])return this.textureCache[u];var f=this.createTexture(this.gl,v.width,v.height,v);return this.textureCache[u]=f,f},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:c,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,v={renderer:"",vendor:""};if(!u)return v;var f=u.getExtension("WEBGL_debug_renderer_info");if(f){var g=u.getParameter(f.UNMASKED_RENDERER_WEBGL),m=u.getParameter(f.UNMASKED_VENDOR_WEBGL);g&&(v.renderer=g.toLowerCase()),m&&(v.vendor=m.toLowerCase())}return this.gpuInfo=v,v}}})();function o(d){var a=d.targetCanvas,u=a.width,v=a.height,f=d.destinationWidth,g=d.destinationHeight;(u!==f||v!==g)&&(a.width=f,a.height=g)}function c(d,a){var u=d.canvas,v=a.targetCanvas,f=v.getContext("2d");f.translate(0,v.height),f.scale(1,-1);var g=u.height-v.height;f.drawImage(u,0,g,v.width,v.height,0,0,v.width,v.height)}function y(d,a){var u=a.targetCanvas,v=u.getContext("2d"),f=a.destinationWidth,g=a.destinationHeight,m=f*g*4,C=new Uint8Array(this.imageBuffer,0,m),D=new Uint8ClampedArray(this.imageBuffer,0,m);d.readPixels(0,0,f,g,d.RGBA,d.UNSIGNED_BYTE,C);var S=new ImageData(D,f,g);v.putImageData(S,0,0)}(function(){var d=function(){};t.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:d,dispose:d,clearWebGLCaches:d,resources:{},applyFilters:function(u,v,f,g,m){var C=m.getContext("2d");C.drawImage(v,0,0,f,g);var D=C.getImageData(0,0,f,g),S=C.getImageData(0,0,f,g),O={sourceWidth:f,sourceHeight:g,imageData:D,originalEl:v,originalImageData:S,canvasEl:m,ctx:C,filterBackend:this};return u.forEach(function(N){N.applyTo(O)}),(O.imageData.width!==f||O.imageData.height!==g)&&(m.width=O.imageData.width,m.height=O.imageData.height),C.putImageData(O.imageData,0,0),O}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(d){d&&this.setOptions(d)},setOptions:function(d){for(var a in d)this[a]=d[a]},createProgram:function(d,a,u){a=a||this.fragmentSource,u=u||this.vertexSource,t.webGlPrecision!=="highp"&&(a=a.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var v=d.createShader(d.VERTEX_SHADER);if(d.shaderSource(v,u),d.compileShader(v),!d.getShaderParameter(v,d.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+d.getShaderInfoLog(v));var f=d.createShader(d.FRAGMENT_SHADER);if(d.shaderSource(f,a),d.compileShader(f),!d.getShaderParameter(f,d.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+d.getShaderInfoLog(f));var g=d.createProgram();if(d.attachShader(g,v),d.attachShader(g,f),d.linkProgram(g),!d.getProgramParameter(g,d.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+d.getProgramInfoLog(g));var m=this.getAttributeLocations(d,g),C=this.getUniformLocations(d,g)||{};return C.uStepW=d.getUniformLocation(g,"uStepW"),C.uStepH=d.getUniformLocation(g,"uStepH"),{program:g,attributeLocations:m,uniformLocations:C}},getAttributeLocations:function(d,a){return{aPosition:d.getAttribLocation(a,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(d,a,u){var v=a.aPosition,f=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,f),d.enableVertexAttribArray(v),d.vertexAttribPointer(v,2,d.FLOAT,!1,0,0),d.bufferData(d.ARRAY_BUFFER,u,d.STATIC_DRAW)},_setupFrameBuffer:function(d){var a=d.context,u,v;d.passes>1?(u=d.destinationWidth,v=d.destinationHeight,(d.sourceWidth!==u||d.sourceHeight!==v)&&(a.deleteTexture(d.targetTexture),d.targetTexture=d.filterBackend.createTexture(a,u,v)),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,d.targetTexture,0)):(a.bindFramebuffer(a.FRAMEBUFFER,null),a.finish())},_swapTextures:function(d){d.passes--,d.pass++;var a=d.targetTexture;d.targetTexture=d.sourceTexture,d.sourceTexture=a},isNeutralState:function(){var d=this.mainParameter,a=t.Image.filters[this.type].prototype;if(d)if(Array.isArray(a[d])){for(var u=a[d].length;u--;)if(this[d][u]!==a[d][u])return!1;return!0}else return a[d]===this[d];else return!1},applyTo:function(d){d.webgl?(this._setupFrameBuffer(d),this.applyToWebGL(d),this._swapTextures(d)):this.applyTo2d(d)},retrieveShader:function(d){return d.programCache.hasOwnProperty(this.type)||(d.programCache[this.type]=this.createProgram(d.context)),d.programCache[this.type]},applyToWebGL:function(d){var a=d.context,u=this.retrieveShader(d);d.pass===0&&d.originalTexture?a.bindTexture(a.TEXTURE_2D,d.originalTexture):a.bindTexture(a.TEXTURE_2D,d.sourceTexture),a.useProgram(u.program),this.sendAttributeData(a,u.attributeLocations,d.aPosition),a.uniform1f(u.uniformLocations.uStepW,1/d.sourceWidth),a.uniform1f(u.uniformLocations.uStepH,1/d.sourceHeight),this.sendUniformData(a,u.uniformLocations),a.viewport(0,0,d.destinationWidth,d.destinationHeight),a.drawArrays(a.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(d,a,u){d.activeTexture(u),d.bindTexture(d.TEXTURE_2D,a),d.activeTexture(d.TEXTURE0)},unbindAdditionalTexture:function(d,a){d.activeTexture(a),d.bindTexture(d.TEXTURE_2D,null),d.activeTexture(d.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(d){this[this.mainParameter]=d},sendUniformData:function(){},createHelpLayer:function(d){if(!d.helpLayer){var a=document.createElement("canvas");a.width=d.sourceWidth,a.height=d.sourceHeight,d.helpLayer=a}},toObject:function(){var d={type:this.type},a=this.mainParameter;return a&&(d[a]=this[a]),d},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(d,a){var u=new t.Image.filters[d.type](d);return a&&a(u),u},(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.ColorMatrix=v(u.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(f){this.callSuper("initialize",f),this.matrix=this.matrix.slice(0)},applyTo2d:function(f){var g=f.imageData,m=g.data,C=m.length,D=this.matrix,S,O,N,U,W,q=this.colorsOnly;for(W=0;W<C;W+=4)S=m[W],O=m[W+1],N=m[W+2],q?(m[W]=S*D[0]+O*D[1]+N*D[2]+D[4]*255,m[W+1]=S*D[5]+O*D[6]+N*D[7]+D[9]*255,m[W+2]=S*D[10]+O*D[11]+N*D[12]+D[14]*255):(U=m[W+3],m[W]=S*D[0]+O*D[1]+N*D[2]+U*D[3]+D[4]*255,m[W+1]=S*D[5]+O*D[6]+N*D[7]+U*D[8]+D[9]*255,m[W+2]=S*D[10]+O*D[11]+N*D[12]+U*D[13]+D[14]*255,m[W+3]=S*D[15]+O*D[16]+N*D[17]+U*D[18]+D[19]*255)},getUniformLocations:function(f,g){return{uColorMatrix:f.getUniformLocation(g,"uColorMatrix"),uConstants:f.getUniformLocation(g,"uConstants")}},sendUniformData:function(f,g){var m=this.matrix,C=[m[0],m[1],m[2],m[3],m[5],m[6],m[7],m[8],m[10],m[11],m[12],m[13],m[15],m[16],m[17],m[18]],D=[m[4],m[9],m[14],m[19]];f.uniformMatrix4fv(g.uColorMatrix,!1,C),f.uniform4fv(g.uConstants,D)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Brightness=v(u.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(f){if(this.brightness!==0){var g=f.imageData,m=g.data,C,D=m.length,S=Math.round(this.brightness*255);for(C=0;C<D;C+=4)m[C]=m[C]+S,m[C+1]=m[C+1]+S,m[C+2]=m[C+2]+S}},getUniformLocations:function(f,g){return{uBrightness:f.getUniformLocation(g,"uBrightness")}},sendUniformData:function(f,g){f.uniform1f(g.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend,v=a.Image.filters,f=a.util.createClass;v.Convolute=f(v.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(g){var m=Math.sqrt(this.matrix.length),C=this.type+"_"+m+"_"+(this.opaque?1:0),D=this.fragmentSource[C];return g.programCache.hasOwnProperty(C)||(g.programCache[C]=this.createProgram(g.context,D)),g.programCache[C]},applyTo2d:function(g){var m=g.imageData,C=m.data,D=this.matrix,S=Math.round(Math.sqrt(D.length)),O=Math.floor(S/2),N=m.width,U=m.height,W=g.ctx.createImageData(N,U),q=W.data,J=this.opaque?1:0,ne,ve,Se,Be,Ue,qe,mt,ut,ge,me,Ie,lt,Me;for(Ie=0;Ie<U;Ie++)for(me=0;me<N;me++){for(Ue=(Ie*N+me)*4,ne=0,ve=0,Se=0,Be=0,Me=0;Me<S;Me++)for(lt=0;lt<S;lt++)mt=Ie+Me-O,qe=me+lt-O,!(mt<0||mt>=U||qe<0||qe>=N)&&(ut=(mt*N+qe)*4,ge=D[Me*S+lt],ne+=C[ut]*ge,ve+=C[ut+1]*ge,Se+=C[ut+2]*ge,J||(Be+=C[ut+3]*ge));q[Ue]=ne,q[Ue+1]=ve,q[Ue+2]=Se,J?q[Ue+3]=C[Ue+3]:q[Ue+3]=Be}g.imageData=W},getUniformLocations:function(g,m){return{uMatrix:g.getUniformLocation(m,"uMatrix"),uOpaque:g.getUniformLocation(m,"uOpaque"),uHalfSize:g.getUniformLocation(m,"uHalfSize"),uSize:g.getUniformLocation(m,"uSize")}},sendUniformData:function(g,m){g.uniform1fv(m.uMatrix,this.matrix)},toObject:function(){return u(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Grayscale=v(u.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(f){var g=f.imageData,m=g.data,C,D=m.length,S,O=this.mode;for(C=0;C<D;C+=4)O==="average"?S=(m[C]+m[C+1]+m[C+2])/3:O==="lightness"?S=(Math.min(m[C],m[C+1],m[C+2])+Math.max(m[C],m[C+1],m[C+2]))/2:O==="luminosity"&&(S=.21*m[C]+.72*m[C+1]+.07*m[C+2]),m[C]=S,m[C+1]=S,m[C+2]=S},retrieveShader:function(f){var g=this.type+"_"+this.mode;if(!f.programCache.hasOwnProperty(g)){var m=this.fragmentSource[this.mode];f.programCache[g]=this.createProgram(f.context,m)}return f.programCache[g]},getUniformLocations:function(f,g){return{uMode:f.getUniformLocation(g,"uMode")}},sendUniformData:function(f,g){var m=1;f.uniform1i(g.uMode,m)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Invert=v(u.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(f){var g=f.imageData,m=g.data,C,D=m.length;for(C=0;C<D;C+=4)m[C]=255-m[C],m[C+1]=255-m[C+1],m[C+2]=255-m[C+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(f,g){return{uInvert:f.getUniformLocation(g,"uInvert")}},sendUniformData:function(f,g){f.uniform1i(g.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend,v=a.Image.filters,f=a.util.createClass;v.Noise=f(v.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(g){if(this.noise!==0){var m=g.imageData,C=m.data,D,S=C.length,O=this.noise,N;for(D=0,S=C.length;D<S;D+=4)N=(.5-Math.random())*O,C[D]+=N,C[D+1]+=N,C[D+2]+=N}},getUniformLocations:function(g,m){return{uNoise:g.getUniformLocation(m,"uNoise"),uSeed:g.getUniformLocation(m,"uSeed")}},sendUniformData:function(g,m){g.uniform1f(m.uNoise,this.noise/255),g.uniform1f(m.uSeed,Math.random())},toObject:function(){return u(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Pixelate=v(u.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(f){var g=f.imageData,m=g.data,C=g.height,D=g.width,S,O,N,U,W,q,J,ne,ve,Se,Be;for(O=0;O<C;O+=this.blocksize)for(N=0;N<D;N+=this.blocksize)for(S=O*4*D+N*4,U=m[S],W=m[S+1],q=m[S+2],J=m[S+3],Se=Math.min(O+this.blocksize,C),Be=Math.min(N+this.blocksize,D),ne=O;ne<Se;ne++)for(ve=N;ve<Be;ve++)S=ne*4*D+ve*4,m[S]=U,m[S+1]=W,m[S+2]=q,m[S+3]=J},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(f,g){return{uBlocksize:f.getUniformLocation(g,"uBlocksize"),uStepW:f.getUniformLocation(g,"uStepW"),uStepH:f.getUniformLocation(g,"uStepH")}},sendUniformData:function(f,g){f.uniform1f(g.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.extend,v=a.Image.filters,f=a.util.createClass;v.RemoveColor=f(v.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(g){var m=g.imageData,C=m.data,D,S=this.distance*255,O,N,U,W=new a.Color(this.color).getSource(),q=[W[0]-S,W[1]-S,W[2]-S],J=[W[0]+S,W[1]+S,W[2]+S];for(D=0;D<C.length;D+=4)O=C[D],N=C[D+1],U=C[D+2],O>q[0]&&N>q[1]&&U>q[2]&&O<J[0]&&N<J[1]&&U<J[2]&&(C[D+3]=0)},getUniformLocations:function(g,m){return{uLow:g.getUniformLocation(m,"uLow"),uHigh:g.getUniformLocation(m,"uHigh")}},sendUniformData:function(g,m){var C=new a.Color(this.color).getSource(),D=parseFloat(this.distance),S=[0+C[0]/255-D,0+C[1]/255-D,0+C[2]/255-D,1],O=[C[0]/255+D,C[1]/255+D,C[2]/255+D,1];g.uniform4fv(m.uLow,S),g.uniform4fv(m.uHigh,O)},toObject:function(){return u(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass,f={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var g in f)u[g]=v(u.ColorMatrix,{type:g,matrix:f[g],mainParameter:!1,colorsOnly:!0}),a.Image.filters[g].fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric,u=a.Image.filters,v=a.util.createClass;u.BlendColor=v(u.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(f){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[f]+`}
}`},retrieveShader:function(f){var g=this.type+"_"+this.mode,m;return f.programCache.hasOwnProperty(g)||(m=this.buildSource(this.mode),f.programCache[g]=this.createProgram(f.context,m)),f.programCache[g]},applyTo2d:function(f){var g=f.imageData,m=g.data,C=m.length,D,S,O,N,U,W,q,J=1-this.alpha;q=new a.Color(this.color).getSource(),D=q[0]*this.alpha,S=q[1]*this.alpha,O=q[2]*this.alpha;for(var ne=0;ne<C;ne+=4)switch(N=m[ne],U=m[ne+1],W=m[ne+2],this.mode){case"multiply":m[ne]=N*D/255,m[ne+1]=U*S/255,m[ne+2]=W*O/255;break;case"screen":m[ne]=255-(255-N)*(255-D)/255,m[ne+1]=255-(255-U)*(255-S)/255,m[ne+2]=255-(255-W)*(255-O)/255;break;case"add":m[ne]=N+D,m[ne+1]=U+S,m[ne+2]=W+O;break;case"diff":case"difference":m[ne]=Math.abs(N-D),m[ne+1]=Math.abs(U-S),m[ne+2]=Math.abs(W-O);break;case"subtract":m[ne]=N-D,m[ne+1]=U-S,m[ne+2]=W-O;break;case"darken":m[ne]=Math.min(N,D),m[ne+1]=Math.min(U,S),m[ne+2]=Math.min(W,O);break;case"lighten":m[ne]=Math.max(N,D),m[ne+1]=Math.max(U,S),m[ne+2]=Math.max(W,O);break;case"overlay":m[ne]=D<128?2*N*D/255:255-2*(255-N)*(255-D)/255,m[ne+1]=S<128?2*U*S/255:255-2*(255-U)*(255-S)/255,m[ne+2]=O<128?2*W*O/255:255-2*(255-W)*(255-O)/255;break;case"exclusion":m[ne]=D+N-2*D*N/255,m[ne+1]=S+U-2*S*U/255,m[ne+2]=O+W-2*O*W/255;break;case"tint":m[ne]=D+N*J,m[ne+1]=S+U*J,m[ne+2]=O+W*J}},getUniformLocations:function(f,g){return{uColor:f.getUniformLocation(g,"uColor")}},sendUniformData:function(f,g){var m=new a.Color(this.color).getSource();m[0]=this.alpha*m[0]/255,m[1]=this.alpha*m[1]/255,m[2]=this.alpha*m[2]/255,m[3]=this.alpha,f.uniform4fv(g.uColor,m)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric,u=a.Image.filters,v=a.util.createClass;u.BlendImage=v(u.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(f){var g=this.type+"_"+this.mode,m=this.fragmentSource[this.mode];return f.programCache.hasOwnProperty(g)||(f.programCache[g]=this.createProgram(f.context,m)),f.programCache[g]},applyToWebGL:function(f){var g=f.context,m=this.createTexture(f.filterBackend,this.image);this.bindAdditionalTexture(g,m,g.TEXTURE1),this.callSuper("applyToWebGL",f),this.unbindAdditionalTexture(g,g.TEXTURE1)},createTexture:function(f,g){return f.getCachedTexture(g.cacheKey,g._element)},calculateMatrix:function(){var f=this.image,g=f._element.width,m=f._element.height;return[1/f.scaleX,0,0,0,1/f.scaleY,0,-f.left/g,-f.top/m,1]},applyTo2d:function(f){var g=f.imageData,m=f.filterBackend.resources,C=g.data,D=C.length,S=g.width,O=g.height,N,U,W,q,J,ne,ve,Se,Be,Ue,qe=this.image,mt;m.blendImage||(m.blendImage=a.util.createCanvasElement()),Be=m.blendImage,Ue=Be.getContext("2d"),Be.width!==S||Be.height!==O?(Be.width=S,Be.height=O):Ue.clearRect(0,0,S,O),Ue.setTransform(qe.scaleX,0,0,qe.scaleY,qe.left,qe.top),Ue.drawImage(qe._element,0,0,S,O),mt=Ue.getImageData(0,0,S,O).data;for(var ut=0;ut<D;ut+=4)switch(J=C[ut],ne=C[ut+1],ve=C[ut+2],Se=C[ut+3],N=mt[ut],U=mt[ut+1],W=mt[ut+2],q=mt[ut+3],this.mode){case"multiply":C[ut]=J*N/255,C[ut+1]=ne*U/255,C[ut+2]=ve*W/255,C[ut+3]=Se*q/255;break;case"mask":C[ut+3]=q;break}},getUniformLocations:function(f,g){return{uTransformMatrix:f.getUniformLocation(g,"uTransformMatrix"),uImage:f.getUniformLocation(g,"uImage")}},sendUniformData:function(f,g){var m=this.calculateMatrix();f.uniform1i(g.uImage,1),f.uniformMatrix3fv(g.uTransformMatrix,!1,m)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(f,g){a.Image.fromObject(f.image,function(m){var C=a.util.object.clone(f);C.image=m,g(new a.Image.filters.BlendImage(C))})}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=Math.pow,v=Math.floor,f=Math.sqrt,g=Math.abs,m=Math.round,C=Math.sin,D=Math.ceil,S=a.Image.filters,O=a.util.createClass;S.Resize=O(S.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(N,U){return{uDelta:N.getUniformLocation(U,"uDelta"),uTaps:N.getUniformLocation(U,"uTaps")}},sendUniformData:function(N,U){N.uniform2fv(U.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),N.uniform1fv(U.uTaps,this.taps)},retrieveShader:function(N){var U=this.getFilterWindow(),W=this.type+"_"+U;if(!N.programCache.hasOwnProperty(W)){var q=this.generateShader(U);N.programCache[W]=this.createProgram(N.context,q)}return N.programCache[W]},getFilterWindow:function(){var N=this.tempScale;return Math.ceil(this.lanczosLobes/N)},getTaps:function(){for(var N=this.lanczosCreate(this.lanczosLobes),U=this.tempScale,W=this.getFilterWindow(),q=new Array(W),J=1;J<=W;J++)q[J-1]=N(J*U);return q},generateShader:function(q){for(var U=new Array(q),W=this.fragmentSourceTOP,q,J=1;J<=q;J++)U[J-1]=J+".0 * uDelta";return W+="uniform float uTaps["+q+`];
`,W+=`void main() {
`,W+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,W+=`  float sum = 1.0;
`,U.forEach(function(ne,ve){W+="  color += texture2D(uTexture, vTexCoord + "+ne+") * uTaps["+ve+`];
`,W+="  color += texture2D(uTexture, vTexCoord - "+ne+") * uTaps["+ve+`];
`,W+="  sum += 2.0 * uTaps["+ve+`];
`}),W+=`  gl_FragColor = color / sum;
`,W+="}",W},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(N){N.webgl?(N.passes++,this.width=N.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=N.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),N.destinationWidth=this.dW,this._setupFrameBuffer(N),this.applyToWebGL(N),this._swapTextures(N),N.sourceWidth=N.destinationWidth,this.height=N.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),N.destinationHeight=this.dH,this._setupFrameBuffer(N),this.applyToWebGL(N),this._swapTextures(N),N.sourceHeight=N.destinationHeight):this.applyTo2d(N)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(N){return function(U){if(U>=N||U<=-N)return 0;if(U<11920929e-14&&U>-11920929e-14)return 1;U*=Math.PI;var W=U/N;return C(U)/U*C(W)/W}},applyTo2d:function(N){var U=N.imageData,W=this.scaleX,q=this.scaleY;this.rcpScaleX=1/W,this.rcpScaleY=1/q;var J=U.width,ne=U.height,ve=m(J*W),Se=m(ne*q),Be;this.resizeType==="sliceHack"?Be=this.sliceByTwo(N,J,ne,ve,Se):this.resizeType==="hermite"?Be=this.hermiteFastResize(N,J,ne,ve,Se):this.resizeType==="bilinear"?Be=this.bilinearFiltering(N,J,ne,ve,Se):this.resizeType==="lanczos"&&(Be=this.lanczosResize(N,J,ne,ve,Se)),N.imageData=Be},sliceByTwo:function(N,U,W,q,J){var ne=N.imageData,ve=.5,Se=!1,Be=!1,Ue=U*ve,qe=W*ve,mt=a.filterBackend.resources,ut,ge,me=0,Ie=0,lt=U,Me=0;for(mt.sliceByTwo||(mt.sliceByTwo=document.createElement("canvas")),ut=mt.sliceByTwo,(ut.width<U*1.5||ut.height<W)&&(ut.width=U*1.5,ut.height=W),ge=ut.getContext("2d"),ge.clearRect(0,0,U*1.5,W),ge.putImageData(ne,0,0),q=v(q),J=v(J);!Se||!Be;)U=Ue,W=qe,q<v(Ue*ve)?Ue=v(Ue*ve):(Ue=q,Se=!0),J<v(qe*ve)?qe=v(qe*ve):(qe=J,Be=!0),ge.drawImage(ut,me,Ie,U,W,lt,Me,Ue,qe),me=lt,Ie=Me,Me+=qe;return ge.getImageData(me,Ie,q,J)},lanczosResize:function(N,U,W,q,J){function ne(ce){var oe,Z,be,Te,Fe,ct,At,rt,jt,_t,Wt;for(Me.x=(ce+.5)*qe,ue.x=v(Me.x),oe=0;oe<J;oe++){for(Me.y=(oe+.5)*mt,ue.y=v(Me.y),Fe=0,ct=0,At=0,rt=0,jt=0,Z=ue.x-me;Z<=ue.x+me;Z++)if(!(Z<0||Z>=U)){_t=v(1e3*g(Z-Me.x)),lt[_t]||(lt[_t]={});for(var ft=ue.y-Ie;ft<=ue.y+Ie;ft++)ft<0||ft>=W||(Wt=v(1e3*g(ft-Me.y)),lt[_t][Wt]||(lt[_t][Wt]=Ue(f(u(_t*ut,2)+u(Wt*ge,2))/1e3)),be=lt[_t][Wt],be>0&&(Te=(ft*U+Z)*4,Fe+=be,ct+=be*ve[Te],At+=be*ve[Te+1],rt+=be*ve[Te+2],jt+=be*ve[Te+3]))}Te=(oe*q+ce)*4,Be[Te]=ct/Fe,Be[Te+1]=At/Fe,Be[Te+2]=rt/Fe,Be[Te+3]=jt/Fe}return++ce<q?ne(ce):Se}var ve=N.imageData.data,Se=N.ctx.createImageData(q,J),Be=Se.data,Ue=this.lanczosCreate(this.lanczosLobes),qe=this.rcpScaleX,mt=this.rcpScaleY,ut=2/this.rcpScaleX,ge=2/this.rcpScaleY,me=D(qe*this.lanczosLobes/2),Ie=D(mt*this.lanczosLobes/2),lt={},Me={},ue={};return ne(0)},bilinearFiltering:function(N,U,W,q,J){var ne,ve,Se,Be,Ue,qe,mt,ut,ge,me,Ie,lt,Me=0,ue,ce=this.rcpScaleX,oe=this.rcpScaleY,Z=4*(U-1),be=N.imageData,Te=be.data,Fe=N.ctx.createImageData(q,J),ct=Fe.data;for(mt=0;mt<J;mt++)for(ut=0;ut<q;ut++)for(Ue=v(ce*ut),qe=v(oe*mt),ge=ce*ut-Ue,me=oe*mt-qe,ue=4*(qe*U+Ue),Ie=0;Ie<4;Ie++)ne=Te[ue+Ie],ve=Te[ue+4+Ie],Se=Te[ue+Z+Ie],Be=Te[ue+Z+4+Ie],lt=ne*(1-ge)*(1-me)+ve*ge*(1-me)+Se*me*(1-ge)+Be*ge*me,ct[Me++]=lt;return Fe},hermiteFastResize:function(N,U,W,q,J){for(var ne=this.rcpScaleX,ve=this.rcpScaleY,Se=D(ne/2),Be=D(ve/2),Ue=N.imageData,qe=Ue.data,mt=N.ctx.createImageData(q,J),ut=mt.data,ge=0;ge<J;ge++)for(var me=0;me<q;me++){for(var Ie=(me+ge*q)*4,lt=0,Me=0,ue=0,ce=0,oe=0,Z=0,be=0,Te=(ge+.5)*ve,Fe=v(ge*ve);Fe<(ge+1)*ve;Fe++)for(var ct=g(Te-(Fe+.5))/Be,At=(me+.5)*ne,rt=ct*ct,jt=v(me*ne);jt<(me+1)*ne;jt++){var _t=g(At-(jt+.5))/Se,Wt=f(rt+_t*_t);Wt>1&&Wt<-1||(lt=2*Wt*Wt*Wt-3*Wt*Wt+1,lt>0&&(_t=4*(jt+Fe*U),be+=lt*qe[_t+3],ue+=lt,qe[_t+3]<255&&(lt=lt*qe[_t+3]/250),ce+=lt*qe[_t],oe+=lt*qe[_t+1],Z+=lt*qe[_t+2],Me+=lt))}ut[Ie]=ce/Me,ut[Ie+1]=oe/Me,ut[Ie+2]=Z/Me,ut[Ie+3]=be/ue}return mt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Contrast=v(u.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(f){if(this.contrast!==0){var g=f.imageData,m,D,C=g.data,D=C.length,S=Math.floor(this.contrast*255),O=259*(S+255)/(255*(259-S));for(m=0;m<D;m+=4)C[m]=O*(C[m]-128)+128,C[m+1]=O*(C[m+1]-128)+128,C[m+2]=O*(C[m+2]-128)+128}},getUniformLocations:function(f,g){return{uContrast:f.getUniformLocation(g,"uContrast")}},sendUniformData:function(f,g){f.uniform1f(g.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Saturation=v(u.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(f){if(this.saturation!==0){var g=f.imageData,m=g.data,C=m.length,D=-this.saturation,S,O;for(S=0;S<C;S+=4)O=Math.max(m[S],m[S+1],m[S+2]),m[S]+=O!==m[S]?(O-m[S])*D:0,m[S+1]+=O!==m[S+1]?(O-m[S+1])*D:0,m[S+2]+=O!==m[S+2]?(O-m[S+2])*D:0}},getUniformLocations:function(f,g){return{uSaturation:f.getUniformLocation(g,"uSaturation")}},sendUniformData:function(f,g){f.uniform1f(g.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Vibrance=v(u.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(f){if(this.vibrance!==0){var g=f.imageData,m=g.data,C=m.length,D=-this.vibrance,S,O,N,U;for(S=0;S<C;S+=4)O=Math.max(m[S],m[S+1],m[S+2]),N=(m[S]+m[S+1]+m[S+2])/3,U=Math.abs(O-N)*2/255*D,m[S]+=O!==m[S]?(O-m[S])*U:0,m[S+1]+=O!==m[S+1]?(O-m[S+1])*U:0,m[S+2]+=O!==m[S+2]?(O-m[S+2])*U:0}},getUniformLocations:function(f,g){return{uVibrance:f.getUniformLocation(g,"uVibrance")}},sendUniformData:function(f,g){f.uniform1f(g.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Blur=v(u.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(f){f.webgl?(this.aspectRatio=f.sourceWidth/f.sourceHeight,f.passes++,this._setupFrameBuffer(f),this.horizontal=!0,this.applyToWebGL(f),this._swapTextures(f),this._setupFrameBuffer(f),this.horizontal=!1,this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},applyTo2d:function(f){f.imageData=this.simpleBlur(f)},simpleBlur:function(f){var g=f.filterBackend.resources,m,C,D=f.imageData.width,S=f.imageData.height;g.blurLayer1||(g.blurLayer1=a.util.createCanvasElement(),g.blurLayer2=a.util.createCanvasElement()),m=g.blurLayer1,C=g.blurLayer2,(m.width!==D||m.height!==S)&&(C.width=m.width=D,C.height=m.height=S);var O=m.getContext("2d"),N=C.getContext("2d"),U=15,W,q,J,ne,ve=this.blur*.06*.5;for(O.putImageData(f.imageData,0,0),N.clearRect(0,0,D,S),ne=-U;ne<=U;ne++)W=(Math.random()-.5)/4,q=ne/U,J=ve*q*D+W,N.globalAlpha=1-Math.abs(q),N.drawImage(m,J,W),O.drawImage(C,0,0),N.globalAlpha=1,N.clearRect(0,0,C.width,C.height);for(ne=-U;ne<=U;ne++)W=(Math.random()-.5)/4,q=ne/U,J=ve*q*S+W,N.globalAlpha=1-Math.abs(q),N.drawImage(m,W,J),O.drawImage(C,0,0),N.globalAlpha=1,N.clearRect(0,0,C.width,C.height);f.ctx.drawImage(m,0,0);var Se=f.ctx.getImageData(0,0,m.width,m.height);return O.globalAlpha=1,O.clearRect(0,0,m.width,m.height),Se},getUniformLocations:function(f,g){return{delta:f.getUniformLocation(g,"uDelta")}},sendUniformData:function(f,g){var m=this.chooseRightDelta();f.uniform2fv(g.delta,m)},chooseRightDelta:function(){var f=1,g=[0,0],m;return this.horizontal?this.aspectRatio>1&&(f=1/this.aspectRatio):this.aspectRatio<1&&(f=this.aspectRatio),m=f*this.blur*.12,this.horizontal?g[0]=m:g[1]=m,g}}),u.Blur.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Gamma=v(u.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(f){this.gamma=[1,1,1],u.BaseFilter.prototype.initialize.call(this,f)},applyTo2d:function(f){var g=f.imageData,m=g.data,C=this.gamma,D=m.length,S=1/C[0],O=1/C[1],N=1/C[2],U;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),U=0,D=256;U<D;U++)this.rVals[U]=Math.pow(U/255,S)*255,this.gVals[U]=Math.pow(U/255,O)*255,this.bVals[U]=Math.pow(U/255,N)*255;for(U=0,D=m.length;U<D;U+=4)m[U]=this.rVals[m[U]],m[U+1]=this.gVals[m[U+1]],m[U+2]=this.bVals[m[U+2]]},getUniformLocations:function(f,g){return{uGamma:f.getUniformLocation(g,"uGamma")}},sendUniformData:function(f,g){f.uniform3fv(g.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.Composed=v(u.BaseFilter,{type:"Composed",subFilters:[],initialize:function(f){this.callSuper("initialize",f),this.subFilters=this.subFilters.slice(0)},applyTo:function(f){f.passes+=this.subFilters.length-1,this.subFilters.forEach(function(g){g.applyTo(f)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(f){return f.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(f){return!f.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(f,g){var m=f.subFilters||[],C=m.map(function(S){return new a.Image.filters[S.type](S)}),D=new a.Image.filters.Composed({subFilters:C});return g&&g(D),D}})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.Image.filters,v=a.util.createClass;u.HueRotation=v(u.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var f=this.rotation*Math.PI,g=a.util.cos(f),m=a.util.sin(f),C=1/3,D=Math.sqrt(C)*m,S=1-g;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=g+S/3,this.matrix[1]=C*S-D,this.matrix[2]=C*S+D,this.matrix[5]=C*S+D,this.matrix[6]=g+C*S,this.matrix[7]=C*S-D,this.matrix[10]=C*S-D,this.matrix[11]=C*S+D,this.matrix[12]=g+C*S},isNeutralState:function(f){return this.calculateMatrix(),u.BaseFilter.prototype.isNeutralState.call(this,f)},applyTo:function(f){this.calculateMatrix(),u.BaseFilter.prototype.applyTo.call(this,f)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject})(e),(function(d){var a=d.fabric||(d.fabric={}),u=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var v="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(v),cacheProperties:a.Object.prototype.cacheProperties.concat(v),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(f,g){this.styles=g?g.styles||{}:{},this.text=f,this.__skipDimension=!0,this.callSuper("initialize",g),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var f=this.path;f&&(f.segmentsInfo=a.util.getPathSegmentsInfo(f.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var f=this._splitTextIntoLines(this.text);return this.textLines=f.lines,this._textLines=f.graphemeLines,this._unwrappedTextLines=f._unwrappedLines,this._text=f.graphemeText,f},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var f=this.getHeightOfLine(0)*1.1;this.width=this.path.width+f,this.height=this.path.height+f}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var f,g,m,C,D,S,O,N=0,U=this._textLines.length;N<U;N++)if(!(this.textAlign!=="justify"&&(N===U-1||this.isEndOfWrapping(N)))&&(C=0,D=this._textLines[N],g=this.getLineWidth(N),g<this.width&&(O=this.textLines[N].match(this._reSpacesAndTabs)))){m=O.length,f=(this.width-g)/m;for(var W=0,q=D.length;W<=q;W++)S=this.__charBounds[N][W],this._reSpaceAndTab.test(D[W])?(S.width+=f,S.kernedWidth+=f,S.left+=C,C+=f):S.left+=C}},isEndOfWrapping:function(f){return f===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var f=this.callSuper("_getCacheCanvasDimensions"),g=this.fontSize;return f.width+=g*f.zoomX,f.height+=g*f.zoomY,f},_render:function(f){var g=this.path;g&&!g.isNotVisible()&&g._render(f),this._setTextStyles(f),this._renderTextLinesBackground(f),this._renderTextDecoration(f,"underline"),this._renderText(f),this._renderTextDecoration(f,"overline"),this._renderTextDecoration(f,"linethrough")},_renderText:function(f){this.paintFirst==="stroke"?(this._renderTextStroke(f),this._renderTextFill(f)):(this._renderTextFill(f),this._renderTextStroke(f))},_setTextStyles:function(f,g,m){if(f.textBaseline="alphabetic",this.path)switch(this.pathAlign){case"center":f.textBaseline="middle";break;case"ascender":f.textBaseline="top";break;case"descender":f.textBaseline="bottom";break}f.font=this._getFontDeclaration(g,m)},calcTextWidth:function(){for(var f=this.getLineWidth(0),g=1,m=this._textLines.length;g<m;g++){var C=this.getLineWidth(g);C>f&&(f=C)}return f},_renderTextLine:function(f,g,m,C,D,S){this._renderChars(f,g,m,C,D,S)},_renderTextLinesBackground:function(f){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var g,m,C=f.fillStyle,D,S,O=this._getLeftOffset(),N=this._getTopOffset(),U=0,W=0,q,J,ne=this.path,ve,Se=0,Be=this._textLines.length;Se<Be;Se++){if(g=this.getHeightOfLine(Se),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Se)){N+=g;continue}D=this._textLines[Se],m=this._getLineLeftOffset(Se),W=0,U=0,S=this.getValueOfPropertyAt(Se,0,"textBackgroundColor");for(var Ue=0,qe=D.length;Ue<qe;Ue++)q=this.__charBounds[Se][Ue],J=this.getValueOfPropertyAt(Se,Ue,"textBackgroundColor"),ne?(f.save(),f.translate(q.renderLeft,q.renderTop),f.rotate(q.angle),f.fillStyle=J,J&&f.fillRect(-q.width/2,-g/this.lineHeight*(1-this._fontSizeFraction),q.width,g/this.lineHeight),f.restore()):J!==S?(ve=O+m+U,this.direction==="rtl"&&(ve=this.width-ve-W),f.fillStyle=S,S&&f.fillRect(ve,N,W,g/this.lineHeight),U=q.left,W=q.width,S=J):W+=q.kernedWidth;J&&!ne&&(ve=O+m+U,this.direction==="rtl"&&(ve=this.width-ve-W),f.fillStyle=J,f.fillRect(ve,N,W,g/this.lineHeight)),N+=g}f.fillStyle=C,this._removeShadow(f)}},getFontCache:function(f){var g=f.fontFamily.toLowerCase();a.charWidthsCache[g]||(a.charWidthsCache[g]={});var m=a.charWidthsCache[g],C=f.fontStyle.toLowerCase()+"_"+(f.fontWeight+"").toLowerCase();return m[C]||(m[C]={}),m[C]},_measureChar:function(f,g,m,C){var D=this.getFontCache(g),S=this._getFontDeclaration(g),O=this._getFontDeclaration(C),N=m+f,U=S===O,W,q,J,ne=g.fontSize/this.CACHE_FONT_SIZE,ve;if(m&&D[m]!==void 0&&(J=D[m]),D[f]!==void 0&&(ve=W=D[f]),U&&D[N]!==void 0&&(q=D[N],ve=q-J),W===void 0||J===void 0||q===void 0){var Se=this.getMeasuringContext();this._setTextStyles(Se,g,!0)}return W===void 0&&(ve=W=Se.measureText(f).width,D[f]=W),J===void 0&&U&&m&&(J=Se.measureText(m).width,D[m]=J),U&&q===void 0&&(q=Se.measureText(N).width,D[N]=q,ve=q-J),{width:W*ne,kernedWidth:ve*ne}},getHeightOfChar:function(f,g){return this.getValueOfPropertyAt(f,g,"fontSize")},measureLine:function(f){var g=this._measureLine(f);return this.charSpacing!==0&&(g.width-=this._getWidthOfCharSpacing()),g.width<0&&(g.width=0),g},_measureLine:function(f){var g=0,m,C,D=this._textLines[f],S,O,N=0,U=new Array(D.length),W=0,q,J,ne=this.path,ve=this.pathSide==="right";for(this.__charBounds[f]=U,m=0;m<D.length;m++)C=D[m],O=this._getGraphemeBox(C,f,m,S),U[m]=O,g+=O.kernedWidth,S=C;if(U[m]={left:O?O.left+O.width:0,width:0,kernedWidth:0,height:this.fontSize},ne){switch(J=ne.segmentsInfo[ne.segmentsInfo.length-1].length,q=a.util.getPointOnPath(ne.path,0,ne.segmentsInfo),q.x+=ne.pathOffset.x,q.y+=ne.pathOffset.y,this.textAlign){case"left":W=ve?J-g:0;break;case"center":W=(J-g)/2;break;case"right":W=ve?0:J-g;break}for(W+=this.pathStartOffset*(ve?-1:1),m=ve?D.length-1:0;ve?m>=0:m<D.length;ve?m--:m++)O=U[m],W>J?W%=J:W<0&&(W+=J),this._setGraphemeOnPath(W,O,q),W+=O.kernedWidth}return{width:g,numOfSpaces:N}},_setGraphemeOnPath:function(f,g,m){var C=f+g.kernedWidth/2,D=this.path,S=a.util.getPointOnPath(D.path,C,D.segmentsInfo);g.renderLeft=S.x-m.x,g.renderTop=S.y-m.y,g.angle=S.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(f,g,m,C,D){var S=this.getCompleteStyleDeclaration(g,m),O=C?this.getCompleteStyleDeclaration(g,m-1):{},N=this._measureChar(f,S,C,O),U=N.kernedWidth,W=N.width,q;this.charSpacing!==0&&(q=this._getWidthOfCharSpacing(),W+=q,U+=q);var J={width:W,left:0,height:S.fontSize,kernedWidth:U,deltaY:S.deltaY};if(m>0&&!D){var ne=this.__charBounds[g][m-1];J.left=ne.left+ne.width+N.kernedWidth-N.width}return J},getHeightOfLine:function(f){if(this.__lineHeights[f])return this.__lineHeights[f];for(var g=this._textLines[f],m=this.getHeightOfChar(f,0),C=1,D=g.length;C<D;C++)m=Math.max(this.getHeightOfChar(f,C),m);return this.__lineHeights[f]=m*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var f,g=0,m=0,C=this._textLines.length;m<C;m++)f=this.getHeightOfLine(m),g+=m===C-1?f/this.lineHeight:f;return g},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(f,g){f.save();for(var m=0,C=this._getLeftOffset(),D=this._getTopOffset(),S=0,O=this._textLines.length;S<O;S++){var N=this.getHeightOfLine(S),U=N/this.lineHeight,W=this._getLineLeftOffset(S);this._renderTextLine(g,f,this._textLines[S],C+W,D+m+U,S),m+=N}f.restore()},_renderTextFill:function(f){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(f,"fillText")},_renderTextStroke:function(f){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this._setLineDash(f,this.strokeDashArray),f.beginPath(),this._renderTextCommon(f,"strokeText"),f.closePath(),f.restore())},_renderChars:function(f,g,m,C,D,S){var O=this.getHeightOfLine(S),N=this.textAlign.indexOf("justify")!==-1,U,W,q="",J,ne=0,ve,Se=this.path,Be=!N&&this.charSpacing===0&&this.isEmptyStyles(S)&&!Se,Ue=this.direction==="ltr",qe=this.direction==="ltr"?1:-1,mt,ut=g.canvas.getAttribute("dir");if(g.save(),ut!==this.direction&&(g.canvas.setAttribute("dir",Ue?"ltr":"rtl"),g.direction=Ue?"ltr":"rtl",g.textAlign=Ue?"left":"right"),D-=O*this._fontSizeFraction/this.lineHeight,Be){this._renderChar(f,g,S,0,m.join(""),C,D,O),g.restore();return}for(var ge=0,me=m.length-1;ge<=me;ge++)ve=ge===me||this.charSpacing||Se,q+=m[ge],J=this.__charBounds[S][ge],ne===0?(C+=qe*(J.kernedWidth-J.width),ne+=J.width):ne+=J.kernedWidth,N&&!ve&&this._reSpaceAndTab.test(m[ge])&&(ve=!0),ve||(U=U||this.getCompleteStyleDeclaration(S,ge),W=this.getCompleteStyleDeclaration(S,ge+1),ve=a.util.hasStyleChanged(U,W,!1)),ve&&(Se?(g.save(),g.translate(J.renderLeft,J.renderTop),g.rotate(J.angle),this._renderChar(f,g,S,ge,q,-ne/2,0,O),g.restore()):(mt=C,this._renderChar(f,g,S,ge,q,mt,D,O)),q="",U=W,C+=qe*ne,ne=0);g.restore()},_applyPatternGradientTransformText:function(f){var g=a.util.createCanvasElement(),m,C=this.width+this.strokeWidth,D=this.height+this.strokeWidth;return g.width=C,g.height=D,m=g.getContext("2d"),m.beginPath(),m.moveTo(0,0),m.lineTo(C,0),m.lineTo(C,D),m.lineTo(0,D),m.closePath(),m.translate(C/2,D/2),m.fillStyle=f.toLive(m),this._applyPatternGradientTransform(m,f),m.fill(),m.createPattern(g,"no-repeat")},handleFiller:function(f,g,m){var C,D;return m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?(C=-this.width/2,D=-this.height/2,f.translate(C,D),f[g]=this._applyPatternGradientTransformText(m),{offsetX:C,offsetY:D}):(f[g]=m.toLive(f,this),this._applyPatternGradientTransform(f,m)):(f[g]=m,{offsetX:0,offsetY:0})},_setStrokeStyles:function(f,g){return f.lineWidth=g.strokeWidth,f.lineCap=this.strokeLineCap,f.lineDashOffset=this.strokeDashOffset,f.lineJoin=this.strokeLineJoin,f.miterLimit=this.strokeMiterLimit,this.handleFiller(f,"strokeStyle",g.stroke)},_setFillStyles:function(f,g){return this.handleFiller(f,"fillStyle",g.fill)},_renderChar:function(f,g,m,C,D,S,O){var N=this._getStyleDeclaration(m,C),U=this.getCompleteStyleDeclaration(m,C),W=f==="fillText"&&U.fill,q=f==="strokeText"&&U.stroke&&U.strokeWidth,J,ne;!q&&!W||(g.save(),W&&(J=this._setFillStyles(g,U)),q&&(ne=this._setStrokeStyles(g,U)),g.font=this._getFontDeclaration(U),N&&N.textBackgroundColor&&this._removeShadow(g),N&&N.deltaY&&(O+=N.deltaY),W&&g.fillText(D,S-J.offsetX,O-J.offsetY),q&&g.strokeText(D,S-ne.offsetX,O-ne.offsetY),g.restore())},setSuperscript:function(f,g){return this._setScript(f,g,this.superscript)},setSubscript:function(f,g){return this._setScript(f,g,this.subscript)},_setScript:function(f,g,m){var C=this.get2DCursorLocation(f,!0),D=this.getValueOfPropertyAt(C.lineIndex,C.charIndex,"fontSize"),S=this.getValueOfPropertyAt(C.lineIndex,C.charIndex,"deltaY"),O={fontSize:D*m.size,deltaY:S+D*m.baseline};return this.setSelectionStyles(O,f,g),this},_getLineLeftOffset:function(f){var g=this.getLineWidth(f),m=this.width-g,C=this.textAlign,D=this.direction,O,S=0,O=this.isEndOfWrapping(f);return C==="justify"||C==="justify-center"&&!O||C==="justify-right"&&!O||C==="justify-left"&&!O?0:(C==="center"&&(S=m/2),C==="right"&&(S=m),C==="justify-center"&&(S=m/2),C==="justify-right"&&(S=m),D==="rtl"&&(S-=m),S)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var f=this._forceClearCache;return f||(f=this.hasStateChanged("_dimensionAffectingProps")),f&&(this.dirty=!0,this._forceClearCache=!1),f},getLineWidth:function(f){if(this.__lineWidths[f]!==void 0)return this.__lineWidths[f];var g=this.measureLine(f),m=g.width;return this.__lineWidths[f]=m,m},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(f,g,m){var C=this._getStyleDeclaration(f,g);return C&&typeof C[m]<"u"?C[m]:this[m]},_renderTextDecoration:function(f,g){if(!(!this[g]&&!this.styleHas(g))){f.save(),(g==="overline"||g==="linethrough")&&this._removeShadow(f);for(var m,C,D,S,O,N,U,W,q=this._getLeftOffset(),J=this._getTopOffset(),ne,ve,Se,Be,Ue,qe,mt,ut,ge=this.path,me=this._getWidthOfCharSpacing(),Ie=this.offsets[g],lt=0,Me=this._textLines.length;lt<Me;lt++){if(m=this.getHeightOfLine(lt),!this[g]&&!this.styleHas(g,lt)){J+=m;continue}U=this._textLines[lt],qe=m/this.lineHeight,S=this._getLineLeftOffset(lt),ve=0,Se=0,W=this.getValueOfPropertyAt(lt,0,g),ut=this.getValueOfPropertyAt(lt,0,"fill"),ne=J+qe*(1-this._fontSizeFraction),C=this.getHeightOfChar(lt,0),O=this.getValueOfPropertyAt(lt,0,"deltaY");for(var ue=0,ce=U.length;ue<ce;ue++)if(Be=this.__charBounds[lt][ue],Ue=this.getValueOfPropertyAt(lt,ue,g),mt=this.getValueOfPropertyAt(lt,ue,"fill"),D=this.getHeightOfChar(lt,ue),N=this.getValueOfPropertyAt(lt,ue,"deltaY"),ge&&Ue&&mt)f.save(),f.fillStyle=ut,f.translate(Be.renderLeft,Be.renderTop),f.rotate(Be.angle),f.fillRect(-Be.kernedWidth/2,Ie*D+N,Be.kernedWidth,this.fontSize/15),f.restore();else if((Ue!==W||mt!==ut||D!==C||N!==O)&&Se>0){var oe=q+S+ve;this.direction==="rtl"&&(oe=this.width-oe-Se),W&&ut&&(f.fillStyle=ut,f.fillRect(oe,ne+Ie*C+O,Se,this.fontSize/15)),ve=Be.left,Se=Be.width,W=Ue,ut=mt,C=D,O=N}else Se+=Be.kernedWidth;var oe=q+S+ve;this.direction==="rtl"&&(oe=this.width-oe-Se),f.fillStyle=mt,Ue&&mt&&f.fillRect(oe,ne+Ie*C+O,Se-me,this.fontSize/15),J+=m}f.restore()}},_getFontDeclaration:function(f,g){var m=f||this,C=this.fontFamily,D=a.Text.genericFonts.indexOf(C.toLowerCase())>-1,S=C===void 0||C.indexOf("'")>-1||C.indexOf(",")>-1||C.indexOf('"')>-1||D?m.fontFamily:'"'+m.fontFamily+'"';return[a.isLikelyNode?m.fontWeight:m.fontStyle,a.isLikelyNode?m.fontStyle:m.fontWeight,g?this.CACHE_FONT_SIZE+"px":m.fontSize+"px",S].join(" ")},render:function(f){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",f)))},_splitTextIntoLines:function(f){for(var g=f.split(this._reNewline),m=new Array(g.length),C=[`
`],D=[],S=0;S<g.length;S++)m[S]=a.util.string.graphemeSplit(g[S]),D=D.concat(m[S],C);return D.pop(),{_unwrappedLines:m,lines:g,graphemeText:D,graphemeLines:m}},toObject:function(f){var g=v.concat(f),m=this.callSuper("toObject",g);return m.styles=a.util.stylesToArray(this.styles,this.text),m.path&&(m.path=this.path.toObject()),m},set:function(f,g){this.callSuper("set",f,g);var m=!1,C=!1;if(typeof f=="object")for(var D in f)D==="path"&&this.setPathInfo(),m=m||this._dimensionAffectingProps.indexOf(D)!==-1,C=C||D==="path";else m=this._dimensionAffectingProps.indexOf(f)!==-1,C=f==="path";return C&&this.setPathInfo(),m&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(f,g,m){if(!f)return g(null);var C=a.parseAttributes(f,a.Text.ATTRIBUTE_NAMES),D=C.textAnchor||"left";if(m=a.util.object.extend(m?u(m):{},C),m.top=m.top||0,m.left=m.left||0,C.textDecoration){var S=C.textDecoration;S.indexOf("underline")!==-1&&(m.underline=!0),S.indexOf("overline")!==-1&&(m.overline=!0),S.indexOf("line-through")!==-1&&(m.linethrough=!0),delete m.textDecoration}"dx"in C&&(m.left+=C.dx),"dy"in C&&(m.top+=C.dy),"fontSize"in m||(m.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var O="";"textContent"in f?O=f.textContent:"firstChild"in f&&f.firstChild!==null&&"data"in f.firstChild&&f.firstChild.data!==null&&(O=f.firstChild.data),O=O.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var N=m.strokeWidth;m.strokeWidth=0;var U=new a.Text(O,m),W=U.getScaledHeight()/U.height,q=(U.height+U.strokeWidth)*U.lineHeight-U.height,J=q*W,ne=U.getScaledHeight()+J,ve=0;D==="center"&&(ve=U.getScaledWidth()/2),D==="right"&&(ve=U.getScaledWidth()),U.set({left:U.left-ve,top:U.top-(ne-U.fontSize*(.07+U._fontSizeFraction))/U.lineHeight,strokeWidth:typeof N<"u"?N:1}),g(U)},a.Text.fromObject=function(f,g){var m=u(f),C=f.path;return delete m.path,a.Object._fromObject("Text",m,function(D){D.styles=a.util.stylesFromArray(f.styles,f.text),C?a.Object._fromObject("Path",C,function(S){D.set("path",S),g(D)},"path"):g(D)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)})(e),(function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(d){if(!this.styles||typeof d<"u"&&!this.styles[d])return!0;var a=typeof d>"u"?this.styles:{line:this.styles[d]};for(var u in a)for(var v in a[u])for(var f in a[u][v])return!1;return!0},styleHas:function(d,a){if(!this.styles||!d||d===""||typeof a<"u"&&!this.styles[a])return!1;var u=typeof a>"u"?this.styles:{0:this.styles[a]};for(var v in u)for(var f in u[v])if(typeof u[v][f][d]<"u")return!0;return!1},cleanStyle:function(d){if(!this.styles||!d||d==="")return!1;var a=this.styles,u=0,v,f,g=!0,m=0,C;for(var D in a){v=0;for(var S in a[D]){var C=a[D][S],O=C.hasOwnProperty(d);u++,O?(f?C[d]!==f&&(g=!1):f=C[d],C[d]===this[d]&&delete C[d]):g=!1,Object.keys(C).length!==0?v++:delete a[D][S]}v===0&&delete a[D]}for(var N=0;N<this._textLines.length;N++)m+=this._textLines[N].length;g&&u===m&&(this[d]=f,this.removeStyle(d))},removeStyle:function(d){if(!(!this.styles||!d||d==="")){var a=this.styles,u,v,f;for(v in a){u=a[v];for(f in u)delete u[f][d],Object.keys(u[f]).length===0&&delete u[f];Object.keys(u).length===0&&delete a[v]}}},_extendStyles:function(d,a){var u=this.get2DCursorLocation(d);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),a)},get2DCursorLocation:function(d,a){typeof d>"u"&&(d=this.selectionStart);for(var u=a?this._unwrappedTextLines:this._textLines,v=u.length,f=0;f<v;f++){if(d<=u[f].length)return{lineIndex:f,charIndex:d};d-=u[f].length+this.missingNewlineOffset(f,a)}return{lineIndex:f-1,charIndex:u[f-1].length<d?u[f-1].length:d}},getSelectionStyles:function(d,a,u){typeof d>"u"&&(d=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||d);for(var v=[],f=d;f<a;f++)v.push(this.getStyleAtPosition(f,u));return v},getStyleAtPosition:function(d,a){var u=this.get2DCursorLocation(d),v=a?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return v||{}},setSelectionStyles:function(d,a,u){typeof a>"u"&&(a=this.selectionStart||0),typeof u>"u"&&(u=this.selectionEnd||a);for(var v=a;v<u;v++)this._extendStyles(v,d);return this._forceClearCache=!0,this},_getStyleDeclaration:function(d,a){var u=this.styles&&this.styles[d];return u?u[a]:null},getCompleteStyleDeclaration:function(d,a){for(var u=this._getStyleDeclaration(d,a)||{},v={},f,g=0;g<this._styleProperties.length;g++)f=this._styleProperties[g],v[f]=typeof u[f]>"u"?this[f]:u[f];return v},_setStyleDeclaration:function(d,a,u){this.styles[d][a]=u},_deleteStyleDeclaration:function(d,a){delete this.styles[d][a]},_getLineStyle:function(d){return!!this.styles[d]},_setLineStyle:function(d){this.styles[d]={}},_deleteLineStyle:function(d){delete this.styles[d]}})})(),(function(){function d(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(a,u){this.callSuper("initialize",a,u),this.initBehavior()},setSelectionStart:function(a){a=Math.max(a,0),this._updateAndFire("selectionStart",a)},setSelectionEnd:function(a){a=Math.min(a,this.text.length),this._updateAndFire("selectionEnd",a)},_updateAndFire:function(a,u){this[a]!==u&&(this._fireSelectionChanged(),this[a]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(a){this.clearContextTop(),this.callSuper("render",a),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(a){this.callSuper("_render",a)},clearContextTop:function(a){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,v=this.canvas.viewportTransform;u.save(),u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this.transform(u),this._clearTextArea(u),a||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(a,u):this.renderSelection(a,u),u.restore()}},_clearTextArea:function(a){var u=this.width+4,v=this.height+4;a.clearRect(-u/2,-v/2,u,v)},_getCursorBoundaries:function(a){typeof a>"u"&&(a=this.selectionStart);var u=this._getLeftOffset(),v=this._getTopOffset(),f=this._getCursorBoundariesOffsets(a);return{left:u,top:v,leftOffset:f.left,topOffset:f.top}},_getCursorBoundariesOffsets:function(a){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,v,f,g=0,m=0,C,D=this.get2DCursorLocation(a);f=D.charIndex,v=D.lineIndex;for(var S=0;S<v;S++)g+=this.getHeightOfLine(S);u=this._getLineLeftOffset(v);var O=this.__charBounds[v][f];return O&&(m=O.left),this.charSpacing!==0&&f===this._textLines[v].length&&(m-=this._getWidthOfCharSpacing()),C={top:g,left:u+(m>0?m:0)},this.direction==="rtl"&&(C.left*=-1),this.cursorOffsetCache=C,this.cursorOffsetCache},renderCursor:function(a,u){var v=this.get2DCursorLocation(),f=v.lineIndex,g=v.charIndex>0?v.charIndex-1:0,m=this.getValueOfPropertyAt(f,g,"fontSize"),C=this.scaleX*this.canvas.getZoom(),D=this.cursorWidth/C,S=a.topOffset,O=this.getValueOfPropertyAt(f,g,"deltaY");S+=(1-this._fontSizeFraction)*this.getHeightOfLine(f)/this.lineHeight-m*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(a,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(f,g,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(a.left+a.leftOffset-D/2,S+a.top+O,D,m)},renderSelection:function(a,u){for(var v=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,f=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,g=this.textAlign.indexOf("justify")!==-1,m=this.get2DCursorLocation(v),C=this.get2DCursorLocation(f),D=m.lineIndex,S=C.lineIndex,O=m.charIndex<0?0:m.charIndex,N=C.charIndex<0?0:C.charIndex,U=D;U<=S;U++){var W=this._getLineLeftOffset(U)||0,q=this.getHeightOfLine(U),J=0,ne=0,ve=0;if(U===D&&(ne=this.__charBounds[D][O].left),U>=D&&U<S)ve=g&&!this.isEndOfWrapping(U)?this.width:this.getLineWidth(U)||5;else if(U===S)if(N===0)ve=this.__charBounds[S][N].left;else{var Se=this._getWidthOfCharSpacing();ve=this.__charBounds[S][N-1].left+this.__charBounds[S][N-1].width-Se}J=q,(this.lineHeight<1||U===S&&this.lineHeight>1)&&(q/=this.lineHeight);var Be=a.left+W+ne,Ue=ve-ne,qe=q,mt=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",qe=1,mt=q):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(Be=this.width-Be-Ue),u.fillRect(Be,a.top+a.topOffset+mt,Ue,qe),a.topOffset+=J}},getCurrentCharFontSize:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fontSize")},getCurrentCharColor:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fill")},_getCurrentCharIndex:function(){var a=this.get2DCursorLocation(this.selectionStart,!0),u=a.charIndex>0?a.charIndex-1:0;return{l:a.lineIndex,c:u}}}),t.IText.fromObject=function(a,u){var v=t.util.stylesFromArray(a.styles,a.text),f=Object.assign({},a,{styles:v});if(delete f.path,d(f),f.styles)for(var g in f.styles)for(var m in f.styles[g])d(f.styles[g][m]);t.Object._fromObject("IText",f,function(C){a.path?t.Object._fromObject("Path",a.path,function(D){C.set("path",D),u(C)},"path"):u(C)},"text")}})(),(function(){var d=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var a=this;this.on("added",function(){var u=a.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,a._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(a))})},initRemovedHandler:function(){var a=this;this.on("removed",function(){var u=a.canvas;u&&(u._iTextInstances=u._iTextInstances||[],t.util.removeFromArray(u._iTextInstances,a),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,a._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(a){a._mouseUpITextHandler=function(){a._iTextInstances&&a._iTextInstances.forEach(function(u){u.__isMousedown=!1})},a.on("mouse:up",a._mouseUpITextHandler)},_removeCanvasHandlers:function(a){a.off("mouse:up",a._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(a,u,v,f){var g;return g={isAborted:!1,abort:function(){this.isAborted=!0}},a.animate("_currentCursorOpacity",u,{duration:v,onComplete:function(){g.isAborted||a[f]()},onChange:function(){a.canvas&&a.selectionStart===a.selectionEnd&&a.renderCursorOrSelection()},abort:function(){return g.isAborted}}),g},_onTickComplete:function(){var a=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){a._currentTickCompleteState=a._animateCursor(a,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(a){var u=this,v=a?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},v)},abortCursorAnimation:function(){var a=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,a&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(a){var u=0,v=a-1;if(this._reSpace.test(this._text[v]))for(;this._reSpace.test(this._text[v]);)u++,v--;for(;/\S/.test(this._text[v])&&v>-1;)u++,v--;return a-u},findWordBoundaryRight:function(a){var u=0,v=a;if(this._reSpace.test(this._text[v]))for(;this._reSpace.test(this._text[v]);)u++,v++;for(;/\S/.test(this._text[v])&&v<this._text.length;)u++,v++;return a+u},findLineBoundaryLeft:function(a){for(var u=0,v=a-1;!/\n/.test(this._text[v])&&v>-1;)u++,v--;return a-u},findLineBoundaryRight:function(a){for(var u=0,v=a;!/\n/.test(this._text[v])&&v<this._text.length;)u++,v++;return a+u},searchWordBoundary:function(a,u){for(var v=this._text,f=this._reSpace.test(v[a])?a-1:a,g=v[f],m=t.reNonWord;!m.test(g)&&f>0&&f<v.length;)f+=u,g=v[f];return m.test(g)&&(f+=u===1?0:1),f},selectWord:function(a){a=a||this.selectionStart;var u=this.searchWordBoundary(a,-1),v=this.searchWordBoundary(a,1);this.selectionStart=u,this.selectionEnd=v,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(a){a=a||this.selectionStart;var u=this.findLineBoundaryLeft(a),v=this.findLineBoundaryRight(a);return this.selectionStart=u,this.selectionEnd=v,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(a){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(a),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(a){a._iTextInstances&&a._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(a){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var u=this.getSelectionStartFromPointer(a.e),v=this.selectionStart,f=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||v===f)&&(v===u||f===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==v||this.selectionEnd!==f)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(a,u,v){var f=v.slice(0,a),g=t.util.string.graphemeSplit(f).length;if(a===u)return{selectionStart:g,selectionEnd:g};var m=v.slice(a,u),C=t.util.string.graphemeSplit(m).length;return{selectionStart:g,selectionEnd:g+C}},fromGraphemeToStringSelection:function(a,u,v){var f=v.slice(0,a),g=f.join("").length;if(a===u)return{selectionStart:g,selectionEnd:g};var m=v.slice(a,u),C=m.join("").length;return{selectionStart:g,selectionEnd:g+C}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var a=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=a.selectionStart,this.hiddenTextarea.selectionEnd=a.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=a.selectionEnd,this.inCompositionMode||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var a=this._calcTextareaPosition();this.hiddenTextarea.style.left=a.left,this.hiddenTextarea.style.top=a.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var a=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(a),v=this.get2DCursorLocation(a),f=v.lineIndex,g=v.charIndex,m=this.getValueOfPropertyAt(f,g,"fontSize")*this.lineHeight,C=u.leftOffset,D=this.calcTransformMatrix(),S={x:u.left+C,y:u.top+u.topOffset+m},O=this.canvas.getRetinaScaling(),N=this.canvas.upperCanvasEl,U=N.width/O,W=N.height/O,q=U-m,J=W-m,ne=N.clientWidth/U,ve=N.clientHeight/W;return S=t.util.transformPoint(S,D),S=t.util.transformPoint(S,this.canvas.viewportTransform),S.x*=ne,S.y*=ve,S.x<0&&(S.x=0),S.x>q&&(S.x=q),S.y<0&&(S.y=0),S.y>J&&(S.y=J),S.x+=this.canvas._offset.left,S.y+=this.canvas._offset.top,{left:S.x+"px",top:S.y+"px",fontSize:m+"px",charHeight:m}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var a=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),a&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),a&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var a in this.styles)this._textLines[a]||delete this.styles[a]},removeStyleFromTo:function(a,u){var v=this.get2DCursorLocation(a,!0),f=this.get2DCursorLocation(u,!0),g=v.lineIndex,m=v.charIndex,C=f.lineIndex,D=f.charIndex,S,O;if(g!==C){if(this.styles[g])for(S=m;S<this._unwrappedTextLines[g].length;S++)delete this.styles[g][S];if(this.styles[C])for(S=D;S<this._unwrappedTextLines[C].length;S++)O=this.styles[C][S],O&&(this.styles[g]||(this.styles[g]={}),this.styles[g][m+S-D]=O);for(S=g+1;S<=C;S++)delete this.styles[S];this.shiftLineStyles(C,g-C)}else if(this.styles[g]){O=this.styles[g];var N=D-m,U,W;for(S=m;S<D;S++)delete O[S];for(W in this.styles[g])U=parseInt(W,10),U>=D&&(O[U-N]=O[W],delete O[W])}},shiftLineStyles:function(a,u){var v=d(this.styles);for(var f in this.styles){var g=parseInt(f,10);g>a&&(this.styles[g+u]=v[g],v[g-u]||delete this.styles[g])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(a,u,v,f){var g,m={},C=!1,D=this._unwrappedTextLines[a].length,S=D===u;v||(v=1),this.shiftLineStyles(a,v),this.styles[a]&&(g=this.styles[a][u===0?u:u-1]);for(var O in this.styles[a]){var N=parseInt(O,10);N>=u&&(C=!0,m[N-u]=this.styles[a][O],S&&u===0||delete this.styles[a][O])}var U=!1;for(C&&!S&&(this.styles[a+v]=m,U=!0),(U||D>u)&&v--;v>0;)f&&f[v-1]?this.styles[a+v]={0:d(f[v-1])}:g?this.styles[a+v]={0:d(g)}:delete this.styles[a+v],v--;this._forceClearCache=!0},insertCharStyleObject:function(a,u,v,f){this.styles||(this.styles={});var g=this.styles[a],m=g?d(g):{};v||(v=1);for(var C in m){var D=parseInt(C,10);D>=u&&(g[D+v]=m[D],m[D-v]||delete g[D])}if(this._forceClearCache=!0,f){for(;v--;)Object.keys(f[v]).length&&(this.styles[a]||(this.styles[a]={}),this.styles[a][u+v]=d(f[v]));return}if(g)for(var S=g[u?u-1:1];S&&v--;)this.styles[a][u+v]=d(S)},insertNewStyleBlock:function(a,u,v){for(var f=this.get2DCursorLocation(u,!0),g=[0],m=0,C=0;C<a.length;C++)a[C]===`
`?(m++,g[m]=0):g[m]++;g[0]>0&&(this.insertCharStyleObject(f.lineIndex,f.charIndex,g[0],v),v=v&&v.slice(g[0]+1)),m&&this.insertNewlineStyleObject(f.lineIndex,f.charIndex+g[0],m);for(var C=1;C<m;C++)g[C]>0?this.insertCharStyleObject(f.lineIndex+C,0,g[C],v):v&&this.styles[f.lineIndex+C]&&v[0]&&(this.styles[f.lineIndex+C][0]=v[0]),v=v&&v.slice(g[C]+1);g[C]>0&&this.insertCharStyleObject(f.lineIndex+C,0,g[C],v)},setSelectionStartEndWithShift:function(a,u,v){v<=a?(u===a?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=a),this.selectionStart=v):v>a&&v<u?this._selectionDirection==="right"?this.selectionEnd=v:this.selectionStart=v:(u===a?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=v)},setSelectionInBoundaries:function(){var a=this.text.length;this.selectionStart>a?this.selectionStart=a:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>a?this.selectionEnd=a:this.selectionEnd<0&&(this.selectionEnd=0)}})})(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(d){if(this.canvas){this.__newClickTime=+new Date;var a=d.pointer;this.isTripleClick(a)&&(this.fire("tripleclick",d),this._stopEvent(d.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=a,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(d){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===d.x&&this.__lastPointer.y===d.y},_stopEvent:function(d){d.preventDefault&&d.preventDefault(),d.stopPropagation&&d.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(d){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(d.e))},tripleClickHandler:function(d){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(d.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(d){!this.canvas||!this.editable||d.e.button&&d.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(d.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(d){!this.canvas||!this.editable||d.e.button&&d.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(d){if(this.__isMousedown=!1,!(!this.editable||this.group||d.transform&&d.transform.actionPerformed||d.e.button&&d.e.button!==1)){if(this.canvas){var a=this.canvas._activeObject;if(a&&a!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(d.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(d){var a=this.getSelectionStartFromPointer(d),u=this.selectionStart,v=this.selectionEnd;d.shiftKey?this.setSelectionStartEndWithShift(u,v,a):(this.selectionStart=a,this.selectionEnd=a),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(d){for(var a=this.getLocalPointer(d),u=0,v=0,f=0,g=0,m=0,C,D,S=0,O=this._textLines.length;S<O&&f<=a.y;S++)f+=this.getHeightOfLine(S)*this.scaleY,m=S,S>0&&(g+=this._textLines[S-1].length+this.missingNewlineOffset(S-1));C=this._getLineLeftOffset(m),v=C*this.scaleX,D=this._textLines[m],this.direction==="rtl"&&(a.x=this.width*this.scaleX-a.x+v);for(var N=0,U=D.length;N<U&&(u=v,v+=this.__charBounds[m][N].kernedWidth*this.scaleX,v<=a.x);N++)g++;return this._getNewSelectionStartFromOffset(a,u,v,g,U)},_getNewSelectionStartFromOffset:function(d,a,u,v,f){var g=d.x-a,m=u-d.x,C=m>g||m<0?0:1,D=v+C;return this.flipX&&(D=f-D),D>this._text.length&&(D=this._text.length),D}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var d=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+d.top+"; left: "+d.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+d.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(d){if(this.isEditing){var a=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(d.keyCode in a)this[a[d.keyCode]](d);else if(d.keyCode in this.ctrlKeysMapDown&&(d.ctrlKey||d.metaKey))this[this.ctrlKeysMapDown[d.keyCode]](d);else return;d.stopImmediatePropagation(),d.preventDefault(),d.keyCode>=33&&d.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(d){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(d.keyCode in this.ctrlKeysMapUp&&(d.ctrlKey||d.metaKey))this[this.ctrlKeysMapUp[d.keyCode]](d);else return;d.stopImmediatePropagation(),d.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(d){var a=this.fromPaste;if(this.fromPaste=!1,d&&d.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,v=this._text.length,f=u.length,g,m,C=f-v,D=this.selectionStart,S=this.selectionEnd,O=D!==S,N,U,W;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var q=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),J=D>q.selectionStart;O?(g=this._text.slice(D,S),C+=S-D):f<v&&(J?g=this._text.slice(S+C,S):g=this._text.slice(D,D-C)),m=u.slice(q.selectionEnd-C,q.selectionEnd),g&&g.length&&(m.length&&(N=this.getSelectionStyles(D,D+1,!1),N=m.map(function(){return N[0]})),O?(U=D,W=S):J?(U=S-g.length,W=S):(U=S,W=S+g.length),this.removeStyleFromTo(U,W)),m.length&&(a&&m.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(N=t.copiedTextStyle),this.insertNewStyleBlock(m,D,N)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(d){this.compositionStart=d.target.selectionStart,this.compositionEnd=d.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(d){return d&&d.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(d,a){var u=this._getLineLeftOffset(d),v;return a>0&&(v=this.__charBounds[d][a-1],u+=v.left+v.width),u},getDownCursorOffset:function(d,a){var u=this._getSelectionForOffset(d,a),v=this.get2DCursorLocation(u),f=v.lineIndex;if(f===this._textLines.length-1||d.metaKey||d.keyCode===34)return this._text.length-u;var g=v.charIndex,m=this._getWidthBeforeCursor(f,g),C=this._getIndexOnLine(f+1,m),D=this._textLines[f].slice(g);return D.length+C+1+this.missingNewlineOffset(f)},_getSelectionForOffset:function(d,a){return d.shiftKey&&this.selectionStart!==this.selectionEnd&&a?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(d,a){var u=this._getSelectionForOffset(d,a),v=this.get2DCursorLocation(u),f=v.lineIndex;if(f===0||d.metaKey||d.keyCode===33)return-u;var g=v.charIndex,m=this._getWidthBeforeCursor(f,g),C=this._getIndexOnLine(f-1,m),D=this._textLines[f].slice(0,g),S=this.missingNewlineOffset(f-1);return-this._textLines[f-1].length+C-D.length+(1-S)},_getIndexOnLine:function(d,a){for(var u=this._textLines[d],v=this._getLineLeftOffset(d),f=v,g=0,m,C,D=0,S=u.length;D<S;D++)if(m=this.__charBounds[d][D].width,f+=m,f>a){C=!0;var O=f-m,N=f,U=Math.abs(O-a),W=Math.abs(N-a);g=W<U?D:D-1;break}return C||(g=u.length-1),g},moveCursorDown:function(d){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",d)},moveCursorUp:function(d){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",d)},_moveCursorUpOrDown:function(d,a){var u="get"+d+"CursorOffset",v=this[u](a,this._selectionDirection==="right");a.shiftKey?this.moveCursorWithShift(v):this.moveCursorWithoutShift(v),v!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(d){var a=this._selectionDirection==="left"?this.selectionStart+d:this.selectionEnd+d;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,a),d!==0},moveCursorWithoutShift:function(d){return d<0?(this.selectionStart+=d,this.selectionEnd=this.selectionStart):(this.selectionEnd+=d,this.selectionStart=this.selectionEnd),d!==0},moveCursorLeft:function(d){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",d)},_move:function(d,a,u){var v;if(d.altKey)v=this["findWordBoundary"+u](this[a]);else if(d.metaKey||d.keyCode===35||d.keyCode===36)v=this["findLineBoundary"+u](this[a]);else return this[a]+=u==="Left"?-1:1,!0;if(typeof v<"u"&&this[a]!==v)return this[a]=v,!0},_moveLeft:function(d,a){return this._move(d,a,"Left")},_moveRight:function(d,a){return this._move(d,a,"Right")},moveCursorLeftWithoutShift:function(d){var a=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(a=this._moveLeft(d,"selectionStart")),this.selectionEnd=this.selectionStart,a},moveCursorLeftWithShift:function(d){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(d,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(d,"selectionStart")},moveCursorRight:function(d){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",d)},_moveCursorLeftOrRight:function(d,a){var u="moveCursor"+d+"With";this._currentCursorOpacity=1,a.shiftKey?u+="Shift":u+="outShift",this[u](a)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(d){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(d,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(d,"selectionEnd")},moveCursorRightWithoutShift:function(d){var a=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(a=this._moveRight(d,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,a},removeChars:function(d,a){typeof a>"u"&&(a=d+1),this.removeStyleFromTo(d,a),this._text.splice(d,a-d),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(d,a,u,v){typeof v>"u"&&(v=u),v>u&&this.removeStyleFromTo(u,v);var f=t.util.string.graphemeSplit(d);this.insertNewStyleBlock(f,u,a),this._text=[].concat(this._text.slice(0,u),f,this._text.slice(v)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),(function(){var d=t.util.toFixed,a=t.util.radiansToDegrees,u=t.util.calcRotateMatrix,v=t.util.transformPoint,f=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var g=this._getSVGLeftTopOffsets(),m=this._getSVGTextAndBg(g.textTop,g.textLeft);return this._wrapSVGTextAndBg(m)},toSVG:function(g){var m=this._createBaseSVGMarkup(this._toSVG(),{reviver:g,noStyle:!0,withShadow:!0}),C=this.path;return C?m+C._createBaseSVGMarkup(C._toSVG(),{reviver:g,withShadow:!0}):m},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(g){var m=!0,C=this.getSvgTextDecoration(this);return[g.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",C?'text-decoration="'+C+'" ':"",'style="',this.getSvgStyles(m),'"',this.addPaintOrder()," >",g.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(g,m){var C=[],D=[],S=g,O;this._setSVGBg(D);for(var N=0,U=this._textLines.length;N<U;N++)O=this._getLineLeftOffset(N),(this.textBackgroundColor||this.styleHas("textBackgroundColor",N))&&this._setSVGTextLineBg(D,N,m+O,S),this._setSVGTextLineText(C,N,m+O,S),S+=this.getHeightOfLine(N);return{textSpans:C,textBgRects:D}},_createTextCharSpan:function(g,m,C,D,S){var O=g!==g.trim()||g.match(f),N=this.getSvgSpanStyles(m,O),U=N?'style="'+N+'"':"",W=m.deltaY,q="",J=t.Object.NUM_FRACTION_DIGITS,ne="";if(W&&(q=' dy="'+d(W,J)+'" '),S.renderLeft!==void 0){var ve=S.angle;ne=' rotate="'+d(a(ve),t.Object.NUM_FRACTION_DIGITS)+'" ';var Se=S.width/2,Be=u({angle:a(ve)});Be[4]=S.renderLeft,Be[5]=S.renderTop;var Ue=v({x:-Se,y:0},Be);C=Ue.x,D=Ue.y}return['<tspan x="',d(C,J),'" y="',d(D,J),'" ',q,U,ne,">",t.util.string.escapeXml(g),"</tspan>"].join("")},_setSVGTextLineText:function(g,m,C,D){var S=this.getHeightOfLine(m),O=this.textAlign.indexOf("justify")!==-1,N,U,W="",q,J,ne=0,ve=this._textLines[m],Se;D+=S*(1-this._fontSizeFraction)/this.lineHeight;for(var Be=0,Ue=ve.length-1;Be<=Ue;Be++)Se=Be===Ue||this.charSpacing||this.path,W+=ve[Be],q=this.__charBounds[m][Be],ne===0?(C+=q.kernedWidth-q.width,ne+=q.width):ne+=q.kernedWidth,O&&!Se&&this._reSpaceAndTab.test(ve[Be])&&(Se=!0),Se||(N=N||this.getCompleteStyleDeclaration(m,Be),U=this.getCompleteStyleDeclaration(m,Be+1),Se=t.util.hasStyleChanged(N,U,!0)),Se&&(J=this._getStyleDeclaration(m,Be)||{},g.push(this._createTextCharSpan(W,J,C,D,q)),W="",N=U,C+=ne,ne=0)},_pushTextBgRect:function(g,m,C,D,S,O){var N=t.Object.NUM_FRACTION_DIGITS;g.push("		<rect ",this._getFillAttributes(m),' x="',d(C,N),'" y="',d(D,N),'" width="',d(S,N),'" height="',d(O,N),`"></rect>
`)},_setSVGTextLineBg:function(g,m,C,D){for(var S=this._textLines[m],O=this.getHeightOfLine(m)/this.lineHeight,N=0,U=0,W,q,J=this.getValueOfPropertyAt(m,0,"textBackgroundColor"),ne=0,ve=S.length;ne<ve;ne++)W=this.__charBounds[m][ne],q=this.getValueOfPropertyAt(m,ne,"textBackgroundColor"),q!==J?(J&&this._pushTextBgRect(g,J,C+U,D,N,O),U=W.left,N=W.width,J=q):N+=W.kernedWidth;q&&this._pushTextBgRect(g,q,C+U,D,N,O)},_getFillAttributes:function(g){var m=g&&typeof g=="string"?new t.Color(g):"";return!m||!m.getSource()||m.getAlpha()===1?'fill="'+g+'"':'opacity="'+m.getAlpha()+'" fill="'+m.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(g){for(var m=0,C=0,D=0;D<g;D++)m+=this.getHeightOfLine(D);return C=this.getHeightOfLine(D),{lineTop:m,offset:(this._fontSizeMult-this._fontSizeFraction)*C/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(g){var m=t.Object.prototype.getSvgStyles.call(this,g);return m+" white-space: pre;"}})})(),(function(d){var a=d.fabric||(d.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var v=0,f=0,g=0,m={},C=0;C<u.graphemeLines.length;C++)u.graphemeText[g]===`
`&&C>0?(f=0,g++,v++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[g])&&C>0&&(f++,g++),m[C]={line:v,offset:f},g+=u.graphemeLines[C].length,f+=u.graphemeLines[C].length;return m},styleHas:function(u,v){if(this._styleMap&&!this.isWrapping){var f=this._styleMap[v];f&&(v=f.line)}return a.Text.prototype.styleHas.call(this,u,v)},isEmptyStyles:function(u){if(!this.styles)return!0;var v=0,f=u+1,g,m,C=!1,D=this._styleMap[u],S=this._styleMap[u+1];D&&(u=D.line,v=D.offset),S&&(f=S.line,C=f===u,g=S.offset),m=typeof u>"u"?this.styles:{line:this.styles[u]};for(var O in m)for(var N in m[O])if(N>=v&&(!C||N<g))for(var U in m[O][N])return!1;return!0},_getStyleDeclaration:function(u,v){if(this._styleMap&&!this.isWrapping){var f=this._styleMap[u];if(!f)return null;u=f.line,v=f.offset+v}return this.callSuper("_getStyleDeclaration",u,v)},_setStyleDeclaration:function(u,v,f){var g=this._styleMap[u];u=g.line,v=g.offset+v,this.styles[u][v]=f},_deleteStyleDeclaration:function(u,v){var f=this._styleMap[u];u=f.line,v=f.offset+v,delete this.styles[u][v]},_getLineStyle:function(u){var v=this._styleMap[u];return!!this.styles[v.line]},_setLineStyle:function(u){var v=this._styleMap[u];this.styles[v.line]={}},_wrapText:function(u,v){var f=[],g;for(this.isWrapping=!0,g=0;g<u.length;g++)f=f.concat(this._wrapLine(u[g],g,v));return this.isWrapping=!1,f},_measureWord:function(u,v,f){var g=0,m,C=!0;f=f||0;for(var D=0,S=u.length;D<S;D++){var O=this._getGraphemeBox(u[D],v,D+f,m,C);g+=O.kernedWidth,m=u[D]}return g},_wrapLine:function(u,v,f,Be){var m=0,C=this.splitByGrapheme,D=[],S=[],O=C?a.util.string.graphemeSplit(u):u.split(this._wordJoiners),N="",U=0,W=C?"":" ",q=0,J=0,ne=0,ve=!0,Se=this._getWidthOfCharSpacing(),Be=Be||0;O.length===0&&O.push([]),f-=Be;for(var Ue=0;Ue<O.length;Ue++)N=C?O[Ue]:a.util.string.graphemeSplit(O[Ue]),q=this._measureWord(N,v,U),U+=N.length,m+=J+q-Se,m>f&&!ve?(D.push(S),S=[],m=q,ve=!0):m+=Se,!ve&&!C&&S.push(W),S=S.concat(N),J=C?0:this._measureWord([W],v,U),U++,ve=!1,q>ne&&(ne=q);return Ue&&D.push(S),ne+Be>this.dynamicMinWidth&&(this.dynamicMinWidth=ne-Se+Be),D},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u,v){return this.splitByGrapheme&&!v?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var v=a.Text.prototype._splitTextIntoLines.call(this,u),f=this._wrapText(v.lines,this.width),g=new Array(f.length),m=0;m<f.length;m++)g[m]=f[m].join("");return v.lines=g,v.graphemeLines=f,v},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var v in this._styleMap)this._textLines[v]&&(u[this._styleMap[v].line]=1);for(var v in this.styles)u[v]||delete this.styles[v]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),a.Textbox.fromObject=function(u,v){var f=a.util.stylesFromArray(u.styles,u.text),g=Object.assign({},u,{styles:f});return delete g.path,a.Object._fromObject("Textbox",g,function(m){u.path?a.Object._fromObject("Path",u.path,function(C){m.set("path",C),v(m)},"path"):v(m)},"text")}})(e),(function(){var d=t.controlsUtils,a=d.scaleSkewCursorStyleHandler,u=d.scaleCursorStyleHandler,v=d.scalingEqually,f=d.scalingYOrSkewingX,g=d.scalingXOrSkewingY,m=d.scaleOrSkewActionName,C=t.Object.prototype.controls;if(C.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:g,getActionName:m}),C.mr=new t.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:g,getActionName:m}),C.mb=new t.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:f,getActionName:m}),C.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:f,getActionName:m}),C.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:u,actionHandler:v}),C.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:u,actionHandler:v}),C.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:u,actionHandler:v}),C.br=new t.Control({x:.5,y:.5,cursorStyleHandler:u,actionHandler:v}),C.mtr=new t.Control({x:0,y:-.5,actionHandler:d.rotationWithSnapping,cursorStyleHandler:d.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var D=t.Textbox.prototype.controls={};D.mtr=C.mtr,D.tr=C.tr,D.br=C.br,D.tl=C.tl,D.bl=C.bl,D.mt=C.mt,D.mb=C.mb,D.mr=new t.Control({x:.5,y:0,actionHandler:d.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),D.ml=new t.Control({x:-.5,y:0,actionHandler:d.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}})()})(O2)),O2}var ni=wY();function Nm(){return(Nm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dA(e,t){if(e==null)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)t.indexOf(n=c[r])>=0||(o[n]=e[n]);return o}function Iy(e){var t=Re.useRef(e),n=Re.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Q1=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},B1=function(e){return"touches"in e},Ry=function(e){return e&&e.ownerDocument.defaultView||self},X6=function(e,t,n){var r=e.getBoundingClientRect(),o=B1(t)?(function(c,y){for(var d=0;d<c.length;d++)if(c[d].identifier===y)return c[d];return c[0]})(t.touches,n):t;return{left:Q1((o.pageX-(r.left+Ry(e).pageXOffset))/r.width),top:Q1((o.pageY-(r.top+Ry(e).pageYOffset))/r.height)}},V6=function(e){!B1(e)&&e.preventDefault()},gA=Dn.memo(function(e){var t=e.onMove,n=e.onKey,r=dA(e,["onMove","onKey"]),o=Re.useRef(null),c=Iy(t),y=Iy(n),d=Re.useRef(null),a=Re.useRef(!1),u=Re.useMemo(function(){var m=function(S){V6(S),(B1(S)?S.touches.length>0:S.buttons>0)&&o.current?c(X6(o.current,S,d.current)):D(!1)},C=function(){return D(!1)};function D(S){var O=a.current,N=Ry(o.current),U=S?N.addEventListener:N.removeEventListener;U(O?"touchmove":"mousemove",m),U(O?"touchend":"mouseup",C)}return[function(S){var O=S.nativeEvent,N=o.current;if(N&&(V6(O),!(function(W,q){return q&&!B1(W)})(O,a.current)&&N)){if(B1(O)){a.current=!0;var U=O.changedTouches||[];U.length&&(d.current=U[0].identifier)}N.focus(),c(X6(N,O,d.current)),D(!0)}},function(S){var O=S.which||S.keyCode;O<37||O>40||(S.preventDefault(),y({left:O===39?.05:O===37?-.05:0,top:O===40?.05:O===38?-.05:0}))},D]},[y,c]),v=u[0],f=u[1],g=u[2];return Re.useEffect(function(){return g},[g]),Dn.createElement("div",Nm({},r,{onTouchStart:v,onMouseDown:v,className:"react-colorful__interactive",ref:o,onKeyDown:f,tabIndex:0,role:"slider"}))}),db=function(e){return e.filter(Boolean).join(" ")},pA=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,c=db(["react-colorful__pointer",e.className]);return Dn.createElement("div",{className:c,style:{top:100*o+"%",left:100*n+"%"}},Dn.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Hl=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},CY=function(e){return DY(Ny(e))},Ny=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Hl(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Hl(parseInt(e.substring(6,8),16)/255,2):1}},SY=function(e){return TY(AY(e))},EY=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Hl(e.h),s:Hl(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Hl(o/2),a:Hl(r,2)}},Ly=function(e){var t=EY(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},AY=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var c=Math.floor(t),y=r*(1-n),d=r*(1-(t-c)*n),a=r*(1-(1-t+c)*n),u=c%6;return{r:Hl(255*[r,d,y,y,a,r][u]),g:Hl(255*[a,r,r,d,y,y][u]),b:Hl(255*[y,y,a,r,r,d][u]),a:Hl(o,2)}},rp=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},TY=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,c=o<1?rp(Hl(255*o)):"";return"#"+rp(t)+rp(n)+rp(r)+c},DY=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,c=Math.max(t,n,r),y=c-Math.min(t,n,r),d=y?c===t?(n-r)/y:c===n?2+(r-t)/y:4+(t-n)/y:0;return{h:Hl(60*(d<0?d+6:d)),s:Hl(c?y/c*100:0),v:Hl(c/255*100),a:o}},kY=Dn.memo(function(e){var t=e.hue,n=e.onChange,r=db(["react-colorful__hue",e.className]);return Dn.createElement("div",{className:r},Dn.createElement(gA,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Q1(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Hl(t),"aria-valuemax":"360","aria-valuemin":"0"},Dn.createElement(pA,{className:"react-colorful__hue-pointer",left:t/360,color:Ly({h:t,s:100,v:100,a:1})})))}),_Y=Dn.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Ly({h:t.h,s:100,v:100,a:1})};return Dn.createElement("div",{className:"react-colorful__saturation",style:r},Dn.createElement(gA,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Q1(t.s+100*o.left,0,100),v:Q1(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Hl(t.s)+"%, Brightness "+Hl(t.v)+"%"},Dn.createElement(pA,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Ly(t)})))}),mA=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},MY=function(e,t){return e.toLowerCase()===t.toLowerCase()||mA(Ny(e),Ny(t))};function OY(e,t,n){var r=Iy(n),o=Re.useState(function(){return e.toHsva(t)}),c=o[0],y=o[1],d=Re.useRef({color:t,hsva:c});Re.useEffect(function(){if(!e.equal(t,d.current.color)){var u=e.toHsva(t);d.current={hsva:u,color:t},y(u)}},[t,e]),Re.useEffect(function(){var u;mA(c,d.current.hsva)||e.equal(u=e.fromHsva(c),d.current.color)||(d.current={hsva:c,color:u},r(u))},[c,e,r]);var a=Re.useCallback(function(u){y(function(v){return Object.assign({},v,u)})},[]);return[c,a]}var IY=typeof window<"u"?Re.useLayoutEffect:Re.useEffect,RY=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},K6=new Map,NY=function(e){IY(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!K6.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,K6.set(t,n);var r=RY();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},LY=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,c=e.onChange,y=dA(e,["className","colorModel","color","onChange"]),d=Re.useRef(null);NY(d);var a=OY(n,o,c),u=a[0],v=a[1],f=db(["react-colorful",t]);return Dn.createElement("div",Nm({},y,{ref:d,className:f}),Dn.createElement(_Y,{hsva:u,onChange:v}),Dn.createElement(kY,{hue:u.h,onChange:v,className:"react-colorful__last-control"}))},BY={defaultColor:"000",toHsva:CY,fromHsva:function(e){return SY({h:e.h,s:e.s,v:e.v,a:1})},equal:MY},FY=function(e){return Dn.createElement(LY,Nm({},e,{colorModel:BY}))};const vA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M5 14L14 3L22 7L13 18L5 14Z",fill:"#ffc9c9"}),te.jsx("path",{d:"M5 14L5 19L13 23L13 18",fill:"#fa5252"}),te.jsx("path",{d:"M13 23L22 12L22 7",fill:"#e03131"})]}),yA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M5 14L14 3L22 7L13 18L5 14Z",fill:"#e7f5ff"}),te.jsx("path",{d:"M5 14L5 19L13 23L13 18",fill:"#339af0"}),te.jsx("path",{d:"M13 23L22 12L22 7",fill:"#1c7ed6"}),te.jsx("circle",{cx:"13",cy:"11",r:"2.5",fill:"#f03e3e",stroke:"#f03e3e",strokeWidth:"1"})]}),xA=()=>te.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:te.jsx("ellipse",{cx:"12",cy:"12",rx:"9",ry:"5"})}),Z6=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("circle",{cx:"12",cy:"12",r:"1.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"16",cy:"8",r:"1",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"8",cy:"16",r:"1",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"17",cy:"16",r:"0.8",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"7",cy:"8",r:"0.8",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"12",cy:"6",r:"0.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"6",cy:"12",r:"0.5",fill:"currentColor",stroke:"none"}),te.jsx("circle",{cx:"18",cy:"12",r:"0.5",fill:"currentColor",stroke:"none"})]}),q6=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("circle",{cx:"9",cy:"9",r:"4"}),te.jsx("circle",{cx:"15",cy:"15",r:"5"})]}),Q6=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("rect",{x:"4",y:"16",width:"16",height:"4",rx:"1"}),te.jsx("path",{d:"M17 16L14 3H10L7 16"})]}),J6=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("circle",{cx:"12",cy:"12",r:"3"}),te.jsx("path",{d:"M12 2V4M12 20V22M4 12H2M22 12H20M19.07 4.93L17.66 6.34M6.34 17.66L4.93 19.07M19.07 19.07L17.66 17.66M6.34 6.34L4.93 4.93"})]}),bA=()=>te.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:te.jsx("path",{d:"M12 2L2 12L12 22L22 12L12 2Z"})}),wA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),te.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),te.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),te.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),te.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"})]}),CA=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M12 4v16"}),te.jsx("path",{d:"M8 8l4-4 4 4"}),te.jsx("path",{d:"M8 16l4 4 4-4"})]}),Sp=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M12 19l7-7 3 3-7 7-3-3z"}),te.jsx("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),te.jsx("path",{d:"M2 2l5.5 5.5"})]}),$6=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("path",{d:"M18.3 3a2.5 2.5 0 0 1 2.8 3.8l-2.4 2.9a12 12 0 0 1-5 2.5l-6-5a12 12 0 0 1 2.5-5z",fill:"currentColor",opacity:"0.2"}),te.jsx("path",{d:"M12.5 7.5L5.5 14",strokeWidth:"1.5"}),te.jsx("path",{d:"M16 4.5L8.5 11.5",strokeWidth:"1.5"}),te.jsx("path",{d:"M13.7 12.2a12 12 0 0 1-5 2.5l-5 6 6-5a12 12 0 0 1 2.5-5"})]}),eC=()=>te.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[te.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),te.jsx("line",{x1:"7",y1:"3",x2:"3",y2:"7"}),te.jsx("line",{x1:"14",y1:"3",x2:"3",y2:"14"}),te.jsx("line",{x1:"21",y1:"3",x2:"3",y2:"21"}),te.jsx("line",{x1:"21",y1:"10",x2:"10",y2:"21"}),te.jsx("line",{x1:"21",y1:"17",x2:"17",y2:"21"})]}),By=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  touch-action: none;
`,SA=sn.div`
  width: 95vw;
  height: 90vh;
  max-width: 1280px;
  max-height: 1000px;
  background: #ffffff;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
`,PY=sn.div`
  display: flex;
  flex-wrap: wrap;
  gap: 2px;
  padding: 0.25rem 0.4rem;
  background: #f1f3f5;
  border-bottom: 1px solid #e0e0e0;
  align-items: center;
`,ah=sn.button`
  background: ${({$active:e})=>e?"#e9ecef":"transparent"};
  border: 1px solid ${({$active:e})=>e?"#adb5bd":"transparent"};
  color: #333;
  padding: 4px;
  border-radius: 3px;
  cursor: ${({disabled:e})=>e?"default":"pointer"};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  min-width: 24px;
  height: 24px;
  touch-action: manipulation;
  opacity: ${({disabled:e})=>e?.3:1};
  pointer-events: ${({disabled:e})=>e?"none":"auto"};
  
  &:hover {
    background: ${({disabled:e})=>e?"transparent":"#e9ecef"};
  }
`,zY=sn.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1px;
  align-items: center;
`,EA=sn.div`
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background-color: ${({$color:e})=>e};
  border: 2px solid ${({$selected:e})=>e?"#333":"transparent"};
  cursor: pointer;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  touch-action: manipulation;
  
  &:hover {
    transform: scale(1.1);
  }
`,HY=sn.div`
  flex: 1;
  width: 100%;
  height: 100%;
  background: #f8f9fa;
  overflow-y: auto; /* Allow vertical scrolling */
  overflow-x: hidden;
  position: relative;
  display: flex;
  justify-content: center;
  
  /* Fabric container centering */
  .canvas-container {
    margin: 0 auto;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }
`,UY=sn.div`
  position: absolute;
  bottom: 8px;
  right: 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 100;
`,tC=sn.button`
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: ${({$primary:e})=>e?"#333":"#ffffff"};
  color: ${({$primary:e})=>e?"#ffffff":"#333"};
  border: 1px solid ${({$primary:e})=>e?"#333":"#ced4da"};
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 8px rgba(0,0,0,0.15);
  }

  &:active {
    transform: scale(0.95);
  }
`,jY=sn.div`
  width: 100%;
  height: 2px;
  background: transparent;
  border-top: 2px ${({$dash:e})=>e?"dashed":"solid"} #333;
  ${({$dash:e})=>e&&`border-image: repeating-linear-gradient(to right, #333, #333 ${e[0]}px, transparent ${e[0]}px, transparent ${e[0]+e[1]}px) 1;`}
  /* Simple fallback for complex dashes */
  ${({$dash:e})=>e&&e.length>2&&"border-top: 2px dashed #333;"}
`,C0=sn.div`
  height: ${({$size:e})=>e?Math.max(2,Math.min(24,e)):12}px;
  flex: 1;
  margin-left: 12px;
  border-radius: 2px;
  position: relative;
  background: ${({$type:e,$color:t})=>{if(e==="pen")return t;if(e==="highlighter"){if(t.startsWith("#")){const n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return`rgba(${n}, ${r}, ${o}, 0.3)`}return t.replace("rgb","rgba").replace(")",", 0.3)")}return e==="carbon"?`radial-gradient(${t}, transparent)`:e==="hatch"?`repeating-linear-gradient(45deg, ${t}, ${t} 1px, transparent 1px, transparent 4px)`:t}};

  ${({$type:e,$color:t})=>e==="glow"&&`
    box-shadow: 0 0 8px ${t};
    border: 1px solid white;
  `}

  ${({$type:e})=>e==="spray"&&`
    background-size: 4px 4px;
  `}

  ${({$type:e})=>e==="circle"&&`
    background-size: 8px 8px;
  `}
`,Mf=sn.button`
  width: 100%;
  height: 24px;
  padding: 4px 8px;
  border: 1px solid ${({$active:e})=>e?"#333":"#e0e0e0"};
  background: ${({$active:e})=>e?"#f1f3f5":"white"};
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  
  &:hover {
    background: #f8f9fa;
  }
`,b1=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 10000;
  display: flex;
  align-items: ${({$centered:e=!0})=>e?"center":"flex-start"};
  justify-content: center;
`,hd=sn.div`
  background: white;
  padding: 0.4rem;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  min-width: 65px;

  ${({$anchor:e})=>e&&`
    position: fixed;
    top: ${e.top}px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10001;
  `}
`,w1=sn.div`
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  margin-top: 0.25rem;
`,Ys=sn.button`
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  border: 1px solid #dee2e6;
  background: ${({$variant:e})=>e==="primary"?"#333":"white"};
  color: ${({$variant:e})=>e==="primary"?"white":"#495057"};

  &:hover {
    background: ${({$variant:e})=>e==="primary"?"#222":"#f8f9fa"};
  }
`,nC=sn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
`,ip=sn.input`
  appearance: none;
  width: 100%;
  margin: 0.2rem 0;
  cursor: pointer;
  background: transparent;

  &::-webkit-slider-runnable-track {
    width: 100%;
    height: ${({$size:e})=>Math.min(e,100)}px;
    background: ${({$opacityValue:e})=>e!==void 0?"linear-gradient(to right, #eee, #333)":"#dee2e6"};
    border-radius: ${({$size:e})=>Math.min(e,100)/2}px;
  }

  &::-webkit-slider-thumb {
    appearance: none;
    height: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    width: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    border-radius: 50%;
    background: #333;
    opacity: ${({$opacityValue:e})=>e!==void 0?Math.max(e/100,.1):1};
    cursor: pointer;
    margin-top: ${({$size:e})=>Math.min(e,100)/2-Math.max(Math.min(e,100)+10,24)/2}px;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }

  &::-moz-range-track {
    width: 100%;
    height: ${({$size:e})=>Math.min(e,100)}px;
    background: ${({$opacityValue:e})=>e!==void 0?"linear-gradient(to right, #eee, #333)":"#dee2e6"};
    border-radius: ${({$size:e})=>Math.min(e,100)/2}px;
  }

  &::-moz-range-thumb {
    height: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    width: ${({$size:e})=>Math.max(Math.min(e,100)+10,24)}px;
    border-radius: 50%;
    background: #333;
    opacity: ${({$opacityValue:e})=>e!==void 0?Math.max(e/100,.1):1};
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }

  &:focus {
    outline: none;
  }
`,WY=sn.input`
  width: 60px;
  padding: 0.2rem;
  border: 1px solid #ced4da;
  border-radius: 4px;
  font-size: 0.9rem;
  text-align: center;
  outline: none;

  &:focus {
    border-color: #333;
  }
`,rC=["#000000","#e03131","#2f9e44","#1971c2","#f08c00","#9c36b5"],iC=[2,4,8,16],Ep=[void 0,[5,5],[10,5],[2,2],[15,5,5,5],[20,10],[5,10]],GY=["Arial","Times New Roman","Courier New","Georgia","Verdana","Impact","Comic Sans MS"],YY=100,XY=0,C1={dashArray:Ep[XY],opacity:YY,headSize:20},aC=(e,t,n)=>{if(e.type==="tool")switch(e.toolId){case"select":return te.jsx(AS,{size:16});case"pen":return te.jsx(Sp,{});case"line":return te.jsx(ix,{size:16,style:{transform:"rotate(-45deg)"}});case"arrow":return te.jsx(wS,{size:16,style:{transform:"rotate(-135deg)"}});case"rect":return te.jsx(IS,{size:16});case"circle":return te.jsx(CS,{size:16});case"ellipse":return te.jsx(xA,{});case"triangle":return te.jsx(RS,{size:16});case"diamond":return te.jsx(bA,{});case"text":return te.jsx(NS,{size:16});case"eraser_pixel":return te.jsx(vA,{});case"eraser_object":return te.jsx(yA,{});default:return te.jsx("span",{children:e.toolId})}else if(e.type==="action")switch(e.actionId){case"undo":return te.jsx(DS,{size:16});case"redo":return te.jsx(kS,{size:16});case"download_png":return te.jsx(Rp,{size:16});case"clear":return te.jsx(qh,{size:16});case"extend_height":return te.jsx(CA,{});case"background":return te.jsx(wA,{});default:return te.jsx("span",{children:e.actionId})}else{if(e.type==="color"&&e.colorIndex!==void 0)return te.jsx(EA,{$color:t[e.colorIndex]||"#000",style:{width:14,height:14,cursor:"grab"}});if(e.type==="size"&&e.sizeIndex!==void 0){const r=n[e.sizeIndex]||2;return te.jsx("div",{style:{width:Math.min(r,20),height:Math.min(r,20),borderRadius:"50%",background:"#333"}})}}return te.jsx("span",{children:"?"})},S1=[{id:"select",type:"tool",toolId:"select"},{id:"pen_1",type:"tool",toolId:"pen"},{id:"pen_2",type:"tool",toolId:"pen"},{id:"pen_3",type:"tool",toolId:"pen"},{id:"line",type:"tool",toolId:"line"},{id:"arrow_v2",type:"tool",toolId:"arrow"},{id:"rect",type:"tool",toolId:"rect"},{id:"circle",type:"tool",toolId:"circle"},{id:"ellipse",type:"tool",toolId:"ellipse"},{id:"triangle",type:"tool",toolId:"triangle"},{id:"diamond",type:"tool",toolId:"diamond"},{id:"text",type:"tool",toolId:"text"},{id:"eraser_pixel",type:"tool",toolId:"eraser_pixel"},{id:"eraser_object",type:"tool",toolId:"eraser_object"},{id:"undo",type:"action",actionId:"undo"},{id:"redo",type:"action",actionId:"redo"},{id:"download_png",type:"action",actionId:"download_png"},{id:"clear",type:"action",actionId:"clear"},{id:"extend_height",type:"action",actionId:"extend_height"},{id:"background",type:"action",actionId:"background"},{id:"color-0",type:"color",colorIndex:0},{id:"color-1",type:"color",colorIndex:1},{id:"color-2",type:"color",colorIndex:2},{id:"color-3",type:"color",colorIndex:3},{id:"color-4",type:"color",colorIndex:4},{id:"color-5",type:"color",colorIndex:5},{id:"size-0",type:"size",sizeIndex:0},{id:"size-1",type:"size",sizeIndex:1},{id:"size-2",type:"size",sizeIndex:2},{id:"size-3",type:"size",sizeIndex:3}],VY=(e,t,n)=>{const r=document.createElement("canvas"),o=r.getContext("2d");if(!o)return"#ffffff";let c=30;return e.endsWith("xs")?c=15:e.endsWith("sm")?c=25:e.endsWith("md")?c=35:e.endsWith("lg")?c=45:e.endsWith("xl")&&(c=55),r.width=c,r.height=c,o.fillStyle=t,o.fillRect(0,0,c,c),e==="none"?new ni.fabric.Pattern({source:r,repeat:"repeat"}):(o.strokeStyle=`rgba(0, 0, 0, ${n})`,o.lineWidth=1,e.startsWith("lines")?(o.beginPath(),o.moveTo(0,c-.5),o.lineTo(c,c-.5),o.stroke()):e.startsWith("grid")&&(o.beginPath(),o.moveTo(0,c-.5),o.lineTo(c,c-.5),o.moveTo(c-.5,0),o.lineTo(c-.5,c),o.stroke()),new ni.fabric.Pattern({source:r,repeat:"repeat"}))},I2=sn.button`
  padding: 6px 8px;
  font-size: 11px;
  text-align: left;
  background: ${({$active:e})=>e?"#e9ecef":"transparent"};
  border: none;
  cursor: pointer;
  border-radius: 4px;
  width: 100%;
  
  &:hover {
    background: #f1f3f5;
  }
`,S0=sn.button`
  width: 24px;
  height: 24px;
  border-radius: 4px;
  background: ${({$color:e})=>e};
  border: 2px solid ${({$active:e})=>e?"#333":"#dee2e6"};
  cursor: pointer;
  
  &:hover {
    transform: scale(1.1);
  }
`,oC=sn.div`
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 32px;
  margin: 2px;
  cursor: grab;
  color: #333; /* Ensure icon color is dark */
  /* Visual box removed for cleaner look on small screens */
`,sC=sn.div`
  background: ${({$isDraggingOver:e})=>e?"#f1f3f5":"#f8f9fa"};
  border: 2px dashed #dee2e6;
  border-radius: 8px;
  padding: 12px;
  min-height: 80px;
  display: flex;
  flex-wrap: wrap;
  align-content: flex-start;
  gap: 4px;
  transition: background-color 0.2s;
`,KY=({currentItems:e,allItems:t,onSave:n,onClose:r,colors:o,brushSizes:c})=>{const[y,d]=Re.useState(e),[a,u]=Re.useState(()=>t.filter(f=>!e.some(g=>g.id===f.id))),v=f=>{const{source:g,destination:m}=f;if(m)if(g.droppableId===m.droppableId){const C=g.droppableId==="active"?y:a,D=g.droppableId==="active"?d:u,S=Array.from(C),[O]=S.splice(g.index,1);S.splice(m.index,0,O),D(S)}else{const C=g.droppableId==="active"?y:a,D=m.droppableId==="active"?y:a,S=g.droppableId==="active"?d:u,O=m.droppableId==="active"?d:u,N=Array.from(C),U=Array.from(D),[W]=N.splice(g.index,1);U.splice(m.index,0,W),S(N),O(U)}};return te.jsx(By,{style:{zIndex:11e3},children:te.jsx(SA,{style:{width:"90vw",height:"80vh",maxWidth:"800px",maxHeight:"700px",overflow:"hidden"},children:te.jsxs("div",{style:{padding:"20px",display:"flex",flexDirection:"column",height:"100%"},children:[te.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[te.jsx("h3",{style:{margin:0},children:"Customize Toolbar"}),te.jsxs("div",{style:{display:"flex",gap:"8px"},children:[te.jsx(Ys,{onClick:r,children:"Cancel"}),te.jsx(Ys,{$variant:"primary",onClick:()=>n(y),children:"Save & Apply"})]})]}),te.jsx(s7,{onDragEnd:v,children:te.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"1rem",overflow:"hidden"},children:[te.jsxs("div",{children:[te.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",color:"#666"},children:"Active Toolbar"}),te.jsx(fy,{droppableId:"active",direction:"horizontal",children:(f,g)=>te.jsxs(sC,{ref:f.innerRef,...f.droppableProps,$isDraggingOver:g.isDraggingOver,style:{minHeight:"66px",flexWrap:"nowrap",overflowX:"auto",alignItems:"center",padding:"8px"},children:[y.map((m,C)=>te.jsx(uy,{draggableId:m.id,index:C,children:D=>te.jsx(oC,{ref:D.innerRef,...D.draggableProps,...D.dragHandleProps,children:aC(m,o,c)})},m.id)),f.placeholder]})})]}),te.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[te.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"0.9rem",color:"#666"},children:"Available Tools (Drag here to remove)"}),te.jsx(fy,{droppableId:"reservoir",children:(f,g)=>te.jsxs(sC,{ref:f.innerRef,...f.droppableProps,$isDraggingOver:g.isDraggingOver,style:{flex:1,alignContent:"flex-start",overflowY:"auto"},children:[a.map((m,C)=>te.jsx(uy,{draggableId:m.id,index:C,children:D=>te.jsx(oC,{ref:D.innerRef,...D.draggableProps,...D.dragHandleProps,children:aC(m,o,c)})},m.id)),f.placeholder]})})]})]})})]})})})},AA=({initialData:e,onSave:t,onClose:n})=>{const r=Re.useRef(null),o=Re.useRef(null),c=Re.useRef(null),{t:y}=uf(),{registerGuard:d,unregisterGuard:a}=nx(),u=Re.useRef(!1),v=Re.useRef(n);v.current=n;const f=()=>{u.current?n():(u.current=!0,window.history.back())};Re.useLayoutEffect(()=>{window.history.pushState({fabricOpen:!0,isGuard:!0},"");const nt="fabric-canvas-guard-modal";d(nt,()=>u.current?(v.current(),"ALLOW"):"PREVENT");const Gt=It=>{u.current||(It.preventDefault(),window.history.pushState({fabricOpen:!0,isGuard:!0},""))};return window.addEventListener("popstate",Gt),()=>{a(nt),window.removeEventListener("popstate",Gt)}},[d,a]);const[g,m]=Re.useState(()=>{const nt=localStorage.getItem("fabric_colors");return nt?JSON.parse(nt):rC}),[C,D]=Re.useState(()=>{const nt=localStorage.getItem("fabric_brush_sizes");return nt?JSON.parse(nt):iC}),[S,O]=Re.useState(()=>{const nt=localStorage.getItem("fabric_toolbar_order");if(!nt)return S1;let Gt=JSON.parse(nt);Gt=Gt.filter(nn=>S1.some(xn=>xn.id===nn.id));const It=S1.filter(nn=>!Gt.some(xn=>xn.id===nn.id));if(It.length>0){const nn=[...Gt];return It.forEach(xn=>{const hr=S1.findIndex(En=>En.id===xn.id);nn.splice(hr,0,xn)}),nn}return Gt}),[N,U]=Re.useState("pen"),[W,q]=Re.useState("#000000"),[J,ne]=Re.useState(2),[ve,Se]=Re.useState("none"),[Be,Ue]=Re.useState("#ffffff"),[qe,mt]=Re.useState(.1),[ut,ge]=Re.useState(!1),me=Re.useRef(null),[Ie,lt]=Re.useState(!1),[Me,ue]=Re.useState("#000000"),[ce,oe]=Re.useState(null),[Z,be]=Re.useState(!1),[Te,Fe]=Re.useState(2),[ct,At]=Re.useState(null),[rt,jt]=Re.useState(!1),[_t,Wt]=Re.useState(()=>{const nt=localStorage.getItem("fabric_pen_slot_settings");return nt?JSON.parse(nt):{pen_1:{brushType:"pen",color:"#000000",size:2},pen_2:{brushType:"highlighter",color:"#ffeb3b",size:10},pen_3:{brushType:"pen",color:"#ff0000",size:2}}}),[ft,kt]=Re.useState("pen_1");Re.useEffect(()=>{localStorage.setItem("fabric_pen_slot_settings",JSON.stringify(_t))},[_t]);const[Dt,tn]=Re.useState(()=>{const nt=localStorage.getItem("fabric_shape_styles");return nt?JSON.parse(nt):{}}),[zt,Ut]=Re.useState(!1),[Kt,un]=Re.useState(0),[Xt,Zt]=Re.useState(100),[Bn,gt]=Re.useState(20),[dt,Pe]=Re.useState(()=>localStorage.getItem("fabric_font_family")||"Arial"),[xe,Ee]=Re.useState(!1),[Ze,re]=Re.useState(dt);Re.useEffect(()=>{localStorage.setItem("fabric_font_family",dt)},[dt]),Re.useEffect(()=>{localStorage.setItem("fabric_colors",JSON.stringify(g))},[g]),Re.useEffect(()=>{localStorage.setItem("fabric_brush_sizes",JSON.stringify(C))},[C]),Re.useEffect(()=>{localStorage.setItem("fabric_toolbar_order",JSON.stringify(S))},[S]),Re.useEffect(()=>{localStorage.setItem("fabric_shape_styles",JSON.stringify(Dt))},[Dt]);const[we,Ve]=Re.useState(()=>localStorage.getItem("fabric_brush_type")||"pen"),[it,We]=Re.useState(!1),[Ct,Ye]=Re.useState(!1),[at,St]=Re.useState(we),[yt,Ft]=Re.useState(()=>localStorage.getItem("fabric_palm_rejection")==="true"),pn=Re.useRef(yt);Re.useEffect(()=>{pn.current=yt,localStorage.setItem("fabric_palm_rejection",yt?"true":"false")},[yt]);const[Cn,vn]=Re.useState(yt),[$n,Yn]=Re.useState(!1),[er,Hn]=Re.useState(!1),xr=Re.useRef(0);Re.useEffect(()=>{localStorage.setItem("fabric_brush_type",we)},[we]);const Br=(nt,Gt)=>nt==="pen"?Gt:nt,[mr,Mi]=Re.useState(()=>{const nt=localStorage.getItem("fabric_tool_settings");return nt?JSON.parse(nt):{}});Re.useEffect(()=>{localStorage.setItem("fabric_tool_settings",JSON.stringify(mr))},[mr]),Re.useEffect(()=>{const nt=Br(N,we),Gt=mr[nt];if(Gt)q(Gt.color),ne(Gt.size);else if(N==="pen"&&we==="highlighter"){const It="#f08c00";q(It),ne(16),Mi(xn=>({...xn,[nt]:{color:It,size:16}}))}else Mi(It=>({...It,[nt]:{color:W,size:J}}))},[N,we]);const Jn=Dn.useCallback((nt,Gt,It)=>{nt&&q(nt),Gt&&ne(Gt),It&&Ve(It);const nn=N,xn=It||we,hr=Br(nn,xn);Mi(En=>({...En,[hr]:{color:nt!==void 0?nt:En[hr]?.color||W,size:Gt!==void 0?Gt:En[hr]?.size||J}})),nn==="pen"&&ft&&Wt(En=>({...En,[ft]:{brushType:xn,color:nt!==void 0?nt:En[ft]?.color||W,size:Gt!==void 0?Gt:En[ft]?.size||J}}))},[N,we,W,J,ft,Br]),Fr=Dn.useCallback((nt,Gt,It)=>{if(Gt==="tool"&&It)if(It==="pen"){const nn=nt==="pen"||nt==="pen_1"?"pen_1":nt==="pen_2"?"pen_2":nt==="pen_3"?"pen_3":"pen_1";kt(nn);const xn=_t[nn];xn&&(Ve(xn.brushType),q(xn.color),ne(xn.size)),U("pen")}else U(It)},[_t,kt,Ve,q,ne,U]),si=Re.useRef(!1),Yr=Re.useRef(null),vi=Re.useRef(null),Sn=Re.useRef(null),vr=Re.useRef([]),Pr=Re.useRef(-1),ar=Re.useRef(!1),fi=Re.useRef({}),yi=Re.useRef(0),[xi,Tr]=Re.useState(null),zr=(nt,Gt,It)=>{const nn=Date.now(),xn=fi.current[Gt]||0,hr=nn-xn;hr>0&&hr<400?(nt.cancelable&&nt.preventDefault(),yi.current=nn,It(nt),fi.current[Gt]=0):fi.current[Gt]=nn},gr=Dn.useCallback(()=>{if(ar.current)return;const nt=c.current;if(!nt)return;const Gt=JSON.stringify(nt.toJSON());Pr.current<vr.current.length-1&&(vr.current=vr.current.slice(0,Pr.current+1)),vr.current.push(Gt),Pr.current=vr.current.length-1,vr.current.length>50&&(vr.current.shift(),Pr.current--),We(Pr.current>0),Ye(!1)},[]);Re.useLayoutEffect(()=>{if(!r.current||!o.current)return;c.current&&c.current.dispose();const nt=o.current.clientWidth,Gt=o.current.clientHeight,It=new ni.fabric.Canvas(r.current,{width:nt,height:Gt,backgroundColor:"#ffffff",isDrawingMode:!0,selection:!1});It.freeDrawingBrush=new ni.fabric.PencilBrush(It),It.freeDrawingBrush.width=J,It.freeDrawingBrush.color=W,c.current=It;const nn=En=>{if(!pn.current)return;const Dr=En.pointerType==="pen";let $r=!1;const Rr=En.touches&&En.touches.length>0?En.touches:En.changedTouches;if(Rr&&Rr.length>0){const Jr=Rr[0];Jr.touchType==="stylus"&&($r=!0);const kr=Jr.force||En.pressure||0;kr>0&&kr!==1&&($r=!0)}const ei=En.pressure||0,Ur=(En.tiltX||0)!==0||(En.tiltY||0)!==0;Dr||$r||Ur||ei>0&&ei!==.5&&ei!==1||(En.cancelable&&En.type!=="pointerleave"&&En.type!=="pointercancel"&&En.preventDefault(),En.stopImmediatePropagation(),En.stopPropagation())},xn=It.upperCanvasEl;if(xn){const En={capture:!0,passive:!1};xn.addEventListener("pointerdown",nn,En),xn.addEventListener("pointermove",nn,En),xn.addEventListener("touchstart",nn,En),xn.addEventListener("touchmove",nn,En)}setTimeout(()=>gr(),100),It.on("object:added",gr),It.on("object:modified",gr),It.on("object:removed",gr);const hr=En=>{const Dr=En.target;if(Dr){let $r="";Dr.type==="i-text"||Dr.type==="text"?$r=Dr.fill:$r=Dr.stroke;const Rr=Dr.strokeWidth||J;$r&&q($r),Rr&&ne(Rr)}};if(It.on("selection:created",hr),It.on("selection:updated",hr),e)try{const En=JSON.parse(e);En.height&&It.setHeight(En.height),It.loadFromJSON(En,()=>{It.renderAll(),gr()})}catch(En){console.error("Failed to load fabric JSON",En)}return()=>{xn&&(xn.removeEventListener("pointerdown",nn,!0),xn.removeEventListener("pointermove",nn,!0),xn.removeEventListener("touchstart",nn,!0),xn.removeEventListener("touchmove",nn,!0)),It.off("object:added",gr),It.off("object:modified",gr),It.off("object:removed",gr),It.off("selection:created",hr),It.off("selection:updated",hr),It.dispose(),c.current=null}},[]);const aa=(nt,Gt)=>{const It=nt.currentTarget.getBoundingClientRect();Tr({top:It.bottom+5}),oe(Gt),ue(g[Gt]),yi.current=Date.now(),lt(!0)},Hr=()=>{if(Tr(null),ce!==null){const nt=[...g];nt[ce]=Me,m(nt),q(Me),Jn(Me,void 0),lt(!1),oe(null),xr.current=Date.now()}},or=()=>{ce!==null&&ue(rC[ce])},co=()=>{Tr(null),lt(!1),oe(null)},bi=(nt,Gt)=>{const It=nt.currentTarget.getBoundingClientRect();Tr({top:It.bottom+5}),At(Gt),Fe(C[Gt]),yi.current=Date.now(),be(!0)},Ri=()=>{if(Tr(null),ct!==null){const nt=[...C];nt[ct]=Te,D(nt),ne(Te),Jn(void 0,Te),be(!1),At(null),xr.current=Date.now()}},hn=()=>{ct!==null&&Fe(iC[ct])},wi=()=>{Tr(null),be(!1),At(null)},mn=(nt,Gt)=>{const It=nt.currentTarget.getBoundingClientRect();Tr({top:It.bottom+5});const nn=Dt[Gt]||C1,xn=Ep.findIndex(hr=>JSON.stringify(hr)===JSON.stringify(nn.dashArray));un(xn===-1?0:xn),Zt(nn.opacity),gt(nn.headSize||20),Ut(!0)},Ki=()=>{Tr(null),N&&tn(nt=>({...nt,[N]:{dashArray:Ep[Kt],opacity:Xt,headSize:Bn}})),Ut(!1)},Bo=()=>{un(0),Zt(100),gt(20)},br=()=>{Tr(null),Ut(!1)},Xn=nt=>{const Gt=nt.currentTarget.getBoundingClientRect();Tr({top:Gt.bottom+5}),St(we),yi.current=Date.now(),Yn(!0)},fr=()=>{Jn(void 0,void 0,at),Ft(Cn),Tr(null),Yn(!1),xr.current=Date.now()},Or=()=>{St("pen"),vn(!1)},fo=()=>{Tr(null),Yn(!1),St(we),vn(yt)},cn=()=>{Tr(null),Ee(!1)},On=nt=>{const Gt=nt.currentTarget.getBoundingClientRect();Tr({top:Gt.bottom+5}),re(dt),yi.current=Date.now(),Ee(!0)},Zi=()=>{Pe(Ze),Tr(null),Ee(!1),xr.current=Date.now()},hl=nt=>te.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[nt.type==="tool"&&te.jsx(ah,{$active:nt.toolId==="pen"?N==="pen"&&ft===(nt.id==="pen"?"pen_1":nt.id):N===nt.toolId,onClick:()=>Fr(nt.id,nt.type,nt.toolId),onDoubleClick:Gt=>{nt.toolId==="pen"?Xn(Gt):nt.toolId==="text"?On(Gt):["line","arrow","rect","circle","ellipse","triangle","diamond"].includes(nt.toolId)&&mn(Gt,nt.toolId)},onTouchStart:Gt=>{nt.toolId==="pen"?zr(Gt,`tool - ${nt.toolId} `,It=>Xn(It)):nt.toolId==="text"?zr(Gt,`tool - ${nt.toolId} `,It=>On(It)):["line","arrow","rect","circle","ellipse","triangle","diamond"].includes(nt.toolId)&&zr(Gt,`tool - ${nt.toolId} `,It=>mn(It,nt.toolId))},title:(nt.toolId??"").charAt(0).toUpperCase()+(nt.toolId??"").slice(1),children:nt.toolId==="pen"?(()=>{const Gt=nt.id==="pen"||nt.id==="pen_1"?"pen_1":nt.id==="pen_2"?"pen_2":nt.id==="pen_3"?"pen_3":"pen_1",It=_t[Gt];switch(It?It.brushType:"pen"){case"pen":return te.jsx(Sp,{});case"carbon":return te.jsx($6,{});case"hatch":return te.jsx(eC,{});case"highlighter":return te.jsx(Q6,{});case"spray":return te.jsx(Z6,{});case"circle":return te.jsx(q6,{});case"glow":return te.jsx(J6,{});default:return te.jsx(Sp,{})}})():te.jsxs(te.Fragment,{children:[nt.toolId==="select"&&te.jsx(AS,{size:16}),nt.toolId==="line"&&te.jsx(ix,{size:16,style:{transform:"rotate(-45deg)"}}),nt.toolId==="arrow"&&te.jsx(wS,{size:16,style:{transform:"rotate(-135deg)"}}),nt.toolId==="rect"&&te.jsx(IS,{size:16}),nt.toolId==="circle"&&te.jsx(CS,{size:16}),nt.toolId==="ellipse"&&te.jsx(xA,{}),nt.toolId==="triangle"&&te.jsx(RS,{size:16}),nt.toolId==="diamond"&&te.jsx(bA,{}),nt.toolId==="text"&&te.jsx(NS,{size:16}),nt.toolId==="eraser_pixel"&&te.jsx(vA,{}),nt.toolId==="eraser_object"&&te.jsx(yA,{})]})}),nt.type==="action"&&te.jsxs(te.Fragment,{children:[nt.actionId==="undo"&&te.jsx(ah,{onClick:Ti,title:"Undo (Ctrl+Z)",disabled:!it,children:te.jsx(DS,{size:16})}),nt.actionId==="redo"&&te.jsx(ah,{onClick:Ht,title:"Redo (Ctrl+Y)",disabled:!Ct,children:te.jsx(kS,{size:16})}),nt.actionId==="download_png"&&te.jsx(ah,{onClick:Ir,title:"Download as PNG",children:te.jsx(Rp,{size:16})}),nt.actionId==="clear"&&te.jsx(ah,{onClick:()=>{window.confirm("Clear all?")&&Zn()},title:"Clear All",children:te.jsx(qh,{size:16})}),nt.actionId==="extend_height"&&te.jsx(ah,{onClick:Qe,title:"Extend height",children:te.jsx(CA,{})}),nt.actionId==="background"&&te.jsxs("div",{style:{position:"relative",display:"flex"},children:[te.jsx(ah,{$active:ve!=="none"||ut,onClick:()=>{ut?ge(!1):(me.current={type:ve,color:Be,opacity:qe},ge(!0))},title:"Background",children:te.jsx(wA,{})}),ut&&te.jsxs("div",{style:{position:"absolute",top:"100%",left:0,zIndex:1e3,background:"white",border:"1px solid #ced4da",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"12px",display:"flex",flexDirection:"column",gap:"8px",minWidth:"220px",maxHeight:"400px",overflowY:"auto"},onClick:Gt=>Gt.stopPropagation(),children:[te.jsx("div",{style:{fontWeight:600,fontSize:"0.8rem",color:"#495057"},children:"Grid/Line Type"}),te.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4px"},children:[te.jsx(I2,{$active:ve==="none",onClick:()=>Se("none"),children:"None"}),te.jsx(I2,{$active:ve.startsWith("lines"),onClick:()=>Se("lines-sm"),children:"Lines"}),te.jsx(I2,{$active:ve.startsWith("grid"),onClick:()=>Se("grid-sm"),children:"Grid"})]}),(ve.startsWith("lines")||ve.startsWith("grid"))&&te.jsxs(te.Fragment,{children:[te.jsx("div",{style:{fontSize:"0.75rem",color:"#888",marginTop:"4px"},children:"Size"}),te.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:["xs","sm","md","lg","xl"].map(Gt=>te.jsx("button",{style:{flex:1,padding:"2px",fontSize:"10px",background:ve.endsWith(Gt)?"#333":"#f1f3f5",color:ve.endsWith(Gt)?"white":"#333",border:"none",borderRadius:"2px",cursor:"pointer"},onClick:()=>Se(`${ve.split("-")[0]}-${Gt}`),children:Gt.toUpperCase()},Gt))}),te.jsx("div",{style:{fontSize:"0.75rem",color:"#888",marginTop:"4px"},children:"Line Darkness"}),te.jsx(ip,{type:"range",min:"5",max:"80",$size:20,$opacityValue:qe*100,value:qe*100,onChange:Gt=>mt(parseInt(Gt.target.value)/100),style:{margin:"4px 0"}})]}),te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"4px 0"}}),te.jsx("div",{style:{fontWeight:600,fontSize:"0.8rem",color:"#495057"},children:"Paper Color"}),te.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[te.jsx(S0,{$color:"#ffffff",$active:Be==="#ffffff",onClick:()=>Ue("#ffffff"),title:"White"}),te.jsx(S0,{$color:"#f8f9fa",$active:Be==="#f8f9fa",onClick:()=>Ue("#f8f9fa"),title:"Light Gray"}),te.jsx(S0,{$color:"#e9ecef",$active:Be==="#e9ecef",onClick:()=>Ue("#e9ecef"),title:"Gray"}),te.jsx(S0,{$color:"#dee2e6",$active:Be==="#dee2e6",onClick:()=>Ue("#dee2e6"),title:"Dark Gray"}),te.jsx(S0,{$color:"#faf9f6",$active:Be==="#faf9f6",onClick:()=>Ue("#faf9f6"),title:"Off White"}),te.jsx(S0,{$color:"#f5f5dc",$active:Be==="#f5f5dc",onClick:()=>Ue("#f5f5dc"),title:"Beige"}),te.jsx(S0,{$color:"#e8e4c9",$active:Be==="#e8e4c9",onClick:()=>Ue("#e8e4c9"),title:"Dark Beige"})]}),te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"8px 0 4px 0"}}),te.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[te.jsx(Ys,{onClick:()=>{me.current&&(Se(me.current.type),Ue(me.current.color),mt(me.current.opacity)),ge(!1)},children:"Cancel"}),te.jsx(Ys,{$variant:"primary",onClick:()=>{ge(!1)},children:"OK"})]})]})]})]}),nt.type==="color"&&te.jsx("div",{style:{padding:"0 4px",display:"flex",alignItems:"center",height:"28px"},children:te.jsx(EA,{$color:g[nt.colorIndex],$selected:W===g[nt.colorIndex]&&!N.startsWith("eraser"),onClick:()=>{const Gt=g[nt.colorIndex];q(Gt),Jn(Gt,void 0),N.startsWith("eraser")&&U("pen")},onDoubleClick:Gt=>aa(Gt,nt.colorIndex),onTouchStart:Gt=>zr(Gt,`color - ${nt.colorIndex} `,It=>aa(It,nt.colorIndex)),title:"Double-click to change color"})}),nt.type==="size"&&te.jsx(ah,{$active:J===C[nt.sizeIndex],onClick:()=>{const Gt=C[nt.sizeIndex];ne(Gt),Jn(void 0,Gt)},onDoubleClick:Gt=>bi(Gt,nt.sizeIndex),onTouchStart:Gt=>zr(Gt,`size - ${nt.sizeIndex} `,It=>bi(It,nt.sizeIndex)),style:{width:30,fontSize:"0.8rem",padding:0},title:`Size: ${C[nt.sizeIndex]} px(Double - click to change)`,children:te.jsx("div",{style:{width:Math.min(C[nt.sizeIndex],20),height:Math.min(C[nt.sizeIndex],20),borderRadius:"50%",background:"#333"}})})]},nt.id),Ai=Dn.useCallback(nt=>{const Gt=c.current;if(!Gt)return;const It=Gt.getPointer(nt.e);si.current=!0,Yr.current={x:It.x,y:It.y};let nn=null;const xn=Dt[N]||C1,hr={stroke:W,strokeWidth:J,strokeDashArray:xn.dashArray,opacity:xn.opacity/100,fill:"transparent",left:It.x,top:It.y,selectable:!1,evented:!1};if(N==="line"||N==="arrow"){if(nn=new ni.fabric.Line([It.x,It.y,It.x,It.y],{...hr,strokeLineCap:"round"}),N==="arrow"){nn.hasArrow=!0;const En=new ni.fabric.Polyline([new ni.fabric.Point(It.x,It.y),new ni.fabric.Point(It.x,It.y),new ni.fabric.Point(It.x,It.y)],{stroke:W,strokeWidth:J,fill:"transparent",strokeLineCap:"round",strokeLineJoin:"round",selectable:!1,evented:!1,opacity:(xn.opacity||100)/100});Sn.current=En,Gt.add(En)}}else N==="rect"?nn=new ni.fabric.Rect({...hr,width:0,height:0}):N==="circle"?nn=new ni.fabric.Circle({...hr,radius:0}):N==="triangle"?nn=new ni.fabric.Triangle({...hr,width:0,height:0}):N==="ellipse"?nn=new ni.fabric.Ellipse({...hr,rx:0,ry:0}):N==="diamond"&&(nn=new ni.fabric.Polygon([new ni.fabric.Point(0,0),new ni.fabric.Point(0,0),new ni.fabric.Point(0,0),new ni.fabric.Point(0,0)],{...hr,originX:"center",originY:"center",isDiamond:!0}));nn&&(vi.current=nn,Gt.add(nn))},[N,W,J,Dt]),ka=Dn.useCallback(nt=>{if(!si.current||!vi.current||!Yr.current)return;const Gt=c.current;if(!Gt)return;const It=Gt.getPointer(nt.e),nn=Yr.current,xn=vi.current,hr=Math.min(nn.x,It.x),En=Math.min(nn.y,It.y),Dr=Math.abs(It.x-nn.x),$r=Math.abs(It.y-nn.y);if(N==="line"||N==="arrow"){if(xn.set({x2:It.x,y2:It.y}),N==="arrow"){const Rr=Math.round(It.x),ei=Math.round(It.y),Ur=Math.PI/6,Jr=Yr.current,kr=Math.atan2(ei-Math.round(Jr.y),Rr-Math.round(Jr.x)),Vn=Dt.arrow||C1,xa=Math.round(Vn.headSize||Math.max(12,J*3)),tr=Math.round(Rr-xa*Math.cos(kr-Ur)),Kr=Math.round(ei-xa*Math.sin(kr-Ur)),hi=Math.round(Rr-xa*Math.cos(kr+Ur)),Hi=Math.round(ei-xa*Math.sin(kr+Ur));Sn.current&&(Sn.current.set({points:[new ni.fabric.Point(tr,Kr),new ni.fabric.Point(Rr,ei),new ni.fabric.Point(hi,Hi)]}),Sn.current.setCoords(),Gt.requestRenderAll()),xn.arrowHead=[new ni.fabric.Point(tr,Kr),new ni.fabric.Point(Rr,ei),new ni.fabric.Point(hi,Hi)],xn.set({x2:Rr,y2:ei})}}else if(N==="rect")xn.set({left:hr,top:En,width:Dr,height:$r});else if(N==="circle"){const Rr=Math.max(Dr,$r)/2,ei=nn.x+(It.x<nn.x?-Rr*2:0),Ur=nn.y+(It.y<nn.y?-Rr*2:0);xn.set({radius:Rr,left:ei,top:Ur})}else if(N==="triangle")xn.set({left:hr,top:En,width:Dr,height:$r});else if(N==="ellipse")xn.set({rx:Dr/2,ry:$r/2,left:hr,top:En});else if(N==="diamond"){const Rr=Dr/2,ei=$r/2,Ur=[new ni.fabric.Point(0,-ei),new ni.fabric.Point(Rr,0),new ni.fabric.Point(0,ei),new ni.fabric.Point(-Rr,0)];xn.set({points:Ur,left:hr+Rr,top:En+ei,width:Dr,height:$r,pathOffset:new ni.fabric.Point(0,0)})}xn.setCoords(),Gt.requestRenderAll()},[N]),pr=Dn.useCallback(()=>{if(si.current=!1,vi.current){const nt=vi.current;if(N==="arrow"&&nt.x1!==void 0){const Gt=nt,It=Math.round(Gt.x1),nn=Math.round(Gt.y1),xn=Math.round(Gt.x2),hr=Math.round(Gt.y2),En=Math.atan2(hr-nn,xn-It),Dr=Dt[N]||C1,$r=Math.round(Dr.headSize||Math.max(12,J*3)),Rr=Math.PI/6,ei=Math.round(xn-$r*Math.cos(En-Rr)),Ur=Math.round(hr-$r*Math.sin(En-Rr)),Jr=Math.round(xn-$r*Math.cos(En+Rr)),kr=Math.round(hr-$r*Math.sin(En+Rr)),Vn=c.current;if(Vn){Vn.remove(nt);const xa=Math.min(It,xn,ei,Jr),tr=Math.min(nn,hr,Ur,kr),Kr=new ni.fabric.Line([It-xa,nn-tr,xn-xa,hr-tr],{stroke:W,strokeWidth:J,strokeDashArray:Dr.dashArray,strokeLineCap:"round",originX:"left",originY:"top",left:It<xn?0:It-xn});Kr.set({left:Math.min(It,xn)-xa,top:Math.min(nn,hr)-tr});const hi=new ni.fabric.Polyline([new ni.fabric.Point(ei-xa,Ur-tr),new ni.fabric.Point(xn-xa,hr-tr),new ni.fabric.Point(Jr-xa,kr-tr)],{stroke:W,strokeWidth:J,strokeDashArray:void 0,fill:"transparent",strokeLineCap:"round",strokeLineJoin:"round",originX:"left",originY:"top",left:Math.min(xn,ei,Jr)-xa,top:Math.min(hr,Ur,kr)-tr}),Hi=new ni.fabric.Group([Kr,hi],{selectable:!1,evented:!0,isArrow:!0,opacity:(Dr.opacity||100)/100,left:xa,top:tr,originX:"left",originY:"top"});Vn.add(Hi)}}if(Sn.current){const Gt=c.current;Gt&&Gt.remove(Sn.current),Sn.current=null}vi.current.setCoords(),vi.current=null}},[N,W,J,Dt]),Zn=()=>{c.current&&(c.current.clear(),c.current.setBackgroundColor("#ffffff",()=>{c.current?.renderAll()}))},Ir=()=>{const nt=c.current;if(!nt)return;const Gt=new Date,It=Gt.getFullYear(),nn=String(Gt.getMonth()+1).padStart(2,"0"),xn=String(Gt.getDate()).padStart(2,"0"),hr=String(Gt.getHours()).padStart(2,"0"),En=String(Gt.getMinutes()).padStart(2,"0"),Dr=String(Gt.getSeconds()).padStart(2,"0"),Rr=`drawing-${`${It}${nn}${xn}-${hr}${En}${Dr}`}`,ei=window.prompt(y.drawing?.enter_filename||"Enter filename:",Rr);if(ei===null)return;const Ur=ei.trim()||Rr,Jr=nt.toDataURL({format:"png",quality:1,enableRetinaScaling:!0}),kr=document.createElement("a");kr.download=Ur.endsWith(".png")?Ur:`${Ur}.png`,kr.href=Jr,document.body.appendChild(kr),kr.click(),document.body.removeChild(kr)},Ti=Dn.useCallback(()=>{const nt=c.current;if(nt&&Pr.current>0){ar.current=!0,Pr.current--;const Gt=vr.current[Pr.current];nt.loadFromJSON(JSON.parse(Gt),()=>{nt.renderAll(),ar.current=!1,We(Pr.current>0),Ye(!0)})}},[]),Ht=Dn.useCallback(()=>{const nt=c.current;if(nt&&Pr.current<vr.current.length-1){ar.current=!0,Pr.current++;const Gt=vr.current[Pr.current];nt.loadFromJSON(JSON.parse(Gt),()=>{nt.renderAll(),ar.current=!1,We(!0),Ye(Pr.current<vr.current.length-1)})}},[]),Qe=()=>{const nt=c.current;if(!nt)return;const It=nt.getHeight()+400;nt.setHeight(It),nt.renderAll(),gr()},Gn=Dn.useCallback(()=>{jt(!0)},[]),Di=()=>{jt(!1),u.current=!0,f()},pa=()=>{if(!c.current)return;const Gt=c.current.toJSON(["width","height"]),It=JSON.stringify(Gt);t(It)};return Re.useEffect(()=>{const nt=Gt=>{if(Gt.target instanceof HTMLInputElement||Gt.target instanceof HTMLTextAreaElement)return;switch(Gt.key.toLowerCase()){case"p":case"b":U("pen");break;case"l":U("line");break;case"a":U("arrow");break;case"r":U("rect");break;case"c":U("circle");break;case"t":U("text");break;case"e":U("eraser_pixel");break;case"d":case"x":U("eraser_object");break;case"z":(Gt.ctrlKey||Gt.metaKey)&&Gt.shiftKey?(Gt.preventDefault(),Ht()):(Gt.ctrlKey||Gt.metaKey)&&(Gt.preventDefault(),Ti());break;case"y":(Gt.ctrlKey||Gt.metaKey)&&(Gt.preventDefault(),Ht());break;case"escape":Gn();break;case"delete":case"backspace":{const nn=c.current;if(nn){const xn=nn.getActiveObject();if(xn&&xn.isEditing)return;const hr=nn.getActiveObjects();hr.length>0&&(Gt.preventDefault(),nn.discardActiveObject(),hr.forEach(En=>{nn.remove(En)}),nn.requestRenderAll(),gr())}break}case"1":ne(C[0]),Jn(void 0,C[0]);break;case"2":ne(C[1]),Jn(void 0,C[1]);break;case"3":ne(C[2]),Jn(void 0,C[2]);break;case"4":ne(C[3]),Jn(void 0,C[3]);break}};return window.addEventListener("keydown",nt),()=>window.removeEventListener("keydown",nt)},[f,C,Ti,Ht,ne,Jn,gr,Gn]),Re.useEffect(()=>{const nt=c.current;if(nt)switch(nt.isDrawingMode=!1,nt.selection=!1,nt.defaultCursor="default",nt.hoverCursor="default",nt.forEachObject(Gt=>{Gt.set({selectable:!1,evented:!0,hoverCursor:"default"})}),nt.off("mouse:down"),nt.off("mouse:move"),nt.off("mouse:up"),N){case"select":nt.isDrawingMode=!1,nt.selection=!0,nt.defaultCursor="default",nt.forEachObject(Gt=>{Gt.set({selectable:!0,evented:!0,hoverCursor:"move"})}),nt.requestRenderAll();break;case"pen":if(nt.isDrawingMode=!0,we==="spray")nt.freeDrawingBrush=new ni.fabric.SprayBrush(nt);else if(we==="circle")nt.freeDrawingBrush=new ni.fabric.CircleBrush(nt);else if(we==="highlighter")nt.freeDrawingBrush=new ni.fabric.PencilBrush(nt),nt.freeDrawingBrush.strokeLinecap="butt";else if(we==="carbon"){const Gt=document.createElement("canvas"),It=32;Gt.width=It,Gt.height=It;const nn=Gt.getContext("2d");if(nn){const xn=nn.createImageData(It,It),hr=new ni.fabric.Color(W).getSource();if(hr)for(let En=0;En<xn.data.length;En+=4)Math.random()>.3&&(xn.data[En]=hr[0],xn.data[En+1]=hr[1],xn.data[En+2]=hr[2],xn.data[En+3]=Math.floor(Math.random()*255));nn.putImageData(xn,0,0)}nt.freeDrawingBrush=new ni.fabric.PatternBrush(nt),nt.freeDrawingBrush.source=Gt}else if(we==="hatch"){const Gt=document.createElement("canvas"),It=16;Gt.width=It,Gt.height=It;const nn=Gt.getContext("2d");if(nn){const xn=new ni.fabric.Color(W).getSource();xn&&(nn.strokeStyle=`rgba(${xn[0]}, ${xn[1]}, ${xn[2]}, 1)`,nn.lineWidth=1,nn.beginPath(),nn.moveTo(0,0),nn.lineTo(It,It),nn.moveTo(It,0),nn.lineTo(0,It),nn.stroke())}nt.freeDrawingBrush=new ni.fabric.PatternBrush(nt),nt.freeDrawingBrush.source=Gt}else we==="glow"?(nt.freeDrawingBrush=new ni.fabric.PencilBrush(nt),nt.freeDrawingBrush.shadow=new ni.fabric.Shadow({blur:15,offsetX:0,offsetY:0,color:W})):we==="pen"?nt.freeDrawingBrush=new ni.fabric.PencilBrush(nt):nt.freeDrawingBrush=new ni.fabric.PencilBrush(nt);if(nt.freeDrawingBrush.color=we==="highlighter"?W.replace(")",", 0.3)").replace("rgb","rgba").replace("#",W):W,we==="highlighter"&&W.startsWith("#")){const Gt=parseInt(W.slice(1,3),16),It=parseInt(W.slice(3,5),16),nn=parseInt(W.slice(5,7),16);nt.freeDrawingBrush.color=`rgba(${Gt}, ${It}, ${nn}, 0.3)`}nt.freeDrawingBrush.width=we==="highlighter"?J*2:J,nt.defaultCursor="crosshair";break;case"eraser_pixel":nt.isDrawingMode=!0,nt.freeDrawingBrush=new ni.fabric.PencilBrush(nt),nt.freeDrawingBrush.color="#ffffff",nt.freeDrawingBrush.width=J*4;break;case"eraser_object":{nt.isDrawingMode=!1,nt.defaultCursor="pointer",nt.hoverCursor="not-allowed",nt.forEachObject(It=>{It.set({selectable:!1,evented:!0,hoverCursor:"not-allowed"})}),nt.requestRenderAll();let Gt=!1;nt.on("mouse:down",It=>{Gt=!0,It.target&&(nt.remove(It.target),nt.requestRenderAll())}),nt.on("mouse:move",It=>{Gt&&It.target&&(nt.remove(It.target),nt.requestRenderAll())}),nt.on("mouse:up",()=>{Gt=!1});break}case"text":nt.isDrawingMode=!1,nt.defaultCursor="text",nt.on("mouse:down",Gt=>{if(Gt.target)return;const It=nt.getPointer(Gt.e),nn=new ni.fabric.IText("Type here...",{left:It.x,top:It.y,fontFamily:dt,fontSize:Math.max(16,J*4),fill:W,editable:!0,selectable:!0,evented:!0});nt.add(nn),nt.setActiveObject(nn),nn.enterEditing(),nn.selectAll(),nt.requestRenderAll()});break;case"line":case"arrow":case"rect":case"circle":case"triangle":case"ellipse":case"diamond":nt.defaultCursor="crosshair",nt.on("mouse:down",Ai),nt.on("mouse:move",ka),nt.on("mouse:up",pr);break}},[N,W,J,Dt,we,dt,Ai,ka,pr]),Re.useEffect(()=>{const nt=c.current;if(!nt)return;const Gt=nt.getActiveObjects();Gt.length>0&&(Gt.forEach(It=>{It.isArrow&&It.type==="group"?It.getObjects().forEach((En,Dr)=>{if(En.set({stroke:W,strokeWidth:J}),Dr===0){const $r=Dt.arrow||C1;En.set({strokeDashArray:$r.dashArray})}else En.set({strokeDashArray:void 0})}):It.type==="i-text"||It.type==="text"?It.set({fill:W}):It.set({stroke:W,strokeWidth:J});let xn=It.isArrow?"arrow":It.isDiamond?"diamond":It.type==="i-text"||It.type==="text"?"text":It.type==="path"?"pen":It.type==="rect"?"rect":It.type==="circle"?"circle":It.type==="triangle"?"triangle":It.type==="ellipse"?"ellipse":It.type;xn==="path"&&(xn=we),Mi(hr=>({...hr,[xn]:{color:W,size:J}}))}),nt.requestRenderAll(),gr())},[W,J,we,Dt,gr]),Re.useEffect(()=>{const nt=c.current;if(!nt)return;const Gt=VY(ve,Be,qe);nt.setBackgroundColor(Gt,()=>{nt.renderAll()})},[ve,Be,qe]),te.jsxs(te.Fragment,{children:[te.jsx(By,{onClick:nt=>{nt.target===nt.currentTarget&&(Ie||Z||zt||$n||xe?Date.now()-xr.current>500&&(Hr(),Ri(),Ki(),fr(),Zi()):Date.now()-xr.current>300&&Gn())},children:te.jsxs(SA,{children:[te.jsx(PY,{children:te.jsxs(zY,{style:{flex:1},children:[S.map(nt=>hl(nt)),te.jsx("div",{style:{flex:1}})," ",te.jsx(ah,{onClick:()=>Hn(!0),style:{border:"none",background:"transparent"},title:"Customize Toolbar",children:te.jsx(MS,{size:18})})]})}),Ie&&te.jsx(b1,{$centered:!xi,onClick:nt=>{Date.now()-yi.current<400||nt.target===nt.currentTarget&&Hr()},children:te.jsxs(hd,{$anchor:xi||void 0,onClick:nt=>nt.stopPropagation(),children:[te.jsxs(nC,{children:[te.jsx(FY,{color:Me,onChange:nt=>{ue(nt),xr.current=Date.now()},style:{width:"100%",height:"180px"}}),te.jsx("div",{style:{fontSize:"0.75rem",color:"#888",fontWeight:500,marginTop:"8px"},children:Me.toUpperCase()})]}),te.jsxs(w1,{children:[te.jsx(Ys,{onClick:or,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[te.jsx(Ys,{onClick:co,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:Hr,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),Z&&te.jsx(b1,{$centered:!xi,onClick:nt=>{Date.now()-yi.current<400||nt.target===nt.currentTarget&&Ri()},children:te.jsxs(hd,{$anchor:xi||void 0,onClick:nt=>nt.stopPropagation(),children:[te.jsxs(nC,{children:[te.jsx(ip,{type:"range",min:"1",max:"100",$size:Te,value:Te,onChange:nt=>Fe(parseInt(nt.target.value))}),te.jsx(WY,{type:"number",min:"1",max:"500",value:Te,onChange:nt=>Fe(parseInt(nt.target.value)||1)})]}),te.jsxs(w1,{children:[te.jsx(Ys,{onClick:hn,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[te.jsx(Ys,{onClick:wi,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:Ri,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),zt&&te.jsx(b1,{$centered:!xi,onClick:nt=>{Date.now()-yi.current<400||nt.target===nt.currentTarget&&Ki()},children:te.jsxs(hd,{$anchor:xi||void 0,onClick:nt=>nt.stopPropagation(),style:{minWidth:"160px"},children:[te.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:Ep.map((nt,Gt)=>te.jsx(Mf,{$active:Kt===Gt,onClick:()=>un(Gt),children:te.jsx(jY,{$dash:nt||null})},Gt))}),te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"4px 0"}}),te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"0 4px"},children:[te.jsx("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:600,minWidth:"35px"},children:y.drawing?.opacity||"Opacity"}),te.jsx(ip,{type:"range",min:"10",max:"100",$size:6,$opacityValue:Xt,value:Xt,onChange:nt=>Zt(parseInt(nt.target.value)),style:{margin:0,flex:1}}),te.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:500,minWidth:"30px",textAlign:"right"},children:[Xt,"%"]})]}),N==="arrow"&&te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px",borderTop:"1px solid #eee"},children:[te.jsx("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:600,minWidth:"35px"},children:y.drawing?.head_size||"Head"}),te.jsx(ip,{type:"range",min:"5",max:"100",$size:6,value:Bn,onChange:nt=>gt(parseInt(nt.target.value)),style:{margin:0,flex:1}}),te.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",fontWeight:500,minWidth:"30px",textAlign:"right"},children:[Bn,"px"]})]}),te.jsxs(w1,{children:[te.jsx(Ys,{onClick:Bo,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[te.jsx(Ys,{onClick:br,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:Ki,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),$n&&te.jsx(b1,{$centered:!xi,onClick:nt=>{Date.now()-yi.current<400||nt.target===nt.currentTarget&&fr()},children:te.jsxs(hd,{$anchor:xi||void 0,onClick:nt=>nt.stopPropagation(),style:{minWidth:"240px",maxHeight:"350px",overflowY:"auto"},children:[te.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[te.jsxs(Mf,{$active:at==="pen",onClick:()=>St("pen"),onDoubleClick:()=>{St("pen"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(Sp,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_pen||"Pen"}),te.jsx(C0,{$type:"pen",$color:mr.pen?.color||W,$size:mr.pen?.size||J})]}),te.jsxs(Mf,{$active:at==="carbon",onClick:()=>St("carbon"),onDoubleClick:()=>{St("carbon"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx($6,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_carbon||"Carbon"}),te.jsx(C0,{$type:"carbon",$color:mr.carbon?.color||W,$size:mr.carbon?.size||J})]}),te.jsxs(Mf,{$active:at==="hatch",onClick:()=>St("hatch"),onDoubleClick:()=>{St("hatch"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(eC,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_hatch||"Hatch"}),te.jsx(C0,{$type:"hatch",$color:mr.hatch?.color||W,$size:mr.hatch?.size||J})]}),te.jsxs(Mf,{$active:at==="highlighter",onClick:()=>St("highlighter"),onDoubleClick:()=>{St("highlighter"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(Q6,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_highlighter||"Highlight"}),te.jsx(C0,{$type:"highlighter",$color:mr.highlighter?.color||W,$size:(mr.highlighter?.size||J)*2})]}),te.jsxs(Mf,{$active:at==="glow",onClick:()=>St("glow"),onDoubleClick:()=>{St("glow"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(J6,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_glow||"Glow"}),te.jsx(C0,{$type:"glow",$color:mr.glow?.color||W,$size:mr.glow?.size||J})]}),te.jsxs(Mf,{$active:at==="spray",onClick:()=>St("spray"),onDoubleClick:()=>{St("spray"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(Z6,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_spray||"Spray"}),te.jsx(C0,{$type:"spray",$color:mr.spray?.color||W,$size:mr.spray?.size||J})]}),te.jsxs(Mf,{$active:at==="circle",onClick:()=>St("circle"),onDoubleClick:()=>{St("circle"),fr()},style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx(q6,{}),te.jsx("span",{style:{fontSize:"0.85rem",minWidth:"70px"},children:y.drawing?.pen_circle||"Bubble"}),te.jsx(C0,{$type:"circle",$color:mr.circle?.color||W,$size:mr.circle?.size||J})]}),ft==="pen_1"&&te.jsxs(te.Fragment,{children:[te.jsx("div",{style:{borderTop:"1px solid #eee",margin:"4px 0"}}),te.jsxs(Mf,{$active:Cn,onClick:()=>vn(!Cn),style:{height:"36px",justifyContent:"flex-start",padding:"0 12px",gap:"12px"},children:[te.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",border:"2px solid #333",display:"flex",alignItems:"center",justifyContent:"center",background:Cn?"#333":"transparent"},children:Cn&&te.jsx("div",{style:{width:"8px",height:"8px",background:"white",borderRadius:"1px"}})}),te.jsx("span",{style:{fontSize:"0.85rem"},children:y.drawing?.palm_rejection||"Palm Rejection"})]})]})]}),te.jsxs(w1,{children:[te.jsx(Ys,{onClick:Or,children:y.drawing?.reset||"Reset"}),te.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[te.jsx(Ys,{onClick:fo,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:fr,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),xe&&te.jsx(b1,{$centered:!xi,onClick:nt=>{Date.now()-yi.current<400||nt.target===nt.currentTarget&&Zi()},children:te.jsxs(hd,{$anchor:xi||void 0,onClick:nt=>nt.stopPropagation(),style:{minWidth:"180px"},children:[te.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:GY.map(nt=>te.jsx(Mf,{$active:Ze===nt,onClick:()=>re(nt),style:{fontFamily:nt,height:"32px",justifyContent:"flex-start",padding:"0 12px"},children:nt},nt))}),te.jsxs(w1,{children:[te.jsx("div",{}),te.jsxs("div",{style:{display:"flex",gap:"0.4rem"},children:[te.jsx(Ys,{onClick:cn,children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{onClick:Zi,$variant:"primary",children:y.drawing?.ok||"OK"})]})]})]})}),te.jsxs(HY,{ref:o,children:[te.jsx("canvas",{ref:r}),te.jsxs(UY,{children:[te.jsx(tC,{onClick:Gn,title:y.drawing?.cancel||"Cancel",children:te.jsx(tg,{size:12})}),te.jsx(tC,{$primary:!0,onClick:pa,title:y.drawing?.insert||"Insert",children:te.jsx(c_,{size:12})})]})]})]})}),er&&te.jsx(KY,{currentItems:S,allItems:S1,colors:g,brushSizes:C,onSave:nt=>{O(nt),Hn(!1)},onClose:()=>Hn(!1)}),rt&&te.jsx(By,{style:{zIndex:12e3},children:te.jsxs(hd,{onClick:nt=>nt.stopPropagation(),style:{padding:"20px",minWidth:"300px",maxWidth:"90vw"},children:[te.jsx("h3",{style:{marginTop:0,fontSize:"1.2rem",color:"#333"},children:y.drawing?.exit_title||"Exit Drawing?"}),te.jsx("p",{style:{color:"#555",lineHeight:"1.5",margin:"10px 0 20px 0"},children:y.drawing?.cancel_confirm||"Are you sure you want to discard your changes?"}),te.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[te.jsx(Ys,{onClick:()=>jt(!1),style:{padding:"8px 16px"},children:y.drawing?.cancel||"Cancel"}),te.jsx(Ys,{$variant:"danger",onClick:Di,style:{padding:"8px 16px",background:"#e03131",color:"white",border:"none"},children:y.drawing?.discard||"Discard"})]})]})})]})},ZY=sn.div`
  .EasyMDEContainer {
    .editor-toolbar {
      background: ${({theme:e})=>e.colors.surface};
      border-color: ${({theme:e})=>e.colors.border};
      i {
        color: ${({theme:e})=>e.colors.text};
      }
      button:hover {
        background: ${({theme:e})=>e.colors.border};
      }
      button.active {
        background: ${({theme:e})=>e.colors.border};
      }
    }
    
    .CodeMirror {
      background: ${({theme:e})=>e.colors.background};
      color: ${({theme:e})=>e.colors.text};
      border-color: ${({theme:e})=>e.colors.border};
    }
    
    .CodeMirror-cursor {
      border-left: 1px solid #d1d5db !important; /* Light gray cursor */
    }
    
    .editor-preview {
      background: ${({theme:e})=>e.colors.background};
      color: ${({theme:e})=>e.colors.text};
      
      /* Markdown Styles */
      blockquote {
        border-left-color: ${({theme:e})=>e.colors.border};
        color: ${({theme:e})=>e.colors.textSecondary};
      }
      a {
        color: ${({theme:e})=>e.colors.primary};
      }
      pre {
        background: ${({theme:e})=>e.colors.surface};
      }
      code {
        background: ${({theme:e})=>e.colors.surface};
      }
    }
    
    .editor-statusbar {
      color: ${({theme:e})=>e.colors.textSecondary};
    }
  }
`,Fy=({value:e,onChange:t})=>{const[n,r]=Re.useState(!1),[o,c]=Re.useState(void 0),y=Re.useRef(null),d=Re.useRef(()=>{}),a=Re.useRef(()=>{}),u=()=>{if(!y.current)return;const m=y.current,C=m.getCursor();let D=-1,S=-1;for(let O=C.line;O>=0;O--){const N=m.getLine(O);if(N.trim().startsWith("```fabric")){D=O;break}N.trim().startsWith("```")&&C.line}if(D!==-1){for(let O=C.line;O<m.lineCount();O++)if(m.getLine(O).trim()==="```"){S=O;break}}if(D!==-1&&S!==-1&&C.line>=D&&C.line<=S){const O=[];for(let U=D+1;U<S;U++)O.push(m.getLine(U));let N=O.join(`
`).trim();c(N||void 0)}else c(void 0);r(!0)};d.current=u;const v=m=>{if(!y.current)return;const C=y.current,D=C.getCursor();let S=-1,O=-1;for(let U=D.line;U>=0;U--)if(C.getLine(U).trim().startsWith("```fabric")){S=U;break}if(S!==-1){for(let U=S+1;U<C.lineCount();U++)if(C.getLine(U).trim()==="```"){O=U;break}}const N=`\`\`\`fabric
${m}
\`\`\``;S!==-1&&O!==-1&&D.line>=S&&D.line<=O?C.replaceRange(N,{line:S,ch:0},{line:O,ch:3}):C.replaceRange(`
${N}
`,D),r(!1),t(C.getValue())},f=m=>{const C=m.replace(/```fabric\s*([\s\S]*?)\s*```/g,()=>`
          <div class="drawing-banner" style="
            background: linear-gradient(to right, #f8f9fa, #e9ecef); 
            border: 1px solid #dee2e6; 
            border-left: 4px solid #333;
            border-radius: 6px; 
            padding: 16px 20px; 
            margin: 16px 0; 
            display: flex; 
            align-items: center; 
            gap: 12px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            cursor: pointer;
          ">
            <div style="
              display: flex; 
              align-items: center; 
              justify-content: center; 
              width: 40px; 
              height: 40px; 
              background: #fff; 
              border-radius: 8px; 
              box-shadow: 0 1px 3px rgba(0,0,0,0.1);
              font-size: 20px;
            "></div>
            <div style="flex: 1;">
              <div style="font-weight: 600; color: #343a40; font-size: 14px;">Drawing Object</div>
              <div style="font-size: 12px; color: #868e96; margin-top: 2px;">
                Open "Side-by-Side" view or click the Pen icon to edit.
              </div>
            </div>
          </div>
        `);return bY.renderToStaticMarkup(te.jsx("div",{style:{padding:"10px"},children:te.jsx(sE,{remarkPlugins:[hA],rehypePlugins:[cA],children:C})}))},g=Dn.useMemo(()=>({spellChecker:!1,placeholder:"Type here... (Markdown + Math supported)",previewRender:f,toolbar:["bold","italic","heading","quote","unordered-list","ordered-list","link","image",{name:"drawing",action:()=>d.current(),className:"fa fa-pencil",title:"Insert/Edit Drawing"},"preview","side-by-side","fullscreen","guide"],autofocus:!1,status:!1,maxHeight:"500px"}),[]);return Re.useEffect(()=>{a.current=C=>{if(!C)return;const D=[];C.getAllMarks().forEach(W=>{W.className==="fabric-replacement-mark"&&D.push(W)});const S=[],O=C.lineCount();let N=!1,U=-1;for(let W=0;W<O;W++){const q=C.getLine(W);q.trim().startsWith("```fabric")?(N=!0,U=W):N&&q.trim().startsWith("```")&&(N=!1,S.push({start:{line:U,ch:0},end:{line:W,ch:q.length}}))}D.forEach(W=>{const q=W.find();if(!q)return;S.some(ne=>ne.start.line===q.from.line&&ne.end.line===q.to.line)||W.clear()}),S.forEach(W=>{if(!C.findMarksAt(W.start).some(ne=>ne.className==="fabric-replacement-mark")){const ne=document.createElement("div");ne.className="drawing-widget-banner",ne.style.cssText=`
                background: linear-gradient(to right, #f8f9fa, #e9ecef); 
                border: 1px solid #dee2e6; 
                border-left: 4px solid #333;
                border-radius: 6px; 
                padding: 12px 16px; 
                margin: 4px 0; 
                display: flex; 
                align-items: center; 
                gap: 12px;
                font-family: system-ui, sans-serif;
                box-shadow: 0 1px 2px rgba(0,0,0,0.05);
                cursor: pointer;
                user-select: none;
              `,ne.innerHTML=`
                <div style="font-size: 20px;"></div>
                <div style="flex: 1;">
                  <div style="font-weight: 600; color: #343a40; font-size: 14px;">Drawing Object</div>
                  <div style="font-size: 11px; color: #868e96;">Click to edit this drawing</div>
                </div>
              `,ne.onclick=ve=>{ve.stopPropagation(),ve.preventDefault(),C.setCursor(W.start),d.current()},C.markText(W.start,W.end,{replacedWith:ne,atomic:!0,className:"fabric-replacement-mark",selectRight:!0,handleMouseEvents:!0})}})};const m=y.current;if(m){a.current(m);const C=()=>a.current(m);return m.on("change",C),()=>m.off("change",C)}},[e]),te.jsxs(te.Fragment,{children:[te.jsx(ZY,{children:te.jsx(xP,{value:e,onChange:t,options:g,getCodemirrorInstance:m=>{y.current=m,a.current&&setTimeout(()=>a.current(m),100)}})}),n&&te.jsx(AA,{initialData:o,onSave:v,onClose:()=>r(!1)})]})};function lC(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function qY(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function TA(e,t,n){const o=og((n||{}).ignore||[]),c=QY(t);let y=-1;for(;++y<c.length;)Wx(e,"text",d);function d(u,v){let f=-1,g;for(;++f<v.length;){const m=v[f],C=g?g.children:void 0;if(o(m,C?C.indexOf(m):void 0,g))return;g=m}if(g)return a(u,v)}function a(u,v){const f=v[v.length-1],g=c[y][0],m=c[y][1];let C=0;const S=f.children.indexOf(u);let O=!1,N=[];g.lastIndex=0;let U=g.exec(u.value);for(;U;){const W=U.index,q={index:U.index,input:U.input,stack:[...v,u]};let J=m(...U,q);if(typeof J=="string"&&(J=J.length>0?{type:"text",value:J}:void 0),J===!1?g.lastIndex=W+1:(C!==W&&N.push({type:"text",value:u.value.slice(C,W)}),Array.isArray(J)?N.push(...J):J&&N.push(J),C=W+U[0].length,O=!0),!g.global)break;U=g.exec(u.value)}return O?(C<u.value.length&&N.push({type:"text",value:u.value.slice(C)}),f.children.splice(S,1,...N)):N=[u],S+N.length}}function QY(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([JY(o[0]),$Y(o[1])])}return t}function JY(e){return typeof e=="string"?new RegExp(qY(e),"g"):e}function $Y(e){return typeof e=="function"?e:function(){return e}}const R2="phrasing",N2=["autolink","link","image","label"];function eX(){return{transforms:[sX],enter:{literalAutolink:nX,literalAutolinkEmail:L2,literalAutolinkHttp:L2,literalAutolinkWww:L2},exit:{literalAutolink:oX,literalAutolinkEmail:aX,literalAutolinkHttp:rX,literalAutolinkWww:iX}}}function tX(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:R2,notInConstruct:N2},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:R2,notInConstruct:N2},{character:":",before:"[ps]",after:"\\/",inConstruct:R2,notInConstruct:N2}]}}function nX(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function L2(e){this.config.enter.autolinkProtocol.call(this,e)}function rX(e){this.config.exit.autolinkProtocol.call(this,e)}function iX(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function aX(e){this.config.exit.autolinkEmail.call(this,e)}function oX(e){this.exit(e)}function sX(e){TA(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,lX],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),uX]],{ignore:["link","linkReference"]})}function lX(e,t,n,r,o){let c="";if(!DA(o)||(/^w/i.test(t)&&(n=t+n,t="",c="http://"),!cX(n)))return!1;const y=fX(n+r);if(!y[0])return!1;const d={type:"link",title:null,url:c+t+y[0],children:[{type:"text",value:t+y[0]}]};return y[1]?[d,{type:"text",value:y[1]}]:d}function uX(e,t,n,r){return!DA(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function cX(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fX(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=lC(e,"(");let c=lC(e,")");for(;r!==-1&&o>c;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),c++;return[e,n]}function DA(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||B0(n)||Sm(n))&&(!t||n!==47)}kA.peek=bX;function hX(){this.buffer()}function dX(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function gX(){this.buffer()}function pX(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function mX(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=sf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function vX(e){this.exit(e)}function yX(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=sf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function xX(e){this.exit(e)}function bX(){return"["}function kA(e,t,n,r){const o=n.createTracker(r);let c=o.move("[^");const y=n.enter("footnoteReference"),d=n.enter("reference");return c+=o.move(n.safe(n.associationId(e),{after:"]",before:c})),d(),y(),c+=o.move("]"),c}function wX(){return{enter:{gfmFootnoteCallString:hX,gfmFootnoteCall:dX,gfmFootnoteDefinitionLabelString:gX,gfmFootnoteDefinition:pX},exit:{gfmFootnoteCallString:mX,gfmFootnoteCall:vX,gfmFootnoteDefinitionLabelString:yX,gfmFootnoteDefinition:xX}}}function CX(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:kA},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,c,y){const d=c.createTracker(y);let a=d.move("[^");const u=c.enter("footnoteDefinition"),v=c.enter("label");return a+=d.move(c.safe(c.associationId(r),{before:a,after:"]"})),v(),a+=d.move("]:"),r.children&&r.children.length>0&&(d.shift(4),a+=d.move((t?`
`:" ")+c.indentLines(c.containerFlow(r,d.current()),t?_A:SX))),u(),a}}function SX(e,t,n){return t===0?e:_A(e,t,n)}function _A(e,t,n){return(n?"":"    ")+e}const EX=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MA.peek=_X;function AX(){return{canContainEols:["delete"],enter:{strikethrough:DX},exit:{strikethrough:kX}}}function TX(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:EX}],handlers:{delete:MA}}}function DX(e){this.enter({type:"delete",children:[]},e)}function kX(e){this.exit(e)}function MA(e,t,n,r){const o=n.createTracker(r),c=n.enter("strikethrough");let y=o.move("~~");return y+=n.containerPhrasing(e,{...o.current(),before:y,after:"~"}),y+=o.move("~~"),c(),y}function _X(){return"~"}function MX(e){return e.length}function OX(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||MX,c=[],y=[],d=[],a=[];let u=0,v=-1;for(;++v<e.length;){const D=[],S=[];let O=-1;for(e[v].length>u&&(u=e[v].length);++O<e[v].length;){const N=IX(e[v][O]);if(n.alignDelimiters!==!1){const U=o(N);S[O]=U,(a[O]===void 0||U>a[O])&&(a[O]=U)}D.push(N)}y[v]=D,d[v]=S}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)c[f]=uC(r[f]);else{const D=uC(r);for(;++f<u;)c[f]=D}f=-1;const g=[],m=[];for(;++f<u;){const D=c[f];let S="",O="";D===99?(S=":",O=":"):D===108?S=":":D===114&&(O=":");let N=n.alignDelimiters===!1?1:Math.max(1,a[f]-S.length-O.length);const U=S+"-".repeat(N)+O;n.alignDelimiters!==!1&&(N=S.length+N+O.length,N>a[f]&&(a[f]=N),m[f]=N),g[f]=U}y.splice(1,0,g),d.splice(1,0,m),v=-1;const C=[];for(;++v<y.length;){const D=y[v],S=d[v];f=-1;const O=[];for(;++f<u;){const N=D[f]||"";let U="",W="";if(n.alignDelimiters!==!1){const q=a[f]-(S[f]||0),J=c[f];J===114?U=" ".repeat(q):J===99?q%2?(U=" ".repeat(q/2+.5),W=" ".repeat(q/2-.5)):(U=" ".repeat(q/2),W=U):W=" ".repeat(q)}n.delimiterStart!==!1&&!f&&O.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||f)&&O.push(" "),n.alignDelimiters!==!1&&O.push(U),O.push(N),n.alignDelimiters!==!1&&O.push(W),n.padding!==!1&&O.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&O.push("|")}C.push(n.delimiterEnd===!1?O.join("").replace(/ +$/,""):O.join(""))}return C.join(`
`)}function IX(e){return e==null?"":String(e)}function uC(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function RX(e,t,n,r){const o=n.enter("blockquote"),c=n.createTracker(r);c.move("> "),c.shift(2);const y=n.indentLines(n.containerFlow(e,c.current()),NX);return o(),y}function NX(e,t,n){return">"+(n?"":" ")+e}function LX(e,t){return cC(e,t.inConstruct,!0)&&!cC(e,t.notInConstruct,!1)}function cC(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function fC(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&LX(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function BX(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function FX(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function PX(e,t,n,r){const o=FX(n),c=e.value||"",y=o==="`"?"GraveAccent":"Tilde";if(BX(e,n)){const f=n.enter("codeIndented"),g=n.indentLines(c,zX);return f(),g}const d=n.createTracker(r),a=o.repeat(Math.max(fA(c,o)+1,3)),u=n.enter("codeFenced");let v=d.move(a);if(e.lang){const f=n.enter(`codeFencedLang${y}`);v+=d.move(n.safe(e.lang,{before:v,after:" ",encode:["`"],...d.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${y}`);v+=d.move(" "),v+=d.move(n.safe(e.meta,{before:v,after:`
`,encode:["`"],...d.current()})),f()}return v+=d.move(`
`),c&&(v+=d.move(c+`
`)),v+=d.move(a),u(),v}function zX(e,t,n){return(n?"":"    ")+e}function gb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function HX(e,t,n,r){const o=gb(n),c=o==='"'?"Quote":"Apostrophe",y=n.enter("definition");let d=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(d=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),d(),e.title&&(d=n.enter(`title${c}`),u+=a.move(" "+o),u+=a.move(n.safe(e.title,{before:u,after:o,...a.current()})),u+=a.move(o),d()),y(),u}function UX(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function J1(e){return"&#x"+e.toString(16).toUpperCase()+";"}function nm(e,t,n){const r=Od(e),o=Od(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}OA.peek=jX;function OA(e,t,n,r){const o=UX(n),c=n.enter("emphasis"),y=n.createTracker(r),d=y.move(o);let a=y.move(n.containerPhrasing(e,{after:o,before:d,...y.current()}));const u=a.charCodeAt(0),v=nm(r.before.charCodeAt(r.before.length-1),u,o);v.inside&&(a=J1(u)+a.slice(1));const f=a.charCodeAt(a.length-1),g=nm(r.after.charCodeAt(0),f,o);g.inside&&(a=a.slice(0,-1)+J1(f));const m=y.move(o);return c(),n.attentionEncodeSurroundingInfo={after:g.outside,before:v.outside},d+a+m}function jX(e,t,n){return n.options.emphasis||"*"}function WX(e,t){let n=!1;return Gx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,vy}),!!((!e.depth||e.depth<3)&&Bx(e)&&(t.options.setext||n))}function GX(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),c=n.createTracker(r);if(WX(e,n)){const v=n.enter("headingSetext"),f=n.enter("phrasing"),g=n.containerPhrasing(e,{...c.current(),before:`
`,after:`
`});return f(),v(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const y="#".repeat(o),d=n.enter("headingAtx"),a=n.enter("phrasing");c.move(y+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...c.current()});return/^[\t ]/.test(u)&&(u=J1(u.charCodeAt(0))+u.slice(1)),u=u?y+" "+u:y,n.options.closeAtx&&(u+=" "+y),a(),d(),u}IA.peek=YX;function IA(e){return e.value||""}function YX(){return"<"}RA.peek=XX;function RA(e,t,n,r){const o=gb(n),c=o==='"'?"Quote":"Apostrophe",y=n.enter("image");let d=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(d=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),d(),e.title&&(d=n.enter(`title${c}`),u+=a.move(" "+o),u+=a.move(n.safe(e.title,{before:u,after:o,...a.current()})),u+=a.move(o),d()),u+=a.move(")"),y(),u}function XX(){return"!"}NA.peek=VX;function NA(e,t,n,r){const o=e.referenceType,c=n.enter("imageReference");let y=n.enter("label");const d=n.createTracker(r);let a=d.move("![");const u=n.safe(e.alt,{before:a,after:"]",...d.current()});a+=d.move(u+"]["),y();const v=n.stack;n.stack=[],y=n.enter("reference");const f=n.safe(n.associationId(e),{before:a,after:"]",...d.current()});return y(),n.stack=v,c(),o==="full"||!u||u!==f?a+=d.move(f+"]"):o==="shortcut"?a=a.slice(0,-1):a+=d.move("]"),a}function VX(){return"!"}LA.peek=KX;function LA(e,t,n){let r=e.value||"",o="`",c=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++c<n.unsafe.length;){const y=n.unsafe[c],d=n.compilePattern(y);let a;if(y.atBreak)for(;a=d.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return o+r+o}function KX(){return"`"}function BA(e,t){const n=Bx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}FA.peek=ZX;function FA(e,t,n,r){const o=gb(n),c=o==='"'?"Quote":"Apostrophe",y=n.createTracker(r);let d,a;if(BA(e,n)){const v=n.stack;n.stack=[],d=n.enter("autolink");let f=y.move("<");return f+=y.move(n.containerPhrasing(e,{before:f,after:">",...y.current()})),f+=y.move(">"),d(),n.stack=v,f}d=n.enter("link"),a=n.enter("label");let u=y.move("[");return u+=y.move(n.containerPhrasing(e,{before:u,after:"](",...y.current()})),u+=y.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=y.move("<"),u+=y.move(n.safe(e.url,{before:u,after:">",...y.current()})),u+=y.move(">")):(a=n.enter("destinationRaw"),u+=y.move(n.safe(e.url,{before:u,after:e.title?" ":")",...y.current()}))),a(),e.title&&(a=n.enter(`title${c}`),u+=y.move(" "+o),u+=y.move(n.safe(e.title,{before:u,after:o,...y.current()})),u+=y.move(o),a()),u+=y.move(")"),d(),u}function ZX(e,t,n){return BA(e,n)?"<":"["}PA.peek=qX;function PA(e,t,n,r){const o=e.referenceType,c=n.enter("linkReference");let y=n.enter("label");const d=n.createTracker(r);let a=d.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...d.current()});a+=d.move(u+"]["),y();const v=n.stack;n.stack=[],y=n.enter("reference");const f=n.safe(n.associationId(e),{before:a,after:"]",...d.current()});return y(),n.stack=v,c(),o==="full"||!u||u!==f?a+=d.move(f+"]"):o==="shortcut"?a=a.slice(0,-1):a+=d.move("]"),a}function qX(){return"["}function pb(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function QX(e){const t=pb(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function JX(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function zA(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function $X(e,t,n,r){const o=n.enter("list"),c=n.bulletCurrent;let y=e.ordered?JX(n):pb(n);const d=e.ordered?y==="."?")":".":QX(n);let a=t&&n.bulletLastUsed?y===n.bulletLastUsed:!1;if(!e.ordered){const v=e.children?e.children[0]:void 0;if((y==="*"||y==="-")&&v&&(!v.children||!v.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),zA(n)===y&&v){let f=-1;for(;++f<e.children.length;){const g=e.children[f];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(y=d),n.bulletCurrent=y;const u=n.containerFlow(e,r);return n.bulletLastUsed=y,n.bulletCurrent=c,o(),u}function eV(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function tV(e,t,n,r){const o=eV(n);let c=n.bulletCurrent||pb(n);t&&t.type==="list"&&t.ordered&&(c=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+c);let y=c.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(y=Math.ceil(y/4)*4);const d=n.createTracker(r);d.move(c+" ".repeat(y-c.length)),d.shift(y);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,d.current()),v);return a(),u;function v(f,g,m){return g?(m?"":" ".repeat(y))+f:(m?c:c+" ".repeat(y-c.length))+f}}function nV(e,t,n,r){const o=n.enter("paragraph"),c=n.enter("phrasing"),y=n.containerPhrasing(e,r);return c(),o(),y}const rV=og(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function iV(e,t,n,r){return(e.children.some(function(y){return rV(y)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function aV(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}HA.peek=oV;function HA(e,t,n,r){const o=aV(n),c=n.enter("strong"),y=n.createTracker(r),d=y.move(o+o);let a=y.move(n.containerPhrasing(e,{after:o,before:d,...y.current()}));const u=a.charCodeAt(0),v=nm(r.before.charCodeAt(r.before.length-1),u,o);v.inside&&(a=J1(u)+a.slice(1));const f=a.charCodeAt(a.length-1),g=nm(r.after.charCodeAt(0),f,o);g.inside&&(a=a.slice(0,-1)+J1(f));const m=y.move(o+o);return c(),n.attentionEncodeSurroundingInfo={after:g.outside,before:v.outside},d+a+m}function oV(e,t,n){return n.options.strong||"*"}function sV(e,t,n,r){return n.safe(e.value,r)}function lV(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function uV(e,t,n){const r=(zA(n)+(n.options.ruleSpaces?" ":"")).repeat(lV(n));return n.options.ruleSpaces?r.slice(0,-1):r}const UA={blockquote:RX,break:fC,code:PX,definition:HX,emphasis:OA,hardBreak:fC,heading:GX,html:IA,image:RA,imageReference:NA,inlineCode:LA,link:FA,linkReference:PA,list:$X,listItem:tV,paragraph:nV,root:iV,strong:HA,text:sV,thematicBreak:uV};function cV(){return{enter:{table:fV,tableData:hC,tableHeader:hC,tableRow:dV},exit:{codeText:gV,table:hV,tableData:B2,tableHeader:B2,tableRow:B2}}}function fV(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function hV(e){this.exit(e),this.data.inTable=void 0}function dV(e){this.enter({type:"tableRow",children:[]},e)}function B2(e){this.exit(e)}function hC(e){this.enter({type:"tableCell",children:[]},e)}function gV(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,pV));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function pV(e,t){return t==="|"?t:e}function mV(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,c=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:y,tableCell:a,tableRow:d}};function y(m,C,D,S){return u(v(m,D,S),m.align)}function d(m,C,D,S){const O=f(m,D,S),N=u([O]);return N.slice(0,N.indexOf(`
`))}function a(m,C,D,S){const O=D.enter("tableCell"),N=D.enter("phrasing"),U=D.containerPhrasing(m,{...S,before:c,after:c});return N(),O(),U}function u(m,C){return OX(m,{align:C,alignDelimiters:r,padding:n,stringLength:o})}function v(m,C,D){const S=m.children;let O=-1;const N=[],U=C.enter("table");for(;++O<S.length;)N[O]=f(S[O],C,D);return U(),N}function f(m,C,D){const S=m.children;let O=-1;const N=[],U=C.enter("tableRow");for(;++O<S.length;)N[O]=a(S[O],m,C,D);return U(),N}function g(m,C,D){let S=UA.inlineCode(m,C,D);return D.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function vV(){return{exit:{taskListCheckValueChecked:dC,taskListCheckValueUnchecked:dC,paragraph:xV}}}function yV(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:bV}}}function dC(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function xV(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let c=-1,y;for(;++c<o.length;){const d=o[c];if(d.type==="paragraph"){y=d;break}}y===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function bV(e,t,n,r){const o=e.children[0],c=typeof e.checked=="boolean"&&o&&o.type==="paragraph",y="["+(e.checked?"x":" ")+"] ",d=n.createTracker(r);c&&d.move(y);let a=UA.listItem(e,t,n,{...r,...d.current()});return c&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(v){return v+y}}function wV(){return[eX(),wX(),AX(),cV(),vV()]}function CV(e){return{extensions:[tX(),CX(e),TX(),mV(e),yV()]}}const SV={tokenize:_V,partial:!0},jA={tokenize:MV,partial:!0},WA={tokenize:OV,partial:!0},GA={tokenize:IV,partial:!0},EV={tokenize:RV,partial:!0},YA={name:"wwwAutolink",tokenize:DV,previous:VA},XA={name:"protocolAutolink",tokenize:kV,previous:KA},vh={name:"emailAutolink",tokenize:TV,previous:ZA},Hf={};function AV(){return{text:Hf}}let E0=48;for(;E0<123;)Hf[E0]=vh,E0++,E0===58?E0=65:E0===91&&(E0=97);Hf[43]=vh;Hf[45]=vh;Hf[46]=vh;Hf[95]=vh;Hf[72]=[vh,XA];Hf[104]=[vh,XA];Hf[87]=[vh,YA];Hf[119]=[vh,YA];function TV(e,t,n){const r=this;let o,c;return y;function y(f){return!Py(f)||!ZA.call(r,r.previous)||mb(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(f))}function d(f){return Py(f)?(e.consume(f),d):f===64?(e.consume(f),a):n(f)}function a(f){return f===46?e.check(EV,v,u)(f):f===45||f===95||eu(f)?(c=!0,e.consume(f),a):v(f)}function u(f){return e.consume(f),o=!0,a}function v(f){return c&&o&&gu(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function DV(e,t,n){const r=this;return o;function o(y){return y!==87&&y!==119||!VA.call(r,r.previous)||mb(r.events)?n(y):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(SV,e.attempt(jA,e.attempt(WA,c),n),n)(y))}function c(y){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(y)}}function kV(e,t,n){const r=this;let o="",c=!1;return y;function y(f){return(f===72||f===104)&&KA.call(r,r.previous)&&!mb(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(f),e.consume(f),d):n(f)}function d(f){if(gu(f)&&o.length<5)return o+=String.fromCodePoint(f),e.consume(f),d;if(f===58){const g=o.toLowerCase();if(g==="http"||g==="https")return e.consume(f),a}return n(f)}function a(f){return f===47?(e.consume(f),c?u:(c=!0,a)):n(f)}function u(f){return f===null||Kp(f)||lo(f)||B0(f)||Sm(f)?n(f):e.attempt(jA,e.attempt(WA,v),n)(f)}function v(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function _V(e,t,n){let r=0;return o;function o(y){return(y===87||y===119)&&r<3?(r++,e.consume(y),o):y===46&&r===3?(e.consume(y),c):n(y)}function c(y){return y===null?n(y):t(y)}}function MV(e,t,n){let r,o,c;return y;function y(u){return u===46||u===95?e.check(GA,a,d)(u):u===null||lo(u)||B0(u)||u!==45&&Sm(u)?a(u):(c=!0,e.consume(u),y)}function d(u){return u===95?r=!0:(o=r,r=void 0),e.consume(u),y}function a(u){return o||r||!c?n(u):t(u)}}function OV(e,t){let n=0,r=0;return o;function o(y){return y===40?(n++,e.consume(y),o):y===41&&r<n?c(y):y===33||y===34||y===38||y===39||y===41||y===42||y===44||y===46||y===58||y===59||y===60||y===63||y===93||y===95||y===126?e.check(GA,t,c)(y):y===null||lo(y)||B0(y)?t(y):(e.consume(y),o)}function c(y){return y===41&&r++,e.consume(y),o}}function IV(e,t,n){return r;function r(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),r):d===38?(e.consume(d),c):d===93?(e.consume(d),o):d===60||d===null||lo(d)||B0(d)?t(d):n(d)}function o(d){return d===null||d===40||d===91||lo(d)||B0(d)?t(d):r(d)}function c(d){return gu(d)?y(d):n(d)}function y(d){return d===59?(e.consume(d),r):gu(d)?(e.consume(d),y):n(d)}}function RV(e,t,n){return r;function r(c){return e.consume(c),o}function o(c){return eu(c)?n(c):t(c)}}function VA(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||lo(e)}function KA(e){return!gu(e)}function ZA(e){return!(e===47||Py(e))}function Py(e){return e===43||e===45||e===46||e===95||eu(e)}function mb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const NV={tokenize:jV,partial:!0};function LV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:zV,continuation:{tokenize:HV},exit:UV}},text:{91:{name:"gfmFootnoteCall",tokenize:PV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:BV,resolveTo:FV}}}}function BV(e,t,n){const r=this;let o=r.events.length;const c=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let y;for(;o--;){const a=r.events[o][1];if(a.type==="labelImage"){y=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return d;function d(a){if(!y||!y._balanced)return n(a);const u=sf(r.sliceSerialize({start:y.end,end:r.now()}));return u.codePointAt(0)!==94||!c.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function FV(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const c={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},y={type:"chunkString",contentType:"string",start:Object.assign({},c.start),end:Object.assign({},c.end)},d=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",c,t],["enter",y,t],["exit",y,t],["exit",c,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...d),e}function PV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let c=0,y;return d;function d(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),a}function a(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(c>999||f===93&&!y||f===null||f===91||lo(f))return n(f);if(f===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return o.includes(sf(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return lo(f)||(y=!0),c++,e.consume(f),f===92?v:u}function v(f){return f===91||f===92||f===93?(e.consume(f),c++,u):u(f)}}function zV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let c,y=0,d;return a;function a(C){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(C){return C===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",v):n(C)}function v(C){if(y>999||C===93&&!d||C===null||C===91||lo(C))return n(C);if(C===93){e.exit("chunkString");const D=e.exit("gfmFootnoteDefinitionLabelString");return c=sf(r.sliceSerialize(D)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(C),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return lo(C)||(d=!0),y++,e.consume(C),C===92?f:v}function f(C){return C===91||C===92||C===93?(e.consume(C),y++,v):v(C)}function g(C){return C===58?(e.enter("definitionMarker"),e.consume(C),e.exit("definitionMarker"),o.includes(c)||o.push(c),zi(e,m,"gfmFootnoteDefinitionWhitespace")):n(C)}function m(C){return t(C)}}function HV(e,t,n){return e.check(ag,t,e.attempt(NV,t,n))}function UV(e){e.exit("gfmFootnoteDefinition")}function jV(e,t,n){const r=this;return zi(e,o,"gfmFootnoteDefinitionIndent",5);function o(c){const y=r.events[r.events.length-1];return y&&y[1].type==="gfmFootnoteDefinitionIndent"&&y[2].sliceSerialize(y[1],!0).length===4?t(c):n(c)}}function WV(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:c,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(y,d){let a=-1;for(;++a<y.length;)if(y[a][0]==="enter"&&y[a][1].type==="strikethroughSequenceTemporary"&&y[a][1]._close){let u=a;for(;u--;)if(y[u][0]==="exit"&&y[u][1].type==="strikethroughSequenceTemporary"&&y[u][1]._open&&y[a][1].end.offset-y[a][1].start.offset===y[u][1].end.offset-y[u][1].start.offset){y[a][1].type="strikethroughSequence",y[u][1].type="strikethroughSequence";const v={type:"strikethrough",start:Object.assign({},y[u][1].start),end:Object.assign({},y[a][1].end)},f={type:"strikethroughText",start:Object.assign({},y[u][1].end),end:Object.assign({},y[a][1].start)},g=[["enter",v,d],["enter",y[u][1],d],["exit",y[u][1],d],["enter",f,d]],m=d.parser.constructs.insideSpan.null;m&&gc(g,g.length,0,Em(m,y.slice(u+1,a),d)),gc(g,g.length,0,[["exit",f,d],["enter",y[a][1],d],["exit",y[a][1],d],["exit",v,d]]),gc(y,u-1,a-u+3,g),a=u+g.length-2;break}}for(a=-1;++a<y.length;)y[a][1].type==="strikethroughSequenceTemporary"&&(y[a][1].type="data");return y}function c(y,d,a){const u=this.previous,v=this.events;let f=0;return g;function g(C){return u===126&&v[v.length-1][1].type!=="characterEscape"?a(C):(y.enter("strikethroughSequenceTemporary"),m(C))}function m(C){const D=Od(u);if(C===126)return f>1?a(C):(y.consume(C),f++,m);if(f<2&&!n)return a(C);const S=y.exit("strikethroughSequenceTemporary"),O=Od(C);return S._open=!O||O===2&&!!D,S._close=!D||D===2&&!!O,d(C)}}}class GV{constructor(){this.map=[]}add(t,n,r){YV(this,t,n,r)}consume(t){if(this.map.sort(function(c,y){return c[0]-y[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const c of o)t.push(c);o=r.pop()}this.map.length=0}}function YV(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function XV(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const c=r.length-1;r[c]=r[c]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function VV(){return{flow:{null:{name:"table",tokenize:KV,resolveAll:ZV}}}}function KV(e,t,n){const r=this;let o=0,c=0,y;return d;function d(Be){let Ue=r.events.length-1;for(;Ue>-1;){const ut=r.events[Ue][1].type;if(ut==="lineEnding"||ut==="linePrefix")Ue--;else break}const qe=Ue>-1?r.events[Ue][1].type:null,mt=qe==="tableHead"||qe==="tableRow"?J:a;return mt===J&&r.parser.lazy[r.now().line]?n(Be):mt(Be)}function a(Be){return e.enter("tableHead"),e.enter("tableRow"),u(Be)}function u(Be){return Be===124||(y=!0,c+=1),v(Be)}function v(Be){return Be===null?n(Be):Sr(Be)?c>1?(c=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(Be),e.exit("lineEnding"),m):n(Be):Vi(Be)?zi(e,v,"whitespace")(Be):(c+=1,y&&(y=!1,o+=1),Be===124?(e.enter("tableCellDivider"),e.consume(Be),e.exit("tableCellDivider"),y=!0,v):(e.enter("data"),f(Be)))}function f(Be){return Be===null||Be===124||lo(Be)?(e.exit("data"),v(Be)):(e.consume(Be),Be===92?g:f)}function g(Be){return Be===92||Be===124?(e.consume(Be),f):f(Be)}function m(Be){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(Be):(e.enter("tableDelimiterRow"),y=!1,Vi(Be)?zi(e,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Be):C(Be))}function C(Be){return Be===45||Be===58?S(Be):Be===124?(y=!0,e.enter("tableCellDivider"),e.consume(Be),e.exit("tableCellDivider"),D):q(Be)}function D(Be){return Vi(Be)?zi(e,S,"whitespace")(Be):S(Be)}function S(Be){return Be===58?(c+=1,y=!0,e.enter("tableDelimiterMarker"),e.consume(Be),e.exit("tableDelimiterMarker"),O):Be===45?(c+=1,O(Be)):Be===null||Sr(Be)?W(Be):q(Be)}function O(Be){return Be===45?(e.enter("tableDelimiterFiller"),N(Be)):q(Be)}function N(Be){return Be===45?(e.consume(Be),N):Be===58?(y=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(Be),e.exit("tableDelimiterMarker"),U):(e.exit("tableDelimiterFiller"),U(Be))}function U(Be){return Vi(Be)?zi(e,W,"whitespace")(Be):W(Be)}function W(Be){return Be===124?C(Be):Be===null||Sr(Be)?!y||o!==c?q(Be):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(Be)):q(Be)}function q(Be){return n(Be)}function J(Be){return e.enter("tableRow"),ne(Be)}function ne(Be){return Be===124?(e.enter("tableCellDivider"),e.consume(Be),e.exit("tableCellDivider"),ne):Be===null||Sr(Be)?(e.exit("tableRow"),t(Be)):Vi(Be)?zi(e,ne,"whitespace")(Be):(e.enter("data"),ve(Be))}function ve(Be){return Be===null||Be===124||lo(Be)?(e.exit("data"),ne(Be)):(e.consume(Be),Be===92?Se:ve)}function Se(Be){return Be===92||Be===124?(e.consume(Be),ve):ve(Be)}}function ZV(e,t){let n=-1,r=!0,o=0,c=[0,0,0,0],y=[0,0,0,0],d=!1,a=0,u,v,f;const g=new GV;for(;++n<e.length;){const m=e[n],C=m[1];m[0]==="enter"?C.type==="tableHead"?(d=!1,a!==0&&(gC(g,t,a,u,v),v=void 0,a=0),u={type:"table",start:Object.assign({},C.start),end:Object.assign({},C.end)},g.add(n,0,[["enter",u,t]])):C.type==="tableRow"||C.type==="tableDelimiterRow"?(r=!0,f=void 0,c=[0,0,0,0],y=[0,n+1,0,0],d&&(d=!1,v={type:"tableBody",start:Object.assign({},C.start),end:Object.assign({},C.end)},g.add(n,0,[["enter",v,t]])),o=C.type==="tableDelimiterRow"?2:v?3:1):o&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")?(r=!1,y[2]===0&&(c[1]!==0&&(y[0]=y[1],f=ap(g,t,c,o,void 0,f),c=[0,0,0,0]),y[2]=n)):C.type==="tableCellDivider"&&(r?r=!1:(c[1]!==0&&(y[0]=y[1],f=ap(g,t,c,o,void 0,f)),c=y,y=[c[1],n,0,0])):C.type==="tableHead"?(d=!0,a=n):C.type==="tableRow"||C.type==="tableDelimiterRow"?(a=n,c[1]!==0?(y[0]=y[1],f=ap(g,t,c,o,n,f)):y[1]!==0&&(f=ap(g,t,y,o,n,f)),o=0):o&&(C.type==="data"||C.type==="tableDelimiterMarker"||C.type==="tableDelimiterFiller")&&(y[3]=n)}for(a!==0&&gC(g,t,a,u,v),g.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=XV(t.events,n))}return e}function ap(e,t,n,r,o,c){const y=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",d="tableContent";n[0]!==0&&(c.end=Object.assign({},pd(t.events,n[0])),e.add(n[0],0,[["exit",c,t]]));const a=pd(t.events,n[1]);if(c={type:y,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",c,t]]),n[2]!==0){const u=pd(t.events,n[2]),v=pd(t.events,n[3]),f={type:d,start:Object.assign({},u),end:Object.assign({},v)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const g=t.events[n[2]],m=t.events[n[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const C=n[2]+1,D=n[3]-n[2]-1;e.add(C,D,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return o!==void 0&&(c.end=Object.assign({},pd(t.events,o)),e.add(o,0,[["exit",c,t]]),c=void 0),c}function gC(e,t,n,r,o){const c=[],y=pd(t.events,n);o&&(o.end=Object.assign({},y),c.push(["exit",o,t])),r.end=Object.assign({},y),c.push(["exit",r,t]),e.add(n+1,0,c)}function pd(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const qV={name:"tasklistCheck",tokenize:JV};function QV(){return{text:{91:qV}}}function JV(e,t,n){const r=this;return o;function o(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),c)}function c(a){return lo(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),y):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),y):n(a)}function y(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):n(a)}function d(a){return Sr(a)?t(a):Vi(a)?e.check({tokenize:$V},t,n)(a):n(a)}}function $V(e,t,n){return zi(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function eK(e){return H7([AV(),LV(),WV(e),VV(),QV()])}const tK={};function nK(e){const t=this,n=e||tK,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),c=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),y=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(eK(n)),c.push(wV()),y.push(CV(n))}function rK(e){TA(e,[/\r?\n|\r/g,iK])}function iK(){return{type:"break"}}function aK(){return function(e){rK(e)}}const oK=sn.div`
  line-height: 1.6;
  color: ${({theme:e})=>e.colors.text};

  h1, h2, h3, h4, h5, h6 {
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    font-weight: 600;
  }

  p {
    margin-bottom: 1em;
  }

  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
    &:hover {
      text-decoration: underline;
    }
  }

  blockquote {
    border-left: 4px solid ${({theme:e})=>e.colors.border};
    padding-left: 1rem;
    margin-left: 0;
    color: ${({theme:e})=>e.colors.textSecondary};
  }

  code {
    background: ${({theme:e})=>e.colors.surface};
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
    font-size: 0.9em;
  }

  pre {
    background: ${({theme:e})=>e.colors.surface};
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    
    code {
      background: transparent;
      padding: 0;
      color: inherit;
      font-size: 1em;
    }
  }

  ul, ol {
    padding-left: 1.5em;
  }

  img {
    max-width: 100%;
    border-radius: 6px;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 1em;
    
    th, td {
      border: 1px solid ${({theme:e})=>e.colors.border};
      padding: 0.5rem;
      text-align: left;
    }

    th {
      background: ${({theme:e,$tableHeaderBg:t})=>t||e.colors.surface};
      font-weight: 600;
    }
  }

  /* Katex adjustments if needed */
  }
`,sK=({json:e})=>{const t=Dn.useRef(null),n=Dn.useRef(null),r=Dn.useRef(null);return Dn.useLayoutEffect(()=>{if(!t.current||!n.current)return;const o=new ni.fabric.StaticCanvas(t.current);r.current=o;try{const c=JSON.parse(e);o.loadFromJSON(c,()=>{let y=c.width,d=c.height;if(!y||!d){const v=o.getObjects();if(v.length>0){let f=1/0,g=1/0,m=-1/0,C=-1/0;v.forEach(D=>{const S=D.getBoundingRect();f=Math.min(f,S.left),g=Math.min(g,S.top),m=Math.max(m,S.left+S.width),C=Math.max(C,S.top+S.height)}),y=Math.max(800,m+20),d=Math.max(600,C+20)}else y=800,d=600}const a=()=>{if(!n.current||!r.current)return;const v=n.current.clientWidth;if(v===0)return;const g=Math.min(1,v/y);r.current.setDimensions({width:y*g,height:d*g}),r.current.setZoom(g),r.current.renderAll()};a();const u=new ResizeObserver(()=>{a()});return n.current&&u.observe(n.current),()=>{u.disconnect()}})}catch(c){console.error("Fabric load error:",c)}return()=>{o.dispose(),r.current=null}},[e]),te.jsx("div",{ref:n,style:{overflow:"hidden",background:"#fff",display:"flex",justifyContent:"center"},children:te.jsx("canvas",{ref:t})})},zy=({content:e,tableHeaderBg:t})=>te.jsx(oK,{$tableHeaderBg:t,children:te.jsx(sE,{remarkPlugins:[hA,nK,aK],rehypePlugins:[cA],components:{pre:({children:n,...r})=>{const o=Array.isArray(n)?n[0]:n;return Dn.isValidElement(o)&&o.props.className?.includes("language-fabric")?te.jsx(te.Fragment,{children:n}):te.jsx("pre",{...r,children:n})},code({node:n,className:r,children:o,...c}){const y=/language-(\w+)/.exec(r||"");return!c.inline&&y&&y[1]==="fabric"?te.jsx(sK,{json:String(o).replace(/\n$/,"")}):te.jsx("code",{className:r,...c,children:o})}},children:e})}),lK=sn.div`
  margin-top: 0;
  border-top: 2px solid ${({theme:e})=>e.colors.border};
  padding-top: 2.5rem;
  padding-bottom: 2.5rem;
  padding-left: 32px;
  padding-right: 32px;
`,uK=sn.div`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
  
  h3 {
    margin: 0;
    font-size: 1.25rem;
    color: ${({theme:e})=>e.colors.text};
  }
  
  .count {
    background: ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.textSecondary};
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 600;
  }
`,cK=sn.div`
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
`,fK=sn.div`
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 12px;
  padding: 1.25rem;
  background: ${({theme:e})=>e.colors.surface};
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }
`,hK=sn.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  font-size: 0.85rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  padding-bottom: 0.5rem;
`,dK=sn.div`
  display: flex;
  gap: 0.25rem;
`,op=sn.button`
  background: transparent;
  border: none;
  cursor: pointer;
  color: ${({theme:e})=>e.colors.textSecondary};
  padding: 6px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;

  &:hover {
    background: ${({theme:e})=>e.colors.background};
    color: ${({theme:e,$variant:t})=>t==="danger"?e.colors.danger:e.colors.primary};
  }
`,gK=sn.div`
  margin-top: 1rem;
  border: 1.5px solid ${({theme:e})=>e.colors.primary};
  border-radius: 12px;
  overflow: hidden;
  background: ${({theme:e})=>e.colors.surface};
  animation: slideDown 0.2s ease-out;

  @keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
`,pC=sn.div`
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: ${({theme:e})=>e.colors.background};
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
`,sp=sn.button`
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.4rem 0.8rem;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  
  background: ${({theme:e,$variant:t})=>t==="primary"?e.colors.primary:"transparent"};
  color: ${({theme:e,$variant:t})=>t==="primary"?"white":e.colors.text};
  border: ${({theme:e,$variant:t})=>t==="primary"?"none":`1px solid ${e.colors.border}`};

  &:hover {
    filter: brightness(1.1);
    ${({theme:e,$variant:t})=>t!=="primary"&&`background: ${e.colors.border};`}
  }
`,pK=sn.button`
  margin-top: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-radius: 10px;
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.textSecondary};
  border: 2px dashed ${({theme:e})=>e.colors.border};
  width: 100%;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.surface};
  }
`,mK=({memoId:e})=>{const{theme:t}=tx(),{t:n,language:r}=uf(),o=dm(()=>ro.comments.where("memoId").equals(e).sortBy("createdAt"),[e]),[c,y]=Re.useState(!1),[d,a]=Re.useState(""),[u,v]=Re.useState(null),[f,g]=Re.useState(""),m=async()=>{d.trim()&&(await ro.comments.add({memoId:e,content:d,createdAt:new Date,updatedAt:new Date}),a(""),y(!1))},C=async O=>{confirm(n.comments.delete_confirm)&&await ro.comments.delete(O)},D=O=>{v(O.id),g(O.content)},S=async()=>{u&&f.trim()&&(await ro.comments.update(u,{content:f,updatedAt:new Date}),v(null))};return te.jsxs(lK,{children:[te.jsxs(uK,{children:[te.jsx(m_,{size:20,color:t.colors.primary}),te.jsx("h3",{children:n.comments.title}),o&&o.length>0&&te.jsx("span",{className:"count",children:o.length})]}),te.jsx(cK,{children:o?.map(O=>te.jsxs(fK,{children:[te.jsxs(hK,{children:[te.jsx("span",{children:_0(O.createdAt,r==="ko"?"yyyy M d HH:mm":"MMM d, yyyy HH:mm")}),te.jsx(dK,{children:u===O.id?te.jsxs(te.Fragment,{children:[te.jsx(op,{onClick:S,$variant:"primary",title:n.comments.save_comment,children:te.jsx(_S,{})}),te.jsx(op,{onClick:()=>v(null),title:n.comments.cancel,children:te.jsx(tg,{})})]}):te.jsxs(te.Fragment,{children:[te.jsx(op,{onClick:()=>D(O),title:n.memo_detail.edit,children:te.jsx(SS,{})}),te.jsx(op,{onClick:()=>C(O.id),$variant:"danger",title:n.memo_detail.delete,children:te.jsx(qh,{})})]})})]}),u===O.id?te.jsxs("div",{style:{marginTop:"0.5rem"},children:[te.jsxs(pC,{style:{padding:"0.5rem",borderRadius:"8px 8px 0 0"},children:[te.jsx(sp,{onClick:()=>v(null),$variant:"secondary",children:n.comments.cancel}),te.jsx(sp,{onClick:S,$variant:"primary",children:n.comments.save_comment})]}),te.jsx(Fy,{value:f,onChange:g})]}):te.jsx(zy,{content:O.content,tableHeaderBg:t.colors.border})]},O.id))}),c?te.jsxs(gK,{children:[te.jsxs(pC,{children:[te.jsx(sp,{onClick:()=>y(!1),$variant:"secondary",children:n.comments.cancel}),te.jsx(sp,{onClick:m,$variant:"primary",children:n.comments.save_comment})]}),te.jsx(Fy,{value:d,onChange:a})]}):te.jsxs(pK,{onClick:()=>y(!0),children:[te.jsx(TS,{})," ",n.comments.add_button]})]})},mC=()=>Math.random().toString(36).substring(2,8).toUpperCase(),vK=sn.div`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
`,yK=sn.div`
    background-color: ${({theme:e})=>e.colors.background};
    border: 1px solid ${({theme:e})=>e.colors.border};
    border-radius: 20px;
    width: 440px;
    max-width: 95%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    color: ${({theme:e})=>e.colors.text};
    overflow: hidden;
`,xK=sn.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    background: ${({theme:e})=>e.mode==="dark"?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.02)"};
    border-bottom: 1px solid ${({theme:e})=>e.colors.border};

        h2 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
            color: ${({theme:e})=>e.colors.primary};
            
            svg:last-child {
                font-size: 0.9rem;
                opacity: 0.6;
            }
        }
`,bK=sn.div`
    padding: 24px;
    overflow-y: auto;
    flex: 1;
`,wK=sn.div`
    display: flex;
    flex-direction: column;
    width: 100%;
    margin: 0 auto;
`,CK=sn.button`
    background: none;
    border: none;
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    border-radius: 50%;
    transition: all 0.2s;
    
    &:hover {
        background-color: ${({theme:e})=>e.colors.surface};
        color: ${({theme:e})=>e.colors.text};
    }
`,SK=sn.label`
    display: block;
    margin-bottom: 8px;
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.85rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    width: 100%;
`,EK=sn.div`
    display: flex;
    gap: 8px;
    margin-bottom: 20px;
    width: 100%;
`,AK=sn.input`
    flex: 1;
    min-width: 0;
    padding: 12px 16px;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.text};
    font-size: 1rem;
    font-family: inherit;
    transition: all 0.2s;

    &:focus {
        outline: none;
        border-color: ${({theme:e})=>e.colors.primary};
        background-color: ${({theme:e})=>e.colors.background};
    }
    
    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
`,vC=sn.button`
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    border-radius: 10px;
    border: 2px solid ${({theme:e})=>e.colors.border};
    background-color: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.textSecondary};
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;

    &:hover:not(:disabled) {
        border-color: ${({theme:e})=>e.colors.textSecondary};
        color: ${({theme:e})=>e.colors.text};
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
`,TK=sn.div`
    padding: 16px;
    border-radius: 12px;
    background-color: ${({theme:e})=>e.colors.surface};
    margin-top: 24px;
    text-align: center;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 0.9rem;
    width: 100%;
    word-break: break-word;
    
    color: ${e=>e.$status==="error"?e.theme.colors.danger:e.$status==="completed"?e.theme.colors.success:e.$status==="ready"||e.$status==="connected"?e.theme.colors.primary:e.$status==="connecting"?"#f59e0b":e.theme.colors.textSecondary};
    
    border: 1px solid ${e=>e.$status==="error"?e.theme.colors.danger+"40":e.$status==="completed"?e.theme.colors.success+"40":e.$status==="ready"||e.$status==="connected"?e.theme.colors.primary+"40":e.$status==="connecting"?"#f59e0b40":e.theme.colors.border};
`,DK=sn.div`
    background: white;
    padding: 24px;
    border-radius: 16px;
    margin: 20px auto;
    width: fit-content;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
`,kK=({isOpen:e,onClose:t,memoId:n,memoTitle:r})=>{const[o,c]=Re.useState(""),[y,d]=Re.useState("disconnected"),[a,u]=Re.useState(""),[v,f]=Re.useState(!1),g=Re.useRef(null),m=fS(),{t:C}=uf();Re.useEffect(()=>{e&&(o||c(mC()))},[e]);const D=()=>{g.current&&(g.current.destroy(),g.current=null),d("disconnected"),u(""),t()},S=(q,J)=>{d(q),J&&u(J),q==="completed"&&setTimeout(()=>{D()},1e3)},O=()=>(g.current||(g.current=new FS({onStatusChange:S,onDataReceived:()=>{console.log("Data transfer completed")},initialDataMemoId:n})),g.current),N=async()=>{if(o.trim())try{await O().initialize(o)}catch(q){console.error(q)}},U=()=>{navigator.clipboard.writeText(o),f(!0),setTimeout(()=>f(!1),2e3)},W=()=>{if(y==="syncing"||y==="connected")return;g.current&&(g.current.destroy(),g.current=null);const q=mC();c(q),d("disconnected"),u(""),N()};return Re.useEffect(()=>{e&&o&&y==="disconnected"&&N()},[e,o]),e?te.jsx(vK,{onClick:D,children:te.jsxs(yK,{onClick:q=>q.stopPropagation(),children:[te.jsxs(xK,{children:[te.jsxs("h2",{children:[te.jsx(y3,{})," ",C.memo_detail.share_memo," ",te.jsx(PS,{style:{fontSize:"0.9rem",opacity:.6},title:"End-to-End Encrypted"})]}),te.jsx(CK,{onClick:D,children:te.jsx(J2,{})})]}),te.jsx(bK,{children:te.jsxs(wK,{children:[te.jsxs("p",{style:{fontSize:"0.9rem",color:m.colors.textSecondary,marginBottom:"20px"},children:["Sharing: ",te.jsx("strong",{children:r})]}),te.jsx(SK,{children:C.sync.your_room_id}),te.jsxs(EK,{children:[te.jsx(AK,{value:o,onChange:q=>c(q.target.value),disabled:y==="connected"||y==="connecting"||y==="syncing",placeholder:C.sync.enter_custom_id}),te.jsx(vC,{onClick:U,title:v?C.sync.copied:C.sync.copy_id,children:v?te.jsx(y3,{style:{color:m.colors.success}}):te.jsx(HS,{})}),te.jsx(vC,{onClick:W,disabled:y==="syncing"||y==="connected",title:C.sync.regenerate_id,children:te.jsx(zS,{})})]}),te.jsxs("div",{style:{textAlign:"center"},children:[te.jsx(DK,{children:te.jsx(ax,{value:Np(o),size:180,level:"H"})}),te.jsx("p",{style:{fontSize:"0.85rem",color:m.colors.textSecondary,marginTop:-8},children:y==="connected"||y==="syncing"?C.sync.connected_to_peer:C.sync.scan_hint})]}),(a||y!=="disconnected")&&te.jsxs(TK,{$status:y,children:[y==="connecting"&&te.jsx(Q2,{className:"fa-spin"}),a||(y==="ready"?C.sync.ready_to_share:y==="connected"?C.sync.connected:"")]})]})})]})}):null},_K=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1100;
  animation: fadeIn 0.2s ease-out;

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
`,MK=sn.div`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
  padding: 24px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  gap: 16px;
  animation: slideUp 0.2s ease-out;

  @keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
`,OK=sn.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  
  h3 {
    margin: 0;
    font-size: 1.25rem;
    color: ${({theme:e})=>e.colors.text};
  }
`,IK=sn.button`
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  
  &:hover {
    background: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.text};
  }
`,RK=sn.p`
  margin: 0;
  color: ${({theme:e})=>e.colors.textSecondary};
  line-height: 1.5;
`,NK=sn.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,yC=sn.button`
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 10px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e,$variant:t})=>t==="danger"?"rgba(239, 68, 68, 0.1)":e.colors.surface};
  color: ${({theme:e,$variant:t})=>t==="danger"?e.colors.danger:e.colors.text};
  cursor: pointer;
  font-weight: 600;
  text-align: left;
  transition: all 0.2s;

  &:hover {
    background: ${({theme:e,$variant:t})=>t==="danger"?"rgba(239, 68, 68, 0.2)":e.colors.border};
    transform: translateY(-1px);
  }

  svg {
    font-size: 1.25rem;
  }
`,LK=({onClose:e,onDeleteMemoOnly:t,onDeleteThread:n,isThreadHead:r})=>{const{t:o}=uf();return te.jsx(_K,{onClick:e,children:te.jsxs(MK,{onClick:c=>c.stopPropagation(),children:[te.jsxs(OK,{children:[te.jsx("h3",{children:o.memo_detail.delete}),te.jsx(IK,{onClick:e,children:te.jsx(tg,{})})]}),te.jsx(RK,{children:r?o.memo_detail.delete_thread_confirm:o.memo_detail.delete_confirm}),te.jsxs(NK,{children:[r&&n&&te.jsxs(yC,{onClick:n,$variant:"danger",children:[te.jsx(qh,{}),te.jsx("div",{children:te.jsx("div",{style:{fontSize:"1rem"},children:o.memo_detail.delete_thread_entire})})]}),te.jsxs(yC,{onClick:t,$variant:r?void 0:"danger",children:[r?te.jsx(ES,{}):te.jsx(qh,{}),te.jsx("div",{children:te.jsx("div",{style:{fontSize:"1rem"},children:r?o.memo_detail.delete_memo_only:o.memo_detail.delete})})]})]})]})})},xC=sn.div`
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0;
  width: 100%;
`,BK=sn.div`
  margin: 24px 32px 0 32px;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  padding-bottom: 0.25rem;
`,F2=sn.div`
  padding: 0 32px;
`,FK=sn.input`
  font-size: 2rem;
  font-weight: 700;
  width: 100%;
  border: none;
  background: transparent;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: 0.5rem;
  
  &:focus {
    outline: none;
    border-bottom: 2px solid ${({theme:e})=>e.colors.primary};
  }
`,PK=sn.h1`
  font-size: 2rem;
  margin: 0 0 0.5rem 0;
  color: ${({theme:e})=>e.colors.text};
`,zK=sn.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
  flex-wrap: wrap;
`,HK=sn.input`
  background: ${({theme:e})=>e.colors.surface};
  border: 1px solid ${({theme:e})=>e.colors.border};
  color: ${({theme:e})=>e.colors.text};
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
`,UK=sn.input`
    background: ${({theme:e})=>e.colors.surface};
    border: 1px solid ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.text};
    padding: 0.25rem 2.2rem 0.25rem 0.5rem;
    border-radius: 4px;
    width: 210px;
`,jK=sn.div`
    position: relative;
    display: flex;
    align-items: center;
`,WK=sn(u_)`
    position: absolute;
    right: 8px;
    color: ${({theme:e})=>e.colors.primary};
    cursor: pointer;
    font-size: 1.1rem;
    stroke-width: 2.5;
`,GK=sn.div`
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
`,dd=sn.button`
  display: flex;
  align-items: center;
  gap: 0.2rem;
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e,$variant:t})=>t==="primary"?e.colors.primary:e.colors.surface};
  color: ${({theme:e,$variant:t})=>t==="primary"?"#fff":t==="danger"?e.colors.danger:e.colors.text};
  cursor: pointer;
  font-weight: 500;
  font-size: 0.75rem;

  &:hover {
    background: ${({theme:e,$variant:t})=>t==="primary"?e.colors.primaryHover:e.colors.border};
  }
`,P2=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},bC=()=>{const{id:e}=j9(),t=Bd(),[n]=LD(),{setSearchQuery:r}=mS(),{t:o,language:c}=uf(),y=!e,{registerGuard:d,unregisterGuard:a}=nx(),[u,v]=Re.useState(!1),f=Re.useRef(0),g=Re.useRef(!1),[m,C]=Re.useState(y),D=()=>{C(!0),window.history.pushState({editing:!0},"")},S=()=>{g.current=!0,window.history.back()};Re.useEffect(()=>{if(m){const oe="memo-edit-guard";return d(oe,()=>{if(g.current)return C(!1),I0.ALLOW_NAVIGATION;const Z=Date.now();return Z-f.current<2e3?(g.current=!0,C(!1),I0.ALLOW_NAVIGATION):(f.current=Z,v(!0),I0.PREVENT_NAVIGATION)}),()=>a(oe)}},[m,d,a]);const O=m,N=oe=>{oe!==m&&(oe?D():S())},[U,W]=Re.useState(""),[q,J]=Re.useState(""),[ne,ve]=Re.useState(""),[Se,Be]=Re.useState(""),[Ue,qe]=Re.useState(!1),[mt,ut]=Re.useState(!1),[ge,me]=Re.useState(!1),Ie=q.trim().startsWith("```fabric"),lt=dm(()=>e?ro.memos.get(Number(e)):void 0,[e]);Re.useEffect(()=>{const oe=n.get("edit")==="true";lt?(W(lt.title),J(lt.content),ve(lt.tags.join(", ")),Be(c==="ko"?_0(lt.createdAt,"yyyy. MM. dd."):P2(lt.createdAt)),N(oe)):y&&(W(""),J(""),ve(""),Be(c==="ko"?_0(new Date,"yyyy. MM. dd."):P2(new Date)),N(!0),n.get("drawing")==="true"&&me(!0))},[lt,y,n]);const Me=async()=>{const oe=ne.split(",").map(rt=>rt.trim()).filter(Boolean),Z=new Date;let be=U.trim(),Te="normal";const Fe=!!be,ct=!!q.trim();if(!Fe&&!ct)return;if(Fe)Te="normal";else{const rt=q.trim();rt?rt.startsWith("```fabric")?be=o.memo_detail.untitled:be=rt.slice(0,30)+(rt.length>30?"...":""):be=o.memo_detail.untitled,Te="normal"}let At;if(c==="ko"&&/^\d{4}\.\s*\d{1,2}\.\s*\d{1,2}\.?$/.test(Se)){const rt=Se.split(".").map(_t=>_t.trim()).filter(Boolean);At=new Date(parseInt(rt[0]),parseInt(rt[1])-1,parseInt(rt[2]));const jt=lt?.createdAt||new Date;At.setHours(jt.getHours(),jt.getMinutes(),jt.getSeconds())}else At=new Date(Se+"T"+_0(lt?.createdAt||new Date,"HH:mm:ss"));if(isNaN(At.getTime())&&(At=new Date),e)await ro.memos.update(Number(e),{title:be,content:q,tags:oe,createdAt:At,updatedAt:Z,type:Te}),n.get("edit")&&t(`/memo/${e}`,{replace:!0}),N(!1);else{const rt=await ro.memos.add({title:be,content:q,tags:oe,createdAt:At,updatedAt:Z,type:Te});t(`/memo/${rt}`)}},ue=async()=>{e&&ut(!0)},ce=async()=>{e&&(await ro.memos.delete(Number(e)),await ro.comments.where("memoId").equals(Number(e)).delete(),ut(!1),t("/",{replace:!0}))};return!y&&!lt?te.jsx(xC,{children:o.memo_detail.loading}):te.jsxs(xC,{children:[te.jsxs(BK,{children:[O?te.jsx(FK,{value:U,onChange:oe=>W(oe.target.value),placeholder:o.memo_detail.title_placeholder}):te.jsx(PK,{children:lt?.title}),te.jsx(zK,{children:O?te.jsxs(te.Fragment,{children:[te.jsxs(jK,{children:[te.jsx(UK,{type:c==="ko"?"text":"date",value:Se,onChange:oe=>Be(oe.target.value),placeholder:c==="ko"?"YYYY. MM. DD.":void 0}),te.jsx(WK,{onClick:()=>{const oe=document.getElementById("memo-date-picker");oe&&(oe.showPicker?.()||oe.click())}}),te.jsx("input",{id:"memo-date-picker",type:"date",style:{position:"absolute",opacity:0,width:0,height:0},onChange:oe=>{const Z=new Date(oe.target.value);isNaN(Z.getTime())||Be(c==="ko"?_0(Z,"yyyy. MM. dd."):P2(Z))}})]}),te.jsx(HK,{value:ne,style:{flex:1},onChange:oe=>ve(oe.target.value),placeholder:o.memo_detail.tags_placeholder})]}):te.jsxs(te.Fragment,{children:[te.jsx("span",{children:lt&&_0(lt.createdAt,c==="ko"?"yyyy M d":"MMM d, yyyy")}),lt?.tags.map(oe=>te.jsx("span",{onClick:()=>r(`tag:${oe}`),style:{background:"#eee",padding:"2px 6px",borderRadius:"4px",fontSize:"12px",color:"#333",cursor:"pointer"},children:oe},oe))]})}),te.jsx(GK,{children:O?te.jsxs(te.Fragment,{children:[te.jsxs(dd,{$variant:"primary",onClick:Me,disabled:!U.trim()&&!q.trim(),style:{opacity:!U.trim()&&!q.trim()?.5:1,cursor:!U.trim()&&!q.trim()?"not-allowed":"pointer"},children:[te.jsx(_S,{size:12})," ",o.memo_detail.save]}),!y&&te.jsxs(te.Fragment,{children:[te.jsxs(dd,{$variant:"danger",onClick:ue,children:[te.jsx(qh,{size:12})," ",o.memo_detail.delete]}),te.jsxs(dd,{onClick:()=>{n.get("edit")&&t(`/memo/${e}`,{replace:!0}),N(!1)},children:[te.jsx(tg,{size:12})," ",o.memo_detail.cancel]})]})]}):te.jsxs(te.Fragment,{children:[te.jsxs(dd,{onClick:()=>N(!0),children:[te.jsx(SS,{size:12})," ",o.memo_detail.edit]}),te.jsxs(dd,{$variant:"danger",onClick:ue,children:[te.jsx(qh,{size:12})," ",o.memo_detail.delete]}),te.jsxs(dd,{onClick:()=>qe(!0),children:[te.jsx(OS,{size:12})," ",o.memo_detail.share_memo]})]})})]}),O?te.jsx(F2,{children:te.jsx(Fy,{value:q,onChange:J})}):te.jsxs(te.Fragment,{children:[Ie?te.jsx(F2,{children:te.jsx("div",{style:{cursor:"pointer"},onClick:()=>me(!0),children:te.jsx(zy,{content:q})})}):te.jsx(F2,{children:te.jsx(zy,{content:q})}),te.jsx("div",{style:{padding:"0 32px"},children:!y&&lt&&te.jsx(mK,{memoId:lt.id})})]}),!y&&lt&&te.jsx(kK,{isOpen:Ue,onClose:()=>qe(!1),memoId:lt.id,memoTitle:lt.title}),mt&&te.jsx(LK,{onClose:()=>ut(!1),onDeleteMemoOnly:ce,onDeleteThread:()=>ce(),isThreadHead:!1}),u&&te.jsx(lx,{variant:"warning",position:"bottom",icon:te.jsx(rx,{size:14}),message:o.android?.exit_warning||"Press back again to exit editing.",onClose:()=>v(!1)}),ge&&te.jsx(AA,{initialData:(()=>{const oe=q.match(/```fabric\s*([\s\S]*?)\s*```/);return oe?oe[1]:void 0})(),onSave:async oe=>{const Z=`\`\`\`fabric
${oe}
\`\`\``;J(Z),e&&lt&&await ro.memos.update(Number(e),{content:Z,updatedAt:new Date}),me(!1)},onClose:()=>me(!1)})]})},YK=sn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: ${({theme:e})=>e.colors.textSecondary};
`,XK=sn.div`
  background: ${({theme:e})=>e.colors.surface};
  padding: 2rem;
  border-radius: 50%;
  margin-bottom: 1rem;
`,VK=()=>{const{t:e}=uf();return te.jsxs(YK,{children:[te.jsx(XK,{children:te.jsx(ES,{size:48})}),te.jsx("h2",{children:e.memo_detail.empty_state_title})]})},KK=sn.div`
  padding: 24px 32px;
  margin: 0;
  height: 100%;
  overflow-y: auto;
  width: 100%;
  
  @media (max-width: 600px) {
    padding: 16px;
  }
`,E1=sn.div`
  margin-bottom: 2rem;
  animation: fadeIn 0.3s ease-out;

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
`,ZK=sn.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  padding-bottom: 1rem;
`,wC=sn.h2`
  margin: 0;
  font-size: 1.5rem;
  color: ${({theme:e})=>e.colors.text};
`,qK=sn.div`
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
`,lp=sn.button`
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.25rem;
  background: ${({theme:e})=>e.colors.surface};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  width: 100%;
  text-align: left;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.background};
  }

  &:active {
    transform: translateY(0);
  }

  .icon-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: ${({theme:e})=>e.colors.background};
    border-radius: 10px;
    color: ${({theme:e})=>e.colors.primary};
    font-size: 1.25rem;
  }

  .label-wrapper {
    flex: 1;
    
    .title {
      display: block;
      font-weight: 600;
      font-size: 1.05rem;
      color: ${({theme:e})=>e.colors.text};
      margin-bottom: 0.2rem;
    }
    
    .desc {
      display: block;
      font-size: 0.85rem;
      color: ${({theme:e})=>e.colors.textSecondary};
      opacity: 0.8;
    }
  }

  .chevron {
    color: ${({theme:e})=>e.colors.textSecondary};
    opacity: 0.5;
  }
`,QK=sn.button`
  background: transparent;
  border: none;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;

  &:hover {
    background: ${({theme:e})=>e.colors.border};
    color: ${({theme:e})=>e.colors.text};
  }

  @media (max-width: 768px) {
    display: none;
  }
`,JK=sn.input`
  flex: 1;
  padding: 0.75rem 1rem;
  border-radius: 8px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,gd=sn.button`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
  padding: 0.75rem 1.25rem;
  background: ${({theme:e,$variant:t})=>t==="success"?"#10b981":t==="secondary"?"transparent":e.colors.primary};
  color: ${({$variant:e})=>e==="secondary"?"inherit":"white"};
  border: ${({$variant:e,theme:t})=>e==="secondary"?`1px solid ${t.colors.border}`:"none"};
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  font-size: 0.95rem;
  transition: all 0.2s;
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  &:hover:not(:disabled) {
    filter: brightness(1.1);
    transform: translateY(-1px);
    ${({$variant:e,theme:t})=>e==="secondary"&&`
      background: ${t.colors.border};
      border-color: ${t.colors.textSecondary};
    `}
  }
`,$K=sn.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
`,eZ=sn.div`
  background: ${({theme:e})=>e.colors.surface};
  padding: 2rem;
  border-radius: 12px;
  width: 90%;
  max-width: 500px;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
`,tZ=sn.h3`
  margin-top: 0;
  margin-bottom: 1rem;
  color: ${({theme:e})=>e.colors.text};
`,nZ=sn.div`
  flex: 1;
  overflow-y: auto;
  margin-bottom: 1.5rem;
`,rZ=sn.div`
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
`,CC=sn.label`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.25rem;
  padding: 1rem;
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 8px;
  cursor: pointer;
  color: ${({theme:e})=>e.colors.text};
  transition: all 0.2s;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
  }

  input {
    width: 18px;
    height: 18px;
    accent-color: ${({theme:e})=>e.colors.primary};
  }
`,iZ=sn.div`
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 8px;
  max-height: 200px;
  overflow-y: auto;
  padding: 0.5rem;
  margin-top: 0.5rem;
  background: ${({theme:e})=>e.colors.surface};
`,aZ=sn.label`
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.25rem;
  padding: 0.5rem;
  border-radius: 4px;
  font-size: 0.9rem;
  cursor: pointer;
  color: ${({theme:e})=>e.colors.text};
  
  &:hover {
    background: ${({theme:e})=>e.colors.background};
  }

  input {
    accent-color: ${({theme:e})=>e.colors.primary};
  }
`,oZ=sn.select`
  padding: 0.75rem 1rem;
  border-radius: 8px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  width: 100%;
  cursor: pointer;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,sZ=sn.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  
  li {
    margin-bottom: 1rem;
    padding-left: 1rem;
    position: relative;
    line-height: 1.6;
    color: ${({theme:e})=>e.colors.text};
    
    &::before {
      content: '';
      position: absolute;
      left: 0;
      color: ${({theme:e})=>e.colors.primary};
      font-weight: bold;
    }
  }
`,lZ=()=>{const{t:e,language:t,setLanguage:n}=uf(),{theme:r,setThemeByName:o}=tx(),[c,y]=Re.useState("main"),d=Re.useRef(null),[a,u]=Re.useState(!1),[v,f]=Re.useState("all"),[g,m]=Re.useState(new Set),[C,D]=Re.useState(""),S=dm(()=>ro.memos.orderBy("createdAt").reverse().toArray()),O=()=>{u(!0),f("all"),m(new Set),D(`handmemo-backup-${new Date().toISOString().slice(0,10)}`)},N=async()=>{v==="all"?await p3(void 0,C):await p3(Array.from(g),C),u(!1)},U=ve=>{const Se=new Set(g);Se.has(ve)?Se.delete(ve):Se.add(ve),m(Se)},W=async ve=>{const Se=ve.target.files?.[0];if(Se&&confirm(e.settings.import_confirm))try{await O_(Se),alert(e.settings.import_success)}catch(Be){alert(e.settings.import_failed+Be)}},q=async()=>{const ve={title:"HandMemo",text:e.settings.help_desc,url:window.location.origin+window.location.pathname};try{navigator.share?await navigator.share(ve):(await navigator.clipboard.writeText(ve.url),alert(e.settings.share_success))}catch(Se){console.log("Share failed:",Se)}},J=async()=>{if(confirm(e.settings.reset_confirm))try{await ro.delete(),localStorage.clear(),alert(e.settings.reset_success),window.location.reload()}catch(ve){console.error("Reset failed:",ve),alert("Reset failed: "+ve)}},ne=ve=>te.jsxs(ZK,{children:[te.jsx(QK,{onClick:()=>y("main"),children:te.jsx(s_,{size:20})}),te.jsx(wC,{children:ve})]});return te.jsxs(KK,{children:[c==="main"&&te.jsxs(E1,{children:[te.jsx(wC,{style:{marginBottom:"1.5rem"},children:e.settings.title}),te.jsxs(qK,{children:[te.jsxs(lp,{onClick:()=>y("data"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(f_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.data_management}),te.jsx("span",{className:"desc",children:"Export, import or backup data"})]}),te.jsx(Ug,{className:"chevron"})]}),te.jsxs(lp,{onClick:()=>y("theme"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(g_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.theme_selection}),te.jsx("span",{className:"desc",children:e.settings.theme_desc})]}),te.jsx(Ug,{className:"chevron"})]}),te.jsxs(lp,{onClick:()=>y("language"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(h_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.language}),te.jsx("span",{className:"desc",children:"Change display language"})]}),te.jsx(Ug,{className:"chevron"})]}),te.jsxs(lp,{onClick:()=>y("about"),children:[te.jsx("div",{className:"icon-wrapper",children:te.jsx(d_,{})}),te.jsxs("div",{className:"label-wrapper",children:[te.jsx("span",{className:"title",children:e.settings.help_title}),te.jsx("span",{className:"desc",children:"App info and user guide"})]}),te.jsx(Ug,{className:"chevron"})]})]})]}),c==="data"&&te.jsxs(E1,{children:[ne(e.settings.data_management),te.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem"},children:[te.jsxs(gd,{onClick:O,children:[te.jsx(Rp,{})," ",e.settings.export_backup]}),te.jsxs(gd,{onClick:()=>d.current?.click(),$variant:"success",children:[te.jsx(C_,{})," ",e.settings.import_restore]}),te.jsx("input",{type:"file",ref:d,style:{display:"none"},accept:".json",onChange:W}),te.jsx("div",{style:{margin:"1rem 0",borderBottom:"1px solid var(--border-color)"}}),te.jsxs("div",{style:{padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[te.jsxs("h4",{style:{margin:"0 0 0.5rem 0",color:"var(--danger-color)",display:"flex",alignItems:"center",gap:"8px"},children:[te.jsx(rx,{})," ",e.settings.factory_reset]}),te.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",opacity:.8},children:e.settings.reset_confirm}),te.jsxs(gd,{onClick:J,$variant:"secondary",style:{color:"var(--danger-color)",borderColor:"var(--danger-color)",width:"100%"},children:[te.jsx(qh,{})," ",e.settings.factory_reset]})]})]})]}),c==="theme"&&te.jsxs(E1,{children:[ne(e.settings.theme_selection),te.jsx("h4",{style:{marginBottom:"1rem",opacity:.8},children:"Light Modes"}),te.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:Object.entries(k0).filter(([ve,Se])=>Se.mode==="light").map(([ve,Se])=>te.jsxs("div",{onClick:()=>o(ve),style:{padding:"1rem",background:Se.surface,borderRadius:"12px",border:`2px solid ${r.themeName===ve?r.colors.primary:Se.border}`,cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:"0.75rem",alignItems:"center"},children:[te.jsxs("div",{style:{width:"100%",height:"40px",background:Se.background,borderRadius:"6px",display:"flex",padding:"4px",gap:"4px"},children:[te.jsx("div",{style:{flex:1,background:Se.primary,borderRadius:"3px"}}),te.jsx("div",{style:{flex:1,background:Se.textSecondary,borderRadius:"3px",opacity:.5}})]}),te.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:Se.text},children:ve})]},ve))}),te.jsx("h4",{style:{marginBottom:"1rem",opacity:.8},children:"Dark Modes"}),te.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"1rem"},children:Object.entries(k0).filter(([ve,Se])=>Se.mode==="dark").map(([ve,Se])=>te.jsxs("div",{onClick:()=>o(ve),style:{padding:"1rem",background:Se.surface,borderRadius:"12px",border:`2px solid ${r.themeName===ve?r.colors.primary:Se.border}`,cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:"0.75rem",alignItems:"center"},children:[te.jsxs("div",{style:{width:"100%",height:"40px",background:Se.background,borderRadius:"6px",display:"flex",padding:"4px",gap:"4px"},children:[te.jsx("div",{style:{flex:1,background:Se.primary,borderRadius:"3px"}}),te.jsx("div",{style:{flex:1,background:Se.textSecondary,borderRadius:"3px",opacity:.5}})]}),te.jsx("span",{style:{fontSize:"0.9rem",fontWeight:600,color:Se.text},children:ve})]},ve))})]}),c==="language"&&te.jsxs(E1,{children:[ne(e.settings.language),te.jsxs(oZ,{value:t,onChange:ve=>n(ve.target.value),children:[te.jsx("option",{value:"en",children:e.settings.english}),te.jsx("option",{value:"ko",children:e.settings.korean})]})]}),c==="about"&&te.jsxs(E1,{children:[ne(e.settings.help_title),te.jsx("p",{style:{marginBottom:"1.5rem",lineHeight:"1.6",fontSize:"1.1rem",fontWeight:500},children:e.settings.help_desc}),te.jsxs(sZ,{children:[te.jsx("li",{children:e.settings.help_local_db}),te.jsx("li",{children:e.settings.help_offline}),te.jsx("li",{children:e.settings.help_sync}),te.jsx("li",{children:e.settings.help_threads}),te.jsx("li",{children:e.settings.help_share_memo}),te.jsx("li",{children:e.settings.help_backup}),te.jsx("li",{children:e.settings.help_markdown}),te.jsx("li",{children:e.settings.help_tags}),te.jsx("li",{children:e.settings.help_comments}),te.jsx("li",{children:e.settings.help_math})]}),te.jsxs("div",{style:{marginTop:"2.5rem",padding:"1.5rem",background:"var(--surface-color)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[te.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"var(--text-color)"},children:e.settings.share_app}),te.jsx("p",{style:{margin:"0 0 1rem 0",fontSize:"0.9rem",color:"var(--text-secondary)"},children:e.settings.share_desc}),te.jsxs(gd,{onClick:q,style:{width:"100%"},children:[te.jsx(OS,{})," ",e.settings.share_app]})]}),te.jsxs("div",{style:{marginTop:"2.5rem",padding:"1.25rem",background:"rgba(0,0,0,0.03)",borderRadius:"12px",border:"1px solid var(--border-color)",fontSize:"0.85rem"},children:[te.jsx("h5",{style:{margin:"0 0 0.5rem 0",color:"var(--text-color)",fontWeight:600},children:e.settings.disclaimer_title}),te.jsx("p",{style:{margin:0,color:"var(--text-secondary)",lineHeight:"1.5"},children:e.settings.disclaimer_text})]}),te.jsx("div",{style:{marginTop:"2rem",padding:"1rem",background:"var(--surface-color)",borderRadius:"8px",fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center"},children:"HandMemo v1.3.0  Local-First Reading Tracker & Memo"})]}),a&&te.jsx($K,{onClick:()=>u(!1),children:te.jsxs(eZ,{onClick:ve=>ve.stopPropagation(),children:[te.jsx(tZ,{children:e.settings.export_data}),te.jsxs(nZ,{children:[te.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:600},children:e.settings.export_mode}),te.jsxs(CC,{children:[te.jsx("input",{type:"radio",checked:v==="all",onChange:()=>f("all")}),e.settings.all_data]}),te.jsxs(CC,{children:[te.jsx("input",{type:"radio",checked:v==="selected",onChange:()=>f("selected")}),e.settings.select_memos]}),te.jsxs("div",{style:{marginTop:"1.5rem",marginBottom:"1.5rem"},children:[te.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text-secondary)",fontSize:"0.9rem"},children:e.settings.filename_optional}),te.jsx(JK,{value:C,onChange:ve=>D(ve.target.value),placeholder:e.settings.enter_filename,style:{width:"100%"}})]}),v==="selected"&&te.jsx(iZ,{children:S?.length===0?te.jsx("div",{style:{padding:"0.5rem",opacity:.6},children:e.settings.no_memos_found}):S?.map(ve=>te.jsxs(aZ,{children:[te.jsx("input",{type:"checkbox",checked:g.has(ve.id),onChange:()=>U(ve.id)}),te.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:ve.title||e.sidebar.untitled})]},ve.id))})]}),te.jsxs(rZ,{children:[te.jsx(gd,{onClick:()=>u(!1),$variant:"secondary",children:e.settings.cancel}),te.jsxs(gd,{onClick:N,disabled:v==="selected"&&g.size===0,children:[te.jsx(Rp,{})," ",e.settings.export]})]})]})})]})},uZ=()=>{const e=lf(),t=Bd(),{t:n}=uf(),[r,o]=Re.useState(!1),c=Re.useRef(0),y=e.pathname==="/"||e.pathname==="",{checkGuards:d}=nx();return Re.useEffect(()=>{(!window.history.state||!window.history.state.isGuard)&&window.history.pushState({isGuard:!0},"");const u=v=>{if(window.history.state?.fabricOpen)return;const f=d();if(f===I0.PREVENT_NAVIGATION||f==="PREVENT"){window.history.pushState({isGuard:!0},"");return}if(!(f===I0.ALLOW_NAVIGATION||f==="ALLOW")&&(!v.state||!v.state.isGuard))if(!y)t("/",{replace:!0}),window.history.pushState({isGuard:!0},"");else{const g=Date.now();g-c.current<2e3?window.history.back():(c.current=g,o(!0),window.history.pushState({isGuard:!0},""))}};return window.addEventListener("popstate",u),()=>{window.removeEventListener("popstate",u)}},[y,t,d]),r?te.jsx(lx,{variant:"warning",position:"bottom",icon:te.jsx(rx,{size:14}),message:n.android?.exit_warning||"Press back again to exit.",onClose:()=>o(!1)}):null};function cZ(){return te.jsx(Vk,{children:te.jsx(Kk,{children:te.jsx(Gk,{children:te.jsx(Yk,{children:te.jsxs(MD,{children:[te.jsx(uZ,{}),te.jsx(aD,{children:te.jsxs(A0,{path:"/",element:te.jsx(qF,{}),children:[te.jsx(A0,{index:!0,element:te.jsx(VK,{})}),te.jsx(A0,{path:"memo/new",element:te.jsx(bC,{})}),te.jsx(A0,{path:"memo/:id",element:te.jsx(bC,{})}),te.jsx(A0,{path:"settings",element:te.jsx(lZ,{})}),te.jsx(A0,{path:"*",element:te.jsx(nD,{to:"/",replace:!0})})]})})]})})})})})}r9.createRoot(document.getElementById("root")).render(te.jsx(Re.StrictMode,{children:te.jsx(cZ,{})}));
